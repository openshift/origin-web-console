function aa(e) {
var t = e.cloneNode;
delete e.cloneNode, e.cloneNode = function(e) {
return e === g && (e = j), t.call(this, e);
};
}

function ba(e) {
(e = e.__proto__ || e.constructor.prototype) && e !== Array.prototype && ca.forEach(function(t) {
e[t] || (e[t] = Array.prototype[t]);
});
}

function v(e, t, n) {
return da.call(e, t, q.call(arguments, 2));
}

function w(e, t) {
for (var n = 1; n < arguments.length; n++) {
var i, r = arguments[n];
for (i in r) u(r, i) && !u(e, i) && (e[i] = r[i]);
}
return e;
}

function x(e, t) {
if (e == k && !t) throw new TypeError();
return ha && "string" == typeof e && e ? r.call(e, "") : Object(e);
}

function ja(e) {
var t = Object.create(DOMException.prototype);
throw t.code = DOMException[e], t.message = e + ": DOM Exception " + t.code, t;
}

function ka() {
return l;
}

function la(e) {
return e;
}

function Ja(e) {
try {
return Object.defineProperty(e, "sentinel", {}), "sentinel" in e;
} catch (e) {}
}

function Ka(e) {
try {
return e.sentinel2 = 0, 0 === Object.getOwnPropertyDescriptor(e, "sentinel2").value;
} catch (e) {}
}

function _classCallCheck(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}

function mergeDeep(e) {
"use strict";
return angular.forEach(arguments, function(t) {
t !== e && angular.forEach(t, function(t, n) {
e[n] && e[n].constructor && e[n].constructor === Object ? mergeDeep(e[n], t) : e[n] = t;
});
}), e;
}

function LabelSelector(e, t) {
this._conjuncts = {}, this._emptySelectsAll = !!t, this._OPERATOR_MAP = {
In: "in",
NotIn: "not in",
Exists: "exists",
DoesNotExist: "does not exist"
}, this._REVERSE_OPERATOR_MAP = {
in: "In",
"not in": "NotIn",
exists: "Exists",
"does not exist": "DoesNotExist"
}, e && (e.matchLabels || e.matchExpressions ? (angular.forEach(e.matchLabels, function(e, t) {
this.addConjunct(t, "in", [ e ]);
}, this), angular.forEach(e.matchExpressions, function(e) {
this.addConjunct(e.key, this._OPERATOR_MAP[e.operator], e.values);
}, this)) : angular.forEach(e, function(e, t) {
e || "" === e ? this.addConjunct(t, "in", [ e ]) : this.addConjunct(t, "exists", []);
}, this));
}

function ResourceGroupVersion(e, t, n) {
return this.resource = e, this.group = t, this.version = n, this;
}

var g = void 0, j = !0, k = null, l = !1, n = window, o, p = Object.prototype, da = Function.prototype.apply, q = Array.prototype.slice, r = String.prototype.split, ea = Array.prototype.splice, s, fa, ga, t = Function.prototype.bind || function(e, t) {
var n = this, i = q.call(arguments, 1);
return function() {
return da.call(n, e, i.concat(q.call(arguments)));
};
}, u = t.call(Function.prototype.call, p.hasOwnProperty), ha = "a" != Object("a")[0] || !(0 in Object("a")), ia = p.toString, ca = "every filter forEach indexOf join lastIndexOf map reduce reduceRight reverse slice some toString".split(" "), y = n.Element && n.Element.prototype || {}, z = t.call(document.__orig__createElement__ || document.createElement, document), A = z("p"), B, ma = /\\s+$/g, na = /\\s+/g, C = 1, D, oa = /^(\w+)?((?:\.(?:[\w\-]+))+)?$|^#([\w\-]+$)/, pa = /\s*([,>+~ ])\s*/g, qa, E, F, G, I, J, K, ra, sa, ta, ua, L, va, M, N = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff", wa, xa, ya, za, O, Q, Aa, Ba, R, S = n.Date, T, Ca, U, V, W, Da, Ga, X, Y;

for ((W = {}).names = (W.agent = navigator.userAgent.toLowerCase()).match(/(mozilla|compatible|chrome|webkit|safari|opera|msie|iphone|ipod|ipad)/gi), D = W.names && W.names.length || 0; 0 < D--; ) W[W.names[D]] = j;

W.mozilla = W.mozilla && !W.compatible && !W.webkit, W.safari = W.safari && !W.chrome, W.msie = W.msie && !W.opera, o = W.msie || g, n.browser = W, n.HTMLDocument || (n.HTMLDocument = n.Document), n.Document || (n.Document = n.HTMLDocument), Object.append = w, Object.extend || (Object.extend = function(e, t) {
for (var n = 1; n < arguments.length; n++) {
var i, r = arguments[n];
for (i in r) u(r, i) && (e[i] = r[i]);
}
return e;
}), Object.inherit = function(e, t) {
(e.prototype = Object.create(e.superclass = t.prototype)).constructor = e;
}, Function.prototype.bind || (Function.prototype.bind = function(e, t) {
function n() {
return da.call(i, this instanceof n ? this : e, r.concat(q.call(arguments)));
}
if ("function" != typeof this && (!o || 0 !== M.call(this + "").indexOf("function"))) throw new TypeError("Function.prototype.bind called on incompatible " + this);
var i = this, r = q.call(arguments, 1);
return i.prototype && (n.prototype = Object.create(i.prototype)), n;
});

var $ = "toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "), Ha = !{
toString: k
}.propertyIsEnumerable($[0]), Ia = $.length;

if (w(Object, {
keys: function(e) {
if ("object" != typeof e && "function" != typeof e || e === k) throw new TypeError("Object.keys called on a non-object");
var t, n = [];
for (t in e) u(e, t) && n.push(t);
if (Ha) for (t = 0; t < Ia; t++) u(e, $[t]) && n.push($[t]);
return n;
},
getOwnPropertyNames: function(e) {
return Object.keys(e);
},
seal: la,
freeze: la,
preventExtensions: la,
isSealed: ka,
isFrozen: ka,
isExtensible: function(e) {
if (Object(e) !== e) throw new TypeError();
for (var t = ""; u(e, t); ) t += "?";
e[t] = j;
var n = u(e, t);
return delete e[t], n;
},
getPrototypeOf: function(e) {
return e.__proto__ || (e.constructor ? e.constructor.prototype : p);
},
create: function(e, t) {
var n;
if (e === k) n = {
__proto__: k
}; else {
if ("object" != typeof e) throw new TypeError("typeof prototype[" + typeof e + "] != 'object'");
(n = function() {}).prototype = e, (n = new n()).__proto__ = e;
}
return t && Object.defineProperties(n, t), n;
},
is: function(e, t) {
return e === t ? 0 === e ? 1 / e == 1 / t : j : e !== e && t !== t;
},
isnt: function(e, t) {
return !Object.is(e, t);
}
}), !Object.defineProperty || (ya = Ja({}), za = Ja(A), ya && za) || (O = Object.defineProperty, Q = Object.defineProperties), Object.defineProperty && !O || (Object.defineProperty = function(e, t, n) {
if ("object" != typeof e && "function" != typeof e || e === k) throw new TypeError("Object.defineProperty called on non-object: " + e);
if ("object" != typeof n && "function" != typeof n || n === k) throw new TypeError("Property description must be an object: " + n);
if (O) try {
return O.call(Object, e, t, n);
} catch (i) {
if (-2146823252 === i.number) {
n.enumerable = l;
try {
return O.call(Object, e, t, n);
} catch (e) {}
}
}
if (n.value !== g) if (e.__defineGetter__ && (e.__lookupGetter__(t) || e.__lookupSetter__(t))) {
var i = e.__proto__;
e.__proto__ = p, delete e[t], e[t] = n.value, e.__proto__ = i;
} else e[t] = n.value; else if (e.__defineGetter__) n.get !== g && e.__defineGetter__(t, n.get), n.set !== g && e.__defineSetter__(t, n.set); else {
if (!Object.defineProperty.ielt8) throw new TypeError("getters & setters not supported");
n.get !== g && (e["get" + t] = n.get), n.set !== g && (e["set" + t] = n.set);
}
return e;
}), y.ie && 8 > o && (y.ielt8 = Object.defineProperty.ielt8 = j), Object.defineProperties && !Q || (Object.defineProperties = function(e, t) {
if (Q) try {
return Q.call(Object, e, t);
} catch (e) {}
for (var n in t) u(t, n) && Object.defineProperty(e, n, t[n]);
return e;
}), !Object.getOwnPropertyDescriptor || (Aa = Ka({}), (Ba = Ka(A)) && Aa) || (R = Object.getOwnPropertyDescriptor), Object.getOwnPropertyDescriptor && !R || (Object.getOwnPropertyDescriptor = function(e, t) {
if ("object" != typeof e && "function" != typeof e || e === k) throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: " + e);
if (R) try {
return R.call(Object, e, t);
} catch (e) {}
if (u(e, t)) {
var n, i, r = {
enumerable: j,
configurable: j
};
if (e.__defineGetter__) {
var o = e.__proto__;
e.__proto__ = p, n = e.__lookupGetter__(t), i = e.__lookupSetter__(t), e.__proto__ = o;
} else Object.defineProperty.ielt8 && (n = e["get" + t], i = e["set" + t]);
return n || i ? (n && (r.get = n), i && (r.set = i), r) : (r.value = e[t], r);
}
}), 2 != [ 1, 2 ].splice(0).length && (Array.prototype.splice = function(e, t) {
return e === g && t === g ? [] : ea.apply(this, [ e === g ? 0 : e, t === g ? this.length - e : t ].concat(q.call(arguments, 2)));
}), ga = function(e) {
if (e instanceof Array || Array.isArray(e)) return e;
if (e.k) return e.k();
var t, n = (e = x(e, j)).length >>> 0;
try {
t = q.call(e);
} catch (e) {}
if (t && t.length === n) return t;
t = [];
for (var i = 0; i < n; i++) i in e && (t[i] = e[i]);
return t;
}, w(Array, {
isArray: function(e) {
return "[object Array]" == ia.call(e);
},
from: ga,
of: function(e) {
return q.call(arguments);
}
}), w(Array.prototype, {
reduce: function(e, t) {
var n = x(this), i = n.length >>> 0, r = 0;
if (0 === i && arguments.length <= 1) throw new TypeError("Array length is 0 and no second argument");
for (t === g && (++r, t = n[0]); r < i; ++r) r in n && (t = v(e, g, t, n[r], r, n));
return t;
},
reduceRight: function(e, t) {
var n = x(this), i = n.length >>> 0;
if (0 === i && arguments.length <= 1) throw new TypeError("Array length is 0 and no second argument");
for (--i, t === g && (--i, t = n[i + 1]); i >= 0; --i) i in n && (t = v(e, g, t, n[i], i, n));
return t;
},
forEach: function(e, t) {
for (var n = x(this), i = n.length >>> 0, r = -1; ++r < i; ) r in n && v(e, t, n[r], r, n);
},
indexOf: function(e, t) {
var n = x(this), i = n.length >>> 0;
if ((t = ~~t) > i) return -1;
for (t = (i + t) % i; t < i && (!(t in n) || n[t] !== e); t++) ;
return t ^ i ? t : -1;
},
lastIndexOf: function(e, t) {
var n, i = x(this), r = i.length >>> 0;
if (!r) return -1;
for (n = r - 1, t !== g && (n = Math.min(n, Number.toInteger(t))), n = n >= 0 ? n : r - Math.abs(n); n >= 0; n--) if (n in i && i[n] === e) return n;
return -1;
},
every: function(e, t, n) {
n === g && (n = j);
var i = n;
return L(this, function(r, o) {
i == n && (i = !!v(e, t, r, o, this));
}, this), i;
},
some: function(e, t) {
return va.call(this, e, t, l);
},
filter: function(e, t) {
for (var n, i = x(this), r = i.length >>> 0, o = [], a = 0; a < r; a++) a in i && v(e, t, n = i[a], a, i) && o.push(n);
return o;
},
map: function(e, t) {
for (var n = x(this), i = n.length >>> 0, r = [], o = 0; o < i; o++) o in n && (r[o] = v(e, t, n[o], o, this));
return r;
},
contains: function(e) {
return !!~this.indexOf(e);
}
}), !Array.prototype.unique) {
var La = function(e, t, n) {
return n.indexOf(e, t + 1) < 0;
};
Array.prototype.unique = function() {
return this.filter(La);
};
}

L = t.call(Function.prototype.call, Array.prototype.forEach), fa = Array.prototype.map, va = Array.prototype.every, String.random || (String.random = function(e) {
return !e || e < 0 ? "" : Array(++e).join(0).replace(/./g, function() {
return (0 | 32 * Math.random()).toString(32);
});
}), String.prototype.trim && !N.trim() || (N = "[" + N + "]", wa = RegExp("^" + N + N + "*"), xa = RegExp(N + N + "*$"), String.prototype.trim = function() {
return String(this).replace(wa, "").replace(xa, "");
}), M = String.prototype.trim, "0".split(g, 0).length && (String.prototype.split = function(e, t) {
return e === g && 0 === t ? [] : r.call(this, e, t);
}), s = function(e, t) {
return !!~this.indexOf(e, t);
}, w(String.prototype, {
repeat: function(e) {
return Array(++e).join(this + "");
},
startsWith: function(e, t) {
return this.lastIndexOf(e, t) === (t || 0);
},
endsWith: function(e, t) {
return e += "", this.substr(-e.length - (t || 0), t) == e;
},
contains: s,
toArray: function() {
return r.call(this, "");
},
reverse: function() {
return Array.prototype.reverse.call(r.call(this + "", "")).join("");
}
}), w(Number, {
isFinite: function(e) {
return "number" == typeof e && n.i(e);
},
isInteger: function(e) {
return Number.isFinite(e) && e >= -9007199254740992 && e <= 9007199254740992 && Math.floor(e) === e;
},
isNaN: function(e) {
return Object.is(e, NaN);
},
toInteger: function(e) {
return e = +e, Number.isNaN(e) ? 0 : 0 !== e && n.i(e) ? (e < 0 ? -1 : 1) * Math.floor(Math.abs(e)) : e;
}
}), E = function(e, t) {
var n = document.createEvent("Events"), t = t || {};
return n.initEvent(e, t.bubbles || l, t.cancelable || l), "isTrusted" in n || (n.j = l), n;
};

try {
G = Event.prototype, new Event("click");
} catch (e) {
n.Event = E, G && (E.prototype = G);
}

F = function(e, t) {
var n, i;
try {
n = document.createEvent("CustomEvent");
} catch (e) {
n = document.createEvent("Event");
}
return t = t || {}, i = t.detail !== g ? t.detail : k, (n.initCustomEvent || (n.detail = i, n.initEvent)).call(n, e, t.bubbles || l, t.cancelable || l, i), "isTrusted" in n || (n.j = l), n;
};

try {
I = (n.CustomEvent || Event).prototype, new CustomEvent("magic");
} catch (e) {
n.CustomEvent = F, (I || G) && (F.prototype = I || G);
}

if (G.stopImmediatePropagation || (J = function(e) {
var t = this.f, n = this.g;
if ("function" != typeof t) {
if (!("handleEvent" in t)) return;
n = t, t = t.handleEvent;
}
if (!e.__stopNow) return t.apply(n, arguments);
e.stopPropagation();
}, G.stopImmediatePropagation = function() {
this.__stopNow = j;
}), "addEventListener" in A && !A.addEventListener.__shim__) {
D = 0;
try {
B = function() {
D++;
}, A.addEventListener("click", B), A.addEventListener("click", B), A.click ? A.click() : A.dispatchEvent(new E("click"));
} catch (e) {} finally {
if (0 == D || 2 == D || J) {
var Pa = 2 == D;
L([ n.HTMLDocument && n.HTMLDocument.prototype || n.document, n.Window && n.Window.prototype || n, y ], function(e) {
if (e) {
var n = e.addEventListener, i = e.removeEventListener;
n && (e.addEventListener = function(e, i, r) {
var o, a, r = r || l;
if (Pa || J) {
if (a = "_e_8vj" + (r ? "-" : "") + (i.__UUID__ || (i.__UUID__ = ++C)) + e, (o = this._) || (o = this._ = {}), a in o) return;
i = o[a] = J ? t.call(J, {
f: i,
g: this
}) : g;
}
return n.call(this, e, i, r);
}, i && (e.removeEventListener = function(e, t, n) {
var r, o, n = n || l;
return (Pa || J) && (r = this._) && r[o = "_e_8vj" + (n ? "-" : "") + t.__UUID__ + e] && (t = r[o], delete r[o]), i.call(this, e, t, n);
}));
}
});
}
}
}

ra = function(e, t) {
var n = t || "", i = !!e.length;
if (i) {
for (;e.length > 0; ) delete e[--e.length];
e.value = "";
}
n && ((n = M.call(n)) && r.call(n, na).forEach(sa, e), e.value = t), i && e.a && e.a.call(e.c, e.value);
}, sa = function(e) {
this[this.length++] = e;
}, w((K = function(e, t, n) {
this.e = e, this.a = t, this.c = n, this.length = 0, this.value = "", this.b("1");
}).prototype, {
b: function(e) {
var t = this.e.call(this.c);
t != this.value && ra(this, t), "" === e && ja("SYNTAX_ERR"), s.call(e + "", " ") && ja("INVALID_CHARACTER_ERR");
},
add: function(e) {
var t = this.value;
this.contains(e) || (this.value = this.value + (t && !t.match(ma) ? " " : "") + e, this[this.length++] = e, this.a && this.a.call(this.c, this.value));
},
remove: function(e) {
this.b(e);
var t;
for (this.value = this.value.replace(RegExp("((?: +|^)" + e + "(?: +|$))", "g"), function(e, t, n, i) {
return n && e.length + n < i.length ? " " : "";
}), t = r.call(this.value, " "), e = this.length - 1; e > 0; --e) (this[e] = t[e]) || (this.length--, delete this[e]);
this.a && this.a.call(this.c, this.value);
},
contains: function(e) {
return this.b(e), s.call(" " + this.value + " ", " " + e + " ");
},
item: function(e) {
return this.b("1"), this[e] || k;
},
toggle: function(e) {
var t = thisObj.contains(e);
return this[t ? "add" : "remove"](e), t;
}
}), K.prototype.toString = function() {
return this.value || "";
}, ua = function(e) {
this.className = e;
}, ta = function() {
return this.className;
}, n.Utils || (n.Utils = {}), n.Utils.Dom || (n.Utils.Dom = {}), n.Utils.Dom.DOMStringCollection = K, G.AT_TARGET || (G.AT_TARGET = 2, G.BUBBLING_PHASE = 3, G.CAPTURING_PHASE = 1), Event.AT_TARGET || (Event.AT_TARGET = 2, Event.BUBBLING_PHASE = 3, Event.CAPTURING_PHASE = 1);

try {
n.getComputedStyle(A);
} catch (e) {
n.getComputedStyle = t(function(e, t) {
return this.call(n, e, t || k);
}, n.getComputedStyle);
}

if ("classList" in A || Object.defineProperty(y, "classList", {
get: function() {
if (this.tagName) {
var e = this._ || (this._ = {});
return e._ccl_ || (e._ccl_ = new K(ta, ua, this)), e._ccl_;
}
}
}), "parentElement" in A || Object.defineProperty(y, "parentElement", {
get: function() {
var e = this.parentNode;
return e && 1 === e.nodeType ? e : k;
}
}), "contains" in A || (n.Node.prototype.contains = function(e) {
return !!(16 & this.compareDocumentPosition(e));
}), "insertAdjacentHTML" in A || (n.HTMLElement.prototype.insertAdjacentHTML = function(e, t) {
var n, i = this.ownerDocument.createElement("_"), r = {
beforebegin: "before",
afterbegin: "prepend",
beforeend: "append",
afterend: "after"
};
i.innerHTML = t, (i = i.childNodes) && i.length && (n = this[r[e]]) && n.apply(this, i);
}), document.importNode && !document.importNode.shim) try {
document.importNode(A);
} catch (e) {
var Sa = document.importNode;
delete document.importNode, document.importNode = function(e, t) {
return t === g && (t = j), Sa.call(this, e, t);
};
}

try {
A.cloneNode();
} catch (e) {
[ Node.prototype, y, Document.prototype, DocumentFragment.prototype ].forEach(aa);
}

A.prepend || (B = function(e) {
var t, n = k, i = 0, r = e.length, e = fa.call(e, function(e) {
return "string" == typeof e ? document.createTextNode(e) : e;
});
if (1 === r) n = e[0]; else for (n = document.createDocumentFragment(), i = 0, r = e.length; i < (t = e.length); ++i) i -= r - t, n.appendChild(e[i]);
return n;
}, y.after = function() {
this.parentNode && this.parentNode.insertBefore(B(arguments), this.nextSibling);
}, y.before = function() {
this.parentNode && this.parentNode.insertBefore(B(arguments), this);
}, y.append = function() {
this.appendChild(B(arguments));
}, y.prepend = function() {
this.insertBefore(B(arguments), this.firstChild);
}, y.replace = function() {
this.parentNode && this.parentNode.replaceChild(B(arguments), this);
}, y.remove = function() {
this.parentNode && this.parentNode.removeChild(this);
}, "prepend" in document || (document.prepend = function() {
y.prepend.apply(this.documentElement, arguments);
}, document.append = function() {
y.append.apply(this.documentElement, arguments);
})), y.matchesSelector || (y.matchesSelector = y.webkitMatchesSelector || y.mozMatchesSelector || y.msMatchesSelector || y.oMatchesSelector || function(e, t) {
if (!e) return l;
if ("*" === e) return j;
var n, i, r, o, a, c, u = 0;
t ? "length" in t ? n = t[0] : (n = t, t = g) : n = this;
do {
if (c = l, n === document.documentElement ? c = ":root" === e : n === document.body && (c = "BODY" === e.toUpperCase()), !c) {
if (e = M.call(e.replace(pa, "$1")), o = e.match(oa)) switch (e.charAt(0)) {
case "#":
c = n.id === e.slice(1);
break;

default:
if ((c = !(o[1] && "tagName" in n && n.tagName.toUpperCase() !== o[1].toUpperCase())) && o[2]) for (r = -1, a = o[2].slice(1).split("."), o = " " + n.className + " "; a[++r] && c; ) c = s.call(o, " " + a[r] + " ");
}
if (!/([,>+~ ])/.test(e) && (i = n.parentNode) && i.querySelector && (c = i.querySelector(e) === n), !c && (i = n.ownerDocument)) for (a = i.querySelectorAll(e), r = -1; !c && a[++r]; ) c = a[r] === n;
}
} while (c && t && (n = t[++u]));
return t && "length" in t ? c && t.length == u : c;
}), document.documentElement.matchesSelector || (document.documentElement.matchesSelector = y.matchesSelector), "matches" in y || (y.matches = document.documentElement.matches = y.matchesSelector), "find" in document || (qa = /(\:scope)(?=[ >~+])/, document.find = DocumentFragment.prototype.find = function(e, t) {
t && ("length" in t || (t = [ t ])) || (t = [ this ]);
var n, i, r = 0, o = t.length;
do {
i = t[r], e = e.replace(qa, 9 == i.nodeType ? ":root" : document_find_scopedreplacer = function() {
return "#" + (i.id || (i.id = "find" + ++C));
}), n = i.querySelector(e);
} while (!n && ++r < o);
return n || k;
}, document.findAll = DocumentFragment.prototype.findAll = function(e, t) {
t && ("length" in t || (t = [ t ])) || (t = [ this ]);
var n, i, r, o, a, s, c = [], u = 0, d = t.length, h = {};
do {
for (n = t[u], e = e.replace(qa, 9 == n.nodeType ? ":root" : document_find_scopedreplacer = function() {
return "#" + (n.id || (n.id = "find" + ++C));
}), o = 0, a = (i = n.querySelectorAll(e)).length; o < a; ++o) r = i[o], s = l, r = r.__UUID__ || (s = j, r.__UUID__ = ++C), !s && r in h || (h[r] = g, c.push(i[o]));
} while (++u < d);
return c;
}), "find" in y || (y.find = y.querySelector, y.findAll = y.querySelectorAll), "labels" in z("input") || Object.defineProperty(y, "labels", {
enumerable: j,
get: function() {
if (s.call(" INPUT BUTTON KEYGEN METER OUTPUT PROGRESS TEXTAREA SELECT ", " " + this.nodeName.toUpperCase() + " ")) {
for (var e = this, t = this.id ? ga(document.querySelectorAll("label[for='" + this.id + "']")) : [], n = t.length - 1; (e = e.parentNode) && (!e.h || e.h === this); ) if ("LABEL" === e.nodeName.toUpperCase()) {
for (;t[n] && 2 & t[n].compareDocumentPosition(e); ) n--;
ea.call(t, n + 1, 0, e);
}
return t;
}
}
}), "control" in z("label") || (Da = function(e, t) {
for (var n = 0, i = e.length; n < i; n++) {
var r = e[n], o = t(r);
if (o) return o;
if (r.childNodes && r.childNodes.length > 0 && (o = Da(r.childNodes, t))) return o;
}
}, Object.defineProperty(n.HTMLLabelElement && n.HTMLLabelElement.prototype || y, "control", {
enumerable: j,
get: function() {
return "LABEL" !== this.nodeName.toUpperCase() ? g : this.hasAttribute("for") ? document.getElementById(this.htmlFor) : Da(this.childNodes, function(e) {
if (s.call(" INPUT BUTTON KEYGEN METER OUTPUT PROGRESS TEXTAREA SELECT ", " " + e.nodeName.toUpperCase() + " ")) return e;
}) || k;
}
})), "reversed" in z("ol") || (Ga = function(e) {
var t, n, i = e.getAttribute("reversed"), r = e._;
r || (r = e._ = {}), "olreversed" in r && r.olreversed == (i !== k) || (t = e.children, (n = e.getAttribute("start")) !== k && (n = Number(n), isNaN(n) && (n = k)), i !== k ? (r.olreversed = j, n === k && (n = t.length), L(t, function(e) {
e.value = n--;
})) : (r.olreversed = l, t[0] && (t[0].value = n || 0), L(t, function(e) {
e.removeAttribute("value");
})));
}, Object.defineProperty(n.HTMLOListElement && n.HTMLOListElement.prototype || y, "reversed", {
get: function() {
return "OL" !== (this.nodeName || "").toUpperCase() ? g : this.getAttribute("reversed") !== k;
},
set: function(e) {
if ("OL" === (this.nodeName || "").toUpperCase()) return this[(e ? "set" : "remove") + "Attribute"]("reversed", ""), Ga(this), e;
}
}), X = function() {
document.removeEventListener("DOMContentLoaded", X, l), X = g, L(document.getElementsByTagName("ol"), Ga);
}, "complete" == document.readyState ? X() : document.addEventListener("DOMContentLoaded", X, l)), document.getElementsByClassName && ba(document.getElementsByClassName("")), document.querySelectorAll && ba(document.querySelectorAll("#z")), (Y = n.XHR = function(e, t) {
e = w(e || {}, Y.d), Object.keys(Y.d).forEach(function(t) {
"object" == typeof this[t] && w(e[t], this[t]);
}, Y.d);
var n = new XMLHttpRequest(), i = e.data || "", r = "post" == e.method.toLowerCase(), o = e.uri;
"object" == typeof i && e == Y.d.headers["Content-Type"] && (i = Object.keys(i).map(function(e) {
var t = this[e];
return "object" == typeof t ? Object.keys(t).map(function(t) {
return e + "=" + this[t];
}, t).join("&") : e + "=" + t;
}, i).join("&")), n.onreadystatechange = function() {
4 === this.readyState && t.call(this, k, this.response || this.responseText || this.responseXML);
}, n.onerror = function(e) {
t.call(this, e);
};
try {
n.open(e.method, o + (r ? "" : o.indexOf("?") ? "&" : "?" + i)), e.headers && Object.keys(e.headers).forEach(function(t) {
n.setRequestHeader(t, e.headers[t]);
}), n.send(r && i || k);
} catch (e) {
t.call(this, e);
}
return n;
}).d = {
headers: {
"X-Requested-With": "HTTPRequest",
"Content-Type": "application/x-www-form-urlencoded;charset=utf-8"
}
}, S.prototype.toISOString && !s.call(new S(-621987552e5).toISOString(), "-000001") && "1969-12-31T23:59:59.999Z" === new S(-1).toISOString() || (S.prototype.toISOString = function() {
var e, t, n, i;
if (!isFinite(this)) throw new RangeError("Date.prototype.toISOString called on non-finite value.");
for (i = this.getUTCFullYear(), i += ~~((e = this.getUTCMonth()) / 12), e = [ (e % 12 + 12) % 12 + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds() ], i = (i < 0 ? "-" : i > 9999 ? "+" : "") + ("00000" + Math.abs(i)).slice(0 <= i && i <= 9999 ? -4 : -6), t = e.length; t--; ) (n = e[t]) < 10 && (e[t] = "0" + n);
return i + "-" + e.slice(0, 2).join("-") + "T" + e.slice(2).join(":") + "." + ("000" + this.getUTCMilliseconds()).slice(-3) + "Z";
}), S.now || (S.now = function() {
return new S().getTime();
});

var Ua;

if (!(Ua = !S.prototype.toJSON)) {
var Va;
if (!(Va = s.call(new S(-621987552e5).toJSON(), "-000001"))) {
var Wa;
e: {
try {
Wa = S.prototype.toJSON.call({
toISOString: function() {
return -1;
}
});
break e;
} catch (e) {}
Wa = g;
}
Va = ~Wa;
}
Ua = Va;
}

if (Ua && (S.prototype.toJSON = function() {
return v(this.toISOString, this);
}), !S.parse) {
T = function(e, t, n, i, r, o, a) {
var s = arguments.length;
return this instanceof S ? (s = 1 == s && String(e) === e ? new S(T.parse(e)) : s >= 7 ? new S(e, t, n, i, r, o, a) : s >= 6 ? new S(e, t, n, i, r, o) : s >= 5 ? new S(e, t, n, i, r) : s >= 4 ? new S(e, t, n, i) : s >= 3 ? new S(e, t, n) : s >= 2 ? new S(e, t) : s >= 1 ? new S(e) : new S(), s.constructor = T, s) : S.apply(this, arguments);
}, Ca = RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"), U = [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 ], V = function(e) {
return Math.ceil(e / 4) - Math.ceil(e / 100) + Math.ceil(e / 400);
};
for (D in S) T[D] = S[D];
T.now = S.now, T.UTC = S.UTC, T.prototype = S.prototype, T.prototype.constructor = T, T.parse = function(e) {
if (d = Ca.exec(e)) {
var t = Number(d[1]), n = Number(d[2] || 1), i = Number(d[3] || 1), r = Number(d[4] || 0), o = Number(d[5] || 0), a = Number(d[6] || 0), s = Number(d[7] || 0), l = d[8] ? 0 : Number(new Date(1970, 0)), c = "-" === d[9] ? 1 : -1, u = Number(d[10] || 0), d = Number(d[11] || 0), h = V(t), f = V(t + 1);
return r < (o > 0 || a > 0 || s > 0 ? 24 : 25) && o < 60 && a < 60 && s < 1e3 && u < 24 && d < 60 && n > 0 && n < 13 && i > 0 && i < 1 + U[n] - U[n - 1] + (2 === n ? f - h : 0) && (t = 365 * (t - 1970) + (n > 2 ? f : h) - V(1970) + U[n - 1] + i - 1, -864e13 <= (t = 1e3 * (60 * (60 * (24 * t + r + u * c) + o + d * c) + a) + s + l) && t <= 864e13) ? t : NaN;
}
return S.parse.apply(this, arguments);
}, n.Date = T;
}

if ((D = n._) && D.ielt9shims && (D.ielt9shims.forEach(v), n._ = D.orig_), w = D = A = ca = z = E = F = G = I = y = T = ka = g, function(e, t) {
"use strict";
"object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function(e) {
if (!e.document) throw new Error("jQuery requires a window with a document");
return t(e);
} : t(e);
}("undefined" != typeof window ? window : this, function(e, t) {
"use strict";
function n(e, t) {
var n = (t = t || te).createElement("script");
n.text = e, t.head.appendChild(n).parentNode.removeChild(n);
}
function i(e) {
var t = !!e && "length" in e && e.length, n = fe.type(e);
return "function" !== n && !fe.isWindow(e) && ("array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e);
}
function r(e, t) {
return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();
}
function o(e, t, n) {
return fe.isFunction(t) ? fe.grep(e, function(e, i) {
return !!t.call(e, i, e) !== n;
}) : t.nodeType ? fe.grep(e, function(e) {
return e === t !== n;
}) : "string" != typeof t ? fe.grep(e, function(e) {
return ae.call(t, e) > -1 !== n;
}) : xe.test(t) ? fe.filter(t, e, n) : (t = fe.filter(t, e), fe.grep(e, function(e) {
return ae.call(t, e) > -1 !== n && 1 === e.nodeType;
}));
}
function a(e, t) {
for (;(e = e[t]) && 1 !== e.nodeType; ) ;
return e;
}
function s(e) {
var t = {};
return fe.each(e.match(Te) || [], function(e, n) {
t[n] = !0;
}), t;
}
function l(e) {
return e;
}
function c(e) {
throw e;
}
function u(e, t, n, i) {
var r;
try {
e && fe.isFunction(r = e.promise) ? r.call(e).done(t).fail(n) : e && fe.isFunction(r = e.then) ? r.call(e, t, n) : t.apply(void 0, [ e ].slice(i));
} catch (e) {
n.apply(void 0, [ e ]);
}
}
function d() {
te.removeEventListener("DOMContentLoaded", d), e.removeEventListener("load", d), fe.ready();
}
function h() {
this.expando = fe.expando + h.uid++;
}
function f(e) {
return "true" === e || "false" !== e && ("null" === e ? null : e === +e + "" ? +e : Le.test(e) ? JSON.parse(e) : e);
}
function p(e, t, n) {
var i;
if (void 0 === n && 1 === e.nodeType) if (i = "data-" + t.replace(Oe, "-$&").toLowerCase(), "string" == typeof (n = e.getAttribute(i))) {
try {
n = f(n);
} catch (e) {}
Pe.set(e, t, n);
} else n = void 0;
return n;
}
function g(e, t, n, i) {
var r, o = 1, a = 20, s = i ? function() {
return i.cur();
} : function() {
return fe.css(e, t, "");
}, l = s(), c = n && n[3] || (fe.cssNumber[t] ? "" : "px"), u = (fe.cssNumber[t] || "px" !== c && +l) && Ne.exec(fe.css(e, t));
if (u && u[3] !== c) {
c = c || u[3], n = n || [], u = +l || 1;
do {
u /= o = o || ".5", fe.style(e, t, u + c);
} while (o !== (o = s() / l) && 1 !== o && --a);
}
return n && (u = +u || +l || 0, r = n[1] ? u + (n[1] + 1) * n[2] : +n[2], i && (i.unit = c, i.start = u, i.end = r)), r;
}
function m(e) {
var t, n = e.ownerDocument, i = e.nodeName, r = Ve[i];
return r || (t = n.body.appendChild(n.createElement(i)), r = fe.css(t, "display"), t.parentNode.removeChild(t), "none" === r && (r = "block"), Ve[i] = r, r);
}
function v(e, t) {
for (var n, i, r = [], o = 0, a = e.length; o < a; o++) (i = e[o]).style && (n = i.style.display, t ? ("none" === n && (r[o] = Ie.get(i, "display") || null, r[o] || (i.style.display = "")), "" === i.style.display && je(i) && (r[o] = m(i))) : "none" !== n && (r[o] = "none", Ie.set(i, "display", n)));
for (o = 0; o < a; o++) null != r[o] && (e[o].style.display = r[o]);
return e;
}
function y(e, t) {
var n;
return n = void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t || "*") : void 0 !== e.querySelectorAll ? e.querySelectorAll(t || "*") : [], void 0 === t || t && r(e, t) ? fe.merge([ e ], n) : n;
}
function b(e, t) {
for (var n = 0, i = e.length; n < i; n++) Ie.set(e[n], "globalEval", !t || Ie.get(t[n], "globalEval"));
}
function _(e, t, n, i, r) {
for (var o, a, s, l, c, u, d = t.createDocumentFragment(), h = [], f = 0, p = e.length; f < p; f++) if ((o = e[f]) || 0 === o) if ("object" === fe.type(o)) fe.merge(h, o.nodeType ? [ o ] : o); else if (Ge.test(o)) {
for (a = a || d.appendChild(t.createElement("div")), s = (ze.exec(o) || [ "", "" ])[1].toLowerCase(), l = qe[s] || qe._default, a.innerHTML = l[1] + fe.htmlPrefilter(o) + l[2], u = l[0]; u--; ) a = a.lastChild;
fe.merge(h, a.childNodes), (a = d.firstChild).textContent = "";
} else h.push(t.createTextNode(o));
for (d.textContent = "", f = 0; o = h[f++]; ) if (i && fe.inArray(o, i) > -1) r && r.push(o); else if (c = fe.contains(o.ownerDocument, o), a = y(d.appendChild(o), "script"), c && b(a), n) for (u = 0; o = a[u++]; ) We.test(o.type || "") && n.push(o);
return d;
}
function w() {
return !0;
}
function C() {
return !1;
}
function x() {
try {
return te.activeElement;
} catch (e) {}
}
function S(e, t, n, i, r, o) {
var a, s;
if ("object" == typeof t) {
"string" != typeof n && (i = i || n, n = void 0);
for (s in t) S(e, s, n, i, t[s], o);
return e;
}
if (null == i && null == r ? (r = n, i = n = void 0) : null == r && ("string" == typeof n ? (r = i, i = void 0) : (r = i, i = n, n = void 0)), !1 === r) r = C; else if (!r) return e;
return 1 === o && (a = r, (r = function(e) {
return fe().off(e), a.apply(this, arguments);
}).guid = a.guid || (a.guid = fe.guid++)), e.each(function() {
fe.event.add(this, t, r, i, n);
});
}
function $(e, t) {
return r(e, "table") && r(11 !== t.nodeType ? t : t.firstChild, "tr") ? fe(">tbody", e)[0] || e : e;
}
function A(e) {
return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e;
}
function k(e) {
var t = tt.exec(e.type);
return t ? e.type = t[1] : e.removeAttribute("type"), e;
}
function T(e, t) {
var n, i, r, o, a, s, l, c;
if (1 === t.nodeType) {
if (Ie.hasData(e) && (o = Ie.access(e), a = Ie.set(t, o), c = o.events)) {
delete a.handle, a.events = {};
for (r in c) for (n = 0, i = c[r].length; n < i; n++) fe.event.add(t, r, c[r][n]);
}
Pe.hasData(e) && (s = Pe.access(e), l = fe.extend({}, s), Pe.set(t, l));
}
}
function D(e, t) {
var n = t.nodeName.toLowerCase();
"input" === n && Ue.test(e.type) ? t.checked = e.checked : "input" !== n && "textarea" !== n || (t.defaultValue = e.defaultValue);
}
function E(e, t, i, r) {
t = re.apply([], t);
var o, a, s, l, c, u, d = 0, h = e.length, f = h - 1, p = t[0], g = fe.isFunction(p);
if (g || h > 1 && "string" == typeof p && !he.checkClone && et.test(p)) return e.each(function(n) {
var o = e.eq(n);
g && (t[0] = p.call(this, n, o.html())), E(o, t, i, r);
});
if (h && (o = _(t, e[0].ownerDocument, !1, e, r), a = o.firstChild, 1 === o.childNodes.length && (o = a), a || r)) {
for (l = (s = fe.map(y(o, "script"), A)).length; d < h; d++) c = o, d !== f && (c = fe.clone(c, !0, !0), l && fe.merge(s, y(c, "script"))), i.call(e[d], c, d);
if (l) for (u = s[s.length - 1].ownerDocument, fe.map(s, k), d = 0; d < l; d++) c = s[d], We.test(c.type || "") && !Ie.access(c, "globalEval") && fe.contains(u, c) && (c.src ? fe._evalUrl && fe._evalUrl(c.src) : n(c.textContent.replace(nt, ""), u));
}
return e;
}
function F(e, t, n) {
for (var i, r = t ? fe.filter(t, e) : e, o = 0; null != (i = r[o]); o++) n || 1 !== i.nodeType || fe.cleanData(y(i)), i.parentNode && (n && fe.contains(i.ownerDocument, i) && b(y(i, "script")), i.parentNode.removeChild(i));
return e;
}
function M(e, t, n) {
var i, r, o, a, s = e.style;
return (n = n || ot(e)) && ("" !== (a = n.getPropertyValue(t) || n[t]) || fe.contains(e.ownerDocument, e) || (a = fe.style(e, t)), !he.pixelMarginRight() && rt.test(a) && it.test(t) && (i = s.width, r = s.minWidth, o = s.maxWidth, s.minWidth = s.maxWidth = s.width = a, a = n.width, s.width = i, s.minWidth = r, s.maxWidth = o)), void 0 !== a ? a + "" : a;
}
function I(e, t) {
return {
get: function() {
if (!e()) return (this.get = t).apply(this, arguments);
delete this.get;
}
};
}
function P(e) {
if (e in dt) return e;
for (var t = e[0].toUpperCase() + e.slice(1), n = ut.length; n--; ) if ((e = ut[n] + t) in dt) return e;
}
function L(e) {
var t = fe.cssProps[e];
return t || (t = fe.cssProps[e] = P(e) || e), t;
}
function O(e, t, n) {
var i = Ne.exec(t);
return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || "px") : t;
}
function R(e, t, n, i, r) {
var o, a = 0;
for (o = n === (i ? "border" : "content") ? 4 : "width" === t ? 1 : 0; o < 4; o += 2) "margin" === n && (a += fe.css(e, n + Be[o], !0, r)), i ? ("content" === n && (a -= fe.css(e, "padding" + Be[o], !0, r)), "margin" !== n && (a -= fe.css(e, "border" + Be[o] + "Width", !0, r))) : (a += fe.css(e, "padding" + Be[o], !0, r), "padding" !== n && (a += fe.css(e, "border" + Be[o] + "Width", !0, r)));
return a;
}
function N(e, t, n) {
var i, r = ot(e), o = M(e, t, r), a = "border-box" === fe.css(e, "boxSizing", !1, r);
return rt.test(o) ? o : (i = a && (he.boxSizingReliable() || o === e.style[t]), "auto" === o && (o = e["offset" + t[0].toUpperCase() + t.slice(1)]), (o = parseFloat(o) || 0) + R(e, t, n || (a ? "border" : "content"), i, r) + "px");
}
function B(e, t, n, i, r) {
return new B.prototype.init(e, t, n, i, r);
}
function j() {
ft && (!1 === te.hidden && e.requestAnimationFrame ? e.requestAnimationFrame(j) : e.setTimeout(j, fe.fx.interval), fe.fx.tick());
}
function H() {
return e.setTimeout(function() {
ht = void 0;
}), ht = fe.now();
}
function V(e, t) {
var n, i = 0, r = {
height: e
};
for (t = t ? 1 : 0; i < 4; i += 2 - t) r["margin" + (n = Be[i])] = r["padding" + n] = e;
return t && (r.opacity = r.width = e), r;
}
function U(e, t, n) {
for (var i, r = (W.tweeners[t] || []).concat(W.tweeners["*"]), o = 0, a = r.length; o < a; o++) if (i = r[o].call(n, t, e)) return i;
}
function z(e, t) {
var n, i, r, o, a;
for (n in e) if (i = fe.camelCase(n), r = t[i], o = e[n], Array.isArray(o) && (r = o[1], o = e[n] = o[0]), n !== i && (e[i] = o, delete e[n]), (a = fe.cssHooks[i]) && "expand" in a) {
o = a.expand(o), delete e[i];
for (n in o) n in e || (e[n] = o[n], t[n] = r);
} else t[i] = r;
}
function W(e, t, n) {
var i, r, o = 0, a = W.prefilters.length, s = fe.Deferred().always(function() {
delete l.elem;
}), l = function() {
if (r) return !1;
for (var t = ht || H(), n = Math.max(0, c.startTime + c.duration - t), i = 1 - (n / c.duration || 0), o = 0, a = c.tweens.length; o < a; o++) c.tweens[o].run(i);
return s.notifyWith(e, [ c, i, n ]), i < 1 && a ? n : (a || s.notifyWith(e, [ c, 1, 0 ]), s.resolveWith(e, [ c ]), !1);
}, c = s.promise({
elem: e,
props: fe.extend({}, t),
opts: fe.extend(!0, {
specialEasing: {},
easing: fe.easing._default
}, n),
originalProperties: t,
originalOptions: n,
startTime: ht || H(),
duration: n.duration,
tweens: [],
createTween: function(t, n) {
var i = fe.Tween(e, c.opts, t, n, c.opts.specialEasing[t] || c.opts.easing);
return c.tweens.push(i), i;
},
stop: function(t) {
var n = 0, i = t ? c.tweens.length : 0;
if (r) return this;
for (r = !0; n < i; n++) c.tweens[n].run(1);
return t ? (s.notifyWith(e, [ c, 1, 0 ]), s.resolveWith(e, [ c, t ])) : s.rejectWith(e, [ c, t ]), this;
}
}), u = c.props;
for (z(u, c.opts.specialEasing); o < a; o++) if (i = W.prefilters[o].call(c, e, u, c.opts)) return fe.isFunction(i.stop) && (fe._queueHooks(c.elem, c.opts.queue).stop = fe.proxy(i.stop, i)), i;
return fe.map(u, U, c), fe.isFunction(c.opts.start) && c.opts.start.call(e, c), c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always), fe.fx.timer(fe.extend(l, {
elem: e,
anim: c,
queue: c.opts.queue
})), c;
}
function q(e) {
return (e.match(Te) || []).join(" ");
}
function G(e) {
return e.getAttribute && e.getAttribute("class") || "";
}
function Y(e, t, n, i) {
var r;
if (Array.isArray(t)) fe.each(t, function(t, r) {
n || $t.test(e) ? i(e, r) : Y(e + "[" + ("object" == typeof r && null != r ? t : "") + "]", r, n, i);
}); else if (n || "object" !== fe.type(t)) i(e, t); else for (r in t) Y(e + "[" + r + "]", t[r], n, i);
}
function K(e) {
return function(t, n) {
"string" != typeof t && (n = t, t = "*");
var i, r = 0, o = t.toLowerCase().match(Te) || [];
if (fe.isFunction(n)) for (;i = o[r++]; ) "+" === i[0] ? (i = i.slice(1) || "*", (e[i] = e[i] || []).unshift(n)) : (e[i] = e[i] || []).push(n);
};
}
function X(e, t, n, i) {
function r(s) {
var l;
return o[s] = !0, fe.each(e[s] || [], function(e, s) {
var c = s(t, n, i);
return "string" != typeof c || a || o[c] ? a ? !(l = c) : void 0 : (t.dataTypes.unshift(c), r(c), !1);
}), l;
}
var o = {}, a = e === Rt;
return r(t.dataTypes[0]) || !o["*"] && r("*");
}
function Q(e, t) {
var n, i, r = fe.ajaxSettings.flatOptions || {};
for (n in t) void 0 !== t[n] && ((r[n] ? e : i || (i = {}))[n] = t[n]);
return i && fe.extend(!0, e, i), e;
}
function J(e, t, n) {
for (var i, r, o, a, s = e.contents, l = e.dataTypes; "*" === l[0]; ) l.shift(), void 0 === i && (i = e.mimeType || t.getResponseHeader("Content-Type"));
if (i) for (r in s) if (s[r] && s[r].test(i)) {
l.unshift(r);
break;
}
if (l[0] in n) o = l[0]; else {
for (r in n) {
if (!l[0] || e.converters[r + " " + l[0]]) {
o = r;
break;
}
a || (a = r);
}
o = o || a;
}
if (o) return o !== l[0] && l.unshift(o), n[o];
}
function Z(e, t, n, i) {
var r, o, a, s, l, c = {}, u = e.dataTypes.slice();
if (u[1]) for (a in e.converters) c[a.toLowerCase()] = e.converters[a];
for (o = u.shift(); o; ) if (e.responseFields[o] && (n[e.responseFields[o]] = t), !l && i && e.dataFilter && (t = e.dataFilter(t, e.dataType)), l = o, o = u.shift()) if ("*" === o) o = l; else if ("*" !== l && l !== o) {
if (!(a = c[l + " " + o] || c["* " + o])) for (r in c) if ((s = r.split(" "))[1] === o && (a = c[l + " " + s[0]] || c["* " + s[0]])) {
!0 === a ? a = c[r] : !0 !== c[r] && (o = s[0], u.unshift(s[1]));
break;
}
if (!0 !== a) if (a && e.throws) t = a(t); else try {
t = a(t);
} catch (e) {
return {
state: "parsererror",
error: a ? e : "No conversion from " + l + " to " + o
};
}
}
return {
state: "success",
data: t
};
}
var ee = [], te = e.document, ne = Object.getPrototypeOf, ie = ee.slice, re = ee.concat, oe = ee.push, ae = ee.indexOf, se = {}, le = se.toString, ce = se.hasOwnProperty, ue = ce.toString, de = ue.call(Object), he = {}, fe = function(e, t) {
return new fe.fn.init(e, t);
}, pe = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ge = /^-ms-/, me = /-([a-z])/g, ve = function(e, t) {
return t.toUpperCase();
};
fe.fn = fe.prototype = {
jquery: "3.2.1",
constructor: fe,
length: 0,
toArray: function() {
return ie.call(this);
},
get: function(e) {
return null == e ? ie.call(this) : e < 0 ? this[e + this.length] : this[e];
},
pushStack: function(e) {
var t = fe.merge(this.constructor(), e);
return t.prevObject = this, t;
},
each: function(e) {
return fe.each(this, e);
},
map: function(e) {
return this.pushStack(fe.map(this, function(t, n) {
return e.call(t, n, t);
}));
},
slice: function() {
return this.pushStack(ie.apply(this, arguments));
},
first: function() {
return this.eq(0);
},
last: function() {
return this.eq(-1);
},
eq: function(e) {
var t = this.length, n = +e + (e < 0 ? t : 0);
return this.pushStack(n >= 0 && n < t ? [ this[n] ] : []);
},
end: function() {
return this.prevObject || this.constructor();
},
push: oe,
sort: ee.sort,
splice: ee.splice
}, fe.extend = fe.fn.extend = function() {
var e, t, n, i, r, o, a = arguments[0] || {}, s = 1, l = arguments.length, c = !1;
for ("boolean" == typeof a && (c = a, a = arguments[s] || {}, s++), "object" == typeof a || fe.isFunction(a) || (a = {}), s === l && (a = this, s--); s < l; s++) if (null != (e = arguments[s])) for (t in e) n = a[t], a !== (i = e[t]) && (c && i && (fe.isPlainObject(i) || (r = Array.isArray(i))) ? (r ? (r = !1, o = n && Array.isArray(n) ? n : []) : o = n && fe.isPlainObject(n) ? n : {}, a[t] = fe.extend(c, o, i)) : void 0 !== i && (a[t] = i));
return a;
}, fe.extend({
expando: "jQuery" + ("3.2.1" + Math.random()).replace(/\D/g, ""),
isReady: !0,
error: function(e) {
throw new Error(e);
},
noop: function() {},
isFunction: function(e) {
return "function" === fe.type(e);
},
isWindow: function(e) {
return null != e && e === e.window;
},
isNumeric: function(e) {
var t = fe.type(e);
return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e));
},
isPlainObject: function(e) {
var t, n;
return !(!e || "[object Object]" !== le.call(e)) && (!(t = ne(e)) || "function" == typeof (n = ce.call(t, "constructor") && t.constructor) && ue.call(n) === de);
},
isEmptyObject: function(e) {
var t;
for (t in e) return !1;
return !0;
},
type: function(e) {
return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? se[le.call(e)] || "object" : typeof e;
},
globalEval: function(e) {
n(e);
},
camelCase: function(e) {
return e.replace(ge, "ms-").replace(me, ve);
},
each: function(e, t) {
var n, r = 0;
if (i(e)) for (n = e.length; r < n && !1 !== t.call(e[r], r, e[r]); r++) ; else for (r in e) if (!1 === t.call(e[r], r, e[r])) break;
return e;
},
trim: function(e) {
return null == e ? "" : (e + "").replace(pe, "");
},
makeArray: function(e, t) {
var n = t || [];
return null != e && (i(Object(e)) ? fe.merge(n, "string" == typeof e ? [ e ] : e) : oe.call(n, e)), n;
},
inArray: function(e, t, n) {
return null == t ? -1 : ae.call(t, e, n);
},
merge: function(e, t) {
for (var n = +t.length, i = 0, r = e.length; i < n; i++) e[r++] = t[i];
return e.length = r, e;
},
grep: function(e, t, n) {
for (var i = [], r = 0, o = e.length, a = !n; r < o; r++) !t(e[r], r) !== a && i.push(e[r]);
return i;
},
map: function(e, t, n) {
var r, o, a = 0, s = [];
if (i(e)) for (r = e.length; a < r; a++) null != (o = t(e[a], a, n)) && s.push(o); else for (a in e) null != (o = t(e[a], a, n)) && s.push(o);
return re.apply([], s);
},
guid: 1,
proxy: function(e, t) {
var n, i, r;
if ("string" == typeof t && (n = e[t], t = e, e = n), fe.isFunction(e)) return i = ie.call(arguments, 2), r = function() {
return e.apply(t || this, i.concat(ie.call(arguments)));
}, r.guid = e.guid = e.guid || fe.guid++, r;
},
now: Date.now,
support: he
}), "function" == typeof Symbol && (fe.fn[Symbol.iterator] = ee[Symbol.iterator]), fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, t) {
se["[object " + t + "]"] = t.toLowerCase();
});
var ye = function(e) {
function t(e, t, n, i) {
var r, o, a, s, l, u, h, f = t && t.ownerDocument, p = t ? t.nodeType : 9;
if (n = n || [], "string" != typeof e || !e || 1 !== p && 9 !== p && 11 !== p) return n;
if (!i && ((t ? t.ownerDocument || t : B) !== F && E(t), t = t || F, I)) {
if (11 !== p && (l = ge.exec(e))) if (r = l[1]) {
if (9 === p) {
if (!(a = t.getElementById(r))) return n;
if (a.id === r) return n.push(a), n;
} else if (f && (a = f.getElementById(r)) && R(t, a) && a.id === r) return n.push(a), n;
} else {
if (l[2]) return X.apply(n, t.getElementsByTagName(e)), n;
if ((r = l[3]) && _.getElementsByClassName && t.getElementsByClassName) return X.apply(n, t.getElementsByClassName(r)), n;
}
if (_.qsa && !z[e + " "] && (!P || !P.test(e))) {
if (1 !== p) f = t, h = e; else if ("object" !== t.nodeName.toLowerCase()) {
for ((s = t.getAttribute("id")) ? s = s.replace(be, _e) : t.setAttribute("id", s = N), o = (u = S(e)).length; o--; ) u[o] = "#" + s + " " + d(u[o]);
h = u.join(","), f = me.test(e) && c(t.parentNode) || t;
}
if (h) try {
return X.apply(n, f.querySelectorAll(h)), n;
} catch (e) {} finally {
s === N && t.removeAttribute("id");
}
}
}
return A(e.replace(oe, "$1"), t, n, i);
}
function n() {
function e(n, i) {
return t.push(n + " ") > w.cacheLength && delete e[t.shift()], e[n + " "] = i;
}
var t = [];
return e;
}
function i(e) {
return e[N] = !0, e;
}
function r(e) {
var t = F.createElement("fieldset");
try {
return !!e(t);
} catch (e) {
return !1;
} finally {
t.parentNode && t.parentNode.removeChild(t), t = null;
}
}
function o(e, t) {
for (var n = e.split("|"), i = n.length; i--; ) w.attrHandle[n[i]] = t;
}
function a(e, t) {
var n = t && e, i = n && 1 === e.nodeType && 1 === t.nodeType && e.sourceIndex - t.sourceIndex;
if (i) return i;
if (n) for (;n = n.nextSibling; ) if (n === t) return -1;
return e ? 1 : -1;
}
function s(e) {
return function(t) {
return "form" in t ? t.parentNode && !1 === t.disabled ? "label" in t ? "label" in t.parentNode ? t.parentNode.disabled === e : t.disabled === e : t.isDisabled === e || t.isDisabled !== !e && Ce(t) === e : t.disabled === e : "label" in t && t.disabled === e;
};
}
function l(e) {
return i(function(t) {
return t = +t, i(function(n, i) {
for (var r, o = e([], n.length, t), a = o.length; a--; ) n[r = o[a]] && (n[r] = !(i[r] = n[r]));
});
});
}
function c(e) {
return e && void 0 !== e.getElementsByTagName && e;
}
function u() {}
function d(e) {
for (var t = 0, n = e.length, i = ""; t < n; t++) i += e[t].value;
return i;
}
function h(e, t, n) {
var i = t.dir, r = t.next, o = r || i, a = n && "parentNode" === o, s = H++;
return t.first ? function(t, n, r) {
for (;t = t[i]; ) if (1 === t.nodeType || a) return e(t, n, r);
return !1;
} : function(t, n, l) {
var c, u, d, h = [ j, s ];
if (l) {
for (;t = t[i]; ) if ((1 === t.nodeType || a) && e(t, n, l)) return !0;
} else for (;t = t[i]; ) if (1 === t.nodeType || a) if (d = t[N] || (t[N] = {}), u = d[t.uniqueID] || (d[t.uniqueID] = {}), r && r === t.nodeName.toLowerCase()) t = t[i] || t; else {
if ((c = u[o]) && c[0] === j && c[1] === s) return h[2] = c[2];
if (u[o] = h, h[2] = e(t, n, l)) return !0;
}
return !1;
};
}
function f(e) {
return e.length > 1 ? function(t, n, i) {
for (var r = e.length; r--; ) if (!e[r](t, n, i)) return !1;
return !0;
} : e[0];
}
function p(e, n, i) {
for (var r = 0, o = n.length; r < o; r++) t(e, n[r], i);
return i;
}
function g(e, t, n, i, r) {
for (var o, a = [], s = 0, l = e.length, c = null != t; s < l; s++) (o = e[s]) && (n && !n(o, i, r) || (a.push(o), c && t.push(s)));
return a;
}
function m(e, t, n, r, o, a) {
return r && !r[N] && (r = m(r)), o && !o[N] && (o = m(o, a)), i(function(i, a, s, l) {
var c, u, d, h = [], f = [], m = a.length, v = i || p(t || "*", s.nodeType ? [ s ] : s, []), y = !e || !i && t ? v : g(v, h, e, s, l), b = n ? o || (i ? e : m || r) ? [] : a : y;
if (n && n(y, b, s, l), r) for (c = g(b, f), r(c, [], s, l), u = c.length; u--; ) (d = c[u]) && (b[f[u]] = !(y[f[u]] = d));
if (i) {
if (o || e) {
if (o) {
for (c = [], u = b.length; u--; ) (d = b[u]) && c.push(y[u] = d);
o(null, b = [], c, l);
}
for (u = b.length; u--; ) (d = b[u]) && (c = o ? J(i, d) : h[u]) > -1 && (i[c] = !(a[c] = d));
}
} else b = g(b === a ? b.splice(m, b.length) : b), o ? o(null, a, b, l) : X.apply(a, b);
});
}
function v(e) {
for (var t, n, i, r = e.length, o = w.relative[e[0].type], a = o || w.relative[" "], s = o ? 1 : 0, l = h(function(e) {
return e === t;
}, a, !0), c = h(function(e) {
return J(t, e) > -1;
}, a, !0), u = [ function(e, n, i) {
var r = !o && (i || n !== k) || ((t = n).nodeType ? l(e, n, i) : c(e, n, i));
return t = null, r;
} ]; s < r; s++) if (n = w.relative[e[s].type]) u = [ h(f(u), n) ]; else {
if ((n = w.filter[e[s].type].apply(null, e[s].matches))[N]) {
for (i = ++s; i < r && !w.relative[e[i].type]; i++) ;
return m(s > 1 && f(u), s > 1 && d(e.slice(0, s - 1).concat({
value: " " === e[s - 2].type ? "*" : ""
})).replace(oe, "$1"), n, s < i && v(e.slice(s, i)), i < r && v(e = e.slice(i)), i < r && d(e));
}
u.push(n);
}
return f(u);
}
function y(e, n) {
var r = n.length > 0, o = e.length > 0, a = function(i, a, s, l, c) {
var u, d, h, f = 0, p = "0", m = i && [], v = [], y = k, b = i || o && w.find.TAG("*", c), _ = j += null == y ? 1 : Math.random() || .1, C = b.length;
for (c && (k = a === F || a || c); p !== C && null != (u = b[p]); p++) {
if (o && u) {
for (d = 0, a || u.ownerDocument === F || (E(u), s = !I); h = e[d++]; ) if (h(u, a || F, s)) {
l.push(u);
break;
}
c && (j = _);
}
r && ((u = !h && u) && f--, i && m.push(u));
}
if (f += p, r && p !== f) {
for (d = 0; h = n[d++]; ) h(m, v, a, s);
if (i) {
if (f > 0) for (;p--; ) m[p] || v[p] || (v[p] = Y.call(l));
v = g(v);
}
X.apply(l, v), c && !i && v.length > 0 && f + n.length > 1 && t.uniqueSort(l);
}
return c && (j = _, k = y), m;
};
return r ? i(a) : a;
}
var b, _, w, C, x, S, $, A, k, T, D, E, F, M, I, P, L, O, R, N = "sizzle" + 1 * new Date(), B = e.document, j = 0, H = 0, V = n(), U = n(), z = n(), W = function(e, t) {
return e === t && (D = !0), 0;
}, q = {}.hasOwnProperty, G = [], Y = G.pop, K = G.push, X = G.push, Q = G.slice, J = function(e, t) {
for (var n = 0, i = e.length; n < i; n++) if (e[n] === t) return n;
return -1;
}, Z = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", ee = "[\\x20\\t\\r\\n\\f]", te = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", ne = "\\[" + ee + "*(" + te + ")(?:" + ee + "*([*^$|!~]?=)" + ee + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + te + "))|)" + ee + "*\\]", ie = ":(" + te + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ne + ")*)|.*)\\)|)", re = new RegExp(ee + "+", "g"), oe = new RegExp("^" + ee + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ee + "+$", "g"), ae = new RegExp("^" + ee + "*," + ee + "*"), se = new RegExp("^" + ee + "*([>+~]|" + ee + ")" + ee + "*"), le = new RegExp("=" + ee + "*([^\\]'\"]*?)" + ee + "*\\]", "g"), ce = new RegExp(ie), ue = new RegExp("^" + te + "$"), de = {
ID: new RegExp("^#(" + te + ")"),
CLASS: new RegExp("^\\.(" + te + ")"),
TAG: new RegExp("^(" + te + "|[*])"),
ATTR: new RegExp("^" + ne),
PSEUDO: new RegExp("^" + ie),
CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ee + "*(even|odd|(([+-]|)(\\d*)n|)" + ee + "*(?:([+-]|)" + ee + "*(\\d+)|))" + ee + "*\\)|)", "i"),
bool: new RegExp("^(?:" + Z + ")$", "i"),
needsContext: new RegExp("^" + ee + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ee + "*((?:-\\d)?\\d*)" + ee + "*\\)|)(?=[^-]|$)", "i")
}, he = /^(?:input|select|textarea|button)$/i, fe = /^h\d$/i, pe = /^[^{]+\{\s*\[native \w/, ge = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, me = /[+~]/, ve = new RegExp("\\\\([\\da-f]{1,6}" + ee + "?|(" + ee + ")|.)", "ig"), ye = function(e, t, n) {
var i = "0x" + t - 65536;
return i !== i || n ? t : i < 0 ? String.fromCharCode(i + 65536) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320);
}, be = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, _e = function(e, t) {
return t ? "\0" === e ? "�" : e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " " : "\\" + e;
}, we = function() {
E();
}, Ce = h(function(e) {
return !0 === e.disabled && ("form" in e || "label" in e);
}, {
dir: "parentNode",
next: "legend"
});
try {
X.apply(G = Q.call(B.childNodes), B.childNodes), G[B.childNodes.length].nodeType;
} catch (e) {
X = {
apply: G.length ? function(e, t) {
K.apply(e, Q.call(t));
} : function(e, t) {
for (var n = e.length, i = 0; e[n++] = t[i++]; ) ;
e.length = n - 1;
}
};
}
_ = t.support = {}, x = t.isXML = function(e) {
var t = e && (e.ownerDocument || e).documentElement;
return !!t && "HTML" !== t.nodeName;
}, E = t.setDocument = function(e) {
var t, n, i = e ? e.ownerDocument || e : B;
return i !== F && 9 === i.nodeType && i.documentElement ? (F = i, M = F.documentElement, I = !x(F), B !== F && (n = F.defaultView) && n.top !== n && (n.addEventListener ? n.addEventListener("unload", we, !1) : n.attachEvent && n.attachEvent("onunload", we)), _.attributes = r(function(e) {
return e.className = "i", !e.getAttribute("className");
}), _.getElementsByTagName = r(function(e) {
return e.appendChild(F.createComment("")), !e.getElementsByTagName("*").length;
}), _.getElementsByClassName = pe.test(F.getElementsByClassName), _.getById = r(function(e) {
return M.appendChild(e).id = N, !F.getElementsByName || !F.getElementsByName(N).length;
}), _.getById ? (w.filter.ID = function(e) {
var t = e.replace(ve, ye);
return function(e) {
return e.getAttribute("id") === t;
};
}, w.find.ID = function(e, t) {
if (void 0 !== t.getElementById && I) {
var n = t.getElementById(e);
return n ? [ n ] : [];
}
}) : (w.filter.ID = function(e) {
var t = e.replace(ve, ye);
return function(e) {
var n = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
return n && n.value === t;
};
}, w.find.ID = function(e, t) {
if (void 0 !== t.getElementById && I) {
var n, i, r, o = t.getElementById(e);
if (o) {
if ((n = o.getAttributeNode("id")) && n.value === e) return [ o ];
for (r = t.getElementsByName(e), i = 0; o = r[i++]; ) if ((n = o.getAttributeNode("id")) && n.value === e) return [ o ];
}
return [];
}
}), w.find.TAG = _.getElementsByTagName ? function(e, t) {
return void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e) : _.qsa ? t.querySelectorAll(e) : void 0;
} : function(e, t) {
var n, i = [], r = 0, o = t.getElementsByTagName(e);
if ("*" === e) {
for (;n = o[r++]; ) 1 === n.nodeType && i.push(n);
return i;
}
return o;
}, w.find.CLASS = _.getElementsByClassName && function(e, t) {
if (void 0 !== t.getElementsByClassName && I) return t.getElementsByClassName(e);
}, L = [], P = [], (_.qsa = pe.test(F.querySelectorAll)) && (r(function(e) {
M.appendChild(e).innerHTML = "<a id='" + N + "'></a><select id='" + N + "-\r\\' msallowcapture=''><option selected=''></option></select>", e.querySelectorAll("[msallowcapture^='']").length && P.push("[*^$]=" + ee + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || P.push("\\[" + ee + "*(?:value|" + Z + ")"), e.querySelectorAll("[id~=" + N + "-]").length || P.push("~="), e.querySelectorAll(":checked").length || P.push(":checked"), e.querySelectorAll("a#" + N + "+*").length || P.push(".#.+[+~]");
}), r(function(e) {
e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
var t = F.createElement("input");
t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && P.push("name" + ee + "*[*^$|!~]?="), 2 !== e.querySelectorAll(":enabled").length && P.push(":enabled", ":disabled"), M.appendChild(e).disabled = !0, 2 !== e.querySelectorAll(":disabled").length && P.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), P.push(",.*:");
})), (_.matchesSelector = pe.test(O = M.matches || M.webkitMatchesSelector || M.mozMatchesSelector || M.oMatchesSelector || M.msMatchesSelector)) && r(function(e) {
_.disconnectedMatch = O.call(e, "*"), O.call(e, "[s!='']:x"), L.push("!=", ie);
}), P = P.length && new RegExp(P.join("|")), L = L.length && new RegExp(L.join("|")), t = pe.test(M.compareDocumentPosition), R = t || pe.test(M.contains) ? function(e, t) {
var n = 9 === e.nodeType ? e.documentElement : e, i = t && t.parentNode;
return e === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(i)));
} : function(e, t) {
if (t) for (;t = t.parentNode; ) if (t === e) return !0;
return !1;
}, W = t ? function(e, t) {
if (e === t) return D = !0, 0;
var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
return n || (1 & (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !_.sortDetached && t.compareDocumentPosition(e) === n ? e === F || e.ownerDocument === B && R(B, e) ? -1 : t === F || t.ownerDocument === B && R(B, t) ? 1 : T ? J(T, e) - J(T, t) : 0 : 4 & n ? -1 : 1);
} : function(e, t) {
if (e === t) return D = !0, 0;
var n, i = 0, r = e.parentNode, o = t.parentNode, s = [ e ], l = [ t ];
if (!r || !o) return e === F ? -1 : t === F ? 1 : r ? -1 : o ? 1 : T ? J(T, e) - J(T, t) : 0;
if (r === o) return a(e, t);
for (n = e; n = n.parentNode; ) s.unshift(n);
for (n = t; n = n.parentNode; ) l.unshift(n);
for (;s[i] === l[i]; ) i++;
return i ? a(s[i], l[i]) : s[i] === B ? -1 : l[i] === B ? 1 : 0;
}, F) : F;
}, t.matches = function(e, n) {
return t(e, null, null, n);
}, t.matchesSelector = function(e, n) {
if ((e.ownerDocument || e) !== F && E(e), n = n.replace(le, "='$1']"), _.matchesSelector && I && !z[n + " "] && (!L || !L.test(n)) && (!P || !P.test(n))) try {
var i = O.call(e, n);
if (i || _.disconnectedMatch || e.document && 11 !== e.document.nodeType) return i;
} catch (e) {}
return t(n, F, null, [ e ]).length > 0;
}, t.contains = function(e, t) {
return (e.ownerDocument || e) !== F && E(e), R(e, t);
}, t.attr = function(e, t) {
(e.ownerDocument || e) !== F && E(e);
var n = w.attrHandle[t.toLowerCase()], i = n && q.call(w.attrHandle, t.toLowerCase()) ? n(e, t, !I) : void 0;
return void 0 !== i ? i : _.attributes || !I ? e.getAttribute(t) : (i = e.getAttributeNode(t)) && i.specified ? i.value : null;
}, t.escape = function(e) {
return (e + "").replace(be, _e);
}, t.error = function(e) {
throw new Error("Syntax error, unrecognized expression: " + e);
}, t.uniqueSort = function(e) {
var t, n = [], i = 0, r = 0;
if (D = !_.detectDuplicates, T = !_.sortStable && e.slice(0), e.sort(W), D) {
for (;t = e[r++]; ) t === e[r] && (i = n.push(r));
for (;i--; ) e.splice(n[i], 1);
}
return T = null, e;
}, C = t.getText = function(e) {
var t, n = "", i = 0, r = e.nodeType;
if (r) {
if (1 === r || 9 === r || 11 === r) {
if ("string" == typeof e.textContent) return e.textContent;
for (e = e.firstChild; e; e = e.nextSibling) n += C(e);
} else if (3 === r || 4 === r) return e.nodeValue;
} else for (;t = e[i++]; ) n += C(t);
return n;
}, (w = t.selectors = {
cacheLength: 50,
createPseudo: i,
match: de,
attrHandle: {},
find: {},
relative: {
">": {
dir: "parentNode",
first: !0
},
" ": {
dir: "parentNode"
},
"+": {
dir: "previousSibling",
first: !0
},
"~": {
dir: "previousSibling"
}
},
preFilter: {
ATTR: function(e) {
return e[1] = e[1].replace(ve, ye), e[3] = (e[3] || e[4] || e[5] || "").replace(ve, ye), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4);
},
CHILD: function(e) {
return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || t.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && t.error(e[0]), e;
},
PSEUDO: function(e) {
var t, n = !e[6] && e[2];
return de.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && ce.test(n) && (t = S(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3));
}
},
filter: {
TAG: function(e) {
var t = e.replace(ve, ye).toLowerCase();
return "*" === e ? function() {
return !0;
} : function(e) {
return e.nodeName && e.nodeName.toLowerCase() === t;
};
},
CLASS: function(e) {
var t = V[e + " "];
return t || (t = new RegExp("(^|" + ee + ")" + e + "(" + ee + "|$)")) && V(e, function(e) {
return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "");
});
},
ATTR: function(e, n, i) {
return function(r) {
var o = t.attr(r, e);
return null == o ? "!=" === n : !n || (o += "", "=" === n ? o === i : "!=" === n ? o !== i : "^=" === n ? i && 0 === o.indexOf(i) : "*=" === n ? i && o.indexOf(i) > -1 : "$=" === n ? i && o.slice(-i.length) === i : "~=" === n ? (" " + o.replace(re, " ") + " ").indexOf(i) > -1 : "|=" === n && (o === i || o.slice(0, i.length + 1) === i + "-"));
};
},
CHILD: function(e, t, n, i, r) {
var o = "nth" !== e.slice(0, 3), a = "last" !== e.slice(-4), s = "of-type" === t;
return 1 === i && 0 === r ? function(e) {
return !!e.parentNode;
} : function(t, n, l) {
var c, u, d, h, f, p, g = o !== a ? "nextSibling" : "previousSibling", m = t.parentNode, v = s && t.nodeName.toLowerCase(), y = !l && !s, b = !1;
if (m) {
if (o) {
for (;g; ) {
for (h = t; h = h[g]; ) if (s ? h.nodeName.toLowerCase() === v : 1 === h.nodeType) return !1;
p = g = "only" === e && !p && "nextSibling";
}
return !0;
}
if (p = [ a ? m.firstChild : m.lastChild ], a && y) {
for (b = (f = (c = (u = (d = (h = m)[N] || (h[N] = {}))[h.uniqueID] || (d[h.uniqueID] = {}))[e] || [])[0] === j && c[1]) && c[2], h = f && m.childNodes[f]; h = ++f && h && h[g] || (b = f = 0) || p.pop(); ) if (1 === h.nodeType && ++b && h === t) {
u[e] = [ j, f, b ];
break;
}
} else if (y && (b = f = (c = (u = (d = (h = t)[N] || (h[N] = {}))[h.uniqueID] || (d[h.uniqueID] = {}))[e] || [])[0] === j && c[1]), !1 === b) for (;(h = ++f && h && h[g] || (b = f = 0) || p.pop()) && ((s ? h.nodeName.toLowerCase() !== v : 1 !== h.nodeType) || !++b || (y && ((u = (d = h[N] || (h[N] = {}))[h.uniqueID] || (d[h.uniqueID] = {}))[e] = [ j, b ]), h !== t)); ) ;
return (b -= r) === i || b % i == 0 && b / i >= 0;
}
};
},
PSEUDO: function(e, n) {
var r, o = w.pseudos[e] || w.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e);
return o[N] ? o(n) : o.length > 1 ? (r = [ e, e, "", n ], w.setFilters.hasOwnProperty(e.toLowerCase()) ? i(function(e, t) {
for (var i, r = o(e, n), a = r.length; a--; ) e[i = J(e, r[a])] = !(t[i] = r[a]);
}) : function(e) {
return o(e, 0, r);
}) : o;
}
},
pseudos: {
not: i(function(e) {
var t = [], n = [], r = $(e.replace(oe, "$1"));
return r[N] ? i(function(e, t, n, i) {
for (var o, a = r(e, null, i, []), s = e.length; s--; ) (o = a[s]) && (e[s] = !(t[s] = o));
}) : function(e, i, o) {
return t[0] = e, r(t, null, o, n), t[0] = null, !n.pop();
};
}),
has: i(function(e) {
return function(n) {
return t(e, n).length > 0;
};
}),
contains: i(function(e) {
return e = e.replace(ve, ye), function(t) {
return (t.textContent || t.innerText || C(t)).indexOf(e) > -1;
};
}),
lang: i(function(e) {
return ue.test(e || "") || t.error("unsupported lang: " + e), e = e.replace(ve, ye).toLowerCase(), function(t) {
var n;
do {
if (n = I ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-");
} while ((t = t.parentNode) && 1 === t.nodeType);
return !1;
};
}),
target: function(t) {
var n = e.location && e.location.hash;
return n && n.slice(1) === t.id;
},
root: function(e) {
return e === M;
},
focus: function(e) {
return e === F.activeElement && (!F.hasFocus || F.hasFocus()) && !!(e.type || e.href || ~e.tabIndex);
},
enabled: s(!1),
disabled: s(!0),
checked: function(e) {
var t = e.nodeName.toLowerCase();
return "input" === t && !!e.checked || "option" === t && !!e.selected;
},
selected: function(e) {
return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected;
},
empty: function(e) {
for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return !1;
return !0;
},
parent: function(e) {
return !w.pseudos.empty(e);
},
header: function(e) {
return fe.test(e.nodeName);
},
input: function(e) {
return he.test(e.nodeName);
},
button: function(e) {
var t = e.nodeName.toLowerCase();
return "input" === t && "button" === e.type || "button" === t;
},
text: function(e) {
var t;
return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase());
},
first: l(function() {
return [ 0 ];
}),
last: l(function(e, t) {
return [ t - 1 ];
}),
eq: l(function(e, t, n) {
return [ n < 0 ? n + t : n ];
}),
even: l(function(e, t) {
for (var n = 0; n < t; n += 2) e.push(n);
return e;
}),
odd: l(function(e, t) {
for (var n = 1; n < t; n += 2) e.push(n);
return e;
}),
lt: l(function(e, t, n) {
for (var i = n < 0 ? n + t : n; --i >= 0; ) e.push(i);
return e;
}),
gt: l(function(e, t, n) {
for (var i = n < 0 ? n + t : n; ++i < t; ) e.push(i);
return e;
})
}
}).pseudos.nth = w.pseudos.eq;
for (b in {
radio: !0,
checkbox: !0,
file: !0,
password: !0,
image: !0
}) w.pseudos[b] = function(e) {
return function(t) {
return "input" === t.nodeName.toLowerCase() && t.type === e;
};
}(b);
for (b in {
submit: !0,
reset: !0
}) w.pseudos[b] = function(e) {
return function(t) {
var n = t.nodeName.toLowerCase();
return ("input" === n || "button" === n) && t.type === e;
};
}(b);
return u.prototype = w.filters = w.pseudos, w.setFilters = new u(), S = t.tokenize = function(e, n) {
var i, r, o, a, s, l, c, u = U[e + " "];
if (u) return n ? 0 : u.slice(0);
for (s = e, l = [], c = w.preFilter; s; ) {
i && !(r = ae.exec(s)) || (r && (s = s.slice(r[0].length) || s), l.push(o = [])), i = !1, (r = se.exec(s)) && (i = r.shift(), o.push({
value: i,
type: r[0].replace(oe, " ")
}), s = s.slice(i.length));
for (a in w.filter) !(r = de[a].exec(s)) || c[a] && !(r = c[a](r)) || (i = r.shift(), o.push({
value: i,
type: a,
matches: r
}), s = s.slice(i.length));
if (!i) break;
}
return n ? s.length : s ? t.error(e) : U(e, l).slice(0);
}, $ = t.compile = function(e, t) {
var n, i = [], r = [], o = z[e + " "];
if (!o) {
for (t || (t = S(e)), n = t.length; n--; ) (o = v(t[n]))[N] ? i.push(o) : r.push(o);
(o = z(e, y(r, i))).selector = e;
}
return o;
}, A = t.select = function(e, t, n, i) {
var r, o, a, s, l, u = "function" == typeof e && e, h = !i && S(e = u.selector || e);
if (n = n || [], 1 === h.length) {
if ((o = h[0] = h[0].slice(0)).length > 2 && "ID" === (a = o[0]).type && 9 === t.nodeType && I && w.relative[o[1].type]) {
if (!(t = (w.find.ID(a.matches[0].replace(ve, ye), t) || [])[0])) return n;
u && (t = t.parentNode), e = e.slice(o.shift().value.length);
}
for (r = de.needsContext.test(e) ? 0 : o.length; r-- && (a = o[r], !w.relative[s = a.type]); ) if ((l = w.find[s]) && (i = l(a.matches[0].replace(ve, ye), me.test(o[0].type) && c(t.parentNode) || t))) {
if (o.splice(r, 1), !(e = i.length && d(o))) return X.apply(n, i), n;
break;
}
}
return (u || $(e, h))(i, t, !I, n, !t || me.test(e) && c(t.parentNode) || t), n;
}, _.sortStable = N.split("").sort(W).join("") === N, _.detectDuplicates = !!D, E(), _.sortDetached = r(function(e) {
return 1 & e.compareDocumentPosition(F.createElement("fieldset"));
}), r(function(e) {
return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href");
}) || o("type|href|height|width", function(e, t, n) {
if (!n) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2);
}), _.attributes && r(function(e) {
return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value");
}) || o("value", function(e, t, n) {
if (!n && "input" === e.nodeName.toLowerCase()) return e.defaultValue;
}), r(function(e) {
return null == e.getAttribute("disabled");
}) || o(Z, function(e, t, n) {
var i;
if (!n) return !0 === e[t] ? t.toLowerCase() : (i = e.getAttributeNode(t)) && i.specified ? i.value : null;
}), t;
}(e);
fe.find = ye, fe.expr = ye.selectors, fe.expr[":"] = fe.expr.pseudos, fe.uniqueSort = fe.unique = ye.uniqueSort, fe.text = ye.getText, fe.isXMLDoc = ye.isXML, fe.contains = ye.contains, fe.escapeSelector = ye.escape;
var be = function(e, t, n) {
for (var i = [], r = void 0 !== n; (e = e[t]) && 9 !== e.nodeType; ) if (1 === e.nodeType) {
if (r && fe(e).is(n)) break;
i.push(e);
}
return i;
}, _e = function(e, t) {
for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
return n;
}, we = fe.expr.match.needsContext, Ce = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i, xe = /^.[^:#\[\.,]*$/;
fe.filter = function(e, t, n) {
var i = t[0];
return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === i.nodeType ? fe.find.matchesSelector(i, e) ? [ i ] : [] : fe.find.matches(e, fe.grep(t, function(e) {
return 1 === e.nodeType;
}));
}, fe.fn.extend({
find: function(e) {
var t, n, i = this.length, r = this;
if ("string" != typeof e) return this.pushStack(fe(e).filter(function() {
for (t = 0; t < i; t++) if (fe.contains(r[t], this)) return !0;
}));
for (n = this.pushStack([]), t = 0; t < i; t++) fe.find(e, r[t], n);
return i > 1 ? fe.uniqueSort(n) : n;
},
filter: function(e) {
return this.pushStack(o(this, e || [], !1));
},
not: function(e) {
return this.pushStack(o(this, e || [], !0));
},
is: function(e) {
return !!o(this, "string" == typeof e && we.test(e) ? fe(e) : e || [], !1).length;
}
});
var Se, $e = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
(fe.fn.init = function(e, t, n) {
var i, r;
if (!e) return this;
if (n = n || Se, "string" == typeof e) {
if (!(i = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [ null, e, null ] : $e.exec(e)) || !i[1] && t) return !t || t.jquery ? (t || n).find(e) : this.constructor(t).find(e);
if (i[1]) {
if (t = t instanceof fe ? t[0] : t, fe.merge(this, fe.parseHTML(i[1], t && t.nodeType ? t.ownerDocument || t : te, !0)), Ce.test(i[1]) && fe.isPlainObject(t)) for (i in t) fe.isFunction(this[i]) ? this[i](t[i]) : this.attr(i, t[i]);
return this;
}
return (r = te.getElementById(i[2])) && (this[0] = r, this.length = 1), this;
}
return e.nodeType ? (this[0] = e, this.length = 1, this) : fe.isFunction(e) ? void 0 !== n.ready ? n.ready(e) : e(fe) : fe.makeArray(e, this);
}).prototype = fe.fn, Se = fe(te);
var Ae = /^(?:parents|prev(?:Until|All))/, ke = {
children: !0,
contents: !0,
next: !0,
prev: !0
};
fe.fn.extend({
has: function(e) {
var t = fe(e, this), n = t.length;
return this.filter(function() {
for (var e = 0; e < n; e++) if (fe.contains(this, t[e])) return !0;
});
},
closest: function(e, t) {
var n, i = 0, r = this.length, o = [], a = "string" != typeof e && fe(e);
if (!we.test(e)) for (;i < r; i++) for (n = this[i]; n && n !== t; n = n.parentNode) if (n.nodeType < 11 && (a ? a.index(n) > -1 : 1 === n.nodeType && fe.find.matchesSelector(n, e))) {
o.push(n);
break;
}
return this.pushStack(o.length > 1 ? fe.uniqueSort(o) : o);
},
index: function(e) {
return e ? "string" == typeof e ? ae.call(fe(e), this[0]) : ae.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
},
add: function(e, t) {
return this.pushStack(fe.uniqueSort(fe.merge(this.get(), fe(e, t))));
},
addBack: function(e) {
return this.add(null == e ? this.prevObject : this.prevObject.filter(e));
}
}), fe.each({
parent: function(e) {
var t = e.parentNode;
return t && 11 !== t.nodeType ? t : null;
},
parents: function(e) {
return be(e, "parentNode");
},
parentsUntil: function(e, t, n) {
return be(e, "parentNode", n);
},
next: function(e) {
return a(e, "nextSibling");
},
prev: function(e) {
return a(e, "previousSibling");
},
nextAll: function(e) {
return be(e, "nextSibling");
},
prevAll: function(e) {
return be(e, "previousSibling");
},
nextUntil: function(e, t, n) {
return be(e, "nextSibling", n);
},
prevUntil: function(e, t, n) {
return be(e, "previousSibling", n);
},
siblings: function(e) {
return _e((e.parentNode || {}).firstChild, e);
},
children: function(e) {
return _e(e.firstChild);
},
contents: function(e) {
return r(e, "iframe") ? e.contentDocument : (r(e, "template") && (e = e.content || e), fe.merge([], e.childNodes));
}
}, function(e, t) {
fe.fn[e] = function(n, i) {
var r = fe.map(this, t, n);
return "Until" !== e.slice(-5) && (i = n), i && "string" == typeof i && (r = fe.filter(i, r)), this.length > 1 && (ke[e] || fe.uniqueSort(r), Ae.test(e) && r.reverse()), this.pushStack(r);
};
});
var Te = /[^\x20\t\r\n\f]+/g;
fe.Callbacks = function(e) {
e = "string" == typeof e ? s(e) : fe.extend({}, e);
var t, n, i, r, o = [], a = [], l = -1, c = function() {
for (r = r || e.once, i = t = !0; a.length; l = -1) for (n = a.shift(); ++l < o.length; ) !1 === o[l].apply(n[0], n[1]) && e.stopOnFalse && (l = o.length, n = !1);
e.memory || (n = !1), t = !1, r && (o = n ? [] : "");
}, u = {
add: function() {
return o && (n && !t && (l = o.length - 1, a.push(n)), function t(n) {
fe.each(n, function(n, i) {
fe.isFunction(i) ? e.unique && u.has(i) || o.push(i) : i && i.length && "string" !== fe.type(i) && t(i);
});
}(arguments), n && !t && c()), this;
},
remove: function() {
return fe.each(arguments, function(e, t) {
for (var n; (n = fe.inArray(t, o, n)) > -1; ) o.splice(n, 1), n <= l && l--;
}), this;
},
has: function(e) {
return e ? fe.inArray(e, o) > -1 : o.length > 0;
},
empty: function() {
return o && (o = []), this;
},
disable: function() {
return r = a = [], o = n = "", this;
},
disabled: function() {
return !o;
},
lock: function() {
return r = a = [], n || t || (o = n = ""), this;
},
locked: function() {
return !!r;
},
fireWith: function(e, n) {
return r || (n = [ e, (n = n || []).slice ? n.slice() : n ], a.push(n), t || c()), this;
},
fire: function() {
return u.fireWith(this, arguments), this;
},
fired: function() {
return !!i;
}
};
return u;
}, fe.extend({
Deferred: function(t) {
var n = [ [ "notify", "progress", fe.Callbacks("memory"), fe.Callbacks("memory"), 2 ], [ "resolve", "done", fe.Callbacks("once memory"), fe.Callbacks("once memory"), 0, "resolved" ], [ "reject", "fail", fe.Callbacks("once memory"), fe.Callbacks("once memory"), 1, "rejected" ] ], i = "pending", r = {
state: function() {
return i;
},
always: function() {
return o.done(arguments).fail(arguments), this;
},
catch: function(e) {
return r.then(null, e);
},
pipe: function() {
var e = arguments;
return fe.Deferred(function(t) {
fe.each(n, function(n, i) {
var r = fe.isFunction(e[i[4]]) && e[i[4]];
o[i[1]](function() {
var e = r && r.apply(this, arguments);
e && fe.isFunction(e.promise) ? e.promise().progress(t.notify).done(t.resolve).fail(t.reject) : t[i[0] + "With"](this, r ? [ e ] : arguments);
});
}), e = null;
}).promise();
},
then: function(t, i, r) {
function o(t, n, i, r) {
return function() {
var s = this, u = arguments, d = function() {
var e, d;
if (!(t < a)) {
if ((e = i.apply(s, u)) === n.promise()) throw new TypeError("Thenable self-resolution");
d = e && ("object" == typeof e || "function" == typeof e) && e.then, fe.isFunction(d) ? r ? d.call(e, o(a, n, l, r), o(a, n, c, r)) : (a++, d.call(e, o(a, n, l, r), o(a, n, c, r), o(a, n, l, n.notifyWith))) : (i !== l && (s = void 0, u = [ e ]), (r || n.resolveWith)(s, u));
}
}, h = r ? d : function() {
try {
d();
} catch (e) {
fe.Deferred.exceptionHook && fe.Deferred.exceptionHook(e, h.stackTrace), t + 1 >= a && (i !== c && (s = void 0, u = [ e ]), n.rejectWith(s, u));
}
};
t ? h() : (fe.Deferred.getStackHook && (h.stackTrace = fe.Deferred.getStackHook()), e.setTimeout(h));
};
}
var a = 0;
return fe.Deferred(function(e) {
n[0][3].add(o(0, e, fe.isFunction(r) ? r : l, e.notifyWith)), n[1][3].add(o(0, e, fe.isFunction(t) ? t : l)), n[2][3].add(o(0, e, fe.isFunction(i) ? i : c));
}).promise();
},
promise: function(e) {
return null != e ? fe.extend(e, r) : r;
}
}, o = {};
return fe.each(n, function(e, t) {
var a = t[2], s = t[5];
r[t[1]] = a.add, s && a.add(function() {
i = s;
}, n[3 - e][2].disable, n[0][2].lock), a.add(t[3].fire), o[t[0]] = function() {
return o[t[0] + "With"](this === o ? void 0 : this, arguments), this;
}, o[t[0] + "With"] = a.fireWith;
}), r.promise(o), t && t.call(o, o), o;
},
when: function(e) {
var t = arguments.length, n = t, i = Array(n), r = ie.call(arguments), o = fe.Deferred(), a = function(e) {
return function(n) {
i[e] = this, r[e] = arguments.length > 1 ? ie.call(arguments) : n, --t || o.resolveWith(i, r);
};
};
if (t <= 1 && (u(e, o.done(a(n)).resolve, o.reject, !t), "pending" === o.state() || fe.isFunction(r[n] && r[n].then))) return o.then();
for (;n--; ) u(r[n], a(n), o.reject);
return o.promise();
}
});
var De = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
fe.Deferred.exceptionHook = function(t, n) {
e.console && e.console.warn && t && De.test(t.name) && e.console.warn("jQuery.Deferred exception: " + t.message, t.stack, n);
}, fe.readyException = function(t) {
e.setTimeout(function() {
throw t;
});
};
var Ee = fe.Deferred();
fe.fn.ready = function(e) {
return Ee.then(e).catch(function(e) {
fe.readyException(e);
}), this;
}, fe.extend({
isReady: !1,
readyWait: 1,
ready: function(e) {
(!0 === e ? --fe.readyWait : fe.isReady) || (fe.isReady = !0, !0 !== e && --fe.readyWait > 0 || Ee.resolveWith(te, [ fe ]));
}
}), fe.ready.then = Ee.then, "complete" === te.readyState || "loading" !== te.readyState && !te.documentElement.doScroll ? e.setTimeout(fe.ready) : (te.addEventListener("DOMContentLoaded", d), e.addEventListener("load", d));
var Fe = function(e, t, n, i, r, o, a) {
var s = 0, l = e.length, c = null == n;
if ("object" === fe.type(n)) {
r = !0;
for (s in n) Fe(e, t, s, n[s], !0, o, a);
} else if (void 0 !== i && (r = !0, fe.isFunction(i) || (a = !0), c && (a ? (t.call(e, i), t = null) : (c = t, t = function(e, t, n) {
return c.call(fe(e), n);
})), t)) for (;s < l; s++) t(e[s], n, a ? i : i.call(e[s], s, t(e[s], n)));
return r ? e : c ? t.call(e) : l ? t(e[0], n) : o;
}, Me = function(e) {
return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType;
};
h.uid = 1, h.prototype = {
cache: function(e) {
var t = e[this.expando];
return t || (t = {}, Me(e) && (e.nodeType ? e[this.expando] = t : Object.defineProperty(e, this.expando, {
value: t,
configurable: !0
}))), t;
},
set: function(e, t, n) {
var i, r = this.cache(e);
if ("string" == typeof t) r[fe.camelCase(t)] = n; else for (i in t) r[fe.camelCase(i)] = t[i];
return r;
},
get: function(e, t) {
return void 0 === t ? this.cache(e) : e[this.expando] && e[this.expando][fe.camelCase(t)];
},
access: function(e, t, n) {
return void 0 === t || t && "string" == typeof t && void 0 === n ? this.get(e, t) : (this.set(e, t, n), void 0 !== n ? n : t);
},
remove: function(e, t) {
var n, i = e[this.expando];
if (void 0 !== i) {
if (void 0 !== t) {
n = (t = Array.isArray(t) ? t.map(fe.camelCase) : (t = fe.camelCase(t)) in i ? [ t ] : t.match(Te) || []).length;
for (;n--; ) delete i[t[n]];
}
(void 0 === t || fe.isEmptyObject(i)) && (e.nodeType ? e[this.expando] = void 0 : delete e[this.expando]);
}
},
hasData: function(e) {
var t = e[this.expando];
return void 0 !== t && !fe.isEmptyObject(t);
}
};
var Ie = new h(), Pe = new h(), Le = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, Oe = /[A-Z]/g;
fe.extend({
hasData: function(e) {
return Pe.hasData(e) || Ie.hasData(e);
},
data: function(e, t, n) {
return Pe.access(e, t, n);
},
removeData: function(e, t) {
Pe.remove(e, t);
},
_data: function(e, t, n) {
return Ie.access(e, t, n);
},
_removeData: function(e, t) {
Ie.remove(e, t);
}
}), fe.fn.extend({
data: function(e, t) {
var n, i, r, o = this[0], a = o && o.attributes;
if (void 0 === e) {
if (this.length && (r = Pe.get(o), 1 === o.nodeType && !Ie.get(o, "hasDataAttrs"))) {
for (n = a.length; n--; ) a[n] && 0 === (i = a[n].name).indexOf("data-") && (i = fe.camelCase(i.slice(5)), p(o, i, r[i]));
Ie.set(o, "hasDataAttrs", !0);
}
return r;
}
return "object" == typeof e ? this.each(function() {
Pe.set(this, e);
}) : Fe(this, function(t) {
var n;
if (o && void 0 === t) {
if (void 0 !== (n = Pe.get(o, e))) return n;
if (void 0 !== (n = p(o, e))) return n;
} else this.each(function() {
Pe.set(this, e, t);
});
}, null, t, arguments.length > 1, null, !0);
},
removeData: function(e) {
return this.each(function() {
Pe.remove(this, e);
});
}
}), fe.extend({
queue: function(e, t, n) {
var i;
if (e) return t = (t || "fx") + "queue", i = Ie.get(e, t), n && (!i || Array.isArray(n) ? i = Ie.access(e, t, fe.makeArray(n)) : i.push(n)), i || [];
},
dequeue: function(e, t) {
t = t || "fx";
var n = fe.queue(e, t), i = n.length, r = n.shift(), o = fe._queueHooks(e, t);
"inprogress" === r && (r = n.shift(), i--), r && ("fx" === t && n.unshift("inprogress"), delete o.stop, r.call(e, function() {
fe.dequeue(e, t);
}, o)), !i && o && o.empty.fire();
},
_queueHooks: function(e, t) {
var n = t + "queueHooks";
return Ie.get(e, n) || Ie.access(e, n, {
empty: fe.Callbacks("once memory").add(function() {
Ie.remove(e, [ t + "queue", n ]);
})
});
}
}), fe.fn.extend({
queue: function(e, t) {
var n = 2;
return "string" != typeof e && (t = e, e = "fx", n--), arguments.length < n ? fe.queue(this[0], e) : void 0 === t ? this : this.each(function() {
var n = fe.queue(this, e, t);
fe._queueHooks(this, e), "fx" === e && "inprogress" !== n[0] && fe.dequeue(this, e);
});
},
dequeue: function(e) {
return this.each(function() {
fe.dequeue(this, e);
});
},
clearQueue: function(e) {
return this.queue(e || "fx", []);
},
promise: function(e, t) {
var n, i = 1, r = fe.Deferred(), o = this, a = this.length, s = function() {
--i || r.resolveWith(o, [ o ]);
};
for ("string" != typeof e && (t = e, e = void 0), e = e || "fx"; a--; ) (n = Ie.get(o[a], e + "queueHooks")) && n.empty && (i++, n.empty.add(s));
return s(), r.promise(t);
}
});
var Re = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, Ne = new RegExp("^(?:([+-])=|)(" + Re + ")([a-z%]*)$", "i"), Be = [ "Top", "Right", "Bottom", "Left" ], je = function(e, t) {
return "none" === (e = t || e).style.display || "" === e.style.display && fe.contains(e.ownerDocument, e) && "none" === fe.css(e, "display");
}, He = function(e, t, n, i) {
var r, o, a = {};
for (o in t) a[o] = e.style[o], e.style[o] = t[o];
r = n.apply(e, i || []);
for (o in t) e.style[o] = a[o];
return r;
}, Ve = {};
fe.fn.extend({
show: function() {
return v(this, !0);
},
hide: function() {
return v(this);
},
toggle: function(e) {
return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
je(this) ? fe(this).show() : fe(this).hide();
});
}
});
var Ue = /^(?:checkbox|radio)$/i, ze = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i, We = /^$|\/(?:java|ecma)script/i, qe = {
option: [ 1, "<select multiple='multiple'>", "</select>" ],
thead: [ 1, "<table>", "</table>" ],
col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
tr: [ 2, "<table><tbody>", "</tbody></table>" ],
td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
_default: [ 0, "", "" ]
};
qe.optgroup = qe.option, qe.tbody = qe.tfoot = qe.colgroup = qe.caption = qe.thead, qe.th = qe.td;
var Ge = /<|&#?\w+;/;
!function() {
var e = te.createDocumentFragment().appendChild(te.createElement("div")), t = te.createElement("input");
t.setAttribute("type", "radio"), t.setAttribute("checked", "checked"), t.setAttribute("name", "t"), e.appendChild(t), he.checkClone = e.cloneNode(!0).cloneNode(!0).lastChild.checked, e.innerHTML = "<textarea>x</textarea>", he.noCloneChecked = !!e.cloneNode(!0).lastChild.defaultValue;
}();
var Ye = te.documentElement, Ke = /^key/, Xe = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, Qe = /^([^.]*)(?:\.(.+)|)/;
fe.event = {
global: {},
add: function(e, t, n, i, r) {
var o, a, s, l, c, u, d, h, f, p, g, m = Ie.get(e);
if (m) for (n.handler && (n = (o = n).handler, r = o.selector), r && fe.find.matchesSelector(Ye, r), n.guid || (n.guid = fe.guid++), (l = m.events) || (l = m.events = {}), (a = m.handle) || (a = m.handle = function(t) {
return void 0 !== fe && fe.event.triggered !== t.type ? fe.event.dispatch.apply(e, arguments) : void 0;
}), c = (t = (t || "").match(Te) || [ "" ]).length; c--; ) f = g = (s = Qe.exec(t[c]) || [])[1], p = (s[2] || "").split(".").sort(), f && (d = fe.event.special[f] || {}, f = (r ? d.delegateType : d.bindType) || f, d = fe.event.special[f] || {}, u = fe.extend({
type: f,
origType: g,
data: i,
handler: n,
guid: n.guid,
selector: r,
needsContext: r && fe.expr.match.needsContext.test(r),
namespace: p.join(".")
}, o), (h = l[f]) || ((h = l[f] = []).delegateCount = 0, d.setup && !1 !== d.setup.call(e, i, p, a) || e.addEventListener && e.addEventListener(f, a)), d.add && (d.add.call(e, u), u.handler.guid || (u.handler.guid = n.guid)), r ? h.splice(h.delegateCount++, 0, u) : h.push(u), fe.event.global[f] = !0);
},
remove: function(e, t, n, i, r) {
var o, a, s, l, c, u, d, h, f, p, g, m = Ie.hasData(e) && Ie.get(e);
if (m && (l = m.events)) {
for (c = (t = (t || "").match(Te) || [ "" ]).length; c--; ) if (s = Qe.exec(t[c]) || [], f = g = s[1], p = (s[2] || "").split(".").sort(), f) {
for (d = fe.event.special[f] || {}, h = l[f = (i ? d.delegateType : d.bindType) || f] || [], s = s[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), a = o = h.length; o--; ) u = h[o], !r && g !== u.origType || n && n.guid !== u.guid || s && !s.test(u.namespace) || i && i !== u.selector && ("**" !== i || !u.selector) || (h.splice(o, 1), u.selector && h.delegateCount--, d.remove && d.remove.call(e, u));
a && !h.length && (d.teardown && !1 !== d.teardown.call(e, p, m.handle) || fe.removeEvent(e, f, m.handle), delete l[f]);
} else for (f in l) fe.event.remove(e, f + t[c], n, i, !0);
fe.isEmptyObject(l) && Ie.remove(e, "handle events");
}
},
dispatch: function(e) {
var t, n, i, r, o, a, s = fe.event.fix(e), l = new Array(arguments.length), c = (Ie.get(this, "events") || {})[s.type] || [], u = fe.event.special[s.type] || {};
for (l[0] = s, t = 1; t < arguments.length; t++) l[t] = arguments[t];
if (s.delegateTarget = this, !u.preDispatch || !1 !== u.preDispatch.call(this, s)) {
for (a = fe.event.handlers.call(this, s, c), t = 0; (r = a[t++]) && !s.isPropagationStopped(); ) for (s.currentTarget = r.elem, n = 0; (o = r.handlers[n++]) && !s.isImmediatePropagationStopped(); ) s.rnamespace && !s.rnamespace.test(o.namespace) || (s.handleObj = o, s.data = o.data, void 0 !== (i = ((fe.event.special[o.origType] || {}).handle || o.handler).apply(r.elem, l)) && !1 === (s.result = i) && (s.preventDefault(), s.stopPropagation()));
return u.postDispatch && u.postDispatch.call(this, s), s.result;
}
},
handlers: function(e, t) {
var n, i, r, o, a, s = [], l = t.delegateCount, c = e.target;
if (l && c.nodeType && !("click" === e.type && e.button >= 1)) for (;c !== this; c = c.parentNode || this) if (1 === c.nodeType && ("click" !== e.type || !0 !== c.disabled)) {
for (o = [], a = {}, n = 0; n < l; n++) void 0 === a[r = (i = t[n]).selector + " "] && (a[r] = i.needsContext ? fe(r, this).index(c) > -1 : fe.find(r, this, null, [ c ]).length), a[r] && o.push(i);
o.length && s.push({
elem: c,
handlers: o
});
}
return c = this, l < t.length && s.push({
elem: c,
handlers: t.slice(l)
}), s;
},
addProp: function(e, t) {
Object.defineProperty(fe.Event.prototype, e, {
enumerable: !0,
configurable: !0,
get: fe.isFunction(t) ? function() {
if (this.originalEvent) return t(this.originalEvent);
} : function() {
if (this.originalEvent) return this.originalEvent[e];
},
set: function(t) {
Object.defineProperty(this, e, {
enumerable: !0,
configurable: !0,
writable: !0,
value: t
});
}
});
},
fix: function(e) {
return e[fe.expando] ? e : new fe.Event(e);
},
special: {
load: {
noBubble: !0
},
focus: {
trigger: function() {
if (this !== x() && this.focus) return this.focus(), !1;
},
delegateType: "focusin"
},
blur: {
trigger: function() {
if (this === x() && this.blur) return this.blur(), !1;
},
delegateType: "focusout"
},
click: {
trigger: function() {
if ("checkbox" === this.type && this.click && r(this, "input")) return this.click(), !1;
},
_default: function(e) {
return r(e.target, "a");
}
},
beforeunload: {
postDispatch: function(e) {
void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result);
}
}
}
}, fe.removeEvent = function(e, t, n) {
e.removeEventListener && e.removeEventListener(t, n);
}, fe.Event = function(e, t) {
if (!(this instanceof fe.Event)) return new fe.Event(e, t);
e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? w : C, this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target, this.currentTarget = e.currentTarget, this.relatedTarget = e.relatedTarget) : this.type = e, t && fe.extend(this, t), this.timeStamp = e && e.timeStamp || fe.now(), this[fe.expando] = !0;
}, fe.Event.prototype = {
constructor: fe.Event,
isDefaultPrevented: C,
isPropagationStopped: C,
isImmediatePropagationStopped: C,
isSimulated: !1,
preventDefault: function() {
var e = this.originalEvent;
this.isDefaultPrevented = w, e && !this.isSimulated && e.preventDefault();
},
stopPropagation: function() {
var e = this.originalEvent;
this.isPropagationStopped = w, e && !this.isSimulated && e.stopPropagation();
},
stopImmediatePropagation: function() {
var e = this.originalEvent;
this.isImmediatePropagationStopped = w, e && !this.isSimulated && e.stopImmediatePropagation(), this.stopPropagation();
}
}, fe.each({
altKey: !0,
bubbles: !0,
cancelable: !0,
changedTouches: !0,
ctrlKey: !0,
detail: !0,
eventPhase: !0,
metaKey: !0,
pageX: !0,
pageY: !0,
shiftKey: !0,
view: !0,
char: !0,
charCode: !0,
key: !0,
keyCode: !0,
button: !0,
buttons: !0,
clientX: !0,
clientY: !0,
offsetX: !0,
offsetY: !0,
pointerId: !0,
pointerType: !0,
screenX: !0,
screenY: !0,
targetTouches: !0,
toElement: !0,
touches: !0,
which: function(e) {
var t = e.button;
return null == e.which && Ke.test(e.type) ? null != e.charCode ? e.charCode : e.keyCode : !e.which && void 0 !== t && Xe.test(e.type) ? 1 & t ? 1 : 2 & t ? 3 : 4 & t ? 2 : 0 : e.which;
}
}, fe.event.addProp), fe.each({
mouseenter: "mouseover",
mouseleave: "mouseout",
pointerenter: "pointerover",
pointerleave: "pointerout"
}, function(e, t) {
fe.event.special[e] = {
delegateType: t,
bindType: t,
handle: function(e) {
var n, i = this, r = e.relatedTarget, o = e.handleObj;
return r && (r === i || fe.contains(i, r)) || (e.type = o.origType, n = o.handler.apply(this, arguments), e.type = t), n;
}
};
}), fe.fn.extend({
on: function(e, t, n, i) {
return S(this, e, t, n, i);
},
one: function(e, t, n, i) {
return S(this, e, t, n, i, 1);
},
off: function(e, t, n) {
var i, r;
if (e && e.preventDefault && e.handleObj) return i = e.handleObj, fe(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
if ("object" == typeof e) {
for (r in e) this.off(r, t, e[r]);
return this;
}
return !1 !== t && "function" != typeof t || (n = t, t = void 0), !1 === n && (n = C), this.each(function() {
fe.event.remove(this, e, n, t);
});
}
});
var Je = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, Ze = /<script|<style|<link/i, et = /checked\s*(?:[^=]|=\s*.checked.)/i, tt = /^true\/(.*)/, nt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
fe.extend({
htmlPrefilter: function(e) {
return e.replace(Je, "<$1></$2>");
},
clone: function(e, t, n) {
var i, r, o, a, s = e.cloneNode(!0), l = fe.contains(e.ownerDocument, e);
if (!(he.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || fe.isXMLDoc(e))) for (a = y(s), i = 0, r = (o = y(e)).length; i < r; i++) D(o[i], a[i]);
if (t) if (n) for (o = o || y(e), a = a || y(s), i = 0, r = o.length; i < r; i++) T(o[i], a[i]); else T(e, s);
return (a = y(s, "script")).length > 0 && b(a, !l && y(e, "script")), s;
},
cleanData: function(e) {
for (var t, n, i, r = fe.event.special, o = 0; void 0 !== (n = e[o]); o++) if (Me(n)) {
if (t = n[Ie.expando]) {
if (t.events) for (i in t.events) r[i] ? fe.event.remove(n, i) : fe.removeEvent(n, i, t.handle);
n[Ie.expando] = void 0;
}
n[Pe.expando] && (n[Pe.expando] = void 0);
}
}
}), fe.fn.extend({
detach: function(e) {
return F(this, e, !0);
},
remove: function(e) {
return F(this, e);
},
text: function(e) {
return Fe(this, function(e) {
return void 0 === e ? fe.text(this) : this.empty().each(function() {
1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e);
});
}, null, e, arguments.length);
},
append: function() {
return E(this, arguments, function(e) {
1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || $(this, e).appendChild(e);
});
},
prepend: function() {
return E(this, arguments, function(e) {
if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
var t = $(this, e);
t.insertBefore(e, t.firstChild);
}
});
},
before: function() {
return E(this, arguments, function(e) {
this.parentNode && this.parentNode.insertBefore(e, this);
});
},
after: function() {
return E(this, arguments, function(e) {
this.parentNode && this.parentNode.insertBefore(e, this.nextSibling);
});
},
empty: function() {
for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (fe.cleanData(y(e, !1)), e.textContent = "");
return this;
},
clone: function(e, t) {
return e = null != e && e, t = null == t ? e : t, this.map(function() {
return fe.clone(this, e, t);
});
},
html: function(e) {
return Fe(this, function(e) {
var t = this[0] || {}, n = 0, i = this.length;
if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
if ("string" == typeof e && !Ze.test(e) && !qe[(ze.exec(e) || [ "", "" ])[1].toLowerCase()]) {
e = fe.htmlPrefilter(e);
try {
for (;n < i; n++) 1 === (t = this[n] || {}).nodeType && (fe.cleanData(y(t, !1)), t.innerHTML = e);
t = 0;
} catch (e) {}
}
t && this.empty().append(e);
}, null, e, arguments.length);
},
replaceWith: function() {
var e = [];
return E(this, arguments, function(t) {
var n = this.parentNode;
fe.inArray(this, e) < 0 && (fe.cleanData(y(this)), n && n.replaceChild(t, this));
}, e);
}
}), fe.each({
appendTo: "append",
prependTo: "prepend",
insertBefore: "before",
insertAfter: "after",
replaceAll: "replaceWith"
}, function(e, t) {
fe.fn[e] = function(e) {
for (var n, i = [], r = fe(e), o = r.length - 1, a = 0; a <= o; a++) n = a === o ? this : this.clone(!0), fe(r[a])[t](n), oe.apply(i, n.get());
return this.pushStack(i);
};
});
var it = /^margin/, rt = new RegExp("^(" + Re + ")(?!px)[a-z%]+$", "i"), ot = function(t) {
var n = t.ownerDocument.defaultView;
return n && n.opener || (n = e), n.getComputedStyle(t);
};
!function() {
function t() {
if (s) {
s.style.cssText = "box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", s.innerHTML = "", Ye.appendChild(a);
var t = e.getComputedStyle(s);
n = "1%" !== t.top, o = "2px" === t.marginLeft, i = "4px" === t.width, s.style.marginRight = "50%", r = "4px" === t.marginRight, Ye.removeChild(a), s = null;
}
}
var n, i, r, o, a = te.createElement("div"), s = te.createElement("div");
s.style && (s.style.backgroundClip = "content-box", s.cloneNode(!0).style.backgroundClip = "", he.clearCloneStyle = "content-box" === s.style.backgroundClip, a.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", a.appendChild(s), fe.extend(he, {
pixelPosition: function() {
return t(), n;
},
boxSizingReliable: function() {
return t(), i;
},
pixelMarginRight: function() {
return t(), r;
},
reliableMarginLeft: function() {
return t(), o;
}
}));
}();
var at = /^(none|table(?!-c[ea]).+)/, st = /^--/, lt = {
position: "absolute",
visibility: "hidden",
display: "block"
}, ct = {
letterSpacing: "0",
fontWeight: "400"
}, ut = [ "Webkit", "Moz", "ms" ], dt = te.createElement("div").style;
fe.extend({
cssHooks: {
opacity: {
get: function(e, t) {
if (t) {
var n = M(e, "opacity");
return "" === n ? "1" : n;
}
}
}
},
cssNumber: {
animationIterationCount: !0,
columnCount: !0,
fillOpacity: !0,
flexGrow: !0,
flexShrink: !0,
fontWeight: !0,
lineHeight: !0,
opacity: !0,
order: !0,
orphans: !0,
widows: !0,
zIndex: !0,
zoom: !0
},
cssProps: {
float: "cssFloat"
},
style: function(e, t, n, i) {
if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
var r, o, a, s = fe.camelCase(t), l = st.test(t), c = e.style;
if (l || (t = L(s)), a = fe.cssHooks[t] || fe.cssHooks[s], void 0 === n) return a && "get" in a && void 0 !== (r = a.get(e, !1, i)) ? r : c[t];
"string" == (o = typeof n) && (r = Ne.exec(n)) && r[1] && (n = g(e, t, r), o = "number"), null != n && n === n && ("number" === o && (n += r && r[3] || (fe.cssNumber[s] ? "" : "px")), he.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (c[t] = "inherit"), a && "set" in a && void 0 === (n = a.set(e, n, i)) || (l ? c.setProperty(t, n) : c[t] = n));
}
},
css: function(e, t, n, i) {
var r, o, a, s = fe.camelCase(t);
return st.test(t) || (t = L(s)), (a = fe.cssHooks[t] || fe.cssHooks[s]) && "get" in a && (r = a.get(e, !0, n)), void 0 === r && (r = M(e, t, i)), "normal" === r && t in ct && (r = ct[t]), "" === n || n ? (o = parseFloat(r), !0 === n || isFinite(o) ? o || 0 : r) : r;
}
}), fe.each([ "height", "width" ], function(e, t) {
fe.cssHooks[t] = {
get: function(e, n, i) {
if (n) return !at.test(fe.css(e, "display")) || e.getClientRects().length && e.getBoundingClientRect().width ? N(e, t, i) : He(e, lt, function() {
return N(e, t, i);
});
},
set: function(e, n, i) {
var r, o = i && ot(e), a = i && R(e, t, i, "border-box" === fe.css(e, "boxSizing", !1, o), o);
return a && (r = Ne.exec(n)) && "px" !== (r[3] || "px") && (e.style[t] = n, n = fe.css(e, t)), O(0, n, a);
}
};
}), fe.cssHooks.marginLeft = I(he.reliableMarginLeft, function(e, t) {
if (t) return (parseFloat(M(e, "marginLeft")) || e.getBoundingClientRect().left - He(e, {
marginLeft: 0
}, function() {
return e.getBoundingClientRect().left;
})) + "px";
}), fe.each({
margin: "",
padding: "",
border: "Width"
}, function(e, t) {
fe.cssHooks[e + t] = {
expand: function(n) {
for (var i = 0, r = {}, o = "string" == typeof n ? n.split(" ") : [ n ]; i < 4; i++) r[e + Be[i] + t] = o[i] || o[i - 2] || o[0];
return r;
}
}, it.test(e) || (fe.cssHooks[e + t].set = O);
}), fe.fn.extend({
css: function(e, t) {
return Fe(this, function(e, t, n) {
var i, r, o = {}, a = 0;
if (Array.isArray(t)) {
for (i = ot(e), r = t.length; a < r; a++) o[t[a]] = fe.css(e, t[a], !1, i);
return o;
}
return void 0 !== n ? fe.style(e, t, n) : fe.css(e, t);
}, e, t, arguments.length > 1);
}
}), fe.Tween = B, B.prototype = {
constructor: B,
init: function(e, t, n, i, r, o) {
this.elem = e, this.prop = n, this.easing = r || fe.easing._default, this.options = t, this.start = this.now = this.cur(), this.end = i, this.unit = o || (fe.cssNumber[n] ? "" : "px");
},
cur: function() {
var e = B.propHooks[this.prop];
return e && e.get ? e.get(this) : B.propHooks._default.get(this);
},
run: function(e) {
var t, n = B.propHooks[this.prop];
return this.options.duration ? this.pos = t = fe.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : B.propHooks._default.set(this), this;
}
}, B.prototype.init.prototype = B.prototype, B.propHooks = {
_default: {
get: function(e) {
var t;
return 1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop] ? e.elem[e.prop] : (t = fe.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0;
},
set: function(e) {
fe.fx.step[e.prop] ? fe.fx.step[e.prop](e) : 1 !== e.elem.nodeType || null == e.elem.style[fe.cssProps[e.prop]] && !fe.cssHooks[e.prop] ? e.elem[e.prop] = e.now : fe.style(e.elem, e.prop, e.now + e.unit);
}
}
}, B.propHooks.scrollTop = B.propHooks.scrollLeft = {
set: function(e) {
e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now);
}
}, fe.easing = {
linear: function(e) {
return e;
},
swing: function(e) {
return .5 - Math.cos(e * Math.PI) / 2;
},
_default: "swing"
}, fe.fx = B.prototype.init, fe.fx.step = {};
var ht, ft, pt = /^(?:toggle|show|hide)$/, gt = /queueHooks$/;
fe.Animation = fe.extend(W, {
tweeners: {
"*": [ function(e, t) {
var n = this.createTween(e, t);
return g(n.elem, e, Ne.exec(t), n), n;
} ]
},
tweener: function(e, t) {
fe.isFunction(e) ? (t = e, e = [ "*" ]) : e = e.match(Te);
for (var n, i = 0, r = e.length; i < r; i++) n = e[i], W.tweeners[n] = W.tweeners[n] || [], W.tweeners[n].unshift(t);
},
prefilters: [ function(e, t, n) {
var i, r, o, a, s, l, c, u, d = "width" in t || "height" in t, h = this, f = {}, p = e.style, g = e.nodeType && je(e), m = Ie.get(e, "fxshow");
n.queue || (null == (a = fe._queueHooks(e, "fx")).unqueued && (a.unqueued = 0, s = a.empty.fire, a.empty.fire = function() {
a.unqueued || s();
}), a.unqueued++, h.always(function() {
h.always(function() {
a.unqueued--, fe.queue(e, "fx").length || a.empty.fire();
});
}));
for (i in t) if (r = t[i], pt.test(r)) {
if (delete t[i], o = o || "toggle" === r, r === (g ? "hide" : "show")) {
if ("show" !== r || !m || void 0 === m[i]) continue;
g = !0;
}
f[i] = m && m[i] || fe.style(e, i);
}
if ((l = !fe.isEmptyObject(t)) || !fe.isEmptyObject(f)) {
d && 1 === e.nodeType && (n.overflow = [ p.overflow, p.overflowX, p.overflowY ], null == (c = m && m.display) && (c = Ie.get(e, "display")), "none" === (u = fe.css(e, "display")) && (c ? u = c : (v([ e ], !0), c = e.style.display || c, u = fe.css(e, "display"), v([ e ]))), ("inline" === u || "inline-block" === u && null != c) && "none" === fe.css(e, "float") && (l || (h.done(function() {
p.display = c;
}), null == c && (u = p.display, c = "none" === u ? "" : u)), p.display = "inline-block")), n.overflow && (p.overflow = "hidden", h.always(function() {
p.overflow = n.overflow[0], p.overflowX = n.overflow[1], p.overflowY = n.overflow[2];
})), l = !1;
for (i in f) l || (m ? "hidden" in m && (g = m.hidden) : m = Ie.access(e, "fxshow", {
display: c
}), o && (m.hidden = !g), g && v([ e ], !0), h.done(function() {
g || v([ e ]), Ie.remove(e, "fxshow");
for (i in f) fe.style(e, i, f[i]);
})), l = U(g ? m[i] : 0, i, h), i in m || (m[i] = l.start, g && (l.end = l.start, l.start = 0));
}
} ],
prefilter: function(e, t) {
t ? W.prefilters.unshift(e) : W.prefilters.push(e);
}
}), fe.speed = function(e, t, n) {
var i = e && "object" == typeof e ? fe.extend({}, e) : {
complete: n || !n && t || fe.isFunction(e) && e,
duration: e,
easing: n && t || t && !fe.isFunction(t) && t
};
return fe.fx.off ? i.duration = 0 : "number" != typeof i.duration && (i.duration in fe.fx.speeds ? i.duration = fe.fx.speeds[i.duration] : i.duration = fe.fx.speeds._default), null != i.queue && !0 !== i.queue || (i.queue = "fx"), i.old = i.complete, i.complete = function() {
fe.isFunction(i.old) && i.old.call(this), i.queue && fe.dequeue(this, i.queue);
}, i;
}, fe.fn.extend({
fadeTo: function(e, t, n, i) {
return this.filter(je).css("opacity", 0).show().end().animate({
opacity: t
}, e, n, i);
},
animate: function(e, t, n, i) {
var r = fe.isEmptyObject(e), o = fe.speed(t, n, i), a = function() {
var t = W(this, fe.extend({}, e), o);
(r || Ie.get(this, "finish")) && t.stop(!0);
};
return a.finish = a, r || !1 === o.queue ? this.each(a) : this.queue(o.queue, a);
},
stop: function(e, t, n) {
var i = function(e) {
var t = e.stop;
delete e.stop, t(n);
};
return "string" != typeof e && (n = t, t = e, e = void 0), t && !1 !== e && this.queue(e || "fx", []), this.each(function() {
var t = !0, r = null != e && e + "queueHooks", o = fe.timers, a = Ie.get(this);
if (r) a[r] && a[r].stop && i(a[r]); else for (r in a) a[r] && a[r].stop && gt.test(r) && i(a[r]);
for (r = o.length; r--; ) o[r].elem !== this || null != e && o[r].queue !== e || (o[r].anim.stop(n), t = !1, o.splice(r, 1));
!t && n || fe.dequeue(this, e);
});
},
finish: function(e) {
return !1 !== e && (e = e || "fx"), this.each(function() {
var t, n = Ie.get(this), i = n[e + "queue"], r = n[e + "queueHooks"], o = fe.timers, a = i ? i.length : 0;
for (n.finish = !0, fe.queue(this, e, []), r && r.stop && r.stop.call(this, !0), t = o.length; t--; ) o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0), o.splice(t, 1));
for (t = 0; t < a; t++) i[t] && i[t].finish && i[t].finish.call(this);
delete n.finish;
});
}
}), fe.each([ "toggle", "show", "hide" ], function(e, t) {
var n = fe.fn[t];
fe.fn[t] = function(e, i, r) {
return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(V(t, !0), e, i, r);
};
}), fe.each({
slideDown: V("show"),
slideUp: V("hide"),
slideToggle: V("toggle"),
fadeIn: {
opacity: "show"
},
fadeOut: {
opacity: "hide"
},
fadeToggle: {
opacity: "toggle"
}
}, function(e, t) {
fe.fn[e] = function(e, n, i) {
return this.animate(t, e, n, i);
};
}), fe.timers = [], fe.fx.tick = function() {
var e, t = 0, n = fe.timers;
for (ht = fe.now(); t < n.length; t++) (e = n[t])() || n[t] !== e || n.splice(t--, 1);
n.length || fe.fx.stop(), ht = void 0;
}, fe.fx.timer = function(e) {
fe.timers.push(e), fe.fx.start();
}, fe.fx.interval = 13, fe.fx.start = function() {
ft || (ft = !0, j());
}, fe.fx.stop = function() {
ft = null;
}, fe.fx.speeds = {
slow: 600,
fast: 200,
_default: 400
}, fe.fn.delay = function(t, n) {
return t = fe.fx ? fe.fx.speeds[t] || t : t, n = n || "fx", this.queue(n, function(n, i) {
var r = e.setTimeout(n, t);
i.stop = function() {
e.clearTimeout(r);
};
});
}, function() {
var e = te.createElement("input"), t = te.createElement("select").appendChild(te.createElement("option"));
e.type = "checkbox", he.checkOn = "" !== e.value, he.optSelected = t.selected, (e = te.createElement("input")).value = "t", e.type = "radio", he.radioValue = "t" === e.value;
}();
var mt, vt = fe.expr.attrHandle;
fe.fn.extend({
attr: function(e, t) {
return Fe(this, fe.attr, e, t, arguments.length > 1);
},
removeAttr: function(e) {
return this.each(function() {
fe.removeAttr(this, e);
});
}
}), fe.extend({
attr: function(e, t, n) {
var i, r, o = e.nodeType;
if (3 !== o && 8 !== o && 2 !== o) return void 0 === e.getAttribute ? fe.prop(e, t, n) : (1 === o && fe.isXMLDoc(e) || (r = fe.attrHooks[t.toLowerCase()] || (fe.expr.match.bool.test(t) ? mt : void 0)), void 0 !== n ? null === n ? void fe.removeAttr(e, t) : r && "set" in r && void 0 !== (i = r.set(e, n, t)) ? i : (e.setAttribute(t, n + ""), n) : r && "get" in r && null !== (i = r.get(e, t)) ? i : null == (i = fe.find.attr(e, t)) ? void 0 : i);
},
attrHooks: {
type: {
set: function(e, t) {
if (!he.radioValue && "radio" === t && r(e, "input")) {
var n = e.value;
return e.setAttribute("type", t), n && (e.value = n), t;
}
}
}
},
removeAttr: function(e, t) {
var n, i = 0, r = t && t.match(Te);
if (r && 1 === e.nodeType) for (;n = r[i++]; ) e.removeAttribute(n);
}
}), mt = {
set: function(e, t, n) {
return !1 === t ? fe.removeAttr(e, n) : e.setAttribute(n, n), n;
}
}, fe.each(fe.expr.match.bool.source.match(/\w+/g), function(e, t) {
var n = vt[t] || fe.find.attr;
vt[t] = function(e, t, i) {
var r, o, a = t.toLowerCase();
return i || (o = vt[a], vt[a] = r, r = null != n(e, t, i) ? a : null, vt[a] = o), r;
};
});
var yt = /^(?:input|select|textarea|button)$/i, bt = /^(?:a|area)$/i;
fe.fn.extend({
prop: function(e, t) {
return Fe(this, fe.prop, e, t, arguments.length > 1);
},
removeProp: function(e) {
return this.each(function() {
delete this[fe.propFix[e] || e];
});
}
}), fe.extend({
prop: function(e, t, n) {
var i, r, o = e.nodeType;
if (3 !== o && 8 !== o && 2 !== o) return 1 === o && fe.isXMLDoc(e) || (t = fe.propFix[t] || t, r = fe.propHooks[t]), void 0 !== n ? r && "set" in r && void 0 !== (i = r.set(e, n, t)) ? i : e[t] = n : r && "get" in r && null !== (i = r.get(e, t)) ? i : e[t];
},
propHooks: {
tabIndex: {
get: function(e) {
var t = fe.find.attr(e, "tabindex");
return t ? parseInt(t, 10) : yt.test(e.nodeName) || bt.test(e.nodeName) && e.href ? 0 : -1;
}
}
},
propFix: {
for: "htmlFor",
class: "className"
}
}), he.optSelected || (fe.propHooks.selected = {
get: function(e) {
var t = e.parentNode;
return t && t.parentNode && t.parentNode.selectedIndex, null;
},
set: function(e) {
var t = e.parentNode;
t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex);
}
}), fe.each([ "tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable" ], function() {
fe.propFix[this.toLowerCase()] = this;
}), fe.fn.extend({
addClass: function(e) {
var t, n, i, r, o, a, s, l = 0;
if (fe.isFunction(e)) return this.each(function(t) {
fe(this).addClass(e.call(this, t, G(this)));
});
if ("string" == typeof e && e) for (t = e.match(Te) || []; n = this[l++]; ) if (r = G(n), i = 1 === n.nodeType && " " + q(r) + " ") {
for (a = 0; o = t[a++]; ) i.indexOf(" " + o + " ") < 0 && (i += o + " ");
r !== (s = q(i)) && n.setAttribute("class", s);
}
return this;
},
removeClass: function(e) {
var t, n, i, r, o, a, s, l = 0;
if (fe.isFunction(e)) return this.each(function(t) {
fe(this).removeClass(e.call(this, t, G(this)));
});
if (!arguments.length) return this.attr("class", "");
if ("string" == typeof e && e) for (t = e.match(Te) || []; n = this[l++]; ) if (r = G(n), i = 1 === n.nodeType && " " + q(r) + " ") {
for (a = 0; o = t[a++]; ) for (;i.indexOf(" " + o + " ") > -1; ) i = i.replace(" " + o + " ", " ");
r !== (s = q(i)) && n.setAttribute("class", s);
}
return this;
},
toggleClass: function(e, t) {
var n = typeof e;
return "boolean" == typeof t && "string" === n ? t ? this.addClass(e) : this.removeClass(e) : fe.isFunction(e) ? this.each(function(n) {
fe(this).toggleClass(e.call(this, n, G(this), t), t);
}) : this.each(function() {
var t, i, r, o;
if ("string" === n) for (i = 0, r = fe(this), o = e.match(Te) || []; t = o[i++]; ) r.hasClass(t) ? r.removeClass(t) : r.addClass(t); else void 0 !== e && "boolean" !== n || ((t = G(this)) && Ie.set(this, "__className__", t), this.setAttribute && this.setAttribute("class", t || !1 === e ? "" : Ie.get(this, "__className__") || ""));
});
},
hasClass: function(e) {
var t, n, i = 0;
for (t = " " + e + " "; n = this[i++]; ) if (1 === n.nodeType && (" " + q(G(n)) + " ").indexOf(t) > -1) return !0;
return !1;
}
});
var _t = /\r/g;
fe.fn.extend({
val: function(e) {
var t, n, i, r = this[0];
{
if (arguments.length) return i = fe.isFunction(e), this.each(function(n) {
var r;
1 === this.nodeType && (null == (r = i ? e.call(this, n, fe(this).val()) : e) ? r = "" : "number" == typeof r ? r += "" : Array.isArray(r) && (r = fe.map(r, function(e) {
return null == e ? "" : e + "";
})), (t = fe.valHooks[this.type] || fe.valHooks[this.nodeName.toLowerCase()]) && "set" in t && void 0 !== t.set(this, r, "value") || (this.value = r));
});
if (r) return (t = fe.valHooks[r.type] || fe.valHooks[r.nodeName.toLowerCase()]) && "get" in t && void 0 !== (n = t.get(r, "value")) ? n : "string" == typeof (n = r.value) ? n.replace(_t, "") : null == n ? "" : n;
}
}
}), fe.extend({
valHooks: {
option: {
get: function(e) {
var t = fe.find.attr(e, "value");
return null != t ? t : q(fe.text(e));
}
},
select: {
get: function(e) {
var t, n, i, o = e.options, a = e.selectedIndex, s = "select-one" === e.type, l = s ? null : [], c = s ? a + 1 : o.length;
for (i = a < 0 ? c : s ? a : 0; i < c; i++) if (((n = o[i]).selected || i === a) && !n.disabled && (!n.parentNode.disabled || !r(n.parentNode, "optgroup"))) {
if (t = fe(n).val(), s) return t;
l.push(t);
}
return l;
},
set: function(e, t) {
for (var n, i, r = e.options, o = fe.makeArray(t), a = r.length; a--; ) ((i = r[a]).selected = fe.inArray(fe.valHooks.option.get(i), o) > -1) && (n = !0);
return n || (e.selectedIndex = -1), o;
}
}
}
}), fe.each([ "radio", "checkbox" ], function() {
fe.valHooks[this] = {
set: function(e, t) {
if (Array.isArray(t)) return e.checked = fe.inArray(fe(e).val(), t) > -1;
}
}, he.checkOn || (fe.valHooks[this].get = function(e) {
return null === e.getAttribute("value") ? "on" : e.value;
});
});
var wt = /^(?:focusinfocus|focusoutblur)$/;
fe.extend(fe.event, {
trigger: function(t, n, i, r) {
var o, a, s, l, c, u, d, h = [ i || te ], f = ce.call(t, "type") ? t.type : t, p = ce.call(t, "namespace") ? t.namespace.split(".") : [];
if (a = s = i = i || te, 3 !== i.nodeType && 8 !== i.nodeType && !wt.test(f + fe.event.triggered) && (f.indexOf(".") > -1 && (f = (p = f.split(".")).shift(), p.sort()), c = f.indexOf(":") < 0 && "on" + f, t = t[fe.expando] ? t : new fe.Event(f, "object" == typeof t && t), t.isTrigger = r ? 2 : 3, t.namespace = p.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = i), n = null == n ? [ t ] : fe.makeArray(n, [ t ]), d = fe.event.special[f] || {}, r || !d.trigger || !1 !== d.trigger.apply(i, n))) {
if (!r && !d.noBubble && !fe.isWindow(i)) {
for (l = d.delegateType || f, wt.test(l + f) || (a = a.parentNode); a; a = a.parentNode) h.push(a), s = a;
s === (i.ownerDocument || te) && h.push(s.defaultView || s.parentWindow || e);
}
for (o = 0; (a = h[o++]) && !t.isPropagationStopped(); ) t.type = o > 1 ? l : d.bindType || f, (u = (Ie.get(a, "events") || {})[t.type] && Ie.get(a, "handle")) && u.apply(a, n), (u = c && a[c]) && u.apply && Me(a) && (t.result = u.apply(a, n), !1 === t.result && t.preventDefault());
return t.type = f, r || t.isDefaultPrevented() || d._default && !1 !== d._default.apply(h.pop(), n) || !Me(i) || c && fe.isFunction(i[f]) && !fe.isWindow(i) && ((s = i[c]) && (i[c] = null), fe.event.triggered = f, i[f](), fe.event.triggered = void 0, s && (i[c] = s)), t.result;
}
},
simulate: function(e, t, n) {
var i = fe.extend(new fe.Event(), n, {
type: e,
isSimulated: !0
});
fe.event.trigger(i, null, t);
}
}), fe.fn.extend({
trigger: function(e, t) {
return this.each(function() {
fe.event.trigger(e, t, this);
});
},
triggerHandler: function(e, t) {
var n = this[0];
if (n) return fe.event.trigger(e, t, n, !0);
}
}), fe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(e, t) {
fe.fn[t] = function(e, n) {
return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t);
};
}), fe.fn.extend({
hover: function(e, t) {
return this.mouseenter(e).mouseleave(t || e);
}
}), he.focusin = "onfocusin" in e, he.focusin || fe.each({
focus: "focusin",
blur: "focusout"
}, function(e, t) {
var n = function(e) {
fe.event.simulate(t, e.target, fe.event.fix(e));
};
fe.event.special[t] = {
setup: function() {
var i = this.ownerDocument || this, r = Ie.access(i, t);
r || i.addEventListener(e, n, !0), Ie.access(i, t, (r || 0) + 1);
},
teardown: function() {
var i = this.ownerDocument || this, r = Ie.access(i, t) - 1;
r ? Ie.access(i, t, r) : (i.removeEventListener(e, n, !0), Ie.remove(i, t));
}
};
});
var Ct = e.location, xt = fe.now(), St = /\?/;
fe.parseXML = function(t) {
var n;
if (!t || "string" != typeof t) return null;
try {
n = new e.DOMParser().parseFromString(t, "text/xml");
} catch (e) {
n = void 0;
}
return n && !n.getElementsByTagName("parsererror").length || fe.error("Invalid XML: " + t), n;
};
var $t = /\[\]$/, At = /\r?\n/g, kt = /^(?:submit|button|image|reset|file)$/i, Tt = /^(?:input|select|textarea|keygen)/i;
fe.param = function(e, t) {
var n, i = [], r = function(e, t) {
var n = fe.isFunction(t) ? t() : t;
i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == n ? "" : n);
};
if (Array.isArray(e) || e.jquery && !fe.isPlainObject(e)) fe.each(e, function() {
r(this.name, this.value);
}); else for (n in e) Y(n, e[n], t, r);
return i.join("&");
}, fe.fn.extend({
serialize: function() {
return fe.param(this.serializeArray());
},
serializeArray: function() {
return this.map(function() {
var e = fe.prop(this, "elements");
return e ? fe.makeArray(e) : this;
}).filter(function() {
var e = this.type;
return this.name && !fe(this).is(":disabled") && Tt.test(this.nodeName) && !kt.test(e) && (this.checked || !Ue.test(e));
}).map(function(e, t) {
var n = fe(this).val();
return null == n ? null : Array.isArray(n) ? fe.map(n, function(e) {
return {
name: t.name,
value: e.replace(At, "\r\n")
};
}) : {
name: t.name,
value: n.replace(At, "\r\n")
};
}).get();
}
});
var Dt = /%20/g, Et = /#.*$/, Ft = /([?&])_=[^&]*/, Mt = /^(.*?):[ \t]*([^\r\n]*)$/gm, It = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Pt = /^(?:GET|HEAD)$/, Lt = /^\/\//, Ot = {}, Rt = {}, Nt = "*/".concat("*"), Bt = te.createElement("a");
Bt.href = Ct.href, fe.extend({
active: 0,
lastModified: {},
etag: {},
ajaxSettings: {
url: Ct.href,
type: "GET",
isLocal: It.test(Ct.protocol),
global: !0,
processData: !0,
async: !0,
contentType: "application/x-www-form-urlencoded; charset=UTF-8",
accepts: {
"*": Nt,
text: "text/plain",
html: "text/html",
xml: "application/xml, text/xml",
json: "application/json, text/javascript"
},
contents: {
xml: /\bxml\b/,
html: /\bhtml/,
json: /\bjson\b/
},
responseFields: {
xml: "responseXML",
text: "responseText",
json: "responseJSON"
},
converters: {
"* text": String,
"text html": !0,
"text json": JSON.parse,
"text xml": fe.parseXML
},
flatOptions: {
url: !0,
context: !0
}
},
ajaxSetup: function(e, t) {
return t ? Q(Q(e, fe.ajaxSettings), t) : Q(fe.ajaxSettings, e);
},
ajaxPrefilter: K(Ot),
ajaxTransport: K(Rt),
ajax: function(t, n) {
function i(t, n, i, s) {
var c, h, f, _, w, C = n;
u || (u = !0, l && e.clearTimeout(l), r = void 0, a = s || "", x.readyState = t > 0 ? 4 : 0, c = t >= 200 && t < 300 || 304 === t, i && (_ = J(p, x, i)), _ = Z(p, _, x, c), c ? (p.ifModified && ((w = x.getResponseHeader("Last-Modified")) && (fe.lastModified[o] = w), (w = x.getResponseHeader("etag")) && (fe.etag[o] = w)), 204 === t || "HEAD" === p.type ? C = "nocontent" : 304 === t ? C = "notmodified" : (C = _.state, h = _.data, c = !(f = _.error))) : (f = C, !t && C || (C = "error", t < 0 && (t = 0))), x.status = t, x.statusText = (n || C) + "", c ? v.resolveWith(g, [ h, C, x ]) : v.rejectWith(g, [ x, C, f ]), x.statusCode(b), b = void 0, d && m.trigger(c ? "ajaxSuccess" : "ajaxError", [ x, p, c ? h : f ]), y.fireWith(g, [ x, C ]), d && (m.trigger("ajaxComplete", [ x, p ]), --fe.active || fe.event.trigger("ajaxStop")));
}
"object" == typeof t && (n = t, t = void 0), n = n || {};
var r, o, a, s, l, c, u, d, h, f, p = fe.ajaxSetup({}, n), g = p.context || p, m = p.context && (g.nodeType || g.jquery) ? fe(g) : fe.event, v = fe.Deferred(), y = fe.Callbacks("once memory"), b = p.statusCode || {}, _ = {}, w = {}, C = "canceled", x = {
readyState: 0,
getResponseHeader: function(e) {
var t;
if (u) {
if (!s) for (s = {}; t = Mt.exec(a); ) s[t[1].toLowerCase()] = t[2];
t = s[e.toLowerCase()];
}
return null == t ? null : t;
},
getAllResponseHeaders: function() {
return u ? a : null;
},
setRequestHeader: function(e, t) {
return null == u && (e = w[e.toLowerCase()] = w[e.toLowerCase()] || e, _[e] = t), this;
},
overrideMimeType: function(e) {
return null == u && (p.mimeType = e), this;
},
statusCode: function(e) {
var t;
if (e) if (u) x.always(e[x.status]); else for (t in e) b[t] = [ b[t], e[t] ];
return this;
},
abort: function(e) {
var t = e || C;
return r && r.abort(t), i(0, t), this;
}
};
if (v.promise(x), p.url = ((t || p.url || Ct.href) + "").replace(Lt, Ct.protocol + "//"), p.type = n.method || n.type || p.method || p.type, p.dataTypes = (p.dataType || "*").toLowerCase().match(Te) || [ "" ], null == p.crossDomain) {
c = te.createElement("a");
try {
c.href = p.url, c.href = c.href, p.crossDomain = Bt.protocol + "//" + Bt.host != c.protocol + "//" + c.host;
} catch (e) {
p.crossDomain = !0;
}
}
if (p.data && p.processData && "string" != typeof p.data && (p.data = fe.param(p.data, p.traditional)), X(Ot, p, n, x), u) return x;
(d = fe.event && p.global) && 0 == fe.active++ && fe.event.trigger("ajaxStart"), p.type = p.type.toUpperCase(), p.hasContent = !Pt.test(p.type), o = p.url.replace(Et, ""), p.hasContent ? p.data && p.processData && 0 === (p.contentType || "").indexOf("application/x-www-form-urlencoded") && (p.data = p.data.replace(Dt, "+")) : (f = p.url.slice(o.length), p.data && (o += (St.test(o) ? "&" : "?") + p.data, delete p.data), !1 === p.cache && (o = o.replace(Ft, "$1"), f = (St.test(o) ? "&" : "?") + "_=" + xt++ + f), p.url = o + f), p.ifModified && (fe.lastModified[o] && x.setRequestHeader("If-Modified-Since", fe.lastModified[o]), fe.etag[o] && x.setRequestHeader("If-None-Match", fe.etag[o])), (p.data && p.hasContent && !1 !== p.contentType || n.contentType) && x.setRequestHeader("Content-Type", p.contentType), x.setRequestHeader("Accept", p.dataTypes[0] && p.accepts[p.dataTypes[0]] ? p.accepts[p.dataTypes[0]] + ("*" !== p.dataTypes[0] ? ", " + Nt + "; q=0.01" : "") : p.accepts["*"]);
for (h in p.headers) x.setRequestHeader(h, p.headers[h]);
if (p.beforeSend && (!1 === p.beforeSend.call(g, x, p) || u)) return x.abort();
if (C = "abort", y.add(p.complete), x.done(p.success), x.fail(p.error), r = X(Rt, p, n, x)) {
if (x.readyState = 1, d && m.trigger("ajaxSend", [ x, p ]), u) return x;
p.async && p.timeout > 0 && (l = e.setTimeout(function() {
x.abort("timeout");
}, p.timeout));
try {
u = !1, r.send(_, i);
} catch (e) {
if (u) throw e;
i(-1, e);
}
} else i(-1, "No Transport");
return x;
},
getJSON: function(e, t, n) {
return fe.get(e, t, n, "json");
},
getScript: function(e, t) {
return fe.get(e, void 0, t, "script");
}
}), fe.each([ "get", "post" ], function(e, t) {
fe[t] = function(e, n, i, r) {
return fe.isFunction(n) && (r = r || i, i = n, n = void 0), fe.ajax(fe.extend({
url: e,
type: t,
dataType: r,
data: n,
success: i
}, fe.isPlainObject(e) && e));
};
}), fe._evalUrl = function(e) {
return fe.ajax({
url: e,
type: "GET",
dataType: "script",
cache: !0,
async: !1,
global: !1,
throws: !0
});
}, fe.fn.extend({
wrapAll: function(e) {
var t;
return this[0] && (fe.isFunction(e) && (e = e.call(this[0])), t = fe(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map(function() {
for (var e = this; e.firstElementChild; ) e = e.firstElementChild;
return e;
}).append(this)), this;
},
wrapInner: function(e) {
return fe.isFunction(e) ? this.each(function(t) {
fe(this).wrapInner(e.call(this, t));
}) : this.each(function() {
var t = fe(this), n = t.contents();
n.length ? n.wrapAll(e) : t.append(e);
});
},
wrap: function(e) {
var t = fe.isFunction(e);
return this.each(function(n) {
fe(this).wrapAll(t ? e.call(this, n) : e);
});
},
unwrap: function(e) {
return this.parent(e).not("body").each(function() {
fe(this).replaceWith(this.childNodes);
}), this;
}
}), fe.expr.pseudos.hidden = function(e) {
return !fe.expr.pseudos.visible(e);
}, fe.expr.pseudos.visible = function(e) {
return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length);
}, fe.ajaxSettings.xhr = function() {
try {
return new e.XMLHttpRequest();
} catch (e) {}
};
var jt = {
0: 200,
1223: 204
}, Ht = fe.ajaxSettings.xhr();
he.cors = !!Ht && "withCredentials" in Ht, he.ajax = Ht = !!Ht, fe.ajaxTransport(function(t) {
var n, i;
if (he.cors || Ht && !t.crossDomain) return {
send: function(r, o) {
var a, s = t.xhr();
if (s.open(t.type, t.url, t.async, t.username, t.password), t.xhrFields) for (a in t.xhrFields) s[a] = t.xhrFields[a];
t.mimeType && s.overrideMimeType && s.overrideMimeType(t.mimeType), t.crossDomain || r["X-Requested-With"] || (r["X-Requested-With"] = "XMLHttpRequest");
for (a in r) s.setRequestHeader(a, r[a]);
n = function(e) {
return function() {
n && (n = i = s.onload = s.onerror = s.onabort = s.onreadystatechange = null, "abort" === e ? s.abort() : "error" === e ? "number" != typeof s.status ? o(0, "error") : o(s.status, s.statusText) : o(jt[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
binary: s.response
} : {
text: s.responseText
}, s.getAllResponseHeaders()));
};
}, s.onload = n(), i = s.onerror = n("error"), void 0 !== s.onabort ? s.onabort = i : s.onreadystatechange = function() {
4 === s.readyState && e.setTimeout(function() {
n && i();
});
}, n = n("abort");
try {
s.send(t.hasContent && t.data || null);
} catch (e) {
if (n) throw e;
}
},
abort: function() {
n && n();
}
};
}), fe.ajaxPrefilter(function(e) {
e.crossDomain && (e.contents.script = !1);
}), fe.ajaxSetup({
accepts: {
script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
},
contents: {
script: /\b(?:java|ecma)script\b/
},
converters: {
"text script": function(e) {
return fe.globalEval(e), e;
}
}
}), fe.ajaxPrefilter("script", function(e) {
void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET");
}), fe.ajaxTransport("script", function(e) {
if (e.crossDomain) {
var t, n;
return {
send: function(i, r) {
t = fe("<script>").prop({
charset: e.scriptCharset,
src: e.url
}).on("load error", n = function(e) {
t.remove(), n = null, e && r("error" === e.type ? 404 : 200, e.type);
}), te.head.appendChild(t[0]);
},
abort: function() {
n && n();
}
};
}
});
var Vt = [], Ut = /(=)\?(?=&|$)|\?\?/;
fe.ajaxSetup({
jsonp: "callback",
jsonpCallback: function() {
var e = Vt.pop() || fe.expando + "_" + xt++;
return this[e] = !0, e;
}
}), fe.ajaxPrefilter("json jsonp", function(t, n, i) {
var r, o, a, s = !1 !== t.jsonp && (Ut.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && Ut.test(t.data) && "data");
if (s || "jsonp" === t.dataTypes[0]) return r = t.jsonpCallback = fe.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(Ut, "$1" + r) : !1 !== t.jsonp && (t.url += (St.test(t.url) ? "&" : "?") + t.jsonp + "=" + r), t.converters["script json"] = function() {
return a || fe.error(r + " was not called"), a[0];
}, t.dataTypes[0] = "json", o = e[r], e[r] = function() {
a = arguments;
}, i.always(function() {
void 0 === o ? fe(e).removeProp(r) : e[r] = o, t[r] && (t.jsonpCallback = n.jsonpCallback, Vt.push(r)), a && fe.isFunction(o) && o(a[0]), a = o = void 0;
}), "script";
}), he.createHTMLDocument = function() {
var e = te.implementation.createHTMLDocument("").body;
return e.innerHTML = "<form></form><form></form>", 2 === e.childNodes.length;
}(), fe.parseHTML = function(e, t, n) {
if ("string" != typeof e) return [];
"boolean" == typeof t && (n = t, t = !1);
var i, r, o;
return t || (he.createHTMLDocument ? ((i = (t = te.implementation.createHTMLDocument("")).createElement("base")).href = te.location.href, t.head.appendChild(i)) : t = te), r = Ce.exec(e), o = !n && [], r ? [ t.createElement(r[1]) ] : (r = _([ e ], t, o), o && o.length && fe(o).remove(), fe.merge([], r.childNodes));
}, fe.fn.load = function(e, t, n) {
var i, r, o, a = this, s = e.indexOf(" ");
return s > -1 && (i = q(e.slice(s)), e = e.slice(0, s)), fe.isFunction(t) ? (n = t, t = void 0) : t && "object" == typeof t && (r = "POST"), a.length > 0 && fe.ajax({
url: e,
type: r || "GET",
dataType: "html",
data: t
}).done(function(e) {
o = arguments, a.html(i ? fe("<div>").append(fe.parseHTML(e)).find(i) : e);
}).always(n && function(e, t) {
a.each(function() {
n.apply(this, o || [ e.responseText, t, e ]);
});
}), this;
}, fe.each([ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function(e, t) {
fe.fn[t] = function(e) {
return this.on(t, e);
};
}), fe.expr.pseudos.animated = function(e) {
return fe.grep(fe.timers, function(t) {
return e === t.elem;
}).length;
}, fe.offset = {
setOffset: function(e, t, n) {
var i, r, o, a, s, l, c = fe.css(e, "position"), u = fe(e), d = {};
"static" === c && (e.style.position = "relative"), s = u.offset(), o = fe.css(e, "top"), l = fe.css(e, "left"), ("absolute" === c || "fixed" === c) && (o + l).indexOf("auto") > -1 ? (a = (i = u.position()).top, r = i.left) : (a = parseFloat(o) || 0, r = parseFloat(l) || 0), fe.isFunction(t) && (t = t.call(e, n, fe.extend({}, s))), null != t.top && (d.top = t.top - s.top + a), null != t.left && (d.left = t.left - s.left + r), "using" in t ? t.using.call(e, d) : u.css(d);
}
}, fe.fn.extend({
offset: function(e) {
if (arguments.length) return void 0 === e ? this : this.each(function(t) {
fe.offset.setOffset(this, e, t);
});
var t, n, i, r, o = this[0];
if (o) return o.getClientRects().length ? (i = o.getBoundingClientRect(), t = o.ownerDocument, n = t.documentElement, r = t.defaultView, {
top: i.top + r.pageYOffset - n.clientTop,
left: i.left + r.pageXOffset - n.clientLeft
}) : {
top: 0,
left: 0
};
},
position: function() {
if (this[0]) {
var e, t, n = this[0], i = {
top: 0,
left: 0
};
return "fixed" === fe.css(n, "position") ? t = n.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), r(e[0], "html") || (i = e.offset()), i = {
top: i.top + fe.css(e[0], "borderTopWidth", !0),
left: i.left + fe.css(e[0], "borderLeftWidth", !0)
}), {
top: t.top - i.top - fe.css(n, "marginTop", !0),
left: t.left - i.left - fe.css(n, "marginLeft", !0)
};
}
},
offsetParent: function() {
return this.map(function() {
for (var e = this.offsetParent; e && "static" === fe.css(e, "position"); ) e = e.offsetParent;
return e || Ye;
});
}
}), fe.each({
scrollLeft: "pageXOffset",
scrollTop: "pageYOffset"
}, function(e, t) {
var n = "pageYOffset" === t;
fe.fn[e] = function(i) {
return Fe(this, function(e, i, r) {
var o;
if (fe.isWindow(e) ? o = e : 9 === e.nodeType && (o = e.defaultView), void 0 === r) return o ? o[t] : e[i];
o ? o.scrollTo(n ? o.pageXOffset : r, n ? r : o.pageYOffset) : e[i] = r;
}, e, i, arguments.length);
};
}), fe.each([ "top", "left" ], function(e, t) {
fe.cssHooks[t] = I(he.pixelPosition, function(e, n) {
if (n) return n = M(e, t), rt.test(n) ? fe(e).position()[t] + "px" : n;
});
}), fe.each({
Height: "height",
Width: "width"
}, function(e, t) {
fe.each({
padding: "inner" + e,
content: t,
"": "outer" + e
}, function(n, i) {
fe.fn[i] = function(r, o) {
var a = arguments.length && (n || "boolean" != typeof r), s = n || (!0 === r || !0 === o ? "margin" : "border");
return Fe(this, function(t, n, r) {
var o;
return fe.isWindow(t) ? 0 === i.indexOf("outer") ? t["inner" + e] : t.document.documentElement["client" + e] : 9 === t.nodeType ? (o = t.documentElement, Math.max(t.body["scroll" + e], o["scroll" + e], t.body["offset" + e], o["offset" + e], o["client" + e])) : void 0 === r ? fe.css(t, n, s) : fe.style(t, n, r, s);
}, t, a ? r : void 0, a);
};
});
}), fe.fn.extend({
bind: function(e, t, n) {
return this.on(e, null, t, n);
},
unbind: function(e, t) {
return this.off(e, null, t);
},
delegate: function(e, t, n, i) {
return this.on(t, e, n, i);
},
undelegate: function(e, t, n) {
return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n);
}
}), fe.holdReady = function(e) {
e ? fe.readyWait++ : fe.ready(!0);
}, fe.isArray = Array.isArray, fe.parseJSON = JSON.parse, fe.nodeName = r, "function" == typeof define && define.amd && define("jquery", [], function() {
return fe;
});
var zt = e.jQuery, Wt = e.$;
return fe.noConflict = function(t) {
return e.$ === fe && (e.$ = Wt), t && e.jQuery === fe && (e.jQuery = zt), fe;
}, t || (e.jQuery = e.$ = fe), fe;
}), function(e) {
"use strict";
function t(e, t) {
return t = t || Error, function() {
var n, i, r = arguments, o = r[0], a = "[" + (e ? e + ":" : "") + o + "] ";
for (a += r[1].replace(/\{\d+\}/g, function(e) {
var t = +e.slice(1, -1) + 2;
return t < r.length ? ve(r[t]) : e;
}), a += "\nhttp://errors.angularjs.org/1.5.11/" + (e ? e + "/" : "") + o, i = 2, n = "?"; i < r.length; i++, n = "&") a += n + "p" + (i - 2) + "=" + encodeURIComponent(ve(r[i]));
return new t(a);
};
}
function n(e) {
if (null == e || A(e)) return !1;
if (Oi(e) || w(e) || Si && e instanceof Si) return !0;
var t = "length" in Object(e) && e.length;
return C(t) && (t >= 0 && (t - 1 in e || e instanceof Array) || "function" == typeof e.item);
}
function i(e, t, r) {
var o, a;
if (e) if (S(e)) for (o in e) "prototype" === o || "length" === o || "name" === o || e.hasOwnProperty && !e.hasOwnProperty(o) || t.call(r, e[o], o, e); else if (Oi(e) || n(e)) {
var s = "object" != typeof e;
for (o = 0, a = e.length; o < a; o++) (s || o in e) && t.call(r, e[o], o, e);
} else if (e.forEach && e.forEach !== i) e.forEach(t, r, e); else if (_(e)) for (o in e) t.call(r, e[o], o, e); else if ("function" == typeof e.hasOwnProperty) for (o in e) e.hasOwnProperty(o) && t.call(r, e[o], o, e); else for (o in e) _i.call(e, o) && t.call(r, e[o], o, e);
return e;
}
function r(e, t, n) {
for (var i = Object.keys(e).sort(), r = 0; r < i.length; r++) t.call(n, e[i[r]], i[r]);
return i;
}
function o(e) {
return function(t, n) {
e(n, t);
};
}
function a() {
return ++Pi;
}
function s(e, t) {
t ? e.$$hashKey = t : delete e.$$hashKey;
}
function l(e, t, n) {
for (var i = e.$$hashKey, r = 0, o = t.length; r < o; ++r) {
var a = t[r];
if (b(a) || S(a)) for (var c = Object.keys(a), u = 0, d = c.length; u < d; u++) {
var h = c[u], f = a[h];
n && b(f) ? x(f) ? e[h] = new Date(f.valueOf()) : $(f) ? e[h] = new RegExp(f) : f.nodeName ? e[h] = f.cloneNode(!0) : L(f) ? e[h] = f.clone() : (b(e[h]) || (e[h] = Oi(f) ? [] : {}), l(e[h], [ f ], !0)) : e[h] = f;
}
}
return s(e, i), e;
}
function c(e) {
return l(e, ki.call(arguments, 1), !1);
}
function u(e) {
return l(e, ki.call(arguments, 1), !0);
}
function d(e) {
return parseInt(e, 10);
}
function h(e, t) {
return c(Object.create(e), t);
}
function f() {}
function p(e) {
return e;
}
function g(e) {
return function() {
return e;
};
}
function m(e) {
return S(e.toString) && e.toString !== Ei;
}
function v(e) {
return void 0 === e;
}
function y(e) {
return void 0 !== e;
}
function b(e) {
return null !== e && "object" == typeof e;
}
function _(e) {
return null !== e && "object" == typeof e && !Fi(e);
}
function w(e) {
return "string" == typeof e;
}
function C(e) {
return "number" == typeof e;
}
function x(e) {
return "[object Date]" === Ei.call(e);
}
function S(e) {
return "function" == typeof e;
}
function $(e) {
return "[object RegExp]" === Ei.call(e);
}
function A(e) {
return e && e.window === e;
}
function k(e) {
return e && e.$evalAsync && e.$watch;
}
function T(e) {
return "[object File]" === Ei.call(e);
}
function D(e) {
return "[object FormData]" === Ei.call(e);
}
function E(e) {
return "[object Blob]" === Ei.call(e);
}
function F(e) {
return "boolean" == typeof e;
}
function M(e) {
return e && S(e.then);
}
function I(e) {
return e && C(e.length) && Ri.test(Ei.call(e));
}
function P(e) {
return "[object ArrayBuffer]" === Ei.call(e);
}
function L(e) {
return !(!e || !(e.nodeName || e.prop && e.attr && e.find));
}
function O(e) {
var t, n = {}, i = e.split(",");
for (t = 0; t < i.length; t++) n[i[t]] = !0;
return n;
}
function R(e) {
return wi(e.nodeName || e[0] && e[0].nodeName);
}
function N(e, t) {
var n = e.indexOf(t);
return n >= 0 && e.splice(n, 1), n;
}
function B(e, t) {
function n(e, t) {
var n, i = t.$$hashKey;
if (Oi(e)) for (var o = 0, a = e.length; o < a; o++) t.push(r(e[o])); else if (_(e)) for (n in e) t[n] = r(e[n]); else if (e && "function" == typeof e.hasOwnProperty) for (n in e) e.hasOwnProperty(n) && (t[n] = r(e[n])); else for (n in e) _i.call(e, n) && (t[n] = r(e[n]));
return s(t, i), t;
}
function r(e) {
if (!b(e)) return e;
var t = a.indexOf(e);
if (-1 !== t) return l[t];
if (A(e) || k(e)) throw Mi("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
var i = !1, r = o(e);
return void 0 === r && (r = Oi(e) ? [] : Object.create(Fi(e)), i = !0), a.push(e), l.push(r), i ? n(e, r) : r;
}
function o(e) {
switch (Ei.call(e)) {
case "[object Int8Array]":
case "[object Int16Array]":
case "[object Int32Array]":
case "[object Float32Array]":
case "[object Float64Array]":
case "[object Uint8Array]":
case "[object Uint8ClampedArray]":
case "[object Uint16Array]":
case "[object Uint32Array]":
return new e.constructor(r(e.buffer), e.byteOffset, e.length);

case "[object ArrayBuffer]":
if (!e.slice) {
var t = new ArrayBuffer(e.byteLength);
return new Uint8Array(t).set(new Uint8Array(e)), t;
}
return e.slice(0);

case "[object Boolean]":
case "[object Number]":
case "[object String]":
case "[object Date]":
return new e.constructor(e.valueOf());

case "[object RegExp]":
var n = new RegExp(e.source, e.toString().match(/[^/]*$/)[0]);
return n.lastIndex = e.lastIndex, n;

case "[object Blob]":
return new e.constructor([ e ], {
type: e.type
});
}
if (S(e.cloneNode)) return e.cloneNode(!0);
}
var a = [], l = [];
if (t) {
if (I(t) || P(t)) throw Mi("cpta", "Can't copy! TypedArray destination cannot be mutated.");
if (e === t) throw Mi("cpi", "Can't copy! Source and destination are identical.");
return Oi(t) ? t.length = 0 : i(t, function(e, n) {
"$$hashKey" !== n && delete t[n];
}), a.push(e), l.push(t), n(e, t);
}
return r(e);
}
function j(e, t) {
if (e === t) return !0;
if (null === e || null === t) return !1;
if (e !== e && t !== t) return !0;
var n, i, r, o = typeof e;
if (o === typeof t && "object" === o) {
if (!Oi(e)) {
if (x(e)) return !!x(t) && j(e.getTime(), t.getTime());
if ($(e)) return !!$(t) && e.toString() === t.toString();
if (k(e) || k(t) || A(e) || A(t) || Oi(t) || x(t) || $(t)) return !1;
r = fe();
for (i in e) if ("$" !== i.charAt(0) && !S(e[i])) {
if (!j(e[i], t[i])) return !1;
r[i] = !0;
}
for (i in t) if (!(i in r) && "$" !== i.charAt(0) && y(t[i]) && !S(t[i])) return !1;
return !0;
}
if (!Oi(t)) return !1;
if ((n = e.length) === t.length) {
for (i = 0; i < n; i++) if (!j(e[i], t[i])) return !1;
return !0;
}
}
return !1;
}
function H(e, t, n) {
return e.concat(ki.call(t, n));
}
function V(e, t) {
return ki.call(e, t || 0);
}
function U(e, t) {
var n = arguments.length > 2 ? V(arguments, 2) : [];
return !S(t) || t instanceof RegExp ? t : n.length ? function() {
return arguments.length ? t.apply(e, H(n, arguments, 0)) : t.apply(e, n);
} : function() {
return arguments.length ? t.apply(e, arguments) : t.call(e);
};
}
function z(t, n) {
var i = n;
return "string" == typeof t && "$" === t.charAt(0) && "$" === t.charAt(1) ? i = void 0 : A(n) ? i = "$WINDOW" : n && e.document === n ? i = "$DOCUMENT" : k(n) && (i = "$SCOPE"), i;
}
function W(e, t) {
if (!v(e)) return C(t) || (t = t ? 2 : null), JSON.stringify(e, z, t);
}
function q(e) {
return w(e) ? JSON.parse(e) : e;
}
function G(e, t) {
e = e.replace(Vi, "");
var n = Date.parse("Jan 01, 1970 00:00:00 " + e) / 6e4;
return Li(n) ? t : n;
}
function Y(e, t) {
return (e = new Date(e.getTime())).setMinutes(e.getMinutes() + t), e;
}
function K(e, t, n) {
n = n ? -1 : 1;
var i = e.getTimezoneOffset();
return Y(e, n * (G(t, i) - i));
}
function X(e) {
e = Si(e).clone();
try {
e.empty();
} catch (e) {}
var t = Si("<div>").append(e).html();
try {
return e[0].nodeType === Yi ? wi(t) : t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/, function(e, t) {
return "<" + wi(t);
});
} catch (e) {
return wi(t);
}
}
function Q(e) {
try {
return decodeURIComponent(e);
} catch (e) {}
}
function J(e) {
var t = {};
return i((e || "").split("&"), function(e) {
var n, i, r;
e && (i = e = e.replace(/\+/g, "%20"), -1 !== (n = e.indexOf("=")) && (i = e.substring(0, n), r = e.substring(n + 1)), y(i = Q(i)) && (r = !y(r) || Q(r), _i.call(t, i) ? Oi(t[i]) ? t[i].push(r) : t[i] = [ t[i], r ] : t[i] = r));
}), t;
}
function Z(e) {
var t = [];
return i(e, function(e, n) {
Oi(e) ? i(e, function(e) {
t.push(te(n, !0) + (!0 === e ? "" : "=" + te(e, !0)));
}) : t.push(te(n, !0) + (!0 === e ? "" : "=" + te(e, !0)));
}), t.length ? t.join("&") : "";
}
function ee(e) {
return te(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+");
}
function te(e, t) {
return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, t ? "%20" : "+");
}
function ne(e, t) {
var n, i, r = Ui.length;
for (i = 0; i < r; ++i) if (n = Ui[i] + t, w(n = e.getAttribute(n))) return n;
return null;
}
function ie(t, n) {
var r, o, a = {};
if (i(Ui, function(e) {
var n = e + "app";
!r && t.hasAttribute && t.hasAttribute(n) && (r = t, o = t.getAttribute(n));
}), i(Ui, function(e) {
var n, i = e + "app";
!r && (n = t.querySelector("[" + i.replace(":", "\\:") + "]")) && (r = n, o = n.getAttribute(i));
}), r) {
if (!zi) return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");
a.strictDi = null !== ne(r, "strict-di"), n(r, o ? [ o ] : [], a);
}
}
function re(t, n, r) {
b(r) || (r = {}), r = c({
strictDi: !1
}, r);
var o = function() {
if ((t = Si(t)).injector()) {
var i = t[0] === e.document ? "document" : X(t);
throw Mi("btstrpd", "App already bootstrapped with this element '{0}'", i.replace(/</, "&lt;").replace(/>/, "&gt;"));
}
(n = n || []).unshift([ "$provide", function(e) {
e.value("$rootElement", t);
} ]), r.debugInfoEnabled && n.push([ "$compileProvider", function(e) {
e.debugInfoEnabled(!0);
} ]), n.unshift("ng");
var o = Je(n, r.strictDi);
return o.invoke([ "$rootScope", "$rootElement", "$compile", "$injector", function(e, t, n, i) {
e.$apply(function() {
t.data("$injector", i), n(t)(e);
});
} ]), o;
}, a = /^NG_ENABLE_DEBUG_INFO!/, s = /^NG_DEFER_BOOTSTRAP!/;
if (e && a.test(e.name) && (r.debugInfoEnabled = !0, e.name = e.name.replace(a, "")), e && !s.test(e.name)) return o();
e.name = e.name.replace(s, ""), Ii.resumeBootstrap = function(e) {
return i(e, function(e) {
n.push(e);
}), o();
}, S(Ii.resumeDeferredBootstrap) && Ii.resumeDeferredBootstrap();
}
function oe() {
e.name = "NG_ENABLE_DEBUG_INFO!" + e.name, e.location.reload();
}
function ae(e) {
var t = Ii.element(e).injector();
if (!t) throw Mi("test", "no injector found for element argument to getTestability");
return t.get("$$testability");
}
function se(e, t) {
return t = t || "_", e.replace(Wi, function(e, n) {
return (n ? t : "") + e.toLowerCase();
});
}
function le(e, t, n) {
if (!e) throw Mi("areq", "Argument '{0}' is {1}", t || "?", n || "required");
return e;
}
function ce(e, t, n) {
return n && Oi(e) && (e = e[e.length - 1]), le(S(e), t, "not a function, got " + (e && "object" == typeof e ? e.constructor.name || "Object" : typeof e)), e;
}
function ue(e, t) {
if ("hasOwnProperty" === e) throw Mi("badname", "hasOwnProperty is not a valid {0} name", t);
}
function de(e, t, n) {
if (!t) return e;
for (var i, r = t.split("."), o = e, a = r.length, s = 0; s < a; s++) i = r[s], e && (e = (o = e)[i]);
return !n && S(e) ? U(o, e) : e;
}
function he(e) {
for (var t, n = e[0], i = e[e.length - 1], r = 1; n !== i && (n = n.nextSibling); r++) (t || e[r] !== n) && (t || (t = Si(ki.call(e, 0, r))), t.push(n));
return t || e;
}
function fe() {
return Object.create(null);
}
function pe(e) {
function n(e, t, n) {
return e[t] || (e[t] = n());
}
var i = t("$injector"), r = t("ng"), o = n(e, "angular", Object);
return o.$$minErr = o.$$minErr || t, n(o, "module", function() {
var e = {};
return function(t, o, a) {
return function(e, t) {
if ("hasOwnProperty" === e) throw r("badname", "hasOwnProperty is not a valid {0} name", t);
}(t, "module"), o && e.hasOwnProperty(t) && (e[t] = null), n(e, t, function() {
function e(e, t, n, i) {
return i || (i = r), function() {
return i[n || "push"]([ e, t, arguments ]), u;
};
}
function n(e, n) {
return function(i, o) {
return o && S(o) && (o.$$moduleName = t), r.push([ e, n, arguments ]), u;
};
}
if (!o) throw i("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", t);
var r = [], s = [], l = [], c = e("$injector", "invoke", "push", s), u = {
_invokeQueue: r,
_configBlocks: s,
_runBlocks: l,
requires: o,
name: t,
provider: n("$provide", "provider"),
factory: n("$provide", "factory"),
service: n("$provide", "service"),
value: e("$provide", "value"),
constant: e("$provide", "constant", "unshift"),
decorator: n("$provide", "decorator"),
animation: n("$animateProvider", "register"),
filter: n("$filterProvider", "register"),
controller: n("$controllerProvider", "register"),
directive: n("$compileProvider", "directive"),
component: n("$compileProvider", "component"),
config: c,
run: function(e) {
return l.push(e), this;
}
};
return a && c(a), u;
});
};
});
}
function ge(e, t) {
if (Oi(e)) {
t = t || [];
for (var n = 0, i = e.length; n < i; n++) t[n] = e[n];
} else if (b(e)) {
t = t || {};
for (var r in e) "$" === r.charAt(0) && "$" === r.charAt(1) || (t[r] = e[r]);
}
return t || e;
}
function me(e) {
var t = [];
return JSON.stringify(e, function(e, n) {
if (n = z(e, n), b(n)) {
if (t.indexOf(n) >= 0) return "...";
t.push(n);
}
return n;
});
}
function ve(e) {
return "function" == typeof e ? e.toString().replace(/ \{[\s\S]*$/, "") : v(e) ? "undefined" : "string" != typeof e ? me(e) : e;
}
function ye() {
return ++er;
}
function be(e) {
return e.replace(ir, function(e, t, n, i) {
return i ? n.toUpperCase() : n;
}).replace(rr, "Moz$1");
}
function _e(e) {
return !lr.test(e);
}
function we(e) {
var t = e.nodeType;
return t === Gi || !t || t === Xi;
}
function Ce(e, t) {
var n, r, o, a, s = t.createDocumentFragment(), l = [];
if (_e(e)) l.push(t.createTextNode(e)); else {
for (n = s.appendChild(t.createElement("div")), r = (cr.exec(e) || [ "", "" ])[1].toLowerCase(), o = dr[r] || dr._default, n.innerHTML = o[1] + e.replace(ur, "<$1></$2>") + o[2], a = o[0]; a--; ) n = n.lastChild;
l = H(l, n.childNodes), (n = s.firstChild).textContent = "";
}
return s.textContent = "", s.innerHTML = "", i(l, function(e) {
s.appendChild(e);
}), s;
}
function xe(t, n) {
n = n || e.document;
var i;
return (i = sr.exec(t)) ? [ n.createElement(i[1]) ] : (i = Ce(t, n)) ? i.childNodes : [];
}
function Se(e, t) {
var n = e.parentNode;
n && n.replaceChild(t, e), t.appendChild(e);
}
function $e(e) {
if (e instanceof $e) return e;
var t;
if (w(e) && (e = Ni(e), t = !0), !(this instanceof $e)) {
if (t && "<" !== e.charAt(0)) throw ar("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
return new $e(e);
}
t ? Le(this, xe(e)) : Le(this, e);
}
function Ae(e) {
return e.cloneNode(!0);
}
function ke(e, t) {
if (t || De(e), e.querySelectorAll) for (var n = e.querySelectorAll("*"), i = 0, r = n.length; i < r; i++) De(n[i]);
}
function Te(e, t, n, r) {
if (y(r)) throw ar("offargs", "jqLite#off() does not support the `selector` argument");
var o = Ee(e), a = o && o.events, s = o && o.handle;
if (s) if (t) {
var l = function(t) {
var i = a[t];
y(n) && N(i || [], n), y(n) && i && i.length > 0 || (nr(e, t, s), delete a[t]);
};
i(t.split(" "), function(e) {
l(e), or[e] && l(or[e]);
});
} else for (t in a) "$destroy" !== t && nr(e, t, s), delete a[t];
}
function De(e, t) {
var n = e.ng339, i = n && Zi[n];
if (i) {
if (t) return void delete i.data[t];
i.handle && (i.events.$destroy && i.handle({}, "$destroy"), Te(e)), delete Zi[n], e.ng339 = void 0;
}
}
function Ee(e, t) {
var n = e.ng339, i = n && Zi[n];
return t && !i && (e.ng339 = n = ye(), i = Zi[n] = {
events: {},
data: {},
handle: void 0
}), i;
}
function Fe(e, t, n) {
if (we(e)) {
var i = y(n), r = !i && t && !b(t), o = !t, a = Ee(e, !r), s = a && a.data;
if (i) s[t] = n; else {
if (o) return s;
if (r) return s && s[t];
c(s, t);
}
}
}
function Me(e, t) {
return !!e.getAttribute && (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + t + " ") > -1;
}
function Ie(e, t) {
t && e.setAttribute && i(t.split(" "), function(t) {
e.setAttribute("class", Ni((" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + Ni(t) + " ", " ")));
});
}
function Pe(e, t) {
if (t && e.setAttribute) {
var n = (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
i(t.split(" "), function(e) {
e = Ni(e), -1 === n.indexOf(" " + e + " ") && (n += e + " ");
}), e.setAttribute("class", Ni(n));
}
}
function Le(e, t) {
if (t) if (t.nodeType) e[e.length++] = t; else {
var n = t.length;
if ("number" == typeof n && t.window !== t) {
if (n) for (var i = 0; i < n; i++) e[e.length++] = t[i];
} else e[e.length++] = t;
}
}
function Oe(e, t) {
return Re(e, "$" + (t || "ngController") + "Controller");
}
function Re(e, t, n) {
e.nodeType === Xi && (e = e.documentElement);
for (var i = Oi(t) ? t : [ t ]; e; ) {
for (var r = 0, o = i.length; r < o; r++) if (y(n = Si.data(e, i[r]))) return n;
e = e.parentNode || e.nodeType === Qi && e.host;
}
}
function Ne(e) {
for (ke(e, !0); e.firstChild; ) e.removeChild(e.firstChild);
}
function Be(e, t) {
t || ke(e);
var n = e.parentNode;
n && n.removeChild(e);
}
function je(t, n) {
"complete" === (n = n || e).document.readyState ? n.setTimeout(t) : Si(n).on("load", t);
}
function He(e, t) {
var n = pr[t.toLowerCase()];
return n && gr[R(e)] && n;
}
function Ve(e) {
return mr[e];
}
function Ue(e, t) {
var n = function(n, i) {
n.isDefaultPrevented = function() {
return n.defaultPrevented;
};
var r = t[i || n.type], o = r ? r.length : 0;
if (o) {
if (v(n.immediatePropagationStopped)) {
var a = n.stopImmediatePropagation;
n.stopImmediatePropagation = function() {
n.immediatePropagationStopped = !0, n.stopPropagation && n.stopPropagation(), a && a.call(n);
};
}
n.isImmediatePropagationStopped = function() {
return !0 === n.immediatePropagationStopped;
};
var s = r.specialHandlerWrapper || ze;
o > 1 && (r = ge(r));
for (var l = 0; l < o; l++) n.isImmediatePropagationStopped() || s(e, n, r[l]);
}
};
return n.elem = e, n;
}
function ze(e, t, n) {
n.call(e, t);
}
function We(e, t, n) {
var i = t.relatedTarget;
i && (i === e || hr.call(e, i)) || n.call(e, t);
}
function qe() {
this.$get = function() {
return c($e, {
hasClass: function(e, t) {
return e.attr && (e = e[0]), Me(e, t);
},
addClass: function(e, t) {
return e.attr && (e = e[0]), Pe(e, t);
},
removeClass: function(e, t) {
return e.attr && (e = e[0]), Ie(e, t);
}
});
};
}
function Ge(e, t) {
var n = e && e.$$hashKey;
if (n) return "function" == typeof n && (n = e.$$hashKey()), n;
var i = typeof e;
return n = "function" === i || "object" === i && null !== e ? e.$$hashKey = i + ":" + (t || a)() : i + ":" + e;
}
function Ye(e, t) {
if (t) {
var n = 0;
this.nextUid = function() {
return ++n;
};
}
i(e, this.put, this);
}
function Ke(e) {
return Function.prototype.toString.call(e) + " ";
}
function Xe(e) {
var t = Ke(e).replace(Cr, "");
return t.match(yr) || t.match(br);
}
function Qe(e) {
var t = Xe(e);
return t ? "function(" + (t[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn";
}
function Je(e, t) {
function n(e) {
return function(t, n) {
if (!b(t)) return e(t, n);
i(t, o(e));
};
}
function r(e, t) {
if (ue(e, "service"), (S(t) || Oi(t)) && (t = m.instantiate(t)), !t.$get) throw xr("pget", "Provider '{0}' must define $get factory method.", e);
return p[e + d] = t;
}
function a(e, t) {
return function() {
var n = C.invoke(t, this);
if (v(n)) throw xr("undef", "Provider '{0}' must return a value from $get factory method.", e);
return n;
};
}
function s(e, t, n) {
return r(e, {
$get: !1 !== n ? a(e, t) : t
});
}
function l(e) {
le(v(e) || Oi(e), "modulesToLoad", "not an array");
var t, n = [];
return i(e, function(e) {
function i(e) {
var t, n;
for (t = 0, n = e.length; t < n; t++) {
var i = e[t], r = m.get(i[0]);
r[i[1]].apply(r, i[2]);
}
}
if (!f.get(e)) {
f.put(e, !0);
try {
w(e) ? (t = Ai(e), n = n.concat(l(t.requires)).concat(t._runBlocks), i(t._invokeQueue), i(t._configBlocks)) : S(e) ? n.push(m.invoke(e)) : Oi(e) ? n.push(m.invoke(e)) : ce(e, "module");
} catch (t) {
throw Oi(e) && (e = e[e.length - 1]), t.message && t.stack && -1 === t.stack.indexOf(t.message) && (t = t.message + "\n" + t.stack), xr("modulerr", "Failed to instantiate module {0} due to:\n{1}", e, t.stack || t.message || t);
}
}
}), n;
}
function c(e, n) {
function i(t, i) {
if (e.hasOwnProperty(t)) {
if (e[t] === u) throw xr("cdep", "Circular dependency found: {0}", t + " <- " + h.join(" <- "));
return e[t];
}
try {
return h.unshift(t), e[t] = u, e[t] = n(t, i), e[t];
} catch (n) {
throw e[t] === u && delete e[t], n;
} finally {
h.shift();
}
}
function r(e, n, r) {
for (var o = [], a = Je.$$annotate(e, t, r), s = 0, l = a.length; s < l; s++) {
var c = a[s];
if ("string" != typeof c) throw xr("itkn", "Incorrect injection token! Expected service name as string, got {0}", c);
o.push(n && n.hasOwnProperty(c) ? n[c] : i(c, r));
}
return o;
}
function o(e) {
return !(xi <= 11) && ("function" == typeof e && /^(?:class\b|constructor\()/.test(Ke(e)));
}
return {
invoke: function(e, t, n, i) {
"string" == typeof n && (i = n, n = null);
var a = r(e, n, i);
return Oi(e) && (e = e[e.length - 1]), o(e) ? (a.unshift(null), new (Function.prototype.bind.apply(e, a))()) : e.apply(t, a);
},
instantiate: function(e, t, n) {
var i = Oi(e) ? e[e.length - 1] : e, o = r(e, t, n);
return o.unshift(null), new (Function.prototype.bind.apply(i, o))();
},
get: i,
annotate: Je.$$annotate,
has: function(t) {
return p.hasOwnProperty(t + d) || e.hasOwnProperty(t);
}
};
}
t = !0 === t;
var u = {}, d = "Provider", h = [], f = new Ye([], !0), p = {
$provide: {
provider: n(r),
factory: n(s),
service: n(function(e, t) {
return s(e, [ "$injector", function(e) {
return e.instantiate(t);
} ]);
}),
value: n(function(e, t) {
return s(e, g(t), !1);
}),
constant: n(function(e, t) {
ue(e, "constant"), p[e] = t, y[e] = t;
}),
decorator: function(e, t) {
var n = m.get(e + d), i = n.$get;
n.$get = function() {
var e = C.invoke(i, n);
return C.invoke(t, null, {
$delegate: e
});
};
}
}
}, m = p.$injector = c(p, function(e, t) {
throw Ii.isString(t) && h.push(t), xr("unpr", "Unknown provider: {0}", h.join(" <- "));
}), y = {}, _ = c(y, function(e, t) {
var n = m.get(e + d, t);
return C.invoke(n.$get, n, void 0, e);
}), C = _;
p["$injector" + d] = {
$get: g(_)
};
var x = l(e);
return C = _.get("$injector"), C.strictDi = t, i(x, function(e) {
e && C.invoke(e);
}), C;
}
function Ze() {
var e = !0;
this.disableAutoScrolling = function() {
e = !1;
}, this.$get = [ "$window", "$location", "$rootScope", function(t, n, i) {
function r(e) {
var t = null;
return Array.prototype.some.call(e, function(e) {
if ("a" === R(e)) return t = e, !0;
}), t;
}
function o() {
var e = s.yOffset;
if (S(e)) e = e(); else if (L(e)) {
var n = e[0];
e = "fixed" !== t.getComputedStyle(n).position ? 0 : n.getBoundingClientRect().bottom;
} else C(e) || (e = 0);
return e;
}
function a(e) {
if (e) {
e.scrollIntoView();
var n = o();
if (n) {
var i = e.getBoundingClientRect().top;
t.scrollBy(0, i - n);
}
} else t.scrollTo(0, 0);
}
function s(e) {
var t;
(e = w(e) ? e : C(e) ? e.toString() : n.hash()) ? (t = l.getElementById(e)) ? a(t) : (t = r(l.getElementsByName(e))) ? a(t) : "top" === e && a(null) : a(null);
}
var l = t.document;
return e && i.$watch(function() {
return n.hash();
}, function(e, t) {
e === t && "" === e || je(function() {
i.$evalAsync(s);
});
}), s;
} ];
}
function et(e, t) {
return e || t ? e ? t ? (Oi(e) && (e = e.join(" ")), Oi(t) && (t = t.join(" ")), e + " " + t) : e : t : "";
}
function tt(e) {
for (var t = 0; t < e.length; t++) {
var n = e[t];
if (n.nodeType === $r) return n;
}
}
function nt(e) {
w(e) && (e = e.split(" "));
var t = fe();
return i(e, function(e) {
e.length && (t[e] = !0);
}), t;
}
function it(e) {
return b(e) ? e : {};
}
function rt(e, t, n, r) {
function o(e) {
try {
e.apply(null, V(arguments, 1));
} finally {
if (0 == --y) for (;b.length; ) try {
b.pop()();
} catch (e) {
n.error(e);
}
}
}
function a(e) {
var t = e.indexOf("#");
return -1 === t ? "" : e.substr(t);
}
function s() {
S = null, l(), c();
}
function l() {
_ = $(), j(_ = v(_) ? null : _, T) && (_ = T), T = _;
}
function c() {
C === u.url() && w === _ || (C = u.url(), w = _, i(A, function(e) {
e(u.url(), _);
}));
}
var u = this, d = e.location, h = e.history, p = e.setTimeout, g = e.clearTimeout, m = {};
u.isMock = !1;
var y = 0, b = [];
u.$$completeOutstandingRequest = o, u.$$incOutstandingRequestCount = function() {
y++;
}, u.notifyWhenNoOutstandingRequests = function(e) {
0 === y ? e() : b.push(e);
};
var _, w, C = d.href, x = t.find("base"), S = null, $ = r.history ? function() {
try {
return h.state;
} catch (e) {}
} : f;
l(), w = _, u.url = function(t, n, i) {
if (v(i) && (i = null), d !== e.location && (d = e.location), h !== e.history && (h = e.history), t) {
var o = w === i;
if (C === t && (!r.history || o)) return u;
var s = C && Rt(C) === Rt(t);
return C = t, w = i, !r.history || s && o ? (s || (S = t), n ? d.replace(t) : s ? d.hash = a(t) : d.href = t, d.href !== t && (S = t)) : (h[n ? "replaceState" : "pushState"](i, "", t), l(), w = _), S && (S = t), u;
}
return S || d.href.replace(/%27/g, "'");
}, u.state = function() {
return _;
};
var A = [], k = !1, T = null;
u.onUrlChange = function(t) {
return k || (r.history && Si(e).on("popstate", s), Si(e).on("hashchange", s), k = !0), A.push(t), t;
}, u.$$applicationDestroyed = function() {
Si(e).off("hashchange popstate", s);
}, u.$$checkUrlChange = c, u.baseHref = function() {
var e = x.attr("href");
return e ? e.replace(/^(https?:)?\/\/[^/]*/, "") : "";
}, u.defer = function(e, t) {
var n;
return y++, n = p(function() {
delete m[n], o(e);
}, t || 0), m[n] = !0, n;
}, u.defer.cancel = function(e) {
return !!m[e] && (delete m[e], g(e), o(f), !0);
};
}
function ot() {
this.$get = [ "$window", "$log", "$sniffer", "$document", function(e, t, n, i) {
return new rt(e, i, t, n);
} ];
}
function at() {
this.$get = function() {
function e(e, i) {
function r(e) {
e !== h && (f ? f === e && (f = e.n) : f = e, o(e.n, e.p), o(e, h), (h = e).n = null);
}
function o(e, t) {
e !== t && (e && (e.p = t), t && (t.n = e));
}
if (e in n) throw t("$cacheFactory")("iid", "CacheId '{0}' is already taken!", e);
var a = 0, s = c({}, i, {
id: e
}), l = fe(), u = i && i.capacity || Number.MAX_VALUE, d = fe(), h = null, f = null;
return n[e] = {
put: function(e, t) {
if (!v(t)) return u < Number.MAX_VALUE && r(d[e] || (d[e] = {
key: e
})), e in l || a++, l[e] = t, a > u && this.remove(f.key), t;
},
get: function(e) {
if (u < Number.MAX_VALUE) {
var t = d[e];
if (!t) return;
r(t);
}
return l[e];
},
remove: function(e) {
if (u < Number.MAX_VALUE) {
var t = d[e];
if (!t) return;
t === h && (h = t.p), t === f && (f = t.n), o(t.n, t.p), delete d[e];
}
e in l && (delete l[e], a--);
},
removeAll: function() {
l = fe(), a = 0, d = fe(), h = f = null;
},
destroy: function() {
l = null, s = null, d = null, delete n[e];
},
info: function() {
return c({}, s, {
size: a
});
}
};
}
var n = {};
return e.info = function() {
var e = {};
return i(n, function(t, n) {
e[n] = t.info();
}), e;
}, e.get = function(e) {
return n[e];
}, e;
};
}
function st() {
this.$get = [ "$cacheFactory", function(e) {
return e("templates");
} ];
}
function lt(t, n) {
function r(e, t, n) {
var r = /^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/, o = fe();
return i(e, function(e, i) {
if (e in T) o[i] = T[e]; else {
var a = e.match(r);
if (!a) throw Mr("iscp", "Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}", t, i, e, n ? "controller bindings definition" : "isolate scope definition");
o[i] = {
mode: a[1][0],
collection: "*" === a[2],
optional: "?" === a[3],
attrName: a[4] || i
}, a[4] && (T[e] = o[i]);
}
}), o;
}
function a(e, t) {
var n = {
isolateScope: null,
bindToController: null
};
if (b(e.scope) && (!0 === e.bindToController ? (n.bindToController = r(e.scope, t, !0), n.isolateScope = {}) : n.isolateScope = r(e.scope, t, !1)), b(e.bindToController) && (n.bindToController = r(e.bindToController, t, !0)), n.bindToController && !e.controller) throw Mr("noctrl", "Cannot bind to controller without directive '{0}'s controller.", t);
return n;
}
function s(e) {
var t = e.charAt(0);
if (!t || t !== wi(t)) throw Mr("baddir", "Directive/Component name '{0}' is invalid. The first character must be a lowercase letter", e);
if (e !== e.trim()) throw Mr("baddir", "Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces", e);
}
function l(e) {
var t = e.require || e.controller && e.name;
return !Oi(t) && b(t) && i(t, function(e, n) {
var i = e.match($);
e.substring(i[0].length) || (t[n] = i[0] + n);
}), t;
}
function u(e, t) {
if (e && (!w(e) || !/[EACM]/.test(e))) throw Mr("badrestrict", "Restrict property '{0}' of directive '{1}' is invalid", e, t);
return e || "EA";
}
var d = {}, m = "Directive", _ = /^\s*directive:\s*([\w-]+)\s+(.*)$/, C = /(([\w-]+)(?::([^;]+))?;?)/, x = O("ngSrc,ngSrcset,src,srcset"), $ = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/, A = /^(on[a-z]+|formaction)$/, T = fe();
this.directive = function e(n, r) {
return le(n, "name"), ue(n, "directive"), w(n) ? (s(n), le(r, "directiveFactory"), d.hasOwnProperty(n) || (d[n] = [], t.factory(n + m, [ "$injector", "$exceptionHandler", function(e, t) {
var r = [];
return i(d[n], function(i, o) {
try {
var a = e.invoke(i);
S(a) ? a = {
compile: g(a)
} : !a.compile && a.link && (a.compile = g(a.link)), a.priority = a.priority || 0, a.index = o, a.name = a.name || n, a.require = l(a), a.restrict = u(a.restrict, n), a.$$moduleName = i.$$moduleName, r.push(a);
} catch (e) {
t(e);
}
}), r;
} ])), d[n].push(r)) : i(n, o(e)), this;
}, this.component = function(e, t) {
function n(e) {
function n(t) {
return S(t) || Oi(t) ? function(n, i) {
return e.invoke(t, this, {
$element: n,
$attrs: i
});
} : t;
}
var o = t.template || t.templateUrl ? t.template : "", a = {
controller: r,
controllerAs: ft(t.controller) || t.controllerAs || "$ctrl",
template: n(o),
templateUrl: n(t.templateUrl),
transclude: t.transclude,
scope: {},
bindToController: t.bindings || {},
restrict: "E",
require: t.require
};
return i(t, function(e, t) {
"$" === t.charAt(0) && (a[t] = e);
}), a;
}
var r = t.controller || function() {};
return i(t, function(e, t) {
"$" === t.charAt(0) && (n[t] = e, S(r) && (r[t] = e));
}), n.$inject = [ "$injector" ], this.directive(e, n);
}, this.aHrefSanitizationWhitelist = function(e) {
return y(e) ? (n.aHrefSanitizationWhitelist(e), this) : n.aHrefSanitizationWhitelist();
}, this.imgSrcSanitizationWhitelist = function(e) {
return y(e) ? (n.imgSrcSanitizationWhitelist(e), this) : n.imgSrcSanitizationWhitelist();
};
var D = !0;
this.debugInfoEnabled = function(e) {
return y(e) ? (D = e, this) : D;
};
var E = !0;
this.preAssignBindingsEnabled = function(e) {
return y(e) ? (E = e, this) : E;
};
var M = 10;
this.onChangesTtl = function(e) {
return arguments.length ? (M = e, this) : M;
};
var I = !0;
this.commentDirectivesEnabled = function(e) {
return arguments.length ? (I = e, this) : I;
};
var P = !0;
this.cssClassDirectivesEnabled = function(e) {
return arguments.length ? (P = e, this) : P;
}, this.$get = [ "$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$sce", "$animate", "$$sanitizeUri", function(t, n, r, o, s, l, u, g, T, L) {
function O() {
try {
if (!--Ee) throw xe = void 0, Mr("infchng", "{0} $onChanges() iterations reached. Aborting!\n", M);
u.$apply(function() {
for (var e = [], t = 0, n = xe.length; t < n; ++t) try {
xe[t]();
} catch (t) {
e.push(t);
}
if (xe = void 0, e.length) throw e;
});
} finally {
Ee++;
}
}
function B(e, t) {
if (t) {
var n, i, r, o = Object.keys(t);
for (n = 0, i = o.length; n < i; n++) this[r = o[n]] = t[r];
} else this.$attr = {};
this.$$element = e;
}
function H(e, t, n) {
ke.innerHTML = "<span " + t + ">";
var i = ke.firstChild.attributes, r = i[0];
i.removeNamedItem(r.name), r.value = n, e.attributes.setNamedItem(r);
}
function z(e, t) {
try {
e.addClass(t);
} catch (e) {}
}
function W(t, n, i, r, o) {
t instanceof Si || (t = Si(t));
for (var a = /\S+/, s = 0, l = t.length; s < l; s++) {
var c = t[s];
c.nodeType === Yi && c.nodeValue.match(a) && Se(c, t[s] = e.document.createElement("span"));
}
var u = G(t, n, t, i, r, o);
W.$$addScopeClass(t);
var d = null;
return function(e, n, i) {
le(e, "scope"), o && o.needsNewScope && (e = e.$parent.$new());
var r = (i = i || {}).parentBoundTranscludeFn, a = i.transcludeControllers, s = i.futureParentElement;
r && r.$$boundTransclude && (r = r.$$boundTransclude), d || (d = q(s));
var l;
if (l = "html" !== d ? Si(ge(d, Si("<div>").append(t).html())) : n ? fr.clone.call(t) : t, a) for (var c in a) l.data("$" + c + "Controller", a[c].instance);
return W.$$addScopeInfo(l, e), n && n(l, e), u && u(e, l, l, r), l;
};
}
function q(e) {
var t = e && e[0];
return t && "foreignobject" !== R(t) && Ei.call(t).match(/SVG/) ? "svg" : "html";
}
function G(e, t, n, i, r, o) {
for (var a, s, l, c, u, d, h, f = [], p = 0; p < e.length; p++) a = new B(), (l = (s = K(e[p], [], a, 0 === p ? i : void 0, r)).length ? te(s, e[p], a, t, n, null, [], [], o) : null) && l.scope && W.$$addScopeClass(a.$$element), u = l && l.terminal || !(c = e[p].childNodes) || !c.length ? null : G(c, l ? (l.transcludeOnThisElement || !l.templateOnThisElement) && l.transclude : t), (l || u) && (f.push(p, l, u), d = !0, h = h || l), o = null;
return d ? function(e, n, i, r) {
var o, a, s, l, c, u, d, p;
if (h) {
var g = n.length;
for (p = new Array(g), c = 0; c < f.length; c += 3) p[d = f[c]] = n[d];
} else p = n;
for (c = 0, u = f.length; c < u; ) s = p[f[c++]], o = f[c++], a = f[c++], o ? (o.scope ? (l = e.$new(), W.$$addScopeInfo(Si(s), l)) : l = e, o(a, l, s, i, o.transcludeOnThisElement ? Y(e, o.transclude, r) : !o.templateOnThisElement && r ? r : !r && t ? Y(e, t) : null)) : a && a(e, s.childNodes, void 0, r);
} : null;
}
function Y(e, t, n) {
function i(i, r, o, a, s) {
return i || ((i = e.$new(!1, s)).$$transcluded = !0), t(i, r, {
parentBoundTranscludeFn: n,
transcludeControllers: o,
futureParentElement: a
});
}
var r = i.$$slots = fe();
for (var o in t.$$slots) t.$$slots[o] ? r[o] = Y(e, t.$$slots[o], n) : r[o] = null;
return i;
}
function K(e, t, n, i, r) {
var o, a, s, l = e.nodeType, c = n.$attr;
switch (l) {
case Gi:
oe(t, ut(a = R(e)), "E", i, r);
for (var u, d, h, f, p, g, m = e.attributes, v = 0, y = m && m.length; v < y; v++) {
var _ = !1, x = !1;
d = (u = m[v]).name, p = Ni(u.value), f = ut(d), (g = Pe.test(f)) && (d = d.replace(Pr, "").substr(8).replace(/_(.)/g, function(e, t) {
return t.toUpperCase();
}));
var S = f.match(Le);
S && ae(S[1]) && (_ = d, x = d.substr(0, d.length - 5) + "end", d = d.substr(0, d.length - 6)), c[h = ut(d.toLowerCase())] = d, !g && n.hasOwnProperty(h) || (n[h] = p, He(e, h) && (n[h] = !0)), ve(e, t, p, h, g), oe(t, h, "A", i, r, _, x);
}
if ("input" === a && "hidden" === e.getAttribute("type") && e.setAttribute("autocomplete", "off"), !De) break;
if (s = e.className, b(s) && (s = s.animVal), w(s) && "" !== s) for (;o = C.exec(s); ) oe(t, h = ut(o[2]), "C", i, r) && (n[h] = Ni(o[3])), s = s.substr(o.index + o[0].length);
break;

case Yi:
if (11 === xi) for (;e.parentNode && e.nextSibling && e.nextSibling.nodeType === Yi; ) e.nodeValue = e.nodeValue + e.nextSibling.nodeValue, e.parentNode.removeChild(e.nextSibling);
pe(t, e.nodeValue);
break;

case Ki:
if (!Te) break;
Q(e, t, n, i, r);
}
return t.sort(de), t;
}
function Q(e, t, n, i, r) {
try {
var o = _.exec(e.nodeValue);
if (o) {
var a = ut(o[1]);
oe(t, a, "M", i, r) && (n[a] = Ni(o[2]));
}
} catch (e) {}
}
function J(e, t, n) {
var i = [], r = 0;
if (t && e.hasAttribute && e.hasAttribute(t)) do {
if (!e) throw Mr("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", t, n);
e.nodeType === Gi && (e.hasAttribute(t) && r++, e.hasAttribute(n) && r--), i.push(e), e = e.nextSibling;
} while (r > 0); else i.push(e);
return Si(i);
}
function Z(e, t, n) {
return function(i, r, o, a, s) {
return r = J(r[0], t, n), e(i, r, o, a, s);
};
}
function ee(e, t, n, i, r, o) {
var a;
return e ? W(t, n, i, r, o) : function() {
return a || (a = W(t, n, i, r, o), t = n = o = null), a.apply(this, arguments);
};
}
function te(e, t, n, o, a, s, l, u, d) {
function h(e, t, n, i) {
e && (n && (e = Z(e, n, i)), e.require = p.require, e.directiveName = g, ($ === p || p.$$isolateScope) && (e = be(e, {
isolateScope: !0
})), l.push(e)), t && (n && (t = Z(t, n, i)), t.require = p.require, t.directiveName = g, ($ === p || p.$$isolateScope) && (t = be(t, {
isolateScope: !0
})), u.push(t));
}
function f(e, o, a, s, d) {
var h, f, p, g, m, y, _, w, T, D;
t === a ? (T = n, w = n.$$element) : T = new B(w = Si(a), n), m = o, $ ? g = o.$new(!0) : C && (m = o.$parent), d && ((_ = function(e, t, n, i) {
var r;
if (k(e) || (i = n, n = t, t = e, e = void 0), M && (r = y), n || (n = M ? w.parent() : w), !i) return d(e, t, r, n, R);
var o = d.$$slots[i];
if (o) return o(e, t, r, n, R);
if (v(o)) throw Mr("noslot", 'No parent directive that requires a transclusion with slot name "{0}". Element: {1}', i, X(w));
}).$$boundTransclude = d, _.isSlotFilled = function(e) {
return !!d.$$slots[e];
}), x && (y = ie(w, T, _, x, g, o, $)), $ && (W.$$addScopeInfo(w, g, !0, !(A && (A === $ || A === $.$$originalDirective))), W.$$addScopeClass(w, !0), g.$$isolateBindings = $.$$isolateBindings, (D = Ce(o, T, g, g.$$isolateBindings, $)).removeWatches && g.$on("$destroy", D.removeWatches));
for (var F in y) {
var I = x[F], P = y[F], L = I.$$bindings.bindToController;
if (E) {
P.bindingInfo = L ? Ce(m, T, P.instance, L, I) : {};
var O = P();
O !== P.instance && (P.instance = O, w.data("$" + I.name + "Controller", O), P.bindingInfo.removeWatches && P.bindingInfo.removeWatches(), P.bindingInfo = Ce(m, T, P.instance, L, I));
} else P.instance = P(), w.data("$" + I.name + "Controller", P.instance), P.bindingInfo = Ce(m, T, P.instance, L, I);
}
for (i(x, function(e, t) {
var n = e.require;
e.bindToController && !Oi(n) && b(n) && c(y[t].instance, ne(t, n, w, y));
}), i(y, function(e) {
var t = e.instance;
if (S(t.$onChanges)) try {
t.$onChanges(e.bindingInfo.initialChanges);
} catch (e) {
r(e);
}
if (S(t.$onInit)) try {
t.$onInit();
} catch (e) {
r(e);
}
S(t.$doCheck) && (m.$watch(function() {
t.$doCheck();
}), t.$doCheck()), S(t.$onDestroy) && m.$on("$destroy", function() {
t.$onDestroy();
});
}), h = 0, f = l.length; h < f; h++) we(p = l[h], p.isolateScope ? g : o, w, T, p.require && ne(p.directiveName, p.require, w, y), _);
var R = o;
for ($ && ($.template || null === $.templateUrl) && (R = g), e && e(R, a.childNodes, void 0, d), h = u.length - 1; h >= 0; h--) we(p = u[h], p.isolateScope ? g : o, w, T, p.require && ne(p.directiveName, p.require, w, y), _);
i(y, function(e) {
var t = e.instance;
S(t.$postLink) && t.$postLink();
});
}
d = d || {};
for (var p, g, m, y, _, w = -Number.MAX_VALUE, C = d.newScopeDirective, x = d.controllerDirectives, $ = d.newIsolateScopeDirective, A = d.templateDirective, T = d.nonTlbTranscludeDirective, D = !1, F = !1, M = d.hasElementTranscludeDirective, I = n.$$element = Si(t), P = s, L = o, O = !1, N = !1, j = 0, H = e.length; j < H; j++) {
var z = (p = e[j]).$$start, q = p.$$end;
if (z && (I = J(t, z, q)), m = void 0, w > p.priority) break;
if ((_ = p.scope) && (p.templateUrl || (b(_) ? (he("new/isolated scope", $ || C, p, I), $ = p) : he("new/isolated scope", $, p, I)), C = C || p), g = p.name, !O && (p.replace && (p.templateUrl || p.template) || p.transclude && !p.$$tlb)) {
for (var G, Y = j + 1; G = e[Y++]; ) if (G.transclude && !G.$$tlb || G.replace && (G.templateUrl || G.template)) {
N = !0;
break;
}
O = !0;
}
if (!p.templateUrl && p.controller && (x = x || fe(), he("'" + g + "' controller", x[g], p, I), x[g] = p), _ = p.transclude) if (D = !0, p.$$tlb || (he("transclusion", T, p, I), T = p), "element" === _) M = !0, w = p.priority, m = I, I = n.$$element = Si(W.$$createComment(g, n[g])), t = I[0], ye(a, V(m), t), m[0].$$parentNode = m[0].parentNode, L = ee(N, m, o, w, P && P.name, {
nonTlbTranscludeDirective: T
}); else {
var Q = fe();
if (m = Si(Ae(t)).contents(), b(_)) {
m = [];
var te = fe(), oe = fe();
i(_, function(e, t) {
var n = "?" === e.charAt(0);
e = n ? e.substring(1) : e, te[e] = t, Q[t] = null, oe[t] = n;
}), i(I.contents(), function(e) {
var t = te[ut(R(e))];
t ? (oe[t] = !0, Q[t] = Q[t] || [], Q[t].push(e)) : m.push(e);
}), i(oe, function(e, t) {
if (!e) throw Mr("reqslot", "Required transclusion slot `{0}` was not filled.", t);
});
for (var ae in Q) Q[ae] && (Q[ae] = ee(N, Q[ae], o));
}
I.empty(), (L = ee(N, m, o, void 0, void 0, {
needsNewScope: p.$$isolateScope || p.$$newScope
})).$$slots = Q;
}
if (p.template) if (F = !0, he("template", A, p, I), A = p, _ = S(p.template) ? p.template(I, n) : p.template, _ = Ie(_), p.replace) {
if (P = p, m = _e(_) ? [] : ht(ge(p.templateNamespace, Ni(_))), t = m[0], 1 !== m.length || t.nodeType !== Gi) throw Mr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", g, "");
ye(a, I, t);
var se = {
$attr: {}
}, le = K(t, [], se), de = e.splice(j + 1, e.length - (j + 1));
($ || C) && re(le, $, C), e = e.concat(le).concat(de), ce(n, se), H = e.length;
} else I.html(_);
if (p.templateUrl) F = !0, he("template", A, p, I), A = p, p.replace && (P = p), f = ue(e.splice(j, e.length - j), I, n, a, D && L, l, u, {
controllerDirectives: x,
newScopeDirective: C !== p && C,
newIsolateScopeDirective: $,
templateDirective: A,
nonTlbTranscludeDirective: T
}), H = e.length; else if (p.compile) try {
y = p.compile(I, n, L);
var pe = p.$$originalDirective || p;
S(y) ? h(null, U(pe, y), z, q) : y && h(U(pe, y.pre), U(pe, y.post), z, q);
} catch (e) {
r(e, X(I));
}
p.terminal && (f.terminal = !0, w = Math.max(w, p.priority));
}
return f.scope = C && !0 === C.scope, f.transcludeOnThisElement = D, f.templateOnThisElement = F, f.transclude = L, d.hasElementTranscludeDirective = M, f;
}
function ne(e, t, n, r) {
var o;
if (w(t)) {
var a = t.match($), s = t.substring(a[0].length), l = a[1] || a[3], c = "?" === a[2];
if ("^^" === l ? n = n.parent() : (o = r && r[s], o = o && o.instance), !o) {
var u = "$" + s + "Controller";
o = l ? n.inheritedData(u) : n.data(u);
}
if (!o && !c) throw Mr("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", s, e);
} else if (Oi(t)) {
o = [];
for (var d = 0, h = t.length; d < h; d++) o[d] = ne(e, t[d], n, r);
} else b(t) && (o = {}, i(t, function(t, i) {
o[i] = ne(e, t, n, r);
}));
return o || null;
}
function ie(e, t, n, i, r, o, a) {
var s = fe();
for (var c in i) {
var u = i[c], d = {
$scope: u === a || u.$$isolateScope ? r : o,
$element: e,
$attrs: t,
$transclude: n
}, h = u.controller;
"@" === h && (h = t[u.name]);
var f = l(h, d, !0, u.controllerAs);
s[u.name] = f, e.data("$" + u.name + "Controller", f.instance);
}
return s;
}
function re(e, t, n) {
for (var i = 0, r = e.length; i < r; i++) e[i] = h(e[i], {
$$isolateScope: t,
$$newScope: n
});
}
function oe(e, n, i, r, o, s, l) {
if (n === o) return null;
var c = null;
if (d.hasOwnProperty(n)) for (var u, f = t.get(n + m), p = 0, g = f.length; p < g; p++) if (u = f[p], (v(r) || r > u.priority) && -1 !== u.restrict.indexOf(i)) {
if (s && (u = h(u, {
$$start: s,
$$end: l
})), !u.$$bindings) {
var y = u.$$bindings = a(u, u.name);
b(y.isolateScope) && (u.$$isolateBindings = y.isolateScope);
}
e.push(u), c = u;
}
return c;
}
function ae(e) {
if (d.hasOwnProperty(e)) for (var n = t.get(e + m), i = 0, r = n.length; i < r; i++) if (n[i].multiElement) return !0;
return !1;
}
function ce(e, t) {
var n = t.$attr, r = e.$attr;
i(e, function(i, r) {
"$" !== r.charAt(0) && (t[r] && t[r] !== i && (i += ("style" === r ? ";" : " ") + t[r]), e.$set(r, i, !0, n[r]));
}), i(t, function(t, i) {
e.hasOwnProperty(i) || "$" === i.charAt(0) || (e[i] = t, "class" !== i && "style" !== i && (r[i] = n[i]));
});
}
function ue(e, t, n, r, a, s, l, c) {
var u, d, f = [], p = t[0], g = e.shift(), m = h(g, {
templateUrl: null,
transclude: null,
replace: null,
$$originalDirective: g
}), v = S(g.templateUrl) ? g.templateUrl(t, n) : g.templateUrl, y = g.templateNamespace;
return t.empty(), o(v).then(function(o) {
var h, _, w, C;
if (o = Ie(o), g.replace) {
if (w = _e(o) ? [] : ht(ge(y, Ni(o))), h = w[0], 1 !== w.length || h.nodeType !== Gi) throw Mr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", g.name, v);
_ = {
$attr: {}
}, ye(r, t, h);
var x = K(h, [], _);
b(g.scope) && re(x, !0), e = x.concat(e), ce(n, _);
} else h = p, t.html(o);
for (e.unshift(m), u = te(e, h, n, a, t, g, s, l, c), i(r, function(e, n) {
e === h && (r[n] = t[0]);
}), d = G(t[0].childNodes, a); f.length; ) {
var S = f.shift(), $ = f.shift(), A = f.shift(), k = f.shift(), T = t[0];
if (!S.$$destroyed) {
if ($ !== p) {
var D = $.className;
c.hasElementTranscludeDirective && g.replace || (T = Ae(h)), ye(A, Si($), T), z(Si(T), D);
}
C = u.transcludeOnThisElement ? Y(S, u.transclude, k) : k, u(d, S, T, r, C);
}
}
f = null;
}), function(e, t, n, i, r) {
var o = r;
t.$$destroyed || (f ? f.push(t, n, i, o) : (u.transcludeOnThisElement && (o = Y(t, u.transclude, r)), u(d, t, n, i, o)));
};
}
function de(e, t) {
var n = t.priority - e.priority;
return 0 !== n ? n : e.name !== t.name ? e.name < t.name ? -1 : 1 : e.index - t.index;
}
function he(e, t, n, i) {
function r(e) {
return e ? " (module: " + e + ")" : "";
}
if (t) throw Mr("multidir", "Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}", t.name, r(t.$$moduleName), n.name, r(n.$$moduleName), e, X(i));
}
function pe(e, t) {
var i = n(t, !0);
i && e.push({
priority: 0,
compile: function(e) {
var t = e.parent(), n = !!t.length;
return n && W.$$addBindingClass(t), function(e, t) {
var r = t.parent();
n || W.$$addBindingClass(r), W.$$addBindingInfo(r, i.expressions), e.$watch(i, function(e) {
t[0].nodeValue = e;
});
};
}
});
}
function ge(t, n) {
switch (t = wi(t || "html")) {
case "svg":
case "math":
var i = e.document.createElement("div");
return i.innerHTML = "<" + t + ">" + n + "</" + t + ">", i.childNodes[0].childNodes;

default:
return n;
}
}
function me(e, t) {
if ("srcdoc" === t) return g.HTML;
var n = R(e);
if ("src" === t || "ngSrc" === t) {
if (-1 === [ "img", "video", "audio", "source", "track" ].indexOf(n)) return g.RESOURCE_URL;
} else if ("xlinkHref" === t || "form" === n && "action" === t) return g.RESOURCE_URL;
}
function ve(e, t, i, r, o) {
var a = me(e, r), s = !o, l = x[r] || o, c = n(i, s, a, l);
if (c) {
if ("multiple" === r && "select" === R(e)) throw Mr("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", X(e));
t.push({
priority: 100,
compile: function() {
return {
pre: function(e, t, o) {
var s = o.$$observers || (o.$$observers = fe());
if (A.test(r)) throw Mr("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
var u = o[r];
u !== i && (c = u && n(u, !0, a, l), i = u), c && (o[r] = c(e), (s[r] || (s[r] = [])).$$inter = !0, (o.$$observers && o.$$observers[r].$$scope || e).$watch(c, function(e, t) {
"class" === r && e !== t ? o.$updateClass(e, t) : o.$set(r, e);
}));
}
};
}
});
}
}
function ye(t, n, i) {
var r, o, a = n[0], s = n.length, l = a.parentNode;
if (t) for (r = 0, o = t.length; r < o; r++) if (t[r] === a) {
t[r++] = i;
for (var c = r, u = c + s - 1, d = t.length; c < d; c++, u++) u < d ? t[c] = t[u] : delete t[c];
t.length -= s - 1, t.context === a && (t.context = i);
break;
}
l && l.replaceChild(i, a);
var h = e.document.createDocumentFragment();
for (r = 0; r < s; r++) h.appendChild(n[r]);
for (Si.hasData(a) && (Si.data(i, Si.data(a)), Si(a).off("$destroy")), Si.cleanData(h.querySelectorAll("*")), r = 1; r < s; r++) delete n[r];
n[0] = i, n.length = 1;
}
function be(e, t) {
return c(function() {
return e.apply(null, arguments);
}, e, t);
}
function we(e, t, n, i, o, a) {
try {
e(t, n, i, o, a);
} catch (e) {
r(e, X(n));
}
}
function Ce(e, t, r, o, a) {
function l(t, n, i) {
!S(r.$onChanges) || n === i || n !== n && i !== i || (xe || (e.$$postDigest(O), xe = []), u || (u = {}, xe.push(c)), u[t] && (i = u[t].previousValue), u[t] = new ct(i, n));
}
function c() {
r.$onChanges(u), u = void 0;
}
var u, d = [], h = {};
return i(o, function(i, o) {
var c, u, p, g, m, v = i.attrName, y = i.optional;
switch (i.mode) {
case "@":
y || _i.call(t, v) || (r[o] = t[v] = void 0), m = t.$observe(v, function(e) {
if (w(e) || F(e)) {
var t = r[o];
l(o, e, t), r[o] = e;
}
}), t.$$observers[v].$$scope = e, w(c = t[v]) ? r[o] = n(c)(e) : F(c) && (r[o] = c), h[o] = new ct(Ir, r[o]), d.push(m);
break;

case "=":
if (!_i.call(t, v)) {
if (y) break;
t[v] = void 0;
}
if (y && !t[v]) break;
u = s(t[v]), g = u.literal ? j : function(e, t) {
return e === t || e !== e && t !== t;
}, p = u.assign || function() {
throw c = r[o] = u(e), Mr("nonassign", "Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!", t[v], v, a.name);
}, c = r[o] = u(e);
var b = function(t) {
return g(t, r[o]) || (g(t, c) ? p(e, t = r[o]) : r[o] = t), c = t;
};
b.$stateful = !0, m = i.collection ? e.$watchCollection(t[v], b) : e.$watch(s(t[v], b), null, u.literal), d.push(m);
break;

case "<":
if (!_i.call(t, v)) {
if (y) break;
t[v] = void 0;
}
if (y && !t[v]) break;
var _ = (u = s(t[v])).literal, C = r[o] = u(e);
h[o] = new ct(Ir, r[o]), m = e.$watch(u, function(e, t) {
if (t === e) {
if (t === C || _ && j(t, C)) return;
t = C;
}
l(o, e, t), r[o] = e;
}, _), d.push(m);
break;

case "&":
if ((u = t.hasOwnProperty(v) ? s(t[v]) : f) === f && y) break;
r[o] = function(t) {
return u(e, t);
};
}
}), {
initialChanges: h,
removeWatches: d.length && function() {
for (var e = 0, t = d.length; e < t; ++e) d[e]();
}
};
}
var xe, $e = /^\w/, ke = e.document.createElement("div"), Te = I, De = P, Ee = M;
B.prototype = {
$normalize: ut,
$addClass: function(e) {
e && e.length > 0 && T.addClass(this.$$element, e);
},
$removeClass: function(e) {
e && e.length > 0 && T.removeClass(this.$$element, e);
},
$updateClass: function(e, t) {
var n = dt(e, t);
n && n.length && T.addClass(this.$$element, n);
var i = dt(t, e);
i && i.length && T.removeClass(this.$$element, i);
},
$set: function(e, t, n, o) {
var a, s = He(this.$$element[0], e), l = Ve(e), c = e;
if (s ? (this.$$element.prop(e, t), o = s) : l && (this[l] = t, c = l), this[e] = t, o ? this.$attr[e] = o : (o = this.$attr[e]) || (this.$attr[e] = o = se(e, "-")), "a" === (a = R(this.$$element)) && ("href" === e || "xlinkHref" === e) || "img" === a && "src" === e) this[e] = t = L(t, "src" === e); else if ("img" === a && "srcset" === e && y(t)) {
for (var u = "", d = Ni(t), h = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/, f = /\s/.test(d) ? h : /(,)/, p = d.split(f), g = Math.floor(p.length / 2), m = 0; m < g; m++) {
var b = 2 * m;
u += L(Ni(p[b]), !0), u += " " + Ni(p[b + 1]);
}
var _ = Ni(p[2 * m]).split(/\s/);
u += L(Ni(_[0]), !0), 2 === _.length && (u += " " + Ni(_[1])), this[e] = t = u;
}
!1 !== n && (null === t || v(t) ? this.$$element.removeAttr(o) : $e.test(o) ? this.$$element.attr(o, t) : H(this.$$element[0], o, t));
var w = this.$$observers;
w && i(w[c], function(e) {
try {
e(t);
} catch (e) {
r(e);
}
});
},
$observe: function(e, t) {
var n = this, i = n.$$observers || (n.$$observers = fe()), r = i[e] || (i[e] = []);
return r.push(t), u.$evalAsync(function() {
r.$$inter || !n.hasOwnProperty(e) || v(n[e]) || t(n[e]);
}), function() {
N(r, t);
};
}
};
var Fe = n.startSymbol(), Me = n.endSymbol(), Ie = "{{" === Fe && "}}" === Me ? p : function(e) {
return e.replace(/\{\{/g, Fe).replace(/}}/g, Me);
}, Pe = /^ngAttr[A-Z]/, Le = /^(.+)Start$/;
return W.$$addBindingInfo = D ? function(e, t) {
var n = e.data("$binding") || [];
Oi(t) ? n = n.concat(t) : n.push(t), e.data("$binding", n);
} : f, W.$$addBindingClass = D ? function(e) {
z(e, "ng-binding");
} : f, W.$$addScopeInfo = D ? function(e, t, n, i) {
var r = n ? i ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
e.data(r, t);
} : f, W.$$addScopeClass = D ? function(e, t) {
z(e, t ? "ng-isolate-scope" : "ng-scope");
} : f, W.$$createComment = function(t, n) {
var i = "";
return D && (i = " " + (t || "") + ": ", n && (i += n + " ")), e.document.createComment(i);
}, W;
} ];
}
function ct(e, t) {
this.previousValue = e, this.currentValue = t;
}
function ut(e) {
return be(e.replace(Pr, ""));
}
function dt(e, t) {
var n = "", i = e.split(/\s+/), r = t.split(/\s+/);
e: for (var o = 0; o < i.length; o++) {
for (var a = i[o], s = 0; s < r.length; s++) if (a === r[s]) continue e;
n += (n.length > 0 ? " " : "") + a;
}
return n;
}
function ht(e) {
var t = (e = Si(e)).length;
if (t <= 1) return e;
for (;t--; ) {
var n = e[t];
(n.nodeType === Ki || n.nodeType === Yi && "" === n.nodeValue.trim()) && Ti.call(e, t, 1);
}
return e;
}
function ft(e, t) {
if (t && w(t)) return t;
if (w(e)) {
var n = Or.exec(e);
if (n) return n[3];
}
}
function pt() {
var e = {}, n = !1;
this.has = function(t) {
return e.hasOwnProperty(t);
}, this.register = function(t, n) {
ue(t, "controller"), b(t) ? c(e, t) : e[t] = n;
}, this.allowGlobals = function() {
n = !0;
}, this.$get = [ "$injector", "$window", function(i, r) {
function o(e, n, i, r) {
if (!e || !b(e.$scope)) throw t("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", r, n);
e.$scope[n] = i;
}
return function(t, a, s, l) {
var u, d, h, f;
if (s = !0 === s, l && w(l) && (f = l), w(t)) {
if (!(d = t.match(Or))) throw Lr("ctrlfmt", "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.", t);
if (h = d[1], f = f || d[3], !(t = e.hasOwnProperty(h) ? e[h] : de(a.$scope, h, !0) || (n ? de(r, h, !0) : void 0))) throw Lr("ctrlreg", "The controller with the name '{0}' is not registered.", h);
ce(t, h, !0);
}
if (s) {
var p = (Oi(t) ? t[t.length - 1] : t).prototype;
return u = Object.create(p || null), f && o(a, f, u, h || t.name), c(function() {
var e = i.invoke(t, u, a, h);
return e !== u && (b(e) || S(e)) && (u = e, f && o(a, f, u, h || t.name)), u;
}, {
instance: u,
identifier: f
});
}
return u = i.instantiate(t, a, h), f && o(a, f, u, h || t.name), u;
};
} ];
}
function gt() {
this.$get = [ "$window", function(e) {
return Si(e.document);
} ];
}
function mt() {
this.$get = [ "$log", function(e) {
return function(t, n) {
e.error.apply(e, arguments);
};
} ];
}
function vt(e) {
return b(e) ? x(e) ? e.toISOString() : W(e) : e;
}
function yt() {
this.$get = function() {
return function(e) {
if (!e) return "";
var t = [];
return r(e, function(e, n) {
null === e || v(e) || (Oi(e) ? i(e, function(e) {
t.push(te(n) + "=" + te(vt(e)));
}) : t.push(te(n) + "=" + te(vt(e))));
}), t.join("&");
};
};
}
function bt() {
this.$get = function() {
return function(e) {
function t(e, o, a) {
null === e || v(e) || (Oi(e) ? i(e, function(e, n) {
t(e, o + "[" + (b(e) ? n : "") + "]");
}) : b(e) && !x(e) ? r(e, function(e, n) {
t(e, o + (a ? "" : "[") + n + (a ? "" : "]"));
}) : n.push(te(o) + "=" + te(vt(e))));
}
if (!e) return "";
var n = [];
return t(e, "", !0), n.join("&");
};
};
}
function _t(e, t) {
if (w(e)) {
var n = e.replace(Vr, "").trim();
if (n) {
var i = t("Content-Type");
(i && 0 === i.indexOf(Nr) || wt(n)) && (e = q(n));
}
}
return e;
}
function wt(e) {
var t = e.match(jr);
return t && Hr[t[0]].test(e);
}
function Ct(e) {
function t(e, t) {
e && (r[e] = r[e] ? r[e] + ", " + t : t);
}
var n, r = fe();
return w(e) ? i(e.split("\n"), function(e) {
n = e.indexOf(":"), t(wi(Ni(e.substr(0, n))), Ni(e.substr(n + 1)));
}) : b(e) && i(e, function(e, n) {
t(wi(n), Ni(e));
}), r;
}
function xt(e) {
var t;
return function(n) {
if (t || (t = Ct(e)), n) {
var i = t[wi(n)];
return void 0 === i && (i = null), i;
}
return t;
};
}
function St(e, t, n, r) {
return S(r) ? r(e, t, n) : (i(r, function(i) {
e = i(e, t, n);
}), e);
}
function $t(e) {
return 200 <= e && e < 300;
}
function At() {
var e = this.defaults = {
transformResponse: [ _t ],
transformRequest: [ function(e) {
return !b(e) || T(e) || E(e) || D(e) ? e : W(e);
} ],
headers: {
common: {
Accept: "application/json, text/plain, */*"
},
post: ge(Br),
put: ge(Br),
patch: ge(Br)
},
xsrfCookieName: "XSRF-TOKEN",
xsrfHeaderName: "X-XSRF-TOKEN",
paramSerializer: "$httpParamSerializer"
}, n = !1;
this.useApplyAsync = function(e) {
return y(e) ? (n = !!e, this) : n;
};
var r = !0;
this.useLegacyPromiseExtensions = function(e) {
return y(e) ? (r = !!e, this) : r;
};
var o = this.interceptors = [];
this.$get = [ "$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", function(a, s, l, u, d, h) {
function f(n) {
function o(e, t) {
for (var n = 0, i = t.length; n < i; ) {
var r = t[n++], o = t[n++];
e = e.then(r, o);
}
return t.length = 0, e;
}
function a(e, t) {
var n, r = {};
return i(e, function(e, i) {
S(e) ? null != (n = e(t)) && (r[i] = n) : r[i] = e;
}), r;
}
function s(e) {
var t = c({}, e);
return t.data = St(e.data, e.headers, e.status, l.transformResponse), $t(e.status) ? t : d.reject(t);
}
if (!b(n)) throw t("$http")("badreq", "Http request configuration must be an object.  Received: {0}", n);
if (!w(n.url)) throw t("$http")("badreq", "Http request configuration url must be a string.  Received: {0}", n.url);
var l = c({
method: "get",
transformRequest: e.transformRequest,
transformResponse: e.transformResponse,
paramSerializer: e.paramSerializer
}, n);
l.headers = function(t) {
var n, i, r, o = e.headers, s = c({}, t.headers);
o = c({}, o.common, o[wi(t.method)]);
e: for (n in o) {
i = wi(n);
for (r in s) if (wi(r) === i) continue e;
s[n] = o[n];
}
return a(s, ge(t));
}(n), l.method = Ci(l.method), l.paramSerializer = w(l.paramSerializer) ? h.get(l.paramSerializer) : l.paramSerializer;
var u = [], f = [], g = d.when(l);
return i(_, function(e) {
(e.request || e.requestError) && u.unshift(e.request, e.requestError), (e.response || e.responseError) && f.push(e.response, e.responseError);
}), g = o(g, u), g = g.then(function(t) {
var n = t.headers, r = St(t.data, xt(n), void 0, t.transformRequest);
return v(r) && i(n, function(e, t) {
"content-type" === wi(t) && delete n[t];
}), v(t.withCredentials) && !v(e.withCredentials) && (t.withCredentials = e.withCredentials), p(t, r).then(s, s);
}), g = o(g, f), r ? (g.success = function(e) {
return ce(e, "fn"), g.then(function(t) {
e(t.data, t.status, t.headers, l);
}), g;
}, g.error = function(e) {
return ce(e, "fn"), g.then(null, function(t) {
e(t.data, t.status, t.headers, l);
}), g;
}) : (g.success = zr("success"), g.error = zr("error")), g;
}
function p(t, r) {
function o(e) {
if (e) {
var t = {};
return i(e, function(e, i) {
t[i] = function(t) {
function i() {
e(t);
}
n ? u.$applyAsync(i) : u.$$phase ? i() : u.$apply(i);
};
}), t;
}
}
function l(e, n, i, r) {
($t(n = n >= -1 ? n : 0) ? w.resolve : w.reject)({
data: e,
status: n,
headers: xt(i),
config: t,
statusText: r
});
}
function c(e) {
l(e.data, e.status, ge(e.headers()), e.statusText);
}
function h() {
var e = f.pendingRequests.indexOf(t);
-1 !== e && f.pendingRequests.splice(e, 1);
}
var p, _, w = d.defer(), C = w.promise, x = t.headers, S = g(t.url, t.paramSerializer(t.params));
if (f.pendingRequests.push(t), C.then(h, h), !t.cache && !e.cache || !1 === t.cache || "GET" !== t.method && "JSONP" !== t.method || (p = b(t.cache) ? t.cache : b(e.cache) ? e.cache : m), p && (y(_ = p.get(S)) ? M(_) ? _.then(c, c) : Oi(_) ? l(_[1], _[0], ge(_[2]), _[3]) : l(_, 200, {}, "OK") : p.put(S, C)), v(_)) {
var $ = Dn(t.url) ? s()[t.xsrfCookieName || e.xsrfCookieName] : void 0;
$ && (x[t.xsrfHeaderName || e.xsrfHeaderName] = $), a(t.method, S, r, function(e, t, i, r) {
function o() {
l(t, e, i, r);
}
p && ($t(e) ? p.put(S, [ e, t, Ct(i), r ]) : p.remove(S)), n ? u.$applyAsync(o) : (o(), u.$$phase || u.$apply());
}, x, t.timeout, t.withCredentials, t.responseType, o(t.eventHandlers), o(t.uploadEventHandlers));
}
return C;
}
function g(e, t) {
return t.length > 0 && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e;
}
var m = l("$http");
e.paramSerializer = w(e.paramSerializer) ? h.get(e.paramSerializer) : e.paramSerializer;
var _ = [];
return i(o, function(e) {
_.unshift(w(e) ? h.get(e) : h.invoke(e));
}), f.pendingRequests = [], function(e) {
i(arguments, function(e) {
f[e] = function(t, n) {
return f(c({}, n || {}, {
method: e,
url: t
}));
};
});
}("get", "delete", "head", "jsonp"), function(e) {
i(arguments, function(e) {
f[e] = function(t, n, i) {
return f(c({}, i || {}, {
method: e,
url: t,
data: n
}));
};
});
}("post", "put", "patch"), f.defaults = e, f;
} ];
}
function kt() {
this.$get = function() {
return function() {
return new e.XMLHttpRequest();
};
};
}
function Tt() {
this.$get = [ "$browser", "$jsonpCallbacks", "$document", "$xhrFactory", function(e, t, n, i) {
return Dt(e, i, e.defer, t, n[0]);
} ];
}
function Dt(e, t, n, r, o) {
function a(e, t, n) {
e = e.replace("JSON_CALLBACK", t);
var i = o.createElement("script"), a = null;
return i.type = "text/javascript", i.src = e, i.async = !0, a = function(e) {
nr(i, "load", a), nr(i, "error", a), o.body.removeChild(i), i = null;
var s = -1, l = "unknown";
e && ("load" !== e.type || r.wasCalled(t) || (e = {
type: "error"
}), l = e.type, s = "error" === e.type ? 404 : 200), n && n(s, l);
}, tr(i, "load", a), tr(i, "error", a), o.body.appendChild(i), a;
}
return function(o, s, l, c, u, d, h, p, g, m) {
function b() {
C && C(), x && x.abort();
}
function _(t, i, r, o, a) {
y($) && n.cancel($), C = x = null, t(i, r, o, a), e.$$completeOutstandingRequest(f);
}
if (e.$$incOutstandingRequestCount(), s = s || e.url(), "jsonp" === wi(o)) var w = r.createCallback(s), C = a(s, w, function(e, t) {
var n = 200 === e && r.getResponse(w);
_(c, e, n, "", t), r.removeCallback(w);
}); else {
var x = t(o, s);
x.open(o, s, !0), i(u, function(e, t) {
y(e) && x.setRequestHeader(t, e);
}), x.onload = function() {
var e = x.statusText || "", t = "response" in x ? x.response : x.responseText, n = 1223 === x.status ? 204 : x.status;
0 === n && (n = t ? 200 : "file" === Tn(s).protocol ? 404 : 0), _(c, n, t, x.getAllResponseHeaders(), e);
};
var S = function() {
_(c, -1, null, null, "");
};
if (x.onerror = S, x.onabort = S, x.ontimeout = S, i(g, function(e, t) {
x.addEventListener(t, e);
}), i(m, function(e, t) {
x.upload.addEventListener(t, e);
}), h && (x.withCredentials = !0), p) try {
x.responseType = p;
} catch (e) {
if ("json" !== p) throw e;
}
x.send(v(l) ? null : l);
}
if (d > 0) var $ = n(b, d); else M(d) && d.then(b);
};
}
function Et() {
var e = "{{", t = "}}";
this.startSymbol = function(t) {
return t ? (e = t, this) : e;
}, this.endSymbol = function(e) {
return e ? (t = e, this) : t;
}, this.$get = [ "$parse", "$exceptionHandler", "$sce", function(n, i, r) {
function o(e) {
return "\\\\\\" + e;
}
function a(n) {
return n.replace(f, e).replace(p, t);
}
function s(e) {
if (null == e) return "";
switch (typeof e) {
case "string":
break;

case "number":
e = "" + e;
break;

default:
e = W(e);
}
return e;
}
function l(e, t, n, i) {
var r = e.$watch(function(e) {
return r(), i(e);
}, t, n);
return r;
}
function u(o, u, f, p) {
if (!o.length || -1 === o.indexOf(e)) {
var m;
return u || ((m = g(a(o))).exp = o, m.expressions = [], m.$$watchDelegate = l), m;
}
p = !!p;
for (var b, _, w, C = 0, x = [], $ = [], A = o.length, k = [], T = []; C < A; ) {
if (-1 === (b = o.indexOf(e, C)) || -1 === (_ = o.indexOf(t, b + d))) {
C !== A && k.push(a(o.substring(C)));
break;
}
C !== b && k.push(a(o.substring(C, b))), w = o.substring(b + d, _), x.push(w), $.push(n(w, function(e) {
try {
return e = E(e), p && !y(e) ? e : s(e);
} catch (e) {
i(Wr.interr(o, e));
}
})), C = _ + h, T.push(k.length), k.push("");
}
if (f && k.length > 1 && Wr.throwNoconcat(o), !u || x.length) {
var D = function(e) {
for (var t = 0, n = x.length; t < n; t++) {
if (p && v(e[t])) return;
k[T[t]] = e[t];
}
return k.join("");
}, E = function(e) {
return f ? r.getTrusted(f, e) : r.valueOf(e);
};
return c(function(e) {
var t = 0, n = x.length, r = new Array(n);
try {
for (;t < n; t++) r[t] = $[t](e);
return D(r);
} catch (e) {
i(Wr.interr(o, e));
}
}, {
exp: o,
expressions: x,
$$watchDelegate: function(e, t) {
var n;
return e.$watchGroup($, function(i, r) {
var o = D(i);
S(t) && t.call(this, o, i !== r ? n : o, e), n = o;
});
}
});
}
}
var d = e.length, h = t.length, f = new RegExp(e.replace(/./g, o), "g"), p = new RegExp(t.replace(/./g, o), "g");
return u.startSymbol = function() {
return e;
}, u.endSymbol = function() {
return t;
}, u;
} ];
}
function Ft() {
this.$get = [ "$rootScope", "$window", "$q", "$$q", "$browser", function(e, t, n, i, r) {
function o(o, s, l, c) {
function u() {
d ? o.apply(null, h) : o(g);
}
var d = arguments.length > 4, h = d ? V(arguments, 4) : [], f = t.setInterval, p = t.clearInterval, g = 0, m = y(c) && !c, v = (m ? i : n).defer(), b = v.promise;
return l = y(l) ? l : 0, b.$$intervalId = f(function() {
m ? r.defer(u) : e.$evalAsync(u), v.notify(g++), l > 0 && g >= l && (v.resolve(g), p(b.$$intervalId), delete a[b.$$intervalId]), m || e.$apply();
}, s), a[b.$$intervalId] = v, b;
}
var a = {};
return o.cancel = function(e) {
return !!(e && e.$$intervalId in a) && (a[e.$$intervalId].reject("canceled"), t.clearInterval(e.$$intervalId), delete a[e.$$intervalId], !0);
}, o;
} ];
}
function Mt(e) {
for (var t = e.split("/"), n = t.length; n--; ) t[n] = ee(t[n]);
return t.join("/");
}
function It(e, t) {
var n = Tn(e);
t.$$protocol = n.protocol, t.$$host = n.hostname, t.$$port = d(n.port) || Yr[n.protocol] || null;
}
function Pt(e, t) {
if (Xr.test(e)) throw Kr("badpath", 'Invalid url "{0}".', e);
var n = "/" !== e.charAt(0);
n && (e = "/" + e);
var i = Tn(e);
t.$$path = decodeURIComponent(n && "/" === i.pathname.charAt(0) ? i.pathname.substring(1) : i.pathname), t.$$search = J(i.search), t.$$hash = decodeURIComponent(i.hash), t.$$path && "/" !== t.$$path.charAt(0) && (t.$$path = "/" + t.$$path);
}
function Lt(e, t) {
return e.slice(0, t.length) === t;
}
function Ot(e, t) {
if (Lt(t, e)) return t.substr(e.length);
}
function Rt(e) {
var t = e.indexOf("#");
return -1 === t ? e : e.substr(0, t);
}
function Nt(e) {
return e.replace(/(#.+)|#$/, "$1");
}
function Bt(e) {
return e.substr(0, Rt(e).lastIndexOf("/") + 1);
}
function jt(e) {
return e.substring(0, e.indexOf("/", e.indexOf("//") + 2));
}
function Ht(e, t, n) {
this.$$html5 = !0, n = n || "", It(e, this), this.$$parse = function(e) {
var n = Ot(t, e);
if (!w(n)) throw Kr("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', e, t);
Pt(n, this), this.$$path || (this.$$path = "/"), this.$$compose();
}, this.$$compose = function() {
var e = Z(this.$$search), n = this.$$hash ? "#" + ee(this.$$hash) : "";
this.$$url = Mt(this.$$path) + (e ? "?" + e : "") + n, this.$$absUrl = t + this.$$url.substr(1);
}, this.$$parseLinkUrl = function(i, r) {
if (r && "#" === r[0]) return this.hash(r.slice(1)), !0;
var o, a, s;
return y(o = Ot(e, i)) ? (a = o, s = n && y(o = Ot(n, o)) ? t + (Ot("/", o) || o) : e + a) : y(o = Ot(t, i)) ? s = t + o : t === i + "/" && (s = t), s && this.$$parse(s), !!s;
};
}
function Vt(e, t, n) {
It(e, this), this.$$parse = function(i) {
var r, o = Ot(e, i) || Ot(t, i);
v(o) || "#" !== o.charAt(0) ? this.$$html5 ? r = o : (r = "", v(o) && (e = i, this.replace())) : v(r = Ot(n, o)) && (r = o), Pt(r, this), this.$$path = function(e, t, n) {
var i, r = /^\/[A-Z]:(\/.*)/;
return Lt(t, n) && (t = t.replace(n, "")), r.exec(t) ? e : (i = r.exec(e)) ? i[1] : e;
}(this.$$path, r, e), this.$$compose();
}, this.$$compose = function() {
var t = Z(this.$$search), i = this.$$hash ? "#" + ee(this.$$hash) : "";
this.$$url = Mt(this.$$path) + (t ? "?" + t : "") + i, this.$$absUrl = e + (this.$$url ? n + this.$$url : "");
}, this.$$parseLinkUrl = function(t, n) {
return Rt(e) === Rt(t) && (this.$$parse(t), !0);
};
}
function Ut(e, t, n) {
this.$$html5 = !0, Vt.apply(this, arguments), this.$$parseLinkUrl = function(i, r) {
if (r && "#" === r[0]) return this.hash(r.slice(1)), !0;
var o, a;
return e === Rt(i) ? o = i : (a = Ot(t, i)) ? o = e + n + a : t === i + "/" && (o = t), o && this.$$parse(o), !!o;
}, this.$$compose = function() {
var t = Z(this.$$search), i = this.$$hash ? "#" + ee(this.$$hash) : "";
this.$$url = Mt(this.$$path) + (t ? "?" + t : "") + i, this.$$absUrl = e + n + this.$$url;
};
}
function zt(e) {
return function() {
return this[e];
};
}
function Wt(e, t) {
return function(n) {
return v(n) ? this[e] : (this[e] = t(n), this.$$compose(), this);
};
}
function qt() {
var e = "", t = {
enabled: !1,
requireBase: !0,
rewriteLinks: !0
};
this.hashPrefix = function(t) {
return y(t) ? (e = t, this) : e;
}, this.html5Mode = function(e) {
return F(e) ? (t.enabled = e, this) : b(e) ? (F(e.enabled) && (t.enabled = e.enabled), F(e.requireBase) && (t.requireBase = e.requireBase), (F(e.rewriteLinks) || w(e.rewriteLinks)) && (t.rewriteLinks = e.rewriteLinks), this) : t;
}, this.$get = [ "$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function(n, i, r, o, a) {
function s(e, t, n) {
var r = c.url(), o = c.$$state;
try {
i.url(e, t, n), c.$$state = i.state();
} catch (e) {
throw c.url(r), c.$$state = o, e;
}
}
function l(e, t) {
n.$broadcast("$locationChangeSuccess", c.absUrl(), e, c.$$state, t);
}
var c, u, d, h = i.baseHref(), f = i.url();
if (t.enabled) {
if (!h && t.requireBase) throw Kr("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
d = jt(f) + (h || "/"), u = r.history ? Ht : Ut;
} else d = Rt(f), u = Vt;
var p = Bt(d);
(c = new u(d, p, "#" + e)).$$parseLinkUrl(f, f), c.$$state = i.state();
var g = /^\s*(javascript|mailto):/i;
o.on("click", function(e) {
var r = t.rewriteLinks;
if (r && !e.ctrlKey && !e.metaKey && !e.shiftKey && 2 !== e.which && 2 !== e.button) {
for (var s = Si(e.target); "a" !== R(s[0]); ) if (s[0] === o[0] || !(s = s.parent())[0]) return;
if (!w(r) || !v(s.attr(r))) {
var l = s.prop("href"), u = s.attr("href") || s.attr("xlink:href");
b(l) && "[object SVGAnimatedString]" === l.toString() && (l = Tn(l.animVal).href), g.test(l) || !l || s.attr("target") || e.isDefaultPrevented() || c.$$parseLinkUrl(l, u) && (e.preventDefault(), c.absUrl() !== i.url() && (n.$apply(), a.angular["ff-684208-preventDefault"] = !0));
}
}
}), Nt(c.absUrl()) !== Nt(f) && i.url(c.absUrl(), !0);
var m = !0;
return i.onUrlChange(function(e, t) {
v(Ot(p, e)) ? a.location.href = e : (n.$evalAsync(function() {
var i, r = c.absUrl(), o = c.$$state;
e = Nt(e), c.$$parse(e), c.$$state = t, i = n.$broadcast("$locationChangeStart", e, r, t, o).defaultPrevented, c.absUrl() === e && (i ? (c.$$parse(r), c.$$state = o, s(r, !1, o)) : (m = !1, l(r, o)));
}), n.$$phase || n.$digest());
}), n.$watch(function() {
var e = Nt(i.url()), t = Nt(c.absUrl()), o = i.state(), a = c.$$replace, u = e !== t || c.$$html5 && r.history && o !== c.$$state;
(m || u) && (m = !1, n.$evalAsync(function() {
var t = c.absUrl(), i = n.$broadcast("$locationChangeStart", t, e, c.$$state, o).defaultPrevented;
c.absUrl() === t && (i ? (c.$$parse(e), c.$$state = o) : (u && s(t, a, o === c.$$state ? null : c.$$state), l(e, o)));
})), c.$$replace = !1;
}), c;
} ];
}
function Gt() {
var e = !0, t = this;
this.debugEnabled = function(t) {
return y(t) ? (e = t, this) : e;
}, this.$get = [ "$window", function(n) {
function r(e) {
return e instanceof Error && (e.stack ? e = e.message && -1 === e.stack.indexOf(e.message) ? "Error: " + e.message + "\n" + e.stack : e.stack : e.sourceURL && (e = e.message + "\n" + e.sourceURL + ":" + e.line)), e;
}
function o(e) {
var t = n.console || {}, o = t[e] || t.log || f, a = !1;
try {
a = !!o.apply;
} catch (e) {}
return a ? function() {
var e = [];
return i(arguments, function(t) {
e.push(r(t));
}), o.apply(t, e);
} : function(e, t) {
o(e, null == t ? "" : t);
};
}
return {
log: o("log"),
info: o("info"),
warn: o("warn"),
error: o("error"),
debug: function() {
var n = o("debug");
return function() {
e && n.apply(t, arguments);
};
}()
};
} ];
}
function Yt(e, t) {
if ("__defineGetter__" === e || "__defineSetter__" === e || "__lookupGetter__" === e || "__lookupSetter__" === e || "__proto__" === e) throw Jr("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", t);
return e;
}
function Kt(e) {
return e + "";
}
function Xt(e, t) {
if (e) {
if (e.constructor === e) throw Jr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
if (e.window === e) throw Jr("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", t);
if (e.children && (e.nodeName || e.prop && e.attr && e.find)) throw Jr("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", t);
if (e === Object) throw Jr("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", t);
}
return e;
}
function Qt(e, t) {
if (e) {
if (e.constructor === e) throw Jr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
if (e === ho || e === fo || e === po) throw Jr("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", t);
}
}
function Jt(e, t) {
if (e && (e === Zr || e === eo || e === to || e === no || e === io || e === ro || e === oo || e === ao || e === so || e === lo || e === co || e === uo)) throw Jr("isecaf", "Assigning to a constructor or its prototype is disallowed! Expression: {0}", t);
}
function Zt(e, t) {
return void 0 !== e ? e : t;
}
function en(e, t) {
return void 0 === e ? t : void 0 === t ? e : e + t;
}
function tn(e, t) {
return !e(t).$stateful;
}
function nn(e, t) {
var n, r, o;
switch (e.type) {
case bo.Program:
n = !0, i(e.body, function(e) {
nn(e.expression, t), n = n && e.expression.constant;
}), e.constant = n;
break;

case bo.Literal:
e.constant = !0, e.toWatch = [];
break;

case bo.UnaryExpression:
nn(e.argument, t), e.constant = e.argument.constant, e.toWatch = e.argument.toWatch;
break;

case bo.BinaryExpression:
nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.left.toWatch.concat(e.right.toWatch);
break;

case bo.LogicalExpression:
nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.constant ? [] : [ e ];
break;

case bo.ConditionalExpression:
nn(e.test, t), nn(e.alternate, t), nn(e.consequent, t), e.constant = e.test.constant && e.alternate.constant && e.consequent.constant, e.toWatch = e.constant ? [] : [ e ];
break;

case bo.Identifier:
e.constant = !1, e.toWatch = [ e ];
break;

case bo.MemberExpression:
nn(e.object, t), e.computed && nn(e.property, t), e.constant = e.object.constant && (!e.computed || e.property.constant), e.toWatch = [ e ];
break;

case bo.CallExpression:
o = !!e.filter && tn(t, e.callee.name), n = o, r = [], i(e.arguments, function(e) {
nn(e, t), n = n && e.constant, e.constant || r.push.apply(r, e.toWatch);
}), e.constant = n, e.toWatch = o ? r : [ e ];
break;

case bo.AssignmentExpression:
nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = [ e ];
break;

case bo.ArrayExpression:
n = !0, r = [], i(e.elements, function(e) {
nn(e, t), n = n && e.constant, e.constant || r.push.apply(r, e.toWatch);
}), e.constant = n, e.toWatch = r;
break;

case bo.ObjectExpression:
n = !0, r = [], i(e.properties, function(e) {
nn(e.value, t), n = n && e.value.constant && !e.computed, e.value.constant || r.push.apply(r, e.value.toWatch);
}), e.constant = n, e.toWatch = r;
break;

case bo.ThisExpression:
case bo.LocalsExpression:
e.constant = !1, e.toWatch = [];
}
}
function rn(e) {
if (1 === e.length) {
var t = e[0].expression, n = t.toWatch;
return 1 !== n.length ? n : n[0] !== t ? n : void 0;
}
}
function on(e) {
return e.type === bo.Identifier || e.type === bo.MemberExpression;
}
function an(e) {
if (1 === e.body.length && on(e.body[0].expression)) return {
type: bo.AssignmentExpression,
left: e.body[0].expression,
right: {
type: bo.NGValueParameter
},
operator: "="
};
}
function sn(e) {
return 0 === e.body.length || 1 === e.body.length && (e.body[0].expression.type === bo.Literal || e.body[0].expression.type === bo.ArrayExpression || e.body[0].expression.type === bo.ObjectExpression);
}
function ln(e) {
return e.constant;
}
function cn(e, t) {
this.astBuilder = e, this.$filter = t;
}
function un(e, t) {
this.astBuilder = e, this.$filter = t;
}
function dn(e) {
return "constructor" === e;
}
function hn(e) {
return S(e.valueOf) ? e.valueOf() : go.call(e);
}
function fn() {
var e, t, n = fe(), r = fe(), o = {
true: !0,
false: !1,
null: null,
undefined: void 0
};
this.addLiteral = function(e, t) {
o[e] = t;
}, this.setIdentifierFns = function(n, i) {
return e = n, t = i, this;
}, this.$get = [ "$filter", function(a) {
function s(e, t, i) {
var o, s, c;
switch (i = i || _, typeof e) {
case "string":
c = e = e.trim();
var m = i ? r : n;
if (!(o = m[c])) {
":" === e.charAt(0) && ":" === e.charAt(1) && (s = !0, e = e.substring(2));
var y = i ? b : v, w = new yo(y);
(o = new _o(w, a, y).parse(e)).constant ? o.$$watchDelegate = p : s ? o.$$watchDelegate = o.literal ? h : d : o.inputs && (o.$$watchDelegate = u), i && (o = l(o)), m[c] = o;
}
return g(o, t);

case "function":
return g(e, t);

default:
return g(f, t);
}
}
function l(e) {
function t(t, n, i, r) {
var o = _;
_ = !0;
try {
return e(t, n, i, r);
} finally {
_ = o;
}
}
if (!e) return e;
t.$$watchDelegate = e.$$watchDelegate, t.assign = l(e.assign), t.constant = e.constant, t.literal = e.literal;
for (var n = 0; e.inputs && n < e.inputs.length; ++n) e.inputs[n] = l(e.inputs[n]);
return t.inputs = e.inputs, t;
}
function c(e, t) {
return null == e || null == t ? e === t : ("object" != typeof e || "object" != typeof (e = hn(e))) && (e === t || e !== e && t !== t);
}
function u(e, t, n, i, r) {
var o, a = i.inputs;
if (1 === a.length) {
var s = c;
return a = a[0], e.$watch(function(e) {
var t = a(e);
return c(t, s) || (o = i(e, void 0, void 0, [ t ]), s = t && hn(t)), o;
}, t, n, r);
}
for (var l = [], u = [], d = 0, h = a.length; d < h; d++) l[d] = c, u[d] = null;
return e.$watch(function(e) {
for (var t = !1, n = 0, r = a.length; n < r; n++) {
var s = a[n](e);
(t || (t = !c(s, l[n]))) && (u[n] = s, l[n] = s && hn(s));
}
return t && (o = i(e, void 0, void 0, u)), o;
}, t, n, r);
}
function d(e, t, n, i) {
var r, o;
return r = e.$watch(function(e) {
return i(e);
}, function(e, n, i) {
o = e, S(t) && t.apply(this, arguments), y(e) && i.$$postDigest(function() {
y(o) && r();
});
}, n);
}
function h(e, t, n, r) {
function o(e) {
var t = !0;
return i(e, function(e) {
y(e) || (t = !1);
}), t;
}
var a, s;
return a = e.$watch(function(e) {
return r(e);
}, function(e, n, i) {
s = e, S(t) && t.call(this, e, n, i), o(e) && i.$$postDigest(function() {
o(s) && a();
});
}, n);
}
function p(e, t, n, i) {
var r = e.$watch(function(e) {
return r(), i(e);
}, t, n);
return r;
}
function g(e, t) {
if (!t) return e;
var n = e.$$watchDelegate, i = !1, r = n !== h && n !== d ? function(n, r, o, a) {
var s = i && a ? a[0] : e(n, r, o, a);
return t(s, n, r);
} : function(n, i, r, o) {
var a = e(n, i, r, o), s = t(a, n, i);
return y(a) ? s : a;
};
return e.$$watchDelegate && e.$$watchDelegate !== u ? r.$$watchDelegate = e.$$watchDelegate : t.$stateful || (r.$$watchDelegate = u, i = !e.inputs, r.inputs = e.inputs ? e.inputs : [ e ]), r;
}
var m = ji().noUnsafeEval, v = {
csp: m,
expensiveChecks: !1,
literals: B(o),
isIdentifierStart: S(e) && e,
isIdentifierContinue: S(t) && t
}, b = {
csp: m,
expensiveChecks: !0,
literals: B(o),
isIdentifierStart: S(e) && e,
isIdentifierContinue: S(t) && t
}, _ = !1;
return s.$$runningExpensiveChecks = function() {
return _;
}, s;
} ];
}
function pn() {
this.$get = [ "$rootScope", "$exceptionHandler", function(e, t) {
return mn(function(t) {
e.$evalAsync(t);
}, t);
} ];
}
function gn() {
this.$get = [ "$browser", "$exceptionHandler", function(e, t) {
return mn(function(t) {
e.defer(t);
}, t);
} ];
}
function mn(e, n) {
function r() {
var e = new u();
return e.resolve = a(e, e.resolve), e.reject = a(e, e.reject), e.notify = a(e, e.notify), e;
}
function o() {
this.$$state = {
status: 0
};
}
function a(e, t) {
return function(n) {
t.call(e, n);
};
}
function s(e) {
var t, i, r;
r = e.pending, e.processScheduled = !1, e.pending = void 0;
for (var o = 0, a = r.length; o < a; ++o) {
i = r[o][0], t = r[o][e.status];
try {
S(t) ? i.resolve(t(e.value)) : 1 === e.status ? i.resolve(e.value) : i.reject(e.value);
} catch (e) {
i.reject(e), n(e);
}
}
}
function l(t) {
!t.processScheduled && t.pending && (t.processScheduled = !0, e(function() {
s(t);
}));
}
function u() {
this.promise = new o();
}
function d(e) {
var t = new u();
return t.reject(e), t.promise;
}
function h(e, t, n) {
var i = null;
try {
S(n) && (i = n());
} catch (e) {
return d(e);
}
return M(i) ? i.then(function() {
return t(e);
}, d) : t(e);
}
function f(e, t, n, i) {
var r = new u();
return r.resolve(e), r.promise.then(t, n, i);
}
function p(e) {
if (!S(e)) throw g("norslvr", "Expected resolverFn, got '{0}'", e);
var t = new u();
return e(function(e) {
t.resolve(e);
}, function(e) {
t.reject(e);
}), t.promise;
}
var g = t("$q", TypeError);
c(o.prototype, {
then: function(e, t, n) {
if (v(e) && v(t) && v(n)) return this;
var i = new u();
return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([ i, e, t, n ]), this.$$state.status > 0 && l(this.$$state), i.promise;
},
catch: function(e) {
return this.then(null, e);
},
finally: function(e, t) {
return this.then(function(t) {
return h(t, m, e);
}, function(t) {
return h(t, d, e);
}, t);
}
}), c(u.prototype, {
resolve: function(e) {
this.promise.$$state.status || (e === this.promise ? this.$$reject(g("qcycle", "Expected promise to be resolved with value other than itself '{0}'", e)) : this.$$resolve(e));
},
$$resolve: function(e) {
function t(e) {
o || (o = !0, r.$$reject(e));
}
var i, r = this, o = !1;
try {
(b(e) || S(e)) && (i = e && e.then), S(i) ? (this.promise.$$state.status = -1, i.call(e, function(e) {
o || (o = !0, r.$$resolve(e));
}, t, a(this, this.notify))) : (this.promise.$$state.value = e, this.promise.$$state.status = 1, l(this.promise.$$state));
} catch (e) {
t(e), n(e);
}
},
reject: function(e) {
this.promise.$$state.status || this.$$reject(e);
},
$$reject: function(e) {
this.promise.$$state.value = e, this.promise.$$state.status = 2, l(this.promise.$$state);
},
notify: function(t) {
var i = this.promise.$$state.pending;
this.promise.$$state.status <= 0 && i && i.length && e(function() {
for (var e, r, o = 0, a = i.length; o < a; o++) {
r = i[o][0], e = i[o][3];
try {
r.notify(S(e) ? e(t) : t);
} catch (e) {
n(e);
}
}
});
}
});
var m = f;
return p.prototype = o.prototype, p.defer = r, p.reject = d, p.when = f, p.resolve = m, p.all = function(e) {
var t = new u(), n = 0, r = Oi(e) ? [] : {};
return i(e, function(e, i) {
n++, f(e).then(function(e) {
r[i] = e, --n || t.resolve(r);
}, function(e) {
t.reject(e);
});
}), 0 === n && t.resolve(r), t.promise;
}, p.race = function(e) {
var t = r();
return i(e, function(e) {
f(e).then(t.resolve, t.reject);
}), t.promise;
}, p;
}
function vn() {
this.$get = [ "$window", "$timeout", function(e, t) {
var n = e.requestAnimationFrame || e.webkitRequestAnimationFrame, i = e.cancelAnimationFrame || e.webkitCancelAnimationFrame || e.webkitCancelRequestAnimationFrame, r = !!n, o = r ? function(e) {
var t = n(e);
return function() {
i(t);
};
} : function(e) {
var n = t(e, 16.66, !1);
return function() {
t.cancel(n);
};
};
return o.supported = r, o;
} ];
}
function yn() {
function e(e) {
function t() {
this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$id = a(), this.$$ChildScope = null;
}
return t.prototype = e, t;
}
var r = 10, o = t("$rootScope"), s = null, l = null;
this.digestTtl = function(e) {
return arguments.length && (r = e), r;
}, this.$get = [ "$exceptionHandler", "$parse", "$browser", function(t, c, u) {
function d(e) {
e.currentScope.$$destroyed = !0;
}
function h(e) {
9 === xi && (e.$$childHead && h(e.$$childHead), e.$$nextSibling && h(e.$$nextSibling)), e.$parent = e.$$nextSibling = e.$$prevSibling = e.$$childHead = e.$$childTail = e.$root = e.$$watchers = null;
}
function p() {
this.$id = a(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, this.$root = this, this.$$destroyed = !1, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$$isolateBindings = null;
}
function g(e) {
if ($.$$phase) throw o("inprog", "{0} already in progress", $.$$phase);
$.$$phase = e;
}
function m() {
$.$$phase = null;
}
function y(e, t) {
do {
e.$$watchersCount += t;
} while (e = e.$parent);
}
function _(e, t, n) {
do {
e.$$listenerCount[n] -= t, 0 === e.$$listenerCount[n] && delete e.$$listenerCount[n];
} while (e = e.$parent);
}
function w() {}
function C() {
for (;T.length; ) try {
T.shift()();
} catch (e) {
t(e);
}
l = null;
}
function x() {
null === l && (l = u.defer(function() {
$.$apply(C);
}));
}
p.prototype = {
constructor: p,
$new: function(t, n) {
var i;
return n = n || this, t ? (i = new p()).$root = this.$root : (this.$$ChildScope || (this.$$ChildScope = e(this)), i = new this.$$ChildScope()), i.$parent = n, i.$$prevSibling = n.$$childTail, n.$$childHead ? (n.$$childTail.$$nextSibling = i, n.$$childTail = i) : n.$$childHead = n.$$childTail = i, (t || n !== this) && i.$on("$destroy", d), i;
},
$watch: function(e, t, n, i) {
var r = c(e);
if (r.$$watchDelegate) return r.$$watchDelegate(this, t, n, r, e);
var o = this, a = o.$$watchers, l = {
fn: t,
last: w,
get: r,
exp: i || e,
eq: !!n
};
return s = null, S(t) || (l.fn = f), a || ((a = o.$$watchers = []).$$digestWatchIndex = -1), a.unshift(l), a.$$digestWatchIndex++, y(this, 1), function() {
var e = N(a, l);
e >= 0 && (y(o, -1), e < a.$$digestWatchIndex && a.$$digestWatchIndex--), s = null;
};
},
$watchGroup: function(e, t) {
function n() {
l = !1, c ? (c = !1, t(o, o, s)) : t(o, r, s);
}
var r = new Array(e.length), o = new Array(e.length), a = [], s = this, l = !1, c = !0;
if (!e.length) {
var u = !0;
return s.$evalAsync(function() {
u && t(o, o, s);
}), function() {
u = !1;
};
}
return 1 === e.length ? this.$watch(e[0], function(e, n, i) {
o[0] = e, r[0] = n, t(o, e === n ? o : r, i);
}) : (i(e, function(e, t) {
var i = s.$watch(e, function(e, i) {
o[t] = e, r[t] = i, l || (l = !0, s.$evalAsync(n));
});
a.push(i);
}), function() {
for (;a.length; ) a.shift()();
});
},
$watchCollection: function(e, t) {
function i(e) {
var t, i, a, s;
if (!v(r = e)) {
if (b(r)) if (n(r)) {
o !== h && (g = (o = h).length = 0, u++), t = r.length, g !== t && (u++, o.length = g = t);
for (var l = 0; l < t; l++) s = o[l], a = r[l], s !== s && a !== a || s === a || (u++, o[l] = a);
} else {
o !== f && (o = f = {}, g = 0, u++), t = 0;
for (i in r) _i.call(r, i) && (t++, a = r[i], s = o[i], i in o ? s !== s && a !== a || s === a || (u++, o[i] = a) : (g++, o[i] = a, u++));
if (g > t) {
u++;
for (i in o) _i.call(r, i) || (g--, delete o[i]);
}
} else o !== r && (o = r, u++);
return u;
}
}
i.$stateful = !0;
var r, o, a, s = this, l = t.length > 1, u = 0, d = c(e, i), h = [], f = {}, p = !0, g = 0;
return this.$watch(d, function() {
if (p ? (p = !1, t(r, r, s)) : t(r, a, s), l) if (b(r)) if (n(r)) {
a = new Array(r.length);
for (var e = 0; e < r.length; e++) a[e] = r[e];
} else {
a = {};
for (var i in r) _i.call(r, i) && (a[i] = r[i]);
} else a = r;
});
},
$digest: function() {
var e, n, i, a, c, d, h, f, p, v, y = r, b = this, _ = [];
g("$digest"), u.$$checkUrlChange(), this === $ && null !== l && (u.defer.cancel(l), C()), s = null;
do {
d = !1, f = b;
for (var x = 0; x < A.length; x++) {
try {
(v = A[x]).scope.$eval(v.expression, v.locals);
} catch (e) {
t(e);
}
s = null;
}
A.length = 0;
e: do {
if (c = f.$$watchers) for (c.$$digestWatchIndex = c.length; c.$$digestWatchIndex--; ) try {
if (e = c[c.$$digestWatchIndex]) if (a = e.get, (n = a(f)) === (i = e.last) || (e.eq ? j(n, i) : Li(n) && Li(i))) {
if (e === s) {
d = !1;
break e;
}
} else d = !0, s = e, e.last = e.eq ? B(n, null) : n, (0, e.fn)(n, i === w ? n : i, f), y < 5 && (_[p = 4 - y] || (_[p] = []), _[p].push({
msg: S(e.exp) ? "fn: " + (e.exp.name || e.exp.toString()) : e.exp,
newVal: n,
oldVal: i
}));
} catch (e) {
t(e);
}
if (!(h = f.$$watchersCount && f.$$childHead || f !== b && f.$$nextSibling)) for (;f !== b && !(h = f.$$nextSibling); ) f = f.$parent;
} while (f = h);
if ((d || A.length) && !y--) throw m(), o("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", r, _);
} while (d || A.length);
for (m(); D < k.length; ) try {
k[D++]();
} catch (e) {
t(e);
}
k.length = D = 0;
},
$destroy: function() {
if (!this.$$destroyed) {
var e = this.$parent;
this.$broadcast("$destroy"), this.$$destroyed = !0, this === $ && u.$$applicationDestroyed(), y(this, -this.$$watchersCount);
for (var t in this.$$listenerCount) _(this, this.$$listenerCount[t], t);
e && e.$$childHead === this && (e.$$childHead = this.$$nextSibling), e && e.$$childTail === this && (e.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = f, this.$on = this.$watch = this.$watchGroup = function() {
return f;
}, this.$$listeners = {}, this.$$nextSibling = null, h(this);
}
},
$eval: function(e, t) {
return c(e)(this, t);
},
$evalAsync: function(e, t) {
$.$$phase || A.length || u.defer(function() {
A.length && $.$digest();
}), A.push({
scope: this,
expression: c(e),
locals: t
});
},
$$postDigest: function(e) {
k.push(e);
},
$apply: function(e) {
try {
g("$apply");
try {
return this.$eval(e);
} finally {
m();
}
} catch (e) {
t(e);
} finally {
try {
$.$digest();
} catch (e) {
throw t(e), e;
}
}
},
$applyAsync: function(e) {
var t = this;
e && T.push(function() {
t.$eval(e);
}), e = c(e), x();
},
$on: function(e, t) {
var n = this.$$listeners[e];
n || (this.$$listeners[e] = n = []), n.push(t);
var i = this;
do {
i.$$listenerCount[e] || (i.$$listenerCount[e] = 0), i.$$listenerCount[e]++;
} while (i = i.$parent);
var r = this;
return function() {
var i = n.indexOf(t);
-1 !== i && (n[i] = null, _(r, 1, e));
};
},
$emit: function(e, n) {
var i, r, o, a = [], s = this, l = !1, c = {
name: e,
targetScope: s,
stopPropagation: function() {
l = !0;
},
preventDefault: function() {
c.defaultPrevented = !0;
},
defaultPrevented: !1
}, u = H([ c ], arguments, 1);
do {
for (i = s.$$listeners[e] || a, c.currentScope = s, r = 0, o = i.length; r < o; r++) if (i[r]) try {
i[r].apply(null, u);
} catch (e) {
t(e);
} else i.splice(r, 1), r--, o--;
if (l) return c.currentScope = null, c;
s = s.$parent;
} while (s);
return c.currentScope = null, c;
},
$broadcast: function(e, n) {
var i = this, r = i, o = i, a = {
name: e,
targetScope: i,
preventDefault: function() {
a.defaultPrevented = !0;
},
defaultPrevented: !1
};
if (!i.$$listenerCount[e]) return a;
for (var s, l, c, u = H([ a ], arguments, 1); r = o; ) {
for (a.currentScope = r, l = 0, c = (s = r.$$listeners[e] || []).length; l < c; l++) if (s[l]) try {
s[l].apply(null, u);
} catch (e) {
t(e);
} else s.splice(l, 1), l--, c--;
if (!(o = r.$$listenerCount[e] && r.$$childHead || r !== i && r.$$nextSibling)) for (;r !== i && !(o = r.$$nextSibling); ) r = r.$parent;
}
return a.currentScope = null, a;
}
};
var $ = new p(), A = $.$$asyncQueue = [], k = $.$$postDigestQueue = [], T = $.$$applyAsyncQueue = [], D = 0;
return $;
} ];
}
function bn() {
var e = /^\s*(https?|ftp|mailto|tel|file):/, t = /^\s*((https?|ftp|file|blob):|data:image\/)/;
this.aHrefSanitizationWhitelist = function(t) {
return y(t) ? (e = t, this) : e;
}, this.imgSrcSanitizationWhitelist = function(e) {
return y(e) ? (t = e, this) : t;
}, this.$get = function() {
return function(n, i) {
var r, o = i ? t : e;
return "" === (r = Tn(n).href) || r.match(o) ? n : "unsafe:" + r;
};
};
}
function _n(e) {
if ("self" === e) return e;
if (w(e)) {
if (e.indexOf("***") > -1) throw wo("iwcard", "Illegal sequence *** in string matcher.  String: {0}", e);
return e = Bi(e).replace(/\\\*\\\*/g, ".*").replace(/\\\*/g, "[^:/.?&;]*"), new RegExp("^" + e + "$");
}
if ($(e)) return new RegExp("^" + e.source + "$");
throw wo("imatcher", 'Matchers may only be "self", string patterns or RegExp objects');
}
function wn(e) {
var t = [];
return y(e) && i(e, function(e) {
t.push(_n(e));
}), t;
}
function Cn() {
this.SCE_CONTEXTS = Co;
var e = [ "self" ], t = [];
this.resourceUrlWhitelist = function(t) {
return arguments.length && (e = wn(t)), e;
}, this.resourceUrlBlacklist = function(e) {
return arguments.length && (t = wn(e)), t;
}, this.$get = [ "$injector", function(n) {
function i(e, t) {
return "self" === e ? Dn(t) : !!e.exec(t.href);
}
function r(n) {
var r, o, a = Tn(n.toString()), s = !1;
for (r = 0, o = e.length; r < o; r++) if (i(e[r], a)) {
s = !0;
break;
}
if (s) for (r = 0, o = t.length; r < o; r++) if (i(t[r], a)) {
s = !1;
break;
}
return s;
}
function o(e) {
var t = function(e) {
this.$$unwrapTrustedValue = function() {
return e;
};
};
return e && (t.prototype = new e()), t.prototype.valueOf = function() {
return this.$$unwrapTrustedValue();
}, t.prototype.toString = function() {
return this.$$unwrapTrustedValue().toString();
}, t;
}
var a = function(e) {
throw wo("unsafe", "Attempting to use an unsafe value in a safe context.");
};
n.has("$sanitize") && (a = n.get("$sanitize"));
var s = o(), l = {};
return l[Co.HTML] = o(s), l[Co.CSS] = o(s), l[Co.URL] = o(s), l[Co.JS] = o(s), l[Co.RESOURCE_URL] = o(l[Co.URL]), {
trustAs: function(e, t) {
var n = l.hasOwnProperty(e) ? l[e] : null;
if (!n) throw wo("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", e, t);
if (null === t || v(t) || "" === t) return t;
if ("string" != typeof t) throw wo("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", e);
return new n(t);
},
getTrusted: function(e, t) {
if (null === t || v(t) || "" === t) return t;
var n = l.hasOwnProperty(e) ? l[e] : null;
if (n && t instanceof n) return t.$$unwrapTrustedValue();
if (e === Co.RESOURCE_URL) {
if (r(t)) return t;
throw wo("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", t.toString());
}
if (e === Co.HTML) return a(t);
throw wo("unsafe", "Attempting to use an unsafe value in a safe context.");
},
valueOf: function(e) {
return e instanceof s ? e.$$unwrapTrustedValue() : e;
}
};
} ];
}
function xn() {
var e = !0;
this.enabled = function(t) {
return arguments.length && (e = !!t), e;
}, this.$get = [ "$parse", "$sceDelegate", function(t, n) {
if (e && xi < 8) throw wo("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
var r = ge(Co);
r.isEnabled = function() {
return e;
}, r.trustAs = n.trustAs, r.getTrusted = n.getTrusted, r.valueOf = n.valueOf, e || (r.trustAs = r.getTrusted = function(e, t) {
return t;
}, r.valueOf = p), r.parseAs = function(e, n) {
var i = t(n);
return i.literal && i.constant ? i : t(n, function(t) {
return r.getTrusted(e, t);
});
};
var o = r.parseAs, a = r.getTrusted, s = r.trustAs;
return i(Co, function(e, t) {
var n = wi(t);
r[be("parse_as_" + n)] = function(t) {
return o(e, t);
}, r[be("get_trusted_" + n)] = function(t) {
return a(e, t);
}, r[be("trust_as_" + n)] = function(t) {
return s(e, t);
};
}), r;
} ];
}
function Sn() {
this.$get = [ "$window", "$document", function(e, t) {
var n, i, r = {}, o = !(e.chrome && (e.chrome.app && e.chrome.app.runtime || !e.chrome.app && e.chrome.runtime && e.chrome.runtime.id)) && e.history && e.history.pushState, a = d((/android (\d+)/.exec(wi((e.navigator || {}).userAgent)) || [])[1]), s = /Boxee/i.test((e.navigator || {}).userAgent), l = t[0] || {}, c = /^(Moz|webkit|ms)(?=[A-Z])/, u = l.body && l.body.style, h = !1, f = !1;
if (u) {
for (var p in u) if (i = c.exec(p)) {
n = (n = i[0])[0].toUpperCase() + n.substr(1);
break;
}
n || (n = "WebkitOpacity" in u && "webkit"), h = !!("transition" in u || n + "Transition" in u), f = !!("animation" in u || n + "Animation" in u), !a || h && f || (h = w(u.webkitTransition), f = w(u.webkitAnimation));
}
return {
history: !(!o || a < 4 || s),
hasEvent: function(e) {
if ("input" === e && xi <= 11) return !1;
if (v(r[e])) {
var t = l.createElement("div");
r[e] = "on" + e in t;
}
return r[e];
},
csp: ji(),
vendorPrefix: n,
transitions: h,
animations: f,
android: a
};
} ];
}
function $n() {
var e;
this.httpOptions = function(t) {
return t ? (e = t, this) : e;
}, this.$get = [ "$templateCache", "$http", "$q", "$sce", function(t, n, i, r) {
function o(a, s) {
o.totalPendingRequests++, w(a) && !v(t.get(a)) || (a = r.getTrustedResourceUrl(a));
var l = n.defaults && n.defaults.transformResponse;
return Oi(l) ? l = l.filter(function(e) {
return e !== _t;
}) : l === _t && (l = null), n.get(a, c({
cache: t,
transformResponse: l
}, e)).finally(function() {
o.totalPendingRequests--;
}).then(function(e) {
return t.put(a, e.data), e.data;
}, function(e) {
if (!s) throw xo("tpload", "Failed to load template: {0} (HTTP status: {1} {2})", a, e.status, e.statusText);
return i.reject(e);
});
}
return o.totalPendingRequests = 0, o;
} ];
}
function An() {
this.$get = [ "$rootScope", "$browser", "$location", function(e, t, n) {
var r = {};
return r.findBindings = function(e, t, n) {
var r = [];
return i(e.getElementsByClassName("ng-binding"), function(e) {
var o = Ii.element(e).data("$binding");
o && i(o, function(i) {
n ? new RegExp("(^|\\s)" + Bi(t) + "(\\s|\\||$)").test(i) && r.push(e) : -1 !== i.indexOf(t) && r.push(e);
});
}), r;
}, r.findModels = function(e, t, n) {
for (var i = [ "ng-", "data-ng-", "ng\\:" ], r = 0; r < i.length; ++r) {
var o = n ? "=" : "*=", a = "[" + i[r] + "model" + o + '"' + t + '"]', s = e.querySelectorAll(a);
if (s.length) return s;
}
}, r.getLocation = function() {
return n.url();
}, r.setLocation = function(t) {
t !== n.url() && (n.url(t), e.$digest());
}, r.whenStable = function(e) {
t.notifyWhenNoOutstandingRequests(e);
}, r;
} ];
}
function kn() {
this.$get = [ "$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function(e, t, n, i, r) {
function o(o, s, l) {
S(o) || (l = s, s = o, o = f);
var c, u = V(arguments, 3), d = y(l) && !l, h = (d ? i : n).defer(), p = h.promise;
return c = t.defer(function() {
try {
h.resolve(o.apply(null, u));
} catch (e) {
h.reject(e), r(e);
} finally {
delete a[p.$$timeoutId];
}
d || e.$apply();
}, s), p.$$timeoutId = c, a[c] = h, p;
}
var a = {};
return o.cancel = function(e) {
return !!(e && e.$$timeoutId in a) && (a[e.$$timeoutId].reject("canceled"), delete a[e.$$timeoutId], t.defer.cancel(e.$$timeoutId));
}, o;
} ];
}
function Tn(e) {
var t = e;
return xi && (So.setAttribute("href", t), t = So.href), So.setAttribute("href", t), {
href: So.href,
protocol: So.protocol ? So.protocol.replace(/:$/, "") : "",
host: So.host,
search: So.search ? So.search.replace(/^\?/, "") : "",
hash: So.hash ? So.hash.replace(/^#/, "") : "",
hostname: So.hostname,
port: So.port,
pathname: "/" === So.pathname.charAt(0) ? So.pathname : "/" + So.pathname
};
}
function Dn(e) {
var t = w(e) ? Tn(e) : e;
return t.protocol === $o.protocol && t.host === $o.host;
}
function En() {
this.$get = g(e);
}
function Fn(e) {
function t(e) {
try {
return e.cookie || "";
} catch (e) {
return "";
}
}
function n(e) {
try {
return decodeURIComponent(e);
} catch (t) {
return e;
}
}
var i = e[0] || {}, r = {}, o = "";
return function() {
var e, a, s, l, c, u = t(i);
if (u !== o) for (e = (o = u).split("; "), r = {}, s = 0; s < e.length; s++) (l = (a = e[s]).indexOf("=")) > 0 && (c = n(a.substring(0, l)), v(r[c]) && (r[c] = n(a.substring(l + 1))));
return r;
};
}
function Mn() {
this.$get = Fn;
}
function In(e) {
function t(r, o) {
if (b(r)) {
var a = {};
return i(r, function(e, n) {
a[n] = t(n, e);
}), a;
}
return e.factory(r + n, o);
}
var n = "Filter";
this.register = t, this.$get = [ "$injector", function(e) {
return function(t) {
return e.get(t + n);
};
} ], t("currency", Nn), t("date", Xn), t("filter", Pn), t("json", Qn), t("limitTo", Jn), t("lowercase", Mo), t("number", Bn), t("orderBy", ei), t("uppercase", Io);
}
function Pn() {
return function(e, i, r, o) {
if (!n(e)) {
if (null == e) return e;
throw t("filter")("notarray", "Expected array but received: {0}", e);
}
o = o || "$";
var a, s;
switch (Rn(i)) {
case "function":
a = i;
break;

case "boolean":
case "null":
case "number":
case "string":
s = !0;

case "object":
a = Ln(i, r, o, s);
break;

default:
return e;
}
return Array.prototype.filter.call(e, a);
};
}
function Ln(e, t, n, i) {
var r = b(e) && n in e;
return !0 === t ? t = j : S(t) || (t = function(e, t) {
return !v(e) && (null === e || null === t ? e === t : !(b(t) || b(e) && !m(e)) && (e = wi("" + e), t = wi("" + t), -1 !== e.indexOf(t)));
}), function(o) {
return r && !b(o) ? On(o, e[n], t, n, !1) : On(o, e, t, n, i);
};
}
function On(e, t, n, i, r, o) {
var a = Rn(e), s = Rn(t);
if ("string" === s && "!" === t.charAt(0)) return !On(e, t.substring(1), n, i, r);
if (Oi(e)) return e.some(function(e) {
return On(e, t, n, i, r);
});
switch (a) {
case "object":
var l;
if (r) {
for (l in e) if ("$" !== l.charAt(0) && On(e[l], t, n, i, !0)) return !0;
return !o && On(e, t, n, i, !1);
}
if ("object" === s) {
for (l in t) {
var c = t[l];
if (!S(c) && !v(c)) {
var u = l === i;
if (!On(u ? e : e[l], c, n, i, u, u)) return !1;
}
}
return !0;
}
return n(e, t);

case "function":
return !1;

default:
return n(e, t);
}
}
function Rn(e) {
return null === e ? "null" : typeof e;
}
function Nn(e) {
var t = e.NUMBER_FORMATS;
return function(e, n, i) {
return v(n) && (n = t.CURRENCY_SYM), v(i) && (i = t.PATTERNS[1].maxFrac), null == e ? e : Vn(e, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, i).replace(/\u00A4/g, n);
};
}
function Bn(e) {
var t = e.NUMBER_FORMATS;
return function(e, n) {
return null == e ? e : Vn(e, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, n);
};
}
function jn(e) {
var t, n, i, r, o, a = 0;
for ((n = e.indexOf(ko)) > -1 && (e = e.replace(ko, "")), (i = e.search(/e/i)) > 0 ? (n < 0 && (n = i), n += +e.slice(i + 1), e = e.substring(0, i)) : n < 0 && (n = e.length), i = 0; e.charAt(i) === To; i++) ;
if (i === (o = e.length)) t = [ 0 ], n = 1; else {
for (o--; e.charAt(o) === To; ) o--;
for (n -= i, t = [], r = 0; i <= o; i++, r++) t[r] = +e.charAt(i);
}
return n > Ao && (t = t.splice(0, Ao - 1), a = n - 1, n = 1), {
d: t,
e: a,
i: n
};
}
function Hn(e, t, n, i) {
var r = e.d, o = r.length - e.i, a = (t = v(t) ? Math.min(Math.max(n, o), i) : +t) + e.i, s = r[a];
if (a > 0) {
r.splice(Math.max(e.i, a));
for (var l = a; l < r.length; l++) r[l] = 0;
} else {
o = Math.max(0, o), e.i = 1, r.length = Math.max(1, a = t + 1), r[0] = 0;
for (var c = 1; c < a; c++) r[c] = 0;
}
if (s >= 5) if (a - 1 < 0) {
for (var u = 0; u > a; u--) r.unshift(0), e.i++;
r.unshift(1), e.i++;
} else r[a - 1]++;
for (;o < Math.max(0, t); o++) r.push(0);
var d = r.reduceRight(function(e, t, n, i) {
return t += e, i[n] = t % 10, Math.floor(t / 10);
}, 0);
d && (r.unshift(d), e.i++);
}
function Vn(e, t, n, i, r) {
if (!w(e) && !C(e) || isNaN(e)) return "";
var o, a = !isFinite(e), s = !1, l = Math.abs(e) + "", c = "";
if (a) c = "∞"; else {
Hn(o = jn(l), r, t.minFrac, t.maxFrac);
var u = o.d, d = o.i, h = o.e, f = [];
for (s = u.reduce(function(e, t) {
return e && !t;
}, !0); d < 0; ) u.unshift(0), d++;
d > 0 ? f = u.splice(d, u.length) : (f = u, u = [ 0 ]);
var p = [];
for (u.length >= t.lgSize && p.unshift(u.splice(-t.lgSize, u.length).join("")); u.length > t.gSize; ) p.unshift(u.splice(-t.gSize, u.length).join(""));
u.length && p.unshift(u.join("")), c = p.join(n), f.length && (c += i + f.join("")), h && (c += "e+" + h);
}
return e < 0 && !s ? t.negPre + c + t.negSuf : t.posPre + c + t.posSuf;
}
function Un(e, t, n, i) {
var r = "";
for ((e < 0 || i && e <= 0) && (i ? e = 1 - e : (e = -e, r = "-")), e = "" + e; e.length < t; ) e = To + e;
return n && (e = e.substr(e.length - t)), r + e;
}
function zn(e, t, n, i, r) {
return n = n || 0, function(o) {
var a = o["get" + e]();
return (n > 0 || a > -n) && (a += n), 0 === a && -12 === n && (a = 12), Un(a, t, i, r);
};
}
function Wn(e, t, n) {
return function(i, r) {
var o = i["get" + e]();
return r[Ci((n ? "STANDALONE" : "") + (t ? "SHORT" : "") + e)][o];
};
}
function qn(e) {
var t = new Date(e, 0, 1).getDay();
return new Date(e, 0, (t <= 4 ? 5 : 12) - t);
}
function Gn(e) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate() + (4 - e.getDay()));
}
function Yn(e) {
return function(t) {
var n = qn(t.getFullYear()), i = +Gn(t) - +n;
return Un(1 + Math.round(i / 6048e5), e);
};
}
function Kn(e, t) {
return e.getFullYear() <= 0 ? t.ERAS[0] : t.ERAS[1];
}
function Xn(e) {
function t(e) {
var t;
if (t = e.match(n)) {
var i = new Date(0), r = 0, o = 0, a = t[8] ? i.setUTCFullYear : i.setFullYear, s = t[8] ? i.setUTCHours : i.setHours;
t[9] && (r = d(t[9] + t[10]), o = d(t[9] + t[11])), a.call(i, d(t[1]), d(t[2]) - 1, d(t[3]));
var l = d(t[4] || 0) - r, c = d(t[5] || 0) - o, u = d(t[6] || 0), h = Math.round(1e3 * parseFloat("0." + (t[7] || 0)));
return s.call(i, l, c, u, h), i;
}
return e;
}
var n = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
return function(n, r, o) {
var a, s, l = "", c = [];
if (r = r || "mediumDate", r = e.DATETIME_FORMATS[r] || r, w(n) && (n = Fo.test(n) ? d(n) : t(n)), C(n) && (n = new Date(n)), !x(n) || !isFinite(n.getTime())) return n;
for (;r; ) (s = Eo.exec(r)) ? r = (c = H(c, s, 1)).pop() : (c.push(r), r = null);
var u = n.getTimezoneOffset();
return o && (u = G(o, u), n = K(n, o, !0)), i(c, function(t) {
a = Do[t], l += a ? a(n, e.DATETIME_FORMATS, u) : "''" === t ? "'" : t.replace(/(^'|'$)/g, "").replace(/''/g, "'");
}), l;
};
}
function Qn() {
return function(e, t) {
return v(t) && (t = 2), W(e, t);
};
}
function Jn() {
return function(e, t, i) {
return t = Math.abs(Number(t)) === 1 / 0 ? Number(t) : d(t), Li(t) ? e : (C(e) && (e = e.toString()), n(e) ? (i = !i || isNaN(i) ? 0 : d(i), i = i < 0 ? Math.max(0, e.length + i) : i, t >= 0 ? Zn(e, i, i + t) : 0 === i ? Zn(e, t, e.length) : Zn(e, Math.max(0, i + t), i)) : e);
};
}
function Zn(e, t, n) {
return w(e) ? e.slice(t, n) : ki.call(e, t, n);
}
function ei(e) {
function i(t) {
return t.map(function(t) {
var n = 1, i = p;
if (S(t)) i = t; else if (w(t) && ("+" !== t.charAt(0) && "-" !== t.charAt(0) || (n = "-" === t.charAt(0) ? -1 : 1, t = t.substring(1)), "" !== t && (i = e(t)).constant)) {
var r = i();
i = function(e) {
return e[r];
};
}
return {
get: i,
descending: n
};
});
}
function r(e) {
switch (typeof e) {
case "number":
case "boolean":
case "string":
return !0;

default:
return !1;
}
}
function o(e) {
return S(e.valueOf) && (e = e.valueOf(), r(e)) ? e : (m(e) && (e = e.toString(), r(e)), e);
}
function a(e, t) {
var n = typeof e;
return null === e ? (n = "string", e = "null") : "object" === n && (e = o(e)), {
value: e,
type: n,
index: t
};
}
function s(e, t) {
var n = 0, i = e.type, r = t.type;
if (i === r) {
var o = e.value, a = t.value;
"string" === i ? (o = o.toLowerCase(), a = a.toLowerCase()) : "object" === i && (b(o) && (o = e.index), b(a) && (a = t.index)), o !== a && (n = o < a ? -1 : 1);
} else n = i < r ? -1 : 1;
return n;
}
return function(e, r, o, l) {
if (null == e) return e;
if (!n(e)) throw t("orderBy")("notarray", "Expected array but received: {0}", e);
Oi(r) || (r = [ r ]), 0 === r.length && (r = [ "+" ]);
var c = i(r), u = o ? -1 : 1, d = S(l) ? l : s, h = Array.prototype.map.call(e, function(e, t) {
return {
value: e,
tieBreaker: {
value: t,
type: "number",
index: t
},
predicateValues: c.map(function(n) {
return a(n.get(e), t);
})
};
});
return h.sort(function(e, t) {
for (var n = 0, i = c.length; n < i; n++) {
var r = d(e.predicateValues[n], t.predicateValues[n]);
if (r) return r * c[n].descending * u;
}
return d(e.tieBreaker, t.tieBreaker) * u;
}), e = h.map(function(e) {
return e.value;
});
};
}
function ti(e) {
return S(e) && (e = {
link: e
}), e.restrict = e.restrict || "AC", g(e);
}
function ni(e, t, n, r, o) {
var a = this, s = [];
a.$error = {}, a.$$success = {}, a.$pending = void 0, a.$name = o(t.name || t.ngForm || "")(n), a.$dirty = !1, a.$pristine = !0, a.$valid = !0, a.$invalid = !1, a.$submitted = !1, a.$$parentForm = Oo, a.$rollbackViewValue = function() {
i(s, function(e) {
e.$rollbackViewValue();
});
}, a.$commitViewValue = function() {
i(s, function(e) {
e.$commitViewValue();
});
}, a.$addControl = function(e) {
ue(e.$name, "input"), s.push(e), e.$name && (a[e.$name] = e), e.$$parentForm = a;
}, a.$$renameControl = function(e, t) {
var n = e.$name;
a[n] === e && delete a[n], a[t] = e, e.$name = t;
}, a.$removeControl = function(e) {
e.$name && a[e.$name] === e && delete a[e.$name], i(a.$pending, function(t, n) {
a.$setValidity(n, null, e);
}), i(a.$error, function(t, n) {
a.$setValidity(n, null, e);
}), i(a.$$success, function(t, n) {
a.$setValidity(n, null, e);
}), N(s, e), e.$$parentForm = Oo;
}, gi({
ctrl: this,
$element: e,
set: function(e, t, n) {
var i = e[t];
i ? -1 === i.indexOf(n) && i.push(n) : e[t] = [ n ];
},
unset: function(e, t, n) {
var i = e[t];
i && (N(i, n), 0 === i.length && delete e[t]);
},
$animate: r
}), a.$setDirty = function() {
r.removeClass(e, _a), r.addClass(e, wa), a.$dirty = !0, a.$pristine = !1, a.$$parentForm.$setDirty();
}, a.$setPristine = function() {
r.setClass(e, _a, wa + " " + Ro), a.$dirty = !1, a.$pristine = !0, a.$submitted = !1, i(s, function(e) {
e.$setPristine();
});
}, a.$setUntouched = function() {
i(s, function(e) {
e.$setUntouched();
});
}, a.$setSubmitted = function() {
r.addClass(e, Ro), a.$submitted = !0, a.$$parentForm.$setSubmitted();
};
}
function ii(e) {
e.$formatters.push(function(t) {
return e.$isEmpty(t) ? t : t.toString();
});
}
function ri(e, t, n, i, r, o) {
var a = wi(t[0].type);
if (!r.android) {
var s = !1;
t.on("compositionstart", function() {
s = !0;
}), t.on("compositionend", function() {
s = !1, c();
});
}
var l, c = function(e) {
if (l && (o.defer.cancel(l), l = null), !s) {
var r = t.val(), c = e && e.type;
"password" === a || n.ngTrim && "false" === n.ngTrim || (r = Ni(r)), (i.$viewValue !== r || "" === r && i.$$hasNativeValidators) && i.$setViewValue(r, c);
}
};
if (r.hasEvent("input")) t.on("input", c); else {
var u = function(e, t, n) {
l || (l = o.defer(function() {
l = null, t && t.value === n || c(e);
}));
};
t.on("keydown", function(e) {
var t = e.keyCode;
91 === t || 15 < t && t < 19 || 37 <= t && t <= 40 || u(e, this, this.value);
}), r.hasEvent("paste") && t.on("paste cut", u);
}
t.on("change", c), Qo[a] && i.$$hasNativeValidators && a === n.type && t.on(Xo, function(e) {
if (!l) {
var t = this[bi], n = t.badInput, i = t.typeMismatch;
l = o.defer(function() {
l = null, t.badInput === n && t.typeMismatch === i || c(e);
});
}
}), i.$render = function() {
var e = i.$isEmpty(i.$viewValue) ? "" : i.$viewValue;
t.val() !== e && t.val(e);
};
}
function oi(e, t) {
return function(n, r) {
var o, a;
if (x(n)) return n;
if (w(n)) {
if ('"' === n.charAt(0) && '"' === n.charAt(n.length - 1) && (n = n.substring(1, n.length - 1)), Ho.test(n)) return new Date(n);
if (e.lastIndex = 0, o = e.exec(n)) return o.shift(), a = r ? {
yyyy: r.getFullYear(),
MM: r.getMonth() + 1,
dd: r.getDate(),
HH: r.getHours(),
mm: r.getMinutes(),
ss: r.getSeconds(),
sss: r.getMilliseconds() / 1e3
} : {
yyyy: 1970,
MM: 1,
dd: 1,
HH: 0,
mm: 0,
ss: 0,
sss: 0
}, i(o, function(e, n) {
n < t.length && (a[t[n]] = +e);
}), new Date(a.yyyy, a.MM - 1, a.dd, a.HH, a.mm, a.ss || 0, 1e3 * a.sss || 0);
}
return NaN;
};
}
function ai(e, t, n, i) {
return function(r, o, a, s, l, c, u) {
function d(e) {
return e && !(e.getTime && e.getTime() !== e.getTime());
}
function h(e) {
return y(e) && !x(e) ? n(e) || void 0 : e;
}
si(r, o, a, s), ri(r, o, a, s, l, c);
var f, p = s && s.$options && s.$options.timezone;
if (s.$$parserName = e, s.$parsers.push(function(e) {
if (s.$isEmpty(e)) return null;
if (t.test(e)) {
var i = n(e, f);
return p && (i = K(i, p)), i;
}
}), s.$formatters.push(function(e) {
if (e && !x(e)) throw xa("datefmt", "Expected `{0}` to be a date", e);
return d(e) ? ((f = e) && p && (f = K(f, p, !0)), u("date")(e, i, p)) : (f = null, "");
}), y(a.min) || a.ngMin) {
var g;
s.$validators.min = function(e) {
return !d(e) || v(g) || n(e) >= g;
}, a.$observe("min", function(e) {
g = h(e), s.$validate();
});
}
if (y(a.max) || a.ngMax) {
var m;
s.$validators.max = function(e) {
return !d(e) || v(m) || n(e) <= m;
}, a.$observe("max", function(e) {
m = h(e), s.$validate();
});
}
};
}
function si(e, t, n, i) {
var r = t[0];
(i.$$hasNativeValidators = b(r.validity)) && i.$parsers.push(function(e) {
var n = t.prop(bi) || {};
return n.badInput || n.typeMismatch ? void 0 : e;
});
}
function li(e) {
e.$$parserName = "number", e.$parsers.push(function(t) {
return e.$isEmpty(t) ? null : zo.test(t) ? parseFloat(t) : void 0;
}), e.$formatters.push(function(t) {
if (!e.$isEmpty(t)) {
if (!C(t)) throw xa("numfmt", "Expected `{0}` to be a number", t);
t = t.toString();
}
return t;
});
}
function ci(e) {
return y(e) && !C(e) && (e = parseFloat(e)), Li(e) ? void 0 : e;
}
function ui(e) {
return (0 | e) === e;
}
function di(e) {
var t = e.toString(), n = t.indexOf(".");
if (-1 === n) {
if (-1 < e && e < 1) {
var i = /e-(\d+)$/.exec(t);
if (i) return Number(i[1]);
}
return 0;
}
return t.length - n - 1;
}
function hi(e, t, n) {
var i = Number(e);
if (!ui(i) || !ui(t) || !ui(n)) {
var r = Math.max(di(i), di(t), di(n)), o = Math.pow(10, r);
i *= o, t *= o, n *= o;
}
return (i - t) % n == 0;
}
function fi(e, t, n, i, r) {
var o;
if (y(i)) {
if (!(o = e(i)).constant) throw xa("constexpr", "Expected constant expression for `{0}`, but saw `{1}`.", n, i);
return o(t);
}
return r;
}
function pi(e, t) {
return e = "ngClass" + e, [ "$animate", function(n) {
function r(e, t) {
var n = [];
e: for (var i = 0; i < e.length; i++) {
for (var r = e[i], o = 0; o < t.length; o++) if (r === t[o]) continue e;
n.push(r);
}
return n;
}
function o(e) {
var t = [];
return Oi(e) ? (i(e, function(e) {
t = t.concat(o(e));
}), t) : w(e) ? e.split(" ") : b(e) ? (i(e, function(e, n) {
e && (t = t.concat(n.split(" ")));
}), t) : e;
}
return {
restrict: "AC",
link: function(a, s, l) {
function c(e) {
var t = d(e, 1);
l.$addClass(t);
}
function u(e) {
var t = d(e, -1);
l.$removeClass(t);
}
function d(e, t) {
var n = s.data("$classCounts") || fe(), r = [];
return i(e, function(e) {
(t > 0 || n[e]) && (n[e] = (n[e] || 0) + t, n[e] === +(t > 0) && r.push(e));
}), s.data("$classCounts", n), r.join(" ");
}
function h(e, t) {
var i = r(t, e), o = r(e, t);
i = d(i, 1), o = d(o, -1), i && i.length && n.addClass(s, i), o && o.length && n.removeClass(s, o);
}
function f(e) {
if (!0 === t || (1 & a.$index) === t) {
var n = o(e || []);
p ? j(e, p) || h(o(p), n) : c(n);
}
p = Oi(e) ? e.map(function(e) {
return ge(e);
}) : ge(e);
}
var p;
l.$observe("class", function(t) {
f(a.$eval(l[e]));
}), "ngClass" !== e && a.$watch("$index", function(e, n) {
var i = 1 & e;
if (i !== (1 & n)) {
var r = o(p);
i === t ? c(r) : u(r);
}
}), a.$watch(l[e], f, !0);
}
};
} ];
}
function gi(e) {
function t(e, t, n) {
o[e] || (o[e] = {}), l(o[e], t, n);
}
function n(e, t, n) {
o[e] && c(o[e], t, n), mi(o[e]) && (o[e] = void 0);
}
function i(e, t) {
t && !s[e] ? (u.addClass(a, e), s[e] = !0) : !t && s[e] && (u.removeClass(a, e), s[e] = !1);
}
function r(e, t) {
e = e ? "-" + se(e, "-") : "", i(ya + e, !0 === t), i(ba + e, !1 === t);
}
var o = e.ctrl, a = e.$element, s = {}, l = e.set, c = e.unset, u = e.$animate;
s[ba] = !(s[ya] = a.hasClass(ya)), o.$setValidity = function(e, a, s) {
v(a) ? t("$pending", e, s) : n("$pending", e, s), F(a) ? a ? (c(o.$error, e, s), l(o.$$success, e, s)) : (l(o.$error, e, s), c(o.$$success, e, s)) : (c(o.$error, e, s), c(o.$$success, e, s)), o.$pending ? (i(Ca, !0), o.$valid = o.$invalid = void 0, r("", null)) : (i(Ca, !1), o.$valid = mi(o.$error), o.$invalid = !o.$valid, r("", o.$valid));
var u;
r(e, u = o.$pending && o.$pending[e] ? void 0 : !o.$error[e] && (!!o.$$success[e] || null)), o.$$parentForm.$setValidity(e, u, o);
};
}
function mi(e) {
if (e) for (var t in e) if (e.hasOwnProperty(t)) return !1;
return !0;
}
function vi(e) {
e[0].hasAttribute("selected") && (e[0].selected = !0);
}
var yi = /^\/(.+)\/([a-z]*)$/, bi = "validity", _i = Object.prototype.hasOwnProperty, wi = function(e) {
return w(e) ? e.toLowerCase() : e;
}, Ci = function(e) {
return w(e) ? e.toUpperCase() : e;
};
"i" !== "I".toLowerCase() && (wi = function(e) {
return w(e) ? e.replace(/[A-Z]/g, function(e) {
return String.fromCharCode(32 | e.charCodeAt(0));
}) : e;
}, Ci = function(e) {
return w(e) ? e.replace(/[a-z]/g, function(e) {
return String.fromCharCode(-33 & e.charCodeAt(0));
}) : e;
});
var xi, Si, $i, Ai, ki = [].slice, Ti = [].splice, Di = [].push, Ei = Object.prototype.toString, Fi = Object.getPrototypeOf, Mi = t("ng"), Ii = e.angular || (e.angular = {}), Pi = 0;
xi = e.document.documentMode;
var Li = Number.isNaN || function(e) {
return e !== e;
};
f.$inject = [], p.$inject = [];
var Oi = Array.isArray, Ri = /^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/, Ni = function(e) {
return w(e) ? e.trim() : e;
}, Bi = function(e) {
return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
}, ji = function() {
if (!y(ji.rules)) {
var t = e.document.querySelector("[ng-csp]") || e.document.querySelector("[data-ng-csp]");
if (t) {
var n = t.getAttribute("ng-csp") || t.getAttribute("data-ng-csp");
ji.rules = {
noUnsafeEval: !n || -1 !== n.indexOf("no-unsafe-eval"),
noInlineStyle: !n || -1 !== n.indexOf("no-inline-style")
};
} else ji.rules = {
noUnsafeEval: function() {
try {
return new Function(""), !1;
} catch (e) {
return !0;
}
}(),
noInlineStyle: !1
};
}
return ji.rules;
}, Hi = function() {
if (y(Hi.name_)) return Hi.name_;
var t, n, i, r, o = Ui.length;
for (n = 0; n < o; ++n) if (i = Ui[n], t = e.document.querySelector("[" + i.replace(":", "\\:") + "jq]")) {
r = t.getAttribute(i + "jq");
break;
}
return Hi.name_ = r;
}, Vi = /:/g, Ui = [ "ng-", "data-ng-", "ng:", "x-ng-" ], zi = function(e) {
var t = e.currentScript, n = t && t.getAttribute("src");
if (!n) return !0;
var i = e.createElement("a");
if (i.href = n, e.location.origin === i.origin) return !0;
switch (i.protocol) {
case "http:":
case "https:":
case "ftp:":
case "blob:":
case "file:":
case "data:":
return !0;

default:
return !1;
}
}(e.document), Wi = /[A-Z]/g, qi = !1, Gi = 1, Yi = 3, Ki = 8, Xi = 9, Qi = 11, Ji = {
full: "1.5.11",
major: 1,
minor: 5,
dot: 11,
codeName: "princely-quest"
};
$e.expando = "ng339";
var Zi = $e.cache = {}, er = 1, tr = function(e, t, n) {
e.addEventListener(t, n, !1);
}, nr = function(e, t, n) {
e.removeEventListener(t, n, !1);
};
$e._data = function(e) {
return this.cache[e[this.expando]] || {};
};
var ir = /([:\-_]+(.))/g, rr = /^moz([A-Z])/, or = {
mouseleave: "mouseout",
mouseenter: "mouseover"
}, ar = t("jqLite"), sr = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, lr = /<|&#?\w+;/, cr = /<([\w:-]+)/, ur = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi, dr = {
option: [ 1, '<select multiple="multiple">', "</select>" ],
thead: [ 1, "<table>", "</table>" ],
col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
tr: [ 2, "<table><tbody>", "</tbody></table>" ],
td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
_default: [ 0, "", "" ]
};
dr.optgroup = dr.option, dr.tbody = dr.tfoot = dr.colgroup = dr.caption = dr.thead, dr.th = dr.td;
var hr = e.Node.prototype.contains || function(e) {
return !!(16 & this.compareDocumentPosition(e));
}, fr = $e.prototype = {
ready: function(t) {
function n() {
i || (i = !0, t());
}
var i = !1;
"complete" === e.document.readyState ? e.setTimeout(n) : (this.on("DOMContentLoaded", n), $e(e).on("load", n));
},
toString: function() {
var e = [];
return i(this, function(t) {
e.push("" + t);
}), "[" + e.join(", ") + "]";
},
eq: function(e) {
return Si(e >= 0 ? this[e] : this[this.length + e]);
},
length: 0,
push: Di,
sort: [].sort,
splice: [].splice
}, pr = {};
i("multiple,selected,checked,disabled,readOnly,required,open".split(","), function(e) {
pr[wi(e)] = e;
});
var gr = {};
i("input,select,option,textarea,button,form,details".split(","), function(e) {
gr[e] = !0;
});
var mr = {
ngMinlength: "minlength",
ngMaxlength: "maxlength",
ngMin: "min",
ngMax: "max",
ngPattern: "pattern"
};
i({
data: Fe,
removeData: De,
hasData: function(e) {
for (var t in Zi[e.ng339]) return !0;
return !1;
},
cleanData: function(e) {
for (var t = 0, n = e.length; t < n; t++) De(e[t]);
}
}, function(e, t) {
$e[t] = e;
}), i({
data: Fe,
inheritedData: Re,
scope: function(e) {
return Si.data(e, "$scope") || Re(e.parentNode || e, [ "$isolateScope", "$scope" ]);
},
isolateScope: function(e) {
return Si.data(e, "$isolateScope") || Si.data(e, "$isolateScopeNoTemplate");
},
controller: Oe,
injector: function(e) {
return Re(e, "$injector");
},
removeAttr: function(e, t) {
e.removeAttribute(t);
},
hasClass: Me,
css: function(e, t, n) {
if (t = be(t), !y(n)) return e.style[t];
e.style[t] = n;
},
attr: function(e, t, n) {
var i = e.nodeType;
if (i !== Yi && 2 !== i && i !== Ki) {
var r = wi(t);
if (pr[r]) {
if (!y(n)) return e[t] || (e.attributes.getNamedItem(t) || f).specified ? r : void 0;
n ? (e[t] = !0, e.setAttribute(t, r)) : (e[t] = !1, e.removeAttribute(r));
} else if (y(n)) e.setAttribute(t, n); else if (e.getAttribute) {
var o = e.getAttribute(t, 2);
return null === o ? void 0 : o;
}
}
},
prop: function(e, t, n) {
if (!y(n)) return e[t];
e[t] = n;
},
text: function() {
function e(e, t) {
if (v(t)) {
var n = e.nodeType;
return n === Gi || n === Yi ? e.textContent : "";
}
e.textContent = t;
}
return e.$dv = "", e;
}(),
val: function(e, t) {
if (v(t)) {
if (e.multiple && "select" === R(e)) {
var n = [];
return i(e.options, function(e) {
e.selected && n.push(e.value || e.text);
}), 0 === n.length ? null : n;
}
return e.value;
}
e.value = t;
},
html: function(e, t) {
if (v(t)) return e.innerHTML;
ke(e, !0), e.innerHTML = t;
},
empty: Ne
}, function(e, t) {
$e.prototype[t] = function(t, n) {
var i, r, o = this.length;
if (e !== Ne && v(2 === e.length && e !== Me && e !== Oe ? t : n)) {
if (b(t)) {
for (i = 0; i < o; i++) if (e === Fe) e(this[i], t); else for (r in t) e(this[i], r, t[r]);
return this;
}
for (var a = e.$dv, s = v(a) ? Math.min(o, 1) : o, l = 0; l < s; l++) {
var c = e(this[l], t, n);
a = a ? a + c : c;
}
return a;
}
for (i = 0; i < o; i++) e(this[i], t, n);
return this;
};
}), i({
removeData: De,
on: function(e, t, n, i) {
if (y(i)) throw ar("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
if (we(e)) {
var r = Ee(e, !0), o = r.events, a = r.handle;
a || (a = r.handle = Ue(e, o));
for (var s = t.indexOf(" ") >= 0 ? t.split(" ") : [ t ], l = s.length, c = function(t, i, r) {
var s = o[t];
s || ((s = o[t] = []).specialHandlerWrapper = i, "$destroy" === t || r || tr(e, t, a)), s.push(n);
}; l--; ) t = s[l], or[t] ? (c(or[t], We), c(t, void 0, !0)) : c(t);
}
},
off: Te,
one: function(e, t, n) {
(e = Si(e)).on(t, function i() {
e.off(t, n), e.off(t, i);
}), e.on(t, n);
},
replaceWith: function(e, t) {
var n, r = e.parentNode;
ke(e), i(new $e(t), function(t) {
n ? r.insertBefore(t, n.nextSibling) : r.replaceChild(t, e), n = t;
});
},
children: function(e) {
var t = [];
return i(e.childNodes, function(e) {
e.nodeType === Gi && t.push(e);
}), t;
},
contents: function(e) {
return e.contentDocument || e.childNodes || [];
},
append: function(e, t) {
var n = e.nodeType;
if (n === Gi || n === Qi) for (var i = 0, r = (t = new $e(t)).length; i < r; i++) {
var o = t[i];
e.appendChild(o);
}
},
prepend: function(e, t) {
if (e.nodeType === Gi) {
var n = e.firstChild;
i(new $e(t), function(t) {
e.insertBefore(t, n);
});
}
},
wrap: function(e, t) {
Se(e, Si(t).eq(0).clone()[0]);
},
remove: Be,
detach: function(e) {
Be(e, !0);
},
after: function(e, t) {
var n = e, i = e.parentNode;
if (i) for (var r = 0, o = (t = new $e(t)).length; r < o; r++) {
var a = t[r];
i.insertBefore(a, n.nextSibling), n = a;
}
},
addClass: Pe,
removeClass: Ie,
toggleClass: function(e, t, n) {
t && i(t.split(" "), function(t) {
var i = n;
v(i) && (i = !Me(e, t)), (i ? Pe : Ie)(e, t);
});
},
parent: function(e) {
var t = e.parentNode;
return t && t.nodeType !== Qi ? t : null;
},
next: function(e) {
return e.nextElementSibling;
},
find: function(e, t) {
return e.getElementsByTagName ? e.getElementsByTagName(t) : [];
},
clone: Ae,
triggerHandler: function(e, t, n) {
var r, o, a, s = t.type || t, l = Ee(e), u = l && l.events, d = u && u[s];
d && (r = {
preventDefault: function() {
this.defaultPrevented = !0;
},
isDefaultPrevented: function() {
return !0 === this.defaultPrevented;
},
stopImmediatePropagation: function() {
this.immediatePropagationStopped = !0;
},
isImmediatePropagationStopped: function() {
return !0 === this.immediatePropagationStopped;
},
stopPropagation: f,
type: s,
target: e
}, t.type && (r = c(r, t)), o = ge(d), a = n ? [ r ].concat(n) : [ r ], i(o, function(t) {
r.isImmediatePropagationStopped() || t.apply(e, a);
}));
}
}, function(e, t) {
$e.prototype[t] = function(t, n, i) {
for (var r, o = 0, a = this.length; o < a; o++) v(r) ? y(r = e(this[o], t, n, i)) && (r = Si(r)) : Le(r, e(this[o], t, n, i));
return y(r) ? r : this;
};
}), $e.prototype.bind = $e.prototype.on, $e.prototype.unbind = $e.prototype.off, Ye.prototype = {
put: function(e, t) {
this[Ge(e, this.nextUid)] = t;
},
get: function(e) {
return this[Ge(e, this.nextUid)];
},
remove: function(e) {
var t = this[e = Ge(e, this.nextUid)];
return delete this[e], t;
}
};
var vr = [ function() {
this.$get = [ function() {
return Ye;
} ];
} ], yr = /^([^(]+?)=>/, br = /^[^(]*\(\s*([^)]*)\)/m, _r = /,/, wr = /^\s*(_?)(\S+?)\1\s*$/, Cr = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm, xr = t("$injector");
Je.$$annotate = function(e, t, n) {
var r, o;
if ("function" == typeof e) {
if (!(r = e.$inject)) {
if (r = [], e.length) {
if (t) throw w(n) && n || (n = e.name || Qe(e)), xr("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", n);
i(Xe(e)[1].split(_r), function(e) {
e.replace(wr, function(e, t, n) {
r.push(n);
});
});
}
e.$inject = r;
}
} else Oi(e) ? (ce(e[o = e.length - 1], "fn"), r = e.slice(0, o)) : ce(e, "fn", !0);
return r;
};
var Sr = t("$animate"), $r = 1, Ar = function() {
this.$get = f;
}, kr = function() {
var e = new Ye(), t = [];
this.$get = [ "$$AnimateRunner", "$rootScope", function(n, r) {
function o(e, t, n) {
var r = !1;
return t && i(t = w(t) ? t.split(" ") : Oi(t) ? t : [], function(t) {
t && (r = !0, e[t] = n);
}), r;
}
function a() {
i(t, function(t) {
var n = e.get(t);
if (n) {
var r = nt(t.attr("class")), o = "", a = "";
i(n, function(e, t) {
e !== !!r[t] && (e ? o += (o.length ? " " : "") + t : a += (a.length ? " " : "") + t);
}), i(t, function(e) {
o && Pe(e, o), a && Ie(e, a);
}), e.remove(t);
}
}), t.length = 0;
}
function s(n, i, s) {
var l = e.get(n) || {}, c = o(l, i, !0), u = o(l, s, !1);
(c || u) && (e.put(n, l), t.push(n), 1 === t.length && r.$$postDigest(a));
}
return {
enabled: f,
on: f,
off: f,
pin: f,
push: function(e, t, i, r) {
r && r(), (i = i || {}).from && e.css(i.from), i.to && e.css(i.to), (i.addClass || i.removeClass) && s(e, i.addClass, i.removeClass);
var o = new n();
return o.complete(), o;
}
};
} ];
}, Tr = [ "$provide", function(e) {
var t = this;
this.$$registeredAnimations = Object.create(null), this.register = function(n, i) {
if (n && "." !== n.charAt(0)) throw Sr("notcsel", "Expecting class selector starting with '.' got '{0}'.", n);
var r = n + "-animation";
t.$$registeredAnimations[n.substr(1)] = r, e.factory(r, i);
}, this.classNameFilter = function(e) {
if (1 === arguments.length && (this.$$classNameFilter = e instanceof RegExp ? e : null, this.$$classNameFilter && new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString()))) throw Sr("nongcls", '$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.', "ng-animate");
return this.$$classNameFilter;
}, this.$get = [ "$$animateQueue", function(e) {
function t(e, t, n) {
if (n) {
var i = tt(n);
!i || i.parentNode || i.previousElementSibling || (n = null);
}
n ? n.after(e) : t.prepend(e);
}
return {
on: e.on,
off: e.off,
pin: e.pin,
enabled: e.enabled,
cancel: function(e) {
e.end && e.end();
},
enter: function(n, i, r, o) {
return i = i && Si(i), r = r && Si(r), i = i || r.parent(), t(n, i, r), e.push(n, "enter", it(o));
},
move: function(n, i, r, o) {
return i = i && Si(i), r = r && Si(r), i = i || r.parent(), t(n, i, r), e.push(n, "move", it(o));
},
leave: function(t, n) {
return e.push(t, "leave", it(n), function() {
t.remove();
});
},
addClass: function(t, n, i) {
return i = it(i), i.addClass = et(i.addclass, n), e.push(t, "addClass", i);
},
removeClass: function(t, n, i) {
return i = it(i), i.removeClass = et(i.removeClass, n), e.push(t, "removeClass", i);
},
setClass: function(t, n, i, r) {
return r = it(r), r.addClass = et(r.addClass, n), r.removeClass = et(r.removeClass, i), e.push(t, "setClass", r);
},
animate: function(t, n, i, r, o) {
return o = it(o), o.from = o.from ? c(o.from, n) : n, o.to = o.to ? c(o.to, i) : i, r = r || "ng-inline-animate", o.tempClasses = et(o.tempClasses, r), e.push(t, "animate", o);
}
};
} ];
} ], Dr = function() {
this.$get = [ "$$rAF", function(e) {
function t(t) {
n.push(t), n.length > 1 || e(function() {
for (var e = 0; e < n.length; e++) n[e]();
n = [];
});
}
var n = [];
return function() {
var e = !1;
return t(function() {
e = !0;
}), function(n) {
e ? n() : t(n);
};
};
} ];
}, Er = function() {
this.$get = [ "$q", "$sniffer", "$$animateAsyncRun", "$document", "$timeout", function(e, t, n, r, o) {
function a(e) {
this.setHost(e);
var t = n(), i = function(e) {
o(e, 0, !1);
};
this._doneCallbacks = [], this._tick = function(e) {
var n = r[0];
n && n.hidden ? i(e) : t(e);
}, this._state = 0;
}
return a.chain = function(e, t) {
function n() {
i !== e.length ? e[i](function(e) {
!1 !== e ? (i++, n()) : t(!1);
}) : t(!0);
}
var i = 0;
n();
}, a.all = function(e, t) {
function n(n) {
o = o && n, ++r === e.length && t(o);
}
var r = 0, o = !0;
i(e, function(e) {
e.done(n);
});
}, a.prototype = {
setHost: function(e) {
this.host = e || {};
},
done: function(e) {
2 === this._state ? e() : this._doneCallbacks.push(e);
},
progress: f,
getPromise: function() {
if (!this.promise) {
var t = this;
this.promise = e(function(e, n) {
t.done(function(t) {
!1 === t ? n() : e();
});
});
}
return this.promise;
},
then: function(e, t) {
return this.getPromise().then(e, t);
},
catch: function(e) {
return this.getPromise().catch(e);
},
finally: function(e) {
return this.getPromise().finally(e);
},
pause: function() {
this.host.pause && this.host.pause();
},
resume: function() {
this.host.resume && this.host.resume();
},
end: function() {
this.host.end && this.host.end(), this._resolve(!0);
},
cancel: function() {
this.host.cancel && this.host.cancel(), this._resolve(!1);
},
complete: function(e) {
var t = this;
0 === t._state && (t._state = 1, t._tick(function() {
t._resolve(e);
}));
},
_resolve: function(e) {
2 !== this._state && (i(this._doneCallbacks, function(t) {
t(e);
}), this._doneCallbacks.length = 0, this._state = 2);
}
}, a;
} ];
}, Fr = function() {
this.$get = [ "$$rAF", "$q", "$$AnimateRunner", function(e, t, n) {
return function(t, i) {
function r() {
return e(function() {
o(), s || l.complete(), s = !0;
}), l;
}
function o() {
a.addClass && (t.addClass(a.addClass), a.addClass = null), a.removeClass && (t.removeClass(a.removeClass), a.removeClass = null), a.to && (t.css(a.to), a.to = null);
}
var a = i || {};
a.$$prepared || (a = B(a)), a.cleanupStyles && (a.from = a.to = null), a.from && (t.css(a.from), a.from = null);
var s, l = new n();
return {
start: r,
end: r
};
};
} ];
}, Mr = t("$compile"), Ir = new function() {}();
lt.$inject = [ "$provide", "$$sanitizeUriProvider" ], ct.prototype.isFirstChange = function() {
return this.previousValue === Ir;
};
var Pr = /^((?:x|data)[:\-_])/i, Lr = t("$controller"), Or = /^(\S+)(\s+as\s+([\w$]+))?$/, Rr = function() {
this.$get = [ "$document", function(e) {
return function(t) {
return t ? !t.nodeType && t instanceof Si && (t = t[0]) : t = e[0].body, t.offsetWidth + 1;
};
} ];
}, Nr = "application/json", Br = {
"Content-Type": Nr + ";charset=utf-8"
}, jr = /^\[|^\{(?!\{)/, Hr = {
"[": /]$/,
"{": /}$/
}, Vr = /^\)]\}',?\n/, Ur = t("$http"), zr = function(e) {
return function() {
throw Ur("legacy", "The method `{0}` on the promise returned from `$http` has been disabled.", e);
};
}, Wr = Ii.$interpolateMinErr = t("$interpolate");
Wr.throwNoconcat = function(e) {
throw Wr("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", e);
}, Wr.interr = function(e, t) {
return Wr("interr", "Can't interpolate: {0}\n{1}", e, t.toString());
};
var qr = function() {
this.$get = [ "$window", function(e) {
function t(e) {
var t = function(e) {
t.data = e, t.called = !0;
};
return t.id = e, t;
}
var n = e.angular.callbacks, i = {};
return {
createCallback: function(e) {
var r = "_" + (n.$$counter++).toString(36), o = "angular.callbacks." + r, a = t(r);
return i[o] = n[r] = a, o;
},
wasCalled: function(e) {
return i[e].called;
},
getResponse: function(e) {
return i[e].data;
},
removeCallback: function(e) {
var t = i[e];
delete n[t.id], delete i[e];
}
};
} ];
}, Gr = /^([^?#]*)(\?([^#]*))?(#(.*))?$/, Yr = {
http: 80,
https: 443,
ftp: 21
}, Kr = t("$location"), Xr = /^\s*[\\/]{2,}/, Qr = {
$$absUrl: "",
$$html5: !1,
$$replace: !1,
absUrl: zt("$$absUrl"),
url: function(e) {
if (v(e)) return this.$$url;
var t = Gr.exec(e);
return (t[1] || "" === e) && this.path(decodeURIComponent(t[1])), (t[2] || t[1] || "" === e) && this.search(t[3] || ""), this.hash(t[5] || ""), this;
},
protocol: zt("$$protocol"),
host: zt("$$host"),
port: zt("$$port"),
path: Wt("$$path", function(e) {
return "/" === (e = null !== e ? e.toString() : "").charAt(0) ? e : "/" + e;
}),
search: function(e, t) {
switch (arguments.length) {
case 0:
return this.$$search;

case 1:
if (w(e) || C(e)) e = e.toString(), this.$$search = J(e); else {
if (!b(e)) throw Kr("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
i(e = B(e, {}), function(t, n) {
null == t && delete e[n];
}), this.$$search = e;
}
break;

default:
v(t) || null === t ? delete this.$$search[e] : this.$$search[e] = t;
}
return this.$$compose(), this;
},
hash: Wt("$$hash", function(e) {
return null !== e ? e.toString() : "";
}),
replace: function() {
return this.$$replace = !0, this;
}
};
i([ Ut, Vt, Ht ], function(e) {
e.prototype = Object.create(Qr), e.prototype.state = function(t) {
if (!arguments.length) return this.$$state;
if (e !== Ht || !this.$$html5) throw Kr("nostate", "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
return this.$$state = v(t) ? null : t, this;
};
});
var Jr = t("$parse"), Zr = [].constructor, eo = (!1).constructor, to = Function.constructor, no = (0).constructor, io = {}.constructor, ro = "".constructor, oo = Zr.prototype, ao = eo.prototype, so = to.prototype, lo = no.prototype, co = io.prototype, uo = ro.prototype, ho = so.call, fo = so.apply, po = so.bind, go = co.valueOf, mo = fe();
i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function(e) {
mo[e] = !0;
});
var vo = {
n: "\n",
f: "\f",
r: "\r",
t: "\t",
v: "\v",
"'": "'",
'"': '"'
}, yo = function(e) {
this.options = e;
};
yo.prototype = {
constructor: yo,
lex: function(e) {
for (this.text = e, this.index = 0, this.tokens = []; this.index < this.text.length; ) {
var t = this.text.charAt(this.index);
if ('"' === t || "'" === t) this.readString(t); else if (this.isNumber(t) || "." === t && this.isNumber(this.peek())) this.readNumber(); else if (this.isIdentifierStart(this.peekMultichar())) this.readIdent(); else if (this.is(t, "(){}[].,;:?")) this.tokens.push({
index: this.index,
text: t
}), this.index++; else if (this.isWhitespace(t)) this.index++; else {
var n = t + this.peek(), i = n + this.peek(2), r = mo[t], o = mo[n], a = mo[i];
if (r || o || a) {
var s = a ? i : o ? n : t;
this.tokens.push({
index: this.index,
text: s,
operator: !0
}), this.index += s.length;
} else this.throwError("Unexpected next character ", this.index, this.index + 1);
}
}
return this.tokens;
},
is: function(e, t) {
return -1 !== t.indexOf(e);
},
peek: function(e) {
var t = e || 1;
return this.index + t < this.text.length && this.text.charAt(this.index + t);
},
isNumber: function(e) {
return "0" <= e && e <= "9" && "string" == typeof e;
},
isWhitespace: function(e) {
return " " === e || "\r" === e || "\t" === e || "\n" === e || "\v" === e || " " === e;
},
isIdentifierStart: function(e) {
return this.options.isIdentifierStart ? this.options.isIdentifierStart(e, this.codePointAt(e)) : this.isValidIdentifierStart(e);
},
isValidIdentifierStart: function(e) {
return "a" <= e && e <= "z" || "A" <= e && e <= "Z" || "_" === e || "$" === e;
},
isIdentifierContinue: function(e) {
return this.options.isIdentifierContinue ? this.options.isIdentifierContinue(e, this.codePointAt(e)) : this.isValidIdentifierContinue(e);
},
isValidIdentifierContinue: function(e, t) {
return this.isValidIdentifierStart(e, t) || this.isNumber(e);
},
codePointAt: function(e) {
return 1 === e.length ? e.charCodeAt(0) : (e.charCodeAt(0) << 10) + e.charCodeAt(1) - 56613888;
},
peekMultichar: function() {
var e = this.text.charAt(this.index), t = this.peek();
if (!t) return e;
var n = e.charCodeAt(0), i = t.charCodeAt(0);
return n >= 55296 && n <= 56319 && i >= 56320 && i <= 57343 ? e + t : e;
},
isExpOperator: function(e) {
return "-" === e || "+" === e || this.isNumber(e);
},
throwError: function(e, t, n) {
n = n || this.index;
var i = y(t) ? "s " + t + "-" + this.index + " [" + this.text.substring(t, n) + "]" : " " + n;
throw Jr("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", e, i, this.text);
},
readNumber: function() {
for (var e = "", t = this.index; this.index < this.text.length; ) {
var n = wi(this.text.charAt(this.index));
if ("." === n || this.isNumber(n)) e += n; else {
var i = this.peek();
if ("e" === n && this.isExpOperator(i)) e += n; else if (this.isExpOperator(n) && i && this.isNumber(i) && "e" === e.charAt(e.length - 1)) e += n; else {
if (!this.isExpOperator(n) || i && this.isNumber(i) || "e" !== e.charAt(e.length - 1)) break;
this.throwError("Invalid exponent");
}
}
this.index++;
}
this.tokens.push({
index: t,
text: e,
constant: !0,
value: Number(e)
});
},
readIdent: function() {
var e = this.index;
for (this.index += this.peekMultichar().length; this.index < this.text.length; ) {
var t = this.peekMultichar();
if (!this.isIdentifierContinue(t)) break;
this.index += t.length;
}
this.tokens.push({
index: e,
text: this.text.slice(e, this.index),
identifier: !0
});
},
readString: function(e) {
var t = this.index;
this.index++;
for (var n = "", i = e, r = !1; this.index < this.text.length; ) {
var o = this.text.charAt(this.index);
if (i += o, r) {
if ("u" === o) {
var a = this.text.substring(this.index + 1, this.index + 5);
a.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + a + "]"), this.index += 4, n += String.fromCharCode(parseInt(a, 16));
} else n += vo[o] || o;
r = !1;
} else if ("\\" === o) r = !0; else {
if (o === e) return this.index++, void this.tokens.push({
index: t,
text: i,
constant: !0,
value: n
});
n += o;
}
this.index++;
}
this.throwError("Unterminated quote", t);
}
};
var bo = function(e, t) {
this.lexer = e, this.options = t;
};
bo.Program = "Program", bo.ExpressionStatement = "ExpressionStatement", bo.AssignmentExpression = "AssignmentExpression", bo.ConditionalExpression = "ConditionalExpression", bo.LogicalExpression = "LogicalExpression", bo.BinaryExpression = "BinaryExpression", bo.UnaryExpression = "UnaryExpression", bo.CallExpression = "CallExpression", bo.MemberExpression = "MemberExpression", bo.Identifier = "Identifier", bo.Literal = "Literal", bo.ArrayExpression = "ArrayExpression", bo.Property = "Property", bo.ObjectExpression = "ObjectExpression", bo.ThisExpression = "ThisExpression", bo.LocalsExpression = "LocalsExpression", bo.NGValueParameter = "NGValueParameter", bo.prototype = {
ast: function(e) {
this.text = e, this.tokens = this.lexer.lex(e);
var t = this.program();
return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), t;
},
program: function() {
for (var e = []; ;) if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]") && e.push(this.expressionStatement()), !this.expect(";")) return {
type: bo.Program,
body: e
};
},
expressionStatement: function() {
return {
type: bo.ExpressionStatement,
expression: this.filterChain()
};
},
filterChain: function() {
for (var e = this.expression(); this.expect("|"); ) e = this.filter(e);
return e;
},
expression: function() {
return this.assignment();
},
assignment: function() {
var e = this.ternary();
if (this.expect("=")) {
if (!on(e)) throw Jr("lval", "Trying to assign a value to a non l-value");
e = {
type: bo.AssignmentExpression,
left: e,
right: this.assignment(),
operator: "="
};
}
return e;
},
ternary: function() {
var e, t, n = this.logicalOR();
return this.expect("?") && (e = this.expression(), this.consume(":")) ? (t = this.expression(), {
type: bo.ConditionalExpression,
test: n,
alternate: e,
consequent: t
}) : n;
},
logicalOR: function() {
for (var e = this.logicalAND(); this.expect("||"); ) e = {
type: bo.LogicalExpression,
operator: "||",
left: e,
right: this.logicalAND()
};
return e;
},
logicalAND: function() {
for (var e = this.equality(); this.expect("&&"); ) e = {
type: bo.LogicalExpression,
operator: "&&",
left: e,
right: this.equality()
};
return e;
},
equality: function() {
for (var e, t = this.relational(); e = this.expect("==", "!=", "===", "!=="); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.relational()
};
return t;
},
relational: function() {
for (var e, t = this.additive(); e = this.expect("<", ">", "<=", ">="); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.additive()
};
return t;
},
additive: function() {
for (var e, t = this.multiplicative(); e = this.expect("+", "-"); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.multiplicative()
};
return t;
},
multiplicative: function() {
for (var e, t = this.unary(); e = this.expect("*", "/", "%"); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.unary()
};
return t;
},
unary: function() {
var e;
return (e = this.expect("+", "-", "!")) ? {
type: bo.UnaryExpression,
operator: e.text,
prefix: !0,
argument: this.unary()
} : this.primary();
},
primary: function() {
var e;
this.expect("(") ? (e = this.filterChain(), this.consume(")")) : this.expect("[") ? e = this.arrayDeclaration() : this.expect("{") ? e = this.object() : this.selfReferential.hasOwnProperty(this.peek().text) ? e = B(this.selfReferential[this.consume().text]) : this.options.literals.hasOwnProperty(this.peek().text) ? e = {
type: bo.Literal,
value: this.options.literals[this.consume().text]
} : this.peek().identifier ? e = this.identifier() : this.peek().constant ? e = this.constant() : this.throwError("not a primary expression", this.peek());
for (var t; t = this.expect("(", "[", "."); ) "(" === t.text ? (e = {
type: bo.CallExpression,
callee: e,
arguments: this.parseArguments()
}, this.consume(")")) : "[" === t.text ? (e = {
type: bo.MemberExpression,
object: e,
property: this.expression(),
computed: !0
}, this.consume("]")) : "." === t.text ? e = {
type: bo.MemberExpression,
object: e,
property: this.identifier(),
computed: !1
} : this.throwError("IMPOSSIBLE");
return e;
},
filter: function(e) {
for (var t = [ e ], n = {
type: bo.CallExpression,
callee: this.identifier(),
arguments: t,
filter: !0
}; this.expect(":"); ) t.push(this.expression());
return n;
},
parseArguments: function() {
var e = [];
if (")" !== this.peekToken().text) do {
e.push(this.filterChain());
} while (this.expect(","));
return e;
},
identifier: function() {
var e = this.consume();
return e.identifier || this.throwError("is not a valid identifier", e), {
type: bo.Identifier,
name: e.text
};
},
constant: function() {
return {
type: bo.Literal,
value: this.consume().value
};
},
arrayDeclaration: function() {
var e = [];
if ("]" !== this.peekToken().text) do {
if (this.peek("]")) break;
e.push(this.expression());
} while (this.expect(","));
return this.consume("]"), {
type: bo.ArrayExpression,
elements: e
};
},
object: function() {
var e, t = [];
if ("}" !== this.peekToken().text) do {
if (this.peek("}")) break;
e = {
type: bo.Property,
kind: "init"
}, this.peek().constant ? (e.key = this.constant(), e.computed = !1, this.consume(":"), e.value = this.expression()) : this.peek().identifier ? (e.key = this.identifier(), e.computed = !1, this.peek(":") ? (this.consume(":"), e.value = this.expression()) : e.value = e.key) : this.peek("[") ? (this.consume("["), e.key = this.expression(), this.consume("]"), e.computed = !0, this.consume(":"), e.value = this.expression()) : this.throwError("invalid key", this.peek()), t.push(e);
} while (this.expect(","));
return this.consume("}"), {
type: bo.ObjectExpression,
properties: t
};
},
throwError: function(e, t) {
throw Jr("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", t.text, e, t.index + 1, this.text, this.text.substring(t.index));
},
consume: function(e) {
if (0 === this.tokens.length) throw Jr("ueoe", "Unexpected end of expression: {0}", this.text);
var t = this.expect(e);
return t || this.throwError("is unexpected, expecting [" + e + "]", this.peek()), t;
},
peekToken: function() {
if (0 === this.tokens.length) throw Jr("ueoe", "Unexpected end of expression: {0}", this.text);
return this.tokens[0];
},
peek: function(e, t, n, i) {
return this.peekAhead(0, e, t, n, i);
},
peekAhead: function(e, t, n, i, r) {
if (this.tokens.length > e) {
var o = this.tokens[e], a = o.text;
if (a === t || a === n || a === i || a === r || !t && !n && !i && !r) return o;
}
return !1;
},
expect: function(e, t, n, i) {
var r = this.peek(e, t, n, i);
return !!r && (this.tokens.shift(), r);
},
selfReferential: {
this: {
type: bo.ThisExpression
},
$locals: {
type: bo.LocalsExpression
}
}
}, cn.prototype = {
compile: function(e, t) {
var n = this, r = this.astBuilder.ast(e);
this.state = {
nextId: 0,
filters: {},
expensiveChecks: t,
fn: {
vars: [],
body: [],
own: {}
},
assign: {
vars: [],
body: [],
own: {}
},
inputs: []
}, nn(r, n.$filter);
var o, a = "";
if (this.stage = "assign", o = an(r)) {
this.state.computing = "assign";
var s = this.nextId();
this.recurse(o, s), this.return_(s), a = "fn.assign=" + this.generateFunction("assign", "s,v,l");
}
var l = rn(r.body);
n.stage = "inputs", i(l, function(e, t) {
var i = "fn" + t;
n.state[i] = {
vars: [],
body: [],
own: {}
}, n.state.computing = i;
var r = n.nextId();
n.recurse(e, r), n.return_(r), n.state.inputs.push(i), e.watchId = t;
}), this.state.computing = "fn", this.stage = "main", this.recurse(r);
var c = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + a + this.watchFns() + "return fn;", u = new Function("$filter", "ensureSafeMemberName", "ensureSafeObject", "ensureSafeFunction", "getStringValue", "ensureSafeAssignContext", "ifDefined", "plus", "text", c)(this.$filter, Yt, Xt, Qt, Kt, Jt, Zt, en, e);
return this.state = this.stage = void 0, u.literal = sn(r), u.constant = ln(r), u;
},
USE: "use",
STRICT: "strict",
watchFns: function() {
var e = [], t = this.state.inputs, n = this;
return i(t, function(t) {
e.push("var " + t + "=" + n.generateFunction(t, "s"));
}), t.length && e.push("fn.inputs=[" + t.join(",") + "];"), e.join("");
},
generateFunction: function(e, t) {
return "function(" + t + "){" + this.varsPrefix(e) + this.body(e) + "};";
},
filterPrefix: function() {
var e = [], t = this;
return i(this.state.filters, function(n, i) {
e.push(n + "=$filter(" + t.escape(i) + ")");
}), e.length ? "var " + e.join(",") + ";" : "";
},
varsPrefix: function(e) {
return this.state[e].vars.length ? "var " + this.state[e].vars.join(",") + ";" : "";
},
body: function(e) {
return this.state[e].body.join("");
},
recurse: function(e, t, n, r, o, a) {
var s, l, c, u, d, h = this;
if (r = r || f, !a && y(e.watchId)) return t = t || this.nextId(), void this.if_("i", this.lazyAssign(t, this.computedMember("i", e.watchId)), this.lazyRecurse(e, t, n, r, o, !0));
switch (e.type) {
case bo.Program:
i(e.body, function(t, n) {
h.recurse(t.expression, void 0, void 0, function(e) {
l = e;
}), n !== e.body.length - 1 ? h.current().body.push(l, ";") : h.return_(l);
});
break;

case bo.Literal:
u = this.escape(e.value), this.assign(t, u), r(u);
break;

case bo.UnaryExpression:
this.recurse(e.argument, void 0, void 0, function(e) {
l = e;
}), u = e.operator + "(" + this.ifDefined(l, 0) + ")", this.assign(t, u), r(u);
break;

case bo.BinaryExpression:
this.recurse(e.left, void 0, void 0, function(e) {
s = e;
}), this.recurse(e.right, void 0, void 0, function(e) {
l = e;
}), u = "+" === e.operator ? this.plus(s, l) : "-" === e.operator ? this.ifDefined(s, 0) + e.operator + this.ifDefined(l, 0) : "(" + s + ")" + e.operator + "(" + l + ")", this.assign(t, u), r(u);
break;

case bo.LogicalExpression:
t = t || this.nextId(), h.recurse(e.left, t), h.if_("&&" === e.operator ? t : h.not(t), h.lazyRecurse(e.right, t)), r(t);
break;

case bo.ConditionalExpression:
t = t || this.nextId(), h.recurse(e.test, t), h.if_(t, h.lazyRecurse(e.alternate, t), h.lazyRecurse(e.consequent, t)), r(t);
break;

case bo.Identifier:
t = t || this.nextId(), n && (n.context = "inputs" === h.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", e.name) + "?l:s"), n.computed = !1, n.name = e.name), Yt(e.name), h.if_("inputs" === h.stage || h.not(h.getHasOwnProperty("l", e.name)), function() {
h.if_("inputs" === h.stage || "s", function() {
o && 1 !== o && h.if_(h.not(h.nonComputedMember("s", e.name)), h.lazyAssign(h.nonComputedMember("s", e.name), "{}")), h.assign(t, h.nonComputedMember("s", e.name));
});
}, t && h.lazyAssign(t, h.nonComputedMember("l", e.name))), (h.state.expensiveChecks || dn(e.name)) && h.addEnsureSafeObject(t), r(t);
break;

case bo.MemberExpression:
s = n && (n.context = this.nextId()) || this.nextId(), t = t || this.nextId(), h.recurse(e.object, s, void 0, function() {
h.if_(h.notNull(s), function() {
o && 1 !== o && h.addEnsureSafeAssignContext(s), e.computed ? (l = h.nextId(), h.recurse(e.property, l), h.getStringValue(l), h.addEnsureSafeMemberName(l), o && 1 !== o && h.if_(h.not(h.computedMember(s, l)), h.lazyAssign(h.computedMember(s, l), "{}")), u = h.ensureSafeObject(h.computedMember(s, l)), h.assign(t, u), n && (n.computed = !0, n.name = l)) : (Yt(e.property.name), o && 1 !== o && h.if_(h.not(h.nonComputedMember(s, e.property.name)), h.lazyAssign(h.nonComputedMember(s, e.property.name), "{}")), u = h.nonComputedMember(s, e.property.name), (h.state.expensiveChecks || dn(e.property.name)) && (u = h.ensureSafeObject(u)), h.assign(t, u), n && (n.computed = !1, n.name = e.property.name));
}, function() {
h.assign(t, "undefined");
}), r(t);
}, !!o);
break;

case bo.CallExpression:
t = t || this.nextId(), e.filter ? (l = h.filter(e.callee.name), c = [], i(e.arguments, function(e) {
var t = h.nextId();
h.recurse(e, t), c.push(t);
}), u = l + "(" + c.join(",") + ")", h.assign(t, u), r(t)) : (l = h.nextId(), s = {}, c = [], h.recurse(e.callee, l, s, function() {
h.if_(h.notNull(l), function() {
h.addEnsureSafeFunction(l), i(e.arguments, function(e) {
h.recurse(e, h.nextId(), void 0, function(e) {
c.push(h.ensureSafeObject(e));
});
}), s.name ? (h.state.expensiveChecks || h.addEnsureSafeObject(s.context), u = h.member(s.context, s.name, s.computed) + "(" + c.join(",") + ")") : u = l + "(" + c.join(",") + ")", u = h.ensureSafeObject(u), h.assign(t, u);
}, function() {
h.assign(t, "undefined");
}), r(t);
}));
break;

case bo.AssignmentExpression:
l = this.nextId(), s = {}, this.recurse(e.left, void 0, s, function() {
h.if_(h.notNull(s.context), function() {
h.recurse(e.right, l), h.addEnsureSafeObject(h.member(s.context, s.name, s.computed)), h.addEnsureSafeAssignContext(s.context), u = h.member(s.context, s.name, s.computed) + e.operator + l, h.assign(t, u), r(t || u);
});
}, 1);
break;

case bo.ArrayExpression:
c = [], i(e.elements, function(e) {
h.recurse(e, h.nextId(), void 0, function(e) {
c.push(e);
});
}), u = "[" + c.join(",") + "]", this.assign(t, u), r(u);
break;

case bo.ObjectExpression:
c = [], d = !1, i(e.properties, function(e) {
e.computed && (d = !0);
}), d ? (t = t || this.nextId(), this.assign(t, "{}"), i(e.properties, function(e) {
e.computed ? (s = h.nextId(), h.recurse(e.key, s)) : s = e.key.type === bo.Identifier ? e.key.name : "" + e.key.value, l = h.nextId(), h.recurse(e.value, l), h.assign(h.member(t, s, e.computed), l);
})) : (i(e.properties, function(t) {
h.recurse(t.value, e.constant ? void 0 : h.nextId(), void 0, function(e) {
c.push(h.escape(t.key.type === bo.Identifier ? t.key.name : "" + t.key.value) + ":" + e);
});
}), u = "{" + c.join(",") + "}", this.assign(t, u)), r(t || u);
break;

case bo.ThisExpression:
this.assign(t, "s"), r("s");
break;

case bo.LocalsExpression:
this.assign(t, "l"), r("l");
break;

case bo.NGValueParameter:
this.assign(t, "v"), r("v");
}
},
getHasOwnProperty: function(e, t) {
var n = e + "." + t, i = this.current().own;
return i.hasOwnProperty(n) || (i[n] = this.nextId(!1, e + "&&(" + this.escape(t) + " in " + e + ")")), i[n];
},
assign: function(e, t) {
if (e) return this.current().body.push(e, "=", t, ";"), e;
},
filter: function(e) {
return this.state.filters.hasOwnProperty(e) || (this.state.filters[e] = this.nextId(!0)), this.state.filters[e];
},
ifDefined: function(e, t) {
return "ifDefined(" + e + "," + this.escape(t) + ")";
},
plus: function(e, t) {
return "plus(" + e + "," + t + ")";
},
return_: function(e) {
this.current().body.push("return ", e, ";");
},
if_: function(e, t, n) {
if (!0 === e) t(); else {
var i = this.current().body;
i.push("if(", e, "){"), t(), i.push("}"), n && (i.push("else{"), n(), i.push("}"));
}
},
not: function(e) {
return "!(" + e + ")";
},
notNull: function(e) {
return e + "!=null";
},
nonComputedMember: function(e, t) {
var n = /[^$_a-zA-Z0-9]/g;
return /^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t) ? e + "." + t : e + '["' + t.replace(n, this.stringEscapeFn) + '"]';
},
computedMember: function(e, t) {
return e + "[" + t + "]";
},
member: function(e, t, n) {
return n ? this.computedMember(e, t) : this.nonComputedMember(e, t);
},
addEnsureSafeObject: function(e) {
this.current().body.push(this.ensureSafeObject(e), ";");
},
addEnsureSafeMemberName: function(e) {
this.current().body.push(this.ensureSafeMemberName(e), ";");
},
addEnsureSafeFunction: function(e) {
this.current().body.push(this.ensureSafeFunction(e), ";");
},
addEnsureSafeAssignContext: function(e) {
this.current().body.push(this.ensureSafeAssignContext(e), ";");
},
ensureSafeObject: function(e) {
return "ensureSafeObject(" + e + ",text)";
},
ensureSafeMemberName: function(e) {
return "ensureSafeMemberName(" + e + ",text)";
},
ensureSafeFunction: function(e) {
return "ensureSafeFunction(" + e + ",text)";
},
getStringValue: function(e) {
this.assign(e, "getStringValue(" + e + ")");
},
ensureSafeAssignContext: function(e) {
return "ensureSafeAssignContext(" + e + ",text)";
},
lazyRecurse: function(e, t, n, i, r, o) {
var a = this;
return function() {
a.recurse(e, t, n, i, r, o);
};
},
lazyAssign: function(e, t) {
var n = this;
return function() {
n.assign(e, t);
};
},
stringEscapeRegex: /[^ a-zA-Z0-9]/g,
stringEscapeFn: function(e) {
return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4);
},
escape: function(e) {
if (w(e)) return "'" + e.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
if (C(e)) return e.toString();
if (!0 === e) return "true";
if (!1 === e) return "false";
if (null === e) return "null";
if (void 0 === e) return "undefined";
throw Jr("esc", "IMPOSSIBLE");
},
nextId: function(e, t) {
var n = "v" + this.state.nextId++;
return e || this.current().vars.push(n + (t ? "=" + t : "")), n;
},
current: function() {
return this.state[this.state.computing];
}
}, un.prototype = {
compile: function(e, t) {
var n = this, r = this.astBuilder.ast(e);
this.expression = e, this.expensiveChecks = t, nn(r, n.$filter);
var o, a;
(o = an(r)) && (a = this.recurse(o));
var s, l = rn(r.body);
l && (s = [], i(l, function(e, t) {
var i = n.recurse(e);
e.input = i, s.push(i), e.watchId = t;
}));
var c = [];
i(r.body, function(e) {
c.push(n.recurse(e.expression));
});
var u = 0 === r.body.length ? f : 1 === r.body.length ? c[0] : function(e, t) {
var n;
return i(c, function(i) {
n = i(e, t);
}), n;
};
return a && (u.assign = function(e, t, n) {
return a(e, n, t);
}), s && (u.inputs = s), u.literal = sn(r), u.constant = ln(r), u;
},
recurse: function(e, t, n) {
var r, o, a, s = this;
if (e.input) return this.inputs(e.input, e.watchId);
switch (e.type) {
case bo.Literal:
return this.value(e.value, t);

case bo.UnaryExpression:
return o = this.recurse(e.argument), this["unary" + e.operator](o, t);

case bo.BinaryExpression:
case bo.LogicalExpression:
return r = this.recurse(e.left), o = this.recurse(e.right), this["binary" + e.operator](r, o, t);

case bo.ConditionalExpression:
return this["ternary?:"](this.recurse(e.test), this.recurse(e.alternate), this.recurse(e.consequent), t);

case bo.Identifier:
return Yt(e.name, s.expression), s.identifier(e.name, s.expensiveChecks || dn(e.name), t, n, s.expression);

case bo.MemberExpression:
return r = this.recurse(e.object, !1, !!n), e.computed || (Yt(e.property.name, s.expression), o = e.property.name), e.computed && (o = this.recurse(e.property)), e.computed ? this.computedMember(r, o, t, n, s.expression) : this.nonComputedMember(r, o, s.expensiveChecks, t, n, s.expression);

case bo.CallExpression:
return a = [], i(e.arguments, function(e) {
a.push(s.recurse(e));
}), e.filter && (o = this.$filter(e.callee.name)), e.filter || (o = this.recurse(e.callee, !0)), e.filter ? function(e, n, i, r) {
for (var s = [], l = 0; l < a.length; ++l) s.push(a[l](e, n, i, r));
var c = o.apply(void 0, s, r);
return t ? {
context: void 0,
name: void 0,
value: c
} : c;
} : function(e, n, i, r) {
var l, c = o(e, n, i, r);
if (null != c.value) {
Xt(c.context, s.expression), Qt(c.value, s.expression);
for (var u = [], d = 0; d < a.length; ++d) u.push(Xt(a[d](e, n, i, r), s.expression));
l = Xt(c.value.apply(c.context, u), s.expression);
}
return t ? {
value: l
} : l;
};

case bo.AssignmentExpression:
return r = this.recurse(e.left, !0, 1), o = this.recurse(e.right), function(e, n, i, a) {
var l = r(e, n, i, a), c = o(e, n, i, a);
return Xt(l.value, s.expression), Jt(l.context), l.context[l.name] = c, t ? {
value: c
} : c;
};

case bo.ArrayExpression:
return a = [], i(e.elements, function(e) {
a.push(s.recurse(e));
}), function(e, n, i, r) {
for (var o = [], s = 0; s < a.length; ++s) o.push(a[s](e, n, i, r));
return t ? {
value: o
} : o;
};

case bo.ObjectExpression:
return a = [], i(e.properties, function(e) {
e.computed ? a.push({
key: s.recurse(e.key),
computed: !0,
value: s.recurse(e.value)
}) : a.push({
key: e.key.type === bo.Identifier ? e.key.name : "" + e.key.value,
computed: !1,
value: s.recurse(e.value)
});
}), function(e, n, i, r) {
for (var o = {}, s = 0; s < a.length; ++s) a[s].computed ? o[a[s].key(e, n, i, r)] = a[s].value(e, n, i, r) : o[a[s].key] = a[s].value(e, n, i, r);
return t ? {
value: o
} : o;
};

case bo.ThisExpression:
return function(e) {
return t ? {
value: e
} : e;
};

case bo.LocalsExpression:
return function(e, n) {
return t ? {
value: n
} : n;
};

case bo.NGValueParameter:
return function(e, n, i) {
return t ? {
value: i
} : i;
};
}
},
"unary+": function(e, t) {
return function(n, i, r, o) {
var a = e(n, i, r, o);
return a = y(a) ? +a : 0, t ? {
value: a
} : a;
};
},
"unary-": function(e, t) {
return function(n, i, r, o) {
var a = e(n, i, r, o);
return a = y(a) ? -a : 0, t ? {
value: a
} : a;
};
},
"unary!": function(e, t) {
return function(n, i, r, o) {
var a = !e(n, i, r, o);
return t ? {
value: a
} : a;
};
},
"binary+": function(e, t, n) {
return function(i, r, o, a) {
var s = en(e(i, r, o, a), t(i, r, o, a));
return n ? {
value: s
} : s;
};
},
"binary-": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a), l = t(i, r, o, a), c = (y(s) ? s : 0) - (y(l) ? l : 0);
return n ? {
value: c
} : c;
};
},
"binary*": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) * t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary/": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) / t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary%": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) % t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary===": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) === t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary!==": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) !== t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary==": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) == t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary!=": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) != t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary<": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) < t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary>": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) > t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary<=": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) <= t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary>=": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) >= t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary&&": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) && t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary||": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) || t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"ternary?:": function(e, t, n, i) {
return function(r, o, a, s) {
var l = e(r, o, a, s) ? t(r, o, a, s) : n(r, o, a, s);
return i ? {
value: l
} : l;
};
},
value: function(e, t) {
return function() {
return t ? {
context: void 0,
name: void 0,
value: e
} : e;
};
},
identifier: function(e, t, n, i, r) {
return function(o, a, s, l) {
var c = a && e in a ? a : o;
i && 1 !== i && c && !c[e] && (c[e] = {});
var u = c ? c[e] : void 0;
return t && Xt(u, r), n ? {
context: c,
name: e,
value: u
} : u;
};
},
computedMember: function(e, t, n, i, r) {
return function(o, a, s, l) {
var c, u, d = e(o, a, s, l);
return null != d && (Yt(c = Kt(c = t(o, a, s, l)), r), i && 1 !== i && (Jt(d), d && !d[c] && (d[c] = {})), Xt(u = d[c], r)), n ? {
context: d,
name: c,
value: u
} : u;
};
},
nonComputedMember: function(e, t, n, i, r, o) {
return function(a, s, l, c) {
var u = e(a, s, l, c);
r && 1 !== r && (Jt(u), u && !u[t] && (u[t] = {}));
var d = null != u ? u[t] : void 0;
return (n || dn(t)) && Xt(d, o), i ? {
context: u,
name: t,
value: d
} : d;
};
},
inputs: function(e, t) {
return function(n, i, r, o) {
return o ? o[t] : e(n, i, r);
};
}
};
var _o = function(e, t, n) {
this.lexer = e, this.$filter = t, this.options = n, this.ast = new bo(e, n), this.astCompiler = n.csp ? new un(this.ast, t) : new cn(this.ast, t);
};
_o.prototype = {
constructor: _o,
parse: function(e) {
return this.astCompiler.compile(e, this.options.expensiveChecks);
}
};
var wo = t("$sce"), Co = {
HTML: "html",
CSS: "css",
URL: "url",
RESOURCE_URL: "resourceUrl",
JS: "js"
}, xo = t("$compile"), So = e.document.createElement("a"), $o = Tn(e.location.href);
Fn.$inject = [ "$document" ], In.$inject = [ "$provide" ];
var Ao = 22, ko = ".", To = "0";
Nn.$inject = [ "$locale" ], Bn.$inject = [ "$locale" ];
var Do = {
yyyy: zn("FullYear", 4, 0, !1, !0),
yy: zn("FullYear", 2, 0, !0, !0),
y: zn("FullYear", 1, 0, !1, !0),
MMMM: Wn("Month"),
MMM: Wn("Month", !0),
MM: zn("Month", 2, 1),
M: zn("Month", 1, 1),
LLLL: Wn("Month", !1, !0),
dd: zn("Date", 2),
d: zn("Date", 1),
HH: zn("Hours", 2),
H: zn("Hours", 1),
hh: zn("Hours", 2, -12),
h: zn("Hours", 1, -12),
mm: zn("Minutes", 2),
m: zn("Minutes", 1),
ss: zn("Seconds", 2),
s: zn("Seconds", 1),
sss: zn("Milliseconds", 3),
EEEE: Wn("Day"),
EEE: Wn("Day", !0),
a: function(e, t) {
return e.getHours() < 12 ? t.AMPMS[0] : t.AMPMS[1];
},
Z: function(e, t, n) {
var i = -1 * n, r = i >= 0 ? "+" : "";
return r += Un(Math[i > 0 ? "floor" : "ceil"](i / 60), 2) + Un(Math.abs(i % 60), 2);
},
ww: Yn(2),
w: Yn(1),
G: Kn,
GG: Kn,
GGG: Kn,
GGGG: function(e, t) {
return e.getFullYear() <= 0 ? t.ERANAMES[0] : t.ERANAMES[1];
}
}, Eo = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/, Fo = /^-?\d+$/;
Xn.$inject = [ "$locale" ];
var Mo = g(wi), Io = g(Ci);
ei.$inject = [ "$parse" ];
var Po = g({
restrict: "E",
compile: function(e, t) {
if (!t.href && !t.xlinkHref) return function(e, t) {
if ("a" === t[0].nodeName.toLowerCase()) {
var n = "[object SVGAnimatedString]" === Ei.call(t.prop("href")) ? "xlink:href" : "href";
t.on("click", function(e) {
t.attr(n) || e.preventDefault();
});
}
};
}
}), Lo = {};
i(pr, function(e, t) {
function n(e, n, r) {
e.$watch(r[i], function(e) {
r.$set(t, !!e);
});
}
if ("multiple" !== e) {
var i = ut("ng-" + t), r = n;
"checked" === e && (r = function(e, t, r) {
r.ngModel !== r[i] && n(e, 0, r);
}), Lo[i] = function() {
return {
restrict: "A",
priority: 100,
link: r
};
};
}
}), i(mr, function(e, t) {
Lo[t] = function() {
return {
priority: 100,
link: function(e, n, i) {
if ("ngPattern" === t && "/" === i.ngPattern.charAt(0)) {
var r = i.ngPattern.match(yi);
if (r) return void i.$set("ngPattern", new RegExp(r[1], r[2]));
}
e.$watch(i[t], function(e) {
i.$set(t, e);
});
}
};
};
}), i([ "src", "srcset", "href" ], function(e) {
var t = ut("ng-" + e);
Lo[t] = function() {
return {
priority: 99,
link: function(n, i, r) {
var o = e, a = e;
"href" === e && "[object SVGAnimatedString]" === Ei.call(i.prop("href")) && (a = "xlinkHref", r.$attr[a] = "xlink:href", o = null), r.$observe(t, function(t) {
t ? (r.$set(a, t), xi && o && i.prop(o, r[a])) : "href" === e && r.$set(a, null);
});
}
};
};
});
var Oo = {
$addControl: f,
$$renameControl: function(e, t) {
e.$name = t;
},
$removeControl: f,
$setValidity: f,
$setDirty: f,
$setPristine: f,
$setSubmitted: f
}, Ro = "ng-submitted";
ni.$inject = [ "$element", "$attrs", "$scope", "$animate", "$interpolate" ];
var No = function(e) {
return [ "$timeout", "$parse", function(t, n) {
function i(e) {
return "" === e ? n('this[""]').assign : n(e).assign || f;
}
return {
name: "form",
restrict: e ? "EAC" : "E",
require: [ "form", "^^?form" ],
controller: ni,
compile: function(n, r) {
n.addClass(_a).addClass(ya);
var o = r.name ? "name" : !(!e || !r.ngForm) && "ngForm";
return {
pre: function(e, n, r, a) {
var s = a[0];
if (!("action" in r)) {
var l = function(t) {
e.$apply(function() {
s.$commitViewValue(), s.$setSubmitted();
}), t.preventDefault();
};
tr(n[0], "submit", l), n.on("$destroy", function() {
t(function() {
nr(n[0], "submit", l);
}, 0, !1);
});
}
(a[1] || s.$$parentForm).$addControl(s);
var u = o ? i(s.$name) : f;
o && (u(e, s), r.$observe(o, function(t) {
s.$name !== t && (u(e, void 0), s.$$parentForm.$$renameControl(s, t), (u = i(s.$name))(e, s));
})), n.on("$destroy", function() {
s.$$parentForm.$removeControl(s), u(e, void 0), c(s, Oo);
});
}
};
}
};
} ];
}, Bo = No(), jo = No(!0), Ho = /^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/, Vo = /^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i, Uo = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/, zo = /^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/, Wo = /^(\d{4,})-(\d{2})-(\d{2})$/, qo = /^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, Go = /^(\d{4,})-W(\d\d)$/, Yo = /^(\d{4,})-(\d\d)$/, Ko = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, Xo = "keydown wheel mousedown", Qo = fe();
i("date,datetime-local,month,time,week".split(","), function(e) {
Qo[e] = !0;
});
var Jo = {
text: function(e, t, n, i, r, o) {
ri(e, t, n, i, r, o), ii(i);
},
date: ai("date", Wo, oi(Wo, [ "yyyy", "MM", "dd" ]), "yyyy-MM-dd"),
"datetime-local": ai("datetimelocal", qo, oi(qo, [ "yyyy", "MM", "dd", "HH", "mm", "ss", "sss" ]), "yyyy-MM-ddTHH:mm:ss.sss"),
time: ai("time", Ko, oi(Ko, [ "HH", "mm", "ss", "sss" ]), "HH:mm:ss.sss"),
week: ai("week", Go, function(e, t) {
if (x(e)) return e;
if (w(e)) {
Go.lastIndex = 0;
var n = Go.exec(e);
if (n) {
var i = +n[1], r = +n[2], o = 0, a = 0, s = 0, l = 0, c = qn(i), u = 7 * (r - 1);
return t && (o = t.getHours(), a = t.getMinutes(), s = t.getSeconds(), l = t.getMilliseconds()), new Date(i, 0, c.getDate() + u, o, a, s, l);
}
}
return NaN;
}, "yyyy-Www"),
month: ai("month", Yo, oi(Yo, [ "yyyy", "MM" ]), "yyyy-MM"),
number: function(e, t, n, i, r, o) {
si(e, t, n, i), ri(e, t, n, i, r, o), li(i);
var a, s;
(y(n.min) || n.ngMin) && (i.$validators.min = function(e) {
return i.$isEmpty(e) || v(a) || e >= a;
}, n.$observe("min", function(e) {
a = ci(e), i.$validate();
})), (y(n.max) || n.ngMax) && (i.$validators.max = function(e) {
return i.$isEmpty(e) || v(s) || e <= s;
}, n.$observe("max", function(e) {
s = ci(e), i.$validate();
}));
},
url: function(e, t, n, i, r, o) {
ri(e, t, n, i, r, o), ii(i), i.$$parserName = "url", i.$validators.url = function(e, t) {
var n = e || t;
return i.$isEmpty(n) || Vo.test(n);
};
},
email: function(e, t, n, i, r, o) {
ri(e, t, n, i, r, o), ii(i), i.$$parserName = "email", i.$validators.email = function(e, t) {
var n = e || t;
return i.$isEmpty(n) || Uo.test(n);
};
},
radio: function(e, t, n, i) {
v(n.name) && t.attr("name", a());
t.on("click", function(e) {
t[0].checked && i.$setViewValue(n.value, e && e.type);
}), i.$render = function() {
var e = n.value;
t[0].checked = e == i.$viewValue;
}, n.$observe("value", i.$render);
},
range: function(e, t, n, i, r, o) {
function a(e, i) {
t.attr(e, n[e]), n.$observe(e, i);
}
si(e, t, n, i), li(i), ri(e, t, n, i, r, o);
var s = i.$$hasNativeValidators && "range" === t[0].type, l = s ? 0 : void 0, c = s ? 100 : void 0, u = s ? 1 : void 0, d = t[0].validity, h = y(n.min), f = y(n.max), p = y(n.step), g = i.$render;
i.$render = s && y(d.rangeUnderflow) && y(d.rangeOverflow) ? function() {
g(), i.$setViewValue(t.val());
} : g, h && (i.$validators.min = s ? function() {
return !0;
} : function(e, t) {
return i.$isEmpty(t) || v(l) || t >= l;
}, a("min", function(e) {
if (l = ci(e), !Li(i.$modelValue)) if (s) {
var n = t.val();
l > n && (n = l, t.val(n)), i.$setViewValue(n);
} else i.$validate();
})), f && (i.$validators.max = s ? function() {
return !0;
} : function(e, t) {
return i.$isEmpty(t) || v(c) || t <= c;
}, a("max", function(e) {
if (c = ci(e), !Li(i.$modelValue)) if (s) {
var n = t.val();
c < n && (t.val(c), n = c < l ? l : c), i.$setViewValue(n);
} else i.$validate();
})), p && (i.$validators.step = s ? function() {
return !d.stepMismatch;
} : function(e, t) {
return i.$isEmpty(t) || v(u) || hi(t, l || 0, u);
}, a("step", function(e) {
u = ci(e), Li(i.$modelValue) || (s && i.$viewValue !== t.val() ? i.$setViewValue(t.val()) : i.$validate());
}));
},
checkbox: function(e, t, n, i, r, o, a, s) {
var l = fi(s, e, "ngTrueValue", n.ngTrueValue, !0), c = fi(s, e, "ngFalseValue", n.ngFalseValue, !1);
t.on("click", function(e) {
i.$setViewValue(t[0].checked, e && e.type);
}), i.$render = function() {
t[0].checked = i.$viewValue;
}, i.$isEmpty = function(e) {
return !1 === e;
}, i.$formatters.push(function(e) {
return j(e, l);
}), i.$parsers.push(function(e) {
return e ? l : c;
});
},
hidden: f,
button: f,
submit: f,
reset: f,
file: f
}, Zo = [ "$browser", "$sniffer", "$filter", "$parse", function(e, t, n, i) {
return {
restrict: "E",
require: [ "?ngModel" ],
link: {
pre: function(r, o, a, s) {
if (s[0]) {
var l = wi(a.type);
"range" !== l || a.hasOwnProperty("ngInputRange") || (l = "text"), (Jo[l] || Jo.text)(r, o, a, s[0], t, e, n, i);
}
}
}
};
} ], ea = /^(true|false|\d+)$/, ta = function() {
return {
restrict: "A",
priority: 100,
compile: function(e, t) {
return ea.test(t.ngValue) ? function(e, t, n) {
n.$set("value", e.$eval(n.ngValue));
} : function(e, t, n) {
e.$watch(n.ngValue, function(e) {
n.$set("value", e);
});
};
}
};
}, na = [ "$compile", function(e) {
return {
restrict: "AC",
compile: function(t) {
return e.$$addBindingClass(t), function(t, n, i) {
e.$$addBindingInfo(n, i.ngBind), n = n[0], t.$watch(i.ngBind, function(e) {
n.textContent = v(e) ? "" : e;
});
};
}
};
} ], ia = [ "$interpolate", "$compile", function(e, t) {
return {
compile: function(n) {
return t.$$addBindingClass(n), function(n, i, r) {
var o = e(i.attr(r.$attr.ngBindTemplate));
t.$$addBindingInfo(i, o.expressions), i = i[0], r.$observe("ngBindTemplate", function(e) {
i.textContent = v(e) ? "" : e;
});
};
}
};
} ], ra = [ "$sce", "$parse", "$compile", function(e, t, n) {
return {
restrict: "A",
compile: function(i, r) {
var o = t(r.ngBindHtml), a = t(r.ngBindHtml, function(t) {
return e.valueOf(t);
});
return n.$$addBindingClass(i), function(t, i, r) {
n.$$addBindingInfo(i, r.ngBindHtml), t.$watch(a, function() {
var n = o(t);
i.html(e.getTrustedHtml(n) || "");
});
};
}
};
} ], oa = g({
restrict: "A",
require: "ngModel",
link: function(e, t, n, i) {
i.$viewChangeListeners.push(function() {
e.$eval(n.ngChange);
});
}
}), aa = pi("", !0), sa = pi("Odd", 0), la = pi("Even", 1), ca = ti({
compile: function(e, t) {
t.$set("ngCloak", void 0), e.removeClass("ng-cloak");
}
}), ua = [ function() {
return {
restrict: "A",
scope: !0,
controller: "@",
priority: 500
};
} ], da = {}, ha = {
blur: !0,
focus: !0
};
i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(e) {
var t = ut("ng-" + e);
da[t] = [ "$parse", "$rootScope", function(n, i) {
return {
restrict: "A",
compile: function(r, o) {
var a = n(o[t], null, !0);
return function(t, n) {
n.on(e, function(n) {
var r = function() {
a(t, {
$event: n
});
};
ha[e] && i.$$phase ? t.$evalAsync(r) : t.$apply(r);
});
};
}
};
} ];
});
var fa = [ "$animate", "$compile", function(e, t) {
return {
multiElement: !0,
transclude: "element",
priority: 600,
terminal: !0,
restrict: "A",
$$tlb: !0,
link: function(n, i, r, o, a) {
var s, l, c;
n.$watch(r.ngIf, function(n) {
n ? l || a(function(n, o) {
l = o, n[n.length++] = t.$$createComment("end ngIf", r.ngIf), s = {
clone: n
}, e.enter(n, i.parent(), i);
}) : (c && (c.remove(), c = null), l && (l.$destroy(), l = null), s && (c = he(s.clone), e.leave(c).done(function(e) {
!1 !== e && (c = null);
}), s = null));
});
}
};
} ], pa = [ "$templateRequest", "$anchorScroll", "$animate", function(e, t, n) {
return {
restrict: "ECA",
priority: 400,
terminal: !0,
transclude: "element",
controller: Ii.noop,
compile: function(i, r) {
var o = r.ngInclude || r.src, a = r.onload || "", s = r.autoscroll;
return function(i, r, l, c, u) {
var d, h, f, p = 0, g = function() {
h && (h.remove(), h = null), d && (d.$destroy(), d = null), f && (n.leave(f).done(function(e) {
!1 !== e && (h = null);
}), h = f, f = null);
};
i.$watch(o, function(o) {
var l = function(e) {
!1 === e || !y(s) || s && !i.$eval(s) || t();
}, h = ++p;
o ? (e(o, !0).then(function(e) {
if (!i.$$destroyed && h === p) {
var t = i.$new();
c.template = e;
var s = u(t, function(e) {
g(), n.enter(e, null, r).done(l);
});
f = s, (d = t).$emit("$includeContentLoaded", o), i.$eval(a);
}
}, function() {
i.$$destroyed || h === p && (g(), i.$emit("$includeContentError", o));
}), i.$emit("$includeContentRequested", o)) : (g(), c.template = null);
});
};
}
};
} ], ga = [ "$compile", function(t) {
return {
restrict: "ECA",
priority: -400,
require: "ngInclude",
link: function(n, i, r, o) {
if (Ei.call(i[0]).match(/SVG/)) return i.empty(), void t(Ce(o.template, e.document).childNodes)(n, function(e) {
i.append(e);
}, {
futureParentElement: i
});
i.html(o.template), t(i.contents())(n);
}
};
} ], ma = ti({
priority: 450,
compile: function() {
return {
pre: function(e, t, n) {
e.$eval(n.ngInit);
}
};
}
}), va = function() {
return {
restrict: "A",
priority: 100,
require: "ngModel",
link: function(e, t, n, r) {
var o = t.attr(n.$attr.ngList) || ", ", a = "false" !== n.ngTrim, s = a ? Ni(o) : o;
r.$parsers.push(function(e) {
if (!v(e)) {
var t = [];
return e && i(e.split(s), function(e) {
e && t.push(a ? Ni(e) : e);
}), t;
}
}), r.$formatters.push(function(e) {
if (Oi(e)) return e.join(o);
}), r.$isEmpty = function(e) {
return !e || !e.length;
};
}
};
}, ya = "ng-valid", ba = "ng-invalid", _a = "ng-pristine", wa = "ng-dirty", Ca = "ng-pending", xa = t("ngModel"), Sa = [ "$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function(e, t, n, r, o, a, s, l, c, u) {
this.$viewValue = Number.NaN, this.$modelValue = Number.NaN, this.$$rawModelValue = void 0, this.$validators = {}, this.$asyncValidators = {}, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$untouched = !0, this.$touched = !1, this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$error = {}, this.$$success = {}, this.$pending = void 0, this.$name = u(n.name || "", !1)(e), this.$$parentForm = Oo;
var d, h = o(n.ngModel), p = h.assign, g = h, m = p, b = null, _ = this;
this.$$setOptions = function(e) {
if (_.$options = e, e && e.getterSetter) {
var t = o(n.ngModel + "()"), i = o(n.ngModel + "($$$p)");
g = function(e) {
var n = h(e);
return S(n) && (n = t(e)), n;
}, m = function(e, t) {
S(h(e)) ? i(e, {
$$$p: t
}) : p(e, t);
};
} else if (!h.assign) throw xa("nonassign", "Expression '{0}' is non-assignable. Element: {1}", n.ngModel, X(r));
}, this.$render = f, this.$isEmpty = function(e) {
return v(e) || "" === e || null === e || e !== e;
}, this.$$updateEmptyClasses = function(e) {
_.$isEmpty(e) ? (a.removeClass(r, "ng-not-empty"), a.addClass(r, "ng-empty")) : (a.removeClass(r, "ng-empty"), a.addClass(r, "ng-not-empty"));
};
var w = 0;
gi({
ctrl: this,
$element: r,
set: function(e, t) {
e[t] = !0;
},
unset: function(e, t) {
delete e[t];
},
$animate: a
}), this.$setPristine = function() {
_.$dirty = !1, _.$pristine = !0, a.removeClass(r, wa), a.addClass(r, _a);
}, this.$setDirty = function() {
_.$dirty = !0, _.$pristine = !1, a.removeClass(r, _a), a.addClass(r, wa), _.$$parentForm.$setDirty();
}, this.$setUntouched = function() {
_.$touched = !1, _.$untouched = !0, a.setClass(r, "ng-untouched", "ng-touched");
}, this.$setTouched = function() {
_.$touched = !0, _.$untouched = !1, a.setClass(r, "ng-touched", "ng-untouched");
}, this.$rollbackViewValue = function() {
s.cancel(b), _.$viewValue = _.$$lastCommittedViewValue, _.$render();
}, this.$validate = function() {
if (!Li(_.$modelValue)) {
var e = _.$$lastCommittedViewValue, t = _.$$rawModelValue, n = _.$valid, i = _.$modelValue, r = _.$options && _.$options.allowInvalid;
_.$$runValidators(t, e, function(e) {
r || n === e || (_.$modelValue = e ? t : void 0, _.$modelValue !== i && _.$$writeModelToScope());
});
}
}, this.$$runValidators = function(e, t, n) {
function r(e, t) {
a === w && _.$setValidity(e, t);
}
function o(e) {
a === w && n(e);
}
var a = ++w;
!function() {
var e = _.$$parserName || "parse";
return v(d) ? (r(e, null), !0) : (d || (i(_.$validators, function(e, t) {
r(t, null);
}), i(_.$asyncValidators, function(e, t) {
r(t, null);
})), r(e, d), d);
}() ? o(!1) : function() {
var n = !0;
return i(_.$validators, function(i, o) {
var a = i(e, t);
n = n && a, r(o, a);
}), !!n || (i(_.$asyncValidators, function(e, t) {
r(t, null);
}), !1);
}() ? function() {
var n = [], a = !0;
i(_.$asyncValidators, function(i, o) {
var s = i(e, t);
if (!M(s)) throw xa("nopromise", "Expected asynchronous validator to return a promise but got '{0}' instead.", s);
r(o, void 0), n.push(s.then(function() {
r(o, !0);
}, function() {
a = !1, r(o, !1);
}));
}), n.length ? c.all(n).then(function() {
o(a);
}, f) : o(!0);
}() : o(!1);
}, this.$commitViewValue = function() {
var e = _.$viewValue;
s.cancel(b), (_.$$lastCommittedViewValue !== e || "" === e && _.$$hasNativeValidators) && (_.$$updateEmptyClasses(e), _.$$lastCommittedViewValue = e, _.$pristine && this.$setDirty(), this.$$parseAndValidate());
}, this.$$parseAndValidate = function() {
function t() {
_.$modelValue !== r && _.$$writeModelToScope();
}
var n = _.$$lastCommittedViewValue;
if (d = !v(n) || void 0) for (var i = 0; i < _.$parsers.length; i++) if (n = _.$parsers[i](n), v(n)) {
d = !1;
break;
}
Li(_.$modelValue) && (_.$modelValue = g(e));
var r = _.$modelValue, o = _.$options && _.$options.allowInvalid;
_.$$rawModelValue = n, o && (_.$modelValue = n, t()), _.$$runValidators(n, _.$$lastCommittedViewValue, function(e) {
o || (_.$modelValue = e ? n : void 0, t());
});
}, this.$$writeModelToScope = function() {
m(e, _.$modelValue), i(_.$viewChangeListeners, function(e) {
try {
e();
} catch (e) {
t(e);
}
});
}, this.$setViewValue = function(e, t) {
_.$viewValue = e, _.$options && !_.$options.updateOnDefault || _.$$debounceViewValueCommit(t);
}, this.$$debounceViewValueCommit = function(t) {
var n, i = 0, r = _.$options;
r && y(r.debounce) && (C(n = r.debounce) ? i = n : C(n[t]) ? i = n[t] : C(n.default) && (i = n.default)), s.cancel(b), i ? b = s(function() {
_.$commitViewValue();
}, i) : l.$$phase ? _.$commitViewValue() : e.$apply(function() {
_.$commitViewValue();
});
}, e.$watch(function() {
var t = g(e);
if (t !== _.$modelValue && (_.$modelValue === _.$modelValue || t === t)) {
_.$modelValue = _.$$rawModelValue = t, d = void 0;
for (var n = _.$formatters, i = n.length, r = t; i--; ) r = n[i](r);
_.$viewValue !== r && (_.$$updateEmptyClasses(r), _.$viewValue = _.$$lastCommittedViewValue = r, _.$render(), _.$$runValidators(_.$modelValue, _.$viewValue, f));
}
return t;
});
} ], $a = [ "$rootScope", function(e) {
return {
restrict: "A",
require: [ "ngModel", "^?form", "^?ngModelOptions" ],
controller: Sa,
priority: 1,
compile: function(t) {
return t.addClass(_a).addClass("ng-untouched").addClass(ya), {
pre: function(e, t, n, i) {
var r = i[0], o = i[1] || r.$$parentForm;
r.$$setOptions(i[2] && i[2].$options), o.$addControl(r), n.$observe("name", function(e) {
r.$name !== e && r.$$parentForm.$$renameControl(r, e);
}), e.$on("$destroy", function() {
r.$$parentForm.$removeControl(r);
});
},
post: function(t, n, i, r) {
var o = r[0];
o.$options && o.$options.updateOn && n.on(o.$options.updateOn, function(e) {
o.$$debounceViewValueCommit(e && e.type);
}), n.on("blur", function() {
o.$touched || (e.$$phase ? t.$evalAsync(o.$setTouched) : t.$apply(o.$setTouched));
});
}
};
}
};
} ], Aa = /(\s+|^)default(\s+|$)/, ka = function() {
return {
restrict: "A",
controller: [ "$scope", "$attrs", function(e, t) {
var n = this;
this.$options = B(e.$eval(t.ngModelOptions)), y(this.$options.updateOn) ? (this.$options.updateOnDefault = !1, this.$options.updateOn = Ni(this.$options.updateOn.replace(Aa, function() {
return n.$options.updateOnDefault = !0, " ";
}))) : this.$options.updateOnDefault = !0;
} ]
};
}, Ta = ti({
terminal: !0,
priority: 1e3
}), Da = t("ngOptions"), Ea = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, Fa = [ "$compile", "$document", "$parse", function(t, r, o) {
function a(e, t, i) {
function r(e, t, n, i, r) {
this.selectValue = e, this.viewValue = t, this.label = n, this.group = i, this.disabled = r;
}
function a(e) {
var t;
if (!c && n(e)) t = e; else {
t = [];
for (var i in e) e.hasOwnProperty(i) && "$" !== i.charAt(0) && t.push(i);
}
return t;
}
var s = e.match(Ea);
if (!s) throw Da("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", e, X(t));
var l = s[5] || s[7], c = s[6], u = / as /.test(s[0]) && s[1], d = s[9], h = o(s[2] ? s[1] : l), f = u && o(u) || h, p = d && o(d), g = d ? function(e, t) {
return p(i, t);
} : function(e) {
return Ge(e);
}, m = function(e, t) {
return g(e, C(e, t));
}, v = o(s[2] || s[1]), y = o(s[3] || ""), b = o(s[4] || ""), _ = o(s[8]), w = {}, C = c ? function(e, t) {
return w[c] = t, w[l] = e, w;
} : function(e) {
return w[l] = e, w;
};
return {
trackBy: d,
getTrackByValue: m,
getWatchables: o(_, function(e) {
for (var t = [], n = a(e = e || []), r = n.length, o = 0; o < r; o++) {
var l = e === n ? o : n[o], c = e[l], u = C(c, l), d = g(c, u);
if (t.push(d), s[2] || s[1]) {
var h = v(i, u);
t.push(h);
}
if (s[4]) {
var f = b(i, u);
t.push(f);
}
}
return t;
}),
getOptions: function() {
for (var e = [], t = {}, n = _(i) || [], o = a(n), s = o.length, l = 0; l < s; l++) {
var c = n === o ? l : o[l], u = C(n[c], c), h = f(i, u), p = g(h, u), w = new r(p, h, v(i, u), y(i, u), b(i, u));
e.push(w), t[p] = w;
}
return {
items: e,
selectValueMap: t,
getOptionFromViewValue: function(e) {
return t[m(e)];
},
getViewValueFromOption: function(e) {
return d ? B(e.viewValue) : e.viewValue;
}
};
}
};
}
var s = e.document.createElement("option"), l = e.document.createElement("optgroup");
return {
restrict: "A",
terminal: !0,
require: [ "select", "ngModel" ],
link: {
pre: function(e, t, n, i) {
i[0].registerOption = f;
},
post: function(e, n, o, c) {
function u(e, t) {
var n = s.cloneNode(!1);
t.appendChild(n), d(e, n);
}
function d(e, t) {
e.element = t, t.disabled = e.disabled, e.label !== t.label && (t.label = e.label, t.textContent = e.label), t.value = e.selectValue;
}
function h() {
var e = S && p.readValue();
if (S) for (var t = S.items.length - 1; t >= 0; t--) {
var i = S.items[t];
Be(y(i.group) ? i.element.parentNode : i.element);
}
S = $.getOptions();
var r = {};
if (w && n.prepend(f), S.items.forEach(function(e) {
var t;
y(e.group) ? ((t = r[e.group]) || (t = l.cloneNode(!1), A.appendChild(t), t.label = null === e.group ? "null" : e.group, r[e.group] = t), u(e, t)) : u(e, A);
}), n[0].appendChild(A), g.$render(), !g.$isEmpty(e)) {
var o = p.readValue();
($.trackBy || m ? j(e, o) : e === o) || (g.$setViewValue(o), g.$render());
}
}
for (var f, p = c[0], g = c[1], m = o.multiple, v = 0, b = n.children(), _ = b.length; v < _; v++) if ("" === b[v].value) {
f = b.eq(v);
break;
}
var w = !!f, C = !1, x = Si(s.cloneNode(!1));
x.val("?");
var S, $ = a(o.ngOptions, n, e), A = r[0].createDocumentFragment(), k = function() {
w || n.prepend(f), n.val(""), C && (f.prop("selected", !0), f.attr("selected", !0));
}, T = function() {
w ? C && f.removeAttr("selected") : f.remove();
}, D = function() {
n.prepend(x), n.val("?"), x.prop("selected", !0), x.attr("selected", !0);
}, E = function() {
x.remove();
};
m ? (g.$isEmpty = function(e) {
return !e || 0 === e.length;
}, p.writeValue = function(e) {
S.items.forEach(function(e) {
e.element.selected = !1;
}), e && e.forEach(function(e) {
var t = S.getOptionFromViewValue(e);
t && (t.element.selected = !0);
});
}, p.readValue = function() {
var e = [];
return i(n.val() || [], function(t) {
var n = S.selectValueMap[t];
n && !n.disabled && e.push(S.getViewValueFromOption(n));
}), e;
}, $.trackBy && e.$watchCollection(function() {
if (Oi(g.$viewValue)) return g.$viewValue.map(function(e) {
return $.getTrackByValue(e);
});
}, function() {
g.$render();
})) : (p.writeValue = function(e) {
var t = S.selectValueMap[n.val()], i = S.getOptionFromViewValue(e);
t && t.element.removeAttribute("selected"), i ? (n[0].value !== i.selectValue && (E(), T(), n[0].value = i.selectValue, i.element.selected = !0), i.element.setAttribute("selected", "selected")) : null === e || w ? (E(), k()) : (T(), D());
}, p.readValue = function() {
var e = S.selectValueMap[n.val()];
return e && !e.disabled ? (T(), E(), S.getViewValueFromOption(e)) : null;
}, $.trackBy && e.$watch(function() {
return $.getTrackByValue(g.$viewValue);
}, function() {
g.$render();
})), w ? (f.remove(), t(f)(e), f[0].nodeType === Ki ? (C = !1, p.registerOption = function(e, t) {
"" === t.val() && (C = !0, (f = t).removeClass("ng-scope"), g.$render(), t.on("$destroy", function() {
f = void 0, C = !1;
}));
}) : (f.removeClass("ng-scope"), C = !0)) : f = Si(s.cloneNode(!1)), n.empty(), h(), e.$watchCollection($.getWatchables, h);
}
}
};
} ], Ma = [ "$locale", "$interpolate", "$log", function(e, t, n) {
var r = /{}/g, o = /^when(Minus)?(.+)$/;
return {
link: function(a, s, l) {
function c(e) {
s.text(e || "");
}
var u, d = l.count, h = l.$attr.when && s.attr(l.$attr.when), p = l.offset || 0, g = a.$eval(h) || {}, m = {}, y = t.startSymbol(), b = t.endSymbol(), _ = y + d + "-" + p + b, w = Ii.noop;
i(l, function(e, t) {
var n = o.exec(t);
if (n) {
var i = (n[1] ? "-" : "") + wi(n[2]);
g[i] = s.attr(l.$attr[t]);
}
}), i(g, function(e, n) {
m[n] = t(e.replace(r, _));
}), a.$watch(d, function(t) {
var i = parseFloat(t), r = Li(i);
if (r || i in g || (i = e.pluralCat(i - p)), !(i === u || r && Li(u))) {
w();
var o = m[i];
v(o) ? (null != t && n.debug("ngPluralize: no rule defined for '" + i + "' in " + h), w = f, c()) : w = a.$watch(o, c), u = i;
}
});
}
};
} ], Ia = [ "$parse", "$animate", "$compile", function(e, r, o) {
var a = t("ngRepeat"), s = function(e, t, n, i, r, o, a) {
e[n] = i, r && (e[r] = o), e.$index = t, e.$first = 0 === t, e.$last = t === a - 1, e.$middle = !(e.$first || e.$last), e.$odd = !(e.$even = 0 == (1 & t));
}, l = function(e) {
return e.clone[0];
}, c = function(e) {
return e.clone[e.clone.length - 1];
};
return {
restrict: "A",
multiElement: !0,
transclude: "element",
priority: 1e3,
terminal: !0,
$$tlb: !0,
compile: function(t, u) {
var d = u.ngRepeat, h = o.$$createComment("end ngRepeat", d), f = d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if (!f) throw a("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", d);
var p = f[1], g = f[2], m = f[3], v = f[4];
if (!(f = p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/))) throw a("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", p);
var y = f[3] || f[1], b = f[2];
if (m && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m))) throw a("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", m);
var _, w, C, x, S = {
$id: Ge
};
return v ? _ = e(v) : (C = function(e, t) {
return Ge(t);
}, x = function(e) {
return e;
}), function(e, t, o, u, f) {
_ && (w = function(t, n, i) {
return b && (S[b] = t), S[y] = n, S.$index = i, _(e, S);
});
var p = fe();
e.$watchCollection(g, function(o) {
var u, g, v, _, S, $, A, k, T, D, E, F, M = t[0], I = fe();
if (m && (e[m] = o), n(o)) T = o, k = w || C; else {
k = w || x, T = [];
for (var P in o) _i.call(o, P) && "$" !== P.charAt(0) && T.push(P);
}
for (_ = T.length, E = new Array(_), u = 0; u < _; u++) if (S = o === T ? u : T[u], $ = o[S], A = k(S, $, u), p[A]) D = p[A], delete p[A], I[A] = D, E[u] = D; else {
if (I[A]) throw i(E, function(e) {
e && e.scope && (p[e.id] = e);
}), a("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", d, A, $);
E[u] = {
id: A,
scope: void 0,
clone: void 0
}, I[A] = !0;
}
for (var L in p) {
if (D = p[L], F = he(D.clone), r.leave(F), F[0].parentNode) for (u = 0, g = F.length; u < g; u++) F[u].$$NG_REMOVED = !0;
D.scope.$destroy();
}
for (u = 0; u < _; u++) if (S = o === T ? u : T[u], $ = o[S], (D = E[u]).scope) {
v = M;
do {
v = v.nextSibling;
} while (v && v.$$NG_REMOVED);
l(D) !== v && r.move(he(D.clone), null, M), M = c(D), s(D.scope, u, y, $, b, S, _);
} else f(function(e, t) {
D.scope = t;
var n = h.cloneNode(!1);
e[e.length++] = n, r.enter(e, null, M), M = n, D.clone = e, I[D.id] = D, s(D.scope, u, y, $, b, S, _);
});
p = I;
});
};
}
};
} ], Pa = [ "$animate", function(e) {
return {
restrict: "A",
multiElement: !0,
link: function(t, n, i) {
t.$watch(i.ngShow, function(t) {
e[t ? "removeClass" : "addClass"](n, "ng-hide", {
tempClasses: "ng-hide-animate"
});
});
}
};
} ], La = [ "$animate", function(e) {
return {
restrict: "A",
multiElement: !0,
link: function(t, n, i) {
t.$watch(i.ngHide, function(t) {
e[t ? "addClass" : "removeClass"](n, "ng-hide", {
tempClasses: "ng-hide-animate"
});
});
}
};
} ], Oa = ti(function(e, t, n) {
e.$watch(n.ngStyle, function(e, n) {
n && e !== n && i(n, function(e, n) {
t.css(n, "");
}), e && t.css(e);
}, !0);
}), Ra = [ "$animate", "$compile", function(e, t) {
return {
require: "ngSwitch",
controller: [ "$scope", function() {
this.cases = {};
} ],
link: function(n, r, o, a) {
var s = o.ngSwitch || o.on, l = [], c = [], u = [], d = [], h = function(e, t) {
return function(n) {
!1 !== n && e.splice(t, 1);
};
};
n.$watch(s, function(n) {
for (var r, o; u.length; ) e.cancel(u.pop());
for (r = 0, o = d.length; r < o; ++r) {
var s = he(c[r].clone);
d[r].$destroy(), (u[r] = e.leave(s)).done(h(u, r));
}
c.length = 0, d.length = 0, (l = a.cases["!" + n] || a.cases["?"]) && i(l, function(n) {
n.transclude(function(i, r) {
d.push(r);
var o = n.element;
i[i.length++] = t.$$createComment("end ngSwitchWhen");
var a = {
clone: i
};
c.push(a), e.enter(i, o.parent(), o);
});
});
});
}
};
} ], Na = ti({
transclude: "element",
priority: 1200,
require: "^ngSwitch",
multiElement: !0,
link: function(e, t, n, r, o) {
i(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e, t, n) {
return n[t - 1] !== e;
}), function(e) {
r.cases["!" + e] = r.cases["!" + e] || [], r.cases["!" + e].push({
transclude: o,
element: t
});
});
}
}), Ba = ti({
transclude: "element",
priority: 1200,
require: "^ngSwitch",
multiElement: !0,
link: function(e, t, n, i, r) {
i.cases["?"] = i.cases["?"] || [], i.cases["?"].push({
transclude: r,
element: t
});
}
}), ja = t("ngTransclude"), Ha = [ "$compile", function(e) {
return {
restrict: "EAC",
terminal: !0,
compile: function(t) {
var n = e(t.contents());
return t.empty(), function(e, t, i, r, o) {
function a() {
n(e, function(e) {
t.append(e);
});
}
if (!o) throw ja("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", X(t));
i.ngTransclude === i.$attr.ngTransclude && (i.ngTransclude = "");
var s = i.ngTransclude || i.ngTranscludeSlot;
o(function(e, n) {
e.length ? t.append(e) : (a(), n.$destroy());
}, null, s), s && !o.isSlotFilled(s) && a();
};
}
};
} ], Va = [ "$templateCache", function(e) {
return {
restrict: "E",
terminal: !0,
compile: function(t, n) {
if ("text/ng-template" === n.type) {
var i = n.id, r = t[0].text;
e.put(i, r);
}
}
};
} ], Ua = {
$setViewValue: f,
$render: f
}, za = [ "$element", "$scope", function(t, n) {
var i = this, r = new Ye();
i.ngModelCtrl = Ua, i.unknownOption = Si(e.document.createElement("option")), i.renderUnknownOption = function(e) {
var n = "? " + Ge(e) + " ?";
i.unknownOption.val(n), t.prepend(i.unknownOption), t.val(n);
}, n.$on("$destroy", function() {
i.renderUnknownOption = f;
}), i.removeUnknownOption = function() {
i.unknownOption.parent() && i.unknownOption.remove();
}, i.readValue = function() {
return i.removeUnknownOption(), t.val();
}, i.writeValue = function(e) {
i.hasOption(e) ? (i.removeUnknownOption(), t.val(e), "" === e && i.emptyOption.prop("selected", !0)) : null == e && i.emptyOption ? (i.removeUnknownOption(), t.val("")) : i.renderUnknownOption(e);
}, i.addOption = function(e, t) {
if (t[0].nodeType !== Ki) {
ue(e, '"option value"'), "" === e && (i.emptyOption = t);
var n = r.get(e) || 0;
r.put(e, n + 1), i.ngModelCtrl.$render(), vi(t);
}
}, i.removeOption = function(e) {
var t = r.get(e);
t && (1 === t ? (r.remove(e), "" === e && (i.emptyOption = void 0)) : r.put(e, t - 1));
}, i.hasOption = function(e) {
return !!r.get(e);
}, i.registerOption = function(e, t, n, r, o) {
if (r) {
var a;
n.$observe("value", function(e) {
y(a) && i.removeOption(a), a = e, i.addOption(e, t);
});
} else o ? e.$watch(o, function(e, r) {
n.$set("value", e), r !== e && i.removeOption(r), i.addOption(e, t);
}) : i.addOption(n.value, t);
t.on("$destroy", function() {
i.removeOption(n.value), i.ngModelCtrl.$render();
});
};
} ], Wa = function() {
return {
restrict: "E",
require: [ "select", "?ngModel" ],
controller: za,
priority: 1,
link: {
pre: function(e, t, n, r) {
var o = r[1];
if (o) {
var a = r[0];
if (a.ngModelCtrl = o, t.on("change", function() {
e.$apply(function() {
o.$setViewValue(a.readValue());
});
}), n.multiple) {
a.readValue = function() {
var e = [];
return i(t.find("option"), function(t) {
t.selected && e.push(t.value);
}), e;
}, a.writeValue = function(e) {
var n = new Ye(e);
i(t.find("option"), function(e) {
e.selected = y(n.get(e.value));
});
};
var s, l = NaN;
e.$watch(function() {
l !== o.$viewValue || j(s, o.$viewValue) || (s = ge(o.$viewValue), o.$render()), l = o.$viewValue;
}), o.$isEmpty = function(e) {
return !e || 0 === e.length;
};
}
}
},
post: function(e, t, n, i) {
var r = i[1];
if (r) {
var o = i[0];
r.$render = function() {
o.writeValue(r.$viewValue);
};
}
}
}
};
}, qa = [ "$interpolate", function(e) {
return {
restrict: "E",
priority: 100,
compile: function(t, n) {
var i, r;
return y(n.ngValue) ? i = !0 : y(n.value) ? i = e(n.value, !0) : (r = e(t.text(), !0)) || n.$set("value", t.text()), function(e, t, n) {
var o = t.parent(), a = o.data("$selectController") || o.parent().data("$selectController");
a && a.registerOption(e, t, n, i, r);
};
}
};
} ], Ga = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, t, n, i) {
i && (n.required = !0, i.$validators.required = function(e, t) {
return !n.required || !i.$isEmpty(t);
}, n.$observe("required", function() {
i.$validate();
}));
}
};
}, Ya = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, n, i, r) {
if (r) {
var o, a = i.ngPattern || i.pattern;
i.$observe("pattern", function(e) {
if (w(e) && e.length > 0 && (e = new RegExp("^" + e + "$")), e && !e.test) throw t("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", a, e, X(n));
o = e || void 0, r.$validate();
}), r.$validators.pattern = function(e, t) {
return r.$isEmpty(t) || v(o) || o.test(t);
};
}
}
};
}, Ka = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, t, n, i) {
if (i) {
var r = -1;
n.$observe("maxlength", function(e) {
var t = d(e);
r = Li(t) ? -1 : t, i.$validate();
}), i.$validators.maxlength = function(e, t) {
return r < 0 || i.$isEmpty(t) || t.length <= r;
};
}
}
};
}, Xa = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, t, n, i) {
if (i) {
var r = 0;
n.$observe("minlength", function(e) {
r = d(e) || 0, i.$validate();
}), i.$validators.minlength = function(e, t) {
return i.$isEmpty(t) || t.length >= r;
};
}
}
};
};
e.angular.bootstrap ? e.console && console.log("WARNING: Tried to load angular more than once.") : (!function() {
var t;
if (!qi) {
var n = Hi();
($i = v(n) ? e.jQuery : n ? e[n] : void 0) && $i.fn.on ? (Si = $i, c($i.fn, {
scope: fr.scope,
isolateScope: fr.isolateScope,
controller: fr.controller,
injector: fr.injector,
inheritedData: fr.inheritedData
}), t = $i.cleanData, $i.cleanData = function(e) {
for (var n, i, r = 0; null != (i = e[r]); r++) (n = $i._data(i, "events")) && n.$destroy && $i(i).triggerHandler("$destroy");
t(e);
}) : Si = $e, Ii.element = Si, qi = !0;
}
}(), function(n) {
c(n, {
bootstrap: re,
copy: B,
extend: c,
merge: u,
equals: j,
element: Si,
forEach: i,
injector: Je,
noop: f,
bind: U,
toJson: W,
fromJson: q,
identity: p,
isUndefined: v,
isDefined: y,
isString: w,
isFunction: S,
isObject: b,
isNumber: C,
isElement: L,
isArray: Oi,
version: Ji,
isDate: x,
lowercase: wi,
uppercase: Ci,
callbacks: {
$$counter: 0
},
getTestability: ae,
$$minErr: t,
$$csp: ji,
reloadWithDebugInfo: oe
}), (Ai = pe(e))("ng", [ "ngLocale" ], [ "$provide", function(e) {
e.provider({
$$sanitizeUri: bn
}), e.provider("$compile", lt).directive({
a: Po,
input: Zo,
textarea: Zo,
form: Bo,
script: Va,
select: Wa,
option: qa,
ngBind: na,
ngBindHtml: ra,
ngBindTemplate: ia,
ngClass: aa,
ngClassEven: la,
ngClassOdd: sa,
ngCloak: ca,
ngController: ua,
ngForm: jo,
ngHide: La,
ngIf: fa,
ngInclude: pa,
ngInit: ma,
ngNonBindable: Ta,
ngPluralize: Ma,
ngRepeat: Ia,
ngShow: Pa,
ngStyle: Oa,
ngSwitch: Ra,
ngSwitchWhen: Na,
ngSwitchDefault: Ba,
ngOptions: Fa,
ngTransclude: Ha,
ngModel: $a,
ngList: va,
ngChange: oa,
pattern: Ya,
ngPattern: Ya,
required: Ga,
ngRequired: Ga,
minlength: Xa,
ngMinlength: Xa,
maxlength: Ka,
ngMaxlength: Ka,
ngValue: ta,
ngModelOptions: ka
}).directive({
ngInclude: ga
}).directive(Lo).directive(da), e.provider({
$anchorScroll: Ze,
$animate: Tr,
$animateCss: Fr,
$$animateJs: Ar,
$$animateQueue: kr,
$$AnimateRunner: Er,
$$animateAsyncRun: Dr,
$browser: ot,
$cacheFactory: at,
$controller: pt,
$document: gt,
$exceptionHandler: mt,
$filter: In,
$$forceReflow: Rr,
$interpolate: Et,
$interval: Ft,
$http: At,
$httpParamSerializer: yt,
$httpParamSerializerJQLike: bt,
$httpBackend: Tt,
$xhrFactory: kt,
$jsonpCallbacks: qr,
$location: qt,
$log: Gt,
$parse: fn,
$rootScope: yn,
$q: pn,
$$q: gn,
$sce: xn,
$sceDelegate: Cn,
$sniffer: Sn,
$templateCache: st,
$templateRequest: $n,
$$testability: An,
$timeout: kn,
$window: En,
$$rAF: vn,
$$jqLite: qe,
$$HashMap: vr,
$$cookieReader: Mn
});
} ]);
}(Ii), Ii.module("ngLocale", [], [ "$provide", function(e) {
function t(e) {
var t = (e += "").indexOf(".");
return -1 == t ? 0 : e.length - t - 1;
}
function n(e, n) {
var i = n;
void 0 === i && (i = Math.min(t(e), 3));
var r = Math.pow(10, i);
return {
v: i,
f: (e * r | 0) % r
};
}
var i = {
ZERO: "zero",
ONE: "one",
TWO: "two",
FEW: "few",
MANY: "many",
OTHER: "other"
};
e.value("$locale", {
DATETIME_FORMATS: {
AMPMS: [ "AM", "PM" ],
DAY: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
ERANAMES: [ "Before Christ", "Anno Domini" ],
ERAS: [ "BC", "AD" ],
FIRSTDAYOFWEEK: 6,
MONTH: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
SHORTDAY: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
SHORTMONTH: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
STANDALONEMONTH: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
WEEKENDRANGE: [ 5, 6 ],
fullDate: "EEEE, MMMM d, y",
longDate: "MMMM d, y",
medium: "MMM d, y h:mm:ss a",
mediumDate: "MMM d, y",
mediumTime: "h:mm:ss a",
short: "M/d/yy h:mm a",
shortDate: "M/d/yy",
shortTime: "h:mm a"
},
NUMBER_FORMATS: {
CURRENCY_SYM: "$",
DECIMAL_SEP: ".",
GROUP_SEP: ",",
PATTERNS: [ {
gSize: 3,
lgSize: 3,
maxFrac: 3,
minFrac: 0,
minInt: 1,
negPre: "-",
negSuf: "",
posPre: "",
posSuf: ""
}, {
gSize: 3,
lgSize: 3,
maxFrac: 2,
minFrac: 2,
minInt: 1,
negPre: "-¤",
negSuf: "",
posPre: "¤",
posSuf: ""
} ]
},
id: "en-us",
localeID: "en_US",
pluralCat: function(e, t) {
var r = 0 | e, o = n(e, t);
return 1 == r && 0 == o.v ? i.ONE : i.OTHER;
}
});
} ]), Si(e.document).ready(function() {
ie(e.document, re);
}));
}(window), !window.angular.$$csp().noInlineStyle && window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'), function() {
function e(t, i) {
function o(e) {
if (o[e] !== m) return o[e];
var t;
if ("bug-string-char-index" == e) t = "a" != "a"[0]; else if ("json" == e) t = o("json-stringify") && o("json-parse"); else {
var n, r = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
if ("json-stringify" == e) {
var l = i.stringify, u = "function" == typeof l && b;
if (u) {
(n = function() {
return 1;
}).toJSON = n;
try {
u = "0" === l(0) && "0" === l(new a()) && '""' == l(new s()) && l(y) === m && l(m) === m && l() === m && "1" === l(n) && "[1]" == l([ n ]) && "[null]" == l([ m ]) && "null" == l(null) && "[null,null,null]" == l([ m, y, null ]) && l({
a: [ n, !0, !1, null, "\0\b\n\f\r\t" ]
}) == r && "1" === l(null, n) && "[\n 1,\n 2\n]" == l([ 1, 2 ], null, 1) && '"-271821-04-20T00:00:00.000Z"' == l(new c(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == l(new c(864e13)) && '"-000001-01-01T00:00:00.000Z"' == l(new c(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == l(new c(-1));
} catch (e) {
u = !1;
}
}
t = u;
}
if ("json-parse" == e) {
var d = i.parse;
if ("function" == typeof d) try {
if (0 === d("0") && !d(!1)) {
var h = 5 == (n = d(r)).a.length && 1 === n.a[0];
if (h) {
try {
h = !d('"\t"');
} catch (e) {}
if (h) try {
h = 1 !== d("01");
} catch (e) {}
if (h) try {
h = 1 !== d("1.");
} catch (e) {}
}
}
} catch (e) {
h = !1;
}
t = h;
}
}
return o[e] = !!t;
}
t || (t = r.Object()), i || (i = r.Object());
var a = t.Number || r.Number, s = t.String || r.String, l = t.Object || r.Object, c = t.Date || r.Date, u = t.SyntaxError || r.SyntaxError, d = t.TypeError || r.TypeError, h = t.Math || r.Math, f = t.JSON || r.JSON;
"object" == typeof f && f && (i.stringify = f.stringify, i.parse = f.parse);
var p, g, m, v = l.prototype, y = v.toString, b = new c(-0xc782b5b800cec);
try {
b = -109252 == b.getUTCFullYear() && 0 === b.getUTCMonth() && 1 === b.getUTCDate() && 10 == b.getUTCHours() && 37 == b.getUTCMinutes() && 6 == b.getUTCSeconds() && 708 == b.getUTCMilliseconds();
} catch (e) {}
if (!o("json")) {
var _ = o("bug-string-char-index");
if (!b) var w = h.floor, C = [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334 ], x = function(e, t) {
return C[t] + 365 * (e - 1970) + w((e - 1969 + (t = +(t > 1))) / 4) - w((e - 1901 + t) / 100) + w((e - 1601 + t) / 400);
};
if ((p = v.hasOwnProperty) || (p = function(e) {
var t, n = {};
return (n.__proto__ = null, n.__proto__ = {
toString: 1
}, n).toString != y ? p = function(e) {
var t = this.__proto__, n = e in (this.__proto__ = null, this);
return this.__proto__ = t, n;
} : (t = n.constructor, p = function(e) {
var n = (this.constructor || t).prototype;
return e in this && !(e in n && this[e] === n[e]);
}), n = null, p.call(this, e);
}), g = function(e, t) {
var i, r, o, a = 0;
(i = function() {
this.valueOf = 0;
}).prototype.valueOf = 0, r = new i();
for (o in r) p.call(r, o) && a++;
return i = r = null, a ? g = 2 == a ? function(e, t) {
var n, i = {}, r = "[object Function]" == y.call(e);
for (n in e) r && "prototype" == n || p.call(i, n) || !(i[n] = 1) || !p.call(e, n) || t(n);
} : function(e, t) {
var n, i, r = "[object Function]" == y.call(e);
for (n in e) r && "prototype" == n || !p.call(e, n) || (i = "constructor" === n) || t(n);
(i || p.call(e, n = "constructor")) && t(n);
} : (r = [ "valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor" ], g = function(e, t) {
var i, o, a = "[object Function]" == y.call(e), s = !a && "function" != typeof e.constructor && n[typeof e.hasOwnProperty] && e.hasOwnProperty || p;
for (i in e) a && "prototype" == i || !s.call(e, i) || t(i);
for (o = r.length; i = r[--o]; s.call(e, i) && t(i)) ;
}), g(e, t);
}, !o("json-stringify")) {
var S = {
92: "\\\\",
34: '\\"',
8: "\\b",
12: "\\f",
10: "\\n",
13: "\\r",
9: "\\t"
}, $ = function(e, t) {
return ("000000" + (t || 0)).slice(-e);
}, A = function(e) {
for (var t = '"', n = 0, i = e.length, r = !_ || i > 10, o = r && (_ ? e.split("") : e); n < i; n++) {
var a = e.charCodeAt(n);
switch (a) {
case 8:
case 9:
case 10:
case 12:
case 13:
case 34:
case 92:
t += S[a];
break;

default:
if (a < 32) {
t += "\\u00" + $(2, a.toString(16));
break;
}
t += r ? o[n] : e.charAt(n);
}
}
return t + '"';
}, k = function(e, t, n, i, r, o, a) {
var s, l, c, u, h, f, v, b, _, C, S, T, D, E, F, M;
try {
s = t[e];
} catch (e) {}
if ("object" == typeof s && s) if ("[object Date]" != (l = y.call(s)) || p.call(s, "toJSON")) "function" == typeof s.toJSON && ("[object Number]" != l && "[object String]" != l && "[object Array]" != l || p.call(s, "toJSON")) && (s = s.toJSON(e)); else if (s > -1 / 0 && s < 1 / 0) {
if (x) {
for (h = w(s / 864e5), c = w(h / 365.2425) + 1970 - 1; x(c + 1, 0) <= h; c++) ;
for (u = w((h - x(c, 0)) / 30.42); x(c, u + 1) <= h; u++) ;
h = 1 + h - x(c, u), v = w((f = (s % 864e5 + 864e5) % 864e5) / 36e5) % 24, b = w(f / 6e4) % 60, _ = w(f / 1e3) % 60, C = f % 1e3;
} else c = s.getUTCFullYear(), u = s.getUTCMonth(), h = s.getUTCDate(), v = s.getUTCHours(), b = s.getUTCMinutes(), _ = s.getUTCSeconds(), C = s.getUTCMilliseconds();
s = (c <= 0 || c >= 1e4 ? (c < 0 ? "-" : "+") + $(6, c < 0 ? -c : c) : $(4, c)) + "-" + $(2, u + 1) + "-" + $(2, h) + "T" + $(2, v) + ":" + $(2, b) + ":" + $(2, _) + "." + $(3, C) + "Z";
} else s = null;
if (n && (s = n.call(t, e, s)), null === s) return "null";
if ("[object Boolean]" == (l = y.call(s))) return "" + s;
if ("[object Number]" == l) return s > -1 / 0 && s < 1 / 0 ? "" + s : "null";
if ("[object String]" == l) return A("" + s);
if ("object" == typeof s) {
for (E = a.length; E--; ) if (a[E] === s) throw d();
if (a.push(s), S = [], F = o, o += r, "[object Array]" == l) {
for (D = 0, E = s.length; D < E; D++) T = k(D, s, n, i, r, o, a), S.push(T === m ? "null" : T);
M = S.length ? r ? "[\n" + o + S.join(",\n" + o) + "\n" + F + "]" : "[" + S.join(",") + "]" : "[]";
} else g(i || s, function(e) {
var t = k(e, s, n, i, r, o, a);
t !== m && S.push(A(e) + ":" + (r ? " " : "") + t);
}), M = S.length ? r ? "{\n" + o + S.join(",\n" + o) + "\n" + F + "}" : "{" + S.join(",") + "}" : "{}";
return a.pop(), M;
}
};
i.stringify = function(e, t, i) {
var r, o, a, s;
if (n[typeof t] && t) if ("[object Function]" == (s = y.call(t))) o = t; else if ("[object Array]" == s) {
a = {};
for (var l, c = 0, u = t.length; c < u; l = t[c++], ("[object String]" == (s = y.call(l)) || "[object Number]" == s) && (a[l] = 1)) ;
}
if (i) if ("[object Number]" == (s = y.call(i))) {
if ((i -= i % 1) > 0) for (r = "", i > 10 && (i = 10); r.length < i; r += " ") ;
} else "[object String]" == s && (r = i.length <= 10 ? i : i.slice(0, 10));
return k("", (l = {}, l[""] = e, l), o, a, r, "", []);
};
}
if (!o("json-parse")) {
var T, D, E = s.fromCharCode, F = {
92: "\\",
34: '"',
47: "/",
98: "\b",
116: "\t",
110: "\n",
102: "\f",
114: "\r"
}, M = function() {
throw T = D = null, u();
}, I = function() {
for (var e, t, n, i, r, o = D, a = o.length; T < a; ) switch (r = o.charCodeAt(T)) {
case 9:
case 10:
case 13:
case 32:
T++;
break;

case 123:
case 125:
case 91:
case 93:
case 58:
case 44:
return e = _ ? o.charAt(T) : o[T], T++, e;

case 34:
for (e = "@", T++; T < a; ) if ((r = o.charCodeAt(T)) < 32) M(); else if (92 == r) switch (r = o.charCodeAt(++T)) {
case 92:
case 34:
case 47:
case 98:
case 116:
case 110:
case 102:
case 114:
e += F[r], T++;
break;

case 117:
for (t = ++T, n = T + 4; T < n; T++) (r = o.charCodeAt(T)) >= 48 && r <= 57 || r >= 97 && r <= 102 || r >= 65 && r <= 70 || M();
e += E("0x" + o.slice(t, T));
break;

default:
M();
} else {
if (34 == r) break;
for (r = o.charCodeAt(T), t = T; r >= 32 && 92 != r && 34 != r; ) r = o.charCodeAt(++T);
e += o.slice(t, T);
}
if (34 == o.charCodeAt(T)) return T++, e;
M();

default:
if (t = T, 45 == r && (i = !0, r = o.charCodeAt(++T)), r >= 48 && r <= 57) {
for (48 == r && (r = o.charCodeAt(T + 1)) >= 48 && r <= 57 && M(), i = !1; T < a && (r = o.charCodeAt(T)) >= 48 && r <= 57; T++) ;
if (46 == o.charCodeAt(T)) {
for (n = ++T; n < a && (r = o.charCodeAt(n)) >= 48 && r <= 57; n++) ;
n == T && M(), T = n;
}
if (101 == (r = o.charCodeAt(T)) || 69 == r) {
for (43 != (r = o.charCodeAt(++T)) && 45 != r || T++, n = T; n < a && (r = o.charCodeAt(n)) >= 48 && r <= 57; n++) ;
n == T && M(), T = n;
}
return +o.slice(t, T);
}
if (i && M(), "true" == o.slice(T, T + 4)) return T += 4, !0;
if ("false" == o.slice(T, T + 5)) return T += 5, !1;
if ("null" == o.slice(T, T + 4)) return T += 4, null;
M();
}
return "$";
}, P = function(e) {
var t, n;
if ("$" == e && M(), "string" == typeof e) {
if ("@" == (_ ? e.charAt(0) : e[0])) return e.slice(1);
if ("[" == e) {
for (t = []; "]" != (e = I()); n || (n = !0)) n && ("," == e ? "]" == (e = I()) && M() : M()), "," == e && M(), t.push(P(e));
return t;
}
if ("{" == e) {
for (t = {}; "}" != (e = I()); n || (n = !0)) n && ("," == e ? "}" == (e = I()) && M() : M()), "," != e && "string" == typeof e && "@" == (_ ? e.charAt(0) : e[0]) && ":" == I() || M(), t[e.slice(1)] = P(I());
return t;
}
M();
}
return e;
}, L = function(e, t, n) {
var i = O(e, t, n);
i === m ? delete e[t] : e[t] = i;
}, O = function(e, t, n) {
var i, r = e[t];
if ("object" == typeof r && r) if ("[object Array]" == y.call(r)) for (i = r.length; i--; ) L(r, i, n); else g(r, function(e) {
L(r, e, n);
});
return n.call(e, t, r);
};
i.parse = function(e, t) {
var n, i;
return T = 0, D = "" + e, n = P(I()), "$" != I() && M(), T = D = null, t && "[object Function]" == y.call(t) ? O((i = {}, i[""] = n, i), "", t) : n;
};
}
}
return i.runInContext = e, i;
}
var t = "function" == typeof define && define.amd, n = {
function: !0,
object: !0
}, i = n[typeof exports] && exports && !exports.nodeType && exports, r = n[typeof window] && window || this, o = i && n[typeof module] && module && !module.nodeType && "object" == typeof global && global;
if (!o || o.global !== o && o.window !== o && o.self !== o || (r = o), i && !t) e(r, i); else {
var a = r.JSON, s = r.JSON3, l = !1, c = e(r, r.JSON3 = {
noConflict: function() {
return l || (l = !0, r.JSON = a, r.JSON3 = s, a = s = null), c;
}
});
r.JSON = {
parse: c.parse,
stringify: c.stringify
};
}
t && define(function() {
return c;
});
}.call(this), function(e, t) {
"function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t() : e.returnExports = t();
}(this, function() {
function e() {}
function t(e) {
return (e = +e) !== e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (e > 0 || -1) * Math.floor(Math.abs(e))), e;
}
function n(e) {
var t = typeof e;
return null === e || "undefined" === t || "boolean" === t || "number" === t || "string" === t;
}
function i(e) {
var t, i, r;
if (n(e)) return e;
if (i = e.valueOf, d(i) && (t = i.call(e), n(t))) return t;
if (r = e.toString, d(r) && (t = r.call(e), n(t))) return t;
throw new TypeError();
}
var r = Function.prototype.call, o = Array.prototype, a = Object.prototype, s = o.slice, l = Array.prototype.splice, c = Array.prototype.push, u = Array.prototype.unshift, d = function(e) {
return "[object Function]" === a.toString.call(e);
}, h = function(e) {
return "[object RegExp]" === a.toString.call(e);
};
Function.prototype.bind || (Function.prototype.bind = function(t) {
var n = this;
if (!d(n)) throw new TypeError("Function.prototype.bind called on incompatible " + n);
for (var i = s.call(arguments, 1), r = Math.max(0, n.length - i.length), o = [], a = 0; a < r; a++) o.push("$" + a);
var l = Function("binder", "return function(" + o.join(",") + "){return binder.apply(this,arguments)}")(function() {
if (this instanceof l) {
var e = n.apply(this, i.concat(s.call(arguments)));
return Object(e) === e ? e : this;
}
return n.apply(t, i.concat(s.call(arguments)));
});
return n.prototype && (e.prototype = n.prototype, l.prototype = new e(), e.prototype = null), l;
});
var f = r.bind(a.hasOwnProperty), p = r.bind(a.toString);
f(a, "__defineGetter__") && (r.bind(a.__defineGetter__), r.bind(a.__defineSetter__), r.bind(a.__lookupGetter__), r.bind(a.__lookupSetter__)), 2 !== [ 1, 2 ].splice(0).length && (!function() {
function e(e) {
for (var t = []; e--; ) t.unshift(e);
return t;
}
var t, n = [];
if (n.splice.bind(n, 0, 0).apply(null, e(20)), n.splice.bind(n, 0, 0).apply(null, e(26)), t = n.length, n.splice(5, 0, "XXX"), t + 1 === n.length) return !0;
}() ? Array.prototype.splice = function(e, t) {
var n, i = s.call(arguments, 2), r = i.length;
if (!arguments.length) return [];
if (void 0 === e && (e = 0), void 0 === t && (t = this.length - e), r > 0) {
if (t <= 0) {
if (e === this.length) return c.apply(this, i), [];
if (0 === e) return u.apply(this, i), [];
}
return n = s.call(this, e, e + t), i.push.apply(i, s.call(this, e + t, this.length)), i.unshift.apply(i, s.call(this, 0, e)), i.unshift(0, this.length), l.apply(this, i), n;
}
return l.call(this, e, t);
} : Array.prototype.splice = function(e, t) {
return arguments.length ? l.apply(this, [ void 0 === e ? 0 : e, void 0 === t ? this.length - e : t ].concat(s.call(arguments, 2))) : [];
}), 1 !== [].unshift(0) && (Array.prototype.unshift = function() {
return u.apply(this, arguments), this.length;
}), Array.isArray || (Array.isArray = function(e) {
return "[object Array]" === p(e);
});
var g = Object("a"), m = "a" !== g[0] || !(0 in g), v = function(e) {
var t = !0;
return e && e.call("foo", function(e, n, i) {
"object" != typeof i && (t = !1);
}), !!e && t;
};
Array.prototype.forEach && v(Array.prototype.forEach) || (Array.prototype.forEach = function(e) {
var t = P(this), n = m && "[object String]" === p(this) ? this.split("") : t, i = arguments[1], r = -1, o = n.length >>> 0;
if (!d(e)) throw new TypeError();
for (;++r < o; ) r in n && e.call(i, n[r], r, t);
}), Array.prototype.map && v(Array.prototype.map) || (Array.prototype.map = function(e) {
var t = P(this), n = m && "[object String]" === p(this) ? this.split("") : t, i = n.length >>> 0, r = Array(i), o = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var a = 0; a < i; a++) a in n && (r[a] = e.call(o, n[a], a, t));
return r;
}), Array.prototype.filter && v(Array.prototype.filter) || (Array.prototype.filter = function(e) {
var t, n = P(this), i = m && "[object String]" === p(this) ? this.split("") : n, r = i.length >>> 0, o = [], a = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var s = 0; s < r; s++) s in i && (t = i[s], e.call(a, t, s, n) && o.push(t));
return o;
}), Array.prototype.every && v(Array.prototype.every) || (Array.prototype.every = function(e) {
var t = P(this), n = m && "[object String]" === p(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && !e.call(r, n[o], o, t)) return !1;
return !0;
}), Array.prototype.some && v(Array.prototype.some) || (Array.prototype.some = function(e) {
var t = P(this), n = m && "[object String]" === p(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && e.call(r, n[o], o, t)) return !0;
return !1;
});
var y = !1;
if (Array.prototype.reduce && (y = "object" == typeof Array.prototype.reduce.call("a", function(e, t, n, i) {
return i;
})), Array.prototype.reduce && y || (Array.prototype.reduce = function(e) {
var t = P(this), n = m && "[object String]" === p(this) ? this.split("") : t, i = n.length >>> 0;
if (!d(e)) throw new TypeError(e + " is not a function");
if (!i && 1 === arguments.length) throw new TypeError("reduce of empty array with no initial value");
var r, o = 0;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o++];
break;
}
if (++o >= i) throw new TypeError("reduce of empty array with no initial value");
}
for (;o < i; o++) o in n && (r = e.call(void 0, r, n[o], o, t));
return r;
}), Array.prototype.reduceRight || (Array.prototype.reduceRight = function(e) {
var t = P(this), n = m && "[object String]" === p(this) ? this.split("") : t, i = n.length >>> 0;
if (!d(e)) throw new TypeError(e + " is not a function");
if (!i && 1 === arguments.length) throw new TypeError("reduceRight of empty array with no initial value");
var r, o = i - 1;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o--];
break;
}
if (--o < 0) throw new TypeError("reduceRight of empty array with no initial value");
}
if (o < 0) return r;
do {
o in this && (r = e.call(void 0, r, n[o], o, t));
} while (o--);
return r;
}), Array.prototype.indexOf && -1 === [ 0, 1 ].indexOf(1, 2) || (Array.prototype.indexOf = function(e) {
var n = m && "[object String]" === p(this) ? this.split("") : P(this), i = n.length >>> 0;
if (!i) return -1;
var r = 0;
for (arguments.length > 1 && (r = t(arguments[1])), r = r >= 0 ? r : Math.max(0, i + r); r < i; r++) if (r in n && n[r] === e) return r;
return -1;
}), Array.prototype.lastIndexOf && -1 === [ 0, 1 ].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(e) {
var n = m && "[object String]" === p(this) ? this.split("") : P(this), i = n.length >>> 0;
if (!i) return -1;
var r = i - 1;
for (arguments.length > 1 && (r = Math.min(r, t(arguments[1]))), r = r >= 0 ? r : i - Math.abs(r); r >= 0; r--) if (r in n && e === n[r]) return r;
return -1;
}), !Object.keys) {
var b = !{
toString: null
}.propertyIsEnumerable("toString"), _ = function() {}.propertyIsEnumerable("prototype"), w = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ], C = w.length, x = function(e) {
var t = p(e), n = "[object Arguments]" === t;
return n || (n = !Array.isArray(t) && null !== e && "object" == typeof e && "number" == typeof e.length && e.length >= 0 && d(e.callee)), n;
};
Object.keys = function(e) {
var t = d(e), n = x(e), i = null !== e && "object" == typeof e, r = i && "[object String]" === p(e);
if (!i && !t && !n) throw new TypeError("Object.keys called on a non-object");
var o = [], a = _ && t;
if (r || n) for (var s = 0; s < e.length; ++s) o.push(String(s)); else for (var l in e) a && "prototype" === l || !f(e, l) || o.push(String(l));
if (b) for (var c = e.constructor, u = c && c.prototype === e, h = 0; h < C; h++) {
var g = w[h];
u && "constructor" === g || !f(e, g) || o.push(g);
}
return o;
};
}
Date.prototype.toISOString && -1 !== new Date(-621987552e5).toISOString().indexOf("-000001") || (Date.prototype.toISOString = function() {
var e, t, n, i, r;
if (!isFinite(this)) throw new RangeError("Date.prototype.toISOString called on non-finite value.");
for (i = this.getUTCFullYear(), r = this.getUTCMonth(), i += Math.floor(r / 12), e = [ (r = (r % 12 + 12) % 12) + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds() ], i = (i < 0 ? "-" : i > 9999 ? "+" : "") + ("00000" + Math.abs(i)).slice(0 <= i && i <= 9999 ? -4 : -6), t = e.length; t--; ) (n = e[t]) < 10 && (e[t] = "0" + n);
return i + "-" + e.slice(0, 2).join("-") + "T" + e.slice(2).join(":") + "." + ("000" + this.getUTCMilliseconds()).slice(-3) + "Z";
});
var S = !1;
try {
S = Date.prototype.toJSON && null === new Date(NaN).toJSON() && -1 !== new Date(-621987552e5).toJSON().indexOf("-000001") && Date.prototype.toJSON.call({
toISOString: function() {
return !0;
}
});
} catch (e) {}
S || (Date.prototype.toJSON = function(e) {
var t, n = Object(this), r = i(n);
if ("number" == typeof r && !isFinite(r)) return null;
if ("function" != typeof (t = n.toISOString)) throw new TypeError("toISOString property is not callable");
return t.call(n);
});
var $ = 1e15 === Date.parse("+033658-09-27T01:46:40.000Z"), A = !isNaN(Date.parse("2012-04-04T24:00:00.500Z")) || !isNaN(Date.parse("2012-11-31T23:59:59.000Z")), k = isNaN(Date.parse("2000-01-01T00:00:00.000Z"));
Date.parse && !k && !A && $ || (Date = function(e) {
function t(n, i, r, o, a, s, l) {
var c = arguments.length;
if (this instanceof e) {
var u = 1 === c && String(n) === n ? new e(t.parse(n)) : c >= 7 ? new e(n, i, r, o, a, s, l) : c >= 6 ? new e(n, i, r, o, a, s) : c >= 5 ? new e(n, i, r, o, a) : c >= 4 ? new e(n, i, r, o) : c >= 3 ? new e(n, i, r) : c >= 2 ? new e(n, i) : c >= 1 ? new e(n) : new e();
return u.constructor = t, u;
}
return e.apply(this, arguments);
}
function n(e, t) {
var n = t > 1 ? 1 : 0;
return o[t] + Math.floor((e - 1969 + n) / 4) - Math.floor((e - 1901 + n) / 100) + Math.floor((e - 1601 + n) / 400) + 365 * (e - 1970);
}
function i(t) {
return Number(new e(1970, 0, 1, 0, 0, 0, t));
}
var r = new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"), o = [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 ];
for (var a in e) t[a] = e[a];
return t.now = e.now, t.UTC = e.UTC, t.prototype = e.prototype, t.prototype.constructor = t, t.parse = function(t) {
var o = r.exec(t);
if (o) {
var a, s = Number(o[1]), l = Number(o[2] || 1) - 1, c = Number(o[3] || 1) - 1, u = Number(o[4] || 0), d = Number(o[5] || 0), h = Number(o[6] || 0), f = Math.floor(1e3 * Number(o[7] || 0)), p = Boolean(o[4] && !o[8]), g = "-" === o[9] ? 1 : -1, m = Number(o[10] || 0), v = Number(o[11] || 0);
return u < (d > 0 || h > 0 || f > 0 ? 24 : 25) && d < 60 && h < 60 && f < 1e3 && l > -1 && l < 12 && m < 24 && v < 60 && c > -1 && c < n(s, l + 1) - n(s, l) && (a = 60 * (24 * (n(s, l) + c) + u + m * g), a = 1e3 * (60 * (a + d + v * g) + h) + f, p && (a = i(a)), -864e13 <= a && a <= 864e13) ? a : NaN;
}
return e.parse.apply(this, arguments);
}, t;
}(Date)), Date.now || (Date.now = function() {
return new Date().getTime();
}), Number.prototype.toFixed && "0.000" === 8e-5.toFixed(3) && "0" !== .9.toFixed(0) && "1.25" === 1.255.toFixed(2) && "1000000000000000128" === (0xde0b6b3a7640080).toFixed(0) || function() {
function e(e, t) {
for (var n = -1; ++n < a; ) t += e * s[n], s[n] = t % o, t = Math.floor(t / o);
}
function t(e) {
for (var t = a, n = 0; --t >= 0; ) n += s[t], s[t] = Math.floor(n / e), n = n % e * o;
}
function n() {
for (var e = a, t = ""; --e >= 0; ) if ("" !== t || 0 === e || 0 !== s[e]) {
var n = String(s[e]);
"" === t ? t = n : t += "0000000".slice(0, 7 - n.length) + n;
}
return t;
}
function i(e, t, n) {
return 0 === t ? n : t % 2 == 1 ? i(e, t - 1, n * e) : i(e * e, t / 2, n);
}
function r(e) {
for (var t = 0; e >= 4096; ) t += 12, e /= 4096;
for (;e >= 2; ) t += 1, e /= 2;
return t;
}
var o, a, s;
o = 1e7, a = 6, s = [ 0, 0, 0, 0, 0, 0 ], Number.prototype.toFixed = function(o) {
var a, s, l, c, u, d, h, f;
if (a = Number(o), (a = a !== a ? 0 : Math.floor(a)) < 0 || a > 20) throw new RangeError("Number.toFixed called with invalid number of decimals");
if ((s = Number(this)) !== s) return "NaN";
if (s <= -1e21 || s >= 1e21) return String(s);
if (l = "", s < 0 && (l = "-", s = -s), c = "0", s > 1e-21) if (u = r(s * i(2, 69, 1)) - 69, d = u < 0 ? s * i(2, -u, 1) : s / i(2, u, 1), d *= 4503599627370496, (u = 52 - u) > 0) {
for (e(0, d), h = a; h >= 7; ) e(1e7, 0), h -= 7;
for (e(i(10, h, 1), 0), h = u - 1; h >= 23; ) t(1 << 23), h -= 23;
t(1 << h), e(1, 1), t(2), c = n();
} else e(0, d), e(1 << -u, 0), c = n() + "0.00000000000000000000".slice(2, 2 + a);
return c = a > 0 ? (f = c.length) <= a ? l + "0.0000000000000000000".slice(0, a - f + 2) + c : l + c.slice(0, f - a) + "." + c.slice(f - a) : l + c;
};
}();
var T = String.prototype.split;
2 !== "ab".split(/(?:ab)*/).length || 4 !== ".".split(/(.?)(.?)/).length || "t" === "tesst".split(/(s)*/)[1] || "".split(/.?/).length || ".".split(/()()/).length > 1 ? function() {
var e = void 0 === /()??/.exec("")[1];
String.prototype.split = function(t, n) {
var i = this;
if (void 0 === t && 0 === n) return [];
if ("[object RegExp]" !== Object.prototype.toString.call(t)) return T.apply(this, arguments);
var r, o, a, s, l = [], c = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.extended ? "x" : "") + (t.sticky ? "y" : ""), u = 0;
for (t = new RegExp(t.source, c + "g"), i += "", e || (r = new RegExp("^" + t.source + "$(?!\\s)", c)), n = void 0 === n ? -1 >>> 0 : n >>> 0; (o = t.exec(i)) && !((a = o.index + o[0].length) > u && (l.push(i.slice(u, o.index)), !e && o.length > 1 && o[0].replace(r, function() {
for (var e = 1; e < arguments.length - 2; e++) void 0 === arguments[e] && (o[e] = void 0);
}), o.length > 1 && o.index < i.length && Array.prototype.push.apply(l, o.slice(1)), s = o[0].length, u = a, l.length >= n)); ) t.lastIndex === o.index && t.lastIndex++;
return u === i.length ? !s && t.test("") || l.push("") : l.push(i.slice(u)), l.length > n ? l.slice(0, n) : l;
};
}() : "0".split(void 0, 0).length && (String.prototype.split = function(e, t) {
return void 0 === e && 0 === t ? [] : T.apply(this, arguments);
});
var D = String.prototype.replace;
if (function() {
var e = [];
return "x".replace(/x(.)?/g, function(t, n) {
e.push(n);
}), 1 === e.length && void 0 === e[0];
}() || (String.prototype.replace = function(e, t) {
var n = d(t), i = h(e) && /\)[*?]/.test(e.source);
if (n && i) {
return D.call(this, e, function(n) {
var i = arguments.length, r = e.lastIndex;
e.lastIndex = 0;
var o = e.exec(n);
return e.lastIndex = r, o.push(arguments[i - 2], arguments[i - 1]), t.apply(this, o);
});
}
return D.apply(this, arguments);
}), "".substr && "b" !== "0b".substr(-1)) {
var E = String.prototype.substr;
String.prototype.substr = function(e, t) {
return E.call(this, e < 0 && (e = this.length + e) < 0 ? 0 : e, t);
};
}
var F = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";
if (!String.prototype.trim || F.trim() || !"​".trim()) {
F = "[" + F + "]";
var M = new RegExp("^" + F + F + "*"), I = new RegExp(F + F + "*$");
String.prototype.trim = function() {
if (void 0 === this || null === this) throw new TypeError("can't convert " + this + " to object");
return String(this).replace(M, "").replace(I, "");
};
}
8 === parseInt(F + "08") && 22 === parseInt(F + "0x16") || (parseInt = function(e) {
var t = /^0[xX]/;
return function(n, i) {
return n = String(n).trim(), Number(i) || (i = t.test(n) ? 16 : 10), e(n, i);
};
}(parseInt));
var P = function(e) {
if (null == e) throw new TypeError("can't convert " + e + " to object");
return Object(e);
};
}), function(e, t) {
"use strict";
function n(e) {
return null != e && "" !== e && "hasOwnProperty" !== e && a.test("." + e);
}
function i(e, i) {
if (!n(i)) throw o("badmember", 'Dotted member path "@{0}" is invalid.', i);
for (var r = i.split("."), a = 0, s = r.length; a < s && t.isDefined(e); a++) {
var l = r[a];
e = null !== e ? e[l] : void 0;
}
return e;
}
function r(e, n) {
n = n || {}, t.forEach(n, function(e, t) {
delete n[t];
});
for (var i in e) !e.hasOwnProperty(i) || "$" === i.charAt(0) && "$" === i.charAt(1) || (n[i] = e[i]);
return n;
}
var o = t.$$minErr("$resource"), a = /^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;
t.module("ngResource", [ "ng" ]).provider("$resource", function() {
var e = /^https?:\/\/[^/]*/, n = this;
this.defaults = {
stripTrailingSlashes: !0,
cancellable: !1,
actions: {
get: {
method: "GET"
},
save: {
method: "POST"
},
query: {
method: "GET",
isArray: !0
},
remove: {
method: "DELETE"
},
delete: {
method: "DELETE"
}
}
}, this.$get = [ "$http", "$log", "$q", "$timeout", function(a, s, l, c) {
function u(e) {
return d(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+");
}
function d(e, t) {
return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, t ? "%20" : "+");
}
function h(e, t) {
this.template = e, this.defaults = m({}, n.defaults, t), this.urlParams = {};
}
function f(e, t, u, d) {
function C(e, n) {
var r = {};
return n = m({}, t, n), g(n, function(t, n) {
_(t) && (t = t(e)), r[n] = t && t.charAt && "@" === t.charAt(0) ? i(e, t.substr(1)) : t;
}), r;
}
function x(e) {
return e.resource;
}
function S(e) {
r(e || {}, this);
}
var $ = new h(e, d);
return u = m({}, n.defaults.actions, u), S.prototype.toJSON = function() {
var e = m({}, this);
return delete e.$promise, delete e.$resolved, delete e.$cancelRequest, e;
}, g(u, function(e, t) {
var n = /^(POST|PUT|PATCH)$/i.test(e.method), i = e.timeout, u = b(e.cancellable) ? e.cancellable : $.defaults.cancellable;
i && !w(i) && (s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."), delete e.timeout, i = null), S[t] = function(s, d, h, f) {
var b, w, A, k = {};
switch (arguments.length) {
case 4:
A = f, w = h;

case 3:
case 2:
if (!_(d)) {
k = s, b = d, w = h;
break;
}
if (_(s)) {
w = s, A = d;
break;
}
w = d, A = h;

case 1:
_(s) ? w = s : n ? b = s : k = s;
break;

case 0:
break;

default:
throw o("badargs", "Expected up to 4 arguments [params, data, success, error], got {0} arguments", arguments.length);
}
var T, D, E = this instanceof S, F = E ? b : e.isArray ? [] : new S(b), M = {}, I = e.interceptor && e.interceptor.response || x, P = e.interceptor && e.interceptor.responseError || void 0;
g(e, function(e, t) {
switch (t) {
default:
M[t] = v(e);
break;

case "params":
case "isArray":
case "interceptor":
case "cancellable":
}
}), !E && u && (T = l.defer(), M.timeout = T.promise, i && (D = c(T.resolve, i))), n && (M.data = b), $.setUrlParams(M, m({}, C(b, e.params || {}), k), e.url);
var L = a(M).then(function(n) {
var i = n.data;
if (i) {
if (y(i) !== !!e.isArray) throw o("badcfg", "Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})", t, e.isArray ? "array" : "object", y(i) ? "array" : "object", M.method, M.url);
if (e.isArray) F.length = 0, g(i, function(e) {
"object" == typeof e ? F.push(new S(e)) : F.push(e);
}); else {
var a = F.$promise;
r(i, F), F.$promise = a;
}
}
return n.resource = F, n;
}, function(e) {
return (A || p)(e), l.reject(e);
});
return L.finally(function() {
F.$resolved = !0, !E && u && (F.$cancelRequest = p, c.cancel(D), T = D = M.timeout = null);
}), L = L.then(function(e) {
var t = I(e);
return (w || p)(t, e.headers, e.status, e.statusText), t;
}, P), E ? L : (F.$promise = L, F.$resolved = !1, u && (F.$cancelRequest = T.resolve), F);
}, S.prototype["$" + t] = function(e, n, i) {
_(e) && (i = n, n = e, e = {});
var r = S[t].call(this, e, this, n, i);
return r.$promise || r;
};
}), S.bind = function(n) {
var i = m({}, t, n);
return f(e, i, u, d);
}, S;
}
var p = t.noop, g = t.forEach, m = t.extend, v = t.copy, y = t.isArray, b = t.isDefined, _ = t.isFunction, w = t.isNumber;
return h.prototype = {
setUrlParams: function(t, n, i) {
var r, a, s = this, l = i || s.template, c = "", h = s.urlParams = {};
g(l.split(/\W/), function(e) {
if ("hasOwnProperty" === e) throw o("badname", "hasOwnProperty is not a valid parameter name.");
!new RegExp("^\\d+$").test(e) && e && new RegExp("(^|[^\\\\]):" + e + "(\\W|$)").test(l) && (h[e] = {
isQueryParamValue: new RegExp("\\?.*=:" + e + "(?:\\W|$)").test(l)
});
}), l = l.replace(/\\:/g, ":"), l = l.replace(e, function(e) {
return c = e, "";
}), n = n || {}, g(s.urlParams, function(e, t) {
r = n.hasOwnProperty(t) ? n[t] : s.defaults[t], b(r) && null !== r ? (a = e.isQueryParamValue ? d(r, !0) : u(r), l = l.replace(new RegExp(":" + t + "(\\W|$)", "g"), function(e, t) {
return a + t;
})) : l = l.replace(new RegExp("(/?):" + t + "(\\W|$)", "g"), function(e, t, n) {
return "/" === n.charAt(0) ? n : t + n;
});
}), s.defaults.stripTrailingSlashes && (l = l.replace(/\/+$/, "") || "/"), l = l.replace(/\/\.(?=\w+($|\?))/, "."), t.url = c + l.replace(/\/\\\./, "/."), g(n, function(e, n) {
s.urlParams[n] || (t.params = t.params || {}, t.params[n] = e);
});
}
}, f;
} ];
});
}(window, window.angular), function(e, t) {
"use strict";
function n(e, n, i) {
function r(e, i, r) {
var a, s;
s = (r = r || {}).expires, a = t.isDefined(r.path) ? r.path : o, t.isUndefined(i) && (s = "Thu, 01 Jan 1970 00:00:00 GMT", i = ""), t.isString(s) && (s = new Date(s));
var l = encodeURIComponent(e) + "=" + encodeURIComponent(i);
l += a ? ";path=" + a : "", l += r.domain ? ";domain=" + r.domain : "", l += s ? ";expires=" + s.toUTCString() : "";
var c = (l += r.secure ? ";secure" : "").length + 1;
return c > 4096 && n.warn("Cookie '" + e + "' possibly not set or overflowed because it was too large (" + c + " > 4096 bytes)!"), l;
}
var o = i.baseHref(), a = e[0];
return function(e, t, n) {
a.cookie = r(e, t, n);
};
}
t.module("ngCookies", [ "ng" ]).provider("$cookies", [ function() {
function e(e) {
return e ? t.extend({}, n, e) : n;
}
var n = this.defaults = {};
this.$get = [ "$$cookieReader", "$$cookieWriter", function(n, i) {
return {
get: function(e) {
return n()[e];
},
getObject: function(e) {
var n = this.get(e);
return n ? t.fromJson(n) : n;
},
getAll: function() {
return n();
},
put: function(t, n, r) {
i(t, n, e(r));
},
putObject: function(e, n, i) {
this.put(e, t.toJson(n), i);
},
remove: function(t, n) {
i(t, void 0, e(n));
}
};
} ];
} ]), t.module("ngCookies").factory("$cookieStore", [ "$cookies", function(e) {
return {
get: function(t) {
return e.getObject(t);
},
put: function(t, n) {
e.putObject(t, n);
},
remove: function(t) {
e.remove(t);
}
};
} ]), n.$inject = [ "$document", "$log", "$browser" ], t.module("ngCookies").provider("$$cookieWriter", function() {
this.$get = n;
});
}(window, window.angular), function(e, t) {
"use strict";
function n(e) {
var t = [];
return u(t, l).chars(e), t.join("");
}
var i, r, o, a, s, l, c, u, d = t.$$minErr("$sanitize");
t.module("ngSanitize", []).provider("$sanitize", function() {
function n(e, t) {
var n, i = {}, r = e.split(",");
for (n = 0; n < r.length; n++) i[t ? s(r[n]) : r[n]] = !0;
return i;
}
function h(e) {
for (var t = {}, n = 0, i = e.length; n < i; n++) {
var r = e[n];
t[r.name] = r.value;
}
return t;
}
function f(e) {
return e.replace(/&/g, "&amp;").replace(v, function(e) {
return "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";";
}).replace(y, function(e) {
return "&#" + e.charCodeAt(0) + ";";
}).replace(/</g, "&lt;").replace(/>/g, "&gt;");
}
function p(t) {
for (;t; ) {
if (t.nodeType === e.Node.ELEMENT_NODE) for (var n = t.attributes, i = 0, r = n.length; i < r; i++) {
var o = n[i], a = o.name.toLowerCase();
"xmlns:ns1" !== a && 0 !== a.lastIndexOf("ns1:", 0) || (t.removeAttributeNode(o), i--, r--);
}
var s = t.firstChild;
s && p(s), t = t.nextSibling;
}
}
var g = !1;
this.$get = [ "$$sanitizeUri", function(e) {
return g && r(k, $), function(t) {
var n = [];
return c(t, u(n, function(t, n) {
return !/^unsafe:/.test(e(t, n));
})), n.join("");
};
} ], this.enableSvg = function(e) {
return a(e) ? (g = e, this) : g;
}, i = t.bind, r = t.extend, o = t.forEach, a = t.isDefined, s = t.lowercase, l = t.noop, c = function(t, n) {
null === t || void 0 === t ? t = "" : "string" != typeof t && (t = "" + t), m.innerHTML = t;
var i = 5;
do {
if (0 === i) throw d("uinput", "Failed to sanitize html because the input is unstable");
i--, e.document.documentMode && p(m), t = m.innerHTML, m.innerHTML = t;
} while (t !== m.innerHTML);
for (var r = m.firstChild; r; ) {
switch (r.nodeType) {
case 1:
n.start(r.nodeName.toLowerCase(), h(r.attributes));
break;

case 3:
n.chars(r.textContent);
}
var o;
if (!((o = r.firstChild) || (1 === r.nodeType && n.end(r.nodeName.toLowerCase()), o = r.nextSibling))) for (;null == o && (r = r.parentNode) !== m; ) o = r.nextSibling, 1 === r.nodeType && n.end(r.nodeName.toLowerCase());
r = o;
}
for (;r = m.firstChild; ) m.removeChild(r);
}, u = function(e, t) {
var n = !1, r = i(e, e.push);
return {
start: function(e, i) {
e = s(e), !n && A[e] && (n = e), n || !0 !== k[e] || (r("<"), r(e), o(i, function(n, i) {
var o = s(i), a = "img" === e && "src" === o || "background" === o;
!0 !== F[o] || !0 === T[o] && !t(n, a) || (r(" "), r(i), r('="'), r(f(n)), r('"'));
}), r(">"));
},
end: function(e) {
e = s(e), n || !0 !== k[e] || !0 === b[e] || (r("</"), r(e), r(">")), e == n && (n = !1);
},
chars: function(e) {
n || r(f(e));
}
};
};
var m, v = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, y = /([^#-~ |!])/g, b = n("area,br,col,hr,img,wbr"), _ = n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), w = n("rp,rt"), C = r({}, w, _), x = r({}, _, n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")), S = r({}, w, n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")), $ = n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"), A = n("script,style"), k = r({}, b, x, S, C), T = n("background,cite,href,longdesc,src,xlink:href"), D = n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"), E = n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan", !0), F = r({}, T, E, D);
!function(e) {
var t;
if (!e.document || !e.document.implementation) throw d("noinert", "Can't create an inert html document");
var n = ((t = e.document.implementation.createHTMLDocument("inert")).documentElement || t.getDocumentElement()).getElementsByTagName("body");
if (1 === n.length) m = n[0]; else {
var i = t.createElement("html");
m = t.createElement("body"), i.appendChild(m), t.appendChild(i);
}
}(e);
}), t.module("ngSanitize").filter("linky", [ "$sanitize", function(e) {
var i = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i, r = /^mailto:/i, o = t.$$minErr("linky"), a = t.isDefined, s = t.isFunction, l = t.isObject, c = t.isString;
return function(t, u, d) {
function h(e) {
e && y.push(n(e));
}
if (null == t || "" === t) return t;
if (!c(t)) throw o("notstring", "Expected string but received: {0}", t);
for (var f, p, g, m = s(d) ? d : l(d) ? function() {
return d;
} : function() {
return {};
}, v = t, y = []; f = v.match(i); ) p = f[0], f[2] || f[4] || (p = (f[3] ? "http://" : "mailto:") + p), g = f.index, h(v.substr(0, g)), function(e, t) {
var n, i = m(e);
y.push("<a ");
for (n in i) y.push(n + '="' + i[n] + '" ');
!a(u) || "target" in i || y.push('target="', u, '" '), y.push('href="', e.replace(/"/g, "&quot;"), '">'), h(t), y.push("</a>");
}(p, f[0].replace(r, "")), v = v.substring(g + f[0].length);
return h(v), e(y.join(""));
};
} ]);
}(window, window.angular), function(e, t) {
"use strict";
function n(e, t, n) {
if (!e) throw le("areq", "Argument '{0}' is {1}", t || "?", n || "required");
return e;
}
function i(e, t) {
return e || t ? e ? t ? (q(e) && (e = e.join(" ")), q(t) && (t = t.join(" ")), e + " " + t) : e : t : "";
}
function r(e) {
var t = {};
return e && (e.to || e.from) && (t.to = e.to, t.from = e.from), t;
}
function o(e, t, n) {
var i = "";
return e = q(e) ? e : e && Q(e) && e.length ? e.split(/\s+/) : [], W(e, function(e, r) {
e && e.length > 0 && (i += r > 0 ? " " : "", i += n ? t + e : e + t);
}), i;
}
function a(e, t) {
var n = e.indexOf(t);
t >= 0 && e.splice(n, 1);
}
function s(e) {
if (e instanceof Z) switch (e.length) {
case 0:
return e;

case 1:
if (e[0].nodeType === R) return e;
break;

default:
return Z(l(e));
}
if (e.nodeType === R) return Z(e);
}
function l(e) {
if (!e[0]) return e;
for (var t = 0; t < e.length; t++) {
var n = e[t];
if (n.nodeType === R) return n;
}
}
function c(e, t, n) {
W(t, function(t) {
e.addClass(t, n);
});
}
function u(e, t, n) {
W(t, function(t) {
e.removeClass(t, n);
});
}
function d(e) {
return function(t, n) {
n.addClass && (c(e, t, n.addClass), n.addClass = null), n.removeClass && (u(e, t, n.removeClass), n.removeClass = null);
};
}
function h(e) {
if (!(e = e || {}).$$prepared) {
var t = e.domOperation || ee;
e.domOperation = function() {
e.$$domOperationFired = !0, t(), t = ee;
}, e.$$prepared = !0;
}
return e;
}
function f(e, t) {
p(e, t), g(e, t);
}
function p(e, t) {
t.from && (e.css(t.from), t.from = null);
}
function g(e, t) {
t.to && (e.css(t.to), t.to = null);
}
function m(e, t, n) {
var i = t.options || {}, r = n.options || {}, o = (i.addClass || "") + " " + (r.addClass || ""), a = (i.removeClass || "") + " " + (r.removeClass || ""), s = v(e.attr("class"), o, a);
r.preparationClasses && (i.preparationClasses = S(r.preparationClasses, i.preparationClasses), delete r.preparationClasses);
var l = i.domOperation !== ee ? i.domOperation : null;
return z(i, r), l && (i.domOperation = l), s.addClass ? i.addClass = s.addClass : i.addClass = null, s.removeClass ? i.removeClass = s.removeClass : i.removeClass = null, t.addClass = i.addClass, t.removeClass = i.removeClass, i;
}
function v(e, t, n) {
function i(e) {
Q(e) && (e = e.split(" "));
var t = {};
return W(e, function(e) {
e.length && (t[e] = !0);
}), t;
}
var r = {};
e = i(e), t = i(t), W(t, function(e, t) {
r[t] = 1;
}), n = i(n), W(n, function(e, t) {
r[t] = 1 === r[t] ? null : -1;
});
var o = {
addClass: "",
removeClass: ""
};
return W(r, function(t, n) {
var i, r;
1 === t ? (i = "addClass", r = !e[n] || e[n + B]) : -1 === t && (i = "removeClass", r = e[n] || e[n + N]), r && (o[i].length && (o[i] += " "), o[i] += n);
}), o;
}
function y(e) {
return e instanceof Z ? e[0] : e;
}
function b(e, t, n) {
var i = "";
t && (i = o(t, j, !0)), n.addClass && (i = S(i, o(n.addClass, N))), n.removeClass && (i = S(i, o(n.removeClass, B))), i.length && (n.preparationClasses = i, e.addClass(i));
}
function _(e, t) {
t.preparationClasses && (e.removeClass(t.preparationClasses), t.preparationClasses = null), t.activeClasses && (e.removeClass(t.activeClasses), t.activeClasses = null);
}
function w(e, t) {
var n = t ? "-" + t + "s" : "";
return x(e, [ ae, n ]), [ ae, n ];
}
function C(e, t) {
var n = t ? "paused" : "", i = L + ie;
return x(e, [ i, n ]), [ i, n ];
}
function x(e, t) {
var n = t[0], i = t[1];
e.style[n] = i;
}
function S(e, t) {
return e ? t ? e + " " + t : e : t;
}
function $(e) {
return [ oe, e + "s" ];
}
function A(e, t) {
return [ t ? re : ae, e + "s" ];
}
function k(e, t, n) {
var i = Object.create(null), r = e.getComputedStyle(t) || {};
return W(n, function(e, t) {
var n = r[e];
if (n) {
var o = n.charAt(0);
("-" === o || "+" === o || o >= 0) && (n = T(n)), 0 === n && (n = null), i[t] = n;
}
}), i;
}
function T(e) {
var t = 0, n = e.split(/\s*,\s*/);
return W(n, function(e) {
"s" === e.charAt(e.length - 1) && (e = e.substring(0, e.length - 1)), e = parseFloat(e) || 0, t = t ? Math.max(e, t) : e;
}), t;
}
function D(e) {
return 0 === e || null != e;
}
function E(e, t) {
var n = I, i = e + "s";
return t ? n += te : i += " linear all", [ n, i ];
}
function F() {
var e = Object.create(null);
return {
flush: function() {
e = Object.create(null);
},
count: function(t) {
var n = e[t];
return n ? n.total : 0;
},
get: function(t) {
var n = e[t];
return n && n.value;
},
put: function(t, n) {
e[t] ? e[t].total++ : e[t] = {
total: 1,
value: n
};
}
};
}
function M(e, t, n) {
W(n, function(n) {
e[n] = G(e[n]) ? e[n] : t.style.getPropertyValue(n);
});
}
var I, P, L, O, R = 1, N = "-add", B = "-remove", j = "ng-", H = "ng-animate", V = "$$ngAnimateChildren";
void 0 === e.ontransitionend && void 0 !== e.onwebkittransitionend ? ("-webkit-", I = "WebkitTransition", P = "webkitTransitionEnd transitionend") : (I = "transition", P = "transitionend"), void 0 === e.onanimationend && void 0 !== e.onwebkitanimationend ? ("-webkit-", L = "WebkitAnimation", O = "webkitAnimationEnd animationend") : (L = "animation", O = "animationend");
var U, z, W, q, G, Y, K, X, Q, J, Z, ee, te = "Duration", ne = "TimingFunction", ie = "PlayState", re = L + "Delay", oe = L + te, ae = I + "Delay", se = I + te, le = t.$$minErr("ng"), ce = [ "$$rAF", function(e) {
function t(e) {
i = i.concat(e), n();
}
function n() {
if (i.length) {
for (var t = i.shift(), o = 0; o < t.length; o++) t[o]();
r || e(function() {
r || n();
});
}
}
var i, r;
return i = t.queue = [], t.waitUntilQuiet = function(t) {
r && r(), r = e(function() {
r = null, t(), n();
});
}, t;
} ], ue = [ "$interpolate", function(e) {
return {
link: function(t, n, i) {
function r(e) {
e = "on" === e || "true" === e, n.data(V, e);
}
var o = i.ngAnimateChildren;
Q(o) && 0 === o.length ? n.data(V, !0) : (r(e(o)(t)), i.$observe("ngAnimateChildren", r));
}
};
} ], de = "$$animateCss", he = 1e3, fe = 3, pe = 1.5, ge = {
transitionDuration: se,
transitionDelay: ae,
transitionProperty: I + "Property",
animationDuration: oe,
animationDelay: re,
animationIterationCount: L + "IterationCount"
}, me = {
transitionDuration: se,
transitionDelay: ae,
animationDuration: oe,
animationDelay: re
}, ve = [ "$animateProvider", function(e) {
var t = F(), n = F();
this.$get = [ "$window", "$$jqLite", "$$AnimateRunner", "$timeout", "$$forceReflow", "$sniffer", "$$rAFScheduler", "$$animateQueue", function(e, i, s, l, c, u, m, v) {
function b(e, t) {
var n = "$$ngAnimateParentKey", i = e.parentNode;
return (i[n] || (i[n] = ++H)) + "-" + e.getAttribute("class") + "-" + t;
}
function _(n, i, r, o) {
var a = t.get(r);
return a || "infinite" === (a = k(e, n, o)).animationIterationCount && (a.animationIterationCount = 1), t.put(r, a), a;
}
function S(r, a, s, l) {
var c;
if (t.count(s) > 0 && !(c = n.get(s))) {
var u = o(a, "-stagger");
i.addClass(r, u), (c = k(e, r, l)).animationDuration = Math.max(c.animationDuration, 0), c.transitionDuration = Math.max(c.transitionDuration, 0), i.removeClass(r, u), n.put(s, c);
}
return c || {};
}
function T(e) {
V.push(e), m.waitUntilQuiet(function() {
t.flush(), n.flush();
for (var e = c(), i = 0; i < V.length; i++) V[i](e);
V.length = 0;
});
}
function F(e, t, n) {
var i = _(e, t, n, ge), r = i.animationDelay, o = i.transitionDelay;
return i.maxDelay = r && o ? Math.max(r, o) : r || o, i.maxDuration = Math.max(i.animationDuration * i.animationIterationCount, i.transitionDuration), i;
}
var R = d(i), H = 0, V = [];
return function(e, n) {
function c() {
m();
}
function d() {
m(!0);
}
function m(t) {
if (!(K || Q && X)) {
K = !0, X = !1, z.$$skipPreparationClasses || i.removeClass(e, be), i.removeClass(e, we), C(Y, !1), w(Y, !1), W(se, function(e) {
Y.style[e[0]] = "";
}), R(e, z), f(e, z), Object.keys(G).length && W(G, function(e, t) {
e ? Y.style.setProperty(t, e) : Y.style.removeProperty(t);
}), z.onDone && z.onDone(), ue && ue.length && e.off(ue.join(" "), H);
var n = e.data(de);
n && (l.cancel(n[0].timer), e.removeData(de)), J && J.complete(!t);
}
}
function _(e) {
Pe.blockTransition && w(Y, e), Pe.blockKeyframeAnimation && C(Y, !!e);
}
function k() {
return J = new s({
end: c,
cancel: d
}), T(ee), m(), {
$$willAnimate: !1,
start: function() {
return J;
},
end: c
};
}
function H(e) {
e.stopPropagation();
var t = e.originalEvent || e, n = t.$manualTimeStamp || Date.now(), i = parseFloat(t.elapsedTime.toFixed(fe));
Math.max(n - ae, 0) >= ie && i >= re && (Q = !0, m());
}
function V() {
function t() {
if (!K) {
if (_(!1), W(se, function(e) {
var t = e[0], n = e[1];
Y.style[t] = n;
}), R(e, z), i.addClass(e, we), Pe.recalculateTimingStyles) {
if (_e = Y.className + " " + be, xe = b(Y, _e), Me = F(Y, _e, xe), Ie = Me.maxDelay, te = Math.max(Ie, 0), 0 === (re = Me.maxDuration)) return void m();
Pe.hasTransitions = Me.transitionDuration > 0, Pe.hasAnimations = Me.animationDuration > 0;
}
if (Pe.applyAnimationDelay && (Ie = "boolean" != typeof z.delay && D(z.delay) ? parseFloat(z.delay) : Ie, te = Math.max(Ie, 0), Me.animationDelay = Ie, Le = A(Ie, !0), se.push(Le), Y.style[Le[0]] = Le[1]), ie = te * he, oe = re * he, z.easing) {
var t, r = z.easing;
Pe.hasTransitions && (t = I + ne, se.push([ t, r ]), Y.style[t] = r), Pe.hasAnimations && (t = L + ne, se.push([ t, r ]), Y.style[t] = r);
}
Me.transitionDuration && ue.push(P), Me.animationDuration && ue.push(O), ae = Date.now();
var o = ie + pe * oe, a = ae + o, s = e.data(de) || [], c = !0;
if (s.length) {
var u = s[0];
(c = a > u.expectedEndTime) ? l.cancel(u.timer) : s.push(m);
}
if (c) {
var d = l(n, o, !1);
s[0] = {
timer: d,
expectedEndTime: a
}, s.push(m), e.data(de, s);
}
ue.length && e.on(ue.join(" "), H), z.to && (z.cleanupStyles && M(G, Y, Object.keys(z.to)), g(e, z));
}
}
function n() {
var t = e.data(de);
if (t) {
for (var n = 1; n < t.length; n++) t[n]();
e.removeData(de);
}
}
if (!K) if (Y.parentNode) {
var r = function(e) {
if (Q) X && e && (X = !1, m()); else if (X = !e, Me.animationDuration) {
var t = C(Y, X);
X ? se.push(t) : a(se, t);
}
}, o = Ee > 0 && (Me.transitionDuration && 0 === Se.transitionDuration || Me.animationDuration && 0 === Se.animationDuration) && Math.max(Se.animationDelay, Se.transitionDelay);
o ? l(t, Math.floor(o * Ee * he), !1) : t(), Z.resume = function() {
r(!0);
}, Z.pause = function() {
r(!1);
};
} else m();
}
var z = n || {};
z.$$prepared || (z = h(U(z)));
var G = {}, Y = y(e);
if (!Y || !Y.parentNode || !v.enabled()) return k();
var K, X, Q, J, Z, te, ie, re, oe, ae, se = [], le = e.attr("class"), ce = r(z), ue = [];
if (0 === z.duration || !u.animations && !u.transitions) return k();
var ge = z.event && q(z.event) ? z.event.join(" ") : z.event, ve = "", ye = "";
ge && z.structural ? ve = o(ge, j, !0) : ge && (ve = ge), z.addClass && (ye += o(z.addClass, N)), z.removeClass && (ye.length && (ye += " "), ye += o(z.removeClass, B)), z.applyClassesEarly && ye.length && R(e, z);
var be = [ ve, ye ].join(" ").trim(), _e = le + " " + be, we = o(be, "-active"), Ce = ce.to && Object.keys(ce.to).length > 0;
if (!((z.keyframeStyle || "").length > 0) && !Ce && !be) return k();
var xe, Se;
if (z.stagger > 0) {
var $e = parseFloat(z.stagger);
Se = {
transitionDelay: $e,
animationDelay: $e,
transitionDuration: 0,
animationDuration: 0
};
} else xe = b(Y, _e), Se = S(Y, be, xe, me);
z.$$skipPreparationClasses || i.addClass(e, be);
var Ae;
if (z.transitionStyle) {
var ke = [ I, z.transitionStyle ];
x(Y, ke), se.push(ke);
}
if (z.duration >= 0) {
Ae = Y.style[I].length > 0;
var Te = E(z.duration, Ae);
x(Y, Te), se.push(Te);
}
if (z.keyframeStyle) {
var De = [ L, z.keyframeStyle ];
x(Y, De), se.push(De);
}
var Ee = Se ? z.staggerIndex >= 0 ? z.staggerIndex : t.count(xe) : 0, Fe = 0 === Ee;
Fe && !z.skipBlocking && w(Y, 9999);
var Me = F(Y, _e, xe), Ie = Me.maxDelay;
te = Math.max(Ie, 0), re = Me.maxDuration;
var Pe = {};
if (Pe.hasTransitions = Me.transitionDuration > 0, Pe.hasAnimations = Me.animationDuration > 0, Pe.hasTransitionAll = Pe.hasTransitions && "all" === Me.transitionProperty, Pe.applyTransitionDuration = Ce && (Pe.hasTransitions && !Pe.hasTransitionAll || Pe.hasAnimations && !Pe.hasTransitions), Pe.applyAnimationDuration = z.duration && Pe.hasAnimations, Pe.applyTransitionDelay = D(z.delay) && (Pe.applyTransitionDuration || Pe.hasTransitions), Pe.applyAnimationDelay = D(z.delay) && Pe.hasAnimations, Pe.recalculateTimingStyles = ye.length > 0, (Pe.applyTransitionDuration || Pe.applyAnimationDuration) && (re = z.duration ? parseFloat(z.duration) : re, Pe.applyTransitionDuration && (Pe.hasTransitions = !0, Me.transitionDuration = re, Ae = Y.style[I + "Property"].length > 0, se.push(E(re, Ae))), Pe.applyAnimationDuration && (Pe.hasAnimations = !0, Me.animationDuration = re, se.push($(re)))), 0 === re && !Pe.recalculateTimingStyles) return k();
if (null != z.delay) {
var Le;
"boolean" != typeof z.delay && (Le = parseFloat(z.delay), te = Math.max(Le, 0)), Pe.applyTransitionDelay && se.push(A(Le)), Pe.applyAnimationDelay && se.push(A(Le, !0));
}
return null == z.duration && Me.transitionDuration > 0 && (Pe.recalculateTimingStyles = Pe.recalculateTimingStyles || Fe), ie = te * he, oe = re * he, z.skipBlocking || (Pe.blockTransition = Me.transitionDuration > 0, Pe.blockKeyframeAnimation = Me.animationDuration > 0 && Se.animationDelay > 0 && 0 === Se.animationDuration), z.from && (z.cleanupStyles && M(G, Y, Object.keys(z.from)), p(e, z)), Pe.blockTransition || Pe.blockKeyframeAnimation ? _(re) : z.skipBlocking || w(Y, !1), {
$$willAnimate: !0,
end: c,
start: function() {
if (!K) return Z = {
end: c,
cancel: d,
resume: null,
pause: null
}, J = new s(Z), T(V), J;
}
};
};
} ];
} ], ye = [ "$$animationProvider", function(e) {
function t(e) {
return e.parentNode && 11 === e.parentNode.nodeType;
}
e.drivers.push("$$animateCssDriver");
var n = "ng-animate-shim", i = "ng-anchor", r = "ng-anchor-out", o = "ng-anchor-in";
this.$get = [ "$animateCss", "$rootScope", "$$AnimateRunner", "$rootElement", "$sniffer", "$$jqLite", "$document", function(e, a, s, l, c, u, d) {
function h(e) {
return e.replace(/\bng-\S+\b/g, "");
}
function f(e, t) {
return Q(e) && (e = e.split(" ")), Q(t) && (t = t.split(" ")), e.filter(function(e) {
return -1 === t.indexOf(e);
}).join(" ");
}
function p(t, a, l) {
function c(e) {
var t = {}, n = y(e).getBoundingClientRect();
return W([ "width", "height", "top", "left" ], function(e) {
var i = n[e];
switch (e) {
case "top":
i += v.scrollTop;
break;

case "left":
i += v.scrollLeft;
}
t[e] = Math.floor(i) + "px";
}), t;
}
function u(e) {
return e.attr("class") || "";
}
function d() {
var t = h(u(l)), n = f(t, m), i = f(m, t), a = e(g, {
to: c(l),
addClass: o + " " + n,
removeClass: r + " " + i,
delay: !0
});
return a.$$willAnimate ? a : null;
}
function p() {
g.remove(), a.removeClass(n), l.removeClass(n);
}
var g = Z(y(a).cloneNode(!0)), m = h(u(g));
a.addClass(n), l.addClass(n), g.addClass(i), _.append(g);
var b, w = function() {
var t = e(g, {
addClass: r,
delay: !0,
from: c(a)
});
return t.$$willAnimate ? t : null;
}();
if (!w && !(b = d())) return p();
var C = w || b;
return {
start: function() {
function e() {
n && n.end();
}
var t, n = C.start();
return n.done(function() {
if (n = null, !b && (b = d())) return (n = b.start()).done(function() {
n = null, p(), t.complete();
}), n;
p(), t.complete();
}), t = new s({
end: e,
cancel: e
});
}
};
}
function g(e, t, n, i) {
var r = m(e), o = m(t), a = [];
if (W(i, function(e) {
var t = e.out, i = e.in, r = p(n, t, i);
r && a.push(r);
}), r || o || 0 !== a.length) return {
start: function() {
function e() {
W(t, function(e) {
e.end();
});
}
var t = [];
r && t.push(r.start()), o && t.push(o.start()), W(a, function(e) {
t.push(e.start());
});
var n = new s({
end: e,
cancel: e
});
return s.all(t, function(e) {
n.complete(e);
}), n;
}
};
}
function m(t) {
var n = t.element, i = t.options || {};
t.structural && (i.event = t.event, i.structural = !0, i.applyClassesEarly = !0, "leave" === t.event && (i.onDone = i.domOperation)), i.preparationClasses && (i.event = S(i.event, i.preparationClasses));
var r = e(n, i);
return r.$$willAnimate ? r : null;
}
if (!c.animations && !c.transitions) return ee;
var v = d[0].body, b = y(l), _ = Z(t(b) || v.contains(b) ? b : v);
return function(e) {
return e.from && e.to ? g(e.from, e.to, e.classes, e.anchors) : m(e);
};
} ];
} ], be = [ "$animateProvider", function(e) {
this.$get = [ "$injector", "$$AnimateRunner", "$$jqLite", function(t, n, i) {
function r(n) {
n = q(n) ? n : n.split(" ");
for (var i = [], r = {}, o = 0; o < n.length; o++) {
var a = n[o], s = e.$$registeredAnimations[a];
s && !r[a] && (i.push(t.get(s)), r[a] = !0);
}
return i;
}
var o = d(i);
return function(e, t, i, a) {
function s() {
a.domOperation(), o(e, a);
}
function l() {
p = !0, s(), f(e, a);
}
function c(e, t, i, r, o) {
var a;
switch (i) {
case "animate":
a = [ t, r.from, r.to, o ];
break;

case "setClass":
a = [ t, v, y, o ];
break;

case "addClass":
a = [ t, v, o ];
break;

case "removeClass":
a = [ t, y, o ];
break;

default:
a = [ t, o ];
}
a.push(r);
var s = e.apply(e, a);
if (s) if (K(s.start) && (s = s.start()), s instanceof n) s.done(o); else if (K(s)) return s;
return ee;
}
function u(e, t, i, r, o) {
var a = [];
return W(r, function(r) {
var s = r[o];
s && a.push(function() {
var r, o, a = !1, l = function(e) {
a || (a = !0, (o || ee)(e), r.complete(!e));
};
return r = new n({
end: function() {
l();
},
cancel: function() {
l(!0);
}
}), o = c(s, e, t, i, function(e) {
l(!1 === e);
}), r;
});
}), a;
}
function d(e, t, i, r, o) {
var a = u(e, t, i, r, o);
if (0 === a.length) {
var s, l;
"beforeSetClass" === o ? (s = u(e, "removeClass", i, r, "beforeRemoveClass"), l = u(e, "addClass", i, r, "beforeAddClass")) : "setClass" === o && (s = u(e, "removeClass", i, r, "removeClass"), l = u(e, "addClass", i, r, "addClass")), s && (a = a.concat(s)), l && (a = a.concat(l));
}
if (0 !== a.length) return function(e) {
var t = [];
return a.length && W(a, function(e) {
t.push(e());
}), t.length ? n.all(t, e) : e(), function(e) {
W(t, function(t) {
e ? t.cancel() : t.end();
});
};
};
}
var p = !1;
3 === arguments.length && X(i) && (a = i, i = null), a = h(a), i || (i = e.attr("class") || "", a.addClass && (i += " " + a.addClass), a.removeClass && (i += " " + a.removeClass));
var g, m, v = a.addClass, y = a.removeClass, b = r(i);
if (b.length) {
var _, w;
"leave" === t ? (w = "leave", _ = "afterLeave") : (w = "before" + t.charAt(0).toUpperCase() + t.substr(1), _ = t), "enter" !== t && "move" !== t && (g = d(e, t, a, b, w)), m = d(e, t, a, b, _);
}
if (g || m) {
var C;
return {
$$willAnimate: !0,
end: function() {
return C ? C.end() : (l(), (C = new n()).complete(!0)), C;
},
start: function() {
function e(e) {
l(e), C.complete(e);
}
function t(t) {
p || ((i || ee)(t), e(t));
}
if (C) return C;
C = new n();
var i, r = [];
return g && r.push(function(e) {
i = g(e);
}), r.length ? r.push(function(e) {
s(), e(!0);
}) : s(), m && r.push(function(e) {
i = m(e);
}), C.setHost({
end: function() {
t();
},
cancel: function() {
t(!0);
}
}), n.chain(r, e), C;
}
};
}
};
} ];
} ], _e = [ "$$animationProvider", function(e) {
e.drivers.push("$$animateJsDriver"), this.$get = [ "$$animateJs", "$$AnimateRunner", function(e, t) {
function n(t) {
var n = t.element, i = t.event, r = t.options, o = t.classes;
return e(n, i, o, r);
}
return function(e) {
if (e.from && e.to) {
var i = n(e.from), r = n(e.to);
if (!i && !r) return;
return {
start: function() {
function e() {
return function() {
W(n, function(e) {
e.end();
});
};
}
var n = [];
i && n.push(i.start()), r && n.push(r.start()), t.all(n, function(e) {
o.complete(e);
});
var o = new t({
end: e(),
cancel: e()
});
return o;
}
};
}
return n(e);
};
} ];
} ], we = "data-ng-animate", Ce = "$ngAnimatePin", xe = [ "$animateProvider", function(t) {
function i(e) {
if (!e) return null;
var t = e.split(p), n = Object.create(null);
return W(t, function(e) {
n[e] = !0;
}), n;
}
function r(e, t) {
if (e && t) {
var n = i(t);
return e.split(p).some(function(e) {
return n[e];
});
}
}
function o(e, t, n, i) {
return g[e].some(function(e) {
return e(t, n, i);
});
}
function a(e, t) {
var n = (e.addClass || "").length > 0, i = (e.removeClass || "").length > 0;
return t ? n && i : n || i;
}
var c = 1, u = 2, p = " ", g = this.rules = {
skip: [],
cancel: [],
join: []
};
g.join.push(function(e, t, n) {
return !t.structural && a(t);
}), g.skip.push(function(e, t, n) {
return !t.structural && !a(t);
}), g.skip.push(function(e, t, n) {
return "leave" === n.event && t.structural;
}), g.skip.push(function(e, t, n) {
return n.structural && n.state === u && !t.structural;
}), g.cancel.push(function(e, t, n) {
return n.structural && t.structural;
}), g.cancel.push(function(e, t, n) {
return n.state === u && t.structural;
}), g.cancel.push(function(e, t, n) {
if (n.structural) return !1;
var i = t.addClass, o = t.removeClass, a = n.addClass, s = n.removeClass;
return !(J(i) && J(o) || J(a) && J(s)) && (r(i, s) || r(o, a));
}), this.$get = [ "$$rAF", "$rootScope", "$rootElement", "$document", "$$HashMap", "$$animation", "$$AnimateRunner", "$templateRequest", "$$jqLite", "$$forceReflow", function(i, r, p, g, v, w, C, x, S, $) {
function A() {
var e = !1;
return function(t) {
e ? t() : r.$$postDigest(function() {
e = !0, t();
});
};
}
function k(e, t) {
return m(e, t, {});
}
function T(e, t, n) {
var i = y(t), r = y(e), o = [], a = K[n];
return a && W(a, function(e) {
ie.call(e.node, i) ? o.push(e.callback) : "leave" === n && ie.call(e.node, r) && o.push(e.callback);
}), o;
}
function D(e, t, n) {
var i = l(t);
return e.filter(function(e) {
return !(e.node === i && (!n || e.callback === n));
});
}
function E(e, t) {
"close" !== e || t[0].parentNode || re.off(t);
}
function F(e, t, n) {
function l(t, n, r, o) {
$(function() {
var t = T(v, e, n);
t.length ? i(function() {
W(t, function(t) {
t(e, r, o);
}), E(r, e);
}) : E(r, e);
}), t.progress(n, r, o);
}
function d(t) {
_(e, x), ne(e, x), f(e, x), x.domOperation(), S.complete(!t);
}
var p, v, x = U(n);
(e = s(e)) && (p = y(e), v = e.parent()), x = h(x);
var S = new C(), $ = A();
if (q(x.addClass) && (x.addClass = x.addClass.join(" ")), x.addClass && !Q(x.addClass) && (x.addClass = null), q(x.removeClass) && (x.removeClass = x.removeClass.join(" ")), x.removeClass && !Q(x.removeClass) && (x.removeClass = null), x.from && !X(x.from) && (x.from = null), x.to && !X(x.to) && (x.to = null), !p) return d(), S;
var D = [ p.className, x.addClass, x.removeClass ].join(" ");
if (!te(D)) return d(), S;
var F = [ "enter", "move", "leave" ].indexOf(t) >= 0, P = g[0].hidden, R = !j || P || B.get(p), H = !R && N.get(p) || {}, V = !!H.state;
if (R || V && H.state === c || (R = !L(e, v, t)), R) return P && l(S, t, "start"), d(), P && l(S, t, "close"), S;
F && M(e);
var z = {
structural: F,
element: e,
event: t,
addClass: x.addClass,
removeClass: x.removeClass,
close: d,
options: x,
runner: S
};
if (V) {
if (o("skip", e, z, H)) return H.state === u ? (d(), S) : (m(e, H, z), H.runner);
if (o("cancel", e, z, H)) if (H.state === u) H.runner.end(); else {
if (!H.structural) return m(e, H, z), H.runner;
H.close();
} else if (o("join", e, z, H)) {
if (H.state !== u) return b(e, F ? t : null, x), t = z.event = H.event, x = m(e, H, z), H.runner;
k(e, z);
}
} else k(e, z);
var G = z.structural;
if (G || (G = "animate" === z.event && Object.keys(z.options.to || {}).length > 0 || a(z)), !G) return d(), I(e), S;
var Y = (H.counter || 0) + 1;
return z.counter = Y, O(e, c, z), r.$$postDigest(function() {
var n = N.get(p), i = !n;
n = n || {};
var r = (e.parent() || []).length > 0 && ("animate" === n.event || n.structural || a(n));
if (i || n.counter !== Y || !r) return i && (ne(e, x), f(e, x)), (i || F && n.event !== t) && (x.domOperation(), S.end()), void (r || I(e));
t = !n.structural && a(n, !0) ? "setClass" : n.event, O(e, u);
var o = w(e, t, n.options);
S.setHost(o), l(S, t, "start", {}), o.done(function(n) {
d(!n);
var i = N.get(p);
i && i.counter === Y && I(y(e)), l(S, t, "close", {});
});
}), S;
}
function M(e) {
var t = y(e).querySelectorAll("[" + we + "]");
W(t, function(e) {
var t = parseInt(e.getAttribute(we), 10), n = N.get(e);
if (n) switch (t) {
case u:
n.runner.end();

case c:
N.remove(e);
}
});
}
function I(e) {
var t = y(e);
t.removeAttribute(we), N.remove(t);
}
function P(e, t) {
return y(e) === y(t);
}
function L(e, t, n) {
var i, r = Z(g[0].body), o = P(e, r) || "HTML" === e[0].nodeName, a = P(e, p), s = !1, l = B.get(y(e)), c = Z.data(e[0], Ce);
for (c && (t = c), t = y(t); t && (a || (a = P(t, p)), t.nodeType === R); ) {
var u = N.get(t) || {};
if (!s) {
var d = B.get(t);
if (!0 === d && !1 !== l) {
l = !0;
break;
}
!1 === d && (l = !1), s = u.structural;
}
if (J(i) || !0 === i) {
var h = Z.data(t, V);
G(h) && (i = h);
}
if (s && !1 === i) break;
if (o || (o = P(t, r)), o && a) break;
t = a || !(c = Z.data(t, Ce)) ? t.parentNode : y(c);
}
return (!s || i) && !0 !== l && a && o;
}
function O(e, t, n) {
(n = n || {}).state = t;
var i = y(e);
i.setAttribute(we, t);
var r = N.get(i), o = r ? z(r, n) : n;
N.put(i, o);
}
var N = new v(), B = new v(), j = null, H = r.$watch(function() {
return 0 === x.totalPendingRequests;
}, function(e) {
e && (H(), r.$$postDigest(function() {
r.$$postDigest(function() {
null === j && (j = !0);
});
}));
}), K = Object.create(null), ee = t.classNameFilter(), te = ee ? function(e) {
return ee.test(e);
} : function() {
return !0;
}, ne = d(S), ie = e.Node.prototype.contains || function(e) {
return this === e || !!(16 & this.compareDocumentPosition(e));
}, re = {
on: function(e, t, n) {
var i = l(t);
K[e] = K[e] || [], K[e].push({
node: i,
callback: n
}), Z(t).on("$destroy", function() {
N.get(i) || re.off(e, t, n);
});
},
off: function(e, t, n) {
if (1 !== arguments.length || Q(arguments[0])) {
var i = K[e];
i && (K[e] = 1 === arguments.length ? null : D(i, t, n));
} else {
t = arguments[0];
for (var r in K) K[r] = D(K[r], t);
}
},
pin: function(e, t) {
n(Y(e), "element", "not an element"), n(Y(t), "parentElement", "not an element"), e.data(Ce, t);
},
push: function(e, t, n, i) {
return n = n || {}, n.domOperation = i, F(e, t, n);
},
enabled: function(e, t) {
var n = arguments.length;
if (0 === n) t = !!j; else if (Y(e)) {
var i = y(e);
1 === n ? t = !B.get(i) : B.put(i, !t);
} else t = j = !!e;
return t;
}
};
return re;
} ];
} ], Se = [ "$animateProvider", function(e) {
function t(e, t) {
e.data(s, t);
}
function n(e) {
e.removeData(s);
}
function r(e) {
return e.data(s);
}
var o = "ng-animate-ref", a = this.drivers = [], s = "$$animationRunner";
this.$get = [ "$$jqLite", "$rootScope", "$injector", "$$AnimateRunner", "$$HashMap", "$$rAFScheduler", function(e, s, l, c, u, p) {
function g(e) {
function t(e) {
if (e.processed) return e;
e.processed = !0;
var n = e.domNode, o = n.parentNode;
r.put(n, e);
for (var a; o; ) {
if (a = r.get(o)) {
a.processed || (a = t(a));
break;
}
o = o.parentNode;
}
return (a || i).children.push(e), e;
}
var n, i = {
children: []
}, r = new u();
for (n = 0; n < e.length; n++) {
var o = e[n];
r.put(o.domNode, e[n] = {
domNode: o.domNode,
fn: o.fn,
children: []
});
}
for (n = 0; n < e.length; n++) t(e[n]);
return function(e) {
var t, n = [], i = [];
for (t = 0; t < e.children.length; t++) i.push(e.children[t]);
var r = i.length, o = 0, a = [];
for (t = 0; t < i.length; t++) {
var s = i[t];
r <= 0 && (r = o, o = 0, n.push(a), a = []), a.push(s.fn), s.children.forEach(function(e) {
o++, i.push(e);
}), r--;
}
return a.length && n.push(a), n;
}(i);
}
var m = [], v = d(e);
return function(u, d, b) {
function _(e) {
var t = "[" + o + "]", n = e.hasAttribute(o) ? [ e ] : e.querySelectorAll(t), i = [];
return W(n, function(e) {
var t = e.getAttribute(o);
t && t.length && i.push(e);
}), i;
}
function w(e) {
var t = [], n = {};
W(e, function(e, i) {
var r = y(e.element), a = e.event, s = [ "enter", "move" ].indexOf(a) >= 0, l = e.structural ? _(r) : [];
if (l.length) {
var c = s ? "to" : "from";
W(l, function(e) {
var t = e.getAttribute(o);
n[t] = n[t] || {}, n[t][c] = {
animationID: i,
element: Z(e)
};
});
} else t.push(e);
});
var i = {}, r = {};
return W(n, function(n, o) {
var a = n.from, s = n.to;
if (a && s) {
var l = e[a.animationID], c = e[s.animationID], u = a.animationID.toString();
if (!r[u]) {
var d = r[u] = {
structural: !0,
beforeStart: function() {
l.beforeStart(), c.beforeStart();
},
close: function() {
l.close(), c.close();
},
classes: C(l.classes, c.classes),
from: l,
to: c,
anchors: []
};
d.classes.length ? t.push(d) : (t.push(l), t.push(c));
}
r[u].anchors.push({
out: a.element,
in: s.element
});
} else {
var h = a ? a.animationID : s.animationID, f = h.toString();
i[f] || (i[f] = !0, t.push(e[h]));
}
}), t;
}
function C(e, t) {
e = e.split(" "), t = t.split(" ");
for (var n = [], i = 0; i < e.length; i++) {
var r = e[i];
if ("ng-" !== r.substring(0, 3)) for (var o = 0; o < t.length; o++) if (r === t[o]) {
n.push(r);
break;
}
}
return n.join(" ");
}
function x(e) {
for (var t = a.length - 1; t >= 0; t--) {
var n = a[t], i = l.get(n)(e);
if (i) return i;
}
}
function S(e, t) {
function n(e) {
var n = r(e);
n && n.setHost(t);
}
e.from && e.to ? (n(e.from.element), n(e.to.element)) : n(e.element);
}
function $() {
var e = r(u);
!e || "leave" === d && b.$$domOperationFired || e.end();
}
function A(t) {
u.off("$destroy", $), n(u), v(u, b), f(u, b), b.domOperation(), E && e.removeClass(u, E), u.removeClass(H), T.complete(!t);
}
b = h(b);
var k = [ "enter", "move", "leave" ].indexOf(d) >= 0, T = new c({
end: function() {
A();
},
cancel: function() {
A(!0);
}
});
if (!a.length) return A(), T;
t(u, T);
var D = i(u.attr("class"), i(b.addClass, b.removeClass)), E = b.tempClasses;
E && (D += " " + E, b.tempClasses = null);
var F;
return k && (F = "ng-" + d + "-prepare", e.addClass(u, F)), m.push({
element: u,
classes: D,
event: d,
structural: k,
options: b,
beforeStart: function() {
u.addClass(H), E && e.addClass(u, E), F && (e.removeClass(u, F), F = null);
},
close: A
}), u.on("$destroy", $), m.length > 1 ? T : (s.$$postDigest(function() {
var e = [];
W(m, function(t) {
r(t.element) ? e.push(t) : t.close();
}), m.length = 0;
var t = w(e), n = [];
W(t, function(e) {
n.push({
domNode: y(e.from ? e.from.element : e.element),
fn: function() {
e.beforeStart();
var t, n = e.close;
if (r(e.anchors ? e.from.element || e.to.element : e.element)) {
var i = x(e);
i && (t = i.start);
}
if (t) {
var o = t();
o.done(function(e) {
n(!e);
}), S(e, o);
} else n();
}
});
}), p(g(n));
}), T);
};
} ];
} ], $e = [ "$animate", "$rootScope", function(e, t) {
return {
restrict: "A",
transclude: "element",
terminal: !0,
priority: 600,
link: function(t, n, i, r, o) {
var a, s;
t.$watchCollection(i.ngAnimateSwap || i.for, function(i) {
a && e.leave(a), s && (s.$destroy(), s = null), (i || 0 === i) && (s = t.$new(), o(s, function(t) {
a = t, e.enter(t, null, n);
}));
});
}
};
} ];
t.module("ngAnimate", [], function() {
ee = t.noop, U = t.copy, z = t.extend, Z = t.element, W = t.forEach, q = t.isArray, Q = t.isString, X = t.isObject, J = t.isUndefined, G = t.isDefined, K = t.isFunction, Y = t.isElement;
}).directive("ngAnimateSwap", $e).directive("ngAnimateChildren", ue).factory("$$rAFScheduler", ce).provider("$$animateQueue", xe).provider("$$animation", Se).provider("$animateCss", ve).provider("$$animateCssDriver", ye).provider("$$animateJs", be).provider("$$animateJsDriver", _e);
}(window, window.angular), function(e, t) {
"use strict";
function n(e) {
return t.lowercase(e.nodeName || e[0] && e[0].nodeName);
}
function i(e, n) {
var i = !1, r = !1;
this.ngClickOverrideEnabled = function(o) {
return t.isDefined(o) ? (o && !r && (r = !0, a.$$moduleName = "ngTouch", n.directive("ngClick", a), e.decorator("ngClickDirective", [ "$delegate", function(e) {
if (i) e.shift(); else for (var t = e.length - 1; t >= 0; ) {
if ("ngTouch" === e[t].$$moduleName) {
e.splice(t, 1);
break;
}
t--;
}
return e;
} ])), i = o, this) : i;
}, this.$get = function() {
return {
ngClickOverrideEnabled: function() {
return i;
}
};
};
}
function r(e, n, i) {
o.directive(e, [ "$parse", "$swipe", function(r, o) {
var a = 75, s = .3, l = 30;
return function(c, u, d) {
function h(e) {
if (!f) return !1;
var t = Math.abs(e.y - f.y), i = (e.x - f.x) * n;
return p && t < a && i > 0 && i > l && t / i < s;
}
var f, p, g = r(d[e]), m = [ "touch" ];
t.isDefined(d.ngSwipeDisableMouse) || m.push("mouse"), o.bind(u, {
start: function(e, t) {
f = e, p = !0;
},
cancel: function(e) {
p = !1;
},
end: function(e, t) {
h(e) && c.$apply(function() {
u.triggerHandler(i), g(c, {
$event: t
});
});
}
}, m);
};
} ]);
}
var o = t.module("ngTouch", []);
o.provider("$touch", i), i.$inject = [ "$provide", "$compileProvider" ], o.factory("$swipe", [ function() {
function e(e) {
var t = e.originalEvent || e, n = t.touches && t.touches.length ? t.touches : [ t ], i = t.changedTouches && t.changedTouches[0] || n[0];
return {
x: i.clientX,
y: i.clientY
};
}
function n(e, n) {
var r = [];
return t.forEach(e, function(e) {
var t = i[e][n];
t && r.push(t);
}), r.join(" ");
}
var i = {
mouse: {
start: "mousedown",
move: "mousemove",
end: "mouseup"
},
touch: {
start: "touchstart",
move: "touchmove",
end: "touchend",
cancel: "touchcancel"
},
pointer: {
start: "pointerdown",
move: "pointermove",
end: "pointerup",
cancel: "pointercancel"
}
};
return {
bind: function(t, i, r) {
var o, a, s, l, c = !1;
r = r || [ "mouse", "touch", "pointer" ], t.on(n(r, "start"), function(t) {
s = e(t), c = !0, o = 0, a = 0, l = s, i.start && i.start(s, t);
});
var u = n(r, "cancel");
u && t.on(u, function(e) {
c = !1, i.cancel && i.cancel(e);
}), t.on(n(r, "move"), function(t) {
if (c && s) {
var n = e(t);
if (o += Math.abs(n.x - l.x), a += Math.abs(n.y - l.y), l = n, !(o < 10 && a < 10)) return a > o ? (c = !1, void (i.cancel && i.cancel(t))) : (t.preventDefault(), void (i.move && i.move(n, t)));
}
}), t.on(n(r, "end"), function(t) {
c && (c = !1, i.end && i.end(e(t), t));
});
}
};
} ]);
var a = [ "$parse", "$timeout", "$rootElement", function(e, i, r) {
function o(e, t, n, i) {
return Math.abs(e - n) < p && Math.abs(t - i) < p;
}
function a(e, t, n) {
for (var i = 0; i < e.length; i += 2) if (o(e[i], e[i + 1], t, n)) return e.splice(i, i + 2), !0;
return !1;
}
function s(e) {
if (!(Date.now() - u > f)) {
var t = e.touches && e.touches.length ? e.touches : [ e ], i = t[0].clientX, r = t[0].clientY;
i < 1 && r < 1 || h && h[0] === i && h[1] === r || (h && (h = null), "label" === n(e.target) && (h = [ i, r ]), a(d, i, r) || (e.stopPropagation(), e.preventDefault(), e.target && e.target.blur && e.target.blur()));
}
}
function l(e) {
var t = e.touches && e.touches.length ? e.touches : [ e ], n = t[0].clientX, r = t[0].clientY;
d.push(n, r), i(function() {
for (var e = 0; e < d.length; e += 2) if (d[e] === n && d[e + 1] === r) return void d.splice(e, e + 2);
}, f, !1);
}
function c(e, t) {
d || (r[0].addEventListener("click", s, !0), r[0].addEventListener("touchstart", l, !0), d = []), u = Date.now(), a(d, e, t);
}
var u, d, h, f = 2500, p = 25, g = "ng-click-active";
return function(n, i, r) {
function o() {
h = !1, i.removeClass(g);
}
var a, s, l, u, d = e(r.ngClick), h = !1;
i.on("touchstart", function(e) {
h = !0, 3 === (a = e.target ? e.target : e.srcElement).nodeType && (a = a.parentNode), i.addClass(g), s = Date.now();
var t = e.originalEvent || e, n = (t.touches && t.touches.length ? t.touches : [ t ])[0];
l = n.clientX, u = n.clientY;
}), i.on("touchcancel", function(e) {
o();
}), i.on("touchend", function(e) {
var n = Date.now() - s, d = e.originalEvent || e, f = (d.changedTouches && d.changedTouches.length ? d.changedTouches : d.touches && d.touches.length ? d.touches : [ d ])[0], p = f.clientX, g = f.clientY, m = Math.sqrt(Math.pow(p - l, 2) + Math.pow(g - u, 2));
h && n < 750 && m < 12 && (c(p, g), a && a.blur(), t.isDefined(r.disabled) && !1 !== r.disabled || i.triggerHandler("click", [ e ])), o();
}), i.onclick = function(e) {}, i.on("click", function(e, t) {
n.$apply(function() {
d(n, {
$event: t || e
});
});
}), i.on("mousedown", function(e) {
i.addClass(g);
}), i.on("mousemove mouseup", function(e) {
i.removeClass(g);
});
};
} ];
r("ngSwipeLeft", -1, "swipeleft"), r("ngSwipeRight", 1, "swiperight");
}(window, window.angular), function(e, t) {
"use strict";
function n(e, t) {
if (o(e)) {
t = t || [];
for (var n = 0, i = e.length; n < i; n++) t[n] = e[n];
} else if (a(e)) {
t = t || {};
for (var r in e) "$" === r.charAt(0) && "$" === r.charAt(1) || (t[r] = e[r]);
}
return t || e;
}
function i(e, n, i) {
return {
restrict: "ECA",
terminal: !0,
priority: 400,
transclude: "element",
link: function(r, o, a, s, l) {
function c() {
f && (i.cancel(f), f = null), d && (d.$destroy(), d = null), h && ((f = i.leave(h)).done(function(e) {
!1 !== e && (f = null);
}), h = null);
}
function u() {
var a = e.current && e.current.locals, s = a && a.$template;
if (t.isDefined(s)) {
var u = r.$new(), f = e.current, m = l(u, function(e) {
i.enter(e, null, h || o).done(function(e) {
!1 === e || !t.isDefined(p) || p && !r.$eval(p) || n();
}), c();
});
h = m, (d = f.scope = u).$emit("$viewContentLoaded"), d.$eval(g);
} else c();
}
var d, h, f, p = a.autoscroll, g = a.onload || "";
r.$on("$routeChangeSuccess", u), u();
}
};
}
function r(e, t, n) {
return {
restrict: "ECA",
priority: -400,
link: function(i, r) {
var o = n.current, a = o.locals;
r.html(a.$template);
var s = e(r.contents());
if (o.controller) {
a.$scope = i;
var l = t(o.controller, a);
o.controllerAs && (i[o.controllerAs] = l), r.data("$ngControllerController", l), r.children().data("$ngControllerController", l);
}
i[o.resolveAs || "$resolve"] = a, s(i);
}
};
}
var o, a, s = t.module("ngRoute", [ "ng" ]).provider("$route", function() {
function e(e, n) {
return t.extend(Object.create(e), n);
}
function i(e, t) {
var n = t.caseInsensitiveMatch, i = {
originalPath: e,
regexp: e
}, r = i.keys = [];
return e = e.replace(/([().])/g, "\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g, function(e, t, n, i) {
var o = "?" === i || "*?" === i ? "?" : null, a = "*" === i || "*?" === i ? "*" : null;
return r.push({
name: n,
optional: !!o
}), t = t || "", (o ? "" : t) + "(?:" + (o ? t : "") + (a && "(.+?)" || "([^/]+)") + (o || "") + ")" + (o || "");
}).replace(/([/$*])/g, "\\$1"), i.regexp = new RegExp("^" + e + "$", n ? "i" : ""), i;
}
o = t.isArray, a = t.isObject;
var r = {};
this.when = function(e, o) {
var a = n(o);
if (t.isUndefined(a.reloadOnSearch) && (a.reloadOnSearch = !0), t.isUndefined(a.caseInsensitiveMatch) && (a.caseInsensitiveMatch = this.caseInsensitiveMatch), r[e] = t.extend(a, e && i(e, a)), e) {
var s = "/" === e[e.length - 1] ? e.substr(0, e.length - 1) : e + "/";
r[s] = t.extend({
redirectTo: e
}, i(s, a));
}
return this;
}, this.caseInsensitiveMatch = !1, this.otherwise = function(e) {
return "string" == typeof e && (e = {
redirectTo: e
}), this.when(null, e), this;
}, this.$get = [ "$rootScope", "$location", "$routeParams", "$q", "$injector", "$templateRequest", "$sce", function(n, i, o, a, s, c, u) {
function d(e, t) {
var n = t.keys, i = {};
if (!t.regexp) return null;
var r = t.regexp.exec(e);
if (!r) return null;
for (var o = 1, a = r.length; o < a; ++o) {
var s = n[o - 1], l = r[o];
s && l && (i[s.name] = l);
}
return i;
}
function h(e) {
var i = w.current;
y = m(), (b = y && i && y.$$route === i.$$route && t.equals(y.pathParams, i.pathParams) && !y.reloadOnSearch && !_) || !i && !y || n.$broadcast("$routeChangeStart", y, i).defaultPrevented && e && e.preventDefault();
}
function f() {
var e = w.current, r = y;
b ? (e.params = r.params, t.copy(e.params, o), n.$broadcast("$routeUpdate", e)) : (r || e) && (_ = !1, w.current = r, r && r.redirectTo && (t.isString(r.redirectTo) ? i.path(v(r.redirectTo, r.params)).search(r.params).replace() : i.url(r.redirectTo(r.pathParams, i.path(), i.search())).replace()), a.when(r).then(p).then(function(i) {
r === w.current && (r && (r.locals = i, t.copy(r.params, o)), n.$broadcast("$routeChangeSuccess", r, e));
}, function(t) {
r === w.current && n.$broadcast("$routeChangeError", r, e, t);
}));
}
function p(e) {
if (e) {
var n = t.extend({}, e.resolve);
t.forEach(n, function(e, i) {
n[i] = t.isString(e) ? s.get(e) : s.invoke(e, null, null, i);
});
var i = g(e);
return t.isDefined(i) && (n.$template = i), a.all(n);
}
}
function g(e) {
var n, i;
return t.isDefined(n = e.template) ? t.isFunction(n) && (n = n(e.params)) : t.isDefined(i = e.templateUrl) && (t.isFunction(i) && (i = i(e.params)), t.isDefined(i) && (e.loadedTemplateUrl = u.valueOf(i), n = c(i))), n;
}
function m() {
var n, o;
return t.forEach(r, function(r, a) {
!o && (n = d(i.path(), r)) && ((o = e(r, {
params: t.extend({}, i.search(), n),
pathParams: n
})).$$route = r);
}), o || r[null] && e(r[null], {
params: {},
pathParams: {}
});
}
function v(e, n) {
var i = [];
return t.forEach((e || "").split(":"), function(e, t) {
if (0 === t) i.push(e); else {
var r = e.match(/(\w+)(?:[?*])?(.*)/), o = r[1];
i.push(n[o]), i.push(r[2] || ""), delete n[o];
}
}), i.join("");
}
var y, b, _ = !1, w = {
routes: r,
reload: function() {
_ = !0;
var e = {
defaultPrevented: !1,
preventDefault: function() {
this.defaultPrevented = !0, _ = !1;
}
};
n.$evalAsync(function() {
h(e), e.defaultPrevented || f();
});
},
updateParams: function(e) {
if (!this.current || !this.current.$$route) throw l("norout", "Tried updating route when with no current route");
e = t.extend({}, this.current.params, e), i.path(v(this.current.$$route.originalPath, e)), i.search(e);
}
};
return n.$on("$locationChangeStart", h), n.$on("$locationChangeSuccess", f), w;
} ];
}), l = t.$$minErr("ngRoute");
s.provider("$routeParams", function() {
this.$get = function() {
return {};
};
}), s.directive("ngView", i), s.directive("ngView", r), i.$inject = [ "$route", "$anchorScroll", "$animate" ], r.$inject = [ "$compile", "$controller", "$route" ];
}(window, window.angular), angular.module("ui.bootstrap", [ "ui.bootstrap.tpls", "ui.bootstrap.collapse", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.dateparser", "ui.bootstrap.position", "ui.bootstrap.datepicker", "ui.bootstrap.dropdown", "ui.bootstrap.stackedMap", "ui.bootstrap.modal", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.typeahead" ]), angular.module("ui.bootstrap.tpls", [ "template/accordion/accordion-group.html", "template/accordion/accordion.html", "template/alert/alert.html", "template/carousel/carousel.html", "template/carousel/slide.html", "template/datepicker/datepicker.html", "template/datepicker/day.html", "template/datepicker/month.html", "template/datepicker/popup.html", "template/datepicker/year.html", "template/modal/backdrop.html", "template/modal/window.html", "template/pagination/pager.html", "template/pagination/pagination.html", "template/tooltip/tooltip-html-popup.html", "template/tooltip/tooltip-popup.html", "template/tooltip/tooltip-template-popup.html", "template/popover/popover-html.html", "template/popover/popover-template.html", "template/popover/popover.html", "template/progressbar/bar.html", "template/progressbar/progress.html", "template/progressbar/progressbar.html", "template/rating/rating.html", "template/tabs/tab.html", "template/tabs/tabset.html", "template/timepicker/timepicker.html", "template/typeahead/typeahead-match.html", "template/typeahead/typeahead-popup.html" ]), 
angular.module("ui.bootstrap.collapse", []).directive("uibCollapse", [ "$animate", "$injector", function(e, t) {
var n = t.has("$animateCss") ? t.get("$animateCss") : null;
return {
link: function(t, i, r) {
function o() {
i.removeClass("collapse").addClass("collapsing").attr("aria-expanded", !0).attr("aria-hidden", !1), n ? n(i, {
addClass: "in",
easing: "ease",
to: {
height: i[0].scrollHeight + "px"
}
}).start().finally(a) : e.addClass(i, "in", {
to: {
height: i[0].scrollHeight + "px"
}
}).then(a);
}
function a() {
i.removeClass("collapsing").addClass("collapse").css({
height: "auto"
});
}
function s() {
if (!i.hasClass("collapse") && !i.hasClass("in")) return l();
i.css({
height: i[0].scrollHeight + "px"
}).removeClass("collapse").addClass("collapsing").attr("aria-expanded", !1).attr("aria-hidden", !0), n ? n(i, {
removeClass: "in",
to: {
height: "0"
}
}).start().finally(l) : e.removeClass(i, "in", {
to: {
height: "0"
}
}).then(l);
}
function l() {
i.css({
height: "0"
}), i.removeClass("collapsing").addClass("collapse");
}
t.$watch(r.uibCollapse, function(e) {
e ? s() : o();
});
}
};
} ]), angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning", !1).directive("collapse", [ "$animate", "$injector", "$log", "$collapseSuppressWarning", function(e, t, n, i) {
var r = t.has("$animateCss") ? t.get("$animateCss") : null;
return {
link: function(t, o, a) {
function s() {
o.removeClass("collapse").addClass("collapsing").attr("aria-expanded", !0).attr("aria-hidden", !1), r ? r(o, {
easing: "ease",
to: {
height: o[0].scrollHeight + "px"
}
}).start().done(l) : e.animate(o, {}, {
height: o[0].scrollHeight + "px"
}).then(l);
}
function l() {
o.removeClass("collapsing").addClass("collapse in").css({
height: "auto"
});
}
function c() {
if (!o.hasClass("collapse") && !o.hasClass("in")) return u();
o.css({
height: o[0].scrollHeight + "px"
}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded", !1).attr("aria-hidden", !0), r ? r(o, {
to: {
height: "0"
}
}).start().done(u) : e.animate(o, {}, {
height: "0"
}).then(u);
}
function u() {
o.css({
height: "0"
}), o.removeClass("collapsing").addClass("collapse");
}
i || n.warn("collapse is now deprecated. Use uib-collapse instead."), t.$watch(a.collapse, function(e) {
e ? c() : s();
});
}
};
} ]), angular.module("ui.bootstrap.accordion", [ "ui.bootstrap.collapse" ]).constant("uibAccordionConfig", {
closeOthers: !0
}).controller("UibAccordionController", [ "$scope", "$attrs", "uibAccordionConfig", function(e, t, n) {
this.groups = [], this.closeOthers = function(i) {
(angular.isDefined(t.closeOthers) ? e.$eval(t.closeOthers) : n.closeOthers) && angular.forEach(this.groups, function(e) {
e !== i && (e.isOpen = !1);
});
}, this.addGroup = function(e) {
var t = this;
this.groups.push(e), e.$on("$destroy", function(n) {
t.removeGroup(e);
});
}, this.removeGroup = function(e) {
var t = this.groups.indexOf(e);
-1 !== t && this.groups.splice(t, 1);
};
} ]).directive("uibAccordion", function() {
return {
controller: "UibAccordionController",
controllerAs: "accordion",
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion.html";
}
};
}).directive("uibAccordionGroup", function() {
return {
require: "^uibAccordion",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion-group.html";
},
scope: {
heading: "@",
isOpen: "=?",
isDisabled: "=?"
},
controller: function() {
this.setHeading = function(e) {
this.heading = e;
};
},
link: function(e, t, n, i) {
i.addGroup(e), e.openClass = n.openClass || "panel-open", e.panelClass = n.panelClass, e.$watch("isOpen", function(n) {
t.toggleClass(e.openClass, !!n), n && i.closeOthers(e);
}), e.toggleOpen = function(t) {
e.isDisabled || t && 32 !== t.which || (e.isOpen = !e.isOpen);
};
}
};
}).directive("uibAccordionHeading", function() {
return {
transclude: !0,
template: "",
replace: !0,
require: "^uibAccordionGroup",
link: function(e, t, n, i, r) {
i.setHeading(r(e, angular.noop));
}
};
}).directive("uibAccordionTransclude", function() {
return {
require: [ "?^uibAccordionGroup", "?^accordionGroup" ],
link: function(e, t, n, i) {
i = i[0] ? i[0] : i[1], e.$watch(function() {
return i[n.uibAccordionTransclude];
}, function(e) {
e && (t.find("span").html(""), t.find("span").append(e));
});
}
};
}), angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning", !1).controller("AccordionController", [ "$scope", "$attrs", "$controller", "$log", "$accordionSuppressWarning", function(e, t, n, i, r) {
r || i.warn("AccordionController is now deprecated. Use UibAccordionController instead."), angular.extend(this, n("UibAccordionController", {
$scope: e,
$attrs: t
}));
} ]).directive("accordion", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
restrict: "EA",
controller: "AccordionController",
controllerAs: "accordion",
transclude: !0,
replace: !1,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion.html";
},
link: function() {
t || e.warn("accordion is now deprecated. Use uib-accordion instead.");
}
};
} ]).directive("accordionGroup", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
require: "^accordion",
restrict: "EA",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion-group.html";
},
scope: {
heading: "@",
isOpen: "=?",
isDisabled: "=?"
},
controller: function() {
this.setHeading = function(e) {
this.heading = e;
};
},
link: function(n, i, r, o) {
t || e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."), o.addGroup(n), n.openClass = r.openClass || "panel-open", n.panelClass = r.panelClass, n.$watch("isOpen", function(e) {
i.toggleClass(n.openClass, !!e), e && o.closeOthers(n);
}), n.toggleOpen = function(e) {
n.isDisabled || e && 32 !== e.which || (n.isOpen = !n.isOpen);
};
}
};
} ]).directive("accordionHeading", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
restrict: "EA",
transclude: !0,
template: "",
replace: !0,
require: "^accordionGroup",
link: function(n, i, r, o, a) {
t || e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."), o.setHeading(a(n, angular.noop));
}
};
} ]).directive("accordionTransclude", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
require: "^accordionGroup",
link: function(n, i, r, o) {
t || e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."), n.$watch(function() {
return o[r.accordionTransclude];
}, function(e) {
e && (i.find("span").html(""), i.find("span").append(e));
});
}
};
} ]), angular.module("ui.bootstrap.alert", []).controller("UibAlertController", [ "$scope", "$attrs", "$interpolate", "$timeout", function(e, t, n, i) {
e.closeable = !!t.close;
var r = angular.isDefined(t.dismissOnTimeout) ? n(t.dismissOnTimeout)(e.$parent) : null;
r && i(function() {
e.close();
}, parseInt(r, 10));
} ]).directive("uibAlert", function() {
return {
controller: "UibAlertController",
controllerAs: "alert",
templateUrl: function(e, t) {
return t.templateUrl || "template/alert/alert.html";
},
transclude: !0,
replace: !0,
scope: {
type: "@",
close: "&"
}
};
}), angular.module("ui.bootstrap.alert").value("$alertSuppressWarning", !1).controller("AlertController", [ "$scope", "$attrs", "$controller", "$log", "$alertSuppressWarning", function(e, t, n, i, r) {
r || i.warn("AlertController is now deprecated. Use UibAlertController instead."), angular.extend(this, n("UibAlertController", {
$scope: e,
$attrs: t
}));
} ]).directive("alert", [ "$log", "$alertSuppressWarning", function(e, t) {
return {
controller: "AlertController",
controllerAs: "alert",
templateUrl: function(e, t) {
return t.templateUrl || "template/alert/alert.html";
},
transclude: !0,
replace: !0,
scope: {
type: "@",
close: "&"
},
link: function() {
t || e.warn("alert is now deprecated. Use uib-alert instead.");
}
};
} ]), angular.module("ui.bootstrap.buttons", []).constant("uibButtonConfig", {
activeClass: "active",
toggleEvent: "click"
}).controller("UibButtonsController", [ "uibButtonConfig", function(e) {
this.activeClass = e.activeClass || "active", this.toggleEvent = e.toggleEvent || "click";
} ]).directive("uibBtnRadio", function() {
return {
require: [ "uibBtnRadio", "ngModel" ],
controller: "UibButtonsController",
controllerAs: "buttons",
link: function(e, t, n, i) {
var r = i[0], o = i[1];
t.find("input").css({
display: "none"
}), o.$render = function() {
t.toggleClass(r.activeClass, angular.equals(o.$modelValue, e.$eval(n.uibBtnRadio)));
}, t.on(r.toggleEvent, function() {
if (!n.disabled) {
var i = t.hasClass(r.activeClass);
i && !angular.isDefined(n.uncheckable) || e.$apply(function() {
o.$setViewValue(i ? null : e.$eval(n.uibBtnRadio)), o.$render();
});
}
});
}
};
}).directive("uibBtnCheckbox", function() {
return {
require: [ "uibBtnCheckbox", "ngModel" ],
controller: "UibButtonsController",
controllerAs: "button",
link: function(e, t, n, i) {
function r() {
return a(n.btnCheckboxTrue, !0);
}
function o() {
return a(n.btnCheckboxFalse, !1);
}
function a(t, n) {
return angular.isDefined(t) ? e.$eval(t) : n;
}
var s = i[0], l = i[1];
t.find("input").css({
display: "none"
}), l.$render = function() {
t.toggleClass(s.activeClass, angular.equals(l.$modelValue, r()));
}, t.on(s.toggleEvent, function() {
n.disabled || e.$apply(function() {
l.$setViewValue(t.hasClass(s.activeClass) ? o() : r()), l.$render();
});
});
}
};
}), angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning", !1).controller("ButtonsController", [ "$controller", "$log", "$buttonsSuppressWarning", function(e, t, n) {
n || t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."), angular.extend(this, e("UibButtonsController"));
} ]).directive("btnRadio", [ "$log", "$buttonsSuppressWarning", function(e, t) {
return {
require: [ "btnRadio", "ngModel" ],
controller: "ButtonsController",
controllerAs: "buttons",
link: function(n, i, r, o) {
t || e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");
var a = o[0], s = o[1];
i.find("input").css({
display: "none"
}), s.$render = function() {
i.toggleClass(a.activeClass, angular.equals(s.$modelValue, n.$eval(r.btnRadio)));
}, i.bind(a.toggleEvent, function() {
if (!r.disabled) {
var e = i.hasClass(a.activeClass);
e && !angular.isDefined(r.uncheckable) || n.$apply(function() {
s.$setViewValue(e ? null : n.$eval(r.btnRadio)), s.$render();
});
}
});
}
};
} ]).directive("btnCheckbox", [ "$document", "$log", "$buttonsSuppressWarning", function(e, t, n) {
return {
require: [ "btnCheckbox", "ngModel" ],
controller: "ButtonsController",
controllerAs: "button",
link: function(i, r, o, a) {
function s() {
return c(o.btnCheckboxTrue, !0);
}
function l() {
return c(o.btnCheckboxFalse, !1);
}
function c(e, t) {
var n = i.$eval(e);
return angular.isDefined(n) ? n : t;
}
n || t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");
var u = a[0], d = a[1];
r.find("input").css({
display: "none"
}), d.$render = function() {
r.toggleClass(u.activeClass, angular.equals(d.$modelValue, s()));
}, r.bind(u.toggleEvent, function() {
o.disabled || i.$apply(function() {
d.$setViewValue(r.hasClass(u.activeClass) ? l() : s()), d.$render();
});
}), r.on("keypress", function(t) {
o.disabled || 32 !== t.which || e[0].activeElement !== r[0] || i.$apply(function() {
d.$setViewValue(r.hasClass(u.activeClass) ? l() : s()), d.$render();
});
});
}
};
} ]), angular.module("ui.bootstrap.carousel", []).controller("UibCarouselController", [ "$scope", "$element", "$interval", "$animate", function(e, t, n, i) {
function r(t, n, r) {
m || (angular.extend(t, {
direction: r,
active: !0
}), angular.extend(d.currentSlide || {}, {
direction: r,
active: !1
}), i.enabled() && !e.noTransition && !e.$currentTransition && t.$element && d.slides.length > 1 && (t.$element.data(p, t.direction), d.currentSlide && d.currentSlide.$element && d.currentSlide.$element.data(p, t.direction), e.$currentTransition = !0, f ? i.on("addClass", t.$element, function(t, n) {
"close" === n && (e.$currentTransition = null, i.off("addClass", t));
}) : t.$element.one("$animate:close", function() {
e.$currentTransition = null;
})), d.currentSlide = t, g = n, a());
}
function o(e) {
if (angular.isUndefined(h[e].index)) return h[e];
var t;
h.length;
for (t = 0; t < h.length; ++t) if (h[t].index == e) return h[t];
}
function a() {
s();
var t = +e.interval;
!isNaN(t) && t > 0 && (c = n(l, t));
}
function s() {
c && (n.cancel(c), c = null);
}
function l() {
var t = +e.interval;
u && !isNaN(t) && t > 0 && h.length ? e.next() : e.pause();
}
var c, u, d = this, h = d.slides = e.slides = [], f = angular.version.minor >= 4, p = "uib-slideDirection", g = -1;
d.currentSlide = null;
var m = !1;
d.select = e.select = function(t, n) {
var i = e.indexOfSlide(t);
void 0 === n && (n = i > d.getCurrentIndex() ? "next" : "prev"), t && t !== d.currentSlide && !e.$currentTransition && r(t, i, n);
}, e.$on("$destroy", function() {
m = !0;
}), d.getCurrentIndex = function() {
return d.currentSlide && angular.isDefined(d.currentSlide.index) ? +d.currentSlide.index : g;
}, e.indexOfSlide = function(e) {
return angular.isDefined(e.index) ? +e.index : h.indexOf(e);
}, e.next = function() {
var t = (d.getCurrentIndex() + 1) % h.length;
{
if (0 !== t || !e.noWrap()) return d.select(o(t), "next");
e.pause();
}
}, e.prev = function() {
var t = d.getCurrentIndex() - 1 < 0 ? h.length - 1 : d.getCurrentIndex() - 1;
{
if (!e.noWrap() || t !== h.length - 1) return d.select(o(t), "prev");
e.pause();
}
}, e.isActive = function(e) {
return d.currentSlide === e;
}, e.$watch("interval", a), e.$watchCollection("slides", function(t) {
t.length || (e.$currentTransition = null);
}), e.$on("$destroy", s), e.play = function() {
u || (u = !0, a());
}, e.pause = function() {
e.noPause || (u = !1, s());
}, d.addSlide = function(t, n) {
t.$element = n, h.push(t), 1 === h.length || t.active ? (d.select(h[h.length - 1]), 1 === h.length && e.play()) : t.active = !1;
}, d.removeSlide = function(e) {
angular.isDefined(e.index) && h.sort(function(e, t) {
return +e.index > +t.index;
});
var t = h.indexOf(e);
h.splice(t, 1), h.length > 0 && e.active ? t >= h.length ? d.select(h[t - 1]) : d.select(h[t]) : g > t && g--, 0 === h.length && (d.currentSlide = null);
}, e.$watch("noTransition", function(e) {
t.data("uib-noTransition", e);
});
} ]).directive("uibCarousel", [ function() {
return {
transclude: !0,
replace: !0,
controller: "UibCarouselController",
controllerAs: "carousel",
require: "carousel",
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/carousel.html";
},
scope: {
interval: "=",
noTransition: "=",
noPause: "=",
noWrap: "&"
}
};
} ]).directive("uibSlide", function() {
return {
require: "^uibCarousel",
restrict: "EA",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/slide.html";
},
scope: {
active: "=?",
actual: "=?",
index: "=?"
},
link: function(e, t, n, i) {
i.addSlide(e, t), e.$on("$destroy", function() {
i.removeSlide(e);
}), e.$watch("active", function(t) {
t && i.select(e);
});
}
};
}).animation(".item", [ "$injector", "$animate", function(e, t) {
function n(e, t, n) {
e.removeClass(t), n && n();
}
var i = null;
return e.has("$animateCss") && (i = e.get("$animateCss")), {
beforeAddClass: function(e, r, o) {
if ("active" == r && e.parent() && e.parent().parent() && !e.parent().parent().data("uib-noTransition")) {
var a = !1, s = e.data("uib-slideDirection"), l = "next" == s ? "left" : "right", c = n.bind(this, e, l + " " + s, o);
return e.addClass(s), i ? i(e, {
addClass: l
}).start().done(c) : t.addClass(e, l).then(function() {
a || c(), o();
}), function() {
a = !0;
};
}
o();
},
beforeRemoveClass: function(e, r, o) {
if ("active" === r && e.parent() && e.parent().parent() && !e.parent().parent().data("uib-noTransition")) {
var a = !1, s = "next" == e.data("uib-slideDirection") ? "left" : "right", l = n.bind(this, e, s, o);
return i ? i(e, {
addClass: s
}).start().done(l) : t.addClass(e, s).then(function() {
a || l(), o();
}), function() {
a = !0;
};
}
o();
}
};
} ]), angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning", !1).controller("CarouselController", [ "$scope", "$element", "$controller", "$log", "$carouselSuppressWarning", function(e, t, n, i, r) {
r || i.warn("CarouselController is now deprecated. Use UibCarouselController instead."), angular.extend(this, n("UibCarouselController", {
$scope: e,
$element: t
}));
} ]).directive("carousel", [ "$log", "$carouselSuppressWarning", function(e, t) {
return {
transclude: !0,
replace: !0,
controller: "CarouselController",
controllerAs: "carousel",
require: "carousel",
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/carousel.html";
},
scope: {
interval: "=",
noTransition: "=",
noPause: "=",
noWrap: "&"
},
link: function() {
t || e.warn("carousel is now deprecated. Use uib-carousel instead.");
}
};
} ]).directive("slide", [ "$log", "$carouselSuppressWarning", function(e, t) {
return {
require: "^carousel",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/slide.html";
},
scope: {
active: "=?",
actual: "=?",
index: "=?"
},
link: function(n, i, r, o) {
t || e.warn("slide is now deprecated. Use uib-slide instead."), o.addSlide(n, i), n.$on("$destroy", function() {
o.removeSlide(n);
}), n.$watch("active", function(e) {
e && o.select(n);
});
}
};
} ]), angular.module("ui.bootstrap.dateparser", []).service("uibDateParser", [ "$log", "$locale", "orderByFilter", function(e, t, n) {
function i(e) {
var t = [], i = e.split("");
return angular.forEach(a, function(n, r) {
var o = e.indexOf(r);
if (o > -1) {
e = e.split(""), i[o] = "(" + n.regex + ")", e[o] = "$";
for (var a = o + 1, s = o + r.length; a < s; a++) i[a] = "", e[a] = "$";
e = e.join(""), t.push({
index: o,
apply: n.apply
});
}
}), {
regex: new RegExp("^" + i.join("") + "$"),
map: n(t, "index")
};
}
function r(e, t, n) {
return !(n < 1) && (1 === t && n > 28 ? 29 === n && (e % 4 == 0 && e % 100 != 0 || e % 400 == 0) : 3 !== t && 5 !== t && 8 !== t && 10 !== t || n < 31);
}
var o, a, s = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
this.init = function() {
o = t.id, this.parsers = {}, a = {
yyyy: {
regex: "\\d{4}",
apply: function(e) {
this.year = +e;
}
},
yy: {
regex: "\\d{2}",
apply: function(e) {
this.year = +e + 2e3;
}
},
y: {
regex: "\\d{1,4}",
apply: function(e) {
this.year = +e;
}
},
MMMM: {
regex: t.DATETIME_FORMATS.MONTH.join("|"),
apply: function(e) {
this.month = t.DATETIME_FORMATS.MONTH.indexOf(e);
}
},
MMM: {
regex: t.DATETIME_FORMATS.SHORTMONTH.join("|"),
apply: function(e) {
this.month = t.DATETIME_FORMATS.SHORTMONTH.indexOf(e);
}
},
MM: {
regex: "0[1-9]|1[0-2]",
apply: function(e) {
this.month = e - 1;
}
},
M: {
regex: "[1-9]|1[0-2]",
apply: function(e) {
this.month = e - 1;
}
},
dd: {
regex: "[0-2][0-9]{1}|3[0-1]{1}",
apply: function(e) {
this.date = +e;
}
},
d: {
regex: "[1-2]?[0-9]{1}|3[0-1]{1}",
apply: function(e) {
this.date = +e;
}
},
EEEE: {
regex: t.DATETIME_FORMATS.DAY.join("|")
},
EEE: {
regex: t.DATETIME_FORMATS.SHORTDAY.join("|")
},
HH: {
regex: "(?:0|1)[0-9]|2[0-3]",
apply: function(e) {
this.hours = +e;
}
},
hh: {
regex: "0[0-9]|1[0-2]",
apply: function(e) {
this.hours = +e;
}
},
H: {
regex: "1?[0-9]|2[0-3]",
apply: function(e) {
this.hours = +e;
}
},
h: {
regex: "[0-9]|1[0-2]",
apply: function(e) {
this.hours = +e;
}
},
mm: {
regex: "[0-5][0-9]",
apply: function(e) {
this.minutes = +e;
}
},
m: {
regex: "[0-9]|[1-5][0-9]",
apply: function(e) {
this.minutes = +e;
}
},
sss: {
regex: "[0-9][0-9][0-9]",
apply: function(e) {
this.milliseconds = +e;
}
},
ss: {
regex: "[0-5][0-9]",
apply: function(e) {
this.seconds = +e;
}
},
s: {
regex: "[0-9]|[1-5][0-9]",
apply: function(e) {
this.seconds = +e;
}
},
a: {
regex: t.DATETIME_FORMATS.AMPMS.join("|"),
apply: function(e) {
12 === this.hours && (this.hours = 0), "PM" === e && (this.hours += 12);
}
}
};
}, this.init(), this.parse = function(n, a, l) {
if (!angular.isString(n) || !a) return n;
a = (a = t.DATETIME_FORMATS[a] || a).replace(s, "\\$&"), t.id !== o && this.init(), this.parsers[a] || (this.parsers[a] = i(a));
var c = this.parsers[a], u = c.regex, d = c.map, h = n.match(u);
if (h && h.length) {
var f, p;
angular.isDate(l) && !isNaN(l.getTime()) ? f = {
year: l.getFullYear(),
month: l.getMonth(),
date: l.getDate(),
hours: l.getHours(),
minutes: l.getMinutes(),
seconds: l.getSeconds(),
milliseconds: l.getMilliseconds()
} : (l && e.warn("dateparser:", "baseDate is not a valid date"), f = {
year: 1900,
month: 0,
date: 1,
hours: 0,
minutes: 0,
seconds: 0,
milliseconds: 0
});
for (var g = 1, m = h.length; g < m; g++) {
var v = d[g - 1];
v.apply && v.apply.call(f, h[g]);
}
return r(f.year, f.month, f.date) && (angular.isDate(l) && !isNaN(l.getTime()) ? (p = new Date(l)).setFullYear(f.year, f.month, f.date, f.hours, f.minutes, f.seconds, f.milliseconds || 0) : p = new Date(f.year, f.month, f.date, f.hours, f.minutes, f.seconds, f.milliseconds || 0)), p;
}
};
} ]), angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning", !1).service("dateParser", [ "$log", "$dateParserSuppressWarning", "uibDateParser", function(e, t, n) {
t || e.warn("dateParser is now deprecated. Use uibDateParser instead."), angular.extend(this, n);
} ]), angular.module("ui.bootstrap.position", []).factory("$uibPosition", [ "$document", "$window", function(e, t) {
function n(e, n) {
return e.currentStyle ? e.currentStyle[n] : t.getComputedStyle ? t.getComputedStyle(e)[n] : e.style[n];
}
function i(e) {
return "static" === (n(e, "position") || "static");
}
var r = function(t) {
for (var n = e[0], r = t.offsetParent || n; r && r !== n && i(r); ) r = r.offsetParent;
return r || n;
};
return {
position: function(t) {
var n = this.offset(t), i = {
top: 0,
left: 0
}, o = r(t[0]);
o != e[0] && ((i = this.offset(angular.element(o))).top += o.clientTop - o.scrollTop, i.left += o.clientLeft - o.scrollLeft);
var a = t[0].getBoundingClientRect();
return {
width: a.width || t.prop("offsetWidth"),
height: a.height || t.prop("offsetHeight"),
top: n.top - i.top,
left: n.left - i.left
};
},
offset: function(n) {
var i = n[0].getBoundingClientRect();
return {
width: i.width || n.prop("offsetWidth"),
height: i.height || n.prop("offsetHeight"),
top: i.top + (t.pageYOffset || e[0].documentElement.scrollTop),
left: i.left + (t.pageXOffset || e[0].documentElement.scrollLeft)
};
},
positionElements: function(e, t, n, i) {
var r, o, a, s, l = n.split("-"), c = l[0], u = l[1] || "center";
r = i ? this.offset(e) : this.position(e), o = t.prop("offsetWidth"), a = t.prop("offsetHeight");
var d = {
center: function() {
return r.left + r.width / 2 - o / 2;
},
left: function() {
return r.left;
},
right: function() {
return r.left + r.width;
}
}, h = {
center: function() {
return r.top + r.height / 2 - a / 2;
},
top: function() {
return r.top;
},
bottom: function() {
return r.top + r.height;
}
};
switch (c) {
case "right":
s = {
top: h[u](),
left: d[c]()
};
break;

case "left":
s = {
top: h[u](),
left: r.left - o
};
break;

case "bottom":
s = {
top: h[c](),
left: d[u]()
};
break;

default:
s = {
top: r.top - a,
left: d[u]()
};
}
return s;
}
};
} ]), angular.module("ui.bootstrap.position").value("$positionSuppressWarning", !1).service("$position", [ "$log", "$positionSuppressWarning", "$uibPosition", function(e, t, n) {
t || e.warn("$position is now deprecated. Use $uibPosition instead."), angular.extend(this, n);
} ]), angular.module("ui.bootstrap.datepicker", [ "ui.bootstrap.dateparser", "ui.bootstrap.position" ]).value("$datepickerSuppressError", !1).constant("uibDatepickerConfig", {
formatDay: "dd",
formatMonth: "MMMM",
formatYear: "yyyy",
formatDayHeader: "EEE",
formatDayTitle: "MMMM yyyy",
formatMonthTitle: "yyyy",
datepickerMode: "day",
minMode: "day",
maxMode: "year",
showWeeks: !0,
startingDay: 0,
yearRange: 20,
minDate: null,
maxDate: null,
shortcutPropagation: !1
}).controller("UibDatepickerController", [ "$scope", "$attrs", "$parse", "$interpolate", "$log", "dateFilter", "uibDatepickerConfig", "$datepickerSuppressError", function(e, t, n, i, r, o, a, s) {
var l = this, c = {
$setViewValue: angular.noop
};
this.modes = [ "day", "month", "year" ], angular.forEach([ "formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "showWeeks", "startingDay", "yearRange", "shortcutPropagation" ], function(n, r) {
l[n] = angular.isDefined(t[n]) ? r < 6 ? i(t[n])(e.$parent) : e.$parent.$eval(t[n]) : a[n];
}), angular.forEach([ "minDate", "maxDate" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(e) {
l[i] = e ? new Date(e) : null, l.refreshView();
}) : l[i] = a[i] ? new Date(a[i]) : null;
}), angular.forEach([ "minMode", "maxMode" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(n) {
l[i] = angular.isDefined(n) ? n : t[i], e[i] = l[i], ("minMode" == i && l.modes.indexOf(e.datepickerMode) < l.modes.indexOf(l[i]) || "maxMode" == i && l.modes.indexOf(e.datepickerMode) > l.modes.indexOf(l[i])) && (e.datepickerMode = l[i]);
}) : (l[i] = a[i] || null, e[i] = l[i]);
}), e.datepickerMode = e.datepickerMode || a.datepickerMode, e.uniqueId = "datepicker-" + e.$id + "-" + Math.floor(1e4 * Math.random()), angular.isDefined(t.initDate) ? (this.activeDate = e.$parent.$eval(t.initDate) || new Date(), e.$parent.$watch(t.initDate, function(e) {
e && (c.$isEmpty(c.$modelValue) || c.$invalid) && (l.activeDate = e, l.refreshView());
})) : this.activeDate = new Date(), e.isActive = function(t) {
return 0 === l.compare(t.date, l.activeDate) && (e.activeDateId = t.uid, !0);
}, this.init = function(e) {
(c = e).$render = function() {
l.render();
};
}, this.render = function() {
if (c.$viewValue) {
var e = new Date(c.$viewValue);
!isNaN(e) ? this.activeDate = e : s || r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
}
this.refreshView();
}, this.refreshView = function() {
if (this.element) {
this._refreshView();
var e = c.$viewValue ? new Date(c.$viewValue) : null;
c.$setValidity("dateDisabled", !e || this.element && !this.isDisabled(e));
}
}, this.createDateObject = function(e, t) {
var n = c.$viewValue ? new Date(c.$viewValue) : null;
return {
date: e,
label: o(e, t),
selected: n && 0 === this.compare(e, n),
disabled: this.isDisabled(e),
current: 0 === this.compare(e, new Date()),
customClass: this.customClass(e)
};
}, this.isDisabled = function(n) {
return this.minDate && this.compare(n, this.minDate) < 0 || this.maxDate && this.compare(n, this.maxDate) > 0 || t.dateDisabled && e.dateDisabled({
date: n,
mode: e.datepickerMode
});
}, this.customClass = function(t) {
return e.customClass({
date: t,
mode: e.datepickerMode
});
}, this.split = function(e, t) {
for (var n = []; e.length > 0; ) n.push(e.splice(0, t));
return n;
}, e.select = function(t) {
if (e.datepickerMode === l.minMode) {
var n = c.$viewValue ? new Date(c.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
n.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()), c.$setViewValue(n), c.$render();
} else l.activeDate = t, e.datepickerMode = l.modes[l.modes.indexOf(e.datepickerMode) - 1];
}, e.move = function(e) {
var t = l.activeDate.getFullYear() + e * (l.step.years || 0), n = l.activeDate.getMonth() + e * (l.step.months || 0);
l.activeDate.setFullYear(t, n, 1), l.refreshView();
}, e.toggleMode = function(t) {
t = t || 1, e.datepickerMode === l.maxMode && 1 === t || e.datepickerMode === l.minMode && -1 === t || (e.datepickerMode = l.modes[l.modes.indexOf(e.datepickerMode) + t]);
}, e.keys = {
13: "enter",
32: "space",
33: "pageup",
34: "pagedown",
35: "end",
36: "home",
37: "left",
38: "up",
39: "right",
40: "down"
};
e.$on("uib:datepicker.focus", function() {
l.element[0].focus();
}), e.keydown = function(t) {
var n = e.keys[t.which];
if (n && !t.shiftKey && !t.altKey) if (t.preventDefault(), l.shortcutPropagation || t.stopPropagation(), "enter" === n || "space" === n) {
if (l.isDisabled(l.activeDate)) return;
e.select(l.activeDate);
} else !t.ctrlKey || "up" !== n && "down" !== n ? (l.handleKeyDown(n, t), l.refreshView()) : e.toggleMode("up" === n ? 1 : -1);
};
} ]).controller("UibDaypickerController", [ "$scope", "$element", "dateFilter", function(e, t, n) {
function i(e, t) {
return 1 !== t || e % 4 != 0 || e % 100 == 0 && e % 400 != 0 ? o[t] : 29;
}
function r(e) {
var t = new Date(e);
t.setDate(t.getDate() + 4 - (t.getDay() || 7));
var n = t.getTime();
return t.setMonth(0), t.setDate(1), Math.floor(Math.round((n - t) / 864e5) / 7) + 1;
}
var o = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];
this.step = {
months: 1
}, this.element = t, this.init = function(t) {
angular.extend(t, this), e.showWeeks = t.showWeeks, t.refreshView();
}, this.getDates = function(e, t) {
for (var n, i = new Array(t), r = new Date(e), o = 0; o < t; ) n = new Date(r), i[o++] = n, r.setDate(r.getDate() + 1);
return i;
}, this._refreshView = function() {
var t = this.activeDate.getFullYear(), i = this.activeDate.getMonth(), o = new Date(this.activeDate);
o.setFullYear(t, i, 1);
var a = this.startingDay - o.getDay(), s = a > 0 ? 7 - a : -a, l = new Date(o);
s > 0 && l.setDate(1 - s);
for (var c = this.getDates(l, 42), u = 0; u < 42; u++) c[u] = angular.extend(this.createDateObject(c[u], this.formatDay), {
secondary: c[u].getMonth() !== i,
uid: e.uniqueId + "-" + u
});
e.labels = new Array(7);
for (var d = 0; d < 7; d++) e.labels[d] = {
abbr: n(c[d].date, this.formatDayHeader),
full: n(c[d].date, "EEEE")
};
if (e.title = n(this.activeDate, this.formatDayTitle), e.rows = this.split(c, 7), e.showWeeks) {
e.weekNumbers = [];
for (var h = (11 - this.startingDay) % 7, f = e.rows.length, p = 0; p < f; p++) e.weekNumbers.push(r(e.rows[p][h].date));
}
}, this.compare = function(e, t) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate()) - new Date(t.getFullYear(), t.getMonth(), t.getDate());
}, this.handleKeyDown = function(e, t) {
var n = this.activeDate.getDate();
if ("left" === e) n -= 1; else if ("up" === e) n -= 7; else if ("right" === e) n += 1; else if ("down" === e) n += 7; else if ("pageup" === e || "pagedown" === e) {
var r = this.activeDate.getMonth() + ("pageup" === e ? -1 : 1);
this.activeDate.setMonth(r, 1), n = Math.min(i(this.activeDate.getFullYear(), this.activeDate.getMonth()), n);
} else "home" === e ? n = 1 : "end" === e && (n = i(this.activeDate.getFullYear(), this.activeDate.getMonth()));
this.activeDate.setDate(n);
};
} ]).controller("UibMonthpickerController", [ "$scope", "$element", "dateFilter", function(e, t, n) {
this.step = {
years: 1
}, this.element = t, this.init = function(e) {
angular.extend(e, this), e.refreshView();
}, this._refreshView = function() {
for (var t, i = new Array(12), r = this.activeDate.getFullYear(), o = 0; o < 12; o++) (t = new Date(this.activeDate)).setFullYear(r, o, 1), i[o] = angular.extend(this.createDateObject(t, this.formatMonth), {
uid: e.uniqueId + "-" + o
});
e.title = n(this.activeDate, this.formatMonthTitle), e.rows = this.split(i, 3);
}, this.compare = function(e, t) {
return new Date(e.getFullYear(), e.getMonth()) - new Date(t.getFullYear(), t.getMonth());
}, this.handleKeyDown = function(e, t) {
var n = this.activeDate.getMonth();
if ("left" === e) n -= 1; else if ("up" === e) n -= 3; else if ("right" === e) n += 1; else if ("down" === e) n += 3; else if ("pageup" === e || "pagedown" === e) {
var i = this.activeDate.getFullYear() + ("pageup" === e ? -1 : 1);
this.activeDate.setFullYear(i);
} else "home" === e ? n = 0 : "end" === e && (n = 11);
this.activeDate.setMonth(n);
};
} ]).controller("UibYearpickerController", [ "$scope", "$element", "dateFilter", function(e, t, n) {
function i(e) {
return parseInt((e - 1) / r, 10) * r + 1;
}
var r;
this.element = t, this.yearpickerInit = function() {
r = this.yearRange, this.step = {
years: r
};
}, this._refreshView = function() {
for (var t, n = new Array(r), o = 0, a = i(this.activeDate.getFullYear()); o < r; o++) (t = new Date(this.activeDate)).setFullYear(a + o, 0, 1), n[o] = angular.extend(this.createDateObject(t, this.formatYear), {
uid: e.uniqueId + "-" + o
});
e.title = [ n[0].label, n[r - 1].label ].join(" - "), e.rows = this.split(n, 5);
}, this.compare = function(e, t) {
return e.getFullYear() - t.getFullYear();
}, this.handleKeyDown = function(e, t) {
var n = this.activeDate.getFullYear();
"left" === e ? n -= 1 : "up" === e ? n -= 5 : "right" === e ? n += 1 : "down" === e ? n += 5 : "pageup" === e || "pagedown" === e ? n += ("pageup" === e ? -1 : 1) * this.step.years : "home" === e ? n = i(this.activeDate.getFullYear()) : "end" === e && (n = i(this.activeDate.getFullYear()) + r - 1), this.activeDate.setFullYear(n);
};
} ]).directive("uibDatepicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/datepicker.html";
},
scope: {
datepickerMode: "=?",
dateDisabled: "&",
customClass: "&",
shortcutPropagation: "&?"
},
require: [ "uibDatepicker", "^ngModel" ],
controller: "UibDatepickerController",
controllerAs: "datepicker",
link: function(e, t, n, i) {
var r = i[0], o = i[1];
r.init(o);
}
};
}).directive("uibDaypicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/day.html";
},
require: [ "^?uibDatepicker", "uibDaypicker", "^?datepicker" ],
controller: "UibDaypickerController",
link: function(e, t, n, i) {
var r = i[0] || i[2];
i[1].init(r);
}
};
}).directive("uibMonthpicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/month.html";
},
require: [ "^?uibDatepicker", "uibMonthpicker", "^?datepicker" ],
controller: "UibMonthpickerController",
link: function(e, t, n, i) {
var r = i[0] || i[2];
i[1].init(r);
}
};
}).directive("uibYearpicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/year.html";
},
require: [ "^?uibDatepicker", "uibYearpicker", "^?datepicker" ],
controller: "UibYearpickerController",
link: function(e, t, n, i) {
var r = i[0] || i[2];
angular.extend(r, i[1]), r.yearpickerInit(), r.refreshView();
}
};
}).constant("uibDatepickerPopupConfig", {
datepickerPopup: "yyyy-MM-dd",
datepickerPopupTemplateUrl: "template/datepicker/popup.html",
datepickerTemplateUrl: "template/datepicker/datepicker.html",
html5Types: {
date: "yyyy-MM-dd",
"datetime-local": "yyyy-MM-ddTHH:mm:ss.sss",
month: "yyyy-MM"
},
currentText: "Today",
clearText: "Clear",
closeText: "Done",
closeOnDateSelection: !0,
appendToBody: !1,
showButtonBar: !0,
onOpenFocus: !0
}).controller("UibDatepickerPopupController", [ "$scope", "$element", "$attrs", "$compile", "$parse", "$document", "$rootScope", "$uibPosition", "dateFilter", "uibDateParser", "uibDatepickerPopupConfig", "$timeout", function(e, t, n, i, r, o, a, s, l, c, u, d) {
function h(e) {
return e.replace(/([A-Z])/g, function(e) {
return "-" + e.toLowerCase();
});
}
function f(t) {
angular.isNumber(t) && (t = new Date(t));
{
if (!t) return null;
if (angular.isDate(t) && !isNaN(t)) return t;
if (angular.isString(t)) {
var n = c.parse(t, v, e.date);
return isNaN(n) ? void 0 : n;
}
}
}
function p(e, t) {
var i = e || t;
if (!n.ngRequired && !i) return !0;
if (angular.isNumber(i) && (i = new Date(i)), i) {
if (angular.isDate(i) && !isNaN(i)) return !0;
if (angular.isString(i)) {
var r = c.parse(i, v);
return !isNaN(r);
}
return !1;
}
return !0;
}
function g(n) {
var i = A[0], r = t[0].contains(n.target), o = void 0 !== i.contains && i.contains(n.target);
!e.isOpen || r || o || e.$apply(function() {
e.isOpen = !1;
});
}
function m(n) {
27 === n.which && e.isOpen ? (n.preventDefault(), n.stopPropagation(), e.$apply(function() {
e.isOpen = !1;
}), t[0].focus()) : 40 !== n.which || e.isOpen || (n.preventDefault(), n.stopPropagation(), e.$apply(function() {
e.isOpen = !0;
}));
}
var v, y, b, _, w, C, x, S, $, A, k = {}, T = !1;
e.watchData = {}, this.init = function(s) {
if ($ = s, y = angular.isDefined(n.closeOnDateSelection) ? e.$parent.$eval(n.closeOnDateSelection) : u.closeOnDateSelection, b = angular.isDefined(n.datepickerAppendToBody) ? e.$parent.$eval(n.datepickerAppendToBody) : u.appendToBody, _ = angular.isDefined(n.onOpenFocus) ? e.$parent.$eval(n.onOpenFocus) : u.onOpenFocus, w = angular.isDefined(n.datepickerPopupTemplateUrl) ? n.datepickerPopupTemplateUrl : u.datepickerPopupTemplateUrl, C = angular.isDefined(n.datepickerTemplateUrl) ? n.datepickerTemplateUrl : u.datepickerTemplateUrl, e.showButtonBar = angular.isDefined(n.showButtonBar) ? e.$parent.$eval(n.showButtonBar) : u.showButtonBar, u.html5Types[n.type] ? (v = u.html5Types[n.type], T = !0) : (v = n.datepickerPopup || n.uibDatepickerPopup || u.datepickerPopup, n.$observe("uibDatepickerPopup", function(e, t) {
var n = e || u.datepickerPopup;
if (n !== v && (v = n, $.$modelValue = null, !v)) throw new Error("uibDatepickerPopup must have a date format specified.");
})), !v) throw new Error("uibDatepickerPopup must have a date format specified.");
if (T && n.datepickerPopup) throw new Error("HTML5 date input types do not support custom formats.");
if ((x = angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({
"ng-model": "date",
"ng-change": "dateSelection(date)",
"template-url": w
}), (S = angular.element(x.children()[0])).attr("template-url", C), T && "month" === n.type && (S.attr("datepicker-mode", '"month"'), S.attr("min-mode", "month")), n.datepickerOptions) {
var d = e.$parent.$eval(n.datepickerOptions);
d && d.initDate && (e.initDate = d.initDate, S.attr("init-date", "initDate"), delete d.initDate), angular.forEach(d, function(e, t) {
S.attr(h(t), e);
});
}
angular.forEach([ "minMode", "maxMode", "minDate", "maxDate", "datepickerMode", "initDate", "shortcutPropagation" ], function(t) {
if (n[t]) {
var i = r(n[t]);
if (e.$parent.$watch(i, function(n) {
e.watchData[t] = n, "minDate" !== t && "maxDate" !== t || (k[t] = new Date(n));
}), S.attr(h(t), "watchData." + t), "datepickerMode" === t) {
var o = i.assign;
e.$watch("watchData." + t, function(t, n) {
angular.isFunction(o) && t !== n && o(e.$parent, t);
});
}
}
}), n.dateDisabled && S.attr("date-disabled", "dateDisabled({ date: date, mode: mode })"), n.showWeeks && S.attr("show-weeks", n.showWeeks), n.customClass && S.attr("custom-class", "customClass({ date: date, mode: mode })"), T ? $.$formatters.push(function(t) {
return e.date = t, t;
}) : ($.$$parserName = "date", $.$validators.date = p, $.$parsers.unshift(f), $.$formatters.push(function(t) {
return e.date = t, $.$isEmpty(t) ? t : l(t, v);
})), $.$viewChangeListeners.push(function() {
e.date = c.parse($.$viewValue, v, e.date);
}), t.bind("keydown", m), A = i(x)(e), x.remove(), b ? o.find("body").append(A) : t.after(A), e.$on("$destroy", function() {
!0 === e.isOpen && (a.$$phase || e.$apply(function() {
e.isOpen = !1;
})), A.remove(), t.unbind("keydown", m), o.unbind("click", g);
});
}, e.getText = function(t) {
return e[t + "Text"] || u[t + "Text"];
}, e.isDisabled = function(t) {
return "today" === t && (t = new Date()), e.watchData.minDate && e.compare(t, k.minDate) < 0 || e.watchData.maxDate && e.compare(t, k.maxDate) > 0;
}, e.compare = function(e, t) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate()) - new Date(t.getFullYear(), t.getMonth(), t.getDate());
}, e.dateSelection = function(n) {
angular.isDefined(n) && (e.date = n);
var i = e.date ? l(e.date, v) : null;
t.val(i), $.$setViewValue(i), y && (e.isOpen = !1, t[0].focus());
}, e.keydown = function(n) {
27 === n.which && (e.isOpen = !1, t[0].focus());
}, e.select = function(t) {
if ("today" === t) {
var n = new Date();
angular.isDate(e.date) ? (t = new Date(e.date)).setFullYear(n.getFullYear(), n.getMonth(), n.getDate()) : t = new Date(n.setHours(0, 0, 0, 0));
}
e.dateSelection(t);
}, e.close = function() {
e.isOpen = !1, t[0].focus();
}, e.$watch("isOpen", function(n) {
n ? (e.position = b ? s.offset(t) : s.position(t), e.position.top = e.position.top + t.prop("offsetHeight"), d(function() {
_ && e.$broadcast("uib:datepicker.focus"), o.bind("click", g);
}, 0, !1)) : o.unbind("click", g);
});
} ]).directive("uibDatepickerPopup", function() {
return {
require: [ "ngModel", "uibDatepickerPopup" ],
controller: "UibDatepickerPopupController",
scope: {
isOpen: "=?",
currentText: "@",
clearText: "@",
closeText: "@",
dateDisabled: "&",
customClass: "&"
},
link: function(e, t, n, i) {
var r = i[0];
i[1].init(r);
}
};
}).directive("uibDatepickerPopupWrap", function() {
return {
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/popup.html";
}
};
}), angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning", !1).controller("DatepickerController", [ "$scope", "$attrs", "$parse", "$interpolate", "$log", "dateFilter", "uibDatepickerConfig", "$datepickerSuppressError", "$datepickerSuppressWarning", function(e, t, n, i, r, o, a, s, l) {
l || r.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");
var c = this, u = {
$setViewValue: angular.noop
};
this.modes = [ "day", "month", "year" ], angular.forEach([ "formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "showWeeks", "startingDay", "yearRange", "shortcutPropagation" ], function(n, r) {
c[n] = angular.isDefined(t[n]) ? r < 6 ? i(t[n])(e.$parent) : e.$parent.$eval(t[n]) : a[n];
}), angular.forEach([ "minDate", "maxDate" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(e) {
c[i] = e ? new Date(e) : null, c.refreshView();
}) : c[i] = a[i] ? new Date(a[i]) : null;
}), angular.forEach([ "minMode", "maxMode" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(n) {
c[i] = angular.isDefined(n) ? n : t[i], e[i] = c[i], ("minMode" == i && c.modes.indexOf(e.datepickerMode) < c.modes.indexOf(c[i]) || "maxMode" == i && c.modes.indexOf(e.datepickerMode) > c.modes.indexOf(c[i])) && (e.datepickerMode = c[i]);
}) : (c[i] = a[i] || null, e[i] = c[i]);
}), e.datepickerMode = e.datepickerMode || a.datepickerMode, e.uniqueId = "datepicker-" + e.$id + "-" + Math.floor(1e4 * Math.random()), angular.isDefined(t.initDate) ? (this.activeDate = e.$parent.$eval(t.initDate) || new Date(), e.$parent.$watch(t.initDate, function(e) {
e && (u.$isEmpty(u.$modelValue) || u.$invalid) && (c.activeDate = e, c.refreshView());
})) : this.activeDate = new Date(), e.isActive = function(t) {
return 0 === c.compare(t.date, c.activeDate) && (e.activeDateId = t.uid, !0);
}, this.init = function(e) {
(u = e).$render = function() {
c.render();
};
}, this.render = function() {
if (u.$viewValue) {
var e = new Date(u.$viewValue);
!isNaN(e) ? this.activeDate = e : s || r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
}
this.refreshView();
}, this.refreshView = function() {
if (this.element) {
this._refreshView();
var e = u.$viewValue ? new Date(u.$viewValue) : null;
u.$setValidity("dateDisabled", !e || this.element && !this.isDisabled(e));
}
}, this.createDateObject = function(e, t) {
var n = u.$viewValue ? new Date(u.$viewValue) : null;
return {
date: e,
label: o(e, t),
selected: n && 0 === this.compare(e, n),
disabled: this.isDisabled(e),
current: 0 === this.compare(e, new Date()),
customClass: this.customClass(e)
};
}, this.isDisabled = function(n) {
return this.minDate && this.compare(n, this.minDate) < 0 || this.maxDate && this.compare(n, this.maxDate) > 0 || t.dateDisabled && e.dateDisabled({
date: n,
mode: e.datepickerMode
});
}, this.customClass = function(t) {
return e.customClass({
date: t,
mode: e.datepickerMode
});
}, this.split = function(e, t) {
for (var n = []; e.length > 0; ) n.push(e.splice(0, t));
return n;
}, this.fixTimeZone = function(e) {
var t = e.getHours();
e.setHours(23 === t ? t + 2 : 0);
}, e.select = function(t) {
if (e.datepickerMode === c.minMode) {
var n = u.$viewValue ? new Date(u.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
n.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()), u.$setViewValue(n), u.$render();
} else c.activeDate = t, e.datepickerMode = c.modes[c.modes.indexOf(e.datepickerMode) - 1];
}, e.move = function(e) {
var t = c.activeDate.getFullYear() + e * (c.step.years || 0), n = c.activeDate.getMonth() + e * (c.step.months || 0);
c.activeDate.setFullYear(t, n, 1), c.refreshView();
}, e.toggleMode = function(t) {
t = t || 1, e.datepickerMode === c.maxMode && 1 === t || e.datepickerMode === c.minMode && -1 === t || (e.datepickerMode = c.modes[c.modes.indexOf(e.datepickerMode) + t]);
}, e.keys = {
13: "enter",
32: "space",
33: "pageup",
34: "pagedown",
35: "end",
36: "home",
37: "left",
38: "up",
39: "right",
40: "down"
};
e.$on("uib:datepicker.focus", function() {
c.element[0].focus();
}), e.keydown = function(t) {
var n = e.keys[t.which];
if (n && !t.shiftKey && !t.altKey) if (t.preventDefault(), c.shortcutPropagation || t.stopPropagation(), "enter" === n || "space" === n) {
if (c.isDisabled(c.activeDate)) return;
e.select(c.activeDate);
} else !t.ctrlKey || "up" !== n && "down" !== n ? (c.handleKeyDown(n, t), c.refreshView()) : e.toggleMode("up" === n ? 1 : -1);
};
} ]).directive("datepicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/datepicker.html";
},
scope: {
datepickerMode: "=?",
dateDisabled: "&",
customClass: "&",
shortcutPropagation: "&?"
},
require: [ "datepicker", "^ngModel" ],
controller: "DatepickerController",
controllerAs: "datepicker",
link: function(n, i, r, o) {
t || e.warn("datepicker is now deprecated. Use uib-datepicker instead.");
var a = o[0], s = o[1];
a.init(s);
}
};
} ]).directive("daypicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: "template/datepicker/day.html",
require: [ "^datepicker", "daypicker" ],
controller: "UibDaypickerController",
link: function(n, i, r, o) {
t || e.warn("daypicker is now deprecated. Use uib-daypicker instead.");
var a = o[0];
o[1].init(a);
}
};
} ]).directive("monthpicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: "template/datepicker/month.html",
require: [ "^datepicker", "monthpicker" ],
controller: "UibMonthpickerController",
link: function(n, i, r, o) {
t || e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");
var a = o[0];
o[1].init(a);
}
};
} ]).directive("yearpicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: "template/datepicker/year.html",
require: [ "^datepicker", "yearpicker" ],
controller: "UibYearpickerController",
link: function(n, i, r, o) {
t || e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");
var a = o[0];
angular.extend(a, o[1]), a.yearpickerInit(), a.refreshView();
}
};
} ]).directive("datepickerPopup", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
require: [ "ngModel", "datepickerPopup" ],
controller: "UibDatepickerPopupController",
scope: {
isOpen: "=?",
currentText: "@",
clearText: "@",
closeText: "@",
dateDisabled: "&",
customClass: "&"
},
link: function(n, i, r, o) {
t || e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");
var a = o[0];
o[1].init(a);
}
};
} ]).directive("datepickerPopupWrap", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/popup.html";
},
link: function() {
t || e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.");
}
};
} ]), angular.module("ui.bootstrap.dropdown", [ "ui.bootstrap.position" ]).constant("uibDropdownConfig", {
openClass: "open"
}).service("uibDropdownService", [ "$document", "$rootScope", function(e, t) {
var n = null;
this.open = function(t) {
n || (e.bind("click", i), e.bind("keydown", r)), n && n !== t && (n.isOpen = !1), n = t;
}, this.close = function(t) {
n === t && (n = null, e.unbind("click", i), e.unbind("keydown", r));
};
var i = function(e) {
if (n && (!e || "disabled" !== n.getAutoClose())) {
var i = n.getToggleElement();
if (!(e && i && i[0].contains(e.target))) {
var r = n.getDropdownElement();
e && "outsideClick" === n.getAutoClose() && r && r[0].contains(e.target) || (n.isOpen = !1, t.$$phase || n.$apply());
}
}
}, r = function(e) {
27 === e.which ? (n.focusToggleElement(), i()) : n.isKeynavEnabled() && /(38|40)/.test(e.which) && n.isOpen && (e.preventDefault(), e.stopPropagation(), n.focusDropdownEntry(e.which));
};
} ]).controller("UibDropdownController", [ "$scope", "$element", "$attrs", "$parse", "uibDropdownConfig", "uibDropdownService", "$animate", "$uibPosition", "$document", "$compile", "$templateRequest", function(e, t, n, i, r, o, a, s, l, c, u) {
var d, h, f = this, p = e.$new(), g = r.openClass, m = angular.noop, v = n.onToggle ? i(n.onToggle) : angular.noop, y = !1, b = !1;
t.addClass("dropdown"), this.init = function() {
n.isOpen && (h = i(n.isOpen), m = h.assign, e.$watch(h, function(e) {
p.isOpen = !!e;
})), y = angular.isDefined(n.dropdownAppendToBody), b = angular.isDefined(n.uibKeyboardNav), y && f.dropdownMenu && (l.find("body").append(f.dropdownMenu), t.on("$destroy", function() {
f.dropdownMenu.remove();
}));
}, this.toggle = function(e) {
return p.isOpen = arguments.length ? !!e : !p.isOpen;
}, this.isOpen = function() {
return p.isOpen;
}, p.getToggleElement = function() {
return f.toggleElement;
}, p.getAutoClose = function() {
return n.autoClose || "always";
}, p.getElement = function() {
return t;
}, p.isKeynavEnabled = function() {
return b;
}, p.focusDropdownEntry = function(e) {
var n = f.dropdownMenu ? angular.element(f.dropdownMenu).find("a") : angular.element(t).find("ul").eq(0).find("a");
switch (e) {
case 40:
angular.isNumber(f.selectedOption) ? f.selectedOption = f.selectedOption === n.length - 1 ? f.selectedOption : f.selectedOption + 1 : f.selectedOption = 0;
break;

case 38:
angular.isNumber(f.selectedOption) ? f.selectedOption = 0 === f.selectedOption ? 0 : f.selectedOption - 1 : f.selectedOption = n.length - 1;
}
n[f.selectedOption].focus();
}, p.getDropdownElement = function() {
return f.dropdownMenu;
}, p.focusToggleElement = function() {
f.toggleElement && f.toggleElement[0].focus();
}, p.$watch("isOpen", function(n, i) {
if (y && f.dropdownMenu) {
var r = s.positionElements(t, f.dropdownMenu, "bottom-left", !0), l = {
top: r.top + "px",
display: n ? "block" : "none"
};
f.dropdownMenu.hasClass("dropdown-menu-right") ? (l.left = "auto", l.right = window.innerWidth - (r.left + t.prop("offsetWidth")) + "px") : (l.left = r.left + "px", l.right = "auto"), f.dropdownMenu.css(l);
}
if (a[n ? "addClass" : "removeClass"](t, g).then(function() {
angular.isDefined(n) && n !== i && v(e, {
open: !!n
});
}), n) f.dropdownMenuTemplateUrl && u(f.dropdownMenuTemplateUrl).then(function(e) {
d = p.$new(), c(e.trim())(d, function(e) {
var t = e;
f.dropdownMenu.replaceWith(t), f.dropdownMenu = t;
});
}), p.focusToggleElement(), o.open(p); else {
if (f.dropdownMenuTemplateUrl) {
d && d.$destroy();
var h = angular.element('<ul class="dropdown-menu"></ul>');
f.dropdownMenu.replaceWith(h), f.dropdownMenu = h;
}
o.close(p), f.selectedOption = null;
}
angular.isFunction(m) && m(e, n);
}), e.$on("$locationChangeSuccess", function() {
"disabled" !== p.getAutoClose() && (p.isOpen = !1);
});
var _ = e.$on("$destroy", function() {
p.$destroy();
});
p.$on("$destroy", _);
} ]).directive("uibDropdown", function() {
return {
controller: "UibDropdownController",
link: function(e, t, n, i) {
i.init();
}
};
}).directive("uibDropdownMenu", function() {
return {
restrict: "AC",
require: "?^uibDropdown",
link: function(e, t, n, i) {
if (i && !angular.isDefined(n.dropdownNested)) {
t.addClass("dropdown-menu");
var r = n.templateUrl;
r && (i.dropdownMenuTemplateUrl = r), i.dropdownMenu || (i.dropdownMenu = t);
}
}
};
}).directive("uibKeyboardNav", function() {
return {
restrict: "A",
require: "?^uibDropdown",
link: function(e, t, n, i) {
t.bind("keydown", function(e) {
if (-1 !== [ 38, 40 ].indexOf(e.which)) {
e.preventDefault(), e.stopPropagation();
var t = i.dropdownMenu.find("a");
switch (e.which) {
case 40:
angular.isNumber(i.selectedOption) ? i.selectedOption = i.selectedOption === t.length - 1 ? i.selectedOption : i.selectedOption + 1 : i.selectedOption = 0;
break;

case 38:
angular.isNumber(i.selectedOption) ? i.selectedOption = 0 === i.selectedOption ? 0 : i.selectedOption - 1 : i.selectedOption = t.length - 1;
}
t[i.selectedOption].focus();
}
});
}
};
}).directive("uibDropdownToggle", function() {
return {
require: "?^uibDropdown",
link: function(e, t, n, i) {
if (i) {
t.addClass("dropdown-toggle"), i.toggleElement = t;
var r = function(r) {
r.preventDefault(), t.hasClass("disabled") || n.disabled || e.$apply(function() {
i.toggle();
});
};
t.bind("click", r), t.attr({
"aria-haspopup": !0,
"aria-expanded": !1
}), e.$watch(i.isOpen, function(e) {
t.attr("aria-expanded", !!e);
}), e.$on("$destroy", function() {
t.unbind("click", r);
});
}
}
};
}), angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning", !1).service("dropdownService", [ "$log", "$dropdownSuppressWarning", "uibDropdownService", function(e, t, n) {
t || e.warn("dropdownService is now deprecated. Use uibDropdownService instead."), angular.extend(this, n);
} ]).controller("DropdownController", [ "$scope", "$element", "$attrs", "$parse", "uibDropdownConfig", "uibDropdownService", "$animate", "$uibPosition", "$document", "$compile", "$templateRequest", "$log", "$dropdownSuppressWarning", function(e, t, n, i, r, o, a, s, l, c, u, d, h) {
h || d.warn("DropdownController is now deprecated. Use UibDropdownController instead.");
var f, p, g = this, m = e.$new(), v = r.openClass, y = angular.noop, b = n.onToggle ? i(n.onToggle) : angular.noop, _ = !1, w = !1;
t.addClass("dropdown"), this.init = function() {
n.isOpen && (p = i(n.isOpen), y = p.assign, e.$watch(p, function(e) {
m.isOpen = !!e;
})), _ = angular.isDefined(n.dropdownAppendToBody), w = angular.isDefined(n.uibKeyboardNav), _ && g.dropdownMenu && (l.find("body").append(g.dropdownMenu), t.on("$destroy", function() {
g.dropdownMenu.remove();
}));
}, this.toggle = function(e) {
return m.isOpen = arguments.length ? !!e : !m.isOpen;
}, this.isOpen = function() {
return m.isOpen;
}, m.getToggleElement = function() {
return g.toggleElement;
}, m.getAutoClose = function() {
return n.autoClose || "always";
}, m.getElement = function() {
return t;
}, m.isKeynavEnabled = function() {
return w;
}, m.focusDropdownEntry = function(e) {
var n = g.dropdownMenu ? angular.element(g.dropdownMenu).find("a") : angular.element(t).find("ul").eq(0).find("a");
switch (e) {
case 40:
angular.isNumber(g.selectedOption) ? g.selectedOption = g.selectedOption === n.length - 1 ? g.selectedOption : g.selectedOption + 1 : g.selectedOption = 0;
break;

case 38:
angular.isNumber(g.selectedOption) ? g.selectedOption = 0 === g.selectedOption ? 0 : g.selectedOption - 1 : g.selectedOption = n.length - 1;
}
n[g.selectedOption].focus();
}, m.getDropdownElement = function() {
return g.dropdownMenu;
}, m.focusToggleElement = function() {
g.toggleElement && g.toggleElement[0].focus();
}, m.$watch("isOpen", function(n, i) {
if (_ && g.dropdownMenu) {
var r = s.positionElements(t, g.dropdownMenu, "bottom-left", !0), l = {
top: r.top + "px",
display: n ? "block" : "none"
};
g.dropdownMenu.hasClass("dropdown-menu-right") ? (l.left = "auto", l.right = window.innerWidth - (r.left + t.prop("offsetWidth")) + "px") : (l.left = r.left + "px", l.right = "auto"), g.dropdownMenu.css(l);
}
if (a[n ? "addClass" : "removeClass"](t, v).then(function() {
angular.isDefined(n) && n !== i && b(e, {
open: !!n
});
}), n) g.dropdownMenuTemplateUrl && u(g.dropdownMenuTemplateUrl).then(function(e) {
f = m.$new(), c(e.trim())(f, function(e) {
var t = e;
g.dropdownMenu.replaceWith(t), g.dropdownMenu = t;
});
}), m.focusToggleElement(), o.open(m); else {
if (g.dropdownMenuTemplateUrl) {
f && f.$destroy();
var d = angular.element('<ul class="dropdown-menu"></ul>');
g.dropdownMenu.replaceWith(d), g.dropdownMenu = d;
}
o.close(m), g.selectedOption = null;
}
angular.isFunction(y) && y(e, n);
}), e.$on("$locationChangeSuccess", function() {
"disabled" !== m.getAutoClose() && (m.isOpen = !1);
});
var C = e.$on("$destroy", function() {
m.$destroy();
});
m.$on("$destroy", C);
} ]).directive("dropdown", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
controller: "DropdownController",
link: function(n, i, r, o) {
t || e.warn("dropdown is now deprecated. Use uib-dropdown instead."), o.init();
}
};
} ]).directive("dropdownMenu", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
restrict: "AC",
require: "?^dropdown",
link: function(n, i, r, o) {
if (o && !angular.isDefined(r.dropdownNested)) {
t || e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."), i.addClass("dropdown-menu");
var a = r.templateUrl;
a && (o.dropdownMenuTemplateUrl = a), o.dropdownMenu || (o.dropdownMenu = i);
}
}
};
} ]).directive("keyboardNav", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
restrict: "A",
require: "?^dropdown",
link: function(n, i, r, o) {
t || e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."), i.bind("keydown", function(e) {
if (-1 !== [ 38, 40 ].indexOf(e.which)) {
e.preventDefault(), e.stopPropagation();
var t = o.dropdownMenu.find("a");
switch (e.which) {
case 40:
angular.isNumber(o.selectedOption) ? o.selectedOption = o.selectedOption === t.length - 1 ? o.selectedOption : o.selectedOption + 1 : o.selectedOption = 0;
break;

case 38:
angular.isNumber(o.selectedOption) ? o.selectedOption = 0 === o.selectedOption ? 0 : o.selectedOption - 1 : o.selectedOption = t.length - 1;
}
t[o.selectedOption].focus();
}
});
}
};
} ]).directive("dropdownToggle", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
require: "?^dropdown",
link: function(n, i, r, o) {
if (t || e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."), o) {
i.addClass("dropdown-toggle"), o.toggleElement = i;
var a = function(e) {
e.preventDefault(), i.hasClass("disabled") || r.disabled || n.$apply(function() {
o.toggle();
});
};
i.bind("click", a), i.attr({
"aria-haspopup": !0,
"aria-expanded": !1
}), n.$watch(o.isOpen, function(e) {
i.attr("aria-expanded", !!e);
}), n.$on("$destroy", function() {
i.unbind("click", a);
});
}
}
};
} ]), angular.module("ui.bootstrap.stackedMap", []).factory("$$stackedMap", function() {
return {
createNew: function() {
var e = [];
return {
add: function(t, n) {
e.push({
key: t,
value: n
});
},
get: function(t) {
for (var n = 0; n < e.length; n++) if (t == e[n].key) return e[n];
},
keys: function() {
for (var t = [], n = 0; n < e.length; n++) t.push(e[n].key);
return t;
},
top: function() {
return e[e.length - 1];
},
remove: function(t) {
for (var n = -1, i = 0; i < e.length; i++) if (t == e[i].key) {
n = i;
break;
}
return e.splice(n, 1)[0];
},
removeTop: function() {
return e.splice(e.length - 1, 1)[0];
},
length: function() {
return e.length;
}
};
}
};
}), angular.module("ui.bootstrap.modal", [ "ui.bootstrap.stackedMap" ]).factory("$$multiMap", function() {
return {
createNew: function() {
var e = {};
return {
entries: function() {
return Object.keys(e).map(function(t) {
return {
key: t,
value: e[t]
};
});
},
get: function(t) {
return e[t];
},
hasKey: function(t) {
return !!e[t];
},
keys: function() {
return Object.keys(e);
},
put: function(t, n) {
e[t] || (e[t] = []), e[t].push(n);
},
remove: function(t, n) {
var i = e[t];
if (i) {
var r = i.indexOf(n);
-1 !== r && i.splice(r, 1), i.length || delete e[t];
}
}
};
}
};
}).directive("uibModalBackdrop", [ "$animate", "$injector", "$uibModalStack", function(e, t, n) {
function i(t, i, o) {
i.addClass("modal-backdrop"), o.modalInClass && (r ? r(i, {
addClass: o.modalInClass
}).start() : e.addClass(i, o.modalInClass), t.$on(n.NOW_CLOSING_EVENT, function(t, n) {
var a = n();
r ? r(i, {
removeClass: o.modalInClass
}).start().then(a) : e.removeClass(i, o.modalInClass).then(a);
}));
}
var r = null;
return t.has("$animateCss") && (r = t.get("$animateCss")), {
replace: !0,
templateUrl: "template/modal/backdrop.html",
compile: function(e, t) {
return e.addClass(t.backdropClass), i;
}
};
} ]).directive("uibModalWindow", [ "$uibModalStack", "$q", "$animate", "$injector", function(e, t, n, i) {
var r = null;
return i.has("$animateCss") && (r = i.get("$animateCss")), {
scope: {
index: "@"
},
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/modal/window.html";
},
link: function(i, o, a) {
o.addClass(a.windowClass || ""), o.addClass(a.windowTopClass || ""), i.size = a.size, i.close = function(t) {
var n = e.getTop();
n && n.value.backdrop && "static" !== n.value.backdrop && t.target === t.currentTarget && (t.preventDefault(), t.stopPropagation(), e.dismiss(n.key, "backdrop click"));
}, o.on("click", i.close), i.$isRendered = !0;
var s = t.defer();
a.$observe("modalRender", function(e) {
"true" == e && s.resolve();
}), s.promise.then(function() {
var s = null;
a.modalInClass && (s = r ? r(o, {
addClass: a.modalInClass
}).start() : n.addClass(o, a.modalInClass), i.$on(e.NOW_CLOSING_EVENT, function(e, t) {
var i = t();
r ? r(o, {
removeClass: a.modalInClass
}).start().then(i) : n.removeClass(o, a.modalInClass).then(i);
})), t.when(s).then(function() {
var e = o[0].querySelector("[autofocus]");
e ? e.focus() : o[0].focus();
});
var l = e.getTop();
l && e.modalRendered(l.key);
});
}
};
} ]).directive("uibModalAnimationClass", function() {
return {
compile: function(e, t) {
t.modalAnimation && e.addClass(t.uibModalAnimationClass);
}
};
}).directive("uibModalTransclude", function() {
return {
link: function(e, t, n, i, r) {
r(e.$parent, function(e) {
t.empty(), t.append(e);
});
}
};
}).factory("$uibModalStack", [ "$animate", "$timeout", "$document", "$compile", "$rootScope", "$q", "$injector", "$$multiMap", "$$stackedMap", function(e, t, n, i, r, o, a, s, l) {
function c() {
for (var e = -1, t = _.keys(), n = 0; n < t.length; n++) _.get(t[n]).value.backdrop && (e = n);
return e;
}
function u(e, t) {
var i = n.find("body").eq(0), r = _.get(e).value;
_.remove(e), f(r.modalDomEl, r.modalScope, function() {
var t = r.openedClass || b;
w.remove(t, e), i.toggleClass(t, w.hasKey(t)), d(!0);
}), h(), t && t.focus ? t.focus() : i.focus();
}
function d(e) {
var t;
_.length() > 0 && (t = _.top().value).modalDomEl.toggleClass(t.windowTopClass || "", e);
}
function h() {
if (m && -1 == c()) {
var e = v;
f(m, v, function() {
e = null;
}), m = void 0, v = void 0;
}
}
function f(t, n, i) {
function r() {
r.done || (r.done = !0, g ? g(t, {
event: "leave"
}).start().then(function() {
t.remove();
}) : e.leave(t), n.$destroy(), i && i());
}
var a, s = null;
return n.$broadcast(C.NOW_CLOSING_EVENT, function() {
return a || (a = o.defer(), s = a.promise), function() {
a.resolve();
};
}), o.when(s).then(r);
}
function p(e, t, n) {
return !e.value.modalScope.$broadcast("modal.closing", t, n).defaultPrevented;
}
var g = null;
a.has("$animateCss") && (g = a.get("$animateCss"));
var m, v, y, b = "modal-open", _ = l.createNew(), w = s.createNew(), C = {
NOW_CLOSING_EVENT: "modal.stack.now-closing"
}, x = 0;
return r.$watch(c, function(e) {
v && (v.index = e);
}), n.bind("keydown", function(e) {
if (e.isDefaultPrevented()) return e;
var t = _.top();
if (t && t.value.keyboard) switch (e.which) {
case 27:
e.preventDefault(), r.$apply(function() {
C.dismiss(t.key, "escape key press");
});
break;

case 9:
C.loadFocusElementList(t);
var n = !1;
e.shiftKey ? C.isFocusInFirstItem(e) && (n = C.focusLastFocusableElement()) : C.isFocusInLastItem(e) && (n = C.focusFirstFocusableElement()), n && (e.preventDefault(), e.stopPropagation());
}
}), C.open = function(e, t) {
var o = n[0].activeElement, a = t.openedClass || b;
d(!1), _.add(e, {
deferred: t.deferred,
renderDeferred: t.renderDeferred,
modalScope: t.scope,
backdrop: t.backdrop,
keyboard: t.keyboard,
openedClass: t.openedClass,
windowTopClass: t.windowTopClass
}), w.put(a, e);
var s = n.find("body").eq(0), l = c();
if (l >= 0 && !m) {
(v = r.$new(!0)).index = l;
var u = angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');
u.attr("backdrop-class", t.backdropClass), t.animation && u.attr("modal-animation", "true"), m = i(u)(v), s.append(m);
}
var h = angular.element('<div uib-modal-window="modal-window"></div>');
h.attr({
"template-url": t.windowTemplateUrl,
"window-class": t.windowClass,
"window-top-class": t.windowTopClass,
size: t.size,
index: _.length() - 1,
animate: "animate"
}).html(t.content), t.animation && h.attr("modal-animation", "true");
var f = i(h)(t.scope);
_.top().value.modalDomEl = f, _.top().value.modalOpener = o, s.append(f), s.addClass(a), C.clearFocusListCache();
}, C.close = function(e, t) {
var n = _.get(e);
return n && p(n, t, !0) ? (n.value.modalScope.$$uibDestructionScheduled = !0, n.value.deferred.resolve(t), u(e, n.value.modalOpener), !0) : !n;
}, C.dismiss = function(e, t) {
var n = _.get(e);
return n && p(n, t, !1) ? (n.value.modalScope.$$uibDestructionScheduled = !0, n.value.deferred.reject(t), u(e, n.value.modalOpener), !0) : !n;
}, C.dismissAll = function(e) {
for (var t = this.getTop(); t && this.dismiss(t.key, e); ) t = this.getTop();
}, C.getTop = function() {
return _.top();
}, C.modalRendered = function(e) {
var t = _.get(e);
t && t.value.renderDeferred.resolve();
}, C.focusFirstFocusableElement = function() {
return y.length > 0 && (y[0].focus(), !0);
}, C.focusLastFocusableElement = function() {
return y.length > 0 && (y[y.length - 1].focus(), !0);
}, C.isFocusInFirstItem = function(e) {
return y.length > 0 && (e.target || e.srcElement) == y[0];
}, C.isFocusInLastItem = function(e) {
return y.length > 0 && (e.target || e.srcElement) == y[y.length - 1];
}, C.clearFocusListCache = function() {
y = [], x = 0;
}, C.loadFocusElementList = function(e) {
if ((void 0 === y || !y.length) && e) {
var t = e.value.modalDomEl;
t && t.length && (y = t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"));
}
}, C;
} ]).provider("$uibModal", function() {
var e = {
options: {
animation: !0,
backdrop: !0,
keyboard: !0
},
$get: [ "$injector", "$rootScope", "$q", "$templateRequest", "$controller", "$uibModalStack", "$modalSuppressWarning", "$log", function(t, n, i, r, o, a, s, l) {
function c(e) {
return e.template ? i.when(e.template) : r(angular.isFunction(e.templateUrl) ? e.templateUrl() : e.templateUrl);
}
function u(e) {
var n = [];
return angular.forEach(e, function(e) {
angular.isFunction(e) || angular.isArray(e) ? n.push(i.when(t.invoke(e))) : angular.isString(e) ? n.push(i.when(t.get(e))) : n.push(i.when(e));
}), n;
}
var d = {}, h = null;
return d.getPromiseChain = function() {
return h;
}, d.open = function(t) {
function r() {
return v;
}
var d = i.defer(), f = i.defer(), p = i.defer(), g = {
result: d.promise,
opened: f.promise,
rendered: p.promise,
close: function(e) {
return a.close(g, e);
},
dismiss: function(e) {
return a.dismiss(g, e);
}
};
if (t = angular.extend({}, e.options, t), t.resolve = t.resolve || {}, !t.template && !t.templateUrl) throw new Error("One of template or templateUrl options is required.");
var m, v = i.all([ c(t) ].concat(u(t.resolve)));
return m = h = i.all([ h ]).then(r, r).then(function(e) {
var i = (t.scope || n).$new();
i.$close = g.close, i.$dismiss = g.dismiss, i.$on("$destroy", function() {
i.$$uibDestructionScheduled || i.$dismiss("$uibUnscheduledDestruction");
});
var r, c = {}, u = 1;
t.controller && (c.$scope = i, c.$uibModalInstance = g, Object.defineProperty(c, "$modalInstance", {
get: function() {
return s || l.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."), g;
}
}), angular.forEach(t.resolve, function(t, n) {
c[n] = e[u++];
}), r = o(t.controller, c), t.controllerAs && (t.bindToController && angular.extend(r, i), i[t.controllerAs] = r)), a.open(g, {
scope: i,
deferred: d,
renderDeferred: p,
content: e[0],
animation: t.animation,
backdrop: t.backdrop,
keyboard: t.keyboard,
backdropClass: t.backdropClass,
windowTopClass: t.windowTopClass,
windowClass: t.windowClass,
windowTemplateUrl: t.windowTemplateUrl,
size: t.size,
openedClass: t.openedClass
}), f.resolve(!0);
}, function(e) {
f.reject(e), d.reject(e);
}).finally(function() {
h === m && (h = null);
}), g;
}, d;
} ]
};
return e;
}), angular.module("ui.bootstrap.modal").value("$modalSuppressWarning", !1).directive("modalBackdrop", [ "$animate", "$injector", "$modalStack", "$log", "$modalSuppressWarning", function(e, t, n, i, r) {
function o(t, o, s) {
r || i.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."), o.addClass("modal-backdrop"), s.modalInClass && (a ? a(o, {
addClass: s.modalInClass
}).start() : e.addClass(o, s.modalInClass), t.$on(n.NOW_CLOSING_EVENT, function(t, n) {
var i = n();
a ? a(o, {
removeClass: s.modalInClass
}).start().then(i) : e.removeClass(o, s.modalInClass).then(i);
}));
}
var a = null;
return t.has("$animateCss") && (a = t.get("$animateCss")), {
replace: !0,
templateUrl: "template/modal/backdrop.html",
compile: function(e, t) {
return e.addClass(t.backdropClass), o;
}
};
} ]).directive("modalWindow", [ "$modalStack", "$q", "$animate", "$injector", "$log", "$modalSuppressWarning", function(e, t, n, i, r, o) {
var a = null;
return i.has("$animateCss") && (a = i.get("$animateCss")), {
scope: {
index: "@"
},
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/modal/window.html";
},
link: function(i, s, l) {
o || r.warn("modal-window is now deprecated. Use uib-modal-window instead."), s.addClass(l.windowClass || ""), s.addClass(l.windowTopClass || ""), i.size = l.size, i.close = function(t) {
var n = e.getTop();
n && n.value.backdrop && "static" !== n.value.backdrop && t.target === t.currentTarget && (t.preventDefault(), t.stopPropagation(), e.dismiss(n.key, "backdrop click"));
}, s.on("click", i.close), i.$isRendered = !0;
var c = t.defer();
l.$observe("modalRender", function(e) {
"true" == e && c.resolve();
}), c.promise.then(function() {
var r = null;
l.modalInClass && (r = a ? a(s, {
addClass: l.modalInClass
}).start() : n.addClass(s, l.modalInClass), i.$on(e.NOW_CLOSING_EVENT, function(e, t) {
var i = t();
a ? a(s, {
removeClass: l.modalInClass
}).start().then(i) : n.removeClass(s, l.modalInClass).then(i);
})), t.when(r).then(function() {
var e = s[0].querySelector("[autofocus]");
e ? e.focus() : s[0].focus();
});
var o = e.getTop();
o && e.modalRendered(o.key);
});
}
};
} ]).directive("modalAnimationClass", [ "$log", "$modalSuppressWarning", function(e, t) {
return {
compile: function(n, i) {
t || e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."), i.modalAnimation && n.addClass(i.modalAnimationClass);
}
};
} ]).directive("modalTransclude", [ "$log", "$modalSuppressWarning", function(e, t) {
return {
link: function(n, i, r, o, a) {
t || e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."), a(n.$parent, function(e) {
i.empty(), i.append(e);
});
}
};
} ]).service("$modalStack", [ "$animate", "$timeout", "$document", "$compile", "$rootScope", "$q", "$injector", "$$multiMap", "$$stackedMap", "$uibModalStack", "$log", "$modalSuppressWarning", function(e, t, n, i, r, o, a, s, l, c, u, d) {
d || u.warn("$modalStack is now deprecated. Use $uibModalStack instead."), angular.extend(this, c);
} ]).provider("$modal", [ "$uibModalProvider", function(e) {
angular.extend(this, e), this.$get = [ "$injector", "$log", "$modalSuppressWarning", function(t, n, i) {
return i || n.warn("$modal is now deprecated. Use $uibModal instead."), t.invoke(e.$get);
} ];
} ]), angular.module("ui.bootstrap.pagination", []).controller("UibPaginationController", [ "$scope", "$attrs", "$parse", function(e, t, n) {
var i = this, r = {
$setViewValue: angular.noop
}, o = t.numPages ? n(t.numPages).assign : angular.noop;
this.init = function(a, s) {
r = a, this.config = s, r.$render = function() {
i.render();
}, t.itemsPerPage ? e.$parent.$watch(n(t.itemsPerPage), function(t) {
i.itemsPerPage = parseInt(t, 10), e.totalPages = i.calculateTotalPages();
}) : this.itemsPerPage = s.itemsPerPage, e.$watch("totalItems", function() {
e.totalPages = i.calculateTotalPages();
}), e.$watch("totalPages", function(t) {
o(e.$parent, t), e.page > t ? e.selectPage(t) : r.$render();
});
}, this.calculateTotalPages = function() {
var t = this.itemsPerPage < 1 ? 1 : Math.ceil(e.totalItems / this.itemsPerPage);
return Math.max(t || 0, 1);
}, this.render = function() {
e.page = parseInt(r.$viewValue, 10) || 1;
}, e.selectPage = function(t, n) {
n && n.preventDefault(), (!e.ngDisabled || !n) && e.page !== t && t > 0 && t <= e.totalPages && (n && n.target && n.target.blur(), r.$setViewValue(t), r.$render());
}, e.getText = function(t) {
return e[t + "Text"] || i.config[t + "Text"];
}, e.noPrevious = function() {
return 1 === e.page;
}, e.noNext = function() {
return e.page === e.totalPages;
};
} ]).constant("uibPaginationConfig", {
itemsPerPage: 10,
boundaryLinks: !1,
directionLinks: !0,
firstText: "First",
previousText: "Previous",
nextText: "Next",
lastText: "Last",
rotate: !0
}).directive("uibPagination", [ "$parse", "uibPaginationConfig", function(e, t) {
return {
restrict: "EA",
scope: {
totalItems: "=",
firstText: "@",
previousText: "@",
nextText: "@",
lastText: "@",
ngDisabled: "="
},
require: [ "uibPagination", "?ngModel" ],
controller: "UibPaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pagination.html";
},
replace: !0,
link: function(n, i, r, o) {
function a(e, t, n) {
return {
number: e,
text: t,
active: n
};
}
function s(e, t) {
var n = [], i = 1, r = t, o = angular.isDefined(u) && u < t;
o && (d ? (r = (i = Math.max(e - Math.floor(u / 2), 1)) + u - 1) > t && (i = (r = t) - u + 1) : (i = (Math.ceil(e / u) - 1) * u + 1, r = Math.min(i + u - 1, t)));
for (var s = i; s <= r; s++) {
var l = a(s, s, s === e);
n.push(l);
}
if (o && !d) {
if (i > 1) {
var c = a(i - 1, "...", !1);
n.unshift(c);
}
if (r < t) {
var h = a(r + 1, "...", !1);
n.push(h);
}
}
return n;
}
var l = o[0], c = o[1];
if (c) {
var u = angular.isDefined(r.maxSize) ? n.$parent.$eval(r.maxSize) : t.maxSize, d = angular.isDefined(r.rotate) ? n.$parent.$eval(r.rotate) : t.rotate;
n.boundaryLinks = angular.isDefined(r.boundaryLinks) ? n.$parent.$eval(r.boundaryLinks) : t.boundaryLinks, n.directionLinks = angular.isDefined(r.directionLinks) ? n.$parent.$eval(r.directionLinks) : t.directionLinks, l.init(c, t), r.maxSize && n.$parent.$watch(e(r.maxSize), function(e) {
u = parseInt(e, 10), l.render();
});
var h = l.render;
l.render = function() {
h(), n.page > 0 && n.page <= n.totalPages && (n.pages = s(n.page, n.totalPages));
};
}
}
};
} ]).constant("uibPagerConfig", {
itemsPerPage: 10,
previousText: "« Previous",
nextText: "Next »",
align: !0
}).directive("uibPager", [ "uibPagerConfig", function(e) {
return {
restrict: "EA",
scope: {
totalItems: "=",
previousText: "@",
nextText: "@",
ngDisabled: "="
},
require: [ "uibPager", "?ngModel" ],
controller: "UibPaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pager.html";
},
replace: !0,
link: function(t, n, i, r) {
var o = r[0], a = r[1];
a && (t.align = angular.isDefined(i.align) ? t.$parent.$eval(i.align) : e.align, o.init(a, e));
}
};
} ]), angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning", !1).controller("PaginationController", [ "$scope", "$attrs", "$parse", "$log", "$paginationSuppressWarning", function(e, t, n, i, r) {
r || i.warn("PaginationController is now deprecated. Use UibPaginationController instead.");
var o = this, a = {
$setViewValue: angular.noop
}, s = t.numPages ? n(t.numPages).assign : angular.noop;
this.init = function(i, r) {
a = i, this.config = r, a.$render = function() {
o.render();
}, t.itemsPerPage ? e.$parent.$watch(n(t.itemsPerPage), function(t) {
o.itemsPerPage = parseInt(t, 10), e.totalPages = o.calculateTotalPages();
}) : this.itemsPerPage = r.itemsPerPage, e.$watch("totalItems", function() {
e.totalPages = o.calculateTotalPages();
}), e.$watch("totalPages", function(t) {
s(e.$parent, t), e.page > t ? e.selectPage(t) : a.$render();
});
}, this.calculateTotalPages = function() {
var t = this.itemsPerPage < 1 ? 1 : Math.ceil(e.totalItems / this.itemsPerPage);
return Math.max(t || 0, 1);
}, this.render = function() {
e.page = parseInt(a.$viewValue, 10) || 1;
}, e.selectPage = function(t, n) {
n && n.preventDefault(), (!e.ngDisabled || !n) && e.page !== t && t > 0 && t <= e.totalPages && (n && n.target && n.target.blur(), a.$setViewValue(t), a.$render());
}, e.getText = function(t) {
return e[t + "Text"] || o.config[t + "Text"];
}, e.noPrevious = function() {
return 1 === e.page;
}, e.noNext = function() {
return e.page === e.totalPages;
};
} ]).directive("pagination", [ "$parse", "uibPaginationConfig", "$log", "$paginationSuppressWarning", function(e, t, n, i) {
return {
restrict: "EA",
scope: {
totalItems: "=",
firstText: "@",
previousText: "@",
nextText: "@",
lastText: "@",
ngDisabled: "="
},
require: [ "pagination", "?ngModel" ],
controller: "PaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pagination.html";
},
replace: !0,
link: function(r, o, a, s) {
function l(e, t, n) {
return {
number: e,
text: t,
active: n
};
}
function c(e, t) {
var n = [], i = 1, r = t, o = angular.isDefined(h) && h < t;
o && (f ? (r = (i = Math.max(e - Math.floor(h / 2), 1)) + h - 1) > t && (i = (r = t) - h + 1) : (i = (Math.ceil(e / h) - 1) * h + 1, r = Math.min(i + h - 1, t)));
for (var a = i; a <= r; a++) {
var s = l(a, a, a === e);
n.push(s);
}
if (o && !f) {
if (i > 1) {
var c = l(i - 1, "...", !1);
n.unshift(c);
}
if (r < t) {
var u = l(r + 1, "...", !1);
n.push(u);
}
}
return n;
}
i || n.warn("pagination is now deprecated. Use uib-pagination instead.");
var u = s[0], d = s[1];
if (d) {
var h = angular.isDefined(a.maxSize) ? r.$parent.$eval(a.maxSize) : t.maxSize, f = angular.isDefined(a.rotate) ? r.$parent.$eval(a.rotate) : t.rotate;
r.boundaryLinks = angular.isDefined(a.boundaryLinks) ? r.$parent.$eval(a.boundaryLinks) : t.boundaryLinks, r.directionLinks = angular.isDefined(a.directionLinks) ? r.$parent.$eval(a.directionLinks) : t.directionLinks, u.init(d, t), a.maxSize && r.$parent.$watch(e(a.maxSize), function(e) {
h = parseInt(e, 10), u.render();
});
var p = u.render;
u.render = function() {
p(), r.page > 0 && r.page <= r.totalPages && (r.pages = c(r.page, r.totalPages));
};
}
}
};
} ]).directive("pager", [ "uibPagerConfig", "$log", "$paginationSuppressWarning", function(e, t, n) {
return {
restrict: "EA",
scope: {
totalItems: "=",
previousText: "@",
nextText: "@",
ngDisabled: "="
},
require: [ "pager", "?ngModel" ],
controller: "PaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pager.html";
},
replace: !0,
link: function(i, r, o, a) {
n || t.warn("pager is now deprecated. Use uib-pager instead.");
var s = a[0], l = a[1];
l && (i.align = angular.isDefined(o.align) ? i.$parent.$eval(o.align) : e.align, s.init(l, e));
}
};
} ]), angular.module("ui.bootstrap.tooltip", [ "ui.bootstrap.position", "ui.bootstrap.stackedMap" ]).provider("$uibTooltip", function() {
function e(e) {
var t = /[A-Z]/g;
return e.replace(t, function(e, t) {
return (t ? "-" : "") + e.toLowerCase();
});
}
var t = {
placement: "top",
animation: !0,
popupDelay: 0,
popupCloseDelay: 0,
useContentExp: !1
}, n = {
mouseenter: "mouseleave",
click: "click",
focus: "blur",
none: ""
}, i = {};
this.options = function(e) {
angular.extend(i, e);
}, this.setTriggers = function(e) {
angular.extend(n, e);
}, this.$get = [ "$window", "$compile", "$timeout", "$document", "$uibPosition", "$interpolate", "$rootScope", "$parse", "$$stackedMap", function(r, o, a, s, l, c, u, d, h) {
var f = h.createNew();
return s.on("keypress", function(e) {
if (27 === e.which) {
var t = f.top();
t && (t.value.close(), f.removeTop(), t = null);
}
}), function(r, u, h, p) {
function g(e) {
var t = (e || p.trigger || h).split(" ");
return {
show: t,
hide: t.map(function(e) {
return n[e] || e;
})
};
}
p = angular.extend({}, t, i, p);
var m = e(r), v = c.startSymbol(), y = c.endSymbol(), b = "<div " + m + '-popup title="' + v + "title" + y + '" ' + (p.useContentExp ? 'content-exp="contentExp()" ' : 'content="' + v + "content" + y + '" ') + 'placement="' + v + "placement" + y + '" popup-class="' + v + "popupClass" + y + '" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';
return {
compile: function(e, t) {
var n = o(b);
return function(e, t, i, o) {
function c() {
O.isOpen ? m() : h();
}
function h() {
L && !e.$eval(i[u + "Enable"]) || (_(), x(), O.popupDelay ? E || (E = a(v, O.popupDelay, !1)) : v());
}
function m() {
y(), O.popupCloseDelay ? F || (F = a(b, O.popupCloseDelay, !1)) : b();
}
function v() {
if (y(), _(), !O.content) return angular.noop;
w(), O.$evalAsync(function() {
O.isOpen = !0, S(!0), H();
});
}
function y() {
E && (a.cancel(E), E = null), M && (a.cancel(M), M = null);
}
function b() {
y(), _(), O && O.$evalAsync(function() {
O.isOpen = !1, S(!1), O.animation ? D || (D = a(C, 150, !1)) : C();
});
}
function _() {
F && (a.cancel(F), F = null), D && (a.cancel(D), D = null);
}
function w() {
k || (T = O.$new(), k = n(T, function(e) {
I ? s.find("body").append(e) : t.after(e);
}), $());
}
function C() {
A(), D = null, k && (k.remove(), k = null), T && (T.$destroy(), T = null);
}
function x() {
O.title = i[u + "Title"], O.content = B ? B(e) : i[r], O.popupClass = i[u + "Class"], O.placement = angular.isDefined(i[u + "Placement"]) ? i[u + "Placement"] : p.placement;
var t = parseInt(i[u + "PopupDelay"], 10), n = parseInt(i[u + "PopupCloseDelay"], 10);
O.popupDelay = isNaN(t) ? p.popupDelay : t, O.popupCloseDelay = isNaN(n) ? p.popupCloseDelay : n;
}
function S(t) {
N && angular.isFunction(N.assign) && N.assign(e, t);
}
function $() {
j.length = 0, B ? (j.push(e.$watch(B, function(e) {
O.content = e, !e && O.isOpen && b();
})), j.push(T.$watch(function() {
R || (R = !0, T.$$postDigest(function() {
R = !1, O && O.isOpen && H();
}));
}))) : j.push(i.$observe(r, function(e) {
O.content = e, !e && O.isOpen ? b() : H();
})), j.push(i.$observe(u + "Title", function(e) {
O.title = e, O.isOpen && H();
})), j.push(i.$observe(u + "Placement", function(e) {
O.placement = e || p.placement, O.isOpen && H();
}));
}
function A() {
j.length && (angular.forEach(j, function(e) {
e();
}), j.length = 0);
}
var k, T, D, E, F, M, I = !!angular.isDefined(p.appendToBody) && p.appendToBody, P = g(void 0), L = angular.isDefined(i[u + "Enable"]), O = e.$new(!0), R = !1, N = !!angular.isDefined(i[u + "IsOpen"]) && d(i[u + "IsOpen"]), B = !!p.useContentExp && d(i[r]), j = [], H = function() {
k && k.html() && (M || (M = a(function() {
k.css({
top: 0,
left: 0
});
var e = l.positionElements(t, k, O.placement, I);
e.top += "px", e.left += "px", e.visibility = "visible", k.css(e), M = null;
}, 0, !1)));
};
O.origScope = e, O.isOpen = !1, f.add(O, {
close: b
}), O.contentExp = function() {
return O.content;
}, i.$observe("disabled", function(e) {
e && y(), e && O.isOpen && b();
}), N && e.$watch(N, function(e) {
O && !e === O.isOpen && c();
});
var V = function() {
P.show.forEach(function(e) {
t.unbind(e, h);
}), P.hide.forEach(function(e) {
e.split(" ").forEach(function(e) {
t[0].removeEventListener(e, m);
});
});
};
!function() {
var e = i[u + "Trigger"];
V(), "none" !== (P = g(e)).show && P.show.forEach(function(e, n) {
e === P.hide[n] ? t[0].addEventListener(e, c) : e && (t[0].addEventListener(e, h), P.hide[n].split(" ").forEach(function(e) {
t[0].addEventListener(e, m);
})), t.on("keypress", function(e) {
27 === e.which && m();
});
});
}();
var U = e.$eval(i[u + "Animation"]);
O.animation = angular.isDefined(U) ? !!U : p.animation;
var z = e.$eval(i[u + "AppendToBody"]);
(I = angular.isDefined(z) ? z : I) && e.$on("$locationChangeSuccess", function() {
O.isOpen && b();
}), e.$on("$destroy", function() {
y(), _(), V(), C(), f.remove(O), O = null;
});
};
}
};
};
} ];
}).directive("uibTooltipTemplateTransclude", [ "$animate", "$sce", "$compile", "$templateRequest", function(e, t, n, i) {
return {
link: function(r, o, a) {
var s, l, c, u = r.$eval(a.tooltipTemplateTranscludeScope), d = 0, h = function() {
l && (l.remove(), l = null), s && (s.$destroy(), s = null), c && (e.leave(c).then(function() {
l = null;
}), l = c, c = null);
};
r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude), function(t) {
var a = ++d;
t ? (i(t, !0).then(function(i) {
if (a === d) {
var r = u.$new(), l = n(i)(r, function(t) {
h(), e.enter(t, o);
});
c = l, (s = r).$emit("$includeContentLoaded", t);
}
}, function() {
a === d && (h(), r.$emit("$includeContentError", t));
}), r.$emit("$includeContentRequested", t)) : h();
}), r.$on("$destroy", h);
}
};
} ]).directive("uibTooltipClasses", function() {
return {
restrict: "A",
link: function(e, t, n) {
e.placement && t.addClass(e.placement), e.popupClass && t.addClass(e.popupClass), e.animation() && t.addClass(n.tooltipAnimationClass);
}
};
}).directive("uibTooltipPopup", function() {
return {
replace: !0,
scope: {
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-popup.html",
link: function(e, t) {
t.addClass("tooltip");
}
};
}).directive("uibTooltip", [ "$uibTooltip", function(e) {
return e("uibTooltip", "tooltip", "mouseenter");
} ]).directive("uibTooltipTemplatePopup", function() {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/tooltip/tooltip-template-popup.html",
link: function(e, t) {
t.addClass("tooltip");
}
};
}).directive("uibTooltipTemplate", [ "$uibTooltip", function(e) {
return e("uibTooltipTemplate", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]).directive("uibTooltipHtmlPopup", function() {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-html-popup.html",
link: function(e, t) {
t.addClass("tooltip");
}
};
}).directive("uibTooltipHtml", [ "$uibTooltip", function(e) {
return e("uibTooltipHtml", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]), angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning", !1).provider("$tooltip", [ "$uibTooltipProvider", function(e) {
angular.extend(this, e), this.$get = [ "$log", "$tooltipSuppressWarning", "$injector", function(t, n, i) {
return n || t.warn("$tooltip is now deprecated. Use $uibTooltip instead."), i.invoke(e.$get);
} ];
} ]).directive("tooltipTemplateTransclude", [ "$animate", "$sce", "$compile", "$templateRequest", "$log", "$tooltipSuppressWarning", function(e, t, n, i, r, o) {
return {
link: function(a, s, l) {
o || r.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");
var c, u, d, h = a.$eval(l.tooltipTemplateTranscludeScope), f = 0, p = function() {
u && (u.remove(), u = null), c && (c.$destroy(), c = null), d && (e.leave(d).then(function() {
u = null;
}), u = d, d = null);
};
a.$watch(t.parseAsResourceUrl(l.tooltipTemplateTransclude), function(t) {
var r = ++f;
t ? (i(t, !0).then(function(i) {
if (r === f) {
var o = h.$new(), a = n(i)(o, function(t) {
p(), e.enter(t, s);
});
d = a, (c = o).$emit("$includeContentLoaded", t);
}
}, function() {
r === f && (p(), a.$emit("$includeContentError", t));
}), a.$emit("$includeContentRequested", t)) : p();
}), a.$on("$destroy", p);
}
};
} ]).directive("tooltipClasses", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
restrict: "A",
link: function(n, i, r) {
t || e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."), n.placement && i.addClass(n.placement), n.popupClass && i.addClass(n.popupClass), n.animation() && i.addClass(r.tooltipAnimationClass);
}
};
} ]).directive("tooltipPopup", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-popup.html",
link: function(n, i) {
t || e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."), i.addClass("tooltip");
}
};
} ]).directive("tooltip", [ "$tooltip", function(e) {
return e("tooltip", "tooltip", "mouseenter");
} ]).directive("tooltipTemplatePopup", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/tooltip/tooltip-template-popup.html",
link: function(n, i) {
t || e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."), i.addClass("tooltip");
}
};
} ]).directive("tooltipTemplate", [ "$tooltip", function(e) {
return e("tooltipTemplate", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]).directive("tooltipHtmlPopup", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-html-popup.html",
link: function(n, i) {
t || e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."), i.addClass("tooltip");
}
};
} ]).directive("tooltipHtml", [ "$tooltip", function(e) {
return e("tooltipHtml", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]), angular.module("ui.bootstrap.popover", [ "ui.bootstrap.tooltip" ]).directive("uibPopoverTemplatePopup", function() {
return {
replace: !0,
scope: {
title: "@",
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/popover/popover-template.html",
link: function(e, t) {
t.addClass("popover");
}
};
}).directive("uibPopoverTemplate", [ "$uibTooltip", function(e) {
return e("uibPopoverTemplate", "popover", "click", {
useContentExp: !0
});
} ]).directive("uibPopoverHtmlPopup", function() {
return {
replace: !0,
scope: {
contentExp: "&",
title: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover-html.html",
link: function(e, t) {
t.addClass("popover");
}
};
}).directive("uibPopoverHtml", [ "$uibTooltip", function(e) {
return e("uibPopoverHtml", "popover", "click", {
useContentExp: !0
});
} ]).directive("uibPopoverPopup", function() {
return {
replace: !0,
scope: {
title: "@",
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover.html",
link: function(e, t) {
t.addClass("popover");
}
};
}).directive("uibPopover", [ "$uibTooltip", function(e) {
return e("uibPopover", "popover", "click");
} ]), angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning", !1).directive("popoverTemplatePopup", [ "$log", "$popoverSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
title: "@",
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/popover/popover-template.html",
link: function(n, i) {
t || e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."), i.addClass("popover");
}
};
} ]).directive("popoverTemplate", [ "$tooltip", function(e) {
return e("popoverTemplate", "popover", "click", {
useContentExp: !0
});
} ]).directive("popoverHtmlPopup", [ "$log", "$popoverSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
contentExp: "&",
title: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover-html.html",
link: function(n, i) {
t || e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."), i.addClass("popover");
}
};
} ]).directive("popoverHtml", [ "$tooltip", function(e) {
return e("popoverHtml", "popover", "click", {
useContentExp: !0
});
} ]).directive("popoverPopup", [ "$log", "$popoverSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
title: "@",
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover.html",
link: function(n, i) {
t || e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."), i.addClass("popover");
}
};
} ]).directive("popover", [ "$tooltip", function(e) {
return e("popover", "popover", "click");
} ]), angular.module("ui.bootstrap.progressbar", []).constant("uibProgressConfig", {
animate: !0,
max: 100
}).controller("UibProgressController", [ "$scope", "$attrs", "uibProgressConfig", function(e, t, n) {
var i = this, r = angular.isDefined(t.animate) ? e.$parent.$eval(t.animate) : n.animate;
this.bars = [], e.max = angular.isDefined(e.max) ? e.max : n.max, this.addBar = function(t, n, o) {
r || n.css({
transition: "none"
}), this.bars.push(t), t.max = e.max, t.title = o && angular.isDefined(o.title) ? o.title : "progressbar", t.$watch("value", function(e) {
t.recalculatePercentage();
}), t.recalculatePercentage = function() {
var e = i.bars.reduce(function(e, t) {
return t.percent = +(100 * t.value / t.max).toFixed(2), e + t.percent;
}, 0);
e > 100 && (t.percent -= e - 100);
}, t.$on("$destroy", function() {
n = null, i.removeBar(t);
});
}, this.removeBar = function(e) {
this.bars.splice(this.bars.indexOf(e), 1), this.bars.forEach(function(e) {
e.recalculatePercentage();
});
}, e.$watch("max", function(t) {
i.bars.forEach(function(t) {
t.max = e.max, t.recalculatePercentage();
});
});
} ]).directive("uibProgress", function() {
return {
replace: !0,
transclude: !0,
controller: "UibProgressController",
require: "uibProgress",
scope: {
max: "=?"
},
templateUrl: "template/progressbar/progress.html"
};
}).directive("uibBar", function() {
return {
replace: !0,
transclude: !0,
require: "^uibProgress",
scope: {
value: "=",
type: "@"
},
templateUrl: "template/progressbar/bar.html",
link: function(e, t, n, i) {
i.addBar(e, t, n);
}
};
}).directive("uibProgressbar", function() {
return {
replace: !0,
transclude: !0,
controller: "UibProgressController",
scope: {
value: "=",
max: "=?",
type: "@"
},
templateUrl: "template/progressbar/progressbar.html",
link: function(e, t, n, i) {
i.addBar(e, angular.element(t.children()[0]), {
title: n.title
});
}
};
}), angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning", !1).controller("ProgressController", [ "$scope", "$attrs", "uibProgressConfig", "$log", "$progressSuppressWarning", function(e, t, n, i, r) {
r || i.warn("ProgressController is now deprecated. Use UibProgressController instead.");
var o = this, a = angular.isDefined(t.animate) ? e.$parent.$eval(t.animate) : n.animate;
this.bars = [], e.max = angular.isDefined(e.max) ? e.max : n.max, this.addBar = function(t, n, i) {
a || n.css({
transition: "none"
}), this.bars.push(t), t.max = e.max, t.title = i && angular.isDefined(i.title) ? i.title : "progressbar", t.$watch("value", function(e) {
t.recalculatePercentage();
}), t.recalculatePercentage = function() {
t.percent = +(100 * t.value / t.max).toFixed(2);
var e = o.bars.reduce(function(e, t) {
return e + t.percent;
}, 0);
e > 100 && (t.percent -= e - 100);
}, t.$on("$destroy", function() {
n = null, o.removeBar(t);
});
}, this.removeBar = function(e) {
this.bars.splice(this.bars.indexOf(e), 1);
}, e.$watch("max", function(t) {
o.bars.forEach(function(t) {
t.max = e.max, t.recalculatePercentage();
});
});
} ]).directive("progress", [ "$log", "$progressSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
controller: "ProgressController",
require: "progress",
scope: {
max: "=?",
title: "@?"
},
templateUrl: "template/progressbar/progress.html",
link: function() {
t || e.warn("progress is now deprecated. Use uib-progress instead.");
}
};
} ]).directive("bar", [ "$log", "$progressSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
require: "^progress",
scope: {
value: "=",
type: "@"
},
templateUrl: "template/progressbar/bar.html",
link: function(n, i, r, o) {
t || e.warn("bar is now deprecated. Use uib-bar instead."), o.addBar(n, i);
}
};
} ]).directive("progressbar", [ "$log", "$progressSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
controller: "ProgressController",
scope: {
value: "=",
max: "=?",
type: "@"
},
templateUrl: "template/progressbar/progressbar.html",
link: function(n, i, r, o) {
t || e.warn("progressbar is now deprecated. Use uib-progressbar instead."), o.addBar(n, angular.element(i.children()[0]), {
title: r.title
});
}
};
} ]), angular.module("ui.bootstrap.rating", []).constant("uibRatingConfig", {
max: 5,
stateOn: null,
stateOff: null,
titles: [ "one", "two", "three", "four", "five" ]
}).controller("UibRatingController", [ "$scope", "$attrs", "uibRatingConfig", function(e, t, n) {
var i = {
$setViewValue: angular.noop
};
this.init = function(r) {
(i = r).$render = this.render, i.$formatters.push(function(e) {
return angular.isNumber(e) && e << 0 !== e && (e = Math.round(e)), e;
}), this.stateOn = angular.isDefined(t.stateOn) ? e.$parent.$eval(t.stateOn) : n.stateOn, this.stateOff = angular.isDefined(t.stateOff) ? e.$parent.$eval(t.stateOff) : n.stateOff;
var o = angular.isDefined(t.titles) ? e.$parent.$eval(t.titles) : n.titles;
this.titles = angular.isArray(o) && o.length > 0 ? o : n.titles;
var a = angular.isDefined(t.ratingStates) ? e.$parent.$eval(t.ratingStates) : new Array(angular.isDefined(t.max) ? e.$parent.$eval(t.max) : n.max);
e.range = this.buildTemplateObjects(a);
}, this.buildTemplateObjects = function(e) {
for (var t = 0, n = e.length; t < n; t++) e[t] = angular.extend({
index: t
}, {
stateOn: this.stateOn,
stateOff: this.stateOff,
title: this.getTitle(t)
}, e[t]);
return e;
}, this.getTitle = function(e) {
return e >= this.titles.length ? e + 1 : this.titles[e];
}, e.rate = function(t) {
!e.readonly && t >= 0 && t <= e.range.length && (i.$setViewValue(i.$viewValue === t ? 0 : t), i.$render());
}, e.enter = function(t) {
e.readonly || (e.value = t), e.onHover({
value: t
});
}, e.reset = function() {
e.value = i.$viewValue, e.onLeave();
}, e.onKeydown = function(t) {
/(37|38|39|40)/.test(t.which) && (t.preventDefault(), t.stopPropagation(), e.rate(e.value + (38 === t.which || 39 === t.which ? 1 : -1)));
}, this.render = function() {
e.value = i.$viewValue;
};
} ]).directive("uibRating", function() {
return {
require: [ "uibRating", "ngModel" ],
scope: {
readonly: "=?",
onHover: "&",
onLeave: "&"
},
controller: "UibRatingController",
templateUrl: "template/rating/rating.html",
replace: !0,
link: function(e, t, n, i) {
var r = i[0], o = i[1];
r.init(o);
}
};
}), angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning", !1).controller("RatingController", [ "$scope", "$attrs", "$controller", "$log", "$ratingSuppressWarning", function(e, t, n, i, r) {
r || i.warn("RatingController is now deprecated. Use UibRatingController instead."), angular.extend(this, n("UibRatingController", {
$scope: e,
$attrs: t
}));
} ]).directive("rating", [ "$log", "$ratingSuppressWarning", function(e, t) {
return {
require: [ "rating", "ngModel" ],
scope: {
readonly: "=?",
onHover: "&",
onLeave: "&"
},
controller: "RatingController",
templateUrl: "template/rating/rating.html",
replace: !0,
link: function(n, i, r, o) {
t || e.warn("rating is now deprecated. Use uib-rating instead.");
var a = o[0], s = o[1];
a.init(s);
}
};
} ]), angular.module("ui.bootstrap.tabs", []).controller("UibTabsetController", [ "$scope", function(e) {
var t = this, n = t.tabs = e.tabs = [];
t.select = function(e) {
angular.forEach(n, function(t) {
t.active && t !== e && (t.active = !1, t.onDeselect(), e.selectCalled = !1);
}), e.active = !0, e.selectCalled || (e.onSelect(), e.selectCalled = !0);
}, t.addTab = function(e) {
n.push(e), 1 === n.length && !1 !== e.active ? e.active = !0 : e.active ? t.select(e) : e.active = !1;
}, t.removeTab = function(e) {
var r = n.indexOf(e);
if (e.active && n.length > 1 && !i) {
var o = r == n.length - 1 ? r - 1 : r + 1;
t.select(n[o]);
}
n.splice(r, 1);
};
var i;
e.$on("$destroy", function() {
i = !0;
});
} ]).directive("uibTabset", function() {
return {
restrict: "EA",
transclude: !0,
replace: !0,
scope: {
type: "@"
},
controller: "UibTabsetController",
templateUrl: "template/tabs/tabset.html",
link: function(e, t, n) {
e.vertical = !!angular.isDefined(n.vertical) && e.$parent.$eval(n.vertical), e.justified = !!angular.isDefined(n.justified) && e.$parent.$eval(n.justified);
}
};
}).directive("uibTab", [ "$parse", function(e) {
return {
require: "^uibTabset",
restrict: "EA",
replace: !0,
templateUrl: "template/tabs/tab.html",
transclude: !0,
scope: {
active: "=?",
heading: "@",
onSelect: "&select",
onDeselect: "&deselect"
},
controller: function() {},
link: function(t, n, i, r, o) {
t.$watch("active", function(e) {
e && r.select(t);
}), t.disabled = !1, i.disable && t.$parent.$watch(e(i.disable), function(e) {
t.disabled = !!e;
}), t.select = function() {
t.disabled || (t.active = !0);
}, r.addTab(t), t.$on("$destroy", function() {
r.removeTab(t);
}), t.$transcludeFn = o;
}
};
} ]).directive("uibTabHeadingTransclude", function() {
return {
restrict: "A",
require: [ "?^uibTab", "?^tab" ],
link: function(e, t) {
e.$watch("headingElement", function(e) {
e && (t.html(""), t.append(e));
});
}
};
}).directive("uibTabContentTransclude", function() {
function e(e) {
return e.tagName && (e.hasAttribute("tab-heading") || e.hasAttribute("data-tab-heading") || e.hasAttribute("x-tab-heading") || e.hasAttribute("uib-tab-heading") || e.hasAttribute("data-uib-tab-heading") || e.hasAttribute("x-uib-tab-heading") || "tab-heading" === e.tagName.toLowerCase() || "data-tab-heading" === e.tagName.toLowerCase() || "x-tab-heading" === e.tagName.toLowerCase() || "uib-tab-heading" === e.tagName.toLowerCase() || "data-uib-tab-heading" === e.tagName.toLowerCase() || "x-uib-tab-heading" === e.tagName.toLowerCase());
}
return {
restrict: "A",
require: [ "?^uibTabset", "?^tabset" ],
link: function(t, n, i) {
var r = t.$eval(i.uibTabContentTransclude);
r.$transcludeFn(r.$parent, function(t) {
angular.forEach(t, function(t) {
e(t) ? r.headingElement = t : n.append(t);
});
});
}
};
}), angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning", !1).controller("TabsetController", [ "$scope", "$controller", "$log", "$tabsSuppressWarning", function(e, t, n, i) {
i || n.warn("TabsetController is now deprecated. Use UibTabsetController instead."), angular.extend(this, t("UibTabsetController", {
$scope: e
}));
} ]).directive("tabset", [ "$log", "$tabsSuppressWarning", function(e, t) {
return {
restrict: "EA",
transclude: !0,
replace: !0,
scope: {
type: "@"
},
controller: "TabsetController",
templateUrl: "template/tabs/tabset.html",
link: function(n, i, r) {
t || e.warn("tabset is now deprecated. Use uib-tabset instead."), n.vertical = !!angular.isDefined(r.vertical) && n.$parent.$eval(r.vertical), n.justified = !!angular.isDefined(r.justified) && n.$parent.$eval(r.justified);
}
};
} ]).directive("tab", [ "$parse", "$log", "$tabsSuppressWarning", function(e, t, n) {
return {
require: "^tabset",
restrict: "EA",
replace: !0,
templateUrl: "template/tabs/tab.html",
transclude: !0,
scope: {
active: "=?",
heading: "@",
onSelect: "&select",
onDeselect: "&deselect"
},
controller: function() {},
link: function(i, r, o, a, s) {
n || t.warn("tab is now deprecated. Use uib-tab instead."), i.$watch("active", function(e) {
e && a.select(i);
}), i.disabled = !1, o.disable && i.$parent.$watch(e(o.disable), function(e) {
i.disabled = !!e;
}), i.select = function() {
i.disabled || (i.active = !0);
}, a.addTab(i), i.$on("$destroy", function() {
a.removeTab(i);
}), i.$transcludeFn = s;
}
};
} ]).directive("tabHeadingTransclude", [ "$log", "$tabsSuppressWarning", function(e, t) {
return {
restrict: "A",
require: "^tab",
link: function(n, i) {
t || e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."), n.$watch("headingElement", function(e) {
e && (i.html(""), i.append(e));
});
}
};
} ]).directive("tabContentTransclude", [ "$log", "$tabsSuppressWarning", function(e, t) {
function n(e) {
return e.tagName && (e.hasAttribute("tab-heading") || e.hasAttribute("data-tab-heading") || e.hasAttribute("x-tab-heading") || "tab-heading" === e.tagName.toLowerCase() || "data-tab-heading" === e.tagName.toLowerCase() || "x-tab-heading" === e.tagName.toLowerCase());
}
return {
restrict: "A",
require: "^tabset",
link: function(i, r, o) {
t || e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");
var a = i.$eval(o.tabContentTransclude);
a.$transcludeFn(a.$parent, function(e) {
angular.forEach(e, function(e) {
n(e) ? a.headingElement = e : r.append(e);
});
});
}
};
} ]), angular.module("ui.bootstrap.timepicker", []).constant("uibTimepickerConfig", {
hourStep: 1,
minuteStep: 1,
showMeridian: !0,
meridians: null,
readonlyInput: !1,
mousewheel: !0,
arrowkeys: !0,
showSpinners: !0
}).controller("UibTimepickerController", [ "$scope", "$element", "$attrs", "$parse", "$log", "$locale", "uibTimepickerConfig", function(e, t, n, i, r, o, a) {
function s() {
var t = parseInt(e.hours, 10);
if (e.showMeridian ? t > 0 && t < 13 : t >= 0 && t < 24) return e.showMeridian && (12 === t && (t = 0), e.meridian === v[1] && (t += 12)), t;
}
function l() {
var t = parseInt(e.minutes, 10);
return t >= 0 && t < 60 ? t : void 0;
}
function c(e) {
return angular.isDefined(e) && e.toString().length < 2 ? "0" + e : e.toString();
}
function u(e) {
d(), m.$setViewValue(new Date(g)), h(e);
}
function d() {
m.$setValidity("time", !0), e.invalidHours = !1, e.invalidMinutes = !1;
}
function h(t) {
var n = g.getHours(), i = g.getMinutes();
e.showMeridian && (n = 0 === n || 12 === n ? 12 : n % 12), e.hours = "h" === t ? n : c(n), "m" !== t && (e.minutes = c(i)), e.meridian = g.getHours() < 12 ? v[0] : v[1];
}
function f(e, t) {
var n = new Date(e.getTime() + 6e4 * t), i = new Date(e);
return i.setHours(n.getHours(), n.getMinutes()), i;
}
function p(e) {
g = f(g, e), u();
}
var g = new Date(), m = {
$setViewValue: angular.noop
}, v = angular.isDefined(n.meridians) ? e.$parent.$eval(n.meridians) : a.meridians || o.DATETIME_FORMATS.AMPMS;
e.tabindex = angular.isDefined(n.tabindex) ? n.tabindex : 0, t.removeAttr("tabindex"), this.init = function(t, i) {
(m = t).$render = this.render, m.$formatters.unshift(function(e) {
return e ? new Date(e) : null;
});
var r = i.eq(0), o = i.eq(1);
(angular.isDefined(n.mousewheel) ? e.$parent.$eval(n.mousewheel) : a.mousewheel) && this.setupMousewheelEvents(r, o), (angular.isDefined(n.arrowkeys) ? e.$parent.$eval(n.arrowkeys) : a.arrowkeys) && this.setupArrowkeyEvents(r, o), e.readonlyInput = angular.isDefined(n.readonlyInput) ? e.$parent.$eval(n.readonlyInput) : a.readonlyInput, this.setupInputEvents(r, o);
};
var y = a.hourStep;
n.hourStep && e.$parent.$watch(i(n.hourStep), function(e) {
y = parseInt(e, 10);
});
var b = a.minuteStep;
n.minuteStep && e.$parent.$watch(i(n.minuteStep), function(e) {
b = parseInt(e, 10);
});
var _;
e.$parent.$watch(i(n.min), function(e) {
var t = new Date(e);
_ = isNaN(t) ? void 0 : t;
});
var w;
e.$parent.$watch(i(n.max), function(e) {
var t = new Date(e);
w = isNaN(t) ? void 0 : t;
}), e.noIncrementHours = function() {
var e = f(g, 60 * y);
return e > w || e < g && e < _;
}, e.noDecrementHours = function() {
var e = f(g, 60 * -y);
return e < _ || e > g && e > w;
}, e.noIncrementMinutes = function() {
var e = f(g, b);
return e > w || e < g && e < _;
}, e.noDecrementMinutes = function() {
var e = f(g, -b);
return e < _ || e > g && e > w;
}, e.noToggleMeridian = function() {
return g.getHours() < 13 ? f(g, 720) > w : f(g, -720) < _;
}, e.showMeridian = a.showMeridian, n.showMeridian && e.$parent.$watch(i(n.showMeridian), function(t) {
if (e.showMeridian = !!t, m.$error.time) {
var n = s(), i = l();
angular.isDefined(n) && angular.isDefined(i) && (g.setHours(n), u());
} else h();
}), this.setupMousewheelEvents = function(t, n) {
var i = function(e) {
e.originalEvent && (e = e.originalEvent);
var t = e.wheelDelta ? e.wheelDelta : -e.deltaY;
return e.detail || t > 0;
};
t.bind("mousewheel wheel", function(t) {
e.$apply(i(t) ? e.incrementHours() : e.decrementHours()), t.preventDefault();
}), n.bind("mousewheel wheel", function(t) {
e.$apply(i(t) ? e.incrementMinutes() : e.decrementMinutes()), t.preventDefault();
});
}, this.setupArrowkeyEvents = function(t, n) {
t.bind("keydown", function(t) {
38 === t.which ? (t.preventDefault(), e.incrementHours(), e.$apply()) : 40 === t.which && (t.preventDefault(), e.decrementHours(), e.$apply());
}), n.bind("keydown", function(t) {
38 === t.which ? (t.preventDefault(), e.incrementMinutes(), e.$apply()) : 40 === t.which && (t.preventDefault(), e.decrementMinutes(), e.$apply());
});
}, this.setupInputEvents = function(t, n) {
if (e.readonlyInput) return e.updateHours = angular.noop, void (e.updateMinutes = angular.noop);
var i = function(t, n) {
m.$setViewValue(null), m.$setValidity("time", !1), angular.isDefined(t) && (e.invalidHours = t), angular.isDefined(n) && (e.invalidMinutes = n);
};
e.updateHours = function() {
var e = s(), t = l();
angular.isDefined(e) && angular.isDefined(t) ? (g.setHours(e), g < _ || g > w ? i(!0) : u("h")) : i(!0);
}, t.bind("blur", function(t) {
!e.invalidHours && e.hours < 10 && e.$apply(function() {
e.hours = c(e.hours);
});
}), e.updateMinutes = function() {
var e = l(), t = s();
angular.isDefined(e) && angular.isDefined(t) ? (g.setMinutes(e), g < _ || g > w ? i(void 0, !0) : u("m")) : i(void 0, !0);
}, n.bind("blur", function(t) {
!e.invalidMinutes && e.minutes < 10 && e.$apply(function() {
e.minutes = c(e.minutes);
});
});
}, this.render = function() {
var t = m.$viewValue;
isNaN(t) ? (m.$setValidity("time", !1), r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (t && (g = t), g < _ || g > w ? (m.$setValidity("time", !1), e.invalidHours = !0, e.invalidMinutes = !0) : d(), h());
}, e.showSpinners = angular.isDefined(n.showSpinners) ? e.$parent.$eval(n.showSpinners) : a.showSpinners, e.incrementHours = function() {
e.noIncrementHours() || p(60 * y);
}, e.decrementHours = function() {
e.noDecrementHours() || p(60 * -y);
}, e.incrementMinutes = function() {
e.noIncrementMinutes() || p(b);
}, e.decrementMinutes = function() {
e.noDecrementMinutes() || p(-b);
}, e.toggleMeridian = function() {
e.noToggleMeridian() || p(720 * (g.getHours() < 12 ? 1 : -1));
};
} ]).directive("uibTimepicker", function() {
return {
restrict: "EA",
require: [ "uibTimepicker", "?^ngModel" ],
controller: "UibTimepickerController",
controllerAs: "timepicker",
replace: !0,
scope: {},
templateUrl: function(e, t) {
return t.templateUrl || "template/timepicker/timepicker.html";
},
link: function(e, t, n, i) {
var r = i[0], o = i[1];
o && r.init(o, t.find("input"));
}
};
}), angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning", !1).controller("TimepickerController", [ "$scope", "$element", "$attrs", "$controller", "$log", "$timepickerSuppressWarning", function(e, t, n, i, r, o) {
o || r.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."), angular.extend(this, i("UibTimepickerController", {
$scope: e,
$element: t,
$attrs: n
}));
} ]).directive("timepicker", [ "$log", "$timepickerSuppressWarning", function(e, t) {
return {
restrict: "EA",
require: [ "timepicker", "?^ngModel" ],
controller: "TimepickerController",
controllerAs: "timepicker",
replace: !0,
scope: {},
templateUrl: function(e, t) {
return t.templateUrl || "template/timepicker/timepicker.html";
},
link: function(n, i, r, o) {
t || e.warn("timepicker is now deprecated. Use uib-timepicker instead.");
var a = o[0], s = o[1];
s && a.init(s, i.find("input"));
}
};
} ]), angular.module("ui.bootstrap.typeahead", [ "ui.bootstrap.position" ]).factory("uibTypeaheadParser", [ "$parse", function(e) {
var t = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
return {
parse: function(n) {
var i = n.match(t);
if (!i) throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' + n + '".');
return {
itemName: i[3],
source: e(i[4]),
viewMapper: e(i[2] || i[1]),
modelMapper: e(i[1])
};
}
};
} ]).controller("UibTypeaheadController", [ "$scope", "$element", "$attrs", "$compile", "$parse", "$q", "$timeout", "$document", "$window", "$rootScope", "$uibPosition", "uibTypeaheadParser", function(e, t, n, i, r, o, a, s, l, c, u, d) {
function h() {
O.moveInProgress || (O.moveInProgress = !0, O.$digest()), z && a.cancel(z), z = a(function() {
O.matches.length && f(), O.moveInProgress = !1;
}, v);
}
function f() {
O.position = T ? u.offset(t) : u.position(t), O.position.top += t.prop("offsetHeight");
}
var p, g, m = [ 9, 13, 27, 38, 40 ], v = 200, y = e.$eval(n.typeaheadMinLength);
y || 0 === y || (y = 1);
var b, _, w = e.$eval(n.typeaheadWaitMs) || 0, C = !1 !== e.$eval(n.typeaheadEditable), x = r(n.typeaheadLoading).assign || angular.noop, S = r(n.typeaheadOnSelect), $ = !!angular.isDefined(n.typeaheadSelectOnBlur) && e.$eval(n.typeaheadSelectOnBlur), A = r(n.typeaheadNoResults).assign || angular.noop, k = n.typeaheadInputFormatter ? r(n.typeaheadInputFormatter) : void 0, T = !!n.typeaheadAppendToBody && e.$eval(n.typeaheadAppendToBody), D = n.typeaheadAppendToElementId || !1, E = !1 !== e.$eval(n.typeaheadFocusFirst), F = !!n.typeaheadSelectOnExact && e.$eval(n.typeaheadSelectOnExact), M = r(n.ngModel), I = r(n.ngModel + "($$$p)"), P = function(t, n) {
return angular.isFunction(M(e)) && g && g.$options && g.$options.getterSetter ? I(t, {
$$$p: n
}) : M.assign(t, n);
}, L = d.parse(n.uibTypeahead), O = e.$new(), R = e.$on("$destroy", function() {
O.$destroy();
});
O.$on("$destroy", R);
var N = "typeahead-" + O.$id + "-" + Math.floor(1e4 * Math.random());
t.attr({
"aria-autocomplete": "list",
"aria-expanded": !1,
"aria-owns": N
});
var B = angular.element("<div uib-typeahead-popup></div>");
B.attr({
id: N,
matches: "matches",
active: "activeIdx",
select: "select(activeIdx)",
"move-in-progress": "moveInProgress",
query: "query",
position: "position"
}), angular.isDefined(n.typeaheadTemplateUrl) && B.attr("template-url", n.typeaheadTemplateUrl), angular.isDefined(n.typeaheadPopupTemplateUrl) && B.attr("popup-template-url", n.typeaheadPopupTemplateUrl);
var j = function() {
O.matches = [], O.activeIdx = -1, t.attr("aria-expanded", !1);
}, H = function(e) {
return N + "-option-" + e;
};
O.$watch("activeIdx", function(e) {
e < 0 ? t.removeAttr("aria-activedescendant") : t.attr("aria-activedescendant", H(e));
});
var V = function(e, t) {
return !!(O.matches.length > t && e) && e.toUpperCase() === O.matches[t].label.toUpperCase();
}, U = function(n) {
var i = {
$viewValue: n
};
x(e, !0), A(e, !1), o.when(L.source(e, i)).then(function(r) {
var o = n === p.$viewValue;
if (o && b) if (r && r.length > 0) {
O.activeIdx = E ? 0 : -1, A(e, !1), O.matches.length = 0;
for (var a = 0; a < r.length; a++) i[L.itemName] = r[a], O.matches.push({
id: H(a),
label: L.viewMapper(O, i),
model: r[a]
});
O.query = n, f(), t.attr("aria-expanded", !0), F && 1 === O.matches.length && V(n, 0) && O.select(0);
} else j(), A(e, !0);
o && x(e, !1);
}, function() {
j(), x(e, !1), A(e, !0);
});
};
T && (angular.element(l).bind("resize", h), s.find("body").bind("scroll", h));
var z;
O.moveInProgress = !1, O.query = void 0;
var W, q = function(e) {
W = a(function() {
U(e);
}, w);
}, G = function() {
W && a.cancel(W);
};
j(), O.select = function(i) {
var r, o, s = {};
_ = !0, s[L.itemName] = o = O.matches[i].model, r = L.modelMapper(e, s), P(e, r), p.$setValidity("editable", !0), p.$setValidity("parse", !0), S(e, {
$item: o,
$model: r,
$label: L.viewMapper(e, s)
}), j(), !1 !== O.$eval(n.typeaheadFocusOnSelect) && a(function() {
t[0].focus();
}, 0, !1);
}, t.bind("keydown", function(e) {
if (0 !== O.matches.length && -1 !== m.indexOf(e.which)) {
if (-1 === O.activeIdx && (9 === e.which || 13 === e.which)) return j(), void O.$digest();
e.preventDefault(), 40 === e.which ? (O.activeIdx = (O.activeIdx + 1) % O.matches.length, O.$digest()) : 38 === e.which ? (O.activeIdx = (O.activeIdx > 0 ? O.activeIdx : O.matches.length) - 1, O.$digest()) : 13 === e.which || 9 === e.which ? O.$apply(function() {
O.select(O.activeIdx);
}) : 27 === e.which && (e.stopPropagation(), j(), O.$digest());
}
}), t.bind("blur", function() {
$ && O.matches.length && -1 !== O.activeIdx && !_ && (_ = !0, O.$apply(function() {
O.select(O.activeIdx);
})), b = !1, _ = !1;
});
var Y = function(e) {
t[0] !== e.target && 3 !== e.which && 0 !== O.matches.length && (j(), c.$$phase || O.$digest());
};
s.bind("click", Y), e.$on("$destroy", function() {
s.unbind("click", Y), (T || D) && K.remove(), T && (angular.element(l).unbind("resize", h), s.find("body").unbind("scroll", h)), B.remove();
});
var K = i(B)(O);
T ? s.find("body").append(K) : !1 !== D ? angular.element(s[0].getElementById(D)).append(K) : t.after(K), this.init = function(t, n) {
g = n, (p = t).$parsers.unshift(function(t) {
return b = !0, 0 === y || t && t.length >= y ? w > 0 ? (G(), q(t)) : U(t) : (x(e, !1), G(), j()), C ? t : t ? void p.$setValidity("editable", !1) : (p.$setValidity("editable", !0), null);
}), p.$formatters.push(function(t) {
var n, i, r = {};
return C || p.$setValidity("editable", !0), k ? (r.$model = t, k(e, r)) : (r[L.itemName] = t, n = L.viewMapper(e, r), r[L.itemName] = void 0, i = L.viewMapper(e, r), n !== i ? n : t);
});
};
} ]).directive("uibTypeahead", function() {
return {
controller: "UibTypeaheadController",
require: [ "ngModel", "^?ngModelOptions", "uibTypeahead" ],
link: function(e, t, n, i) {
i[2].init(i[0], i[1]);
}
};
}).directive("uibTypeaheadPopup", function() {
return {
scope: {
matches: "=",
query: "=",
active: "=",
position: "&",
moveInProgress: "=",
select: "&"
},
replace: !0,
templateUrl: function(e, t) {
return t.popupTemplateUrl || "template/typeahead/typeahead-popup.html";
},
link: function(e, t, n) {
e.templateUrl = n.templateUrl, e.isOpen = function() {
return e.matches.length > 0;
}, e.isActive = function(t) {
return e.active == t;
}, e.selectActive = function(t) {
e.active = t;
}, e.selectMatch = function(t) {
e.select({
activeIdx: t
});
};
}
};
}).directive("uibTypeaheadMatch", [ "$templateRequest", "$compile", "$parse", function(e, t, n) {
return {
scope: {
index: "=",
match: "=",
query: "="
},
link: function(i, r, o) {
var a = n(o.templateUrl)(i.$parent) || "template/typeahead/typeahead-match.html";
e(a).then(function(e) {
t(e.trim())(i, function(e) {
r.replaceWith(e);
});
});
}
};
} ]).filter("uibTypeaheadHighlight", [ "$sce", "$injector", "$log", function(e, t, n) {
function i(e) {
return e.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}
function r(e) {
return /<.*>/g.test(e);
}
var o;
return o = t.has("$sanitize"), function(t, a) {
return !o && r(t) && n.warn("Unsafe use of typeahead please use ngSanitize"), t = a ? ("" + t).replace(new RegExp(i(a), "gi"), "<strong>$&</strong>") : t, o || (t = e.trustAsHtml(t)), t;
};
} ]), angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning", !1).service("typeaheadParser", [ "$parse", "uibTypeaheadParser", "$log", "$typeaheadSuppressWarning", function(e, t, n, i) {
return i || n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."), t;
} ]).directive("typeahead", [ "$compile", "$parse", "$q", "$timeout", "$document", "$window", "$rootScope", "$uibPosition", "typeaheadParser", "$log", "$typeaheadSuppressWarning", function(e, t, n, i, r, o, a, s, l, c, u) {
var d = [ 9, 13, 27, 38, 40 ], h = 200;
return {
require: [ "ngModel", "^?ngModelOptions" ],
link: function(f, p, g, m) {
function v() {
B.moveInProgress || (B.moveInProgress = !0, B.$digest()), G && i.cancel(G), G = i(function() {
B.matches.length && y(), B.moveInProgress = !1;
}, h);
}
function y() {
B.position = F ? s.offset(p) : s.position(p), B.position.top += p.prop("offsetHeight");
}
u || c.warn("typeahead is now deprecated. Use uib-typeahead instead.");
var b = m[0], _ = m[1], w = f.$eval(g.typeaheadMinLength);
w || 0 === w || (w = 1);
var C, x, S = f.$eval(g.typeaheadWaitMs) || 0, $ = !1 !== f.$eval(g.typeaheadEditable), A = t(g.typeaheadLoading).assign || angular.noop, k = t(g.typeaheadOnSelect), T = !!angular.isDefined(g.typeaheadSelectOnBlur) && f.$eval(g.typeaheadSelectOnBlur), D = t(g.typeaheadNoResults).assign || angular.noop, E = g.typeaheadInputFormatter ? t(g.typeaheadInputFormatter) : void 0, F = !!g.typeaheadAppendToBody && f.$eval(g.typeaheadAppendToBody), M = g.typeaheadAppendToElementId || !1, I = !1 !== f.$eval(g.typeaheadFocusFirst), P = !!g.typeaheadSelectOnExact && f.$eval(g.typeaheadSelectOnExact), L = t(g.ngModel), O = t(g.ngModel + "($$$p)"), R = function(e, t) {
return angular.isFunction(L(f)) && _ && _.$options && _.$options.getterSetter ? O(e, {
$$$p: t
}) : L.assign(e, t);
}, N = l.parse(g.typeahead), B = f.$new(), j = f.$on("$destroy", function() {
B.$destroy();
});
B.$on("$destroy", j);
var H = "typeahead-" + B.$id + "-" + Math.floor(1e4 * Math.random());
p.attr({
"aria-autocomplete": "list",
"aria-expanded": !1,
"aria-owns": H
});
var V = angular.element("<div typeahead-popup></div>");
V.attr({
id: H,
matches: "matches",
active: "activeIdx",
select: "select(activeIdx)",
"move-in-progress": "moveInProgress",
query: "query",
position: "position"
}), angular.isDefined(g.typeaheadTemplateUrl) && V.attr("template-url", g.typeaheadTemplateUrl), angular.isDefined(g.typeaheadPopupTemplateUrl) && V.attr("popup-template-url", g.typeaheadPopupTemplateUrl);
var U = function() {
B.matches = [], B.activeIdx = -1, p.attr("aria-expanded", !1);
}, z = function(e) {
return H + "-option-" + e;
};
B.$watch("activeIdx", function(e) {
e < 0 ? p.removeAttr("aria-activedescendant") : p.attr("aria-activedescendant", z(e));
});
var W = function(e, t) {
return !!(B.matches.length > t && e) && e.toUpperCase() === B.matches[t].label.toUpperCase();
}, q = function(e) {
var t = {
$viewValue: e
};
A(f, !0), D(f, !1), n.when(N.source(f, t)).then(function(n) {
var i = e === b.$viewValue;
if (i && C) if (n && n.length > 0) {
B.activeIdx = I ? 0 : -1, D(f, !1), B.matches.length = 0;
for (var r = 0; r < n.length; r++) t[N.itemName] = n[r], B.matches.push({
id: z(r),
label: N.viewMapper(B, t),
model: n[r]
});
B.query = e, y(), p.attr("aria-expanded", !0), P && 1 === B.matches.length && W(e, 0) && B.select(0);
} else U(), D(f, !0);
i && A(f, !1);
}, function() {
U(), A(f, !1), D(f, !0);
});
};
F && (angular.element(o).bind("resize", v), r.find("body").bind("scroll", v));
var G;
B.moveInProgress = !1, U(), B.query = void 0;
var Y, K = function(e) {
Y = i(function() {
q(e);
}, S);
}, X = function() {
Y && i.cancel(Y);
};
b.$parsers.unshift(function(e) {
return C = !0, 0 === w || e && e.length >= w ? S > 0 ? (X(), K(e)) : q(e) : (A(f, !1), X(), U()), $ ? e : e ? void b.$setValidity("editable", !1) : (b.$setValidity("editable", !0), null);
}), b.$formatters.push(function(e) {
var t, n, i = {};
return $ || b.$setValidity("editable", !0), E ? (i.$model = e, E(f, i)) : (i[N.itemName] = e, t = N.viewMapper(f, i), i[N.itemName] = void 0, n = N.viewMapper(f, i), t !== n ? t : e);
}), B.select = function(e) {
var t, n, r = {};
x = !0, r[N.itemName] = n = B.matches[e].model, t = N.modelMapper(f, r), R(f, t), b.$setValidity("editable", !0), b.$setValidity("parse", !0), k(f, {
$item: n,
$model: t,
$label: N.viewMapper(f, r)
}), U(), !1 !== B.$eval(g.typeaheadFocusOnSelect) && i(function() {
p[0].focus();
}, 0, !1);
}, p.bind("keydown", function(e) {
if (0 !== B.matches.length && -1 !== d.indexOf(e.which)) {
if (-1 === B.activeIdx && (9 === e.which || 13 === e.which)) return U(), void B.$digest();
e.preventDefault(), 40 === e.which ? (B.activeIdx = (B.activeIdx + 1) % B.matches.length, B.$digest()) : 38 === e.which ? (B.activeIdx = (B.activeIdx > 0 ? B.activeIdx : B.matches.length) - 1, B.$digest()) : 13 === e.which || 9 === e.which ? B.$apply(function() {
B.select(B.activeIdx);
}) : 27 === e.which && (e.stopPropagation(), U(), B.$digest());
}
}), p.bind("blur", function() {
T && B.matches.length && -1 !== B.activeIdx && !x && (x = !0, B.$apply(function() {
B.select(B.activeIdx);
})), C = !1, x = !1;
});
var Q = function(e) {
p[0] !== e.target && 3 !== e.which && 0 !== B.matches.length && (U(), a.$$phase || B.$digest());
};
r.bind("click", Q), f.$on("$destroy", function() {
r.unbind("click", Q), (F || M) && J.remove(), F && (angular.element(o).unbind("resize", v), r.find("body").unbind("scroll", v)), V.remove();
});
var J = e(V)(B);
F ? r.find("body").append(J) : !1 !== M ? angular.element(r[0].getElementById(M)).append(J) : p.after(J);
}
};
} ]).directive("typeaheadPopup", [ "$typeaheadSuppressWarning", "$log", function(e, t) {
return {
scope: {
matches: "=",
query: "=",
active: "=",
position: "&",
moveInProgress: "=",
select: "&"
},
replace: !0,
templateUrl: function(e, t) {
return t.popupTemplateUrl || "template/typeahead/typeahead-popup.html";
},
link: function(n, i, r) {
e || t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."), n.templateUrl = r.templateUrl, n.isOpen = function() {
return n.matches.length > 0;
}, n.isActive = function(e) {
return n.active == e;
}, n.selectActive = function(e) {
n.active = e;
}, n.selectMatch = function(e) {
n.select({
activeIdx: e
});
};
}
};
} ]).directive("typeaheadMatch", [ "$templateRequest", "$compile", "$parse", "$typeaheadSuppressWarning", "$log", function(e, t, n, i, r) {
return {
restrict: "EA",
scope: {
index: "=",
match: "=",
query: "="
},
link: function(o, a, s) {
i || r.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");
var l = n(s.templateUrl)(o.$parent) || "template/typeahead/typeahead-match.html";
e(l).then(function(e) {
t(e.trim())(o, function(e) {
a.replaceWith(e);
});
});
}
};
} ]).filter("typeaheadHighlight", [ "$sce", "$injector", "$log", "$typeaheadSuppressWarning", function(e, t, n, i) {
function r(e) {
return e.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}
function o(e) {
return /<.*>/g.test(e);
}
var a;
return a = t.has("$sanitize"), function(t, s) {
return i || n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."), !a && o(t) && n.warn("Unsafe use of typeahead please use ngSanitize"), t = s ? ("" + t).replace(new RegExp(r(s), "gi"), "<strong>$&</strong>") : t, a || (t = e.trustAsHtml(t)), t;
};
} ]), angular.module("template/accordion/accordion-group.html", []).run([ "$templateCache", function(e) {
e.put("template/accordion/accordion-group.html", '<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n');
} ]), angular.module("template/accordion/accordion.html", []).run([ "$templateCache", function(e) {
e.put("template/accordion/accordion.html", '<div class="panel-group" ng-transclude></div>');
} ]), angular.module("template/alert/alert.html", []).run([ "$templateCache", function(e) {
e.put("template/alert/alert.html", '<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n');
} ]), angular.module("template/carousel/carousel.html", []).run([ "$templateCache", function(e) {
e.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>');
} ]), angular.module("template/carousel/slide.html", []).run([ "$templateCache", function(e) {
e.put("template/carousel/slide.html", '<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n');
} ]), angular.module("template/datepicker/datepicker.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/datepicker.html", '<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>');
} ]), angular.module("template/datepicker/day.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/day.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/datepicker/month.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/month.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/datepicker/popup.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/popup.html", '<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n');
} ]), angular.module("template/datepicker/year.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/year.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/modal/backdrop.html", []).run([ "$templateCache", function(e) {
e.put("template/modal/backdrop.html", '<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n');
} ]), angular.module("template/modal/window.html", []).run([ "$templateCache", function(e) {
e.put("template/modal/window.html", '<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n');
} ]), angular.module("template/pagination/pager.html", []).run([ "$templateCache", function(e) {
e.put("template/pagination/pager.html", '<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n');
} ]), angular.module("template/pagination/pagination.html", []).run([ "$templateCache", function(e) {
e.put("template/pagination/pagination.html", '<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n');
} ]), angular.module("template/tooltip/tooltip-html-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/tooltip/tooltip-html-popup.html", '<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n');
} ]), angular.module("template/tooltip/tooltip-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/tooltip/tooltip-popup.html", '<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n');
} ]), angular.module("template/tooltip/tooltip-template-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/tooltip/tooltip-template-popup.html", '<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n');
} ]), angular.module("template/popover/popover-html.html", []).run([ "$templateCache", function(e) {
e.put("template/popover/popover-html.html", '<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n');
} ]), angular.module("template/popover/popover-template.html", []).run([ "$templateCache", function(e) {
e.put("template/popover/popover-template.html", '<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n');
} ]), angular.module("template/popover/popover.html", []).run([ "$templateCache", function(e) {
e.put("template/popover/popover.html", '<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n');
} ]), angular.module("template/progressbar/bar.html", []).run([ "$templateCache", function(e) {
e.put("template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n');
} ]), angular.module("template/progressbar/progress.html", []).run([ "$templateCache", function(e) {
e.put("template/progressbar/progress.html", '<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>');
} ]), angular.module("template/progressbar/progressbar.html", []).run([ "$templateCache", function(e) {
e.put("template/progressbar/progressbar.html", '<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n');
} ]), angular.module("template/rating/rating.html", []).run([ "$templateCache", function(e) {
e.put("template/rating/rating.html", '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n');
} ]), angular.module("template/tabs/tab.html", []).run([ "$templateCache", function(e) {
e.put("template/tabs/tab.html", '<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n');
} ]), angular.module("template/tabs/tabset.html", []).run([ "$templateCache", function(e) {
e.put("template/tabs/tabset.html", '<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n');
} ]), angular.module("template/timepicker/timepicker.html", []).run([ "$templateCache", function(e) {
e.put("template/timepicker/timepicker.html", '<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/typeahead/typeahead-match.html", []).run([ "$templateCache", function(e) {
e.put("template/typeahead/typeahead-match.html", '<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n');
} ]), angular.module("template/typeahead/typeahead-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/typeahead/typeahead-popup.html", '<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n');
} ]), !angular.$$csp() && angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'), function(e) {
"function" == typeof define && define.amd ? define([ "jquery" ], e) : e(jQuery);
}(function(e) {
function t(e) {
for (var t = e.css("visibility"); "inherit" === t; ) t = (e = e.parent()).css("visibility");
return "hidden" !== t;
}
function n(e) {
for (var t, n; e.length && e[0] !== document; ) {
if (("absolute" === (t = e.css("position")) || "relative" === t || "fixed" === t) && (n = parseInt(e.css("zIndex"), 10), !isNaN(n) && 0 !== n)) return n;
e = e.parent();
}
return 0;
}
function i() {
this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
closeText: "Done",
prevText: "Prev",
nextText: "Next",
currentText: "Today",
monthNames: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
monthNamesShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
dayNames: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
dayNamesShort: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
dayNamesMin: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ],
weekHeader: "Wk",
dateFormat: "mm/dd/yy",
firstDay: 0,
isRTL: !1,
showMonthAfterYear: !1,
yearSuffix: ""
}, this._defaults = {
showOn: "focus",
showAnim: "fadeIn",
showOptions: {},
defaultDate: null,
appendText: "",
buttonText: "...",
buttonImage: "",
buttonImageOnly: !1,
hideIfNoPrevNext: !1,
navigationAsDateFormat: !1,
gotoCurrent: !1,
changeMonth: !1,
changeYear: !1,
yearRange: "c-10:c+10",
showOtherMonths: !1,
selectOtherMonths: !1,
showWeek: !1,
calculateWeek: this.iso8601Week,
shortYearCutoff: "+10",
minDate: null,
maxDate: null,
duration: "fast",
beforeShowDay: null,
beforeShow: null,
onSelect: null,
onChangeMonthYear: null,
onClose: null,
numberOfMonths: 1,
showCurrentAtPos: 0,
stepMonths: 1,
stepBigMonths: 12,
altField: "",
altFormat: "",
constrainInput: !0,
showButtonPanel: !1,
autoSize: !1,
disabled: !1
}, e.extend(this._defaults, this.regional[""]), this.regional.en = e.extend(!0, {}, this.regional[""]), this.regional["en-US"] = e.extend(!0, {}, this.regional.en), this.dpDiv = r(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
}
function r(t) {
var n = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
return t.on("mouseout", n, function() {
e(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover");
}).on("mouseover", n, o);
}
function o() {
e.datepicker._isDisabledDatepicker(f.inline ? f.dpDiv.parent()[0] : f.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover"));
}
function a(t, n) {
e.extend(t, n);
for (var i in n) null == n[i] && (t[i] = n[i]);
return t;
}
function s(e) {
return function() {
var t = this.element.val();
e.apply(this, arguments), this._refresh(), t !== this.element.val() && this._trigger("change");
};
}
e.ui = e.ui || {};
e.ui.version = "1.12.1";
var l = 0, c = Array.prototype.slice;
e.cleanData = function(t) {
return function(n) {
var i, r, o;
for (o = 0; null != (r = n[o]); o++) try {
(i = e._data(r, "events")) && i.remove && e(r).triggerHandler("remove");
} catch (e) {}
t(n);
};
}(e.cleanData), e.widget = function(t, n, i) {
var r, o, a, s = {}, l = t.split(".")[0], c = l + "-" + (t = t.split(".")[1]);
return i || (i = n, n = e.Widget), e.isArray(i) && (i = e.extend.apply(null, [ {} ].concat(i))), e.expr[":"][c.toLowerCase()] = function(t) {
return !!e.data(t, c);
}, e[l] = e[l] || {}, r = e[l][t], o = e[l][t] = function(e, t) {
if (!this._createWidget) return new o(e, t);
arguments.length && this._createWidget(e, t);
}, e.extend(o, r, {
version: i.version,
_proto: e.extend({}, i),
_childConstructors: []
}), a = new n(), a.options = e.widget.extend({}, a.options), e.each(i, function(t, i) {
e.isFunction(i) ? s[t] = function() {
function e() {
return n.prototype[t].apply(this, arguments);
}
function r(e) {
return n.prototype[t].apply(this, e);
}
return function() {
var t, n = this._super, o = this._superApply;
return this._super = e, this._superApply = r, t = i.apply(this, arguments), this._super = n, this._superApply = o, t;
};
}() : s[t] = i;
}), o.prototype = e.widget.extend(a, {
widgetEventPrefix: r ? a.widgetEventPrefix || t : t
}, s, {
constructor: o,
namespace: l,
widgetName: t,
widgetFullName: c
}), r ? (e.each(r._childConstructors, function(t, n) {
var i = n.prototype;
e.widget(i.namespace + "." + i.widgetName, o, n._proto);
}), delete r._childConstructors) : n._childConstructors.push(o), e.widget.bridge(t, o), o;
}, e.widget.extend = function(t) {
for (var n, i, r = c.call(arguments, 1), o = 0, a = r.length; o < a; o++) for (n in r[o]) i = r[o][n], r[o].hasOwnProperty(n) && void 0 !== i && (e.isPlainObject(i) ? t[n] = e.isPlainObject(t[n]) ? e.widget.extend({}, t[n], i) : e.widget.extend({}, i) : t[n] = i);
return t;
}, e.widget.bridge = function(t, n) {
var i = n.prototype.widgetFullName || t;
e.fn[t] = function(r) {
var o = "string" == typeof r, a = c.call(arguments, 1), s = this;
return o ? this.length || "instance" !== r ? this.each(function() {
var n, o = e.data(this, i);
return "instance" === r ? (s = o, !1) : o ? e.isFunction(o[r]) && "_" !== r.charAt(0) ? (n = o[r].apply(o, a)) !== o && void 0 !== n ? (s = n && n.jquery ? s.pushStack(n.get()) : n, !1) : void 0 : e.error("no such method '" + r + "' for " + t + " widget instance") : e.error("cannot call methods on " + t + " prior to initialization; attempted to call method '" + r + "'");
}) : s = void 0 : (a.length && (r = e.widget.extend.apply(null, [ r ].concat(a))), this.each(function() {
var t = e.data(this, i);
t ? (t.option(r || {}), t._init && t._init()) : e.data(this, i, new n(r, this));
})), s;
};
}, e.Widget = function() {}, e.Widget._childConstructors = [], e.Widget.prototype = {
widgetName: "widget",
widgetEventPrefix: "",
defaultElement: "<div>",
options: {
classes: {},
disabled: !1,
create: null
},
_createWidget: function(t, n) {
n = e(n || this.defaultElement || this)[0], this.element = e(n), this.uuid = l++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = e(), this.hoverable = e(), this.focusable = e(), this.classesElementLookup = {}, n !== this && (e.data(n, this.widgetFullName, this), this._on(!0, this.element, {
remove: function(e) {
e.target === n && this.destroy();
}
}), this.document = e(n.style ? n.ownerDocument : n.document || n), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t), this._create(), this.options.disabled && this._setOptionDisabled(this.options.disabled), this._trigger("create", null, this._getCreateEventData()), this._init();
},
_getCreateOptions: function() {
return {};
},
_getCreateEventData: e.noop,
_create: e.noop,
_init: e.noop,
destroy: function() {
var t = this;
this._destroy(), e.each(this.classesElementLookup, function(e, n) {
t._removeClass(n, e);
}), this.element.off(this.eventNamespace).removeData(this.widgetFullName), this.widget().off(this.eventNamespace).removeAttr("aria-disabled"), this.bindings.off(this.eventNamespace);
},
_destroy: e.noop,
widget: function() {
return this.element;
},
option: function(t, n) {
var i, r, o, a = t;
if (0 === arguments.length) return e.widget.extend({}, this.options);
if ("string" == typeof t) if (a = {}, i = t.split("."), t = i.shift(), i.length) {
for (r = a[t] = e.widget.extend({}, this.options[t]), o = 0; o < i.length - 1; o++) r[i[o]] = r[i[o]] || {}, r = r[i[o]];
if (t = i.pop(), 1 === arguments.length) return void 0 === r[t] ? null : r[t];
r[t] = n;
} else {
if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t];
a[t] = n;
}
return this._setOptions(a), this;
},
_setOptions: function(e) {
var t;
for (t in e) this._setOption(t, e[t]);
return this;
},
_setOption: function(e, t) {
return "classes" === e && this._setOptionClasses(t), this.options[e] = t, "disabled" === e && this._setOptionDisabled(t), this;
},
_setOptionClasses: function(t) {
var n, i, r;
for (n in t) r = this.classesElementLookup[n], t[n] !== this.options.classes[n] && r && r.length && (i = e(r.get()), this._removeClass(r, n), i.addClass(this._classes({
element: i,
keys: n,
classes: t,
add: !0
})));
},
_setOptionDisabled: function(e) {
this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!e), e && (this._removeClass(this.hoverable, null, "ui-state-hover"), this._removeClass(this.focusable, null, "ui-state-focus"));
},
enable: function() {
return this._setOptions({
disabled: !1
});
},
disable: function() {
return this._setOptions({
disabled: !0
});
},
_classes: function(t) {
function n(n, o) {
var a, s;
for (s = 0; s < n.length; s++) a = r.classesElementLookup[n[s]] || e(), a = e(t.add ? e.unique(a.get().concat(t.element.get())) : a.not(t.element).get()), r.classesElementLookup[n[s]] = a, i.push(n[s]), o && t.classes[n[s]] && i.push(t.classes[n[s]]);
}
var i = [], r = this;
return t = e.extend({
element: this.element,
classes: this.options.classes || {}
}, t), this._on(t.element, {
remove: "_untrackClassesElement"
}), t.keys && n(t.keys.match(/\S+/g) || [], !0), t.extra && n(t.extra.match(/\S+/g) || []), i.join(" ");
},
_untrackClassesElement: function(t) {
var n = this;
e.each(n.classesElementLookup, function(i, r) {
-1 !== e.inArray(t.target, r) && (n.classesElementLookup[i] = e(r.not(t.target).get()));
});
},
_removeClass: function(e, t, n) {
return this._toggleClass(e, t, n, !1);
},
_addClass: function(e, t, n) {
return this._toggleClass(e, t, n, !0);
},
_toggleClass: function(e, t, n, i) {
i = "boolean" == typeof i ? i : n;
var r = "string" == typeof e || null === e, o = {
extra: r ? t : n,
keys: r ? e : t,
element: r ? this.element : e,
add: i
};
return o.element.toggleClass(this._classes(o), i), this;
},
_on: function(t, n, i) {
var r, o = this;
"boolean" != typeof t && (i = n, n = t, t = !1), i ? (n = r = e(n), this.bindings = this.bindings.add(n)) : (i = n, n = this.element, r = this.widget()), e.each(i, function(i, a) {
function s() {
if (t || !0 !== o.options.disabled && !e(this).hasClass("ui-state-disabled")) return ("string" == typeof a ? o[a] : a).apply(o, arguments);
}
"string" != typeof a && (s.guid = a.guid = a.guid || s.guid || e.guid++);
var l = i.match(/^([\w:-]*)\s*(.*)$/), c = l[1] + o.eventNamespace, u = l[2];
u ? r.on(c, u, s) : n.on(c, s);
});
},
_off: function(t, n) {
n = (n || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, t.off(n).off(n), this.bindings = e(this.bindings.not(t).get()), this.focusable = e(this.focusable.not(t).get()), this.hoverable = e(this.hoverable.not(t).get());
},
_delay: function(e, t) {
var n = this;
return setTimeout(function() {
return ("string" == typeof e ? n[e] : e).apply(n, arguments);
}, t || 0);
},
_hoverable: function(t) {
this.hoverable = this.hoverable.add(t), this._on(t, {
mouseenter: function(t) {
this._addClass(e(t.currentTarget), null, "ui-state-hover");
},
mouseleave: function(t) {
this._removeClass(e(t.currentTarget), null, "ui-state-hover");
}
});
},
_focusable: function(t) {
this.focusable = this.focusable.add(t), this._on(t, {
focusin: function(t) {
this._addClass(e(t.currentTarget), null, "ui-state-focus");
},
focusout: function(t) {
this._removeClass(e(t.currentTarget), null, "ui-state-focus");
}
});
},
_trigger: function(t, n, i) {
var r, o, a = this.options[t];
if (i = i || {}, n = e.Event(n), n.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), n.target = this.element[0], o = n.originalEvent) for (r in o) r in n || (n[r] = o[r]);
return this.element.trigger(n, i), !(e.isFunction(a) && !1 === a.apply(this.element[0], [ n ].concat(i)) || n.isDefaultPrevented());
}
}, e.each({
show: "fadeIn",
hide: "fadeOut"
}, function(t, n) {
e.Widget.prototype["_" + t] = function(i, r, o) {
"string" == typeof r && (r = {
effect: r
});
var a, s = r ? !0 === r || "number" == typeof r ? n : r.effect || n : t;
"number" == typeof (r = r || {}) && (r = {
duration: r
}), a = !e.isEmptyObject(r), r.complete = o, r.delay && i.delay(r.delay), a && e.effects && e.effects.effect[s] ? i[t](r) : s !== t && i[s] ? i[s](r.duration, r.easing, o) : i.queue(function(n) {
e(this)[t](), o && o.call(i[0]), n();
});
};
});
e.widget;
!function() {
function t(e, t, n) {
return [ parseFloat(e[0]) * (d.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (d.test(e[1]) ? n / 100 : 1) ];
}
function n(t, n) {
return parseInt(e.css(t, n), 10) || 0;
}
function i(t) {
var n = t[0];
return 9 === n.nodeType ? {
width: t.width(),
height: t.height(),
offset: {
top: 0,
left: 0
}
} : e.isWindow(n) ? {
width: t.width(),
height: t.height(),
offset: {
top: t.scrollTop(),
left: t.scrollLeft()
}
} : n.preventDefault ? {
width: 0,
height: 0,
offset: {
top: n.pageY,
left: n.pageX
}
} : {
width: t.outerWidth(),
height: t.outerHeight(),
offset: t.offset()
};
}
var r, o = Math.max, a = Math.abs, s = /left|center|right/, l = /top|center|bottom/, c = /[\+\-]\d+(\.[\d]+)?%?/, u = /^\w+/, d = /%$/, h = e.fn.position;
e.position = {
scrollbarWidth: function() {
if (void 0 !== r) return r;
var t, n, i = e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), o = i.children()[0];
return e("body").append(i), t = o.offsetWidth, i.css("overflow", "scroll"), n = o.offsetWidth, t === n && (n = i[0].clientWidth), i.remove(), r = t - n;
},
getScrollInfo: function(t) {
var n = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x"), i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y"), r = "scroll" === n || "auto" === n && t.width < t.element[0].scrollWidth;
return {
width: "scroll" === i || "auto" === i && t.height < t.element[0].scrollHeight ? e.position.scrollbarWidth() : 0,
height: r ? e.position.scrollbarWidth() : 0
};
},
getWithinInfo: function(t) {
var n = e(t || window), i = e.isWindow(n[0]), r = !!n[0] && 9 === n[0].nodeType;
return {
element: n,
isWindow: i,
isDocument: r,
offset: !i && !r ? e(t).offset() : {
left: 0,
top: 0
},
scrollLeft: n.scrollLeft(),
scrollTop: n.scrollTop(),
width: n.outerWidth(),
height: n.outerHeight()
};
}
}, e.fn.position = function(r) {
if (!r || !r.of) return h.apply(this, arguments);
r = e.extend({}, r);
var d, f, p, g, m, v, y = e(r.of), b = e.position.getWithinInfo(r.within), _ = e.position.getScrollInfo(b), w = (r.collision || "flip").split(" "), C = {};
return v = i(y), y[0].preventDefault && (r.at = "left top"), f = v.width, p = v.height, g = v.offset, m = e.extend({}, g), e.each([ "my", "at" ], function() {
var e, t, n = (r[this] || "").split(" ");
1 === n.length && (n = s.test(n[0]) ? n.concat([ "center" ]) : l.test(n[0]) ? [ "center" ].concat(n) : [ "center", "center" ]), n[0] = s.test(n[0]) ? n[0] : "center", n[1] = l.test(n[1]) ? n[1] : "center", e = c.exec(n[0]), t = c.exec(n[1]), C[this] = [ e ? e[0] : 0, t ? t[0] : 0 ], r[this] = [ u.exec(n[0])[0], u.exec(n[1])[0] ];
}), 1 === w.length && (w[1] = w[0]), "right" === r.at[0] ? m.left += f : "center" === r.at[0] && (m.left += f / 2), "bottom" === r.at[1] ? m.top += p : "center" === r.at[1] && (m.top += p / 2), d = t(C.at, f, p), m.left += d[0], m.top += d[1], this.each(function() {
var i, s, l = e(this), c = l.outerWidth(), u = l.outerHeight(), h = n(this, "marginLeft"), v = n(this, "marginTop"), x = c + h + n(this, "marginRight") + _.width, S = u + v + n(this, "marginBottom") + _.height, $ = e.extend({}, m), A = t(C.my, l.outerWidth(), l.outerHeight());
"right" === r.my[0] ? $.left -= c : "center" === r.my[0] && ($.left -= c / 2), "bottom" === r.my[1] ? $.top -= u : "center" === r.my[1] && ($.top -= u / 2), $.left += A[0], $.top += A[1], i = {
marginLeft: h,
marginTop: v
}, e.each([ "left", "top" ], function(t, n) {
e.ui.position[w[t]] && e.ui.position[w[t]][n]($, {
targetWidth: f,
targetHeight: p,
elemWidth: c,
elemHeight: u,
collisionPosition: i,
collisionWidth: x,
collisionHeight: S,
offset: [ d[0] + A[0], d[1] + A[1] ],
my: r.my,
at: r.at,
within: b,
elem: l
});
}), r.using && (s = function(e) {
var t = g.left - $.left, n = t + f - c, i = g.top - $.top, s = i + p - u, d = {
target: {
element: y,
left: g.left,
top: g.top,
width: f,
height: p
},
element: {
element: l,
left: $.left,
top: $.top,
width: c,
height: u
},
horizontal: n < 0 ? "left" : t > 0 ? "right" : "center",
vertical: s < 0 ? "top" : i > 0 ? "bottom" : "middle"
};
f < c && a(t + n) < f && (d.horizontal = "center"), p < u && a(i + s) < p && (d.vertical = "middle"), o(a(t), a(n)) > o(a(i), a(s)) ? d.important = "horizontal" : d.important = "vertical", r.using.call(this, e, d);
}), l.offset(e.extend($, {
using: s
}));
});
}, e.ui.position = {
fit: {
left: function(e, t) {
var n, i = t.within, r = i.isWindow ? i.scrollLeft : i.offset.left, a = i.width, s = e.left - t.collisionPosition.marginLeft, l = r - s, c = s + t.collisionWidth - a - r;
t.collisionWidth > a ? l > 0 && c <= 0 ? (n = e.left + l + t.collisionWidth - a - r, e.left += l - n) : e.left = c > 0 && l <= 0 ? r : l > c ? r + a - t.collisionWidth : r : l > 0 ? e.left += l : c > 0 ? e.left -= c : e.left = o(e.left - s, e.left);
},
top: function(e, t) {
var n, i = t.within, r = i.isWindow ? i.scrollTop : i.offset.top, a = t.within.height, s = e.top - t.collisionPosition.marginTop, l = r - s, c = s + t.collisionHeight - a - r;
t.collisionHeight > a ? l > 0 && c <= 0 ? (n = e.top + l + t.collisionHeight - a - r, e.top += l - n) : e.top = c > 0 && l <= 0 ? r : l > c ? r + a - t.collisionHeight : r : l > 0 ? e.top += l : c > 0 ? e.top -= c : e.top = o(e.top - s, e.top);
}
},
flip: {
left: function(e, t) {
var n, i, r = t.within, o = r.offset.left + r.scrollLeft, s = r.width, l = r.isWindow ? r.scrollLeft : r.offset.left, c = e.left - t.collisionPosition.marginLeft, u = c - l, d = c + t.collisionWidth - s - l, h = "left" === t.my[0] ? -t.elemWidth : "right" === t.my[0] ? t.elemWidth : 0, f = "left" === t.at[0] ? t.targetWidth : "right" === t.at[0] ? -t.targetWidth : 0, p = -2 * t.offset[0];
u < 0 ? ((n = e.left + h + f + p + t.collisionWidth - s - o) < 0 || n < a(u)) && (e.left += h + f + p) : d > 0 && ((i = e.left - t.collisionPosition.marginLeft + h + f + p - l) > 0 || a(i) < d) && (e.left += h + f + p);
},
top: function(e, t) {
var n, i, r = t.within, o = r.offset.top + r.scrollTop, s = r.height, l = r.isWindow ? r.scrollTop : r.offset.top, c = e.top - t.collisionPosition.marginTop, u = c - l, d = c + t.collisionHeight - s - l, h = "top" === t.my[1] ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0, f = "top" === t.at[1] ? t.targetHeight : "bottom" === t.at[1] ? -t.targetHeight : 0, p = -2 * t.offset[1];
u < 0 ? ((i = e.top + h + f + p + t.collisionHeight - s - o) < 0 || i < a(u)) && (e.top += h + f + p) : d > 0 && ((n = e.top - t.collisionPosition.marginTop + h + f + p - l) > 0 || a(n) < d) && (e.top += h + f + p);
}
},
flipfit: {
left: function() {
e.ui.position.flip.left.apply(this, arguments), e.ui.position.fit.left.apply(this, arguments);
},
top: function() {
e.ui.position.flip.top.apply(this, arguments), e.ui.position.fit.top.apply(this, arguments);
}
}
};
}();
e.ui.position, e.extend(e.expr[":"], {
data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
return function(n) {
return !!e.data(n, t);
};
}) : function(t, n, i) {
return !!e.data(t, i[3]);
}
}), e.fn.extend({
disableSelection: function() {
var e = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
return function() {
return this.on(e + ".ui-disableSelection", function(e) {
e.preventDefault();
});
};
}(),
enableSelection: function() {
return this.off(".ui-disableSelection");
}
});
var u = "ui-effects-animated", d = e;
e.effects = {
effect: {}
}, function(e, t) {
function n(e, t, n) {
var i = u[t.type] || {};
return null == e ? n || !t.def ? null : t.def : (e = i.floor ? ~~e : parseFloat(e), isNaN(e) ? t.def : i.mod ? (e + i.mod) % i.mod : 0 > e ? 0 : i.max < e ? i.max : e);
}
function i(t) {
var n = l(), i = n._rgba = [];
return t = t.toLowerCase(), f(s, function(e, r) {
var o, a = r.re.exec(t), s = a && r.parse(a), l = r.space || "rgba";
if (s) return o = n[l](s), n[c[l].cache] = o[c[l].cache], i = n._rgba = o._rgba, !1;
}), i.length ? ("0,0,0,0" === i.join() && e.extend(i, o.transparent), n) : o[t];
}
function r(e, t, n) {
return 6 * (n = (n + 1) % 1) < 1 ? e + (t - e) * n * 6 : 2 * n < 1 ? t : 3 * n < 2 ? e + (t - e) * (2 / 3 - n) * 6 : e;
}
var o, a = /^([\-+])=\s*(\d+\.?\d*)/, s = [ {
re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
parse: function(e) {
return [ e[1], e[2], e[3], e[4] ];
}
}, {
re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
parse: function(e) {
return [ 2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4] ];
}
}, {
re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
parse: function(e) {
return [ parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16) ];
}
}, {
re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
parse: function(e) {
return [ parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16) ];
}
}, {
re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
space: "hsla",
parse: function(e) {
return [ e[1], e[2] / 100, e[3] / 100, e[4] ];
}
} ], l = e.Color = function(t, n, i, r) {
return new e.Color.fn.parse(t, n, i, r);
}, c = {
rgba: {
props: {
red: {
idx: 0,
type: "byte"
},
green: {
idx: 1,
type: "byte"
},
blue: {
idx: 2,
type: "byte"
}
}
},
hsla: {
props: {
hue: {
idx: 0,
type: "degrees"
},
saturation: {
idx: 1,
type: "percent"
},
lightness: {
idx: 2,
type: "percent"
}
}
}
}, u = {
byte: {
floor: !0,
max: 255
},
percent: {
max: 1
},
degrees: {
mod: 360,
floor: !0
}
}, d = l.support = {}, h = e("<p>")[0], f = e.each;
h.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = h.style.backgroundColor.indexOf("rgba") > -1, f(c, function(e, t) {
t.cache = "_" + e, t.props.alpha = {
idx: 3,
type: "percent",
def: 1
};
}), l.fn = e.extend(l.prototype, {
parse: function(t, r, a, s) {
if (void 0 === t) return this._rgba = [ null, null, null, null ], this;
(t.jquery || t.nodeType) && (t = e(t).css(r), r = void 0);
var u = this, d = e.type(t), h = this._rgba = [];
return void 0 !== r && (t = [ t, r, a, s ], d = "array"), "string" === d ? this.parse(i(t) || o._default) : "array" === d ? (f(c.rgba.props, function(e, i) {
h[i.idx] = n(t[i.idx], i);
}), this) : "object" === d ? (t instanceof l ? f(c, function(e, n) {
t[n.cache] && (u[n.cache] = t[n.cache].slice());
}) : f(c, function(i, r) {
var o = r.cache;
f(r.props, function(e, i) {
if (!u[o] && r.to) {
if ("alpha" === e || null == t[e]) return;
u[o] = r.to(u._rgba);
}
u[o][i.idx] = n(t[e], i, !0);
}), u[o] && e.inArray(null, u[o].slice(0, 3)) < 0 && (u[o][3] = 1, r.from && (u._rgba = r.from(u[o])));
}), this) : void 0;
},
is: function(e) {
var t = l(e), n = !0, i = this;
return f(c, function(e, r) {
var o, a = t[r.cache];
return a && (o = i[r.cache] || r.to && r.to(i._rgba) || [], f(r.props, function(e, t) {
if (null != a[t.idx]) return n = a[t.idx] === o[t.idx];
})), n;
}), n;
},
_space: function() {
var e = [], t = this;
return f(c, function(n, i) {
t[i.cache] && e.push(n);
}), e.pop();
},
transition: function(e, t) {
var i = l(e), r = i._space(), o = c[r], a = 0 === this.alpha() ? l("transparent") : this, s = a[o.cache] || o.to(a._rgba), d = s.slice();
return i = i[o.cache], f(o.props, function(e, r) {
var o = r.idx, a = s[o], l = i[o], c = u[r.type] || {};
null !== l && (null === a ? d[o] = l : (c.mod && (l - a > c.mod / 2 ? a += c.mod : a - l > c.mod / 2 && (a -= c.mod)), d[o] = n((l - a) * t + a, r)));
}), this[r](d);
},
blend: function(t) {
if (1 === this._rgba[3]) return this;
var n = this._rgba.slice(), i = n.pop(), r = l(t)._rgba;
return l(e.map(n, function(e, t) {
return (1 - i) * r[t] + i * e;
}));
},
toRgbaString: function() {
var t = "rgba(", n = e.map(this._rgba, function(e, t) {
return null == e ? t > 2 ? 1 : 0 : e;
});
return 1 === n[3] && (n.pop(), t = "rgb("), t + n.join() + ")";
},
toHslaString: function() {
var t = "hsla(", n = e.map(this.hsla(), function(e, t) {
return null == e && (e = t > 2 ? 1 : 0), t && t < 3 && (e = Math.round(100 * e) + "%"), e;
});
return 1 === n[3] && (n.pop(), t = "hsl("), t + n.join() + ")";
},
toHexString: function(t) {
var n = this._rgba.slice(), i = n.pop();
return t && n.push(~~(255 * i)), "#" + e.map(n, function(e) {
return 1 === (e = (e || 0).toString(16)).length ? "0" + e : e;
}).join("");
},
toString: function() {
return 0 === this._rgba[3] ? "transparent" : this.toRgbaString();
}
}), l.fn.parse.prototype = l.fn, c.hsla.to = function(e) {
if (null == e[0] || null == e[1] || null == e[2]) return [ null, null, null, e[3] ];
var t, n, i = e[0] / 255, r = e[1] / 255, o = e[2] / 255, a = e[3], s = Math.max(i, r, o), l = Math.min(i, r, o), c = s - l, u = s + l, d = .5 * u;
return t = l === s ? 0 : i === s ? 60 * (r - o) / c + 360 : r === s ? 60 * (o - i) / c + 120 : 60 * (i - r) / c + 240, n = 0 === c ? 0 : d <= .5 ? c / u : c / (2 - u), [ Math.round(t) % 360, n, d, null == a ? 1 : a ];
}, c.hsla.from = function(e) {
if (null == e[0] || null == e[1] || null == e[2]) return [ null, null, null, e[3] ];
var t = e[0] / 360, n = e[1], i = e[2], o = e[3], a = i <= .5 ? i * (1 + n) : i + n - i * n, s = 2 * i - a;
return [ Math.round(255 * r(s, a, t + 1 / 3)), Math.round(255 * r(s, a, t)), Math.round(255 * r(s, a, t - 1 / 3)), o ];
}, f(c, function(t, i) {
var r = i.props, o = i.cache, s = i.to, c = i.from;
l.fn[t] = function(t) {
if (s && !this[o] && (this[o] = s(this._rgba)), void 0 === t) return this[o].slice();
var i, a = e.type(t), u = "array" === a || "object" === a ? t : arguments, d = this[o].slice();
return f(r, function(e, t) {
var i = u["object" === a ? e : t.idx];
null == i && (i = d[t.idx]), d[t.idx] = n(i, t);
}), c ? (i = l(c(d)), i[o] = d, i) : l(d);
}, f(r, function(n, i) {
l.fn[n] || (l.fn[n] = function(r) {
var o, s = e.type(r), l = "alpha" === n ? this._hsla ? "hsla" : "rgba" : t, c = this[l](), u = c[i.idx];
return "undefined" === s ? u : ("function" === s && (r = r.call(this, u), s = e.type(r)), null == r && i.empty ? this : ("string" === s && (o = a.exec(r)) && (r = u + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1)), c[i.idx] = r, this[l](c)));
});
});
}), l.hook = function(t) {
var n = t.split(" ");
f(n, function(t, n) {
e.cssHooks[n] = {
set: function(t, r) {
var o, a, s = "";
if ("transparent" !== r && ("string" !== e.type(r) || (o = i(r)))) {
if (r = l(o || r), !d.rgba && 1 !== r._rgba[3]) {
for (a = "backgroundColor" === n ? t.parentNode : t; ("" === s || "transparent" === s) && a && a.style; ) try {
s = e.css(a, "backgroundColor"), a = a.parentNode;
} catch (e) {}
r = r.blend(s && "transparent" !== s ? s : "_default");
}
r = r.toRgbaString();
}
try {
t.style[n] = r;
} catch (e) {}
}
}, e.fx.step[n] = function(t) {
t.colorInit || (t.start = l(t.elem, n), t.end = l(t.end), t.colorInit = !0), e.cssHooks[n].set(t.elem, t.start.transition(t.end, t.pos));
};
});
}, l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"), e.cssHooks.borderColor = {
expand: function(e) {
var t = {};
return f([ "Top", "Right", "Bottom", "Left" ], function(n, i) {
t["border" + i + "Color"] = e;
}), t;
}
}, o = e.Color.names = {
aqua: "#00ffff",
black: "#000000",
blue: "#0000ff",
fuchsia: "#ff00ff",
gray: "#808080",
green: "#008000",
lime: "#00ff00",
maroon: "#800000",
navy: "#000080",
olive: "#808000",
purple: "#800080",
red: "#ff0000",
silver: "#c0c0c0",
teal: "#008080",
white: "#ffffff",
yellow: "#ffff00",
transparent: [ null, null, null, 0 ],
_default: "#ffffff"
};
}(d), function() {
function t(t) {
var n, i, r = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle, o = {};
if (r && r.length && r[0] && r[r[0]]) for (i = r.length; i--; ) "string" == typeof r[n = r[i]] && (o[e.camelCase(n)] = r[n]); else for (n in r) "string" == typeof r[n] && (o[n] = r[n]);
return o;
}
function n(t, n) {
var i, o, a = {};
for (i in n) o = n[i], t[i] !== o && (r[i] || !e.fx.step[i] && isNaN(parseFloat(o)) || (a[i] = o));
return a;
}
var i = [ "add", "remove", "toggle" ], r = {
border: 1,
borderBottom: 1,
borderColor: 1,
borderLeft: 1,
borderRight: 1,
borderTop: 1,
borderWidth: 1,
margin: 1,
padding: 1
};
e.each([ "borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle" ], function(t, n) {
e.fx.step[n] = function(e) {
("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (d.style(e.elem, n, e.end), e.setAttr = !0);
};
}), e.fn.addBack || (e.fn.addBack = function(e) {
return this.add(null == e ? this.prevObject : this.prevObject.filter(e));
}), e.effects.animateClass = function(r, o, a, s) {
var l = e.speed(o, a, s);
return this.queue(function() {
var o, a = e(this), s = a.attr("class") || "", c = l.children ? a.find("*").addBack() : a;
c = c.map(function() {
return {
el: e(this),
start: t(this)
};
}), (o = function() {
e.each(i, function(e, t) {
r[t] && a[t + "Class"](r[t]);
});
})(), c = c.map(function() {
return this.end = t(this.el[0]), this.diff = n(this.start, this.end), this;
}), a.attr("class", s), c = c.map(function() {
var t = this, n = e.Deferred(), i = e.extend({}, l, {
queue: !1,
complete: function() {
n.resolve(t);
}
});
return this.el.animate(this.diff, i), n.promise();
}), e.when.apply(e, c.get()).done(function() {
o(), e.each(arguments, function() {
var t = this.el;
e.each(this.diff, function(e) {
t.css(e, "");
});
}), l.complete.call(a[0]);
});
});
}, e.fn.extend({
addClass: function(t) {
return function(n, i, r, o) {
return i ? e.effects.animateClass.call(this, {
add: n
}, i, r, o) : t.apply(this, arguments);
};
}(e.fn.addClass),
removeClass: function(t) {
return function(n, i, r, o) {
return arguments.length > 1 ? e.effects.animateClass.call(this, {
remove: n
}, i, r, o) : t.apply(this, arguments);
};
}(e.fn.removeClass),
toggleClass: function(t) {
return function(n, i, r, o, a) {
return "boolean" == typeof i || void 0 === i ? r ? e.effects.animateClass.call(this, i ? {
add: n
} : {
remove: n
}, r, o, a) : t.apply(this, arguments) : e.effects.animateClass.call(this, {
toggle: n
}, i, r, o);
};
}(e.fn.toggleClass),
switchClass: function(t, n, i, r, o) {
return e.effects.animateClass.call(this, {
add: n,
remove: t
}, i, r, o);
}
});
}(), function() {
function t(t, n, i, r) {
return e.isPlainObject(t) && (n = t, t = t.effect), t = {
effect: t
}, null == n && (n = {}), e.isFunction(n) && (r = n, i = null, n = {}), ("number" == typeof n || e.fx.speeds[n]) && (r = i, i = n, n = {}), e.isFunction(i) && (r = i, i = null), n && e.extend(t, n), i = i || n.duration, t.duration = e.fx.off ? 0 : "number" == typeof i ? i : i in e.fx.speeds ? e.fx.speeds[i] : e.fx.speeds._default, t.complete = r || n.complete, t;
}
function n(t) {
return !(t && "number" != typeof t && !e.fx.speeds[t]) || ("string" == typeof t && !e.effects.effect[t] || (!!e.isFunction(t) || "object" == typeof t && !t.effect));
}
function i(e, t) {
var n = t.outerWidth(), i = t.outerHeight(), r = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e) || [ "", 0, n, i, 0 ];
return {
top: parseFloat(r[1]) || 0,
right: "auto" === r[2] ? n : parseFloat(r[2]),
bottom: "auto" === r[3] ? i : parseFloat(r[3]),
left: parseFloat(r[4]) || 0
};
}
e.expr && e.expr.filters && e.expr.filters.animated && (e.expr.filters.animated = function(t) {
return function(n) {
return !!e(n).data(u) || t(n);
};
}(e.expr.filters.animated)), !1 !== e.uiBackCompat && e.extend(e.effects, {
save: function(e, t) {
for (var n = 0, i = t.length; n < i; n++) null !== t[n] && e.data("ui-effects-" + t[n], e[0].style[t[n]]);
},
restore: function(e, t) {
for (var n, i = 0, r = t.length; i < r; i++) null !== t[i] && (n = e.data("ui-effects-" + t[i]), e.css(t[i], n));
},
setMode: function(e, t) {
return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"), t;
},
createWrapper: function(t) {
if (t.parent().is(".ui-effects-wrapper")) return t.parent();
var n = {
width: t.outerWidth(!0),
height: t.outerHeight(!0),
float: t.css("float")
}, i = e("<div></div>").addClass("ui-effects-wrapper").css({
fontSize: "100%",
background: "transparent",
border: "none",
margin: 0,
padding: 0
}), r = {
width: t.width(),
height: t.height()
}, o = document.activeElement;
try {
o.id;
} catch (e) {
o = document.body;
}
return t.wrap(i), (t[0] === o || e.contains(t[0], o)) && e(o).trigger("focus"), i = t.parent(), "static" === t.css("position") ? (i.css({
position: "relative"
}), t.css({
position: "relative"
})) : (e.extend(n, {
position: t.css("position"),
zIndex: t.css("z-index")
}), e.each([ "top", "left", "bottom", "right" ], function(e, i) {
n[i] = t.css(i), isNaN(parseInt(n[i], 10)) && (n[i] = "auto");
}), t.css({
position: "relative",
top: 0,
left: 0,
right: "auto",
bottom: "auto"
})), t.css(r), i.css(n).show();
},
removeWrapper: function(t) {
var n = document.activeElement;
return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === n || e.contains(t[0], n)) && e(n).trigger("focus")), t;
}
}), e.extend(e.effects, {
version: "1.12.1",
define: function(t, n, i) {
return i || (i = n, n = "effect"), e.effects.effect[t] = i, e.effects.effect[t].mode = n, i;
},
scaledDimensions: function(e, t, n) {
if (0 === t) return {
height: 0,
width: 0,
outerHeight: 0,
outerWidth: 0
};
var i = "horizontal" !== n ? (t || 100) / 100 : 1, r = "vertical" !== n ? (t || 100) / 100 : 1;
return {
height: e.height() * r,
width: e.width() * i,
outerHeight: e.outerHeight() * r,
outerWidth: e.outerWidth() * i
};
},
clipToBox: function(e) {
return {
width: e.clip.right - e.clip.left,
height: e.clip.bottom - e.clip.top,
left: e.clip.left,
top: e.clip.top
};
},
unshift: function(e, t, n) {
var i = e.queue();
t > 1 && i.splice.apply(i, [ 1, 0 ].concat(i.splice(t, n))), e.dequeue();
},
saveStyle: function(e) {
e.data("ui-effects-style", e[0].style.cssText);
},
restoreStyle: function(e) {
e[0].style.cssText = e.data("ui-effects-style") || "", e.removeData("ui-effects-style");
},
mode: function(e, t) {
var n = e.is(":hidden");
return "toggle" === t && (t = n ? "show" : "hide"), (n ? "hide" === t : "show" === t) && (t = "none"), t;
},
getBaseline: function(e, t) {
var n, i;
switch (e[0]) {
case "top":
n = 0;
break;

case "middle":
n = .5;
break;

case "bottom":
n = 1;
break;

default:
n = e[0] / t.height;
}
switch (e[1]) {
case "left":
i = 0;
break;

case "center":
i = .5;
break;

case "right":
i = 1;
break;

default:
i = e[1] / t.width;
}
return {
x: i,
y: n
};
},
createPlaceholder: function(t) {
var n, i = t.css("position"), r = t.position();
return t.css({
marginTop: t.css("marginTop"),
marginBottom: t.css("marginBottom"),
marginLeft: t.css("marginLeft"),
marginRight: t.css("marginRight")
}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()), /^(static|relative)/.test(i) && (i = "absolute", n = e("<" + t[0].nodeName + ">").insertAfter(t).css({
display: /^(inline|ruby)/.test(t.css("display")) ? "inline-block" : "block",
visibility: "hidden",
marginTop: t.css("marginTop"),
marginBottom: t.css("marginBottom"),
marginLeft: t.css("marginLeft"),
marginRight: t.css("marginRight"),
float: t.css("float")
}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"), t.data("ui-effects-placeholder", n)), t.css({
position: i,
left: r.left,
top: r.top
}), n;
},
removePlaceholder: function(e) {
var t = "ui-effects-placeholder", n = e.data(t);
n && (n.remove(), e.removeData(t));
},
cleanUp: function(t) {
e.effects.restoreStyle(t), e.effects.removePlaceholder(t);
},
setTransition: function(t, n, i, r) {
return r = r || {}, e.each(n, function(e, n) {
var o = t.cssUnit(n);
o[0] > 0 && (r[n] = o[0] * i + o[1]);
}), r;
}
}), e.fn.extend({
effect: function() {
function n(t) {
function n() {
e.isFunction(l) && l.call(a[0]), e.isFunction(t) && t();
}
var a = e(this);
i.mode = d.shift(), !1 === e.uiBackCompat || o ? "none" === i.mode ? (a[c](), n()) : r.call(a[0], i, function() {
a.removeData(u), e.effects.cleanUp(a), "hide" === i.mode && a.hide(), n();
}) : (a.is(":hidden") ? "hide" === c : "show" === c) ? (a[c](), n()) : r.call(a[0], i, n);
}
var i = t.apply(this, arguments), r = e.effects.effect[i.effect], o = r.mode, a = i.queue, s = a || "fx", l = i.complete, c = i.mode, d = [], h = function(t) {
var n = e(this), i = e.effects.mode(n, c) || o;
n.data(u, !0), d.push(i), o && ("show" === i || i === o && "hide" === i) && n.show(), o && "none" === i || e.effects.saveStyle(n), e.isFunction(t) && t();
};
return e.fx.off || !r ? c ? this[c](i.duration, l) : this.each(function() {
l && l.call(this);
}) : !1 === a ? this.each(h).each(n) : this.queue(s, h).queue(s, n);
},
show: function(e) {
return function(i) {
if (n(i)) return e.apply(this, arguments);
var r = t.apply(this, arguments);
return r.mode = "show", this.effect.call(this, r);
};
}(e.fn.show),
hide: function(e) {
return function(i) {
if (n(i)) return e.apply(this, arguments);
var r = t.apply(this, arguments);
return r.mode = "hide", this.effect.call(this, r);
};
}(e.fn.hide),
toggle: function(e) {
return function(i) {
if (n(i) || "boolean" == typeof i) return e.apply(this, arguments);
var r = t.apply(this, arguments);
return r.mode = "toggle", this.effect.call(this, r);
};
}(e.fn.toggle),
cssUnit: function(t) {
var n = this.css(t), i = [];
return e.each([ "em", "px", "%", "pt" ], function(e, t) {
n.indexOf(t) > 0 && (i = [ parseFloat(n), t ]);
}), i;
},
cssClip: function(e) {
return e ? this.css("clip", "rect(" + e.top + "px " + e.right + "px " + e.bottom + "px " + e.left + "px)") : i(this.css("clip"), this);
},
transfer: function(t, n) {
var i = e(this), r = e(t.to), o = "fixed" === r.css("position"), a = e("body"), s = o ? a.scrollTop() : 0, l = o ? a.scrollLeft() : 0, c = r.offset(), u = {
top: c.top - s,
left: c.left - l,
height: r.innerHeight(),
width: r.innerWidth()
}, d = i.offset(), h = e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({
top: d.top - s,
left: d.left - l,
height: i.innerHeight(),
width: i.innerWidth(),
position: o ? "fixed" : "absolute"
}).animate(u, t.duration, t.easing, function() {
h.remove(), e.isFunction(n) && n();
});
}
}), e.fx.step.clip = function(t) {
t.clipInit || (t.start = e(t.elem).cssClip(), "string" == typeof t.end && (t.end = i(t.end, t.elem)), t.clipInit = !0), e(t.elem).cssClip({
top: t.pos * (t.end.top - t.start.top) + t.start.top,
right: t.pos * (t.end.right - t.start.right) + t.start.right,
bottom: t.pos * (t.end.bottom - t.start.bottom) + t.start.bottom,
left: t.pos * (t.end.left - t.start.left) + t.start.left
});
};
}(), function() {
var t = {};
e.each([ "Quad", "Cubic", "Quart", "Quint", "Expo" ], function(e, n) {
t[n] = function(t) {
return Math.pow(t, e + 2);
};
}), e.extend(t, {
Sine: function(e) {
return 1 - Math.cos(e * Math.PI / 2);
},
Circ: function(e) {
return 1 - Math.sqrt(1 - e * e);
},
Elastic: function(e) {
return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15);
},
Back: function(e) {
return e * e * (3 * e - 2);
},
Bounce: function(e) {
for (var t, n = 4; e < ((t = Math.pow(2, --n)) - 1) / 11; ) ;
return 1 / Math.pow(4, 3 - n) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2);
}
}), e.each(t, function(t, n) {
e.easing["easeIn" + t] = n, e.easing["easeOut" + t] = function(e) {
return 1 - n(1 - e);
}, e.easing["easeInOut" + t] = function(e) {
return e < .5 ? n(2 * e) / 2 : 1 - n(-2 * e + 2) / 2;
};
});
}();
e.effects, e.effects.define("blind", "hide", function(t, n) {
var i = {
up: [ "bottom", "top" ],
vertical: [ "bottom", "top" ],
down: [ "top", "bottom" ],
left: [ "right", "left" ],
horizontal: [ "right", "left" ],
right: [ "left", "right" ]
}, r = e(this), o = t.direction || "up", a = r.cssClip(), s = {
clip: e.extend({}, a)
}, l = e.effects.createPlaceholder(r);
s.clip[i[o][0]] = s.clip[i[o][1]], "show" === t.mode && (r.cssClip(s.clip), l && l.css(e.effects.clipToBox(s)), s.clip = a), l && l.animate(e.effects.clipToBox(s), t.duration, t.easing), r.animate(s, {
queue: !1,
duration: t.duration,
easing: t.easing,
complete: n
});
}), e.effects.define("bounce", function(t, n) {
var i, r, o, a = e(this), s = t.mode, l = "hide" === s, c = "show" === s, u = t.direction || "up", d = t.distance, h = t.times || 5, f = 2 * h + (c || l ? 1 : 0), p = t.duration / f, g = t.easing, m = "up" === u || "down" === u ? "top" : "left", v = "up" === u || "left" === u, y = 0, b = a.queue().length;
for (e.effects.createPlaceholder(a), o = a.css(m), d || (d = a["top" === m ? "outerHeight" : "outerWidth"]() / 3), c && ((r = {
opacity: 1
})[m] = o, a.css("opacity", 0).css(m, v ? 2 * -d : 2 * d).animate(r, p, g)), l && (d /= Math.pow(2, h - 1)), (r = {})[m] = o; y < h; y++) (i = {})[m] = (v ? "-=" : "+=") + d, a.animate(i, p, g).animate(r, p, g), d = l ? 2 * d : d / 2;
l && ((i = {
opacity: 0
})[m] = (v ? "-=" : "+=") + d, a.animate(i, p, g)), a.queue(n), e.effects.unshift(a, b, f + 1);
}), e.effects.define("clip", "hide", function(t, n) {
var i, r = {}, o = e(this), a = t.direction || "vertical", s = "both" === a, l = s || "horizontal" === a, c = s || "vertical" === a;
i = o.cssClip(), r.clip = {
top: c ? (i.bottom - i.top) / 2 : i.top,
right: l ? (i.right - i.left) / 2 : i.right,
bottom: c ? (i.bottom - i.top) / 2 : i.bottom,
left: l ? (i.right - i.left) / 2 : i.left
}, e.effects.createPlaceholder(o), "show" === t.mode && (o.cssClip(r.clip), r.clip = i), o.animate(r, {
queue: !1,
duration: t.duration,
easing: t.easing,
complete: n
});
}), e.effects.define("drop", "hide", function(t, n) {
var i, r = e(this), o = "show" === t.mode, a = t.direction || "left", s = "up" === a || "down" === a ? "top" : "left", l = "up" === a || "left" === a ? "-=" : "+=", c = "+=" === l ? "-=" : "+=", u = {
opacity: 0
};
e.effects.createPlaceholder(r), i = t.distance || r["top" === s ? "outerHeight" : "outerWidth"](!0) / 2, u[s] = l + i, o && (r.css(u), u[s] = c + i, u.opacity = 1), r.animate(u, {
queue: !1,
duration: t.duration,
easing: t.easing,
complete: n
});
}), e.effects.define("explode", "hide", function(t, n) {
function i() {
h.css({
visibility: "visible"
}), e(v).remove(), n();
}
var r, o, a, s, l, c, u = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3, d = u, h = e(this), f = "show" === t.mode, p = h.show().css("visibility", "hidden").offset(), g = Math.ceil(h.outerWidth() / d), m = Math.ceil(h.outerHeight() / u), v = [];
for (r = 0; r < u; r++) for (s = p.top + r * m, c = r - (u - 1) / 2, o = 0; o < d; o++) a = p.left + o * g, l = o - (d - 1) / 2, h.clone().appendTo("body").wrap("<div></div>").css({
position: "absolute",
visibility: "visible",
left: -o * g,
top: -r * m
}).parent().addClass("ui-effects-explode").css({
position: "absolute",
overflow: "hidden",
width: g,
height: m,
left: a + (f ? l * g : 0),
top: s + (f ? c * m : 0),
opacity: f ? 0 : 1
}).animate({
left: a + (f ? 0 : l * g),
top: s + (f ? 0 : c * m),
opacity: f ? 1 : 0
}, t.duration || 500, t.easing, function() {
v.push(this), v.length === u * d && i();
});
}), e.effects.define("fade", "toggle", function(t, n) {
var i = "show" === t.mode;
e(this).css("opacity", i ? 0 : 1).animate({
opacity: i ? 1 : 0
}, {
queue: !1,
duration: t.duration,
easing: t.easing,
complete: n
});
}), e.effects.define("fold", "hide", function(t, n) {
var i = e(this), r = t.mode, o = "show" === r, a = "hide" === r, s = t.size || 15, l = /([0-9]+)%/.exec(s), c = !!t.horizFirst ? [ "right", "bottom" ] : [ "bottom", "right" ], u = t.duration / 2, d = e.effects.createPlaceholder(i), h = i.cssClip(), f = {
clip: e.extend({}, h)
}, p = {
clip: e.extend({}, h)
}, g = [ h[c[0]], h[c[1]] ], m = i.queue().length;
l && (s = parseInt(l[1], 10) / 100 * g[a ? 0 : 1]), f.clip[c[0]] = s, p.clip[c[0]] = s, p.clip[c[1]] = 0, o && (i.cssClip(p.clip), d && d.css(e.effects.clipToBox(p)), p.clip = h), i.queue(function(n) {
d && d.animate(e.effects.clipToBox(f), u, t.easing).animate(e.effects.clipToBox(p), u, t.easing), n();
}).animate(f, u, t.easing).animate(p, u, t.easing).queue(n), e.effects.unshift(i, m, 4);
}), e.effects.define("highlight", "show", function(t, n) {
var i = e(this), r = {
backgroundColor: i.css("backgroundColor")
};
"hide" === t.mode && (r.opacity = 0), e.effects.saveStyle(i), i.css({
backgroundImage: "none",
backgroundColor: t.color || "#ffff99"
}).animate(r, {
queue: !1,
duration: t.duration,
easing: t.easing,
complete: n
});
}), e.effects.define("size", function(t, n) {
var i, r, o, a = e(this), s = [ "fontSize" ], l = [ "borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom" ], c = [ "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight" ], u = t.mode, d = "effect" !== u, h = t.scale || "both", f = t.origin || [ "middle", "center" ], p = a.css("position"), g = a.position(), m = e.effects.scaledDimensions(a), v = t.from || m, y = t.to || e.effects.scaledDimensions(a, 0);
e.effects.createPlaceholder(a), "show" === u && (o = v, v = y, y = o), r = {
from: {
y: v.height / m.height,
x: v.width / m.width
},
to: {
y: y.height / m.height,
x: y.width / m.width
}
}, "box" !== h && "both" !== h || (r.from.y !== r.to.y && (v = e.effects.setTransition(a, l, r.from.y, v), y = e.effects.setTransition(a, l, r.to.y, y)), r.from.x !== r.to.x && (v = e.effects.setTransition(a, c, r.from.x, v), y = e.effects.setTransition(a, c, r.to.x, y))), "content" !== h && "both" !== h || r.from.y !== r.to.y && (v = e.effects.setTransition(a, s, r.from.y, v), y = e.effects.setTransition(a, s, r.to.y, y)), f && (i = e.effects.getBaseline(f, m), v.top = (m.outerHeight - v.outerHeight) * i.y + g.top, v.left = (m.outerWidth - v.outerWidth) * i.x + g.left, y.top = (m.outerHeight - y.outerHeight) * i.y + g.top, y.left = (m.outerWidth - y.outerWidth) * i.x + g.left), a.css(v), "content" !== h && "both" !== h || (l = l.concat([ "marginTop", "marginBottom" ]).concat(s), c = c.concat([ "marginLeft", "marginRight" ]), a.find("*[width]").each(function() {
var n = e(this), i = e.effects.scaledDimensions(n), o = {
height: i.height * r.from.y,
width: i.width * r.from.x,
outerHeight: i.outerHeight * r.from.y,
outerWidth: i.outerWidth * r.from.x
}, a = {
height: i.height * r.to.y,
width: i.width * r.to.x,
outerHeight: i.height * r.to.y,
outerWidth: i.width * r.to.x
};
r.from.y !== r.to.y && (o = e.effects.setTransition(n, l, r.from.y, o), a = e.effects.setTransition(n, l, r.to.y, a)), r.from.x !== r.to.x && (o = e.effects.setTransition(n, c, r.from.x, o), a = e.effects.setTransition(n, c, r.to.x, a)), d && e.effects.saveStyle(n), n.css(o), n.animate(a, t.duration, t.easing, function() {
d && e.effects.restoreStyle(n);
});
})), a.animate(y, {
queue: !1,
duration: t.duration,
easing: t.easing,
complete: function() {
var t = a.offset();
0 === y.opacity && a.css("opacity", v.opacity), d || (a.css("position", "static" === p ? "relative" : p).offset(t), e.effects.saveStyle(a)), n();
}
});
}), e.effects.define("scale", function(t, n) {
var i = e(this), r = t.mode, o = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : "effect" !== r ? 0 : 100), a = e.extend(!0, {
from: e.effects.scaledDimensions(i),
to: e.effects.scaledDimensions(i, o, t.direction || "both"),
origin: t.origin || [ "middle", "center" ]
}, t);
t.fade && (a.from.opacity = 1, a.to.opacity = 0), e.effects.effect.size.call(this, a, n);
}), e.effects.define("puff", "hide", function(t, n) {
var i = e.extend(!0, {}, t, {
fade: !0,
percent: parseInt(t.percent, 10) || 150
});
e.effects.effect.scale.call(this, i, n);
}), e.effects.define("pulsate", "show", function(t, n) {
var i = e(this), r = t.mode, o = "show" === r, a = "hide" === r, s = o || a, l = 2 * (t.times || 5) + (s ? 1 : 0), c = t.duration / l, u = 0, d = 1, h = i.queue().length;
for (!o && i.is(":visible") || (i.css("opacity", 0).show(), u = 1); d < l; d++) i.animate({
opacity: u
}, c, t.easing), u = 1 - u;
i.animate({
opacity: u
}, c, t.easing), i.queue(n), e.effects.unshift(i, h, l + 1);
}), e.effects.define("shake", function(t, n) {
var i = 1, r = e(this), o = t.direction || "left", a = t.distance || 20, s = t.times || 3, l = 2 * s + 1, c = Math.round(t.duration / l), u = "up" === o || "down" === o ? "top" : "left", d = "up" === o || "left" === o, h = {}, f = {}, p = {}, g = r.queue().length;
for (e.effects.createPlaceholder(r), h[u] = (d ? "-=" : "+=") + a, f[u] = (d ? "+=" : "-=") + 2 * a, p[u] = (d ? "-=" : "+=") + 2 * a, r.animate(h, c, t.easing); i < s; i++) r.animate(f, c, t.easing).animate(p, c, t.easing);
r.animate(f, c, t.easing).animate(h, c / 2, t.easing).queue(n), e.effects.unshift(r, g, l + 1);
}), e.effects.define("slide", "show", function(t, n) {
var i, r, o = e(this), a = {
up: [ "bottom", "top" ],
down: [ "top", "bottom" ],
left: [ "right", "left" ],
right: [ "left", "right" ]
}, s = t.mode, l = t.direction || "left", c = "up" === l || "down" === l ? "top" : "left", u = "up" === l || "left" === l, d = t.distance || o["top" === c ? "outerHeight" : "outerWidth"](!0), h = {};
e.effects.createPlaceholder(o), i = o.cssClip(), r = o.position()[c], h[c] = (u ? -1 : 1) * d + r, h.clip = o.cssClip(), h.clip[a[l][1]] = h.clip[a[l][0]], "show" === s && (o.cssClip(h.clip), o.css(c, h[c]), h.clip = i, h[c] = r), o.animate(h, {
queue: !1,
duration: t.duration,
easing: t.easing,
complete: n
});
});
!1 !== e.uiBackCompat && e.effects.define("transfer", function(t, n) {
e(this).transfer(t, n);
});
e.ui.focusable = function(n, i) {
var r, o, a, s, l, c = n.nodeName.toLowerCase();
return "area" === c ? (r = n.parentNode, o = r.name, !(!n.href || !o || "map" !== r.nodeName.toLowerCase()) && ((a = e("img[usemap='#" + o + "']")).length > 0 && a.is(":visible"))) : (/^(input|select|textarea|button|object)$/.test(c) ? (s = !n.disabled) && (l = e(n).closest("fieldset")[0]) && (s = !l.disabled) : s = "a" === c ? n.href || i : i, s && e(n).is(":visible") && t(e(n)));
}, e.extend(e.expr[":"], {
focusable: function(t) {
return e.ui.focusable(t, null != e.attr(t, "tabindex"));
}
});
e.ui.focusable, e.fn.form = function() {
return "string" == typeof this[0].form ? this.closest("form") : e(this[0].form);
}, e.ui.formResetMixin = {
_formResetHandler: function() {
var t = e(this);
setTimeout(function() {
var n = t.data("ui-form-reset-instances");
e.each(n, function() {
this.refresh();
});
});
},
_bindFormResetHandler: function() {
if (this.form = this.element.form(), this.form.length) {
var e = this.form.data("ui-form-reset-instances") || [];
e.length || this.form.on("reset.ui-form-reset", this._formResetHandler), e.push(this), this.form.data("ui-form-reset-instances", e);
}
},
_unbindFormResetHandler: function() {
if (this.form.length) {
var t = this.form.data("ui-form-reset-instances");
t.splice(e.inArray(this, t), 1), t.length ? this.form.data("ui-form-reset-instances", t) : this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset");
}
}
};
"1.7" === e.fn.jquery.substring(0, 3) && (e.each([ "Width", "Height" ], function(t, n) {
function i(t, n, i, o) {
return e.each(r, function() {
n -= parseFloat(e.css(t, "padding" + this)) || 0, i && (n -= parseFloat(e.css(t, "border" + this + "Width")) || 0), o && (n -= parseFloat(e.css(t, "margin" + this)) || 0);
}), n;
}
var r = "Width" === n ? [ "Left", "Right" ] : [ "Top", "Bottom" ], o = n.toLowerCase(), a = {
innerWidth: e.fn.innerWidth,
innerHeight: e.fn.innerHeight,
outerWidth: e.fn.outerWidth,
outerHeight: e.fn.outerHeight
};
e.fn["inner" + n] = function(t) {
return void 0 === t ? a["inner" + n].call(this) : this.each(function() {
e(this).css(o, i(this, t) + "px");
});
}, e.fn["outer" + n] = function(t, r) {
return "number" != typeof t ? a["outer" + n].call(this, t) : this.each(function() {
e(this).css(o, i(this, t, !0, r) + "px");
});
};
}), e.fn.addBack = function(e) {
return this.add(null == e ? this.prevObject : this.prevObject.filter(e));
});
e.ui.keyCode = {
BACKSPACE: 8,
COMMA: 188,
DELETE: 46,
DOWN: 40,
END: 35,
ENTER: 13,
ESCAPE: 27,
HOME: 36,
LEFT: 37,
PAGE_DOWN: 34,
PAGE_UP: 33,
PERIOD: 190,
RIGHT: 39,
SPACE: 32,
TAB: 9,
UP: 38
}, e.ui.escapeSelector = function() {
var e = /([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;
return function(t) {
return t.replace(e, "\\$1");
};
}(), e.fn.labels = function() {
var t, n, i, r, o;
return this[0].labels && this[0].labels.length ? this.pushStack(this[0].labels) : (r = this.eq(0).parents("label"), (i = this.attr("id")) && (o = (t = this.eq(0).parents().last()).add(t.length ? t.siblings() : this.siblings()), n = "label[for='" + e.ui.escapeSelector(i) + "']", r = r.add(o.find(n).addBack(n))), this.pushStack(r));
}, e.fn.scrollParent = function(t) {
var n = this.css("position"), i = "absolute" === n, r = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/, o = this.parents().filter(function() {
var t = e(this);
return (!i || "static" !== t.css("position")) && r.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"));
}).eq(0);
return "fixed" !== n && o.length ? o : e(this[0].ownerDocument || document);
}, e.extend(e.expr[":"], {
tabbable: function(t) {
var n = e.attr(t, "tabindex"), i = null != n;
return (!i || n >= 0) && e.ui.focusable(t, i);
}
}), e.fn.extend({
uniqueId: function() {
var e = 0;
return function() {
return this.each(function() {
this.id || (this.id = "ui-id-" + ++e);
});
};
}(),
removeUniqueId: function() {
return this.each(function() {
/^ui-id-\d+$/.test(this.id) && e(this).removeAttr("id");
});
}
}), e.widget("ui.accordion", {
version: "1.12.1",
options: {
active: 0,
animate: {},
classes: {
"ui-accordion-header": "ui-corner-top",
"ui-accordion-header-collapsed": "ui-corner-all",
"ui-accordion-content": "ui-corner-bottom"
},
collapsible: !1,
event: "click",
header: "> li > :first-child, > :not(li):even",
heightStyle: "auto",
icons: {
activeHeader: "ui-icon-triangle-1-s",
header: "ui-icon-triangle-1-e"
},
activate: null,
beforeActivate: null
},
hideProps: {
borderTopWidth: "hide",
borderBottomWidth: "hide",
paddingTop: "hide",
paddingBottom: "hide",
height: "hide"
},
showProps: {
borderTopWidth: "show",
borderBottomWidth: "show",
paddingTop: "show",
paddingBottom: "show",
height: "show"
},
_create: function() {
var t = this.options;
this.prevShow = this.prevHide = e(), this._addClass("ui-accordion", "ui-widget ui-helper-reset"), this.element.attr("role", "tablist"), t.collapsible || !1 !== t.active && null != t.active || (t.active = 0), this._processPanels(), t.active < 0 && (t.active += this.headers.length), this._refresh();
},
_getCreateEventData: function() {
return {
header: this.active,
panel: this.active.length ? this.active.next() : e()
};
},
_createIcons: function() {
var t, n, i = this.options.icons;
i && (t = e("<span>"), this._addClass(t, "ui-accordion-header-icon", "ui-icon " + i.header), t.prependTo(this.headers), n = this.active.children(".ui-accordion-header-icon"), this._removeClass(n, i.header)._addClass(n, null, i.activeHeader)._addClass(this.headers, "ui-accordion-icons"));
},
_destroyIcons: function() {
this._removeClass(this.headers, "ui-accordion-icons"), this.headers.children(".ui-accordion-header-icon").remove();
},
_destroy: function() {
var e;
this.element.removeAttr("role"), this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(), this._destroyIcons(), e = this.headers.next().css("display", "").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(), "content" !== this.options.heightStyle && e.css("height", "");
},
_setOption: function(e, t) {
"active" !== e ? ("event" === e && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(t)), this._super(e, t), "collapsible" !== e || t || !1 !== this.options.active || this._activate(0), "icons" === e && (this._destroyIcons(), t && this._createIcons())) : this._activate(t);
},
_setOptionDisabled: function(e) {
this._super(e), this.element.attr("aria-disabled", e), this._toggleClass(null, "ui-state-disabled", !!e), this._toggleClass(this.headers.add(this.headers.next()), null, "ui-state-disabled", !!e);
},
_keydown: function(t) {
if (!t.altKey && !t.ctrlKey) {
var n = e.ui.keyCode, i = this.headers.length, r = this.headers.index(t.target), o = !1;
switch (t.keyCode) {
case n.RIGHT:
case n.DOWN:
o = this.headers[(r + 1) % i];
break;

case n.LEFT:
case n.UP:
o = this.headers[(r - 1 + i) % i];
break;

case n.SPACE:
case n.ENTER:
this._eventHandler(t);
break;

case n.HOME:
o = this.headers[0];
break;

case n.END:
o = this.headers[i - 1];
}
o && (e(t.target).attr("tabIndex", -1), e(o).attr("tabIndex", 0), e(o).trigger("focus"), t.preventDefault());
}
},
_panelKeyDown: function(t) {
t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().trigger("focus");
},
refresh: function() {
var t = this.options;
this._processPanels(), !1 === t.active && !0 === t.collapsible || !this.headers.length ? (t.active = !1, this.active = e()) : !1 === t.active ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1, this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active), this._destroyIcons(), this._refresh();
},
_processPanels: function() {
var e = this.headers, t = this.panels;
this.headers = this.element.find(this.options.header), this._addClass(this.headers, "ui-accordion-header ui-accordion-header-collapsed", "ui-state-default"), this.panels = this.headers.next().filter(":not(.ui-accordion-content-active)").hide(), this._addClass(this.panels, "ui-accordion-content", "ui-helper-reset ui-widget-content"), t && (this._off(e.not(this.headers)), this._off(t.not(this.panels)));
},
_refresh: function() {
var t, n = this.options, i = n.heightStyle, r = this.element.parent();
this.active = this._findActive(n.active), this._addClass(this.active, "ui-accordion-header-active", "ui-state-active")._removeClass(this.active, "ui-accordion-header-collapsed"), this._addClass(this.active.next(), "ui-accordion-content-active"), this.active.next().show(), this.headers.attr("role", "tab").each(function() {
var t = e(this), n = t.uniqueId().attr("id"), i = t.next(), r = i.uniqueId().attr("id");
t.attr("aria-controls", r), i.attr("aria-labelledby", n);
}).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
"aria-selected": "false",
"aria-expanded": "false",
tabIndex: -1
}).next().attr({
"aria-hidden": "true"
}).hide(), this.active.length ? this.active.attr({
"aria-selected": "true",
"aria-expanded": "true",
tabIndex: 0
}).next().attr({
"aria-hidden": "false"
}) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(n.event), "fill" === i ? (t = r.height(), this.element.siblings(":visible").each(function() {
var n = e(this), i = n.css("position");
"absolute" !== i && "fixed" !== i && (t -= n.outerHeight(!0));
}), this.headers.each(function() {
t -= e(this).outerHeight(!0);
}), this.headers.next().each(function() {
e(this).height(Math.max(0, t - e(this).innerHeight() + e(this).height()));
}).css("overflow", "auto")) : "auto" === i && (t = 0, this.headers.next().each(function() {
var n = e(this).is(":visible");
n || e(this).show(), t = Math.max(t, e(this).css("height", "").height()), n || e(this).hide();
}).height(t));
},
_activate: function(t) {
var n = this._findActive(t)[0];
n !== this.active[0] && (n = n || this.active[0], this._eventHandler({
target: n,
currentTarget: n,
preventDefault: e.noop
}));
},
_findActive: function(t) {
return "number" == typeof t ? this.headers.eq(t) : e();
},
_setupEvents: function(t) {
var n = {
keydown: "_keydown"
};
t && e.each(t.split(" "), function(e, t) {
n[t] = "_eventHandler";
}), this._off(this.headers.add(this.headers.next())), this._on(this.headers, n), this._on(this.headers.next(), {
keydown: "_panelKeyDown"
}), this._hoverable(this.headers), this._focusable(this.headers);
},
_eventHandler: function(t) {
var n, i, r = this.options, o = this.active, a = e(t.currentTarget), s = a[0] === o[0], l = s && r.collapsible, c = l ? e() : a.next(), u = {
oldHeader: o,
oldPanel: o.next(),
newHeader: l ? e() : a,
newPanel: c
};
t.preventDefault(), s && !r.collapsible || !1 === this._trigger("beforeActivate", t, u) || (r.active = !l && this.headers.index(a), this.active = s ? e() : a, this._toggle(u), this._removeClass(o, "ui-accordion-header-active", "ui-state-active"), r.icons && (n = o.children(".ui-accordion-header-icon"), this._removeClass(n, null, r.icons.activeHeader)._addClass(n, null, r.icons.header)), s || (this._removeClass(a, "ui-accordion-header-collapsed")._addClass(a, "ui-accordion-header-active", "ui-state-active"), r.icons && (i = a.children(".ui-accordion-header-icon"), this._removeClass(i, null, r.icons.header)._addClass(i, null, r.icons.activeHeader)), this._addClass(a.next(), "ui-accordion-content-active")));
},
_toggle: function(t) {
var n = t.newPanel, i = this.prevShow.length ? this.prevShow : t.oldPanel;
this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = n, this.prevHide = i, this.options.animate ? this._animate(n, i, t) : (i.hide(), n.show(), this._toggleComplete(t)), i.attr({
"aria-hidden": "true"
}), i.prev().attr({
"aria-selected": "false",
"aria-expanded": "false"
}), n.length && i.length ? i.prev().attr({
tabIndex: -1,
"aria-expanded": "false"
}) : n.length && this.headers.filter(function() {
return 0 === parseInt(e(this).attr("tabIndex"), 10);
}).attr("tabIndex", -1), n.attr("aria-hidden", "false").prev().attr({
"aria-selected": "true",
"aria-expanded": "true",
tabIndex: 0
});
},
_animate: function(e, t, n) {
var i, r, o, a = this, s = 0, l = e.css("box-sizing"), c = e.length && (!t.length || e.index() < t.index()), u = this.options.animate || {}, d = c && u.down || u, h = function() {
a._toggleComplete(n);
};
return "number" == typeof d && (o = d), "string" == typeof d && (r = d), r = r || d.easing || u.easing, o = o || d.duration || u.duration, t.length ? e.length ? (i = e.show().outerHeight(), t.animate(this.hideProps, {
duration: o,
easing: r,
step: function(e, t) {
t.now = Math.round(e);
}
}), void e.hide().animate(this.showProps, {
duration: o,
easing: r,
complete: h,
step: function(e, n) {
n.now = Math.round(e), "height" !== n.prop ? "content-box" === l && (s += n.now) : "content" !== a.options.heightStyle && (n.now = Math.round(i - t.outerHeight() - s), s = 0);
}
})) : t.animate(this.hideProps, o, r, h) : e.animate(this.showProps, o, r, h);
},
_toggleComplete: function(e) {
var t = e.oldPanel, n = t.prev();
this._removeClass(t, "ui-accordion-content-active"), this._removeClass(n, "ui-accordion-header-active")._addClass(n, "ui-accordion-header-collapsed"), t.length && (t.parent()[0].className = t.parent()[0].className), this._trigger("activate", null, e);
}
}), e.ui.safeActiveElement = function(e) {
var t;
try {
t = e.activeElement;
} catch (n) {
t = e.body;
}
return t || (t = e.body), t.nodeName || (t = e.body), t;
}, e.widget("ui.menu", {
version: "1.12.1",
defaultElement: "<ul>",
delay: 300,
options: {
icons: {
submenu: "ui-icon-caret-1-e"
},
items: "> *",
menus: "ul",
position: {
my: "left top",
at: "right top"
},
role: "menu",
blur: null,
focus: null,
select: null
},
_create: function() {
this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().attr({
role: this.options.role,
tabIndex: 0
}), this._addClass("ui-menu", "ui-widget ui-widget-content"), this._on({
"mousedown .ui-menu-item": function(e) {
e.preventDefault();
},
"click .ui-menu-item": function(t) {
var n = e(t.target), i = e(e.ui.safeActiveElement(this.document[0]));
!this.mouseHandled && n.not(".ui-state-disabled").length && (this.select(t), t.isPropagationStopped() || (this.mouseHandled = !0), n.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && i.closest(".ui-menu").length && (this.element.trigger("focus", [ !0 ]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)));
},
"mouseenter .ui-menu-item": function(t) {
if (!this.previousFilter) {
var n = e(t.target).closest(".ui-menu-item"), i = e(t.currentTarget);
n[0] === i[0] && (this._removeClass(i.siblings().children(".ui-state-active"), null, "ui-state-active"), this.focus(t, i));
}
},
mouseleave: "collapseAll",
"mouseleave .ui-menu": "collapseAll",
focus: function(e, t) {
var n = this.active || this.element.find(this.options.items).eq(0);
t || this.focus(e, n);
},
blur: function(t) {
this._delay(function() {
!e.contains(this.element[0], e.ui.safeActiveElement(this.document[0])) && this.collapseAll(t);
});
},
keydown: "_keydown"
}), this.refresh(), this._on(this.document, {
click: function(e) {
this._closeOnDocumentClick(e) && this.collapseAll(e), this.mouseHandled = !1;
}
});
},
_destroy: function() {
var t = this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(), t.children().each(function() {
var t = e(this);
t.data("ui-menu-submenu-caret") && t.remove();
});
},
_keydown: function(t) {
var n, i, r, o, a = !0;
switch (t.keyCode) {
case e.ui.keyCode.PAGE_UP:
this.previousPage(t);
break;

case e.ui.keyCode.PAGE_DOWN:
this.nextPage(t);
break;

case e.ui.keyCode.HOME:
this._move("first", "first", t);
break;

case e.ui.keyCode.END:
this._move("last", "last", t);
break;

case e.ui.keyCode.UP:
this.previous(t);
break;

case e.ui.keyCode.DOWN:
this.next(t);
break;

case e.ui.keyCode.LEFT:
this.collapse(t);
break;

case e.ui.keyCode.RIGHT:
this.active && !this.active.is(".ui-state-disabled") && this.expand(t);
break;

case e.ui.keyCode.ENTER:
case e.ui.keyCode.SPACE:
this._activate(t);
break;

case e.ui.keyCode.ESCAPE:
this.collapse(t);
break;

default:
a = !1, i = this.previousFilter || "", o = !1, r = t.keyCode >= 96 && t.keyCode <= 105 ? (t.keyCode - 96).toString() : String.fromCharCode(t.keyCode), clearTimeout(this.filterTimer), r === i ? o = !0 : r = i + r, n = this._filterMenuItems(r), (n = o && -1 !== n.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : n).length || (r = String.fromCharCode(t.keyCode), n = this._filterMenuItems(r)), n.length ? (this.focus(t, n), this.previousFilter = r, this.filterTimer = this._delay(function() {
delete this.previousFilter;
}, 1e3)) : delete this.previousFilter;
}
a && t.preventDefault();
},
_activate: function(e) {
this.active && !this.active.is(".ui-state-disabled") && (this.active.children("[aria-haspopup='true']").length ? this.expand(e) : this.select(e));
},
refresh: function() {
var t, n, i, r, o = this, a = this.options.icons.submenu, s = this.element.find(this.options.menus);
this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length), n = s.filter(":not(.ui-menu)").hide().attr({
role: this.options.role,
"aria-hidden": "true",
"aria-expanded": "false"
}).each(function() {
var t = e(this), n = t.prev(), i = e("<span>").data("ui-menu-submenu-caret", !0);
o._addClass(i, "ui-menu-icon", "ui-icon " + a), n.attr("aria-haspopup", "true").prepend(i), t.attr("aria-labelledby", n.attr("id"));
}), this._addClass(n, "ui-menu", "ui-widget ui-widget-content ui-front"), (t = s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function() {
var t = e(this);
o._isDivider(t) && o._addClass(t, "ui-menu-divider", "ui-widget-content");
}), r = (i = t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({
tabIndex: -1,
role: this._itemRole()
}), this._addClass(i, "ui-menu-item")._addClass(r, "ui-menu-item-wrapper"), t.filter(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !e.contains(this.element[0], this.active[0]) && this.blur();
},
_itemRole: function() {
return {
menu: "menuitem",
listbox: "option"
}[this.options.role];
},
_setOption: function(e, t) {
if ("icons" === e) {
var n = this.element.find(".ui-menu-icon");
this._removeClass(n, null, this.options.icons.submenu)._addClass(n, null, t.submenu);
}
this._super(e, t);
},
_setOptionDisabled: function(e) {
this._super(e), this.element.attr("aria-disabled", String(e)), this._toggleClass(null, "ui-state-disabled", !!e);
},
focus: function(e, t) {
var n, i, r;
this.blur(e, e && "focus" === e.type), this._scrollIntoView(t), this.active = t.first(), i = this.active.children(".ui-menu-item-wrapper"), this._addClass(i, null, "ui-state-active"), this.options.role && this.element.attr("aria-activedescendant", i.attr("id")), r = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"), this._addClass(r, null, "ui-state-active"), e && "keydown" === e.type ? this._close() : this.timer = this._delay(function() {
this._close();
}, this.delay), (n = t.children(".ui-menu")).length && e && /^mouse/.test(e.type) && this._startOpening(n), this.activeMenu = t.parent(), this._trigger("focus", e, {
item: t
});
},
_scrollIntoView: function(t) {
var n, i, r, o, a, s;
this._hasScroll() && (n = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0, i = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0, r = t.offset().top - this.activeMenu.offset().top - n - i, o = this.activeMenu.scrollTop(), a = this.activeMenu.height(), s = t.outerHeight(), r < 0 ? this.activeMenu.scrollTop(o + r) : r + s > a && this.activeMenu.scrollTop(o + r - a + s));
},
blur: function(e, t) {
t || clearTimeout(this.timer), this.active && (this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active"), this._trigger("blur", e, {
item: this.active
}), this.active = null);
},
_startOpening: function(e) {
clearTimeout(this.timer), "true" === e.attr("aria-hidden") && (this.timer = this._delay(function() {
this._close(), this._open(e);
}, this.delay));
},
_open: function(t) {
var n = e.extend({
of: this.active
}, this.options.position);
clearTimeout(this.timer), this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"), t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(n);
},
collapseAll: function(t, n) {
clearTimeout(this.timer), this.timer = this._delay(function() {
var i = n ? this.element : e(t && t.target).closest(this.element.find(".ui-menu"));
i.length || (i = this.element), this._close(i), this.blur(t), this._removeClass(i.find(".ui-state-active"), null, "ui-state-active"), this.activeMenu = i;
}, this.delay);
},
_close: function(e) {
e || (e = this.active ? this.active.parent() : this.element), e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false");
},
_closeOnDocumentClick: function(t) {
return !e(t.target).closest(".ui-menu").length;
},
_isDivider: function(e) {
return !/[^\-\u2014\u2013\s]/.test(e.text());
},
collapse: function(e) {
var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
t && t.length && (this._close(), this.focus(e, t));
},
expand: function(e) {
var t = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
t && t.length && (this._open(t.parent()), this._delay(function() {
this.focus(e, t);
}));
},
next: function(e) {
this._move("next", "first", e);
},
previous: function(e) {
this._move("prev", "last", e);
},
isFirstItem: function() {
return this.active && !this.active.prevAll(".ui-menu-item").length;
},
isLastItem: function() {
return this.active && !this.active.nextAll(".ui-menu-item").length;
},
_move: function(e, t, n) {
var i;
this.active && (i = "first" === e || "last" === e ? this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[e + "All"](".ui-menu-item").eq(0)), i && i.length && this.active || (i = this.activeMenu.find(this.options.items)[t]()), this.focus(n, i);
},
nextPage: function(t) {
var n, i, r;
this.active ? this.isLastItem() || (this._hasScroll() ? (i = this.active.offset().top, r = this.element.height(), this.active.nextAll(".ui-menu-item").each(function() {
return (n = e(this)).offset().top - i - r < 0;
}), this.focus(t, n)) : this.focus(t, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())) : this.next(t);
},
previousPage: function(t) {
var n, i, r;
this.active ? this.isFirstItem() || (this._hasScroll() ? (i = this.active.offset().top, r = this.element.height(), this.active.prevAll(".ui-menu-item").each(function() {
return (n = e(this)).offset().top - i + r > 0;
}), this.focus(t, n)) : this.focus(t, this.activeMenu.find(this.options.items).first())) : this.next(t);
},
_hasScroll: function() {
return this.element.outerHeight() < this.element.prop("scrollHeight");
},
select: function(t) {
this.active = this.active || e(t.target).closest(".ui-menu-item");
var n = {
item: this.active
};
this.active.has(".ui-menu").length || this.collapseAll(t, !0), this._trigger("select", t, n);
},
_filterMenuItems: function(t) {
var n = t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"), i = new RegExp("^" + n, "i");
return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()));
});
}
});
e.widget("ui.autocomplete", {
version: "1.12.1",
defaultElement: "<input>",
options: {
appendTo: null,
autoFocus: !1,
delay: 300,
minLength: 1,
position: {
my: "left top",
at: "left bottom",
collision: "none"
},
source: null,
change: null,
close: null,
focus: null,
open: null,
response: null,
search: null,
select: null
},
requestIndex: 0,
pending: 0,
_create: function() {
var t, n, i, r = this.element[0].nodeName.toLowerCase(), o = "textarea" === r, a = "input" === r;
this.isMultiLine = o || !a && this._isContentEditable(this.element), this.valueMethod = this.element[o || a ? "val" : "text"], this.isNewMenu = !0, this._addClass("ui-autocomplete-input"), this.element.attr("autocomplete", "off"), this._on(this.element, {
keydown: function(r) {
if (this.element.prop("readOnly")) return t = !0, i = !0, void (n = !0);
t = !1, i = !1, n = !1;
var o = e.ui.keyCode;
switch (r.keyCode) {
case o.PAGE_UP:
t = !0, this._move("previousPage", r);
break;

case o.PAGE_DOWN:
t = !0, this._move("nextPage", r);
break;

case o.UP:
t = !0, this._keyEvent("previous", r);
break;

case o.DOWN:
t = !0, this._keyEvent("next", r);
break;

case o.ENTER:
this.menu.active && (t = !0, r.preventDefault(), this.menu.select(r));
break;

case o.TAB:
this.menu.active && this.menu.select(r);
break;

case o.ESCAPE:
this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term), this.close(r), r.preventDefault());
break;

default:
n = !0, this._searchTimeout(r);
}
},
keypress: function(i) {
if (t) return t = !1, void (this.isMultiLine && !this.menu.element.is(":visible") || i.preventDefault());
if (!n) {
var r = e.ui.keyCode;
switch (i.keyCode) {
case r.PAGE_UP:
this._move("previousPage", i);
break;

case r.PAGE_DOWN:
this._move("nextPage", i);
break;

case r.UP:
this._keyEvent("previous", i);
break;

case r.DOWN:
this._keyEvent("next", i);
}
}
},
input: function(e) {
if (i) return i = !1, void e.preventDefault();
this._searchTimeout(e);
},
focus: function() {
this.selectedItem = null, this.previous = this._value();
},
blur: function(e) {
this.cancelBlur ? delete this.cancelBlur : (clearTimeout(this.searching), this.close(e), this._change(e));
}
}), this._initSource(), this.menu = e("<ul>").appendTo(this._appendTo()).menu({
role: null
}).hide().menu("instance"), this._addClass(this.menu.element, "ui-autocomplete", "ui-front"), this._on(this.menu.element, {
mousedown: function(t) {
t.preventDefault(), this.cancelBlur = !0, this._delay(function() {
delete this.cancelBlur, this.element[0] !== e.ui.safeActiveElement(this.document[0]) && this.element.trigger("focus");
});
},
menufocus: function(t, n) {
var i, r;
if (this.isNewMenu && (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type))) return this.menu.blur(), void this.document.one("mousemove", function() {
e(t.target).trigger(t.originalEvent);
});
r = n.item.data("ui-autocomplete-item"), !1 !== this._trigger("focus", t, {
item: r
}) && t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(r.value), (i = n.item.attr("aria-label") || r.value) && e.trim(i).length && (this.liveRegion.children().hide(), e("<div>").text(i).appendTo(this.liveRegion));
},
menuselect: function(t, n) {
var i = n.item.data("ui-autocomplete-item"), r = this.previous;
this.element[0] !== e.ui.safeActiveElement(this.document[0]) && (this.element.trigger("focus"), this.previous = r, this._delay(function() {
this.previous = r, this.selectedItem = i;
})), !1 !== this._trigger("select", t, {
item: i
}) && this._value(i.value), this.term = this._value(), this.close(t), this.selectedItem = i;
}
}), this.liveRegion = e("<div>", {
role: "status",
"aria-live": "assertive",
"aria-relevant": "additions"
}).appendTo(this.document[0].body), this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"), this._on(this.window, {
beforeunload: function() {
this.element.removeAttr("autocomplete");
}
});
},
_destroy: function() {
clearTimeout(this.searching), this.element.removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove();
},
_setOption: function(e, t) {
this._super(e, t), "source" === e && this._initSource(), "appendTo" === e && this.menu.element.appendTo(this._appendTo()), "disabled" === e && t && this.xhr && this.xhr.abort();
},
_isEventTargetInWidget: function(t) {
var n = this.menu.element[0];
return t.target === this.element[0] || t.target === n || e.contains(n, t.target);
},
_closeOnClickOutside: function(e) {
this._isEventTargetInWidget(e) || this.close();
},
_appendTo: function() {
var t = this.options.appendTo;
return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)), t && t[0] || (t = this.element.closest(".ui-front, dialog")), t.length || (t = this.document[0].body), t;
},
_initSource: function() {
var t, n, i = this;
e.isArray(this.options.source) ? (t = this.options.source, this.source = function(n, i) {
i(e.ui.autocomplete.filter(t, n.term));
}) : "string" == typeof this.options.source ? (n = this.options.source, this.source = function(t, r) {
i.xhr && i.xhr.abort(), i.xhr = e.ajax({
url: n,
data: t,
dataType: "json",
success: function(e) {
r(e);
},
error: function() {
r([]);
}
});
}) : this.source = this.options.source;
},
_searchTimeout: function(e) {
clearTimeout(this.searching), this.searching = this._delay(function() {
var t = this.term === this._value(), n = this.menu.element.is(":visible"), i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
t && (!t || n || i) || (this.selectedItem = null, this.search(null, e));
}, this.options.delay);
},
search: function(e, t) {
return e = null != e ? e : this._value(), this.term = this._value(), e.length < this.options.minLength ? this.close(t) : !1 !== this._trigger("search", t) ? this._search(e) : void 0;
},
_search: function(e) {
this.pending++, this._addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({
term: e
}, this._response());
},
_response: function() {
var t = ++this.requestIndex;
return e.proxy(function(e) {
t === this.requestIndex && this.__response(e), --this.pending || this._removeClass("ui-autocomplete-loading");
}, this);
},
__response: function(e) {
e && (e = this._normalize(e)), this._trigger("response", null, {
content: e
}), !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e), this._trigger("open")) : this._close();
},
close: function(e) {
this.cancelSearch = !0, this._close(e);
},
_close: function(e) {
this._off(this.document, "mousedown"), this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", e));
},
_change: function(e) {
this.previous !== this._value() && this._trigger("change", e, {
item: this.selectedItem
});
},
_normalize: function(t) {
return t.length && t[0].label && t[0].value ? t : e.map(t, function(t) {
return "string" == typeof t ? {
label: t,
value: t
} : e.extend({}, t, {
label: t.label || t.value,
value: t.value || t.label
});
});
},
_suggest: function(t) {
var n = this.menu.element.empty();
this._renderMenu(n, t), this.isNewMenu = !0, this.menu.refresh(), n.show(), this._resizeMenu(), n.position(e.extend({
of: this.element
}, this.options.position)), this.options.autoFocus && this.menu.next(), this._on(this.document, {
mousedown: "_closeOnClickOutside"
});
},
_resizeMenu: function() {
var e = this.menu.element;
e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()));
},
_renderMenu: function(t, n) {
var i = this;
e.each(n, function(e, n) {
i._renderItemData(t, n);
});
},
_renderItemData: function(e, t) {
return this._renderItem(e, t).data("ui-autocomplete-item", t);
},
_renderItem: function(t, n) {
return e("<li>").append(e("<div>").text(n.label)).appendTo(t);
},
_move: function(e, t) {
if (this.menu.element.is(":visible")) return this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this.isMultiLine || this._value(this.term), void this.menu.blur()) : void this.menu[e](t);
this.search(null, t);
},
widget: function() {
return this.menu.element;
},
_value: function() {
return this.valueMethod.apply(this.element, arguments);
},
_keyEvent: function(e, t) {
this.isMultiLine && !this.menu.element.is(":visible") || (this._move(e, t), t.preventDefault());
},
_isContentEditable: function(e) {
if (!e.length) return !1;
var t = e.prop("contentEditable");
return "inherit" === t ? this._isContentEditable(e.parent()) : "true" === t;
}
}), e.extend(e.ui.autocomplete, {
escapeRegex: function(e) {
return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
},
filter: function(t, n) {
var i = new RegExp(e.ui.autocomplete.escapeRegex(n), "i");
return e.grep(t, function(e) {
return i.test(e.label || e.value || e);
});
}
}), e.widget("ui.autocomplete", e.ui.autocomplete, {
options: {
messages: {
noResults: "No search results.",
results: function(e) {
return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate.";
}
}
},
__response: function(t) {
var n;
this._superApply(arguments), this.options.disabled || this.cancelSearch || (n = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults, this.liveRegion.children().hide(), e("<div>").text(n).appendTo(this.liveRegion));
}
});
e.ui.autocomplete;
var h = /ui-corner-([a-z]){2,6}/g;
e.widget("ui.controlgroup", {
version: "1.12.1",
defaultElement: "<div>",
options: {
direction: "horizontal",
disabled: null,
onlyVisible: !0,
items: {
button: "input[type=button], input[type=submit], input[type=reset], button, a",
controlgroupLabel: ".ui-controlgroup-label",
checkboxradio: "input[type='checkbox'], input[type='radio']",
selectmenu: "select",
spinner: ".ui-spinner-input"
}
},
_create: function() {
this._enhance();
},
_enhance: function() {
this.element.attr("role", "toolbar"), this.refresh();
},
_destroy: function() {
this._callChildMethod("destroy"), this.childWidgets.removeData("ui-controlgroup-data"), this.element.removeAttr("role"), this.options.items.controlgroupLabel && this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap();
},
_initWidgets: function() {
var t = this, n = [];
e.each(this.options.items, function(i, r) {
var o, a = {};
if (r) return "controlgroupLabel" === i ? ((o = t.element.find(r)).each(function() {
var t = e(this);
t.children(".ui-controlgroup-label-contents").length || t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>");
}), t._addClass(o, null, "ui-widget ui-widget-content ui-state-default"), void (n = n.concat(o.get()))) : void (e.fn[i] && (a = t["_" + i + "Options"] ? t["_" + i + "Options"]("middle") : {
classes: {}
}, t.element.find(r).each(function() {
var r = e(this), o = r[i]("instance"), s = e.widget.extend({}, a);
if ("button" !== i || !r.parent(".ui-spinner").length) {
o || (o = r[i]()[i]("instance")), o && (s.classes = t._resolveClassesValues(s.classes, o)), r[i](s);
var l = r[i]("widget");
e.data(l[0], "ui-controlgroup-data", o || r[i]("instance")), n.push(l[0]);
}
})));
}), this.childWidgets = e(e.unique(n)), this._addClass(this.childWidgets, "ui-controlgroup-item");
},
_callChildMethod: function(t) {
this.childWidgets.each(function() {
var n = e(this).data("ui-controlgroup-data");
n && n[t] && n[t]();
});
},
_updateCornerClass: function(e, t) {
var n = this._buildSimpleOptions(t, "label").classes.label;
this._removeClass(e, null, "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"), this._addClass(e, null, n);
},
_buildSimpleOptions: function(e, t) {
var n = "vertical" === this.options.direction, i = {
classes: {}
};
return i.classes[t] = {
middle: "",
first: "ui-corner-" + (n ? "top" : "left"),
last: "ui-corner-" + (n ? "bottom" : "right"),
only: "ui-corner-all"
}[e], i;
},
_spinnerOptions: function(e) {
var t = this._buildSimpleOptions(e, "ui-spinner");
return t.classes["ui-spinner-up"] = "", t.classes["ui-spinner-down"] = "", t;
},
_buttonOptions: function(e) {
return this._buildSimpleOptions(e, "ui-button");
},
_checkboxradioOptions: function(e) {
return this._buildSimpleOptions(e, "ui-checkboxradio-label");
},
_selectmenuOptions: function(e) {
var t = "vertical" === this.options.direction;
return {
width: !!t && "auto",
classes: {
middle: {
"ui-selectmenu-button-open": "",
"ui-selectmenu-button-closed": ""
},
first: {
"ui-selectmenu-button-open": "ui-corner-" + (t ? "top" : "tl"),
"ui-selectmenu-button-closed": "ui-corner-" + (t ? "top" : "left")
},
last: {
"ui-selectmenu-button-open": t ? "" : "ui-corner-tr",
"ui-selectmenu-button-closed": "ui-corner-" + (t ? "bottom" : "right")
},
only: {
"ui-selectmenu-button-open": "ui-corner-top",
"ui-selectmenu-button-closed": "ui-corner-all"
}
}[e]
};
},
_resolveClassesValues: function(t, n) {
var i = {};
return e.each(t, function(r) {
var o = n.options.classes[r] || "";
o = e.trim(o.replace(h, "")), i[r] = (o + " " + t[r]).replace(/\s+/g, " ");
}), i;
},
_setOption: function(e, t) {
"direction" === e && this._removeClass("ui-controlgroup-" + this.options.direction), this._super(e, t), "disabled" !== e ? this.refresh() : this._callChildMethod(t ? "disable" : "enable");
},
refresh: function() {
var t, n = this;
this._addClass("ui-controlgroup ui-controlgroup-" + this.options.direction), "horizontal" === this.options.direction && this._addClass(null, "ui-helper-clearfix"), this._initWidgets(), t = this.childWidgets, this.options.onlyVisible && (t = t.filter(":visible")), t.length && (e.each([ "first", "last" ], function(e, i) {
var r = t[i]().data("ui-controlgroup-data");
if (r && n["_" + r.widgetName + "Options"]) {
var o = n["_" + r.widgetName + "Options"](1 === t.length ? "only" : i);
o.classes = n._resolveClassesValues(o.classes, r), r.element[r.widgetName](o);
} else n._updateCornerClass(t[i](), i);
}), this._callChildMethod("refresh"));
}
});
e.widget("ui.checkboxradio", [ e.ui.formResetMixin, {
version: "1.12.1",
options: {
disabled: null,
label: null,
icon: !0,
classes: {
"ui-checkboxradio-label": "ui-corner-all",
"ui-checkboxradio-icon": "ui-corner-all"
}
},
_getCreateOptions: function() {
var t, n, i = this, r = this._super() || {};
return this._readType(), n = this.element.labels(), this.label = e(n[n.length - 1]), this.label.length || e.error("No label found for checkboxradio widget"), this.originalLabel = "", this.label.contents().not(this.element[0]).each(function() {
i.originalLabel += 3 === this.nodeType ? e(this).text() : this.outerHTML;
}), this.originalLabel && (r.label = this.originalLabel), null != (t = this.element[0].disabled) && (r.disabled = t), r;
},
_create: function() {
var e = this.element[0].checked;
this._bindFormResetHandler(), null == this.options.disabled && (this.options.disabled = this.element[0].disabled), this._setOption("disabled", this.options.disabled), this._addClass("ui-checkboxradio", "ui-helper-hidden-accessible"), this._addClass(this.label, "ui-checkboxradio-label", "ui-button ui-widget"), "radio" === this.type && this._addClass(this.label, "ui-checkboxradio-radio-label"), this.options.label && this.options.label !== this.originalLabel ? this._updateLabel() : this.originalLabel && (this.options.label = this.originalLabel), this._enhance(), e && (this._addClass(this.label, "ui-checkboxradio-checked", "ui-state-active"), this.icon && this._addClass(this.icon, null, "ui-state-hover")), this._on({
change: "_toggleClasses",
focus: function() {
this._addClass(this.label, null, "ui-state-focus ui-visual-focus");
},
blur: function() {
this._removeClass(this.label, null, "ui-state-focus ui-visual-focus");
}
});
},
_readType: function() {
var t = this.element[0].nodeName.toLowerCase();
this.type = this.element[0].type, "input" === t && /radio|checkbox/.test(this.type) || e.error("Can't create checkboxradio on element.nodeName=" + t + " and element.type=" + this.type);
},
_enhance: function() {
this._updateIcon(this.element[0].checked);
},
widget: function() {
return this.label;
},
_getRadioGroup: function() {
var t = this.element[0].name, n = "input[name='" + e.ui.escapeSelector(t) + "']";
return t ? (this.form.length ? e(this.form[0].elements).filter(n) : e(n).filter(function() {
return 0 === e(this).form().length;
})).not(this.element) : e([]);
},
_toggleClasses: function() {
var t = this.element[0].checked;
this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", t), this.options.icon && "checkbox" === this.type && this._toggleClass(this.icon, null, "ui-icon-check ui-state-checked", t)._toggleClass(this.icon, null, "ui-icon-blank", !t), "radio" === this.type && this._getRadioGroup().each(function() {
var t = e(this).checkboxradio("instance");
t && t._removeClass(t.label, "ui-checkboxradio-checked", "ui-state-active");
});
},
_destroy: function() {
this._unbindFormResetHandler(), this.icon && (this.icon.remove(), this.iconSpace.remove());
},
_setOption: function(e, t) {
if ("label" !== e || t) {
if (this._super(e, t), "disabled" === e) return this._toggleClass(this.label, null, "ui-state-disabled", t), void (this.element[0].disabled = t);
this.refresh();
}
},
_updateIcon: function(t) {
var n = "ui-icon ui-icon-background ";
this.options.icon ? (this.icon || (this.icon = e("<span>"), this.iconSpace = e("<span> </span>"), this._addClass(this.iconSpace, "ui-checkboxradio-icon-space")), "checkbox" === this.type ? (n += t ? "ui-icon-check ui-state-checked" : "ui-icon-blank", this._removeClass(this.icon, null, t ? "ui-icon-blank" : "ui-icon-check")) : n += "ui-icon-blank", this._addClass(this.icon, "ui-checkboxradio-icon", n), t || this._removeClass(this.icon, null, "ui-icon-check ui-state-checked"), this.icon.prependTo(this.label).after(this.iconSpace)) : void 0 !== this.icon && (this.icon.remove(), this.iconSpace.remove(), delete this.icon);
},
_updateLabel: function() {
var e = this.label.contents().not(this.element[0]);
this.icon && (e = e.not(this.icon[0])), this.iconSpace && (e = e.not(this.iconSpace[0])), e.remove(), this.label.append(this.options.label);
},
refresh: function() {
var e = this.element[0].checked, t = this.element[0].disabled;
this._updateIcon(e), this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", e), null !== this.options.label && this._updateLabel(), t !== this.options.disabled && this._setOptions({
disabled: t
});
}
} ]);
e.ui.checkboxradio;
e.widget("ui.button", {
version: "1.12.1",
defaultElement: "<button>",
options: {
classes: {
"ui-button": "ui-corner-all"
},
disabled: null,
icon: null,
iconPosition: "beginning",
label: null,
showLabel: !0
},
_getCreateOptions: function() {
var e, t = this._super() || {};
return this.isInput = this.element.is("input"), null != (e = this.element[0].disabled) && (t.disabled = e), this.originalLabel = this.isInput ? this.element.val() : this.element.html(), this.originalLabel && (t.label = this.originalLabel), t;
},
_create: function() {
!this.option.showLabel & !this.options.icon && (this.options.showLabel = !0), null == this.options.disabled && (this.options.disabled = this.element[0].disabled || !1), this.hasTitle = !!this.element.attr("title"), this.options.label && this.options.label !== this.originalLabel && (this.isInput ? this.element.val(this.options.label) : this.element.html(this.options.label)), this._addClass("ui-button", "ui-widget"), this._setOption("disabled", this.options.disabled), this._enhance(), this.element.is("a") && this._on({
keyup: function(t) {
t.keyCode === e.ui.keyCode.SPACE && (t.preventDefault(), this.element[0].click ? this.element[0].click() : this.element.trigger("click"));
}
});
},
_enhance: function() {
this.element.is("button") || this.element.attr("role", "button"), this.options.icon && (this._updateIcon("icon", this.options.icon), this._updateTooltip());
},
_updateTooltip: function() {
this.title = this.element.attr("title"), this.options.showLabel || this.title || this.element.attr("title", this.options.label);
},
_updateIcon: function(t, n) {
var i = "iconPosition" !== t, r = i ? this.options.iconPosition : n, o = "top" === r || "bottom" === r;
this.icon ? i && this._removeClass(this.icon, null, this.options.icon) : (this.icon = e("<span>"), this._addClass(this.icon, "ui-button-icon", "ui-icon"), this.options.showLabel || this._addClass("ui-button-icon-only")), i && this._addClass(this.icon, null, n), this._attachIcon(r), o ? (this._addClass(this.icon, null, "ui-widget-icon-block"), this.iconSpace && this.iconSpace.remove()) : (this.iconSpace || (this.iconSpace = e("<span> </span>"), this._addClass(this.iconSpace, "ui-button-icon-space")), this._removeClass(this.icon, null, "ui-wiget-icon-block"), this._attachIconSpace(r));
},
_destroy: function() {
this.element.removeAttr("role"), this.icon && this.icon.remove(), this.iconSpace && this.iconSpace.remove(), this.hasTitle || this.element.removeAttr("title");
},
_attachIconSpace: function(e) {
this.icon[/^(?:end|bottom)/.test(e) ? "before" : "after"](this.iconSpace);
},
_attachIcon: function(e) {
this.element[/^(?:end|bottom)/.test(e) ? "append" : "prepend"](this.icon);
},
_setOptions: function(e) {
var t = void 0 === e.showLabel ? this.options.showLabel : e.showLabel, n = void 0 === e.icon ? this.options.icon : e.icon;
t || n || (e.showLabel = !0), this._super(e);
},
_setOption: function(e, t) {
"icon" === e && (t ? this._updateIcon(e, t) : this.icon && (this.icon.remove(), this.iconSpace && this.iconSpace.remove())), "iconPosition" === e && this._updateIcon(e, t), "showLabel" === e && (this._toggleClass("ui-button-icon-only", null, !t), this._updateTooltip()), "label" === e && (this.isInput ? this.element.val(t) : (this.element.html(t), this.icon && (this._attachIcon(this.options.iconPosition), this._attachIconSpace(this.options.iconPosition)))), this._super(e, t), "disabled" === e && (this._toggleClass(null, "ui-state-disabled", t), this.element[0].disabled = t, t && this.element.blur());
},
refresh: function() {
var e = this.element.is("input, button") ? this.element[0].disabled : this.element.hasClass("ui-button-disabled");
e !== this.options.disabled && this._setOptions({
disabled: e
}), this._updateTooltip();
}
}), !1 !== e.uiBackCompat && (e.widget("ui.button", e.ui.button, {
options: {
text: !0,
icons: {
primary: null,
secondary: null
}
},
_create: function() {
this.options.showLabel && !this.options.text && (this.options.showLabel = this.options.text), !this.options.showLabel && this.options.text && (this.options.text = this.options.showLabel), this.options.icon || !this.options.icons.primary && !this.options.icons.secondary ? this.options.icon && (this.options.icons.primary = this.options.icon) : this.options.icons.primary ? this.options.icon = this.options.icons.primary : (this.options.icon = this.options.icons.secondary, this.options.iconPosition = "end"), this._super();
},
_setOption: function(e, t) {
"text" !== e ? ("showLabel" === e && (this.options.text = t), "icon" === e && (this.options.icons.primary = t), "icons" === e && (t.primary ? (this._super("icon", t.primary), this._super("iconPosition", "beginning")) : t.secondary && (this._super("icon", t.secondary), this._super("iconPosition", "end"))), this._superApply(arguments)) : this._super("showLabel", t);
}
}), e.fn.button = function(t) {
return function() {
return !this.length || this.length && "INPUT" !== this[0].tagName || this.length && "INPUT" === this[0].tagName && "checkbox" !== this.attr("type") && "radio" !== this.attr("type") ? t.apply(this, arguments) : (e.ui.checkboxradio || e.error("Checkboxradio widget missing"), 0 === arguments.length ? this.checkboxradio({
icon: !1
}) : this.checkboxradio.apply(this, arguments));
};
}(e.fn.button), e.fn.buttonset = function() {
return e.ui.controlgroup || e.error("Controlgroup widget missing"), "option" === arguments[0] && "items" === arguments[1] && arguments[2] ? this.controlgroup.apply(this, [ arguments[0], "items.button", arguments[2] ]) : "option" === arguments[0] && "items" === arguments[1] ? this.controlgroup.apply(this, [ arguments[0], "items.button" ]) : ("object" == typeof arguments[0] && arguments[0].items && (arguments[0].items = {
button: arguments[0].items
}), this.controlgroup.apply(this, arguments));
});
e.ui.button;
e.extend(e.ui, {
datepicker: {
version: "1.12.1"
}
});
var f;
e.extend(i.prototype, {
markerClassName: "hasDatepicker",
maxRows: 4,
_widgetDatepicker: function() {
return this.dpDiv;
},
setDefaults: function(e) {
return a(this._defaults, e || {}), this;
},
_attachDatepicker: function(t, n) {
var i, r, o;
r = "div" === (i = t.nodeName.toLowerCase()) || "span" === i, t.id || (this.uuid += 1, t.id = "dp" + this.uuid), (o = this._newInst(e(t), r)).settings = e.extend({}, n || {}), "input" === i ? this._connectDatepicker(t, o) : r && this._inlineDatepicker(t, o);
},
_newInst: function(t, n) {
return {
id: t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
input: t,
selectedDay: 0,
selectedMonth: 0,
selectedYear: 0,
drawMonth: 0,
drawYear: 0,
inline: n,
dpDiv: n ? r(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
};
},
_connectDatepicker: function(t, n) {
var i = e(t);
n.append = e([]), n.trigger = e([]), i.hasClass(this.markerClassName) || (this._attachments(i, n), i.addClass(this.markerClassName).on("keydown", this._doKeyDown).on("keypress", this._doKeyPress).on("keyup", this._doKeyUp), this._autoSize(n), e.data(t, "datepicker", n), n.settings.disabled && this._disableDatepicker(t));
},
_attachments: function(t, n) {
var i, r, o, a = this._get(n, "appendText"), s = this._get(n, "isRTL");
n.append && n.append.remove(), a && (n.append = e("<span class='" + this._appendClass + "'>" + a + "</span>"), t[s ? "before" : "after"](n.append)), t.off("focus", this._showDatepicker), n.trigger && n.trigger.remove(), "focus" !== (i = this._get(n, "showOn")) && "both" !== i || t.on("focus", this._showDatepicker), "button" !== i && "both" !== i || (r = this._get(n, "buttonText"), o = this._get(n, "buttonImage"), n.trigger = e(this._get(n, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
src: o,
alt: r,
title: r
}) : e("<button type='button'></button>").addClass(this._triggerClass).html(o ? e("<img/>").attr({
src: o,
alt: r,
title: r
}) : r)), t[s ? "before" : "after"](n.trigger), n.trigger.on("click", function() {
return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]), !1;
}));
},
_autoSize: function(e) {
if (this._get(e, "autoSize") && !e.inline) {
var t, n, i, r, o = new Date(2009, 11, 20), a = this._get(e, "dateFormat");
a.match(/[DM]/) && (t = function(e) {
for (n = 0, i = 0, r = 0; r < e.length; r++) e[r].length > n && (n = e[r].length, i = r);
return i;
}, o.setMonth(t(this._get(e, a.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(t(this._get(e, a.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())), e.input.attr("size", this._formatDate(e, o).length);
}
},
_inlineDatepicker: function(t, n) {
var i = e(t);
i.hasClass(this.markerClassName) || (i.addClass(this.markerClassName).append(n.dpDiv), e.data(t, "datepicker", n), this._setDate(n, this._getDefaultDate(n), !0), this._updateDatepicker(n), this._updateAlternate(n), n.settings.disabled && this._disableDatepicker(t), n.dpDiv.css("display", "block"));
},
_dialogDatepicker: function(t, n, i, r, o) {
var s, l, c, u, d, h = this._dialogInst;
return h || (this.uuid += 1, s = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + s + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.on("keydown", this._doKeyDown), e("body").append(this._dialogInput), (h = this._dialogInst = this._newInst(this._dialogInput, !1)).settings = {}, e.data(this._dialogInput[0], "datepicker", h)), a(h.settings, r || {}), n = n && n.constructor === Date ? this._formatDate(h, n) : n, this._dialogInput.val(n), this._pos = o ? o.length ? o : [ o.pageX, o.pageY ] : null, this._pos || (l = document.documentElement.clientWidth, c = document.documentElement.clientHeight, u = document.documentElement.scrollLeft || document.body.scrollLeft, d = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [ l / 2 - 100 + u, c / 2 - 150 + d ]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), h.settings.onSelect = i, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), 
this._showDatepicker(this._dialogInput[0]), e.blockUI && e.blockUI(this.dpDiv), e.data(this._dialogInput[0], "datepicker", h), this;
},
_destroyDatepicker: function(t) {
var n, i = e(t), r = e.data(t, "datepicker");
i.hasClass(this.markerClassName) && (n = t.nodeName.toLowerCase(), e.removeData(t, "datepicker"), "input" === n ? (r.append.remove(), r.trigger.remove(), i.removeClass(this.markerClassName).off("focus", this._showDatepicker).off("keydown", this._doKeyDown).off("keypress", this._doKeyPress).off("keyup", this._doKeyUp)) : "div" !== n && "span" !== n || i.removeClass(this.markerClassName).empty(), f === r && (f = null));
},
_enableDatepicker: function(t) {
var n, i, r = e(t), o = e.data(t, "datepicker");
r.hasClass(this.markerClassName) && ("input" === (n = t.nodeName.toLowerCase()) ? (t.disabled = !1, o.trigger.filter("button").each(function() {
this.disabled = !1;
}).end().filter("img").css({
opacity: "1.0",
cursor: ""
})) : "div" !== n && "span" !== n || ((i = r.children("." + this._inlineClass)).children().removeClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = e.map(this._disabledInputs, function(e) {
return e === t ? null : e;
}));
},
_disableDatepicker: function(t) {
var n, i, r = e(t), o = e.data(t, "datepicker");
r.hasClass(this.markerClassName) && ("input" === (n = t.nodeName.toLowerCase()) ? (t.disabled = !0, o.trigger.filter("button").each(function() {
this.disabled = !0;
}).end().filter("img").css({
opacity: "0.5",
cursor: "default"
})) : "div" !== n && "span" !== n || ((i = r.children("." + this._inlineClass)).children().addClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = e.map(this._disabledInputs, function(e) {
return e === t ? null : e;
}), this._disabledInputs[this._disabledInputs.length] = t);
},
_isDisabledDatepicker: function(e) {
if (!e) return !1;
for (var t = 0; t < this._disabledInputs.length; t++) if (this._disabledInputs[t] === e) return !0;
return !1;
},
_getInst: function(t) {
try {
return e.data(t, "datepicker");
} catch (e) {
throw "Missing instance data for this datepicker";
}
},
_optionDatepicker: function(t, n, i) {
var r, o, s, l, c = this._getInst(t);
if (2 === arguments.length && "string" == typeof n) return "defaults" === n ? e.extend({}, e.datepicker._defaults) : c ? "all" === n ? e.extend({}, c.settings) : this._get(c, n) : null;
r = n || {}, "string" == typeof n && ((r = {})[n] = i), c && (this._curInst === c && this._hideDatepicker(), o = this._getDateDatepicker(t, !0), s = this._getMinMaxDate(c, "min"), l = this._getMinMaxDate(c, "max"), a(c.settings, r), null !== s && void 0 !== r.dateFormat && void 0 === r.minDate && (c.settings.minDate = this._formatDate(c, s)), null !== l && void 0 !== r.dateFormat && void 0 === r.maxDate && (c.settings.maxDate = this._formatDate(c, l)), "disabled" in r && (r.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)), this._attachments(e(t), c), this._autoSize(c), this._setDate(c, o), this._updateAlternate(c), this._updateDatepicker(c));
},
_changeDatepicker: function(e, t, n) {
this._optionDatepicker(e, t, n);
},
_refreshDatepicker: function(e) {
var t = this._getInst(e);
t && this._updateDatepicker(t);
},
_setDateDatepicker: function(e, t) {
var n = this._getInst(e);
n && (this._setDate(n, t), this._updateDatepicker(n), this._updateAlternate(n));
},
_getDateDatepicker: function(e, t) {
var n = this._getInst(e);
return n && !n.inline && this._setDateFromField(n, t), n ? this._getDate(n) : null;
},
_doKeyDown: function(t) {
var n, i, r, o = e.datepicker._getInst(t.target), a = !0, s = o.dpDiv.is(".ui-datepicker-rtl");
if (o._keyEvent = !0, e.datepicker._datepickerShowing) switch (t.keyCode) {
case 9:
e.datepicker._hideDatepicker(), a = !1;
break;

case 13:
return (r = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", o.dpDiv))[0] && e.datepicker._selectDay(t.target, o.selectedMonth, o.selectedYear, r[0]), (n = e.datepicker._get(o, "onSelect")) ? (i = e.datepicker._formatDate(o), n.apply(o.input ? o.input[0] : null, [ i, o ])) : e.datepicker._hideDatepicker(), !1;

case 27:
e.datepicker._hideDatepicker();
break;

case 33:
e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(o, "stepBigMonths") : -e.datepicker._get(o, "stepMonths"), "M");
break;

case 34:
e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(o, "stepBigMonths") : +e.datepicker._get(o, "stepMonths"), "M");
break;

case 35:
(t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target), a = t.ctrlKey || t.metaKey;
break;

case 36:
(t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target), a = t.ctrlKey || t.metaKey;
break;

case 37:
(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, s ? 1 : -1, "D"), a = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(o, "stepBigMonths") : -e.datepicker._get(o, "stepMonths"), "M");
break;

case 38:
(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"), a = t.ctrlKey || t.metaKey;
break;

case 39:
(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, s ? -1 : 1, "D"), a = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(o, "stepBigMonths") : +e.datepicker._get(o, "stepMonths"), "M");
break;

case 40:
(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"), a = t.ctrlKey || t.metaKey;
break;

default:
a = !1;
} else 36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : a = !1;
a && (t.preventDefault(), t.stopPropagation());
},
_doKeyPress: function(t) {
var n, i, r = e.datepicker._getInst(t.target);
if (e.datepicker._get(r, "constrainInput")) return n = e.datepicker._possibleChars(e.datepicker._get(r, "dateFormat")), i = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode), t.ctrlKey || t.metaKey || i < " " || !n || n.indexOf(i) > -1;
},
_doKeyUp: function(t) {
var n = e.datepicker._getInst(t.target);
if (n.input.val() !== n.lastVal) try {
e.datepicker.parseDate(e.datepicker._get(n, "dateFormat"), n.input ? n.input.val() : null, e.datepicker._getFormatConfig(n)) && (e.datepicker._setDateFromField(n), e.datepicker._updateAlternate(n), e.datepicker._updateDatepicker(n));
} catch (e) {}
return !0;
},
_showDatepicker: function(t) {
if ("input" !== (t = t.target || t).nodeName.toLowerCase() && (t = e("input", t.parentNode)[0]), !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) {
var i, r, o, s, l, c, u;
i = e.datepicker._getInst(t), e.datepicker._curInst && e.datepicker._curInst !== i && (e.datepicker._curInst.dpDiv.stop(!0, !0), i && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])), !1 !== (o = (r = e.datepicker._get(i, "beforeShow")) ? r.apply(t, [ t, i ]) : {}) && (a(i.settings, o), i.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(i), e.datepicker._inDialog && (t.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t), e.datepicker._pos[1] += t.offsetHeight), s = !1, e(t).parents().each(function() {
return !(s |= "fixed" === e(this).css("position"));
}), l = {
left: e.datepicker._pos[0],
top: e.datepicker._pos[1]
}, e.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
position: "absolute",
display: "block",
top: "-1000px"
}), e.datepicker._updateDatepicker(i), l = e.datepicker._checkOffset(i, l, s), i.dpDiv.css({
position: e.datepicker._inDialog && e.blockUI ? "static" : s ? "fixed" : "absolute",
display: "none",
left: l.left + "px",
top: l.top + "px"
}), i.inline || (c = e.datepicker._get(i, "showAnim"), u = e.datepicker._get(i, "duration"), i.dpDiv.css("z-index", n(e(t)) + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[c] ? i.dpDiv.show(c, e.datepicker._get(i, "showOptions"), u) : i.dpDiv[c || "show"](c ? u : null), e.datepicker._shouldFocusInput(i) && i.input.trigger("focus"), e.datepicker._curInst = i));
}
},
_updateDatepicker: function(t) {
this.maxRows = 4, f = t, t.dpDiv.empty().append(this._generateHTML(t)), this._attachHandlers(t);
var n, i = this._getNumberOfMonths(t), r = i[1], a = t.dpDiv.find("." + this._dayOverClass + " a");
a.length > 0 && o.apply(a.get(0)), t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), r > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + r).css("width", 17 * r + "em"), t.dpDiv[(1 !== i[0] || 1 !== i[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t) && t.input.trigger("focus"), t.yearshtml && (n = t.yearshtml, setTimeout(function() {
n === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml), n = t.yearshtml = null;
}, 0));
},
_shouldFocusInput: function(e) {
return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus");
},
_checkOffset: function(t, n, i) {
var r = t.dpDiv.outerWidth(), o = t.dpDiv.outerHeight(), a = t.input ? t.input.outerWidth() : 0, s = t.input ? t.input.outerHeight() : 0, l = document.documentElement.clientWidth + (i ? 0 : e(document).scrollLeft()), c = document.documentElement.clientHeight + (i ? 0 : e(document).scrollTop());
return n.left -= this._get(t, "isRTL") ? r - a : 0, n.left -= i && n.left === t.input.offset().left ? e(document).scrollLeft() : 0, n.top -= i && n.top === t.input.offset().top + s ? e(document).scrollTop() : 0, n.left -= Math.min(n.left, n.left + r > l && l > r ? Math.abs(n.left + r - l) : 0), n.top -= Math.min(n.top, n.top + o > c && c > o ? Math.abs(o + s) : 0), n;
},
_findPos: function(t) {
for (var n, i = this._getInst(t), r = this._get(i, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t)); ) t = t[r ? "previousSibling" : "nextSibling"];
return n = e(t).offset(), [ n.left, n.top ];
},
_hideDatepicker: function(t) {
var n, i, r, o, a = this._curInst;
!a || t && a !== e.data(t, "datepicker") || this._datepickerShowing && (n = this._get(a, "showAnim"), i = this._get(a, "duration"), r = function() {
e.datepicker._tidyDialog(a);
}, e.effects && (e.effects.effect[n] || e.effects[n]) ? a.dpDiv.hide(n, e.datepicker._get(a, "showOptions"), i, r) : a.dpDiv["slideDown" === n ? "slideUp" : "fadeIn" === n ? "fadeOut" : "hide"](n ? i : null, r), n || r(), this._datepickerShowing = !1, (o = this._get(a, "onClose")) && o.apply(a.input ? a.input[0] : null, [ a.input ? a.input.val() : "", a ]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
position: "absolute",
left: "0",
top: "-100px"
}), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1);
},
_tidyDialog: function(e) {
e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar");
},
_checkExternalClick: function(t) {
if (e.datepicker._curInst) {
var n = e(t.target), i = e.datepicker._getInst(n[0]);
(n[0].id === e.datepicker._mainDivId || 0 !== n.parents("#" + e.datepicker._mainDivId).length || n.hasClass(e.datepicker.markerClassName) || n.closest("." + e.datepicker._triggerClass).length || !e.datepicker._datepickerShowing || e.datepicker._inDialog && e.blockUI) && (!n.hasClass(e.datepicker.markerClassName) || e.datepicker._curInst === i) || e.datepicker._hideDatepicker();
}
},
_adjustDate: function(t, n, i) {
var r = e(t), o = this._getInst(r[0]);
this._isDisabledDatepicker(r[0]) || (this._adjustInstDate(o, n + ("M" === i ? this._get(o, "showCurrentAtPos") : 0), i), this._updateDatepicker(o));
},
_gotoToday: function(t) {
var n, i = e(t), r = this._getInst(i[0]);
this._get(r, "gotoCurrent") && r.currentDay ? (r.selectedDay = r.currentDay, r.drawMonth = r.selectedMonth = r.currentMonth, r.drawYear = r.selectedYear = r.currentYear) : (n = new Date(), r.selectedDay = n.getDate(), r.drawMonth = r.selectedMonth = n.getMonth(), r.drawYear = r.selectedYear = n.getFullYear()), this._notifyChange(r), this._adjustDate(i);
},
_selectMonthYear: function(t, n, i) {
var r = e(t), o = this._getInst(r[0]);
o["selected" + ("M" === i ? "Month" : "Year")] = o["draw" + ("M" === i ? "Month" : "Year")] = parseInt(n.options[n.selectedIndex].value, 10), this._notifyChange(o), this._adjustDate(r);
},
_selectDay: function(t, n, i, r) {
var o, a = e(t);
e(r).hasClass(this._unselectableClass) || this._isDisabledDatepicker(a[0]) || ((o = this._getInst(a[0])).selectedDay = o.currentDay = e("a", r).html(), o.selectedMonth = o.currentMonth = n, o.selectedYear = o.currentYear = i, this._selectDate(t, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear)));
},
_clearDate: function(t) {
var n = e(t);
this._selectDate(n, "");
},
_selectDate: function(t, n) {
var i, r = e(t), o = this._getInst(r[0]);
n = null != n ? n : this._formatDate(o), o.input && o.input.val(n), this._updateAlternate(o), (i = this._get(o, "onSelect")) ? i.apply(o.input ? o.input[0] : null, [ n, o ]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(), this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.trigger("focus"), this._lastInput = null);
},
_updateAlternate: function(t) {
var n, i, r, o = this._get(t, "altField");
o && (n = this._get(t, "altFormat") || this._get(t, "dateFormat"), i = this._getDate(t), r = this.formatDate(n, i, this._getFormatConfig(t)), e(o).val(r));
},
noWeekends: function(e) {
var t = e.getDay();
return [ t > 0 && t < 6, "" ];
},
iso8601Week: function(e) {
var t, n = new Date(e.getTime());
return n.setDate(n.getDate() + 4 - (n.getDay() || 7)), t = n.getTime(), n.setMonth(0), n.setDate(1), Math.floor(Math.round((t - n) / 864e5) / 7) + 1;
},
parseDate: function(t, n, i) {
if (null == t || null == n) throw "Invalid arguments";
if ("" === (n = "object" == typeof n ? n.toString() : n + "")) return null;
var r, o, a, s, l = 0, c = (i ? i.shortYearCutoff : null) || this._defaults.shortYearCutoff, u = "string" != typeof c ? c : new Date().getFullYear() % 100 + parseInt(c, 10), d = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort, h = (i ? i.dayNames : null) || this._defaults.dayNames, f = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort, p = (i ? i.monthNames : null) || this._defaults.monthNames, g = -1, m = -1, v = -1, y = -1, b = !1, _ = function(e) {
var n = r + 1 < t.length && t.charAt(r + 1) === e;
return n && r++, n;
}, w = function(e) {
var t = _(e), i = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2, r = "y" === e ? i : 1, o = new RegExp("^\\d{" + r + "," + i + "}"), a = n.substring(l).match(o);
if (!a) throw "Missing number at position " + l;
return l += a[0].length, parseInt(a[0], 10);
}, C = function(t, i, r) {
var o = -1, a = e.map(_(t) ? r : i, function(e, t) {
return [ [ t, e ] ];
}).sort(function(e, t) {
return -(e[1].length - t[1].length);
});
if (e.each(a, function(e, t) {
var i = t[1];
if (n.substr(l, i.length).toLowerCase() === i.toLowerCase()) return o = t[0], l += i.length, !1;
}), -1 !== o) return o + 1;
throw "Unknown name at position " + l;
}, x = function() {
if (n.charAt(l) !== t.charAt(r)) throw "Unexpected literal at position " + l;
l++;
};
for (r = 0; r < t.length; r++) if (b) "'" !== t.charAt(r) || _("'") ? x() : b = !1; else switch (t.charAt(r)) {
case "d":
v = w("d");
break;

case "D":
C("D", d, h);
break;

case "o":
y = w("o");
break;

case "m":
m = w("m");
break;

case "M":
m = C("M", f, p);
break;

case "y":
g = w("y");
break;

case "@":
g = (s = new Date(w("@"))).getFullYear(), m = s.getMonth() + 1, v = s.getDate();
break;

case "!":
g = (s = new Date((w("!") - this._ticksTo1970) / 1e4)).getFullYear(), m = s.getMonth() + 1, v = s.getDate();
break;

case "'":
_("'") ? x() : b = !0;
break;

default:
x();
}
if (l < n.length && (a = n.substr(l), !/^\s+/.test(a))) throw "Extra/unparsed characters found in date: " + a;
if (-1 === g ? g = new Date().getFullYear() : g < 100 && (g += new Date().getFullYear() - new Date().getFullYear() % 100 + (g <= u ? 0 : -100)), y > -1) for (m = 1, v = y; ;) {
if (o = this._getDaysInMonth(g, m - 1), v <= o) break;
m++, v -= o;
}
if ((s = this._daylightSavingAdjust(new Date(g, m - 1, v))).getFullYear() !== g || s.getMonth() + 1 !== m || s.getDate() !== v) throw "Invalid date";
return s;
},
ATOM: "yy-mm-dd",
COOKIE: "D, dd M yy",
ISO_8601: "yy-mm-dd",
RFC_822: "D, d M y",
RFC_850: "DD, dd-M-y",
RFC_1036: "D, d M y",
RFC_1123: "D, d M yy",
RFC_2822: "D, d M yy",
RSS: "D, d M y",
TICKS: "!",
TIMESTAMP: "@",
W3C: "yy-mm-dd",
_ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
formatDate: function(e, t, n) {
if (!t) return "";
var i, r = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort, o = (n ? n.dayNames : null) || this._defaults.dayNames, a = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort, s = (n ? n.monthNames : null) || this._defaults.monthNames, l = function(t) {
var n = i + 1 < e.length && e.charAt(i + 1) === t;
return n && i++, n;
}, c = function(e, t, n) {
var i = "" + t;
if (l(e)) for (;i.length < n; ) i = "0" + i;
return i;
}, u = function(e, t, n, i) {
return l(e) ? i[t] : n[t];
}, d = "", h = !1;
if (t) for (i = 0; i < e.length; i++) if (h) "'" !== e.charAt(i) || l("'") ? d += e.charAt(i) : h = !1; else switch (e.charAt(i)) {
case "d":
d += c("d", t.getDate(), 2);
break;

case "D":
d += u("D", t.getDay(), r, o);
break;

case "o":
d += c("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3);
break;

case "m":
d += c("m", t.getMonth() + 1, 2);
break;

case "M":
d += u("M", t.getMonth(), a, s);
break;

case "y":
d += l("y") ? t.getFullYear() : (t.getFullYear() % 100 < 10 ? "0" : "") + t.getFullYear() % 100;
break;

case "@":
d += t.getTime();
break;

case "!":
d += 1e4 * t.getTime() + this._ticksTo1970;
break;

case "'":
l("'") ? d += "'" : h = !0;
break;

default:
d += e.charAt(i);
}
return d;
},
_possibleChars: function(e) {
var t, n = "", i = !1, r = function(n) {
var i = t + 1 < e.length && e.charAt(t + 1) === n;
return i && t++, i;
};
for (t = 0; t < e.length; t++) if (i) "'" !== e.charAt(t) || r("'") ? n += e.charAt(t) : i = !1; else switch (e.charAt(t)) {
case "d":
case "m":
case "y":
case "@":
n += "0123456789";
break;

case "D":
case "M":
return null;

case "'":
r("'") ? n += "'" : i = !0;
break;

default:
n += e.charAt(t);
}
return n;
},
_get: function(e, t) {
return void 0 !== e.settings[t] ? e.settings[t] : this._defaults[t];
},
_setDateFromField: function(e, t) {
if (e.input.val() !== e.lastVal) {
var n = this._get(e, "dateFormat"), i = e.lastVal = e.input ? e.input.val() : null, r = this._getDefaultDate(e), o = r, a = this._getFormatConfig(e);
try {
o = this.parseDate(n, i, a) || r;
} catch (e) {
i = t ? "" : i;
}
e.selectedDay = o.getDate(), e.drawMonth = e.selectedMonth = o.getMonth(), e.drawYear = e.selectedYear = o.getFullYear(), e.currentDay = i ? o.getDate() : 0, e.currentMonth = i ? o.getMonth() : 0, e.currentYear = i ? o.getFullYear() : 0, this._adjustInstDate(e);
}
},
_getDefaultDate: function(e) {
return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date()));
},
_determineDate: function(t, n, i) {
var r = null == n || "" === n ? i : "string" == typeof n ? function(n) {
try {
return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), n, e.datepicker._getFormatConfig(t));
} catch (e) {}
for (var i = (n.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date(), r = i.getFullYear(), o = i.getMonth(), a = i.getDate(), s = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = s.exec(n); l; ) {
switch (l[2] || "d") {
case "d":
case "D":
a += parseInt(l[1], 10);
break;

case "w":
case "W":
a += 7 * parseInt(l[1], 10);
break;

case "m":
case "M":
o += parseInt(l[1], 10), a = Math.min(a, e.datepicker._getDaysInMonth(r, o));
break;

case "y":
case "Y":
r += parseInt(l[1], 10), a = Math.min(a, e.datepicker._getDaysInMonth(r, o));
}
l = s.exec(n);
}
return new Date(r, o, a);
}(n) : "number" == typeof n ? isNaN(n) ? i : function(e) {
var t = new Date();
return t.setDate(t.getDate() + e), t;
}(n) : new Date(n.getTime());
return (r = r && "Invalid Date" === r.toString() ? i : r) && (r.setHours(0), r.setMinutes(0), r.setSeconds(0), r.setMilliseconds(0)), this._daylightSavingAdjust(r);
},
_daylightSavingAdjust: function(e) {
return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null;
},
_setDate: function(e, t, n) {
var i = !t, r = e.selectedMonth, o = e.selectedYear, a = this._restrictMinMax(e, this._determineDate(e, t, new Date()));
e.selectedDay = e.currentDay = a.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = a.getMonth(), e.drawYear = e.selectedYear = e.currentYear = a.getFullYear(), r === e.selectedMonth && o === e.selectedYear || n || this._notifyChange(e), this._adjustInstDate(e), e.input && e.input.val(i ? "" : this._formatDate(e));
},
_getDate: function(e) {
return !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
},
_attachHandlers: function(t) {
var n = this._get(t, "stepMonths"), i = "#" + t.id.replace(/\\\\/g, "\\");
t.dpDiv.find("[data-handler]").map(function() {
var t = {
prev: function() {
e.datepicker._adjustDate(i, -n, "M");
},
next: function() {
e.datepicker._adjustDate(i, +n, "M");
},
hide: function() {
e.datepicker._hideDatepicker();
},
today: function() {
e.datepicker._gotoToday(i);
},
selectDay: function() {
return e.datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1;
},
selectMonth: function() {
return e.datepicker._selectMonthYear(i, this, "M"), !1;
},
selectYear: function() {
return e.datepicker._selectMonthYear(i, this, "Y"), !1;
}
};
e(this).on(this.getAttribute("data-event"), t[this.getAttribute("data-handler")]);
});
},
_generateHTML: function(e) {
var t, n, i, r, o, a, s, l, c, u, d, h, f, p, g, m, v, y, b, _, w, C, x, S, $, A, k, T, D, E, F, M, I, P, L, O, R, N, B, j = new Date(), H = this._daylightSavingAdjust(new Date(j.getFullYear(), j.getMonth(), j.getDate())), V = this._get(e, "isRTL"), U = this._get(e, "showButtonPanel"), z = this._get(e, "hideIfNoPrevNext"), W = this._get(e, "navigationAsDateFormat"), q = this._getNumberOfMonths(e), G = this._get(e, "showCurrentAtPos"), Y = this._get(e, "stepMonths"), K = 1 !== q[0] || 1 !== q[1], X = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)), Q = this._getMinMaxDate(e, "min"), J = this._getMinMaxDate(e, "max"), Z = e.drawMonth - G, ee = e.drawYear;
if (Z < 0 && (Z += 12, ee--), J) for (t = this._daylightSavingAdjust(new Date(J.getFullYear(), J.getMonth() - q[0] * q[1] + 1, J.getDate())), t = Q && t < Q ? Q : t; this._daylightSavingAdjust(new Date(ee, Z, 1)) > t; ) --Z < 0 && (Z = 11, ee--);
for (e.drawMonth = Z, e.drawYear = ee, n = this._get(e, "prevText"), n = W ? this.formatDate(n, this._daylightSavingAdjust(new Date(ee, Z - Y, 1)), this._getFormatConfig(e)) : n, i = this._canAdjustMonth(e, -1, ee, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (V ? "e" : "w") + "'>" + n + "</span></a>" : z ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (V ? "e" : "w") + "'>" + n + "</span></a>", r = this._get(e, "nextText"), r = W ? this.formatDate(r, this._daylightSavingAdjust(new Date(ee, Z + Y, 1)), this._getFormatConfig(e)) : r, o = this._canAdjustMonth(e, 1, ee, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + r + "'><span class='ui-icon ui-icon-circle-triangle-" + (V ? "w" : "e") + "'>" + r + "</span></a>" : z ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + r + "'><span class='ui-icon ui-icon-circle-triangle-" + (V ? "w" : "e") + "'>" + r + "</span></a>", 
a = this._get(e, "currentText"), s = this._get(e, "gotoCurrent") && e.currentDay ? X : H, a = W ? this.formatDate(a, s, this._getFormatConfig(e)) : a, l = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", c = U ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (V ? l : "") + (this._isInRange(e, s) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + a + "</button>" : "") + (V ? "" : l) + "</div>" : "", u = parseInt(this._get(e, "firstDay"), 10), u = isNaN(u) ? 0 : u, d = this._get(e, "showWeek"), h = this._get(e, "dayNames"), f = this._get(e, "dayNamesMin"), p = this._get(e, "monthNames"), g = this._get(e, "monthNamesShort"), m = this._get(e, "beforeShowDay"), v = this._get(e, "showOtherMonths"), y = this._get(e, "selectOtherMonths"), 
b = this._getDefaultDate(e), _ = "", C = 0; C < q[0]; C++) {
for (x = "", this.maxRows = 4, S = 0; S < q[1]; S++) {
if ($ = this._daylightSavingAdjust(new Date(ee, Z, e.selectedDay)), A = " ui-corner-all", k = "", K) {
if (k += "<div class='ui-datepicker-group", q[1] > 1) switch (S) {
case 0:
k += " ui-datepicker-group-first", A = " ui-corner-" + (V ? "right" : "left");
break;

case q[1] - 1:
k += " ui-datepicker-group-last", A = " ui-corner-" + (V ? "left" : "right");
break;

default:
k += " ui-datepicker-group-middle", A = "";
}
k += "'>";
}
for (k += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + A + "'>" + (/all|left/.test(A) && 0 === C ? V ? o : i : "") + (/all|right/.test(A) && 0 === C ? V ? i : o : "") + this._generateMonthYearHeader(e, Z, ee, Q, J, C > 0 || S > 0, p, g) + "</div><table class='ui-datepicker-calendar'><thead><tr>", T = d ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "", w = 0; w < 7; w++) D = (w + u) % 7, T += "<th scope='col'" + ((w + u + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + h[D] + "'>" + f[D] + "</span></th>";
for (k += T + "</tr></thead><tbody>", E = this._getDaysInMonth(ee, Z), ee === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, E)), F = (this._getFirstDayOfMonth(ee, Z) - u + 7) % 7, M = Math.ceil((F + E) / 7), I = K && this.maxRows > M ? this.maxRows : M, this.maxRows = I, P = this._daylightSavingAdjust(new Date(ee, Z, 1 - F)), L = 0; L < I; L++) {
for (k += "<tr>", O = d ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(P) + "</td>" : "", w = 0; w < 7; w++) R = m ? m.apply(e.input ? e.input[0] : null, [ P ]) : [ !0, "" ], B = (N = P.getMonth() !== Z) && !y || !R[0] || Q && P < Q || J && P > J, O += "<td class='" + ((w + u + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (N ? " ui-datepicker-other-month" : "") + (P.getTime() === $.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === P.getTime() && b.getTime() === $.getTime() ? " " + this._dayOverClass : "") + (B ? " " + this._unselectableClass + " ui-state-disabled" : "") + (N && !v ? "" : " " + R[1] + (P.getTime() === X.getTime() ? " " + this._currentClass : "") + (P.getTime() === H.getTime() ? " ui-datepicker-today" : "")) + "'" + (N && !v || !R[2] ? "" : " title='" + R[2].replace(/'/g, "&#39;") + "'") + (B ? "" : " data-handler='selectDay' data-event='click' data-month='" + P.getMonth() + "' data-year='" + P.getFullYear() + "'") + ">" + (N && !v ? "&#xa0;" : B ? "<span class='ui-state-default'>" + P.getDate() + "</span>" : "<a class='ui-state-default" + (P.getTime() === H.getTime() ? " ui-state-highlight" : "") + (P.getTime() === X.getTime() ? " ui-state-active" : "") + (N ? " ui-priority-secondary" : "") + "' href='#'>" + P.getDate() + "</a>") + "</td>", 
P.setDate(P.getDate() + 1), P = this._daylightSavingAdjust(P);
k += O + "</tr>";
}
++Z > 11 && (Z = 0, ee++), x += k += "</tbody></table>" + (K ? "</div>" + (q[0] > 0 && S === q[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
}
_ += x;
}
return _ += c, e._keyEvent = !1, _;
},
_generateMonthYearHeader: function(e, t, n, i, r, o, a, s) {
var l, c, u, d, h, f, p, g, m = this._get(e, "changeMonth"), v = this._get(e, "changeYear"), y = this._get(e, "showMonthAfterYear"), b = "<div class='ui-datepicker-title'>", _ = "";
if (o || !m) _ += "<span class='ui-datepicker-month'>" + a[t] + "</span>"; else {
for (l = i && i.getFullYear() === n, c = r && r.getFullYear() === n, _ += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", u = 0; u < 12; u++) (!l || u >= i.getMonth()) && (!c || u <= r.getMonth()) && (_ += "<option value='" + u + "'" + (u === t ? " selected='selected'" : "") + ">" + s[u] + "</option>");
_ += "</select>";
}
if (y || (b += _ + (!o && m && v ? "" : "&#xa0;")), !e.yearshtml) if (e.yearshtml = "", o || !v) b += "<span class='ui-datepicker-year'>" + n + "</span>"; else {
for (d = this._get(e, "yearRange").split(":"), h = new Date().getFullYear(), p = (f = function(e) {
var t = e.match(/c[+\-].*/) ? n + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? h + parseInt(e, 10) : parseInt(e, 10);
return isNaN(t) ? h : t;
})(d[0]), g = Math.max(p, f(d[1] || "")), p = i ? Math.max(p, i.getFullYear()) : p, g = r ? Math.min(g, r.getFullYear()) : g, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; p <= g; p++) e.yearshtml += "<option value='" + p + "'" + (p === n ? " selected='selected'" : "") + ">" + p + "</option>";
e.yearshtml += "</select>", b += e.yearshtml, e.yearshtml = null;
}
return b += this._get(e, "yearSuffix"), y && (b += (!o && m && v ? "" : "&#xa0;") + _), b += "</div>";
},
_adjustInstDate: function(e, t, n) {
var i = e.selectedYear + ("Y" === n ? t : 0), r = e.selectedMonth + ("M" === n ? t : 0), o = Math.min(e.selectedDay, this._getDaysInMonth(i, r)) + ("D" === n ? t : 0), a = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(i, r, o)));
e.selectedDay = a.getDate(), e.drawMonth = e.selectedMonth = a.getMonth(), e.drawYear = e.selectedYear = a.getFullYear(), "M" !== n && "Y" !== n || this._notifyChange(e);
},
_restrictMinMax: function(e, t) {
var n = this._getMinMaxDate(e, "min"), i = this._getMinMaxDate(e, "max"), r = n && t < n ? n : t;
return i && r > i ? i : r;
},
_notifyChange: function(e) {
var t = this._get(e, "onChangeMonthYear");
t && t.apply(e.input ? e.input[0] : null, [ e.selectedYear, e.selectedMonth + 1, e ]);
},
_getNumberOfMonths: function(e) {
var t = this._get(e, "numberOfMonths");
return null == t ? [ 1, 1 ] : "number" == typeof t ? [ 1, t ] : t;
},
_getMinMaxDate: function(e, t) {
return this._determineDate(e, this._get(e, t + "Date"), null);
},
_getDaysInMonth: function(e, t) {
return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate();
},
_getFirstDayOfMonth: function(e, t) {
return new Date(e, t, 1).getDay();
},
_canAdjustMonth: function(e, t, n, i) {
var r = this._getNumberOfMonths(e), o = this._daylightSavingAdjust(new Date(n, i + (t < 0 ? t : r[0] * r[1]), 1));
return t < 0 && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(e, o);
},
_isInRange: function(e, t) {
var n, i, r = this._getMinMaxDate(e, "min"), o = this._getMinMaxDate(e, "max"), a = null, s = null, l = this._get(e, "yearRange");
return l && (n = l.split(":"), i = new Date().getFullYear(), a = parseInt(n[0], 10), s = parseInt(n[1], 10), n[0].match(/[+\-].*/) && (a += i), n[1].match(/[+\-].*/) && (s += i)), (!r || t.getTime() >= r.getTime()) && (!o || t.getTime() <= o.getTime()) && (!a || t.getFullYear() >= a) && (!s || t.getFullYear() <= s);
},
_getFormatConfig: function(e) {
var t = this._get(e, "shortYearCutoff");
return t = "string" != typeof t ? t : new Date().getFullYear() % 100 + parseInt(t, 10), {
shortYearCutoff: t,
dayNamesShort: this._get(e, "dayNamesShort"),
dayNames: this._get(e, "dayNames"),
monthNamesShort: this._get(e, "monthNamesShort"),
monthNames: this._get(e, "monthNames")
};
},
_formatDate: function(e, t, n, i) {
t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear);
var r = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(i, n, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
return this.formatDate(this._get(e, "dateFormat"), r, this._getFormatConfig(e));
}
}), e.fn.datepicker = function(t) {
if (!this.length) return this;
e.datepicker.initialized || (e(document).on("mousedown", e.datepicker._checkExternalClick), e.datepicker.initialized = !0), 0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv);
var n = Array.prototype.slice.call(arguments, 1);
return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [ this[0] ].concat(n)) : this.each(function() {
"string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [ this ].concat(n)) : e.datepicker._attachDatepicker(this, t);
}) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [ this[0] ].concat(n));
}, e.datepicker = new i(), e.datepicker.initialized = !1, e.datepicker.uuid = new Date().getTime(), e.datepicker.version = "1.12.1";
e.datepicker, e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
var p = !1;
e(document).on("mouseup", function() {
p = !1;
});
e.widget("ui.mouse", {
version: "1.12.1",
options: {
cancel: "input, textarea, button, select, option",
distance: 1,
delay: 0
},
_mouseInit: function() {
var t = this;
this.element.on("mousedown." + this.widgetName, function(e) {
return t._mouseDown(e);
}).on("click." + this.widgetName, function(n) {
if (!0 === e.data(n.target, t.widgetName + ".preventClickEvent")) return e.removeData(n.target, t.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1;
}), this.started = !1;
},
_mouseDestroy: function() {
this.element.off("." + this.widgetName), this._mouseMoveDelegate && this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate);
},
_mouseDown: function(t) {
if (!p) {
this._mouseMoved = !1, this._mouseStarted && this._mouseUp(t), this._mouseDownEvent = t;
var n = this, i = 1 === t.which, r = !("string" != typeof this.options.cancel || !t.target.nodeName) && e(t.target).closest(this.options.cancel).length;
return !(i && !r && this._mouseCapture(t)) || (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
n.mouseDelayMet = !0;
}, this.options.delay)), this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = !1 !== this._mouseStart(t), !this._mouseStarted) ? (t.preventDefault(), !0) : (!0 === e.data(t.target, this.widgetName + ".preventClickEvent") && e.removeData(t.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(e) {
return n._mouseMove(e);
}, this._mouseUpDelegate = function(e) {
return n._mouseUp(e);
}, this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate), t.preventDefault(), p = !0, !0));
}
},
_mouseMove: function(t) {
if (this._mouseMoved) {
if (e.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button) return this._mouseUp(t);
if (!t.which) if (t.originalEvent.altKey || t.originalEvent.ctrlKey || t.originalEvent.metaKey || t.originalEvent.shiftKey) this.ignoreMissingWhich = !0; else if (!this.ignoreMissingWhich) return this._mouseUp(t);
}
return (t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, t), this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted);
},
_mouseUp: function(t) {
this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), this._mouseDelayTimer && (clearTimeout(this._mouseDelayTimer), delete this._mouseDelayTimer), this.ignoreMissingWhich = !1, p = !1, t.preventDefault();
},
_mouseDistanceMet: function(e) {
return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance;
},
_mouseDelayMet: function() {
return this.mouseDelayMet;
},
_mouseStart: function() {},
_mouseDrag: function() {},
_mouseStop: function() {},
_mouseCapture: function() {
return !0;
}
}), e.ui.plugin = {
add: function(t, n, i) {
var r, o = e.ui[t].prototype;
for (r in i) o.plugins[r] = o.plugins[r] || [], o.plugins[r].push([ n, i[r] ]);
},
call: function(e, t, n, i) {
var r, o = e.plugins[t];
if (o && (i || e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType)) for (r = 0; r < o.length; r++) e.options[o[r][0]] && o[r][1].apply(e.element, n);
}
}, e.ui.safeBlur = function(t) {
t && "body" !== t.nodeName.toLowerCase() && e(t).trigger("blur");
};
e.widget("ui.draggable", e.ui.mouse, {
version: "1.12.1",
widgetEventPrefix: "drag",
options: {
addClasses: !0,
appendTo: "parent",
axis: !1,
connectToSortable: !1,
containment: !1,
cursor: "auto",
cursorAt: !1,
grid: !1,
handle: !1,
helper: "original",
iframeFix: !1,
opacity: !1,
refreshPositions: !1,
revert: !1,
revertDuration: 500,
scope: "default",
scroll: !0,
scrollSensitivity: 20,
scrollSpeed: 20,
snap: !1,
snapMode: "both",
snapTolerance: 20,
stack: !1,
zIndex: !1,
drag: null,
start: null,
stop: null
},
_create: function() {
"original" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this._addClass("ui-draggable"), this._setHandleClassName(), this._mouseInit();
},
_setOption: function(e, t) {
this._super(e, t), "handle" === e && (this._removeHandleClassName(), this._setHandleClassName());
},
_destroy: function() {
(this.helper || this.element).is(".ui-draggable-dragging") ? this.destroyOnClear = !0 : (this._removeHandleClassName(), this._mouseDestroy());
},
_mouseCapture: function(t) {
var n = this.options;
return !(this.helper || n.disabled || e(t.target).closest(".ui-resizable-handle").length > 0) && (this.handle = this._getHandle(t), !!this.handle && (this._blurActiveElement(t), this._blockFrames(!0 === n.iframeFix ? "iframe" : n.iframeFix), !0));
},
_blockFrames: function(t) {
this.iframeBlocks = this.document.find(t).map(function() {
var t = e(this);
return e("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0];
});
},
_unblockFrames: function() {
this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks);
},
_blurActiveElement: function(t) {
var n = e.ui.safeActiveElement(this.document[0]);
e(t.target).closest(n).length || e.ui.safeBlur(n);
},
_mouseStart: function(t) {
var n = this.options;
return this.helper = this._createHelper(t), this._addClass(this.helper, "ui-draggable-dragging"), this._cacheHelperProportions(), e.ui.ddmanager && (e.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function() {
return "fixed" === e(this).css("position");
}).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(t), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, n.cursorAt && this._adjustOffsetFromHelper(n.cursorAt), this._setContainment(), !1 === this._trigger("start", t) ? (this._clear(), !1) : (this._cacheHelperProportions(), e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this._mouseDrag(t, !0), e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t), !0);
},
_refreshOffsets: function(e) {
this.offset = {
top: this.positionAbs.top - this.margins.top,
left: this.positionAbs.left - this.margins.left,
scroll: !1,
parent: this._getParentOffset(),
relative: this._getRelativeOffset()
}, this.offset.click = {
left: e.pageX - this.offset.left,
top: e.pageY - this.offset.top
};
},
_mouseDrag: function(t, n) {
if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !n) {
var i = this._uiHash();
if (!1 === this._trigger("drag", t, i)) return this._mouseUp(new e.Event("mouseup", t)), !1;
this.position = i.position;
}
return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", e.ui.ddmanager && e.ui.ddmanager.drag(this, t), !1;
},
_mouseStop: function(t) {
var n = this, i = !1;
return e.ui.ddmanager && !this.options.dropBehaviour && (i = e.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !i || "valid" === this.options.revert && i || !0 === this.options.revert || e.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
!1 !== n._trigger("stop", t) && n._clear();
}) : !1 !== this._trigger("stop", t) && this._clear(), !1;
},
_mouseUp: function(t) {
return this._unblockFrames(), e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t), this.handleElement.is(t.target) && this.element.trigger("focus"), e.ui.mouse.prototype._mouseUp.call(this, t);
},
cancel: function() {
return this.helper.is(".ui-draggable-dragging") ? this._mouseUp(new e.Event("mouseup", {
target: this.element[0]
})) : this._clear(), this;
},
_getHandle: function(t) {
return !this.options.handle || !!e(t.target).closest(this.element.find(this.options.handle)).length;
},
_setHandleClassName: function() {
this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this._addClass(this.handleElement, "ui-draggable-handle");
},
_removeHandleClassName: function() {
this._removeClass(this.handleElement, "ui-draggable-handle");
},
_createHelper: function(t) {
var n = this.options, i = e.isFunction(n.helper), r = i ? e(n.helper.apply(this.element[0], [ t ])) : "clone" === n.helper ? this.element.clone().removeAttr("id") : this.element;
return r.parents("body").length || r.appendTo("parent" === n.appendTo ? this.element[0].parentNode : n.appendTo), i && r[0] === this.element[0] && this._setPositionRelative(), r[0] === this.element[0] || /(fixed|absolute)/.test(r.css("position")) || r.css("position", "absolute"), r;
},
_setPositionRelative: function() {
/^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative");
},
_adjustOffsetFromHelper: function(t) {
"string" == typeof t && (t = t.split(" ")), e.isArray(t) && (t = {
left: +t[0],
top: +t[1] || 0
}), "left" in t && (this.offset.click.left = t.left + this.margins.left), "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), "top" in t && (this.offset.click.top = t.top + this.margins.top), "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top);
},
_isRootNode: function(e) {
return /(html|body)/i.test(e.tagName) || e === this.document[0];
},
_getParentOffset: function() {
var t = this.offsetParent.offset(), n = this.document[0];
return "absolute" === this.cssPosition && this.scrollParent[0] !== n && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = {
top: 0,
left: 0
}), {
top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
};
},
_getRelativeOffset: function() {
if ("relative" !== this.cssPosition) return {
top: 0,
left: 0
};
var e = this.element.position(), t = this._isRootNode(this.scrollParent[0]);
return {
top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()),
left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft())
};
},
_cacheMargins: function() {
this.margins = {
left: parseInt(this.element.css("marginLeft"), 10) || 0,
top: parseInt(this.element.css("marginTop"), 10) || 0,
right: parseInt(this.element.css("marginRight"), 10) || 0,
bottom: parseInt(this.element.css("marginBottom"), 10) || 0
};
},
_cacheHelperProportions: function() {
this.helperProportions = {
width: this.helper.outerWidth(),
height: this.helper.outerHeight()
};
},
_setContainment: function() {
var t, n, i, r = this.options, o = this.document[0];
this.relativeContainer = null, r.containment ? "window" !== r.containment ? "document" !== r.containment ? r.containment.constructor !== Array ? ("parent" === r.containment && (r.containment = this.helper[0].parentNode), (i = (n = e(r.containment))[0]) && (t = /(scroll|auto)/.test(n.css("overflow")), this.containment = [ (parseInt(n.css("borderLeftWidth"), 10) || 0) + (parseInt(n.css("paddingLeft"), 10) || 0), (parseInt(n.css("borderTopWidth"), 10) || 0) + (parseInt(n.css("paddingTop"), 10) || 0), (t ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(n.css("borderRightWidth"), 10) || 0) - (parseInt(n.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(n.css("borderBottomWidth"), 10) || 0) - (parseInt(n.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom ], this.relativeContainer = n)) : this.containment = r.containment : this.containment = [ 0, 0, e(o).width() - this.helperProportions.width - this.margins.left, (e(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top ] : this.containment = [ e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, e(window).scrollLeft() + e(window).width() - this.helperProportions.width - this.margins.left, e(window).scrollTop() + (e(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top ] : this.containment = null;
},
_convertPositionTo: function(e, t) {
t || (t = this.position);
var n = "absolute" === e ? 1 : -1, i = this._isRootNode(this.scrollParent[0]);
return {
top: t.top + this.offset.relative.top * n + this.offset.parent.top * n - ("fixed" === this.cssPosition ? -this.offset.scroll.top : i ? 0 : this.offset.scroll.top) * n,
left: t.left + this.offset.relative.left * n + this.offset.parent.left * n - ("fixed" === this.cssPosition ? -this.offset.scroll.left : i ? 0 : this.offset.scroll.left) * n
};
},
_generatePosition: function(e, t) {
var n, i, r, o, a = this.options, s = this._isRootNode(this.scrollParent[0]), l = e.pageX, c = e.pageY;
return s && this.offset.scroll || (this.offset.scroll = {
top: this.scrollParent.scrollTop(),
left: this.scrollParent.scrollLeft()
}), t && (this.containment && (this.relativeContainer ? (i = this.relativeContainer.offset(), n = [ this.containment[0] + i.left, this.containment[1] + i.top, this.containment[2] + i.left, this.containment[3] + i.top ]) : n = this.containment, e.pageX - this.offset.click.left < n[0] && (l = n[0] + this.offset.click.left), e.pageY - this.offset.click.top < n[1] && (c = n[1] + this.offset.click.top), e.pageX - this.offset.click.left > n[2] && (l = n[2] + this.offset.click.left), e.pageY - this.offset.click.top > n[3] && (c = n[3] + this.offset.click.top)), a.grid && (r = a.grid[1] ? this.originalPageY + Math.round((c - this.originalPageY) / a.grid[1]) * a.grid[1] : this.originalPageY, c = n ? r - this.offset.click.top >= n[1] || r - this.offset.click.top > n[3] ? r : r - this.offset.click.top >= n[1] ? r - a.grid[1] : r + a.grid[1] : r, o = a.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / a.grid[0]) * a.grid[0] : this.originalPageX, l = n ? o - this.offset.click.left >= n[0] || o - this.offset.click.left > n[2] ? o : o - this.offset.click.left >= n[0] ? o - a.grid[0] : o + a.grid[0] : o), 
"y" === a.axis && (l = this.originalPageX), "x" === a.axis && (c = this.originalPageY)), {
top: c - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : s ? 0 : this.offset.scroll.top),
left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : s ? 0 : this.offset.scroll.left)
};
},
_clear: function() {
this._removeClass(this.helper, "ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy();
},
_trigger: function(t, n, i) {
return i = i || this._uiHash(), e.ui.plugin.call(this, t, [ n, i, this ], !0), /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"), i.offset = this.positionAbs), e.Widget.prototype._trigger.call(this, t, n, i);
},
plugins: {},
_uiHash: function() {
return {
helper: this.helper,
position: this.position,
originalPosition: this.originalPosition,
offset: this.positionAbs
};
}
}), e.ui.plugin.add("draggable", "connectToSortable", {
start: function(t, n, i) {
var r = e.extend({}, n, {
item: i.element
});
i.sortables = [], e(i.options.connectToSortable).each(function() {
var n = e(this).sortable("instance");
n && !n.options.disabled && (i.sortables.push(n), n.refreshPositions(), n._trigger("activate", t, r));
});
},
stop: function(t, n, i) {
var r = e.extend({}, n, {
item: i.element
});
i.cancelHelperRemoval = !1, e.each(i.sortables, function() {
var e = this;
e.isOver ? (e.isOver = 0, i.cancelHelperRemoval = !0, e.cancelHelperRemoval = !1, e._storedCSS = {
position: e.placeholder.css("position"),
top: e.placeholder.css("top"),
left: e.placeholder.css("left")
}, e._mouseStop(t), e.options.helper = e.options._helper) : (e.cancelHelperRemoval = !0, e._trigger("deactivate", t, r));
});
},
drag: function(t, n, i) {
e.each(i.sortables, function() {
var r = !1, o = this;
o.positionAbs = i.positionAbs, o.helperProportions = i.helperProportions, o.offset.click = i.offset.click, o._intersectsWith(o.containerCache) && (r = !0, e.each(i.sortables, function() {
return this.positionAbs = i.positionAbs, this.helperProportions = i.helperProportions, this.offset.click = i.offset.click, this !== o && this._intersectsWith(this.containerCache) && e.contains(o.element[0], this.element[0]) && (r = !1), r;
})), r ? (o.isOver || (o.isOver = 1, i._parent = n.helper.parent(), o.currentItem = n.helper.appendTo(o.element).data("ui-sortable-item", !0), o.options._helper = o.options.helper, o.options.helper = function() {
return n.helper[0];
}, t.target = o.currentItem[0], o._mouseCapture(t, !0), o._mouseStart(t, !0, !0), o.offset.click.top = i.offset.click.top, o.offset.click.left = i.offset.click.left, o.offset.parent.left -= i.offset.parent.left - o.offset.parent.left, o.offset.parent.top -= i.offset.parent.top - o.offset.parent.top, i._trigger("toSortable", t), i.dropped = o.element, e.each(i.sortables, function() {
this.refreshPositions();
}), i.currentItem = i.element, o.fromOutside = i), o.currentItem && (o._mouseDrag(t), n.position = o.position)) : o.isOver && (o.isOver = 0, o.cancelHelperRemoval = !0, o.options._revert = o.options.revert, o.options.revert = !1, o._trigger("out", t, o._uiHash(o)), o._mouseStop(t, !0), o.options.revert = o.options._revert, o.options.helper = o.options._helper, o.placeholder && o.placeholder.remove(), n.helper.appendTo(i._parent), i._refreshOffsets(t), n.position = i._generatePosition(t, !0), i._trigger("fromSortable", t), i.dropped = !1, e.each(i.sortables, function() {
this.refreshPositions();
}));
});
}
}), e.ui.plugin.add("draggable", "cursor", {
start: function(t, n, i) {
var r = e("body"), o = i.options;
r.css("cursor") && (o._cursor = r.css("cursor")), r.css("cursor", o.cursor);
},
stop: function(t, n, i) {
var r = i.options;
r._cursor && e("body").css("cursor", r._cursor);
}
}), e.ui.plugin.add("draggable", "opacity", {
start: function(t, n, i) {
var r = e(n.helper), o = i.options;
r.css("opacity") && (o._opacity = r.css("opacity")), r.css("opacity", o.opacity);
},
stop: function(t, n, i) {
var r = i.options;
r._opacity && e(n.helper).css("opacity", r._opacity);
}
}), e.ui.plugin.add("draggable", "scroll", {
start: function(e, t, n) {
n.scrollParentNotHidden || (n.scrollParentNotHidden = n.helper.scrollParent(!1)), n.scrollParentNotHidden[0] !== n.document[0] && "HTML" !== n.scrollParentNotHidden[0].tagName && (n.overflowOffset = n.scrollParentNotHidden.offset());
},
drag: function(t, n, i) {
var r = i.options, o = !1, a = i.scrollParentNotHidden[0], s = i.document[0];
a !== s && "HTML" !== a.tagName ? (r.axis && "x" === r.axis || (i.overflowOffset.top + a.offsetHeight - t.pageY < r.scrollSensitivity ? a.scrollTop = o = a.scrollTop + r.scrollSpeed : t.pageY - i.overflowOffset.top < r.scrollSensitivity && (a.scrollTop = o = a.scrollTop - r.scrollSpeed)), r.axis && "y" === r.axis || (i.overflowOffset.left + a.offsetWidth - t.pageX < r.scrollSensitivity ? a.scrollLeft = o = a.scrollLeft + r.scrollSpeed : t.pageX - i.overflowOffset.left < r.scrollSensitivity && (a.scrollLeft = o = a.scrollLeft - r.scrollSpeed))) : (r.axis && "x" === r.axis || (t.pageY - e(s).scrollTop() < r.scrollSensitivity ? o = e(s).scrollTop(e(s).scrollTop() - r.scrollSpeed) : e(window).height() - (t.pageY - e(s).scrollTop()) < r.scrollSensitivity && (o = e(s).scrollTop(e(s).scrollTop() + r.scrollSpeed))), r.axis && "y" === r.axis || (t.pageX - e(s).scrollLeft() < r.scrollSensitivity ? o = e(s).scrollLeft(e(s).scrollLeft() - r.scrollSpeed) : e(window).width() - (t.pageX - e(s).scrollLeft()) < r.scrollSensitivity && (o = e(s).scrollLeft(e(s).scrollLeft() + r.scrollSpeed)))), 
!1 !== o && e.ui.ddmanager && !r.dropBehaviour && e.ui.ddmanager.prepareOffsets(i, t);
}
}), e.ui.plugin.add("draggable", "snap", {
start: function(t, n, i) {
var r = i.options;
i.snapElements = [], e(r.snap.constructor !== String ? r.snap.items || ":data(ui-draggable)" : r.snap).each(function() {
var t = e(this), n = t.offset();
this !== i.element[0] && i.snapElements.push({
item: this,
width: t.outerWidth(),
height: t.outerHeight(),
top: n.top,
left: n.left
});
});
},
drag: function(t, n, i) {
var r, o, a, s, l, c, u, d, h, f, p = i.options, g = p.snapTolerance, m = n.offset.left, v = m + i.helperProportions.width, y = n.offset.top, b = y + i.helperProportions.height;
for (h = i.snapElements.length - 1; h >= 0; h--) c = (l = i.snapElements[h].left - i.margins.left) + i.snapElements[h].width, d = (u = i.snapElements[h].top - i.margins.top) + i.snapElements[h].height, v < l - g || m > c + g || b < u - g || y > d + g || !e.contains(i.snapElements[h].item.ownerDocument, i.snapElements[h].item) ? (i.snapElements[h].snapping && i.options.snap.release && i.options.snap.release.call(i.element, t, e.extend(i._uiHash(), {
snapItem: i.snapElements[h].item
})), i.snapElements[h].snapping = !1) : ("inner" !== p.snapMode && (r = Math.abs(u - b) <= g, o = Math.abs(d - y) <= g, a = Math.abs(l - v) <= g, s = Math.abs(c - m) <= g, r && (n.position.top = i._convertPositionTo("relative", {
top: u - i.helperProportions.height,
left: 0
}).top), o && (n.position.top = i._convertPositionTo("relative", {
top: d,
left: 0
}).top), a && (n.position.left = i._convertPositionTo("relative", {
top: 0,
left: l - i.helperProportions.width
}).left), s && (n.position.left = i._convertPositionTo("relative", {
top: 0,
left: c
}).left)), f = r || o || a || s, "outer" !== p.snapMode && (r = Math.abs(u - y) <= g, o = Math.abs(d - b) <= g, a = Math.abs(l - m) <= g, s = Math.abs(c - v) <= g, r && (n.position.top = i._convertPositionTo("relative", {
top: u,
left: 0
}).top), o && (n.position.top = i._convertPositionTo("relative", {
top: d - i.helperProportions.height,
left: 0
}).top), a && (n.position.left = i._convertPositionTo("relative", {
top: 0,
left: l
}).left), s && (n.position.left = i._convertPositionTo("relative", {
top: 0,
left: c - i.helperProportions.width
}).left)), !i.snapElements[h].snapping && (r || o || a || s || f) && i.options.snap.snap && i.options.snap.snap.call(i.element, t, e.extend(i._uiHash(), {
snapItem: i.snapElements[h].item
})), i.snapElements[h].snapping = r || o || a || s || f);
}
}), e.ui.plugin.add("draggable", "stack", {
start: function(t, n, i) {
var r, o = i.options, a = e.makeArray(e(o.stack)).sort(function(t, n) {
return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(n).css("zIndex"), 10) || 0);
});
a.length && (r = parseInt(e(a[0]).css("zIndex"), 10) || 0, e(a).each(function(t) {
e(this).css("zIndex", r + t);
}), this.css("zIndex", r + a.length));
}
}), e.ui.plugin.add("draggable", "zIndex", {
start: function(t, n, i) {
var r = e(n.helper), o = i.options;
r.css("zIndex") && (o._zIndex = r.css("zIndex")), r.css("zIndex", o.zIndex);
},
stop: function(t, n, i) {
var r = i.options;
r._zIndex && e(n.helper).css("zIndex", r._zIndex);
}
});
e.ui.draggable;
e.widget("ui.resizable", e.ui.mouse, {
version: "1.12.1",
widgetEventPrefix: "resize",
options: {
alsoResize: !1,
animate: !1,
animateDuration: "slow",
animateEasing: "swing",
aspectRatio: !1,
autoHide: !1,
classes: {
"ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se"
},
containment: !1,
ghost: !1,
grid: !1,
handles: "e,s,se",
helper: !1,
maxHeight: null,
maxWidth: null,
minHeight: 10,
minWidth: 10,
zIndex: 90,
resize: null,
start: null,
stop: null
},
_num: function(e) {
return parseFloat(e) || 0;
},
_isNumber: function(e) {
return !isNaN(parseFloat(e));
},
_hasScroll: function(t, n) {
if ("hidden" === e(t).css("overflow")) return !1;
var i = n && "left" === n ? "scrollLeft" : "scrollTop", r = !1;
return t[i] > 0 || (t[i] = 1, r = t[i] > 0, t[i] = 0, r);
},
_create: function() {
var t, n = this.options, i = this;
this._addClass("ui-resizable"), e.extend(this, {
_aspectRatio: !!n.aspectRatio,
aspectRatio: n.aspectRatio,
originalElement: this.element,
_proportionallyResizeElements: [],
_helper: n.helper || n.ghost || n.animate ? n.helper || "ui-resizable-helper" : null
}), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
position: this.element.css("position"),
width: this.element.outerWidth(),
height: this.element.outerHeight(),
top: this.element.css("top"),
left: this.element.css("left")
})), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, t = {
marginTop: this.originalElement.css("marginTop"),
marginRight: this.originalElement.css("marginRight"),
marginBottom: this.originalElement.css("marginBottom"),
marginLeft: this.originalElement.css("marginLeft")
}, this.element.css(t), this.originalElement.css("margin", 0), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
position: "static",
zoom: 1,
display: "block"
})), this.originalElement.css(t), this._proportionallyResize()), this._setupHandles(), n.autoHide && e(this.element).on("mouseenter", function() {
n.disabled || (i._removeClass("ui-resizable-autohide"), i._handles.show());
}).on("mouseleave", function() {
n.disabled || i.resizing || (i._addClass("ui-resizable-autohide"), i._handles.hide());
}), this._mouseInit();
},
_destroy: function() {
this._mouseDestroy();
var t, n = function(t) {
e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove();
};
return this.elementIsWrapper && (n(this.element), t = this.element, this.originalElement.css({
position: t.css("position"),
width: t.outerWidth(),
height: t.outerHeight(),
top: t.css("top"),
left: t.css("left")
}).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), n(this.originalElement), this;
},
_setOption: function(e, t) {
switch (this._super(e, t), e) {
case "handles":
this._removeHandles(), this._setupHandles();
}
},
_setupHandles: function() {
var t, n, i, r, o, a = this.options, s = this;
if (this.handles = a.handles || (e(".ui-resizable-handle", this.element).length ? {
n: ".ui-resizable-n",
e: ".ui-resizable-e",
s: ".ui-resizable-s",
w: ".ui-resizable-w",
se: ".ui-resizable-se",
sw: ".ui-resizable-sw",
ne: ".ui-resizable-ne",
nw: ".ui-resizable-nw"
} : "e,s,se"), this._handles = e(), this.handles.constructor === String) for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), i = this.handles.split(","), this.handles = {}, n = 0; n < i.length; n++) r = "ui-resizable-" + (t = e.trim(i[n])), o = e("<div>"), this._addClass(o, "ui-resizable-handle " + r), o.css({
zIndex: a.zIndex
}), this.handles[t] = ".ui-resizable-" + t, this.element.append(o);
this._renderAxis = function(t) {
var n, i, r, o;
t = t || this.element;
for (n in this.handles) this.handles[n].constructor === String ? this.handles[n] = this.element.children(this.handles[n]).first().show() : (this.handles[n].jquery || this.handles[n].nodeType) && (this.handles[n] = e(this.handles[n]), this._on(this.handles[n], {
mousedown: s._mouseDown
})), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (i = e(this.handles[n], this.element), o = /sw|ne|nw|se|n|s/.test(n) ? i.outerHeight() : i.outerWidth(), r = [ "padding", /ne|nw|n/.test(n) ? "Top" : /se|sw|s/.test(n) ? "Bottom" : /^e$/.test(n) ? "Right" : "Left" ].join(""), t.css(r, o), this._proportionallyResize()), this._handles = this._handles.add(this.handles[n]);
}, this._renderAxis(this.element), this._handles = this._handles.add(this.element.find(".ui-resizable-handle")), this._handles.disableSelection(), this._handles.on("mouseover", function() {
s.resizing || (this.className && (o = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), s.axis = o && o[1] ? o[1] : "se");
}), a.autoHide && (this._handles.hide(), this._addClass("ui-resizable-autohide"));
},
_removeHandles: function() {
this._handles.remove();
},
_mouseCapture: function(t) {
var n, i, r = !1;
for (n in this.handles) ((i = e(this.handles[n])[0]) === t.target || e.contains(i, t.target)) && (r = !0);
return !this.options.disabled && r;
},
_mouseStart: function(t) {
var n, i, r, o = this.options, a = this.element;
return this.resizing = !0, this._renderProxy(), n = this._num(this.helper.css("left")), i = this._num(this.helper.css("top")), o.containment && (n += e(o.containment).scrollLeft() || 0, i += e(o.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
left: n,
top: i
}, this.size = this._helper ? {
width: this.helper.width(),
height: this.helper.height()
} : {
width: a.width(),
height: a.height()
}, this.originalSize = this._helper ? {
width: a.outerWidth(),
height: a.outerHeight()
} : {
width: a.width(),
height: a.height()
}, this.sizeDiff = {
width: a.outerWidth() - a.width(),
height: a.outerHeight() - a.height()
}, this.originalPosition = {
left: n,
top: i
}, this.originalMousePosition = {
left: t.pageX,
top: t.pageY
}, this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1, r = e(".ui-resizable-" + this.axis).css("cursor"), e("body").css("cursor", "auto" === r ? this.axis + "-resize" : r), this._addClass("ui-resizable-resizing"), this._propagate("start", t), !0;
},
_mouseDrag: function(t) {
var n, i, r = this.originalMousePosition, o = this.axis, a = t.pageX - r.left || 0, s = t.pageY - r.top || 0, l = this._change[o];
return this._updatePrevProperties(), !!l && (n = l.apply(this, [ t, a, s ]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (n = this._updateRatio(n, t)), n = this._respectSize(n, t), this._updateCache(n), this._propagate("resize", t), i = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), e.isEmptyObject(i) || (this._updatePrevProperties(), this._trigger("resize", t, this.ui()), this._applyChanges()), !1);
},
_mouseStop: function(t) {
this.resizing = !1;
var n, i, r, o, a, s, l, c = this.options, u = this;
return this._helper && (r = (i = (n = this._proportionallyResizeElements).length && /textarea/i.test(n[0].nodeName)) && this._hasScroll(n[0], "left") ? 0 : u.sizeDiff.height, o = i ? 0 : u.sizeDiff.width, a = {
width: u.helper.width() - o,
height: u.helper.height() - r
}, s = parseFloat(u.element.css("left")) + (u.position.left - u.originalPosition.left) || null, l = parseFloat(u.element.css("top")) + (u.position.top - u.originalPosition.top) || null, c.animate || this.element.css(e.extend(a, {
top: l,
left: s
})), u.helper.height(u.size.height), u.helper.width(u.size.width), this._helper && !c.animate && this._proportionallyResize()), e("body").css("cursor", "auto"), this._removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1;
},
_updatePrevProperties: function() {
this.prevPosition = {
top: this.position.top,
left: this.position.left
}, this.prevSize = {
width: this.size.width,
height: this.size.height
};
},
_applyChanges: function() {
var e = {};
return this.position.top !== this.prevPosition.top && (e.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (e.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (e.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (e.height = this.size.height + "px"), this.helper.css(e), e;
},
_updateVirtualBoundaries: function(e) {
var t, n, i, r, o, a = this.options;
o = {
minWidth: this._isNumber(a.minWidth) ? a.minWidth : 0,
maxWidth: this._isNumber(a.maxWidth) ? a.maxWidth : 1 / 0,
minHeight: this._isNumber(a.minHeight) ? a.minHeight : 0,
maxHeight: this._isNumber(a.maxHeight) ? a.maxHeight : 1 / 0
}, (this._aspectRatio || e) && (t = o.minHeight * this.aspectRatio, i = o.minWidth / this.aspectRatio, n = o.maxHeight * this.aspectRatio, r = o.maxWidth / this.aspectRatio, t > o.minWidth && (o.minWidth = t), i > o.minHeight && (o.minHeight = i), n < o.maxWidth && (o.maxWidth = n), r < o.maxHeight && (o.maxHeight = r)), this._vBoundaries = o;
},
_updateCache: function(e) {
this.offset = this.helper.offset(), this._isNumber(e.left) && (this.position.left = e.left), this._isNumber(e.top) && (this.position.top = e.top), this._isNumber(e.height) && (this.size.height = e.height), this._isNumber(e.width) && (this.size.width = e.width);
},
_updateRatio: function(e) {
var t = this.position, n = this.size, i = this.axis;
return this._isNumber(e.height) ? e.width = e.height * this.aspectRatio : this._isNumber(e.width) && (e.height = e.width / this.aspectRatio), "sw" === i && (e.left = t.left + (n.width - e.width), e.top = null), "nw" === i && (e.top = t.top + (n.height - e.height), e.left = t.left + (n.width - e.width)), e;
},
_respectSize: function(e) {
var t = this._vBoundaries, n = this.axis, i = this._isNumber(e.width) && t.maxWidth && t.maxWidth < e.width, r = this._isNumber(e.height) && t.maxHeight && t.maxHeight < e.height, o = this._isNumber(e.width) && t.minWidth && t.minWidth > e.width, a = this._isNumber(e.height) && t.minHeight && t.minHeight > e.height, s = this.originalPosition.left + this.originalSize.width, l = this.originalPosition.top + this.originalSize.height, c = /sw|nw|w/.test(n), u = /nw|ne|n/.test(n);
return o && (e.width = t.minWidth), a && (e.height = t.minHeight), i && (e.width = t.maxWidth), r && (e.height = t.maxHeight), o && c && (e.left = s - t.minWidth), i && c && (e.left = s - t.maxWidth), a && u && (e.top = l - t.minHeight), r && u && (e.top = l - t.maxHeight), e.width || e.height || e.left || !e.top ? e.width || e.height || e.top || !e.left || (e.left = null) : e.top = null, e;
},
_getPaddingPlusBorderDimensions: function(e) {
for (var t = 0, n = [], i = [ e.css("borderTopWidth"), e.css("borderRightWidth"), e.css("borderBottomWidth"), e.css("borderLeftWidth") ], r = [ e.css("paddingTop"), e.css("paddingRight"), e.css("paddingBottom"), e.css("paddingLeft") ]; t < 4; t++) n[t] = parseFloat(i[t]) || 0, n[t] += parseFloat(r[t]) || 0;
return {
height: n[0] + n[2],
width: n[1] + n[3]
};
},
_proportionallyResize: function() {
if (this._proportionallyResizeElements.length) for (var e, t = 0, n = this.helper || this.element; t < this._proportionallyResizeElements.length; t++) e = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(e)), e.css({
height: n.height() - this.outerDimensions.height || 0,
width: n.width() - this.outerDimensions.width || 0
});
},
_renderProxy: function() {
var t = this.element, n = this.options;
this.elementOffset = t.offset(), this._helper ? (this.helper = this.helper || e("<div style='overflow:hidden;'></div>"), this._addClass(this.helper, this._helper), this.helper.css({
width: this.element.outerWidth(),
height: this.element.outerHeight(),
position: "absolute",
left: this.elementOffset.left + "px",
top: this.elementOffset.top + "px",
zIndex: ++n.zIndex
}), this.helper.appendTo("body").disableSelection()) : this.helper = this.element;
},
_change: {
e: function(e, t) {
return {
width: this.originalSize.width + t
};
},
w: function(e, t) {
var n = this.originalSize;
return {
left: this.originalPosition.left + t,
width: n.width - t
};
},
n: function(e, t, n) {
var i = this.originalSize;
return {
top: this.originalPosition.top + n,
height: i.height - n
};
},
s: function(e, t, n) {
return {
height: this.originalSize.height + n
};
},
se: function(t, n, i) {
return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [ t, n, i ]));
},
sw: function(t, n, i) {
return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [ t, n, i ]));
},
ne: function(t, n, i) {
return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [ t, n, i ]));
},
nw: function(t, n, i) {
return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [ t, n, i ]));
}
},
_propagate: function(t, n) {
e.ui.plugin.call(this, t, [ n, this.ui() ]), "resize" !== t && this._trigger(t, n, this.ui());
},
plugins: {},
ui: function() {
return {
originalElement: this.originalElement,
element: this.element,
helper: this.helper,
position: this.position,
size: this.size,
originalSize: this.originalSize,
originalPosition: this.originalPosition
};
}
}), e.ui.plugin.add("resizable", "animate", {
stop: function(t) {
var n = e(this).resizable("instance"), i = n.options, r = n._proportionallyResizeElements, o = r.length && /textarea/i.test(r[0].nodeName), a = o && n._hasScroll(r[0], "left") ? 0 : n.sizeDiff.height, s = o ? 0 : n.sizeDiff.width, l = {
width: n.size.width - s,
height: n.size.height - a
}, c = parseFloat(n.element.css("left")) + (n.position.left - n.originalPosition.left) || null, u = parseFloat(n.element.css("top")) + (n.position.top - n.originalPosition.top) || null;
n.element.animate(e.extend(l, u && c ? {
top: u,
left: c
} : {}), {
duration: i.animateDuration,
easing: i.animateEasing,
step: function() {
var i = {
width: parseFloat(n.element.css("width")),
height: parseFloat(n.element.css("height")),
top: parseFloat(n.element.css("top")),
left: parseFloat(n.element.css("left"))
};
r && r.length && e(r[0]).css({
width: i.width,
height: i.height
}), n._updateCache(i), n._propagate("resize", t);
}
});
}
}), e.ui.plugin.add("resizable", "containment", {
start: function() {
var t, n, i, r, o, a, s, l = e(this).resizable("instance"), c = l.options, u = l.element, d = c.containment, h = d instanceof e ? d.get(0) : /parent/.test(d) ? u.parent().get(0) : d;
h && (l.containerElement = e(h), /document/.test(d) || d === document ? (l.containerOffset = {
left: 0,
top: 0
}, l.containerPosition = {
left: 0,
top: 0
}, l.parentData = {
element: e(document),
left: 0,
top: 0,
width: e(document).width(),
height: e(document).height() || document.body.parentNode.scrollHeight
}) : (t = e(h), n = [], e([ "Top", "Right", "Left", "Bottom" ]).each(function(e, i) {
n[e] = l._num(t.css("padding" + i));
}), l.containerOffset = t.offset(), l.containerPosition = t.position(), l.containerSize = {
height: t.innerHeight() - n[3],
width: t.innerWidth() - n[1]
}, i = l.containerOffset, r = l.containerSize.height, o = l.containerSize.width, a = l._hasScroll(h, "left") ? h.scrollWidth : o, s = l._hasScroll(h) ? h.scrollHeight : r, l.parentData = {
element: h,
left: i.left,
top: i.top,
width: a,
height: s
}));
},
resize: function(t) {
var n, i, r, o, a = e(this).resizable("instance"), s = a.options, l = a.containerOffset, c = a.position, u = a._aspectRatio || t.shiftKey, d = {
top: 0,
left: 0
}, h = a.containerElement, f = !0;
h[0] !== document && /static/.test(h.css("position")) && (d = l), c.left < (a._helper ? l.left : 0) && (a.size.width = a.size.width + (a._helper ? a.position.left - l.left : a.position.left - d.left), u && (a.size.height = a.size.width / a.aspectRatio, f = !1), a.position.left = s.helper ? l.left : 0), c.top < (a._helper ? l.top : 0) && (a.size.height = a.size.height + (a._helper ? a.position.top - l.top : a.position.top), u && (a.size.width = a.size.height * a.aspectRatio, f = !1), a.position.top = a._helper ? l.top : 0), r = a.containerElement.get(0) === a.element.parent().get(0), o = /relative|absolute/.test(a.containerElement.css("position")), r && o ? (a.offset.left = a.parentData.left + a.position.left, a.offset.top = a.parentData.top + a.position.top) : (a.offset.left = a.element.offset().left, a.offset.top = a.element.offset().top), n = Math.abs(a.sizeDiff.width + (a._helper ? a.offset.left - d.left : a.offset.left - l.left)), i = Math.abs(a.sizeDiff.height + (a._helper ? a.offset.top - d.top : a.offset.top - l.top)), 
n + a.size.width >= a.parentData.width && (a.size.width = a.parentData.width - n, u && (a.size.height = a.size.width / a.aspectRatio, f = !1)), i + a.size.height >= a.parentData.height && (a.size.height = a.parentData.height - i, u && (a.size.width = a.size.height * a.aspectRatio, f = !1)), f || (a.position.left = a.prevPosition.left, a.position.top = a.prevPosition.top, a.size.width = a.prevSize.width, a.size.height = a.prevSize.height);
},
stop: function() {
var t = e(this).resizable("instance"), n = t.options, i = t.containerOffset, r = t.containerPosition, o = t.containerElement, a = e(t.helper), s = a.offset(), l = a.outerWidth() - t.sizeDiff.width, c = a.outerHeight() - t.sizeDiff.height;
t._helper && !n.animate && /relative/.test(o.css("position")) && e(this).css({
left: s.left - r.left - i.left,
width: l,
height: c
}), t._helper && !n.animate && /static/.test(o.css("position")) && e(this).css({
left: s.left - r.left - i.left,
width: l,
height: c
});
}
}), e.ui.plugin.add("resizable", "alsoResize", {
start: function() {
var t = e(this).resizable("instance").options;
e(t.alsoResize).each(function() {
var t = e(this);
t.data("ui-resizable-alsoresize", {
width: parseFloat(t.width()),
height: parseFloat(t.height()),
left: parseFloat(t.css("left")),
top: parseFloat(t.css("top"))
});
});
},
resize: function(t, n) {
var i = e(this).resizable("instance"), r = i.options, o = i.originalSize, a = i.originalPosition, s = {
height: i.size.height - o.height || 0,
width: i.size.width - o.width || 0,
top: i.position.top - a.top || 0,
left: i.position.left - a.left || 0
};
e(r.alsoResize).each(function() {
var t = e(this), i = e(this).data("ui-resizable-alsoresize"), r = {}, o = t.parents(n.originalElement[0]).length ? [ "width", "height" ] : [ "width", "height", "top", "left" ];
e.each(o, function(e, t) {
var n = (i[t] || 0) + (s[t] || 0);
n && n >= 0 && (r[t] = n || null);
}), t.css(r);
});
},
stop: function() {
e(this).removeData("ui-resizable-alsoresize");
}
}), e.ui.plugin.add("resizable", "ghost", {
start: function() {
var t = e(this).resizable("instance"), n = t.size;
t.ghost = t.originalElement.clone(), t.ghost.css({
opacity: .25,
display: "block",
position: "relative",
height: n.height,
width: n.width,
margin: 0,
left: 0,
top: 0
}), t._addClass(t.ghost, "ui-resizable-ghost"), !1 !== e.uiBackCompat && "string" == typeof t.options.ghost && t.ghost.addClass(this.options.ghost), t.ghost.appendTo(t.helper);
},
resize: function() {
var t = e(this).resizable("instance");
t.ghost && t.ghost.css({
position: "relative",
height: t.size.height,
width: t.size.width
});
},
stop: function() {
var t = e(this).resizable("instance");
t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0));
}
}), e.ui.plugin.add("resizable", "grid", {
resize: function() {
var t, n = e(this).resizable("instance"), i = n.options, r = n.size, o = n.originalSize, a = n.originalPosition, s = n.axis, l = "number" == typeof i.grid ? [ i.grid, i.grid ] : i.grid, c = l[0] || 1, u = l[1] || 1, d = Math.round((r.width - o.width) / c) * c, h = Math.round((r.height - o.height) / u) * u, f = o.width + d, p = o.height + h, g = i.maxWidth && i.maxWidth < f, m = i.maxHeight && i.maxHeight < p, v = i.minWidth && i.minWidth > f, y = i.minHeight && i.minHeight > p;
i.grid = l, v && (f += c), y && (p += u), g && (f -= c), m && (p -= u), /^(se|s|e)$/.test(s) ? (n.size.width = f, n.size.height = p) : /^(ne)$/.test(s) ? (n.size.width = f, n.size.height = p, n.position.top = a.top - h) : /^(sw)$/.test(s) ? (n.size.width = f, n.size.height = p, n.position.left = a.left - d) : ((p - u <= 0 || f - c <= 0) && (t = n._getPaddingPlusBorderDimensions(this)), p - u > 0 ? (n.size.height = p, n.position.top = a.top - h) : (p = u - t.height, n.size.height = p, n.position.top = a.top + o.height - p), f - c > 0 ? (n.size.width = f, n.position.left = a.left - d) : (f = c - t.width, n.size.width = f, n.position.left = a.left + o.width - f));
}
});
e.ui.resizable;
e.widget("ui.dialog", {
version: "1.12.1",
options: {
appendTo: "body",
autoOpen: !0,
buttons: [],
classes: {
"ui-dialog": "ui-corner-all",
"ui-dialog-titlebar": "ui-corner-all"
},
closeOnEscape: !0,
closeText: "Close",
draggable: !0,
hide: null,
height: "auto",
maxHeight: null,
maxWidth: null,
minHeight: 150,
minWidth: 150,
modal: !1,
position: {
my: "center",
at: "center",
of: window,
collision: "fit",
using: function(t) {
var n = e(this).css(t).offset().top;
n < 0 && e(this).css("top", t.top - n);
}
},
resizable: !0,
show: null,
title: null,
width: 300,
beforeClose: null,
close: null,
drag: null,
dragStart: null,
dragStop: null,
focus: null,
open: null,
resize: null,
resizeStart: null,
resizeStop: null
},
sizeRelatedOptions: {
buttons: !0,
height: !0,
maxHeight: !0,
maxWidth: !0,
minHeight: !0,
minWidth: !0,
width: !0
},
resizableRelatedOptions: {
maxHeight: !0,
maxWidth: !0,
minHeight: !0,
minWidth: !0
},
_create: function() {
this.originalCss = {
display: this.element[0].style.display,
width: this.element[0].style.width,
minHeight: this.element[0].style.minHeight,
maxHeight: this.element[0].style.maxHeight,
height: this.element[0].style.height
}, this.originalPosition = {
parent: this.element.parent(),
index: this.element.parent().children().index(this.element)
}, this.originalTitle = this.element.attr("title"), null == this.options.title && null != this.originalTitle && (this.options.title = this.originalTitle), this.options.disabled && (this.options.disabled = !1), this._createWrapper(), this.element.show().removeAttr("title").appendTo(this.uiDialog), this._addClass("ui-dialog-content", "ui-widget-content"), this._createTitlebar(), this._createButtonPane(), this.options.draggable && e.fn.draggable && this._makeDraggable(), this.options.resizable && e.fn.resizable && this._makeResizable(), this._isOpen = !1, this._trackFocus();
},
_init: function() {
this.options.autoOpen && this.open();
},
_appendTo: function() {
var t = this.options.appendTo;
return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0);
},
_destroy: function() {
var e, t = this.originalPosition;
this._untrackInstance(), this._destroyOverlay(), this.element.removeUniqueId().css(this.originalCss).detach(), this.uiDialog.remove(), this.originalTitle && this.element.attr("title", this.originalTitle), (e = t.parent.children().eq(t.index)).length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element);
},
widget: function() {
return this.uiDialog;
},
disable: e.noop,
enable: e.noop,
close: function(t) {
var n = this;
this._isOpen && !1 !== this._trigger("beforeClose", t) && (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), this.opener.filter(":focusable").trigger("focus").length || e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])), this._hide(this.uiDialog, this.options.hide, function() {
n._trigger("close", t);
}));
},
isOpen: function() {
return this._isOpen;
},
moveToTop: function() {
this._moveToTop();
},
_moveToTop: function(t, n) {
var i = !1, r = this.uiDialog.siblings(".ui-front:visible").map(function() {
return +e(this).css("z-index");
}).get(), o = Math.max.apply(null, r);
return o >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", o + 1), i = !0), i && !n && this._trigger("focus", t), i;
},
open: function() {
var t = this;
this._isOpen ? this._moveToTop() && this._focusTabbable() : (this._isOpen = !0, this.opener = e(e.ui.safeActiveElement(this.document[0])), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, function() {
t._focusTabbable(), t._trigger("focus");
}), this._makeFocusTarget(), this._trigger("open"));
},
_focusTabbable: function() {
var e = this._focusedElement;
e || (e = this.element.find("[autofocus]")), e.length || (e = this.element.find(":tabbable")), e.length || (e = this.uiDialogButtonPane.find(":tabbable")), e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")), e.length || (e = this.uiDialog), e.eq(0).trigger("focus");
},
_keepFocus: function(t) {
function n() {
var t = e.ui.safeActiveElement(this.document[0]);
this.uiDialog[0] === t || e.contains(this.uiDialog[0], t) || this._focusTabbable();
}
t.preventDefault(), n.call(this), this._delay(n);
},
_createWrapper: function() {
this.uiDialog = e("<div>").hide().attr({
tabIndex: -1,
role: "dialog"
}).appendTo(this._appendTo()), this._addClass(this.uiDialog, "ui-dialog", "ui-widget ui-widget-content ui-front"), this._on(this.uiDialog, {
keydown: function(t) {
if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE) return t.preventDefault(), void this.close(t);
if (t.keyCode === e.ui.keyCode.TAB && !t.isDefaultPrevented()) {
var n = this.uiDialog.find(":tabbable"), i = n.filter(":first"), r = n.filter(":last");
t.target !== r[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== i[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (this._delay(function() {
r.trigger("focus");
}), t.preventDefault()) : (this._delay(function() {
i.trigger("focus");
}), t.preventDefault());
}
},
mousedown: function(e) {
this._moveToTop(e) && this._focusTabbable();
}
}), this.element.find("[aria-describedby]").length || this.uiDialog.attr({
"aria-describedby": this.element.uniqueId().attr("id")
});
},
_createTitlebar: function() {
var t;
this.uiDialogTitlebar = e("<div>"), this._addClass(this.uiDialogTitlebar, "ui-dialog-titlebar", "ui-widget-header ui-helper-clearfix"), this._on(this.uiDialogTitlebar, {
mousedown: function(t) {
e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.trigger("focus");
}
}), this.uiDialogTitlebarClose = e("<button type='button'></button>").button({
label: e("<a>").text(this.options.closeText).html(),
icon: "ui-icon-closethick",
showLabel: !1
}).appendTo(this.uiDialogTitlebar), this._addClass(this.uiDialogTitlebarClose, "ui-dialog-titlebar-close"), this._on(this.uiDialogTitlebarClose, {
click: function(e) {
e.preventDefault(), this.close(e);
}
}), t = e("<span>").uniqueId().prependTo(this.uiDialogTitlebar), this._addClass(t, "ui-dialog-title"), this._title(t), this.uiDialogTitlebar.prependTo(this.uiDialog), this.uiDialog.attr({
"aria-labelledby": t.attr("id")
});
},
_title: function(e) {
this.options.title ? e.text(this.options.title) : e.html("&#160;");
},
_createButtonPane: function() {
this.uiDialogButtonPane = e("<div>"), this._addClass(this.uiDialogButtonPane, "ui-dialog-buttonpane", "ui-widget-content ui-helper-clearfix"), this.uiButtonSet = e("<div>").appendTo(this.uiDialogButtonPane), this._addClass(this.uiButtonSet, "ui-dialog-buttonset"), this._createButtons();
},
_createButtons: function() {
var t = this, n = this.options.buttons;
this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), e.isEmptyObject(n) || e.isArray(n) && !n.length ? this._removeClass(this.uiDialog, "ui-dialog-buttons") : (e.each(n, function(n, i) {
var r, o;
i = e.isFunction(i) ? {
click: i,
text: n
} : i, i = e.extend({
type: "button"
}, i), r = i.click, o = {
icon: i.icon,
iconPosition: i.iconPosition,
showLabel: i.showLabel,
icons: i.icons,
text: i.text
}, delete i.click, delete i.icon, delete i.iconPosition, delete i.showLabel, delete i.icons, "boolean" == typeof i.text && delete i.text, e("<button></button>", i).button(o).appendTo(t.uiButtonSet).on("click", function() {
r.apply(t.element[0], arguments);
});
}), this._addClass(this.uiDialog, "ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog));
},
_makeDraggable: function() {
function t(e) {
return {
position: e.position,
offset: e.offset
};
}
var n = this, i = this.options;
this.uiDialog.draggable({
cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
handle: ".ui-dialog-titlebar",
containment: "document",
start: function(i, r) {
n._addClass(e(this), "ui-dialog-dragging"), n._blockFrames(), n._trigger("dragStart", i, t(r));
},
drag: function(e, i) {
n._trigger("drag", e, t(i));
},
stop: function(r, o) {
var a = o.offset.left - n.document.scrollLeft(), s = o.offset.top - n.document.scrollTop();
i.position = {
my: "left top",
at: "left" + (a >= 0 ? "+" : "") + a + " top" + (s >= 0 ? "+" : "") + s,
of: n.window
}, n._removeClass(e(this), "ui-dialog-dragging"), n._unblockFrames(), n._trigger("dragStop", r, t(o));
}
});
},
_makeResizable: function() {
function t(e) {
return {
originalPosition: e.originalPosition,
originalSize: e.originalSize,
position: e.position,
size: e.size
};
}
var n = this, i = this.options, r = i.resizable, o = this.uiDialog.css("position"), a = "string" == typeof r ? r : "n,e,s,w,se,sw,ne,nw";
this.uiDialog.resizable({
cancel: ".ui-dialog-content",
containment: "document",
alsoResize: this.element,
maxWidth: i.maxWidth,
maxHeight: i.maxHeight,
minWidth: i.minWidth,
minHeight: this._minHeight(),
handles: a,
start: function(i, r) {
n._addClass(e(this), "ui-dialog-resizing"), n._blockFrames(), n._trigger("resizeStart", i, t(r));
},
resize: function(e, i) {
n._trigger("resize", e, t(i));
},
stop: function(r, o) {
var a = n.uiDialog.offset(), s = a.left - n.document.scrollLeft(), l = a.top - n.document.scrollTop();
i.height = n.uiDialog.height(), i.width = n.uiDialog.width(), i.position = {
my: "left top",
at: "left" + (s >= 0 ? "+" : "") + s + " top" + (l >= 0 ? "+" : "") + l,
of: n.window
}, n._removeClass(e(this), "ui-dialog-resizing"), n._unblockFrames(), n._trigger("resizeStop", r, t(o));
}
}).css("position", o);
},
_trackFocus: function() {
this._on(this.widget(), {
focusin: function(t) {
this._makeFocusTarget(), this._focusedElement = e(t.target);
}
});
},
_makeFocusTarget: function() {
this._untrackInstance(), this._trackingInstances().unshift(this);
},
_untrackInstance: function() {
var t = this._trackingInstances(), n = e.inArray(this, t);
-1 !== n && t.splice(n, 1);
},
_trackingInstances: function() {
var e = this.document.data("ui-dialog-instances");
return e || (e = [], this.document.data("ui-dialog-instances", e)), e;
},
_minHeight: function() {
var e = this.options;
return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height);
},
_position: function() {
var e = this.uiDialog.is(":visible");
e || this.uiDialog.show(), this.uiDialog.position(this.options.position), e || this.uiDialog.hide();
},
_setOptions: function(t) {
var n = this, i = !1, r = {};
e.each(t, function(e, t) {
n._setOption(e, t), e in n.sizeRelatedOptions && (i = !0), e in n.resizableRelatedOptions && (r[e] = t);
}), i && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", r);
},
_setOption: function(t, n) {
var i, r, o = this.uiDialog;
"disabled" !== t && (this._super(t, n), "appendTo" === t && this.uiDialog.appendTo(this._appendTo()), "buttons" === t && this._createButtons(), "closeText" === t && this.uiDialogTitlebarClose.button({
label: e("<a>").text("" + this.options.closeText).html()
}), "draggable" === t && ((i = o.is(":data(ui-draggable)")) && !n && o.draggable("destroy"), !i && n && this._makeDraggable()), "position" === t && this._position(), "resizable" === t && ((r = o.is(":data(ui-resizable)")) && !n && o.resizable("destroy"), r && "string" == typeof n && o.resizable("option", "handles", n), r || !1 === n || this._makeResizable()), "title" === t && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")));
},
_size: function() {
var e, t, n, i = this.options;
this.element.show().css({
width: "auto",
minHeight: 0,
maxHeight: "none",
height: 0
}), i.minWidth > i.width && (i.width = i.minWidth), e = this.uiDialog.css({
height: "auto",
width: i.width
}).outerHeight(), t = Math.max(0, i.minHeight - e), n = "number" == typeof i.maxHeight ? Math.max(0, i.maxHeight - e) : "none", "auto" === i.height ? this.element.css({
minHeight: t,
maxHeight: n,
height: "auto"
}) : this.element.height(Math.max(0, i.height - e)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight());
},
_blockFrames: function() {
this.iframeBlocks = this.document.find("iframe").map(function() {
var t = e(this);
return e("<div>").css({
position: "absolute",
width: t.outerWidth(),
height: t.outerHeight()
}).appendTo(t.parent()).offset(t.offset())[0];
});
},
_unblockFrames: function() {
this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks);
},
_allowInteraction: function(t) {
return !!e(t.target).closest(".ui-dialog").length || !!e(t.target).closest(".ui-datepicker").length;
},
_createOverlay: function() {
if (this.options.modal) {
var t = !0;
this._delay(function() {
t = !1;
}), this.document.data("ui-dialog-overlays") || this._on(this.document, {
focusin: function(e) {
t || this._allowInteraction(e) || (e.preventDefault(), this._trackingInstances()[0]._focusTabbable());
}
}), this.overlay = e("<div>").appendTo(this._appendTo()), this._addClass(this.overlay, null, "ui-widget-overlay ui-front"), this._on(this.overlay, {
mousedown: "_keepFocus"
}), this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1);
}
},
_destroyOverlay: function() {
if (this.options.modal && this.overlay) {
var e = this.document.data("ui-dialog-overlays") - 1;
e ? this.document.data("ui-dialog-overlays", e) : (this._off(this.document, "focusin"), this.document.removeData("ui-dialog-overlays")), this.overlay.remove(), this.overlay = null;
}
}
}), !1 !== e.uiBackCompat && e.widget("ui.dialog", e.ui.dialog, {
options: {
dialogClass: ""
},
_createWrapper: function() {
this._super(), this.uiDialog.addClass(this.options.dialogClass);
},
_setOption: function(e, t) {
"dialogClass" === e && this.uiDialog.removeClass(this.options.dialogClass).addClass(t), this._superApply(arguments);
}
});
e.ui.dialog;
e.widget("ui.droppable", {
version: "1.12.1",
widgetEventPrefix: "drop",
options: {
accept: "*",
addClasses: !0,
greedy: !1,
scope: "default",
tolerance: "intersect",
activate: null,
deactivate: null,
drop: null,
out: null,
over: null
},
_create: function() {
var t, n = this.options, i = n.accept;
this.isover = !1, this.isout = !0, this.accept = e.isFunction(i) ? i : function(e) {
return e.is(i);
}, this.proportions = function() {
if (!arguments.length) return t || (t = {
width: this.element[0].offsetWidth,
height: this.element[0].offsetHeight
});
t = arguments[0];
}, this._addToManager(n.scope), n.addClasses && this._addClass("ui-droppable");
},
_addToManager: function(t) {
e.ui.ddmanager.droppables[t] = e.ui.ddmanager.droppables[t] || [], e.ui.ddmanager.droppables[t].push(this);
},
_splice: function(e) {
for (var t = 0; t < e.length; t++) e[t] === this && e.splice(t, 1);
},
_destroy: function() {
var t = e.ui.ddmanager.droppables[this.options.scope];
this._splice(t);
},
_setOption: function(t, n) {
if ("accept" === t) this.accept = e.isFunction(n) ? n : function(e) {
return e.is(n);
}; else if ("scope" === t) {
var i = e.ui.ddmanager.droppables[this.options.scope];
this._splice(i), this._addToManager(n);
}
this._super(t, n);
},
_activate: function(t) {
var n = e.ui.ddmanager.current;
this._addActiveClass(), n && this._trigger("activate", t, this.ui(n));
},
_deactivate: function(t) {
var n = e.ui.ddmanager.current;
this._removeActiveClass(), n && this._trigger("deactivate", t, this.ui(n));
},
_over: function(t) {
var n = e.ui.ddmanager.current;
n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this._addHoverClass(), this._trigger("over", t, this.ui(n)));
},
_out: function(t) {
var n = e.ui.ddmanager.current;
n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this._removeHoverClass(), this._trigger("out", t, this.ui(n)));
},
_drop: function(t, n) {
var i = n || e.ui.ddmanager.current, r = !1;
return !(!i || (i.currentItem || i.element)[0] === this.element[0]) && (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
var n = e(this).droppable("instance");
if (n.options.greedy && !n.options.disabled && n.options.scope === i.options.scope && n.accept.call(n.element[0], i.currentItem || i.element) && g(i, e.extend(n, {
offset: n.element.offset()
}), n.options.tolerance, t)) return r = !0, !1;
}), !r && (!!this.accept.call(this.element[0], i.currentItem || i.element) && (this._removeActiveClass(), this._removeHoverClass(), this._trigger("drop", t, this.ui(i)), this.element)));
},
ui: function(e) {
return {
draggable: e.currentItem || e.element,
helper: e.helper,
position: e.position,
offset: e.positionAbs
};
},
_addHoverClass: function() {
this._addClass("ui-droppable-hover");
},
_removeHoverClass: function() {
this._removeClass("ui-droppable-hover");
},
_addActiveClass: function() {
this._addClass("ui-droppable-active");
},
_removeActiveClass: function() {
this._removeClass("ui-droppable-active");
}
});
var g = e.ui.intersect = function() {
function e(e, t, n) {
return e >= t && e < t + n;
}
return function(t, n, i, r) {
if (!n.offset) return !1;
var o = (t.positionAbs || t.position.absolute).left + t.margins.left, a = (t.positionAbs || t.position.absolute).top + t.margins.top, s = o + t.helperProportions.width, l = a + t.helperProportions.height, c = n.offset.left, u = n.offset.top, d = c + n.proportions().width, h = u + n.proportions().height;
switch (i) {
case "fit":
return c <= o && s <= d && u <= a && l <= h;

case "intersect":
return c < o + t.helperProportions.width / 2 && s - t.helperProportions.width / 2 < d && u < a + t.helperProportions.height / 2 && l - t.helperProportions.height / 2 < h;

case "pointer":
return e(r.pageY, u, n.proportions().height) && e(r.pageX, c, n.proportions().width);

case "touch":
return (a >= u && a <= h || l >= u && l <= h || a < u && l > h) && (o >= c && o <= d || s >= c && s <= d || o < c && s > d);

default:
return !1;
}
};
}();
e.ui.ddmanager = {
current: null,
droppables: {
default: []
},
prepareOffsets: function(t, n) {
var i, r, o = e.ui.ddmanager.droppables[t.options.scope] || [], a = n ? n.type : null, s = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
e: for (i = 0; i < o.length; i++) if (!(o[i].options.disabled || t && !o[i].accept.call(o[i].element[0], t.currentItem || t.element))) {
for (r = 0; r < s.length; r++) if (s[r] === o[i].element[0]) {
o[i].proportions().height = 0;
continue e;
}
o[i].visible = "none" !== o[i].element.css("display"), o[i].visible && ("mousedown" === a && o[i]._activate.call(o[i], n), o[i].offset = o[i].element.offset(), o[i].proportions({
width: o[i].element[0].offsetWidth,
height: o[i].element[0].offsetHeight
}));
}
},
drop: function(t, n) {
var i = !1;
return e.each((e.ui.ddmanager.droppables[t.options.scope] || []).slice(), function() {
this.options && (!this.options.disabled && this.visible && g(t, this, this.options.tolerance, n) && (i = this._drop.call(this, n) || i), !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, n)));
}), i;
},
dragStart: function(t, n) {
t.element.parentsUntil("body").on("scroll.droppable", function() {
t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n);
});
},
drag: function(t, n) {
t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, n), e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function() {
if (!this.options.disabled && !this.greedyChild && this.visible) {
var i, r, o, a = g(t, this, this.options.tolerance, n), s = !a && this.isover ? "isout" : a && !this.isover ? "isover" : null;
s && (this.options.greedy && (r = this.options.scope, (o = this.element.parents(":data(ui-droppable)").filter(function() {
return e(this).droppable("instance").options.scope === r;
})).length && ((i = e(o[0]).droppable("instance")).greedyChild = "isover" === s)), i && "isover" === s && (i.isover = !1, i.isout = !0, i._out.call(i, n)), this[s] = !0, this["isout" === s ? "isover" : "isout"] = !1, this["isover" === s ? "_over" : "_out"].call(this, n), i && "isout" === s && (i.isout = !1, i.isover = !0, i._over.call(i, n)));
}
});
},
dragStop: function(t, n) {
t.element.parentsUntil("body").off("scroll.droppable"), t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n);
}
}, !1 !== e.uiBackCompat && e.widget("ui.droppable", e.ui.droppable, {
options: {
hoverClass: !1,
activeClass: !1
},
_addActiveClass: function() {
this._super(), this.options.activeClass && this.element.addClass(this.options.activeClass);
},
_removeActiveClass: function() {
this._super(), this.options.activeClass && this.element.removeClass(this.options.activeClass);
},
_addHoverClass: function() {
this._super(), this.options.hoverClass && this.element.addClass(this.options.hoverClass);
},
_removeHoverClass: function() {
this._super(), this.options.hoverClass && this.element.removeClass(this.options.hoverClass);
}
});
e.ui.droppable, e.widget("ui.progressbar", {
version: "1.12.1",
options: {
classes: {
"ui-progressbar": "ui-corner-all",
"ui-progressbar-value": "ui-corner-left",
"ui-progressbar-complete": "ui-corner-right"
},
max: 100,
value: 0,
change: null,
complete: null
},
min: 0,
_create: function() {
this.oldValue = this.options.value = this._constrainedValue(), this.element.attr({
role: "progressbar",
"aria-valuemin": this.min
}), this._addClass("ui-progressbar", "ui-widget ui-widget-content"), this.valueDiv = e("<div>").appendTo(this.element), this._addClass(this.valueDiv, "ui-progressbar-value", "ui-widget-header"), this._refreshValue();
},
_destroy: function() {
this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"), this.valueDiv.remove();
},
value: function(e) {
if (void 0 === e) return this.options.value;
this.options.value = this._constrainedValue(e), this._refreshValue();
},
_constrainedValue: function(e) {
return void 0 === e && (e = this.options.value), this.indeterminate = !1 === e, "number" != typeof e && (e = 0), !this.indeterminate && Math.min(this.options.max, Math.max(this.min, e));
},
_setOptions: function(e) {
var t = e.value;
delete e.value, this._super(e), this.options.value = this._constrainedValue(t), this._refreshValue();
},
_setOption: function(e, t) {
"max" === e && (t = Math.max(this.min, t)), this._super(e, t);
},
_setOptionDisabled: function(e) {
this._super(e), this.element.attr("aria-disabled", e), this._toggleClass(null, "ui-state-disabled", !!e);
},
_percentage: function() {
return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min);
},
_refreshValue: function() {
var t = this.options.value, n = this._percentage();
this.valueDiv.toggle(this.indeterminate || t > this.min).width(n.toFixed(0) + "%"), this._toggleClass(this.valueDiv, "ui-progressbar-complete", null, t === this.options.max)._toggleClass("ui-progressbar-indeterminate", null, this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = e("<div>").appendTo(this.valueDiv), this._addClass(this.overlayDiv, "ui-progressbar-overlay"))) : (this.element.attr({
"aria-valuemax": this.options.max,
"aria-valuenow": t
}), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== t && (this.oldValue = t, this._trigger("change")), t === this.options.max && this._trigger("complete");
}
}), e.widget("ui.selectable", e.ui.mouse, {
version: "1.12.1",
options: {
appendTo: "body",
autoRefresh: !0,
distance: 0,
filter: "*",
tolerance: "touch",
selected: null,
selecting: null,
start: null,
stop: null,
unselected: null,
unselecting: null
},
_create: function() {
var t = this;
this._addClass("ui-selectable"), this.dragged = !1, this.refresh = function() {
t.elementPos = e(t.element[0]).offset(), t.selectees = e(t.options.filter, t.element[0]), t._addClass(t.selectees, "ui-selectee"), t.selectees.each(function() {
var n = e(this), i = n.offset(), r = {
left: i.left - t.elementPos.left,
top: i.top - t.elementPos.top
};
e.data(this, "selectable-item", {
element: this,
$element: n,
left: r.left,
top: r.top,
right: r.left + n.outerWidth(),
bottom: r.top + n.outerHeight(),
startselected: !1,
selected: n.hasClass("ui-selected"),
selecting: n.hasClass("ui-selecting"),
unselecting: n.hasClass("ui-unselecting")
});
});
}, this.refresh(), this._mouseInit(), this.helper = e("<div>"), this._addClass(this.helper, "ui-selectable-helper");
},
_destroy: function() {
this.selectees.removeData("selectable-item"), this._mouseDestroy();
},
_mouseStart: function(t) {
var n = this, i = this.options;
this.opos = [ t.pageX, t.pageY ], this.elementPos = e(this.element[0]).offset(), this.options.disabled || (this.selectees = e(i.filter, this.element[0]), this._trigger("start", t), e(i.appendTo).append(this.helper), this.helper.css({
left: t.pageX,
top: t.pageY,
width: 0,
height: 0
}), i.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
var i = e.data(this, "selectable-item");
i.startselected = !0, t.metaKey || t.ctrlKey || (n._removeClass(i.$element, "ui-selected"), i.selected = !1, n._addClass(i.$element, "ui-unselecting"), i.unselecting = !0, n._trigger("unselecting", t, {
unselecting: i.element
}));
}), e(t.target).parents().addBack().each(function() {
var i, r = e.data(this, "selectable-item");
if (r) return i = !t.metaKey && !t.ctrlKey || !r.$element.hasClass("ui-selected"), n._removeClass(r.$element, i ? "ui-unselecting" : "ui-selected")._addClass(r.$element, i ? "ui-selecting" : "ui-unselecting"), r.unselecting = !i, r.selecting = i, r.selected = i, i ? n._trigger("selecting", t, {
selecting: r.element
}) : n._trigger("unselecting", t, {
unselecting: r.element
}), !1;
}));
},
_mouseDrag: function(t) {
if (this.dragged = !0, !this.options.disabled) {
var n, i = this, r = this.options, o = this.opos[0], a = this.opos[1], s = t.pageX, l = t.pageY;
return o > s && (n = s, s = o, o = n), a > l && (n = l, l = a, a = n), this.helper.css({
left: o,
top: a,
width: s - o,
height: l - a
}), this.selectees.each(function() {
var n = e.data(this, "selectable-item"), c = !1, u = {};
n && n.element !== i.element[0] && (u.left = n.left + i.elementPos.left, u.right = n.right + i.elementPos.left, u.top = n.top + i.elementPos.top, u.bottom = n.bottom + i.elementPos.top, "touch" === r.tolerance ? c = !(u.left > s || u.right < o || u.top > l || u.bottom < a) : "fit" === r.tolerance && (c = u.left > o && u.right < s && u.top > a && u.bottom < l), c ? (n.selected && (i._removeClass(n.$element, "ui-selected"), n.selected = !1), n.unselecting && (i._removeClass(n.$element, "ui-unselecting"), n.unselecting = !1), n.selecting || (i._addClass(n.$element, "ui-selecting"), n.selecting = !0, i._trigger("selecting", t, {
selecting: n.element
}))) : (n.selecting && ((t.metaKey || t.ctrlKey) && n.startselected ? (i._removeClass(n.$element, "ui-selecting"), n.selecting = !1, i._addClass(n.$element, "ui-selected"), n.selected = !0) : (i._removeClass(n.$element, "ui-selecting"), n.selecting = !1, n.startselected && (i._addClass(n.$element, "ui-unselecting"), n.unselecting = !0), i._trigger("unselecting", t, {
unselecting: n.element
}))), n.selected && (t.metaKey || t.ctrlKey || n.startselected || (i._removeClass(n.$element, "ui-selected"), n.selected = !1, i._addClass(n.$element, "ui-unselecting"), n.unselecting = !0, i._trigger("unselecting", t, {
unselecting: n.element
})))));
}), !1;
}
},
_mouseStop: function(t) {
var n = this;
return this.dragged = !1, e(".ui-unselecting", this.element[0]).each(function() {
var i = e.data(this, "selectable-item");
n._removeClass(i.$element, "ui-unselecting"), i.unselecting = !1, i.startselected = !1, n._trigger("unselected", t, {
unselected: i.element
});
}), e(".ui-selecting", this.element[0]).each(function() {
var i = e.data(this, "selectable-item");
n._removeClass(i.$element, "ui-selecting")._addClass(i.$element, "ui-selected"), i.selecting = !1, i.selected = !0, i.startselected = !0, n._trigger("selected", t, {
selected: i.element
});
}), this._trigger("stop", t), this.helper.remove(), !1;
}
}), e.widget("ui.selectmenu", [ e.ui.formResetMixin, {
version: "1.12.1",
defaultElement: "<select>",
options: {
appendTo: null,
classes: {
"ui-selectmenu-button-open": "ui-corner-top",
"ui-selectmenu-button-closed": "ui-corner-all"
},
disabled: null,
icons: {
button: "ui-icon-triangle-1-s"
},
position: {
my: "left top",
at: "left bottom",
collision: "none"
},
width: !1,
change: null,
close: null,
focus: null,
open: null,
select: null
},
_create: function() {
var t = this.element.uniqueId().attr("id");
this.ids = {
element: t,
button: t + "-button",
menu: t + "-menu"
}, this._drawButton(), this._drawMenu(), this._bindFormResetHandler(), this._rendered = !1, this.menuItems = e();
},
_drawButton: function() {
var t, n = this, i = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex);
this.labels = this.element.labels().attr("for", this.ids.button), this._on(this.labels, {
click: function(e) {
this.button.focus(), e.preventDefault();
}
}), this.element.hide(), this.button = e("<span>", {
tabindex: this.options.disabled ? -1 : 0,
id: this.ids.button,
role: "combobox",
"aria-expanded": "false",
"aria-autocomplete": "list",
"aria-owns": this.ids.menu,
"aria-haspopup": "true",
title: this.element.attr("title")
}).insertAfter(this.element), this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget"), t = e("<span>").appendTo(this.button), this._addClass(t, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button), this.buttonItem = this._renderButtonItem(i).appendTo(this.button), !1 !== this.options.width && this._resizeButton(), this._on(this.button, this._buttonEvents), this.button.one("focusin", function() {
n._rendered || n._refreshMenu();
});
},
_drawMenu: function() {
var t = this;
this.menu = e("<ul>", {
"aria-hidden": "true",
"aria-labelledby": this.ids.button,
id: this.ids.menu
}), this.menuWrap = e("<div>").append(this.menu), this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front"), this.menuWrap.appendTo(this._appendTo()), this.menuInstance = this.menu.menu({
classes: {
"ui-menu": "ui-corner-bottom"
},
role: "listbox",
select: function(e, n) {
e.preventDefault(), t._setSelection(), t._select(n.item.data("ui-selectmenu-item"), e);
},
focus: function(e, n) {
var i = n.item.data("ui-selectmenu-item");
null != t.focusIndex && i.index !== t.focusIndex && (t._trigger("focus", e, {
item: i
}), t.isOpen || t._select(i, e)), t.focusIndex = i.index, t.button.attr("aria-activedescendant", t.menuItems.eq(i.index).attr("id"));
}
}).menu("instance"), this.menuInstance._off(this.menu, "mouseleave"), this.menuInstance._closeOnDocumentClick = function() {
return !1;
}, this.menuInstance._isDivider = function() {
return !1;
};
},
refresh: function() {
this._refreshMenu(), this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {})), null === this.options.width && this._resizeButton();
},
_refreshMenu: function() {
var e, t = this.element.find("option");
this.menu.empty(), this._parseOptions(t), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"), this._rendered = !0, t.length && (e = this._getSelectedItem(), this.menuInstance.focus(null, e), this._setAria(e.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled")));
},
open: function(e) {
this.options.disabled || (this._rendered ? (this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.menuItems.length && (this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", e)));
},
_position: function() {
this.menuWrap.position(e.extend({
of: this.button
}, this.options.position));
},
close: function(e) {
this.isOpen && (this.isOpen = !1, this._toggleAttr(), this.range = null, this._off(this.document), this._trigger("close", e));
},
widget: function() {
return this.button;
},
menuWidget: function() {
return this.menu;
},
_renderButtonItem: function(t) {
var n = e("<span>");
return this._setText(n, t.label), this._addClass(n, "ui-selectmenu-text"), n;
},
_renderMenu: function(t, n) {
var i = this, r = "";
e.each(n, function(n, o) {
var a;
o.optgroup !== r && (a = e("<li>", {
text: o.optgroup
}), i._addClass(a, "ui-selectmenu-optgroup", "ui-menu-divider" + (o.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : "")), a.appendTo(t), r = o.optgroup), i._renderItemData(t, o);
});
},
_renderItemData: function(e, t) {
return this._renderItem(e, t).data("ui-selectmenu-item", t);
},
_renderItem: function(t, n) {
var i = e("<li>"), r = e("<div>", {
title: n.element.attr("title")
});
return n.disabled && this._addClass(i, null, "ui-state-disabled"), this._setText(r, n.label), i.append(r).appendTo(t);
},
_setText: function(e, t) {
t ? e.text(t) : e.html("&#160;");
},
_move: function(e, t) {
var n, i, r = ".ui-menu-item";
this.isOpen ? n = this.menuItems.eq(this.focusIndex).parent("li") : (n = this.menuItems.eq(this.element[0].selectedIndex).parent("li"), r += ":not(.ui-state-disabled)"), (i = "first" === e || "last" === e ? n["first" === e ? "prevAll" : "nextAll"](r).eq(-1) : n[e + "All"](r).eq(0)).length && this.menuInstance.focus(t, i);
},
_getSelectedItem: function() {
return this.menuItems.eq(this.element[0].selectedIndex).parent("li");
},
_toggle: function(e) {
this[this.isOpen ? "close" : "open"](e);
},
_setSelection: function() {
var e;
this.range && (window.getSelection ? ((e = window.getSelection()).removeAllRanges(), e.addRange(this.range)) : this.range.select(), this.button.focus());
},
_documentClick: {
mousedown: function(t) {
this.isOpen && (e(t.target).closest(".ui-selectmenu-menu, #" + e.ui.escapeSelector(this.ids.button)).length || this.close(t));
}
},
_buttonEvents: {
mousedown: function() {
var e;
window.getSelection ? (e = window.getSelection()).rangeCount && (this.range = e.getRangeAt(0)) : this.range = document.selection.createRange();
},
click: function(e) {
this._setSelection(), this._toggle(e);
},
keydown: function(t) {
var n = !0;
switch (t.keyCode) {
case e.ui.keyCode.TAB:
case e.ui.keyCode.ESCAPE:
this.close(t), n = !1;
break;

case e.ui.keyCode.ENTER:
this.isOpen && this._selectFocusedItem(t);
break;

case e.ui.keyCode.UP:
t.altKey ? this._toggle(t) : this._move("prev", t);
break;

case e.ui.keyCode.DOWN:
t.altKey ? this._toggle(t) : this._move("next", t);
break;

case e.ui.keyCode.SPACE:
this.isOpen ? this._selectFocusedItem(t) : this._toggle(t);
break;

case e.ui.keyCode.LEFT:
this._move("prev", t);
break;

case e.ui.keyCode.RIGHT:
this._move("next", t);
break;

case e.ui.keyCode.HOME:
case e.ui.keyCode.PAGE_UP:
this._move("first", t);
break;

case e.ui.keyCode.END:
case e.ui.keyCode.PAGE_DOWN:
this._move("last", t);
break;

default:
this.menu.trigger(t), n = !1;
}
n && t.preventDefault();
}
},
_selectFocusedItem: function(e) {
var t = this.menuItems.eq(this.focusIndex).parent("li");
t.hasClass("ui-state-disabled") || this._select(t.data("ui-selectmenu-item"), e);
},
_select: function(e, t) {
var n = this.element[0].selectedIndex;
this.element[0].selectedIndex = e.index, this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(e)), this._setAria(e), this._trigger("select", t, {
item: e
}), e.index !== n && this._trigger("change", t, {
item: e
}), this.close(t);
},
_setAria: function(e) {
var t = this.menuItems.eq(e.index).attr("id");
this.button.attr({
"aria-labelledby": t,
"aria-activedescendant": t
}), this.menu.attr("aria-activedescendant", t);
},
_setOption: function(e, t) {
if ("icons" === e) {
var n = this.button.find("span.ui-icon");
this._removeClass(n, null, this.options.icons.button)._addClass(n, null, t.button);
}
this._super(e, t), "appendTo" === e && this.menuWrap.appendTo(this._appendTo()), "width" === e && this._resizeButton();
},
_setOptionDisabled: function(e) {
this._super(e), this.menuInstance.option("disabled", e), this.button.attr("aria-disabled", e), this._toggleClass(this.button, null, "ui-state-disabled", e), this.element.prop("disabled", e), e ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0);
},
_appendTo: function() {
var t = this.options.appendTo;
return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)), t && t[0] || (t = this.element.closest(".ui-front, dialog")), t.length || (t = this.document[0].body), t;
},
_toggleAttr: function() {
this.button.attr("aria-expanded", this.isOpen), this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen), this.menu.attr("aria-hidden", !this.isOpen);
},
_resizeButton: function() {
var e = this.options.width;
!1 !== e ? (null === e && (e = this.element.show().outerWidth(), this.element.hide()), this.button.outerWidth(e)) : this.button.css("width", "");
},
_resizeMenu: function() {
this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1));
},
_getCreateOptions: function() {
var e = this._super();
return e.disabled = this.element.prop("disabled"), e;
},
_parseOptions: function(t) {
var n = this, i = [];
t.each(function(t, r) {
i.push(n._parseOption(e(r), t));
}), this.items = i;
},
_parseOption: function(e, t) {
var n = e.parent("optgroup");
return {
element: e,
index: t,
value: e.val(),
label: e.text(),
optgroup: n.attr("label") || "",
disabled: n.prop("disabled") || e.prop("disabled")
};
},
_destroy: function() {
this._unbindFormResetHandler(), this.menuWrap.remove(), this.button.remove(), this.element.show(), this.element.removeUniqueId(), this.labels.attr("for", this.ids.element);
}
} ]), e.widget("ui.slider", e.ui.mouse, {
version: "1.12.1",
widgetEventPrefix: "slide",
options: {
animate: !1,
classes: {
"ui-slider": "ui-corner-all",
"ui-slider-handle": "ui-corner-all",
"ui-slider-range": "ui-corner-all ui-widget-header"
},
distance: 0,
max: 100,
min: 0,
orientation: "horizontal",
range: !1,
step: 1,
value: 0,
values: null,
change: null,
slide: null,
start: null,
stop: null
},
numPages: 5,
_create: function() {
this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content"), this._refresh(), this._animateOff = !1;
},
_refresh: function() {
this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue();
},
_createHandles: function() {
var t, n, i = this.options, r = this.element.find(".ui-slider-handle"), o = [];
for (n = i.values && i.values.length || 1, r.length > n && (r.slice(n).remove(), r = r.slice(0, n)), t = r.length; t < n; t++) o.push("<span tabindex='0'></span>");
this.handles = r.add(e(o.join("")).appendTo(this.element)), this._addClass(this.handles, "ui-slider-handle", "ui-state-default"), this.handle = this.handles.eq(0), this.handles.each(function(t) {
e(this).data("ui-slider-handle-index", t).attr("tabIndex", 0);
});
},
_createRange: function() {
var t = this.options;
t.range ? (!0 === t.range && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [ t.values[0], t.values[0] ] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [ this._valueMin(), this._valueMin() ]), this.range && this.range.length ? (this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max"), this.range.css({
left: "",
bottom: ""
})) : (this.range = e("<div>").appendTo(this.element), this._addClass(this.range, "ui-slider-range")), "min" !== t.range && "max" !== t.range || this._addClass(this.range, "ui-slider-range-" + t.range)) : (this.range && this.range.remove(), this.range = null);
},
_setupEvents: function() {
this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles);
},
_destroy: function() {
this.handles.remove(), this.range && this.range.remove(), this._mouseDestroy();
},
_mouseCapture: function(t) {
var n, i, r, o, a, s, l, c = this, u = this.options;
return !u.disabled && (this.elementSize = {
width: this.element.outerWidth(),
height: this.element.outerHeight()
}, this.elementOffset = this.element.offset(), n = {
x: t.pageX,
y: t.pageY
}, i = this._normValueFromMouse(n), r = this._valueMax() - this._valueMin() + 1, this.handles.each(function(t) {
var n = Math.abs(i - c.values(t));
(r > n || r === n && (t === c._lastChangedValue || c.values(t) === u.min)) && (r = n, o = e(this), a = t);
}), !1 !== this._start(t, a) && (this._mouseSliding = !0, this._handleIndex = a, this._addClass(o, null, "ui-state-active"), o.trigger("focus"), s = o.offset(), l = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = l ? {
left: 0,
top: 0
} : {
left: t.pageX - s.left - o.width() / 2,
top: t.pageY - s.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
}, this.handles.hasClass("ui-state-hover") || this._slide(t, a, i), this._animateOff = !0, !0));
},
_mouseStart: function() {
return !0;
},
_mouseDrag: function(e) {
var t = {
x: e.pageX,
y: e.pageY
}, n = this._normValueFromMouse(t);
return this._slide(e, this._handleIndex, n), !1;
},
_mouseStop: function(e) {
return this._removeClass(this.handles, null, "ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1;
},
_detectOrientation: function() {
this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal";
},
_normValueFromMouse: function(e) {
var t, n, i, r, o;
return "horizontal" === this.orientation ? (t = this.elementSize.width, n = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, n = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), (i = n / t) > 1 && (i = 1), i < 0 && (i = 0), "vertical" === this.orientation && (i = 1 - i), r = this._valueMax() - this._valueMin(), o = this._valueMin() + i * r, this._trimAlignValue(o);
},
_uiHash: function(e, t, n) {
var i = {
handle: this.handles[e],
handleIndex: e,
value: void 0 !== t ? t : this.value()
};
return this._hasMultipleValues() && (i.value = void 0 !== t ? t : this.values(e), i.values = n || this.values()), i;
},
_hasMultipleValues: function() {
return this.options.values && this.options.values.length;
},
_start: function(e, t) {
return this._trigger("start", e, this._uiHash(t));
},
_slide: function(e, t, n) {
var i, r = this.value(), o = this.values();
this._hasMultipleValues() && (i = this.values(t ? 0 : 1), r = this.values(t), 2 === this.options.values.length && !0 === this.options.range && (n = 0 === t ? Math.min(i, n) : Math.max(i, n)), o[t] = n), n !== r && !1 !== this._trigger("slide", e, this._uiHash(t, n, o)) && (this._hasMultipleValues() ? this.values(t, n) : this.value(n));
},
_stop: function(e, t) {
this._trigger("stop", e, this._uiHash(t));
},
_change: function(e, t) {
this._keySliding || this._mouseSliding || (this._lastChangedValue = t, this._trigger("change", e, this._uiHash(t)));
},
value: function(e) {
return arguments.length ? (this.options.value = this._trimAlignValue(e), this._refreshValue(), void this._change(null, 0)) : this._value();
},
values: function(t, n) {
var i, r, o;
if (arguments.length > 1) return this.options.values[t] = this._trimAlignValue(n), this._refreshValue(), void this._change(null, t);
if (!arguments.length) return this._values();
if (!e.isArray(arguments[0])) return this._hasMultipleValues() ? this._values(t) : this.value();
for (i = this.options.values, r = arguments[0], o = 0; o < i.length; o += 1) i[o] = this._trimAlignValue(r[o]), this._change(null, o);
this._refreshValue();
},
_setOption: function(t, n) {
var i, r = 0;
switch ("range" === t && !0 === this.options.range && ("min" === n ? (this.options.value = this._values(0), this.options.values = null) : "max" === n && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), e.isArray(this.options.values) && (r = this.options.values.length), this._super(t, n), t) {
case "orientation":
this._detectOrientation(), this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation), this._refreshValue(), this.options.range && this._refreshRange(n), this.handles.css("horizontal" === n ? "bottom" : "left", "");
break;

case "value":
this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
break;

case "values":
for (this._animateOff = !0, this._refreshValue(), i = r - 1; i >= 0; i--) this._change(null, i);
this._animateOff = !1;
break;

case "step":
case "min":
case "max":
this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1;
break;

case "range":
this._animateOff = !0, this._refresh(), this._animateOff = !1;
}
},
_setOptionDisabled: function(e) {
this._super(e), this._toggleClass(null, "ui-state-disabled", !!e);
},
_value: function() {
var e = this.options.value;
return e = this._trimAlignValue(e);
},
_values: function(e) {
var t, n, i;
if (arguments.length) return t = this.options.values[e], t = this._trimAlignValue(t);
if (this._hasMultipleValues()) {
for (n = this.options.values.slice(), i = 0; i < n.length; i += 1) n[i] = this._trimAlignValue(n[i]);
return n;
}
return [];
},
_trimAlignValue: function(e) {
if (e <= this._valueMin()) return this._valueMin();
if (e >= this._valueMax()) return this._valueMax();
var t = this.options.step > 0 ? this.options.step : 1, n = (e - this._valueMin()) % t, i = e - n;
return 2 * Math.abs(n) >= t && (i += n > 0 ? t : -t), parseFloat(i.toFixed(5));
},
_calculateNewMax: function() {
var e = this.options.max, t = this._valueMin(), n = this.options.step;
(e = Math.round((e - t) / n) * n + t) > this.options.max && (e -= n), this.max = parseFloat(e.toFixed(this._precision()));
},
_precision: function() {
var e = this._precisionOf(this.options.step);
return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))), e;
},
_precisionOf: function(e) {
var t = e.toString(), n = t.indexOf(".");
return -1 === n ? 0 : t.length - n - 1;
},
_valueMin: function() {
return this.options.min;
},
_valueMax: function() {
return this.max;
},
_refreshRange: function(e) {
"vertical" === e && this.range.css({
width: "",
left: ""
}), "horizontal" === e && this.range.css({
height: "",
bottom: ""
});
},
_refreshValue: function() {
var t, n, i, r, o, a = this.options.range, s = this.options, l = this, c = !this._animateOff && s.animate, u = {};
this._hasMultipleValues() ? this.handles.each(function(i) {
n = (l.values(i) - l._valueMin()) / (l._valueMax() - l._valueMin()) * 100, u["horizontal" === l.orientation ? "left" : "bottom"] = n + "%", e(this).stop(1, 1)[c ? "animate" : "css"](u, s.animate), !0 === l.options.range && ("horizontal" === l.orientation ? (0 === i && l.range.stop(1, 1)[c ? "animate" : "css"]({
left: n + "%"
}, s.animate), 1 === i && l.range[c ? "animate" : "css"]({
width: n - t + "%"
}, {
queue: !1,
duration: s.animate
})) : (0 === i && l.range.stop(1, 1)[c ? "animate" : "css"]({
bottom: n + "%"
}, s.animate), 1 === i && l.range[c ? "animate" : "css"]({
height: n - t + "%"
}, {
queue: !1,
duration: s.animate
}))), t = n;
}) : (i = this.value(), r = this._valueMin(), o = this._valueMax(), n = o !== r ? (i - r) / (o - r) * 100 : 0, u["horizontal" === this.orientation ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[c ? "animate" : "css"](u, s.animate), "min" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
width: n + "%"
}, s.animate), "max" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
width: 100 - n + "%"
}, s.animate), "min" === a && "vertical" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
height: n + "%"
}, s.animate), "max" === a && "vertical" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
height: 100 - n + "%"
}, s.animate));
},
_handleEvents: {
keydown: function(t) {
var n, i, r, o = e(t.target).data("ui-slider-handle-index");
switch (t.keyCode) {
case e.ui.keyCode.HOME:
case e.ui.keyCode.END:
case e.ui.keyCode.PAGE_UP:
case e.ui.keyCode.PAGE_DOWN:
case e.ui.keyCode.UP:
case e.ui.keyCode.RIGHT:
case e.ui.keyCode.DOWN:
case e.ui.keyCode.LEFT:
if (t.preventDefault(), !this._keySliding && (this._keySliding = !0, this._addClass(e(t.target), null, "ui-state-active"), !1 === this._start(t, o))) return;
}
switch (r = this.options.step, n = i = this._hasMultipleValues() ? this.values(o) : this.value(), t.keyCode) {
case e.ui.keyCode.HOME:
i = this._valueMin();
break;

case e.ui.keyCode.END:
i = this._valueMax();
break;

case e.ui.keyCode.PAGE_UP:
i = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / this.numPages);
break;

case e.ui.keyCode.PAGE_DOWN:
i = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / this.numPages);
break;

case e.ui.keyCode.UP:
case e.ui.keyCode.RIGHT:
if (n === this._valueMax()) return;
i = this._trimAlignValue(n + r);
break;

case e.ui.keyCode.DOWN:
case e.ui.keyCode.LEFT:
if (n === this._valueMin()) return;
i = this._trimAlignValue(n - r);
}
this._slide(t, o, i);
},
keyup: function(t) {
var n = e(t.target).data("ui-slider-handle-index");
this._keySliding && (this._keySliding = !1, this._stop(t, n), this._change(t, n), this._removeClass(e(t.target), null, "ui-state-active"));
}
}
}), e.widget("ui.sortable", e.ui.mouse, {
version: "1.12.1",
widgetEventPrefix: "sort",
ready: !1,
options: {
appendTo: "parent",
axis: !1,
connectWith: !1,
containment: !1,
cursor: "auto",
cursorAt: !1,
dropOnEmpty: !0,
forcePlaceholderSize: !1,
forceHelperSize: !1,
grid: !1,
handle: !1,
helper: "original",
items: "> *",
opacity: !1,
placeholder: !1,
revert: !1,
scroll: !0,
scrollSensitivity: 20,
scrollSpeed: 20,
scope: "default",
tolerance: "intersect",
zIndex: 1e3,
activate: null,
beforeStop: null,
change: null,
deactivate: null,
out: null,
over: null,
receive: null,
remove: null,
sort: null,
start: null,
stop: null,
update: null
},
_isOverAxis: function(e, t, n) {
return e >= t && e < t + n;
},
_isFloating: function(e) {
return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"));
},
_create: function() {
this.containerCache = {}, this._addClass("ui-sortable"), this.refresh(), this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0;
},
_setOption: function(e, t) {
this._super(e, t), "handle" === e && this._setHandleClassName();
},
_setHandleClassName: function() {
var t = this;
this._removeClass(this.element.find(".ui-sortable-handle"), "ui-sortable-handle"), e.each(this.items, function() {
t._addClass(this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item, "ui-sortable-handle");
});
},
_destroy: function() {
this._mouseDestroy();
for (var e = this.items.length - 1; e >= 0; e--) this.items[e].item.removeData(this.widgetName + "-item");
return this;
},
_mouseCapture: function(t, n) {
var i = null, r = !1, o = this;
return !this.reverting && (!this.options.disabled && "static" !== this.options.type && (this._refreshItems(t), e(t.target).parents().each(function() {
if (e.data(this, o.widgetName + "-item") === o) return i = e(this), !1;
}), e.data(t.target, o.widgetName + "-item") === o && (i = e(t.target)), !!i && (!(this.options.handle && !n && (e(this.options.handle, i).find("*").addBack().each(function() {
this === t.target && (r = !0);
}), !r)) && (this.currentItem = i, this._removeCurrentsFromItems(), !0))));
},
_mouseStart: function(t, n, i) {
var r, o, a = this.options;
if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(t), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
top: this.offset.top - this.margins.top,
left: this.offset.left - this.margins.left
}, e.extend(this.offset, {
click: {
left: t.pageX - this.offset.left,
top: t.pageY - this.offset.top
},
parent: this._getParentOffset(),
relative: this._getRelativeOffset()
}), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt), this.domPosition = {
prev: this.currentItem.prev()[0],
parent: this.currentItem.parent()[0]
}, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), a.containment && this._setContainment(), a.cursor && "auto" !== a.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", a.cursor), this.storedStylesheet = e("<style>*{ cursor: " + a.cursor + " !important; }</style>").appendTo(o)), a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", a.opacity)), a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", a.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", t, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !i) for (r = this.containers.length - 1; r >= 0; r--) this.containers[r]._trigger("activate", t, this._uiHash(this));
return e.ui.ddmanager && (e.ui.ddmanager.current = this), e.ui.ddmanager && !a.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this.dragging = !0, this._addClass(this.helper, "ui-sortable-helper"), this._mouseDrag(t), !0;
},
_mouseDrag: function(t) {
var n, i, r, o, a = this.options, s = !1;
for (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop = s = this.scrollParent[0].scrollTop + a.scrollSpeed : t.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[0].scrollTop = s = this.scrollParent[0].scrollTop - a.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = s = this.scrollParent[0].scrollLeft + a.scrollSpeed : t.pageX - this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = s = this.scrollParent[0].scrollLeft - a.scrollSpeed)) : (t.pageY - this.document.scrollTop() < a.scrollSensitivity ? s = this.document.scrollTop(this.document.scrollTop() - a.scrollSpeed) : this.window.height() - (t.pageY - this.document.scrollTop()) < a.scrollSensitivity && (s = this.document.scrollTop(this.document.scrollTop() + a.scrollSpeed)), 
t.pageX - this.document.scrollLeft() < a.scrollSensitivity ? s = this.document.scrollLeft(this.document.scrollLeft() - a.scrollSpeed) : this.window.width() - (t.pageX - this.document.scrollLeft()) < a.scrollSensitivity && (s = this.document.scrollLeft(this.document.scrollLeft() + a.scrollSpeed))), !1 !== s && e.ui.ddmanager && !a.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), n = this.items.length - 1; n >= 0; n--) if (i = this.items[n], r = i.item[0], (o = this._intersectsWithPointer(i)) && i.instance === this.currentContainer && !(r === this.currentItem[0] || this.placeholder[1 === o ? "next" : "prev"]()[0] === r || e.contains(this.placeholder[0], r) || "semi-dynamic" === this.options.type && e.contains(this.element[0], r))) {
if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(i)) break;
this._rearrange(t, i), this._trigger("change", t, this._uiHash());
break;
}
return this._contactContainers(t), e.ui.ddmanager && e.ui.ddmanager.drag(this, t), this._trigger("sort", t, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1;
},
_mouseStop: function(t, n) {
if (t) {
if (e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t), this.options.revert) {
var i = this, r = this.placeholder.offset(), o = this.options.axis, a = {};
o && "x" !== o || (a.left = r.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (a.top = r.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, e(this.helper).animate(a, parseInt(this.options.revert, 10) || 500, function() {
i._clear(t);
});
} else this._clear(t, n);
return !1;
}
},
cancel: function() {
if (this.dragging) {
this._mouseUp(new e.Event("mouseup", {
target: null
})), "original" === this.options.helper ? (this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper")) : this.currentItem.show();
for (var t = this.containers.length - 1; t >= 0; t--) this.containers[t]._trigger("deactivate", null, this._uiHash(this)), this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)), this.containers[t].containerCache.over = 0);
}
return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), e.extend(this, {
helper: null,
dragging: !1,
reverting: !1,
_noFinalSort: null
}), this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)), this;
},
serialize: function(t) {
var n = this._getItemsAsjQuery(t && t.connected), i = [];
return t = t || {}, e(n).each(function() {
var n = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
n && i.push((t.key || n[1] + "[]") + "=" + (t.key && t.expression ? n[1] : n[2]));
}), !i.length && t.key && i.push(t.key + "="), i.join("&");
},
toArray: function(t) {
var n = this._getItemsAsjQuery(t && t.connected), i = [];
return t = t || {}, n.each(function() {
i.push(e(t.item || this).attr(t.attribute || "id") || "");
}), i;
},
_intersectsWith: function(e) {
var t = this.positionAbs.left, n = t + this.helperProportions.width, i = this.positionAbs.top, r = i + this.helperProportions.height, o = e.left, a = o + e.width, s = e.top, l = s + e.height, c = this.offset.click.top, u = this.offset.click.left, d = "x" === this.options.axis || i + c > s && i + c < l, h = "y" === this.options.axis || t + u > o && t + u < a, f = d && h;
return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"] ? f : o < t + this.helperProportions.width / 2 && n - this.helperProportions.width / 2 < a && s < i + this.helperProportions.height / 2 && r - this.helperProportions.height / 2 < l;
},
_intersectsWithPointer: function(e) {
var t, n, i = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top, e.height), r = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left, e.width);
return !(!i || !r) && (t = this._getDragVerticalDirection(), n = this._getDragHorizontalDirection(), this.floating ? "right" === n || "down" === t ? 2 : 1 : t && ("down" === t ? 2 : 1));
},
_intersectsWithSides: function(e) {
var t = this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height), n = this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width), i = this._getDragVerticalDirection(), r = this._getDragHorizontalDirection();
return this.floating && r ? "right" === r && n || "left" === r && !n : i && ("down" === i && t || "up" === i && !t);
},
_getDragVerticalDirection: function() {
var e = this.positionAbs.top - this.lastPositionAbs.top;
return 0 !== e && (e > 0 ? "down" : "up");
},
_getDragHorizontalDirection: function() {
var e = this.positionAbs.left - this.lastPositionAbs.left;
return 0 !== e && (e > 0 ? "right" : "left");
},
refresh: function(e) {
return this._refreshItems(e), this._setHandleClassName(), this.refreshPositions(), this;
},
_connectWith: function() {
var e = this.options;
return e.connectWith.constructor === String ? [ e.connectWith ] : e.connectWith;
},
_getItemsAsjQuery: function(t) {
var n, i, r, o, a = [], s = [], l = this._connectWith();
if (l && t) for (n = l.length - 1; n >= 0; n--) for (i = (r = e(l[n], this.document[0])).length - 1; i >= 0; i--) (o = e.data(r[i], this.widgetFullName)) && o !== this && !o.options.disabled && s.push([ e.isFunction(o.options.items) ? o.options.items.call(o.element) : e(o.options.items, o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), o ]);
for (s.push([ e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
options: this.options,
item: this.currentItem
}) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this ]), n = s.length - 1; n >= 0; n--) s[n][0].each(function() {
a.push(this);
});
return e(a);
},
_removeCurrentsFromItems: function() {
var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
this.items = e.grep(this.items, function(e) {
for (var n = 0; n < t.length; n++) if (t[n] === e.item[0]) return !1;
return !0;
});
},
_refreshItems: function(t) {
this.items = [], this.containers = [ this ];
var n, i, r, o, a, s, l, c, u = this.items, d = [ [ e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
item: this.currentItem
}) : e(this.options.items, this.element), this ] ], h = this._connectWith();
if (h && this.ready) for (n = h.length - 1; n >= 0; n--) for (i = (r = e(h[n], this.document[0])).length - 1; i >= 0; i--) (o = e.data(r[i], this.widgetFullName)) && o !== this && !o.options.disabled && (d.push([ e.isFunction(o.options.items) ? o.options.items.call(o.element[0], t, {
item: this.currentItem
}) : e(o.options.items, o.element), o ]), this.containers.push(o));
for (n = d.length - 1; n >= 0; n--) for (a = d[n][1], i = 0, c = (s = d[n][0]).length; i < c; i++) (l = e(s[i])).data(this.widgetName + "-item", a), u.push({
item: l,
instance: a,
width: 0,
height: 0,
left: 0,
top: 0
});
},
refreshPositions: function(t) {
this.floating = !!this.items.length && ("x" === this.options.axis || this._isFloating(this.items[0].item)), this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
var n, i, r, o;
for (n = this.items.length - 1; n >= 0; n--) (i = this.items[n]).instance !== this.currentContainer && this.currentContainer && i.item[0] !== this.currentItem[0] || (r = this.options.toleranceElement ? e(this.options.toleranceElement, i.item) : i.item, t || (i.width = r.outerWidth(), i.height = r.outerHeight()), o = r.offset(), i.left = o.left, i.top = o.top);
if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this); else for (n = this.containers.length - 1; n >= 0; n--) o = this.containers[n].element.offset(), this.containers[n].containerCache.left = o.left, this.containers[n].containerCache.top = o.top, this.containers[n].containerCache.width = this.containers[n].element.outerWidth(), this.containers[n].containerCache.height = this.containers[n].element.outerHeight();
return this;
},
_createPlaceholder: function(t) {
var n, i = (t = t || this).options;
i.placeholder && i.placeholder.constructor !== String || (n = i.placeholder, i.placeholder = {
element: function() {
var i = t.currentItem[0].nodeName.toLowerCase(), r = e("<" + i + ">", t.document[0]);
return t._addClass(r, "ui-sortable-placeholder", n || t.currentItem[0].className)._removeClass(r, "ui-sortable-helper"), "tbody" === i ? t._createTrPlaceholder(t.currentItem.find("tr").eq(0), e("<tr>", t.document[0]).appendTo(r)) : "tr" === i ? t._createTrPlaceholder(t.currentItem, r) : "img" === i && r.attr("src", t.currentItem.attr("src")), n || r.css("visibility", "hidden"), r;
},
update: function(e, r) {
n && !i.forcePlaceholderSize || (r.height() || r.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)), r.width() || r.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10)));
}
}), t.placeholder = e(i.placeholder.element.call(t.element, t.currentItem)), t.currentItem.after(t.placeholder), i.placeholder.update(t, t.placeholder);
},
_createTrPlaceholder: function(t, n) {
var i = this;
t.children().each(function() {
e("<td>&#160;</td>", i.document[0]).attr("colspan", e(this).attr("colspan") || 1).appendTo(n);
});
},
_contactContainers: function(t) {
var n, i, r, o, a, s, l, c, u, d, h = null, f = null;
for (n = this.containers.length - 1; n >= 0; n--) if (!e.contains(this.currentItem[0], this.containers[n].element[0])) if (this._intersectsWith(this.containers[n].containerCache)) {
if (h && e.contains(this.containers[n].element[0], h.element[0])) continue;
h = this.containers[n], f = n;
} else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", t, this._uiHash(this)), this.containers[n].containerCache.over = 0);
if (h) if (1 === this.containers.length) this.containers[f].containerCache.over || (this.containers[f]._trigger("over", t, this._uiHash(this)), this.containers[f].containerCache.over = 1); else {
for (r = 1e4, o = null, a = (u = h.floating || this._isFloating(this.currentItem)) ? "left" : "top", s = u ? "width" : "height", d = u ? "pageX" : "pageY", i = this.items.length - 1; i >= 0; i--) e.contains(this.containers[f].element[0], this.items[i].item[0]) && this.items[i].item[0] !== this.currentItem[0] && (l = this.items[i].item.offset()[a], c = !1, t[d] - l > this.items[i][s] / 2 && (c = !0), Math.abs(t[d] - l) < r && (r = Math.abs(t[d] - l), o = this.items[i], this.direction = c ? "up" : "down"));
if (!o && !this.options.dropOnEmpty) return;
if (this.currentContainer === this.containers[f]) return void (this.currentContainer.containerCache.over || (this.containers[f]._trigger("over", t, this._uiHash()), this.currentContainer.containerCache.over = 1));
o ? this._rearrange(t, o, null, !0) : this._rearrange(t, null, this.containers[f].element, !0), this._trigger("change", t, this._uiHash()), this.containers[f]._trigger("change", t, this._uiHash(this)), this.currentContainer = this.containers[f], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[f]._trigger("over", t, this._uiHash(this)), this.containers[f].containerCache.over = 1;
}
},
_createHelper: function(t) {
var n = this.options, i = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [ t, this.currentItem ])) : "clone" === n.helper ? this.currentItem.clone() : this.currentItem;
return i.parents("body").length || e("parent" !== n.appendTo ? n.appendTo : this.currentItem[0].parentNode)[0].appendChild(i[0]), i[0] === this.currentItem[0] && (this._storedCSS = {
width: this.currentItem[0].style.width,
height: this.currentItem[0].style.height,
position: this.currentItem.css("position"),
top: this.currentItem.css("top"),
left: this.currentItem.css("left")
}), i[0].style.width && !n.forceHelperSize || i.width(this.currentItem.width()), i[0].style.height && !n.forceHelperSize || i.height(this.currentItem.height()), i;
},
_adjustOffsetFromHelper: function(t) {
"string" == typeof t && (t = t.split(" ")), e.isArray(t) && (t = {
left: +t[0],
top: +t[1] || 0
}), "left" in t && (this.offset.click.left = t.left + this.margins.left), "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), "top" in t && (this.offset.click.top = t.top + this.margins.top), "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top);
},
_getParentOffset: function() {
this.offsetParent = this.helper.offsetParent();
var t = this.offsetParent.offset();
return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
top: 0,
left: 0
}), {
top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
};
},
_getRelativeOffset: function() {
if ("relative" === this.cssPosition) {
var e = this.currentItem.position();
return {
top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
};
}
return {
top: 0,
left: 0
};
},
_cacheMargins: function() {
this.margins = {
left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
top: parseInt(this.currentItem.css("marginTop"), 10) || 0
};
},
_cacheHelperProportions: function() {
this.helperProportions = {
width: this.helper.outerWidth(),
height: this.helper.outerHeight()
};
},
_setContainment: function() {
var t, n, i, r = this.options;
"parent" === r.containment && (r.containment = this.helper[0].parentNode), "document" !== r.containment && "window" !== r.containment || (this.containment = [ 0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === r.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === r.containment ? this.document.height() || document.body.parentNode.scrollHeight : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top ]), /^(document|window|parent)$/.test(r.containment) || (t = e(r.containment)[0], n = e(r.containment).offset(), i = "hidden" !== e(t).css("overflow"), this.containment = [ n.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, n.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, n.left + (i ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, n.top + (i ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top ]);
},
_convertPositionTo: function(t, n) {
n || (n = this.position);
var i = "absolute" === t ? 1 : -1, r = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, o = /(html|body)/i.test(r[0].tagName);
return {
top: n.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : r.scrollTop()) * i,
left: n.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : r.scrollLeft()) * i
};
},
_generatePosition: function(t) {
var n, i, r = this.options, o = t.pageX, a = t.pageY, s = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, l = /(html|body)/i.test(s[0].tagName);
return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), t.pageY - this.offset.click.top < this.containment[1] && (a = this.containment[1] + this.offset.click.top), t.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), t.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset.click.top)), r.grid && (n = this.originalPageY + Math.round((a - this.originalPageY) / r.grid[1]) * r.grid[1], a = this.containment ? n - this.offset.click.top >= this.containment[1] && n - this.offset.click.top <= this.containment[3] ? n : n - this.offset.click.top >= this.containment[1] ? n - r.grid[1] : n + r.grid[1] : n, i = this.originalPageX + Math.round((o - this.originalPageX) / r.grid[0]) * r.grid[0], 
o = this.containment ? i - this.offset.click.left >= this.containment[0] && i - this.offset.click.left <= this.containment[2] ? i : i - this.offset.click.left >= this.containment[0] ? i - r.grid[0] : i + r.grid[0] : i)), {
top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : l ? 0 : s.scrollTop()),
left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : l ? 0 : s.scrollLeft())
};
},
_rearrange: function(e, t, n, i) {
n ? n[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
var r = this.counter;
this._delay(function() {
r === this.counter && this.refreshPositions(!i);
});
},
_clear: function(e, t) {
function n(e, t, n) {
return function(i) {
n._trigger(e, i, t._uiHash(t));
};
}
this.reverting = !1;
var i, r = [];
if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
for (i in this._storedCSS) "auto" !== this._storedCSS[i] && "static" !== this._storedCSS[i] || (this._storedCSS[i] = "");
this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper");
} else this.currentItem.show();
for (this.fromOutside && !t && r.push(function(e) {
this._trigger("receive", e, this._uiHash(this.fromOutside));
}), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || t || r.push(function(e) {
this._trigger("update", e, this._uiHash());
}), this !== this.currentContainer && (t || (r.push(function(e) {
this._trigger("remove", e, this._uiHash());
}), r.push(function(e) {
return function(t) {
e._trigger("receive", t, this._uiHash(this));
};
}.call(this, this.currentContainer)), r.push(function(e) {
return function(t) {
e._trigger("update", t, this._uiHash(this));
};
}.call(this, this.currentContainer)))), i = this.containers.length - 1; i >= 0; i--) t || r.push(n("deactivate", this, this.containers[i])), this.containers[i].containerCache.over && (r.push(n("out", this, this.containers[i])), this.containers[i].containerCache.over = 0);
if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, t || this._trigger("beforeStop", e, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !t) {
for (i = 0; i < r.length; i++) r[i].call(this, e);
this._trigger("stop", e, this._uiHash());
}
return this.fromOutside = !1, !this.cancelHelperRemoval;
},
_trigger: function() {
!1 === e.Widget.prototype._trigger.apply(this, arguments) && this.cancel();
},
_uiHash: function(t) {
var n = t || this;
return {
helper: n.helper,
placeholder: n.placeholder || e([]),
position: n.position,
originalPosition: n.originalPosition,
offset: n.positionAbs,
item: n.currentItem,
sender: t ? t.element : null
};
}
});
e.widget("ui.spinner", {
version: "1.12.1",
defaultElement: "<input>",
widgetEventPrefix: "spin",
options: {
classes: {
"ui-spinner": "ui-corner-all",
"ui-spinner-down": "ui-corner-br",
"ui-spinner-up": "ui-corner-tr"
},
culture: null,
icons: {
down: "ui-icon-triangle-1-s",
up: "ui-icon-triangle-1-n"
},
incremental: !0,
max: null,
min: null,
numberFormat: null,
page: 10,
step: 1,
change: null,
spin: null,
start: null,
stop: null
},
_create: function() {
this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
beforeunload: function() {
this.element.removeAttr("autocomplete");
}
});
},
_getCreateOptions: function() {
var t = this._super(), n = this.element;
return e.each([ "min", "max", "step" ], function(e, i) {
var r = n.attr(i);
null != r && r.length && (t[i] = r);
}), t;
},
_events: {
keydown: function(e) {
this._start(e) && this._keydown(e) && e.preventDefault();
},
keyup: "_stop",
focus: function() {
this.previous = this.element.val();
},
blur: function(e) {
this.cancelBlur ? delete this.cancelBlur : (this._stop(), this._refresh(), this.previous !== this.element.val() && this._trigger("change", e));
},
mousewheel: function(e, t) {
if (t) {
if (!this.spinning && !this._start(e)) return !1;
this._spin((t > 0 ? 1 : -1) * this.options.step, e), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function() {
this.spinning && this._stop(e);
}, 100), e.preventDefault();
}
},
"mousedown .ui-spinner-button": function(t) {
function n() {
this.element[0] === e.ui.safeActiveElement(this.document[0]) || (this.element.trigger("focus"), this.previous = i, this._delay(function() {
this.previous = i;
}));
}
var i;
i = this.element[0] === e.ui.safeActiveElement(this.document[0]) ? this.previous : this.element.val(), t.preventDefault(), n.call(this), this.cancelBlur = !0, this._delay(function() {
delete this.cancelBlur, n.call(this);
}), !1 !== this._start(t) && this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t);
},
"mouseup .ui-spinner-button": "_stop",
"mouseenter .ui-spinner-button": function(t) {
if (e(t.currentTarget).hasClass("ui-state-active")) return !1 !== this._start(t) && void this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t);
},
"mouseleave .ui-spinner-button": "_stop"
},
_enhance: function() {
this.uiSpinner = this.element.attr("autocomplete", "off").wrap("<span>").parent().append("<a></a><a></a>");
},
_draw: function() {
this._enhance(), this._addClass(this.uiSpinner, "ui-spinner", "ui-widget ui-widget-content"), this._addClass("ui-spinner-input"), this.element.attr("role", "spinbutton"), this.buttons = this.uiSpinner.children("a").attr("tabIndex", -1).attr("aria-hidden", !0).button({
classes: {
"ui-button": ""
}
}), this._removeClass(this.buttons, "ui-corner-all"), this._addClass(this.buttons.first(), "ui-spinner-button ui-spinner-up"), this._addClass(this.buttons.last(), "ui-spinner-button ui-spinner-down"), this.buttons.first().button({
icon: this.options.icons.up,
showLabel: !1
}), this.buttons.last().button({
icon: this.options.icons.down,
showLabel: !1
}), this.buttons.height() > Math.ceil(.5 * this.uiSpinner.height()) && this.uiSpinner.height() > 0 && this.uiSpinner.height(this.uiSpinner.height());
},
_keydown: function(t) {
var n = this.options, i = e.ui.keyCode;
switch (t.keyCode) {
case i.UP:
return this._repeat(null, 1, t), !0;

case i.DOWN:
return this._repeat(null, -1, t), !0;

case i.PAGE_UP:
return this._repeat(null, n.page, t), !0;

case i.PAGE_DOWN:
return this._repeat(null, -n.page, t), !0;
}
return !1;
},
_start: function(e) {
return !(!this.spinning && !1 === this._trigger("start", e)) && (this.counter || (this.counter = 1), this.spinning = !0, !0);
},
_repeat: function(e, t, n) {
e = e || 500, clearTimeout(this.timer), this.timer = this._delay(function() {
this._repeat(40, t, n);
}, e), this._spin(t * this.options.step, n);
},
_spin: function(e, t) {
var n = this.value() || 0;
this.counter || (this.counter = 1), n = this._adjustValue(n + e * this._increment(this.counter)), this.spinning && !1 === this._trigger("spin", t, {
value: n
}) || (this._value(n), this.counter++);
},
_increment: function(t) {
var n = this.options.incremental;
return n ? e.isFunction(n) ? n(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1;
},
_precision: function() {
var e = this._precisionOf(this.options.step);
return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))), e;
},
_precisionOf: function(e) {
var t = e.toString(), n = t.indexOf(".");
return -1 === n ? 0 : t.length - n - 1;
},
_adjustValue: function(e) {
var t, n, i = this.options;
return t = null !== i.min ? i.min : 0, n = e - t, n = Math.round(n / i.step) * i.step, e = t + n, e = parseFloat(e.toFixed(this._precision())), null !== i.max && e > i.max ? i.max : null !== i.min && e < i.min ? i.min : e;
},
_stop: function(e) {
this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", e));
},
_setOption: function(e, t) {
var n, i, r;
if ("culture" === e || "numberFormat" === e) return n = this._parse(this.element.val()), this.options[e] = t, void this.element.val(this._format(n));
"max" !== e && "min" !== e && "step" !== e || "string" == typeof t && (t = this._parse(t)), "icons" === e && (i = this.buttons.first().find(".ui-icon"), this._removeClass(i, null, this.options.icons.up), this._addClass(i, null, t.up), r = this.buttons.last().find(".ui-icon"), this._removeClass(r, null, this.options.icons.down), this._addClass(r, null, t.down)), this._super(e, t);
},
_setOptionDisabled: function(e) {
this._super(e), this._toggleClass(this.uiSpinner, null, "ui-state-disabled", !!e), this.element.prop("disabled", !!e), this.buttons.button(e ? "disable" : "enable");
},
_setOptions: s(function(e) {
this._super(e);
}),
_parse: function(e) {
return "string" == typeof e && "" !== e && (e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e), "" === e || isNaN(e) ? null : e;
},
_format: function(e) {
return "" === e ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e;
},
_refresh: function() {
this.element.attr({
"aria-valuemin": this.options.min,
"aria-valuemax": this.options.max,
"aria-valuenow": this._parse(this.element.val())
});
},
isValid: function() {
var e = this.value();
return null !== e && e === this._adjustValue(e);
},
_value: function(e, t) {
var n;
"" !== e && null !== (n = this._parse(e)) && (t || (n = this._adjustValue(n)), e = this._format(n)), this.element.val(e), this._refresh();
},
_destroy: function() {
this.element.prop("disabled", !1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"), this.uiSpinner.replaceWith(this.element);
},
stepUp: s(function(e) {
this._stepUp(e);
}),
_stepUp: function(e) {
this._start() && (this._spin((e || 1) * this.options.step), this._stop());
},
stepDown: s(function(e) {
this._stepDown(e);
}),
_stepDown: function(e) {
this._start() && (this._spin((e || 1) * -this.options.step), this._stop());
},
pageUp: s(function(e) {
this._stepUp((e || 1) * this.options.page);
}),
pageDown: s(function(e) {
this._stepDown((e || 1) * this.options.page);
}),
value: function(e) {
if (!arguments.length) return this._parse(this.element.val());
s(this._value).call(this, e);
},
widget: function() {
return this.uiSpinner;
}
}), !1 !== e.uiBackCompat && e.widget("ui.spinner", e.ui.spinner, {
_enhance: function() {
this.uiSpinner = this.element.attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
},
_uiSpinnerHtml: function() {
return "<span>";
},
_buttonHtml: function() {
return "<a></a><a></a>";
}
});
e.ui.spinner;
e.widget("ui.tabs", {
version: "1.12.1",
delay: 300,
options: {
active: null,
classes: {
"ui-tabs": "ui-corner-all",
"ui-tabs-nav": "ui-corner-all",
"ui-tabs-panel": "ui-corner-bottom",
"ui-tabs-tab": "ui-corner-top"
},
collapsible: !1,
event: "click",
heightStyle: "content",
hide: null,
show: null,
activate: null,
beforeActivate: null,
beforeLoad: null,
load: null
},
_isLocal: function() {
var e = /#.*$/;
return function(t) {
var n, i;
n = t.href.replace(e, ""), i = location.href.replace(e, "");
try {
n = decodeURIComponent(n);
} catch (e) {}
try {
i = decodeURIComponent(i);
} catch (e) {}
return t.hash.length > 1 && n === i;
};
}(),
_create: function() {
var t = this, n = this.options;
this.running = !1, this._addClass("ui-tabs", "ui-widget ui-widget-content"), this._toggleClass("ui-tabs-collapsible", null, n.collapsible), this._processTabs(), n.active = this._initialActive(), e.isArray(n.disabled) && (n.disabled = e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function(e) {
return t.tabs.index(e);
}))).sort()), !1 !== this.options.active && this.anchors.length ? this.active = this._findActive(n.active) : this.active = e(), this._refresh(), this.active.length && this.load(n.active);
},
_initialActive: function() {
var t = this.options.active, n = this.options.collapsible, i = location.hash.substring(1);
return null === t && (i && this.tabs.each(function(n, r) {
if (e(r).attr("aria-controls") === i) return t = n, !1;
}), null === t && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), null !== t && -1 !== t || (t = !!this.tabs.length && 0)), !1 !== t && -1 === (t = this.tabs.index(this.tabs.eq(t))) && (t = !n && 0), !n && !1 === t && this.anchors.length && (t = 0), t;
},
_getCreateEventData: function() {
return {
tab: this.active,
panel: this.active.length ? this._getPanelForTab(this.active) : e()
};
},
_tabKeydown: function(t) {
var n = e(e.ui.safeActiveElement(this.document[0])).closest("li"), i = this.tabs.index(n), r = !0;
if (!this._handlePageNav(t)) {
switch (t.keyCode) {
case e.ui.keyCode.RIGHT:
case e.ui.keyCode.DOWN:
i++;
break;

case e.ui.keyCode.UP:
case e.ui.keyCode.LEFT:
r = !1, i--;
break;

case e.ui.keyCode.END:
i = this.anchors.length - 1;
break;

case e.ui.keyCode.HOME:
i = 0;
break;

case e.ui.keyCode.SPACE:
return t.preventDefault(), clearTimeout(this.activating), void this._activate(i);

case e.ui.keyCode.ENTER:
return t.preventDefault(), clearTimeout(this.activating), void this._activate(i !== this.options.active && i);

default:
return;
}
t.preventDefault(), clearTimeout(this.activating), i = this._focusNextTab(i, r), t.ctrlKey || t.metaKey || (n.attr("aria-selected", "false"), this.tabs.eq(i).attr("aria-selected", "true"), this.activating = this._delay(function() {
this.option("active", i);
}, this.delay));
}
},
_panelKeydown: function(t) {
this._handlePageNav(t) || t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(), this.active.trigger("focus"));
},
_handlePageNav: function(t) {
return t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0;
},
_findNextTab: function(t, n) {
for (var i = this.tabs.length - 1; -1 !== e.inArray((t > i && (t = 0), t < 0 && (t = i), t), this.options.disabled); ) t = n ? t + 1 : t - 1;
return t;
},
_focusNextTab: function(e, t) {
return e = this._findNextTab(e, t), this.tabs.eq(e).trigger("focus"), e;
},
_setOption: function(e, t) {
"active" !== e ? (this._super(e, t), "collapsible" === e && (this._toggleClass("ui-tabs-collapsible", null, t), t || !1 !== this.options.active || this._activate(0)), "event" === e && this._setupEvents(t), "heightStyle" === e && this._setupHeightStyle(t)) : this._activate(t);
},
_sanitizeSelector: function(e) {
return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "";
},
refresh: function() {
var t = this.options, n = this.tablist.children(":has(a[href])");
t.disabled = e.map(n.filter(".ui-state-disabled"), function(e) {
return n.index(e);
}), this._processTabs(), !1 !== t.active && this.anchors.length ? this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1, this.active = e()), this._refresh();
},
_refresh: function() {
this._setOptionDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
"aria-selected": "false",
"aria-expanded": "false",
tabIndex: -1
}), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
"aria-hidden": "true"
}), this.active.length ? (this.active.attr({
"aria-selected": "true",
"aria-expanded": "true",
tabIndex: 0
}), this._addClass(this.active, "ui-tabs-active", "ui-state-active"), this._getPanelForTab(this.active).show().attr({
"aria-hidden": "false"
})) : this.tabs.eq(0).attr("tabIndex", 0);
},
_processTabs: function() {
var t = this, n = this.tabs, i = this.anchors, r = this.panels;
this.tablist = this._getList().attr("role", "tablist"), this._addClass(this.tablist, "ui-tabs-nav", "ui-helper-reset ui-helper-clearfix ui-widget-header"), this.tablist.on("mousedown" + this.eventNamespace, "> li", function(t) {
e(this).is(".ui-state-disabled") && t.preventDefault();
}).on("focus" + this.eventNamespace, ".ui-tabs-anchor", function() {
e(this).closest("li").is(".ui-state-disabled") && this.blur();
}), this.tabs = this.tablist.find("> li:has(a[href])").attr({
role: "tab",
tabIndex: -1
}), this._addClass(this.tabs, "ui-tabs-tab", "ui-state-default"), this.anchors = this.tabs.map(function() {
return e("a", this)[0];
}).attr({
role: "presentation",
tabIndex: -1
}), this._addClass(this.anchors, "ui-tabs-anchor"), this.panels = e(), this.anchors.each(function(n, i) {
var r, o, a, s = e(i).uniqueId().attr("id"), l = e(i).closest("li"), c = l.attr("aria-controls");
t._isLocal(i) ? (a = (r = i.hash).substring(1), o = t.element.find(t._sanitizeSelector(r))) : (r = "#" + (a = l.attr("aria-controls") || e({}).uniqueId()[0].id), (o = t.element.find(r)).length || (o = t._createPanel(a)).insertAfter(t.panels[n - 1] || t.tablist), o.attr("aria-live", "polite")), o.length && (t.panels = t.panels.add(o)), c && l.data("ui-tabs-aria-controls", c), l.attr({
"aria-controls": a,
"aria-labelledby": s
}), o.attr("aria-labelledby", s);
}), this.panels.attr("role", "tabpanel"), this._addClass(this.panels, "ui-tabs-panel", "ui-widget-content"), n && (this._off(n.not(this.tabs)), this._off(i.not(this.anchors)), this._off(r.not(this.panels)));
},
_getList: function() {
return this.tablist || this.element.find("ol, ul").eq(0);
},
_createPanel: function(t) {
return e("<div>").attr("id", t).data("ui-tabs-destroy", !0);
},
_setOptionDisabled: function(t) {
var n, i, r;
for (e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1), r = 0; i = this.tabs[r]; r++) n = e(i), !0 === t || -1 !== e.inArray(r, t) ? (n.attr("aria-disabled", "true"), this._addClass(n, null, "ui-state-disabled")) : (n.removeAttr("aria-disabled"), this._removeClass(n, null, "ui-state-disabled"));
this.options.disabled = t, this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !0 === t);
},
_setupEvents: function(t) {
var n = {};
t && e.each(t.split(" "), function(e, t) {
n[t] = "_eventHandler";
}), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(!0, this.anchors, {
click: function(e) {
e.preventDefault();
}
}), this._on(this.anchors, n), this._on(this.tabs, {
keydown: "_tabKeydown"
}), this._on(this.panels, {
keydown: "_panelKeydown"
}), this._focusable(this.tabs), this._hoverable(this.tabs);
},
_setupHeightStyle: function(t) {
var n, i = this.element.parent();
"fill" === t ? (n = i.height(), n -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function() {
var t = e(this), i = t.css("position");
"absolute" !== i && "fixed" !== i && (n -= t.outerHeight(!0));
}), this.element.children().not(this.panels).each(function() {
n -= e(this).outerHeight(!0);
}), this.panels.each(function() {
e(this).height(Math.max(0, n - e(this).innerHeight() + e(this).height()));
}).css("overflow", "auto")) : "auto" === t && (n = 0, this.panels.each(function() {
n = Math.max(n, e(this).height("").height());
}).height(n));
},
_eventHandler: function(t) {
var n = this.options, i = this.active, r = e(t.currentTarget).closest("li"), o = r[0] === i[0], a = o && n.collapsible, s = a ? e() : this._getPanelForTab(r), l = i.length ? this._getPanelForTab(i) : e(), c = {
oldTab: i,
oldPanel: l,
newTab: a ? e() : r,
newPanel: s
};
t.preventDefault(), r.hasClass("ui-state-disabled") || r.hasClass("ui-tabs-loading") || this.running || o && !n.collapsible || !1 === this._trigger("beforeActivate", t, c) || (n.active = !a && this.tabs.index(r), this.active = o ? e() : r, this.xhr && this.xhr.abort(), l.length || s.length || e.error("jQuery UI Tabs: Mismatching fragment identifier."), s.length && this.load(this.tabs.index(r), t), this._toggle(t, c));
},
_toggle: function(t, n) {
function i() {
o.running = !1, o._trigger("activate", t, n);
}
function r() {
o._addClass(n.newTab.closest("li"), "ui-tabs-active", "ui-state-active"), a.length && o.options.show ? o._show(a, o.options.show, i) : (a.show(), i());
}
var o = this, a = n.newPanel, s = n.oldPanel;
this.running = !0, s.length && this.options.hide ? this._hide(s, this.options.hide, function() {
o._removeClass(n.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"), r();
}) : (this._removeClass(n.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"), s.hide(), r()), s.attr("aria-hidden", "true"), n.oldTab.attr({
"aria-selected": "false",
"aria-expanded": "false"
}), a.length && s.length ? n.oldTab.attr("tabIndex", -1) : a.length && this.tabs.filter(function() {
return 0 === e(this).attr("tabIndex");
}).attr("tabIndex", -1), a.attr("aria-hidden", "false"), n.newTab.attr({
"aria-selected": "true",
"aria-expanded": "true",
tabIndex: 0
});
},
_activate: function(t) {
var n, i = this._findActive(t);
i[0] !== this.active[0] && (i.length || (i = this.active), n = i.find(".ui-tabs-anchor")[0], this._eventHandler({
target: n,
currentTarget: n,
preventDefault: e.noop
}));
},
_findActive: function(t) {
return !1 === t ? e() : this.tabs.eq(t);
},
_getIndex: function(t) {
return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + e.ui.escapeSelector(t) + "']"))), t;
},
_destroy: function() {
this.xhr && this.xhr.abort(), this.tablist.removeAttr("role").off(this.eventNamespace), this.anchors.removeAttr("role tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function() {
e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded");
}), this.tabs.each(function() {
var t = e(this), n = t.data("ui-tabs-aria-controls");
n ? t.attr("aria-controls", n).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls");
}), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "");
},
enable: function(t) {
var n = this.options.disabled;
!1 !== n && (void 0 === t ? n = !1 : (t = this._getIndex(t), n = e.isArray(n) ? e.map(n, function(e) {
return e !== t ? e : null;
}) : e.map(this.tabs, function(e, n) {
return n !== t ? n : null;
})), this._setOptionDisabled(n));
},
disable: function(t) {
var n = this.options.disabled;
if (!0 !== n) {
if (void 0 === t) n = !0; else {
if (t = this._getIndex(t), -1 !== e.inArray(t, n)) return;
n = e.isArray(n) ? e.merge([ t ], n).sort() : [ t ];
}
this._setOptionDisabled(n);
}
},
load: function(t, n) {
t = this._getIndex(t);
var i = this, r = this.tabs.eq(t), o = r.find(".ui-tabs-anchor"), a = this._getPanelForTab(r), s = {
tab: r,
panel: a
}, l = function(e, t) {
"abort" === t && i.panels.stop(!1, !0), i._removeClass(r, "ui-tabs-loading"), a.removeAttr("aria-busy"), e === i.xhr && delete i.xhr;
};
this._isLocal(o[0]) || (this.xhr = e.ajax(this._ajaxSettings(o, n, s)), this.xhr && "canceled" !== this.xhr.statusText && (this._addClass(r, "ui-tabs-loading"), a.attr("aria-busy", "true"), this.xhr.done(function(e, t, r) {
setTimeout(function() {
a.html(e), i._trigger("load", n, s), l(r, t);
}, 1);
}).fail(function(e, t) {
setTimeout(function() {
l(e, t);
}, 1);
})));
},
_ajaxSettings: function(t, n, i) {
var r = this;
return {
url: t.attr("href").replace(/#.*$/, ""),
beforeSend: function(t, o) {
return r._trigger("beforeLoad", n, e.extend({
jqXHR: t,
ajaxSettings: o
}, i));
}
};
},
_getPanelForTab: function(t) {
var n = e(t).attr("aria-controls");
return this.element.find(this._sanitizeSelector("#" + n));
}
}), !1 !== e.uiBackCompat && e.widget("ui.tabs", e.ui.tabs, {
_processTabs: function() {
this._superApply(arguments), this._addClass(this.tabs, "ui-tab");
}
});
e.ui.tabs;
e.widget("ui.tooltip", {
version: "1.12.1",
options: {
classes: {
"ui-tooltip": "ui-corner-all ui-widget-shadow"
},
content: function() {
var t = e(this).attr("title") || "";
return e("<a>").text(t).html();
},
hide: !0,
items: "[title]:not([disabled])",
position: {
my: "left top+15",
at: "left bottom",
collision: "flipfit flip"
},
show: !0,
track: !1,
close: null,
open: null
},
_addDescribedBy: function(t, n) {
var i = (t.attr("aria-describedby") || "").split(/\s+/);
i.push(n), t.data("ui-tooltip-id", n).attr("aria-describedby", e.trim(i.join(" ")));
},
_removeDescribedBy: function(t) {
var n = t.data("ui-tooltip-id"), i = (t.attr("aria-describedby") || "").split(/\s+/), r = e.inArray(n, i);
-1 !== r && i.splice(r, 1), t.removeData("ui-tooltip-id"), (i = e.trim(i.join(" "))) ? t.attr("aria-describedby", i) : t.removeAttr("aria-describedby");
},
_create: function() {
this._on({
mouseover: "open",
focusin: "open"
}), this.tooltips = {}, this.parents = {}, this.liveRegion = e("<div>").attr({
role: "log",
"aria-live": "assertive",
"aria-relevant": "additions"
}).appendTo(this.document[0].body), this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"), this.disabledTitles = e([]);
},
_setOption: function(t, n) {
var i = this;
this._super(t, n), "content" === t && e.each(this.tooltips, function(e, t) {
i._updateContent(t.element);
});
},
_setOptionDisabled: function(e) {
this[e ? "_disable" : "_enable"]();
},
_disable: function() {
var t = this;
e.each(this.tooltips, function(n, i) {
var r = e.Event("blur");
r.target = r.currentTarget = i.element[0], t.close(r, !0);
}), this.disabledTitles = this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function() {
var t = e(this);
if (t.is("[title]")) return t.data("ui-tooltip-title", t.attr("title")).removeAttr("title");
}));
},
_enable: function() {
this.disabledTitles.each(function() {
var t = e(this);
t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"));
}), this.disabledTitles = e([]);
},
open: function(t) {
var n = this, i = e(t ? t.target : this.element).closest(this.options.items);
i.length && !i.data("ui-tooltip-id") && (i.attr("title") && i.data("ui-tooltip-title", i.attr("title")), i.data("ui-tooltip-open", !0), t && "mouseover" === t.type && i.parents().each(function() {
var t, i = e(this);
i.data("ui-tooltip-open") && ((t = e.Event("blur")).target = t.currentTarget = this, n.close(t, !0)), i.attr("title") && (i.uniqueId(), n.parents[this.id] = {
element: this,
title: i.attr("title")
}, i.attr("title", ""));
}), this._registerCloseHandlers(t, i), this._updateContent(i, t));
},
_updateContent: function(e, t) {
var n, i = this.options.content, r = this, o = t ? t.type : null;
if ("string" == typeof i || i.nodeType || i.jquery) return this._open(t, e, i);
(n = i.call(e[0], function(n) {
r._delay(function() {
e.data("ui-tooltip-open") && (t && (t.type = o), this._open(t, e, n));
});
})) && this._open(t, e, n);
},
_open: function(t, n, i) {
function r(e) {
c.of = e, a.is(":hidden") || a.position(c);
}
var o, a, s, l, c = e.extend({}, this.options.position);
i && ((o = this._find(n)) ? o.tooltip.find(".ui-tooltip-content").html(i) : (n.is("[title]") && (t && "mouseover" === t.type ? n.attr("title", "") : n.removeAttr("title")), o = this._tooltip(n), a = o.tooltip, this._addDescribedBy(n, a.attr("id")), a.find(".ui-tooltip-content").html(i), this.liveRegion.children().hide(), (l = e("<div>").html(a.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"), l.removeAttr("id").find("[id]").removeAttr("id"), l.appendTo(this.liveRegion), this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, {
mousemove: r
}), r(t)) : a.position(e.extend({
of: n
}, this.options.position)), a.hide(), this._show(a, this.options.show), this.options.track && this.options.show && this.options.show.delay && (s = this.delayedShow = setInterval(function() {
a.is(":visible") && (r(c.of), clearInterval(s));
}, e.fx.interval)), this._trigger("open", t, {
tooltip: a
})));
},
_registerCloseHandlers: function(t, n) {
var i = {
keyup: function(t) {
if (t.keyCode === e.ui.keyCode.ESCAPE) {
var i = e.Event(t);
i.currentTarget = n[0], this.close(i, !0);
}
}
};
n[0] !== this.element[0] && (i.remove = function() {
this._removeTooltip(this._find(n).tooltip);
}), t && "mouseover" !== t.type || (i.mouseleave = "close"), t && "focusin" !== t.type || (i.focusout = "close"), this._on(!0, n, i);
},
close: function(t) {
var n, i = this, r = e(t ? t.currentTarget : this.element), o = this._find(r);
o ? (n = o.tooltip, o.closing || (clearInterval(this.delayedShow), r.data("ui-tooltip-title") && !r.attr("title") && r.attr("title", r.data("ui-tooltip-title")), this._removeDescribedBy(r), o.hiding = !0, n.stop(!0), this._hide(n, this.options.hide, function() {
i._removeTooltip(e(this));
}), r.removeData("ui-tooltip-open"), this._off(r, "mouseleave focusout keyup"), r[0] !== this.element[0] && this._off(r, "remove"), this._off(this.document, "mousemove"), t && "mouseleave" === t.type && e.each(this.parents, function(t, n) {
e(n.element).attr("title", n.title), delete i.parents[t];
}), o.closing = !0, this._trigger("close", t, {
tooltip: n
}), o.hiding || (o.closing = !1))) : r.removeData("ui-tooltip-open");
},
_tooltip: function(t) {
var n = e("<div>").attr("role", "tooltip"), i = e("<div>").appendTo(n), r = n.uniqueId().attr("id");
return this._addClass(i, "ui-tooltip-content"), this._addClass(n, "ui-tooltip", "ui-widget ui-widget-content"), n.appendTo(this._appendTo(t)), this.tooltips[r] = {
element: t,
tooltip: n
};
},
_find: function(e) {
var t = e.data("ui-tooltip-id");
return t ? this.tooltips[t] : null;
},
_removeTooltip: function(e) {
e.remove(), delete this.tooltips[e.attr("id")];
},
_appendTo: function(e) {
var t = e.closest(".ui-front, dialog");
return t.length || (t = this.document[0].body), t;
},
_destroy: function() {
var t = this;
e.each(this.tooltips, function(n, i) {
var r = e.Event("blur"), o = i.element;
r.target = r.currentTarget = o[0], t.close(r, !0), e("#" + n).remove(), o.data("ui-tooltip-title") && (o.attr("title") || o.attr("title", o.data("ui-tooltip-title")), o.removeData("ui-tooltip-title"));
}), this.liveRegion.remove();
}
}), !1 !== e.uiBackCompat && e.widget("ui.tooltip", e.ui.tooltip, {
options: {
tooltipClass: null
},
_tooltip: function() {
var e = this._superApply(arguments);
return this.options.tooltipClass && e.tooltip.addClass(this.options.tooltipClass), e;
}
});
e.ui.tooltip;
}), function(e, t, n, i) {
"use strict";
var r = t.module("ngDragDrop", []).service("ngDragDropService", [ "$timeout", "$parse", "$q", function(i, o, a) {
this.draggableScope = null, this.droppableScope = null, n("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'), this.callEventCallback = function(e, t, i, r) {
if (t) {
var a = function(t) {
var i = -1 !== t.indexOf("(") ? t.indexOf("(") : t.length, r = -1 !== t.lastIndexOf(")") ? t.lastIndexOf(")") : t.length, a = t.substring(i + 1, r), s = -1 !== t.indexOf(".") ? t.substr(0, t.indexOf(".")) : null;
return s = e[s] && "function" == typeof e[s].constructor ? s : null, {
callback: t.substring(s && s.length + 1 || 0, i),
args: n.map(a && a.split(",") || [], function(t) {
return [ o(t)(e) ];
}),
constructor: s
};
}(t), s = a.callback, l = a.constructor, c = [ i, r ].concat(a.args);
return (e[s] || e[l][s]).apply(e[s] ? e : e[l], c);
}
}, this.invokeDrop = function(e, o, s, l) {
var c, u, d, h = "", f = "", p = {}, g = {}, m = null, v = {}, y = {}, b = null, _ = this.droppableScope, w = this.draggableScope, C = null, x = [];
h = e.ngattr("ng-model"), f = o.ngattr("ng-model"), c = w.$eval(h), u = _.$eval(f), b = o.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"), g = _.$eval(o.attr("jqyoui-droppable") || o.attr("data-jqyoui-droppable")) || [], (p = w.$eval(e.attr("jqyoui-draggable") || e.attr("data-jqyoui-draggable")) || []).index = this.fixIndex(w, p, c), g.index = this.fixIndex(_, g, u), m = t.isArray(c) ? p.index : null, v = t.isArray(c) ? c[m] : c, p.deepCopy && (v = t.copy(v)), y = t.isArray(u) && g && void 0 !== g.index ? u[g.index] : t.isArray(u) ? {} : u, g.deepCopy && (y = t.copy(y)), p.beforeDrop && x.push(this.callEventCallback(w, p.beforeDrop, s, l)), a.all(x).then(t.bind(this, function() {
if (p.insertInline && h === f) {
if (p.index > g.index) {
d = c[p.index];
for (a = p.index; a > g.index; a--) u[a] = t.copy(u[a - 1]), u[a - 1] = {}, u[a][p.direction] = "left";
u[g.index] = d;
} else {
d = c[p.index];
for (var a = p.index; a < g.index; a++) u[a] = t.copy(u[a + 1]), u[a + 1] = {}, u[a][p.direction] = "right";
u[g.index] = d;
}
this.callEventCallback(_, g.onDrop, s, l);
} else !0 === p.animate ? ((C = e.clone()).css({
position: "absolute"
}).css(e.offset()), n("body").append(C), e.addClass("angular-dragdrop-hide"), this.move(C, b.length > 0 ? b : o, null, "fast", g, function() {
C.remove();
}), this.move(b.length > 0 && !g.multiple ? b : [], e.parent("[jqyoui-droppable],[data-jqyoui-droppable]"), r.startXY, "fast", g, t.bind(this, function() {
i(t.bind(this, function() {
e.css({
position: "relative",
left: "",
top: ""
}).removeClass("angular-dragdrop-hide"), b.css({
position: "relative",
left: "",
top: "",
display: "none" === b.css("display") ? "" : b.css("display")
}), this.mutateDraggable(w, g, p, h, f, y, e), this.mutateDroppable(_, g, p, f, v, m), this.callEventCallback(_, g.onDrop, s, l);
}));
}))) : i(t.bind(this, function() {
this.mutateDraggable(w, g, p, h, f, y, e), this.mutateDroppable(_, g, p, f, v, m), this.callEventCallback(_, g.onDrop, s, l);
}));
})).finally(t.bind(this, function() {
this.restore(e);
}));
}, this.move = function(t, n, i, r, o, a) {
if (0 === t.length) return a && e.setTimeout(function() {
a();
}, 300), !1;
var s = t.css("z-index"), l = t[o.containment || "offset"](), c = n.css("display"), u = n.hasClass("ng-hide"), d = n.hasClass("angular-dragdrop-hide");
null === i && n.length > 0 && (void 0 !== (n.attr("jqyoui-draggable") || n.attr("data-jqyoui-draggable")) && void 0 !== n.ngattr("ng-model") && n.is(":visible") && o && o.multiple ? (i = n[o.containment || "offset"](), !1 === o.stack ? i.left += n.outerWidth(!0) : i.top += n.outerHeight(!0)) : (u && n.removeClass("ng-hide"), d && n.removeClass("angular-dragdrop-hide"), i = n.css({
visibility: "hidden",
display: "block"
})[o.containment || "offset"](), n.css({
visibility: "",
display: c
}))), t.css({
position: "absolute",
"z-index": 9999
}).css(l).animate(i, r, function() {
u && n.addClass("ng-hide"), d && n.addClass("angular-dragdrop-hide"), t.css("z-index", s), a && a();
});
}, this.mutateDroppable = function(e, n, i, r, a, s) {
var l = e.$eval(r);
e.dndDragItem = a, t.isArray(l) ? (n && n.index >= 0 ? l[n.index] = a : l.push(a), i && !0 === i.placeholder && (l[l.length - 1].jqyoui_pos = s)) : (o(r + " = dndDragItem")(e), i && !0 === i.placeholder && (l.jqyoui_pos = s));
}, this.mutateDraggable = function(e, n, i, r, a, s, l) {
var c = t.equals(s, {}) || !s, u = e.$eval(r);
e.dndDropItem = s, i && i.placeholder ? "keep" != i.placeholder && (t.isArray(u) && void 0 !== i.index ? u[i.index] = s : o(r + " = dndDropItem")(e)) : t.isArray(u) ? c ? i && !0 !== i.placeholder && "keep" !== i.placeholder && u.splice(i.index, 1) : u[i.index] = s : (o(r + " = dndDropItem")(e), e.$parent && o(r + " = dndDropItem")(e.$parent)), this.restore(l);
}, this.restore = function(e) {
e.css({
"z-index": "",
left: "",
top: ""
});
}, this.fixIndex = function(e, n, i) {
if (n.applyFilter && t.isArray(i) && i.length > 0) {
var r = e[n.applyFilter]()[n.index], o = void 0;
return i.forEach(function(e, n) {
t.equals(e, r) && (o = n);
}), o;
}
return n.index;
};
} ]).directive("jqyouiDraggable", [ "ngDragDropService", function(e) {
return {
require: "?jqyouiDroppable",
restrict: "A",
link: function(i, o, a) {
var s, l, c, u, d = n(o), h = function(o, h) {
o ? (s = i.$eval(d.attr("jqyoui-draggable") || d.attr("data-jqyoui-draggable")) || {}, l = i.$eval(a.jqyouiOptions) || {}, d.draggable({
disabled: !1
}).draggable(l).draggable({
start: function(t, o) {
e.draggableScope = i, c = n(l.helper ? o.helper : this).css("z-index"), n(l.helper ? o.helper : this).css("z-index", 9999), r.startXY = n(this)[s.containment || "offset"](), e.callEventCallback(i, s.onStart, t, o);
},
stop: function(t, r) {
n(l.helper ? r.helper : this).css("z-index", c), e.callEventCallback(i, s.onStop, t, r);
},
drag: function(t, n) {
e.callEventCallback(i, s.onDrag, t, n);
}
})) : d.draggable({
disabled: !0
}), u && t.isDefined(o) && (t.equals(a.drag, "true") || t.equals(a.drag, "false")) && (u(), u = null);
};
u = i.$watch(function() {
return i.$eval(a.drag);
}, h), h(), d.on("$destroy", function() {
d.draggable({
disabled: !0
}).draggable("destroy");
});
}
};
} ]).directive("jqyouiDroppable", [ "ngDragDropService", "$q", function(e, i) {
return {
restrict: "A",
priority: 1,
link: function(r, o, a) {
var s, l, c, u = n(o), d = function(o, d) {
o ? (s = r.$eval(n(u).attr("jqyoui-droppable") || n(u).attr("data-jqyoui-droppable")) || {}, l = r.$eval(a.jqyouiOptions) || {}, u.droppable({
disabled: !1
}).droppable(l).droppable({
over: function(t, n) {
e.callEventCallback(r, s.onOver, t, n);
},
out: function(t, n) {
e.callEventCallback(r, s.onOut, t, n);
},
drop: function(o, c) {
(s.beforeDrop ? e.callEventCallback(r, s.beforeDrop, o, c) : function() {
var e = i.defer();
return e.resolve(), e.promise;
}()).then(t.bind(this, function() {
n(c.draggable).ngattr("ng-model") && a.ngModel ? (e.droppableScope = r, e.invokeDrop(n(c.draggable), n(this), o, c)) : e.callEventCallback(r, s.onDrop, o, c);
}), function() {
c.draggable.animate({
left: "",
top: ""
}, l.revertDuration || 0);
});
}
})) : u.droppable({
disabled: !0
}), c && t.isDefined(o) && (t.equals(a.drop, "true") || t.equals(a.drop, "false")) && (c(), c = null);
};
c = r.$watch(function() {
return r.$eval(a.drop);
}, d), d(), u.on("$destroy", function() {
u.droppable({
disabled: !0
}).droppable("destroy");
});
}
};
} ]);
n.fn.ngattr = function(e, t) {
var n = this[0];
return n.getAttribute(e) || n.getAttribute("data-" + e);
};
}(window, window.angular, window.jQuery), function(e) {
"use strict";
"function" == typeof define && define.amd ? define([ "jquery" ], function(t) {
return e(t, window, document);
}) : "object" == typeof exports ? module.exports = function(t, n) {
return t || (t = window), n || (n = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), e(n, t, t.document);
} : e(jQuery, window, document);
}(function(e, t, n, i) {
"use strict";
function r(t) {
var n, i, o = {};
e.each(t, function(e, a) {
(n = e.match(/^([^A-Z]+?)([A-Z])/)) && -1 !== "a aa ai ao as b fn i m o s ".indexOf(n[1] + " ") && (i = e.replace(n[0], n[2].toLowerCase()), o[i] = e, "o" === n[1] && r(t[e]));
}), t._hungarianMap = o;
}
function o(t, n, a) {
t._hungarianMap || r(t);
var s;
e.each(n, function(r, l) {
(s = t._hungarianMap[r]) === i || !a && n[s] !== i || ("o" === s.charAt(0) ? (n[s] || (n[s] = {}), e.extend(!0, n[s], n[r]), o(t[s], n[s], a)) : n[s] = n[r]);
});
}
function a(e) {
var t = qe.defaults.oLanguage, n = e.sZeroRecords;
!e.sEmptyTable && n && "No data available in table" === t.sEmptyTable && Fe(e, e, "sZeroRecords", "sEmptyTable"), !e.sLoadingRecords && n && "Loading..." === t.sLoadingRecords && Fe(e, e, "sZeroRecords", "sLoadingRecords"), e.sInfoThousands && (e.sThousands = e.sInfoThousands);
var i = e.sDecimal;
i && je(i);
}
function s(e) {
ht(e, "ordering", "bSort"), ht(e, "orderMulti", "bSortMulti"), ht(e, "orderClasses", "bSortClasses"), ht(e, "orderCellsTop", "bSortCellsTop"), ht(e, "order", "aaSorting"), ht(e, "orderFixed", "aaSortingFixed"), ht(e, "paging", "bPaginate"), ht(e, "pagingType", "sPaginationType"), ht(e, "pageLength", "iDisplayLength"), ht(e, "searching", "bFilter"), "boolean" == typeof e.sScrollX && (e.sScrollX = e.sScrollX ? "100%" : ""), "boolean" == typeof e.scrollX && (e.scrollX = e.scrollX ? "100%" : "");
var t = e.aoSearchCols;
if (t) for (var n = 0, i = t.length; n < i; n++) t[n] && o(qe.models.oSearch, t[n]);
}
function l(t) {
ht(t, "orderable", "bSortable"), ht(t, "orderData", "aDataSort"), ht(t, "orderSequence", "asSorting"), ht(t, "orderDataType", "sortDataType");
var n = t.aDataSort;
"number" != typeof n || e.isArray(n) || (t.aDataSort = [ n ]);
}
function c(n) {
if (!qe.__browser) {
var i = {};
qe.__browser = i;
var r = e("<div/>").css({
position: "fixed",
top: 0,
left: -1 * e(t).scrollLeft(),
height: 1,
width: 1,
overflow: "hidden"
}).append(e("<div/>").css({
position: "absolute",
top: 1,
left: 1,
width: 100,
overflow: "scroll"
}).append(e("<div/>").css({
width: "100%",
height: 10
}))).appendTo("body"), o = r.children(), a = o.children();
i.barWidth = o[0].offsetWidth - o[0].clientWidth, i.bScrollOversize = 100 === a[0].offsetWidth && 100 !== o[0].clientWidth, i.bScrollbarLeft = 1 !== Math.round(a.offset().left), i.bBounding = !!r[0].getBoundingClientRect().width, r.remove();
}
e.extend(n.oBrowser, qe.__browser), n.oScroll.iBarWidth = qe.__browser.barWidth;
}
function u(e, t, n, r, o, a) {
var s, l = r, c = !1;
for (n !== i && (s = n, c = !0); l !== o; ) e.hasOwnProperty(l) && (s = c ? t(s, e[l], l, e) : e[l], c = !0, l += a);
return s;
}
function d(t, i) {
var r = qe.defaults.column, o = t.aoColumns.length, a = e.extend({}, qe.models.oColumn, r, {
nTh: i || n.createElement("th"),
sTitle: r.sTitle ? r.sTitle : i ? i.innerHTML : "",
aDataSort: r.aDataSort ? r.aDataSort : [ o ],
mData: r.mData ? r.mData : o,
idx: o
});
t.aoColumns.push(a);
var s = t.aoPreSearchCols;
s[o] = e.extend({}, qe.models.oSearch, s[o]), h(t, o, e(i).data());
}
function h(t, n, r) {
var a = t.aoColumns[n], s = t.oClasses, c = e(a.nTh);
if (!a.sWidthOrig) {
a.sWidthOrig = c.attr("width") || null;
var u = (c.attr("style") || "").match(/width:\s*(\d+[pxem%]+)/);
u && (a.sWidthOrig = u[1]);
}
r !== i && null !== r && (l(r), o(qe.defaults.column, r), r.mDataProp === i || r.mData || (r.mData = r.mDataProp), r.sType && (a._sManualType = r.sType), r.className && !r.sClass && (r.sClass = r.className), r.sClass && c.addClass(r.sClass), e.extend(a, r), Fe(a, r, "sWidth", "sWidthOrig"), r.iDataSort !== i && (a.aDataSort = [ r.iDataSort ]), Fe(a, r, "aDataSort"));
var d = a.mData, h = $(d), f = a.mRender ? $(a.mRender) : null, p = function(e) {
return "string" == typeof e && -1 !== e.indexOf("@");
};
a._bAttrSrc = e.isPlainObject(d) && (p(d.sort) || p(d.type) || p(d.filter)), a._setter = null, a.fnGetData = function(e, t, n) {
var r = h(e, t, i, n);
return f && t ? f(r, t, e, n) : r;
}, a.fnSetData = function(e, t, n) {
return A(d)(e, t, n);
}, "number" != typeof d && (t._rowReadObject = !0), t.oFeatures.bSort || (a.bSortable = !1, c.addClass(s.sSortableNone));
var g = -1 !== e.inArray("asc", a.asSorting), m = -1 !== e.inArray("desc", a.asSorting);
a.bSortable && (g || m) ? g && !m ? (a.sSortingClass = s.sSortableAsc, a.sSortingClassJUI = s.sSortJUIAscAllowed) : !g && m ? (a.sSortingClass = s.sSortableDesc, a.sSortingClassJUI = s.sSortJUIDescAllowed) : (a.sSortingClass = s.sSortable, a.sSortingClassJUI = s.sSortJUI) : (a.sSortingClass = s.sSortableNone, a.sSortingClassJUI = "");
}
function f(e) {
if (!1 !== e.oFeatures.bAutoWidth) {
var t = e.aoColumns;
ge(e);
for (var n = 0, i = t.length; n < i; n++) t[n].nTh.style.width = t[n].sWidth;
}
var r = e.oScroll;
"" === r.sY && "" === r.sX || fe(e), Le(e, null, "column-sizing", [ e ]);
}
function p(e, t) {
var n = v(e, "bVisible");
return "number" == typeof n[t] ? n[t] : null;
}
function g(t, n) {
var i = v(t, "bVisible"), r = e.inArray(n, i);
return -1 !== r ? r : null;
}
function m(t) {
var n = 0;
return e.each(t.aoColumns, function(t, i) {
i.bVisible && "none" !== e(i.nTh).css("display") && n++;
}), n;
}
function v(t, n) {
var i = [];
return e.map(t.aoColumns, function(e, t) {
e[n] && i.push(t);
}), i;
}
function y(e) {
var t, n, r, o, a, s, l, c, u, d = e.aoColumns, h = e.aoData, f = qe.ext.type.detect;
for (t = 0, n = d.length; t < n; t++) if (l = d[t], u = [], !l.sType && l._sManualType) l.sType = l._sManualType; else if (!l.sType) {
for (r = 0, o = f.length; r < o; r++) {
for (a = 0, s = h.length; a < s && (u[a] === i && (u[a] = C(e, a, t, "type")), (c = f[r](u[a], e)) || r === f.length - 1) && "html" !== c; a++) ;
if (c) {
l.sType = c;
break;
}
}
l.sType || (l.sType = "string");
}
}
function b(t, n, r, o) {
var a, s, l, c, u, h, f, p = t.aoColumns;
if (n) for (a = n.length - 1; a >= 0; a--) {
var g = (f = n[a]).targets !== i ? f.targets : f.aTargets;
for (e.isArray(g) || (g = [ g ]), l = 0, c = g.length; l < c; l++) if ("number" == typeof g[l] && g[l] >= 0) {
for (;p.length <= g[l]; ) d(t);
o(g[l], f);
} else if ("number" == typeof g[l] && g[l] < 0) o(p.length + g[l], f); else if ("string" == typeof g[l]) for (u = 0, h = p.length; u < h; u++) ("_all" == g[l] || e(p[u].nTh).hasClass(g[l])) && o(u, f);
}
if (r) for (a = 0, s = r.length; a < s; a++) o(a, r[a]);
}
function _(t, n, r, o) {
var a = t.aoData.length, s = e.extend(!0, {}, qe.models.oRow, {
src: r ? "dom" : "data",
idx: a
});
s._aData = n, t.aoData.push(s);
for (var l = t.aoColumns, c = 0, u = l.length; c < u; c++) l[c].sType = null;
t.aiDisplayMaster.push(a);
var d = t.rowIdFn(n);
return d !== i && (t.aIds[d] = s), !r && t.oFeatures.bDeferRender || M(t, a, r, o), a;
}
function w(t, n) {
var i;
return n instanceof e || (n = e(n)), n.map(function(e, n) {
return i = F(t, n), _(t, i.data, n, i.cells);
});
}
function C(e, t, n, r) {
var o = e.iDraw, a = e.aoColumns[n], s = e.aoData[t]._aData, l = a.sDefaultContent, c = a.fnGetData(s, r, {
settings: e,
row: t,
col: n
});
if (c === i) return e.iDrawError != o && null === l && (Ee(e, 0, "Requested unknown parameter " + ("function" == typeof a.mData ? "{function}" : "'" + a.mData + "'") + " for row " + t + ", column " + n, 4), e.iDrawError = o), l;
if (c !== s && null !== c || null === l || r === i) {
if ("function" == typeof c) return c.call(s);
} else c = l;
return null === c && "display" == r ? "" : c;
}
function x(e, t, n, i) {
var r = e.aoColumns[n], o = e.aoData[t]._aData;
r.fnSetData(o, i, {
settings: e,
row: t,
col: n
});
}
function S(t) {
return e.map(t.match(/(\\.|[^\.])+/g) || [ "" ], function(e) {
return e.replace(/\\\./g, ".");
});
}
function $(t) {
if (e.isPlainObject(t)) {
var n = {};
return e.each(t, function(e, t) {
t && (n[e] = $(t));
}), function(e, t, r, o) {
var a = n[t] || n._;
return a !== i ? a(e, t, r, o) : e;
};
}
if (null === t) return function(e) {
return e;
};
if ("function" == typeof t) return function(e, n, i, r) {
return t(e, n, i, r);
};
if ("string" != typeof t || -1 === t.indexOf(".") && -1 === t.indexOf("[") && -1 === t.indexOf("(")) return function(e, n) {
return e[t];
};
var r = function(t, n, o) {
var a, s, l, c;
if ("" !== o) for (var u = S(o), d = 0, h = u.length; d < h; d++) {
if (a = u[d].match(ft), s = u[d].match(pt), a) {
if (u[d] = u[d].replace(ft, ""), "" !== u[d] && (t = t[u[d]]), l = [], u.splice(0, d + 1), c = u.join("."), e.isArray(t)) for (var f = 0, p = t.length; f < p; f++) l.push(r(t[f], n, c));
var g = a[0].substring(1, a[0].length - 1);
t = "" === g ? l : l.join(g);
break;
}
if (s) u[d] = u[d].replace(pt, ""), t = t[u[d]](); else {
if (null === t || t[u[d]] === i) return i;
t = t[u[d]];
}
}
return t;
};
return function(e, n) {
return r(e, n, t);
};
}
function A(t) {
if (e.isPlainObject(t)) return A(t._);
if (null === t) return function() {};
if ("function" == typeof t) return function(e, n, i) {
t(e, "set", n, i);
};
if ("string" != typeof t || -1 === t.indexOf(".") && -1 === t.indexOf("[") && -1 === t.indexOf("(")) return function(e, n) {
e[t] = n;
};
var n = function(t, r, o) {
for (var a, s, l, c, u, d = S(o), h = d[d.length - 1], f = 0, p = d.length - 1; f < p; f++) {
if (s = d[f].match(ft), l = d[f].match(pt), s) {
if (d[f] = d[f].replace(ft, ""), t[d[f]] = [], (a = d.slice()).splice(0, f + 1), u = a.join("."), e.isArray(r)) for (var g = 0, m = r.length; g < m; g++) n(c = {}, r[g], u), t[d[f]].push(c); else t[d[f]] = r;
return;
}
l && (d[f] = d[f].replace(pt, ""), t = t[d[f]](r)), null !== t[d[f]] && t[d[f]] !== i || (t[d[f]] = {}), t = t[d[f]];
}
h.match(pt) ? t = t[h.replace(pt, "")](r) : t[h.replace(ft, "")] = r;
};
return function(e, i) {
return n(e, i, t);
};
}
function k(e) {
return ot(e.aoData, "_aData");
}
function T(e) {
e.aoData.length = 0, e.aiDisplayMaster.length = 0, e.aiDisplay.length = 0, e.aIds = {};
}
function D(e, t, n) {
for (var r = -1, o = 0, a = e.length; o < a; o++) e[o] == t ? r = o : e[o] > t && e[o]--;
-1 != r && n === i && e.splice(r, 1);
}
function E(e, t, n, r) {
var o, a, s = e.aoData[t], l = function(n, i) {
for (;n.childNodes.length; ) n.removeChild(n.firstChild);
n.innerHTML = C(e, t, i, "display");
};
if ("dom" !== n && (n && "auto" !== n || "dom" !== s.src)) {
var c = s.anCells;
if (c) if (r !== i) l(c[r], r); else for (o = 0, a = c.length; o < a; o++) l(c[o], o);
} else s._aData = F(e, s, r, r === i ? i : s._aData).data;
s._aSortData = null, s._aFilterData = null;
var u = e.aoColumns;
if (r !== i) u[r].sType = null; else {
for (o = 0, a = u.length; o < a; o++) u[o].sType = null;
I(e, s);
}
}
function F(t, n, r, o) {
var a, s, l, c = [], u = n.firstChild, d = 0, h = t.aoColumns, f = t._rowReadObject;
o = o !== i ? o : f ? {} : [];
var p = function(e, t) {
if ("string" == typeof e) {
var n = e.indexOf("@");
if (-1 !== n) {
var i = e.substring(n + 1);
A(e)(o, t.getAttribute(i));
}
}
}, g = function(t) {
r !== i && r !== d || (s = h[d], l = e.trim(t.innerHTML), s && s._bAttrSrc ? (A(s.mData._)(o, l), p(s.mData.sort, t), p(s.mData.type, t), p(s.mData.filter, t)) : f ? (s._setter || (s._setter = A(s.mData)), s._setter(o, l)) : o[d] = l), d++;
};
if (u) for (;u; ) "TD" != (a = u.nodeName.toUpperCase()) && "TH" != a || (g(u), c.push(u)), u = u.nextSibling; else for (var m = 0, v = (c = n.anCells).length; m < v; m++) g(c[m]);
var y = n.firstChild ? n : n.nTr;
if (y) {
var b = y.getAttribute("id");
b && A(t.rowId)(o, b);
}
return {
data: o,
cells: c
};
}
function M(t, i, r, o) {
var a, s, l, c, u, d = t.aoData[i], h = d._aData, f = [];
if (null === d.nTr) {
for (a = r || n.createElement("tr"), d.nTr = a, d.anCells = f, a._DT_RowIndex = i, I(t, d), c = 0, u = t.aoColumns.length; c < u; c++) l = t.aoColumns[c], (s = r ? o[c] : n.createElement(l.sCellType))._DT_CellIndex = {
row: i,
column: c
}, f.push(s), r && !l.mRender && l.mData === c || e.isPlainObject(l.mData) && l.mData._ === c + ".display" || (s.innerHTML = C(t, i, c, "display")), l.sClass && (s.className += " " + l.sClass), l.bVisible && !r ? a.appendChild(s) : !l.bVisible && r && s.parentNode.removeChild(s), l.fnCreatedCell && l.fnCreatedCell.call(t.oInstance, s, C(t, i, c), h, i, c);
Le(t, "aoRowCreatedCallback", null, [ a, h, i ]);
}
d.nTr.setAttribute("role", "row");
}
function I(t, n) {
var i = n.nTr, r = n._aData;
if (i) {
var o = t.rowIdFn(r);
if (o && (i.id = o), r.DT_RowClass) {
var a = r.DT_RowClass.split(" ");
n.__rowc = n.__rowc ? dt(n.__rowc.concat(a)) : a, e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass);
}
r.DT_RowAttr && e(i).attr(r.DT_RowAttr), r.DT_RowData && e(i).data(r.DT_RowData);
}
}
function P(t) {
var n, i, r, o, a, s = t.nTHead, l = t.nTFoot, c = 0 === e("th, td", s).length, u = t.oClasses, d = t.aoColumns;
for (c && (o = e("<tr/>").appendTo(s)), n = 0, i = d.length; n < i; n++) a = d[n], r = e(a.nTh).addClass(a.sClass), c && r.appendTo(o), t.oFeatures.bSort && (r.addClass(a.sSortingClass), !1 !== a.bSortable && (r.attr("tabindex", t.iTabIndex).attr("aria-controls", t.sTableId), Se(t, a.nTh, n))), a.sTitle != r[0].innerHTML && r.html(a.sTitle), Re(t, "header")(t, r, a, u);
if (c && B(t.aoHeader, s), e(s).find(">tr").attr("role", "row"), e(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH), e(l).find(">tr>th, >tr>td").addClass(u.sFooterTH), null !== l) {
var h = t.aoFooter[0];
for (n = 0, i = h.length; n < i; n++) (a = d[n]).nTf = h[n].cell, a.sClass && e(a.nTf).addClass(a.sClass);
}
}
function L(t, n, r) {
var o, a, s, l, c, u, d, h, f, p = [], g = [], m = t.aoColumns.length;
if (n) {
for (r === i && (r = !1), o = 0, a = n.length; o < a; o++) {
for (p[o] = n[o].slice(), p[o].nTr = n[o].nTr, s = m - 1; s >= 0; s--) t.aoColumns[s].bVisible || r || p[o].splice(s, 1);
g.push([]);
}
for (o = 0, a = p.length; o < a; o++) {
if (d = p[o].nTr) for (;u = d.firstChild; ) d.removeChild(u);
for (s = 0, l = p[o].length; s < l; s++) if (h = 1, f = 1, g[o][s] === i) {
for (d.appendChild(p[o][s].cell), g[o][s] = 1; p[o + h] !== i && p[o][s].cell == p[o + h][s].cell; ) g[o + h][s] = 1, h++;
for (;p[o][s + f] !== i && p[o][s].cell == p[o][s + f].cell; ) {
for (c = 0; c < h; c++) g[o + c][s + f] = 1;
f++;
}
e(p[o][s].cell).attr("rowspan", h).attr("colspan", f);
}
}
}
}
function O(t) {
var n = Le(t, "aoPreDrawCallback", "preDraw", [ t ]);
if (-1 === e.inArray(!1, n)) {
var r = [], o = 0, a = t.asStripeClasses, s = a.length, l = (t.aoOpenRows.length, t.oLanguage), c = t.iInitDisplayStart, u = "ssp" == Ne(t), d = t.aiDisplay;
t.bDrawing = !0, c !== i && -1 !== c && (t._iDisplayStart = u ? c : c >= t.fnRecordsDisplay() ? 0 : c, t.iInitDisplayStart = -1);
var h = t._iDisplayStart, f = t.fnDisplayEnd();
if (t.bDeferLoading) t.bDeferLoading = !1, t.iDraw++, de(t, !1); else if (u) {
if (!t.bDestroying && !V(t)) return;
} else t.iDraw++;
if (0 !== d.length) for (var p = u ? 0 : h, g = u ? t.aoData.length : f, v = p; v < g; v++) {
var y = d[v], b = t.aoData[y];
null === b.nTr && M(t, y);
var _ = b.nTr;
if (0 !== s) {
var w = a[o % s];
b._sRowStripe != w && (e(_).removeClass(b._sRowStripe).addClass(w), b._sRowStripe = w);
}
Le(t, "aoRowCallback", null, [ _, b._aData, o, v ]), r.push(_), o++;
} else {
var C = l.sZeroRecords;
1 == t.iDraw && "ajax" == Ne(t) ? C = l.sLoadingRecords : l.sEmptyTable && 0 === t.fnRecordsTotal() && (C = l.sEmptyTable), r[0] = e("<tr/>", {
class: s ? a[0] : ""
}).append(e("<td />", {
valign: "top",
colSpan: m(t),
class: t.oClasses.sRowEmpty
}).html(C))[0];
}
Le(t, "aoHeaderCallback", "header", [ e(t.nTHead).children("tr")[0], k(t), h, f, d ]), Le(t, "aoFooterCallback", "footer", [ e(t.nTFoot).children("tr")[0], k(t), h, f, d ]);
var x = e(t.nTBody);
x.children().detach(), x.append(e(r)), Le(t, "aoDrawCallback", "draw", [ t ]), t.bSorted = !1, t.bFiltered = !1, t.bDrawing = !1;
} else de(t, !1);
}
function R(e, t) {
var n = e.oFeatures, i = n.bSort, r = n.bFilter;
i && we(e), r ? G(e, e.oPreviousSearch) : e.aiDisplay = e.aiDisplayMaster.slice(), !0 !== t && (e._iDisplayStart = 0), e._drawHold = t, O(e), e._drawHold = !1;
}
function N(t) {
var n = t.oClasses, i = e(t.nTable), r = e("<div/>").insertBefore(i), o = t.oFeatures, a = e("<div/>", {
id: t.sTableId + "_wrapper",
class: n.sWrapper + (t.nTFoot ? "" : " " + n.sNoFooter)
});
t.nHolding = r[0], t.nTableWrapper = a[0], t.nTableReinsertBefore = t.nTable.nextSibling;
for (var s, l, c, u, d, h, f = t.sDom.split(""), p = 0; p < f.length; p++) {
if (s = null, "<" == (l = f[p])) {
if (c = e("<div/>")[0], "'" == (u = f[p + 1]) || '"' == u) {
for (d = "", h = 2; f[p + h] != u; ) d += f[p + h], h++;
if ("H" == d ? d = n.sJUIHeader : "F" == d && (d = n.sJUIFooter), -1 != d.indexOf(".")) {
var g = d.split(".");
c.id = g[0].substr(1, g[0].length - 1), c.className = g[1];
} else "#" == d.charAt(0) ? c.id = d.substr(1, d.length - 1) : c.className = d;
p += h;
}
a.append(c), a = e(c);
} else if (">" == l) a = a.parent(); else if ("l" == l && o.bPaginate && o.bLengthChange) s = se(t); else if ("f" == l && o.bFilter) s = q(t); else if ("r" == l && o.bProcessing) s = ue(t); else if ("t" == l) s = he(t); else if ("i" == l && o.bInfo) s = te(t); else if ("p" == l && o.bPaginate) s = le(t); else if (0 !== qe.ext.feature.length) for (var m = qe.ext.feature, v = 0, y = m.length; v < y; v++) if (l == m[v].cFeature) {
s = m[v].fnInit(t);
break;
}
if (s) {
var b = t.aanFeatures;
b[l] || (b[l] = []), b[l].push(s), a.append(s);
}
}
r.replaceWith(a), t.nHolding = null;
}
function B(t, n) {
var i, r, o, a, s, l, c, u, d, h, f, p = e(n).children("tr");
for (t.splice(0, t.length), o = 0, l = p.length; o < l; o++) t.push([]);
for (o = 0, l = p.length; o < l; o++) for (u = 0, r = (i = p[o]).firstChild; r; ) {
if ("TD" == r.nodeName.toUpperCase() || "TH" == r.nodeName.toUpperCase()) for (d = 1 * r.getAttribute("colspan"), h = 1 * r.getAttribute("rowspan"), d = d && 0 !== d && 1 !== d ? d : 1, h = h && 0 !== h && 1 !== h ? h : 1, c = function(e, t, n) {
for (var i = e[t]; i[n]; ) n++;
return n;
}(t, o, u), f = 1 === d, s = 0; s < d; s++) for (a = 0; a < h; a++) t[o + a][c + s] = {
cell: r,
unique: f
}, t[o + a].nTr = i;
r = r.nextSibling;
}
}
function j(e, t, n) {
var i = [];
n || (n = e.aoHeader, t && B(n = [], t));
for (var r = 0, o = n.length; r < o; r++) for (var a = 0, s = n[r].length; a < s; a++) !n[r][a].unique || i[a] && e.bSortCellsTop || (i[a] = n[r][a].cell);
return i;
}
function H(t, n, i) {
if (Le(t, "aoServerParams", "serverParams", [ n ]), n && e.isArray(n)) {
var r = {}, o = /(.*?)\[\]$/;
e.each(n, function(e, t) {
var n = t.name.match(o);
if (n) {
var i = n[0];
r[i] || (r[i] = []), r[i].push(t.value);
} else r[t.name] = t.value;
}), n = r;
}
var a, s = t.ajax, l = t.oInstance, c = function(e) {
Le(t, null, "xhr", [ t, e, t.jqXHR ]), i(e);
};
if (e.isPlainObject(s) && s.data) {
a = s.data;
var u = e.isFunction(a) ? a(n, t) : a;
n = e.isFunction(a) && u ? u : e.extend(!0, n, u), delete s.data;
}
var d = {
data: n,
success: function(e) {
var n = e.error || e.sError;
n && Ee(t, 0, n), t.json = e, c(e);
},
dataType: "json",
cache: !1,
type: t.sServerMethod,
error: function(n, i, r) {
var o = Le(t, null, "xhr", [ t, null, t.jqXHR ]);
-1 === e.inArray(!0, o) && ("parsererror" == i ? Ee(t, 0, "Invalid JSON response", 1) : 4 === n.readyState && Ee(t, 0, "Ajax error", 7)), de(t, !1);
}
};
t.oAjaxData = n, Le(t, null, "preXhr", [ t, n ]), t.fnServerData ? t.fnServerData.call(l, t.sAjaxSource, e.map(n, function(e, t) {
return {
name: t,
value: e
};
}), c, t) : t.sAjaxSource || "string" == typeof s ? t.jqXHR = e.ajax(e.extend(d, {
url: s || t.sAjaxSource
})) : e.isFunction(s) ? t.jqXHR = s.call(l, n, c, t) : (t.jqXHR = e.ajax(e.extend(d, s)), s.data = a);
}
function V(e) {
return !e.bAjaxDataGet || (e.iDraw++, de(e, !0), H(e, U(e), function(t) {
z(e, t);
}), !1);
}
function U(t) {
var n, i, r, o, a = t.aoColumns, s = a.length, l = t.oFeatures, c = t.oPreviousSearch, u = t.aoPreSearchCols, d = [], h = _e(t), f = t._iDisplayStart, p = !1 !== l.bPaginate ? t._iDisplayLength : -1, g = function(e, t) {
d.push({
name: e,
value: t
});
};
g("sEcho", t.iDraw), g("iColumns", s), g("sColumns", ot(a, "sName").join(",")), g("iDisplayStart", f), g("iDisplayLength", p);
var m = {
draw: t.iDraw,
columns: [],
order: [],
start: f,
length: p,
search: {
value: c.sSearch,
regex: c.bRegex
}
};
for (n = 0; n < s; n++) r = a[n], o = u[n], i = "function" == typeof r.mData ? "function" : r.mData, m.columns.push({
data: i,
name: r.sName,
searchable: r.bSearchable,
orderable: r.bSortable,
search: {
value: o.sSearch,
regex: o.bRegex
}
}), g("mDataProp_" + n, i), l.bFilter && (g("sSearch_" + n, o.sSearch), g("bRegex_" + n, o.bRegex), g("bSearchable_" + n, r.bSearchable)), l.bSort && g("bSortable_" + n, r.bSortable);
l.bFilter && (g("sSearch", c.sSearch), g("bRegex", c.bRegex)), l.bSort && (e.each(h, function(e, t) {
m.order.push({
column: t.col,
dir: t.dir
}), g("iSortCol_" + e, t.col), g("sSortDir_" + e, t.dir);
}), g("iSortingCols", h.length));
var v = qe.ext.legacy.ajax;
return null === v ? t.sAjaxSource ? d : m : v ? d : m;
}
function z(e, t) {
var n = function(e, n) {
return t[e] !== i ? t[e] : t[n];
}, r = W(e, t), o = n("sEcho", "draw"), a = n("iTotalRecords", "recordsTotal"), s = n("iTotalDisplayRecords", "recordsFiltered");
if (o) {
if (1 * o < e.iDraw) return;
e.iDraw = 1 * o;
}
T(e), e._iRecordsTotal = parseInt(a, 10), e._iRecordsDisplay = parseInt(s, 10);
for (var l = 0, c = r.length; l < c; l++) _(e, r[l]);
e.aiDisplay = e.aiDisplayMaster.slice(), e.bAjaxDataGet = !1, O(e), e._bInitComplete || oe(e, t), e.bAjaxDataGet = !0, de(e, !1);
}
function W(t, n) {
var r = e.isPlainObject(t.ajax) && t.ajax.dataSrc !== i ? t.ajax.dataSrc : t.sAjaxDataProp;
return "data" === r ? n.aaData || n[r] : "" !== r ? $(r)(n) : n;
}
function q(t) {
var i = t.oClasses, r = t.sTableId, o = t.oLanguage, a = t.oPreviousSearch, s = t.aanFeatures, l = '<input type="search" class="' + i.sFilterInput + '"/>', c = o.sSearch;
c = c.match(/_INPUT_/) ? c.replace("_INPUT_", l) : c + l;
var u = e("<div/>", {
id: s.f ? null : r + "_filter",
class: i.sFilter
}).append(e("<label/>").append(c)), d = function() {
s.f;
var e = this.value ? this.value : "";
e != a.sSearch && (G(t, {
sSearch: e,
bRegex: a.bRegex,
bSmart: a.bSmart,
bCaseInsensitive: a.bCaseInsensitive
}), t._iDisplayStart = 0, O(t));
}, h = null !== t.searchDelay ? t.searchDelay : "ssp" === Ne(t) ? 400 : 0, f = e("input", u).val(a.sSearch).attr("placeholder", o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT", h ? bt(d, h) : d).on("keypress.DT", function(e) {
if (13 == e.keyCode) return !1;
}).attr("aria-controls", r);
return e(t.nTable).on("search.dt.DT", function(e, i) {
if (t === i) try {
f[0] !== n.activeElement && f.val(a.sSearch);
} catch (e) {}
}), u[0];
}
function G(e, t, n) {
var r = e.oPreviousSearch, o = e.aoPreSearchCols, a = function(e) {
r.sSearch = e.sSearch, r.bRegex = e.bRegex, r.bSmart = e.bSmart, r.bCaseInsensitive = e.bCaseInsensitive;
}, s = function(e) {
return e.bEscapeRegex !== i ? !e.bEscapeRegex : e.bRegex;
};
if (y(e), "ssp" != Ne(e)) {
X(e, t.sSearch, n, s(t), t.bSmart, t.bCaseInsensitive), a(t);
for (var l = 0; l < o.length; l++) K(e, o[l].sSearch, l, s(o[l]), o[l].bSmart, o[l].bCaseInsensitive);
Y(e);
} else a(t);
e.bFiltered = !0, Le(e, null, "search", [ e ]);
}
function Y(t) {
for (var n, i, r = qe.ext.search, o = t.aiDisplay, a = 0, s = r.length; a < s; a++) {
for (var l = [], c = 0, u = o.length; c < u; c++) i = o[c], n = t.aoData[i], r[a](t, n._aFilterData, i, n._aData, c) && l.push(i);
o.length = 0, e.merge(o, l);
}
}
function K(e, t, n, i, r, o) {
if ("" !== t) {
for (var a, s = [], l = e.aiDisplay, c = Q(t, i, r, o), u = 0; u < l.length; u++) a = e.aoData[l[u]]._aFilterData[n], c.test(a) && s.push(l[u]);
e.aiDisplay = s;
}
}
function X(e, t, n, i, r, o) {
var a, s, l, c = Q(t, i, r, o), u = e.oPreviousSearch.sSearch, d = e.aiDisplayMaster, h = [];
if (0 !== qe.ext.search.length && (n = !0), s = J(e), t.length <= 0) e.aiDisplay = d.slice(); else {
for ((s || n || u.length > t.length || 0 !== t.indexOf(u) || e.bSorted) && (e.aiDisplay = d.slice()), a = e.aiDisplay, l = 0; l < a.length; l++) c.test(e.aoData[a[l]]._sFilterRow) && h.push(a[l]);
e.aiDisplay = h;
}
}
function Q(t, n, i, r) {
return t = n ? t : gt(t), i && (t = "^(?=.*?" + e.map(t.match(/"[^"]+"|[^ ]+/g) || [ "" ], function(e) {
if ('"' === e.charAt(0)) {
var t = e.match(/^"(.*)"$/);
e = t ? t[1] : e;
}
return e.replace('"', "");
}).join(")(?=.*?") + ").*$"), new RegExp(t, r ? "i" : "");
}
function J(e) {
var t, n, i, r, o, a, s, l, c = e.aoColumns, u = qe.ext.type.search, d = !1;
for (n = 0, r = e.aoData.length; n < r; n++) if (!(l = e.aoData[n])._aFilterData) {
for (a = [], i = 0, o = c.length; i < o; i++) (t = c[i]).bSearchable ? (s = C(e, n, i, "filter"), u[t.sType] && (s = u[t.sType](s)), null === s && (s = ""), "string" != typeof s && s.toString && (s = s.toString())) : s = "", s.indexOf && -1 !== s.indexOf("&") && (mt.innerHTML = s, s = vt ? mt.textContent : mt.innerText), s.replace && (s = s.replace(/[\r\n]/g, "")), a.push(s);
l._aFilterData = a, l._sFilterRow = a.join("  "), d = !0;
}
return d;
}
function Z(e) {
return {
search: e.sSearch,
smart: e.bSmart,
regex: e.bRegex,
caseInsensitive: e.bCaseInsensitive
};
}
function ee(e) {
return {
sSearch: e.search,
bSmart: e.smart,
bRegex: e.regex,
bCaseInsensitive: e.caseInsensitive
};
}
function te(t) {
var n = t.sTableId, i = t.aanFeatures.i, r = e("<div/>", {
class: t.oClasses.sInfo,
id: i ? null : n + "_info"
});
return i || (t.aoDrawCallback.push({
fn: ne,
sName: "information"
}), r.attr("role", "status").attr("aria-live", "polite"), e(t.nTable).attr("aria-describedby", n + "_info")), r[0];
}
function ne(t) {
var n = t.aanFeatures.i;
if (0 !== n.length) {
var i = t.oLanguage, r = t._iDisplayStart + 1, o = t.fnDisplayEnd(), a = t.fnRecordsTotal(), s = t.fnRecordsDisplay(), l = s ? i.sInfo : i.sInfoEmpty;
s !== a && (l += " " + i.sInfoFiltered), l = ie(t, l += i.sInfoPostFix);
var c = i.fnInfoCallback;
null !== c && (l = c.call(t.oInstance, t, r, o, a, s, l)), e(n).html(l);
}
}
function ie(e, t) {
var n = e.fnFormatNumber, i = e._iDisplayStart + 1, r = e._iDisplayLength, o = e.fnRecordsDisplay(), a = -1 === r;
return t.replace(/_START_/g, n.call(e, i)).replace(/_END_/g, n.call(e, e.fnDisplayEnd())).replace(/_MAX_/g, n.call(e, e.fnRecordsTotal())).replace(/_TOTAL_/g, n.call(e, o)).replace(/_PAGE_/g, n.call(e, a ? 1 : Math.ceil(i / r))).replace(/_PAGES_/g, n.call(e, a ? 1 : Math.ceil(o / r)));
}
function re(e) {
var t, n, i, r = e.iInitDisplayStart, o = e.aoColumns, a = e.oFeatures, s = e.bDeferLoading;
if (e.bInitialised) {
for (N(e), P(e), L(e, e.aoHeader), L(e, e.aoFooter), de(e, !0), a.bAutoWidth && ge(e), t = 0, n = o.length; t < n; t++) (i = o[t]).sWidth && (i.nTh.style.width = be(i.sWidth));
Le(e, null, "preInit", [ e ]), R(e);
var l = Ne(e);
("ssp" != l || s) && ("ajax" == l ? H(e, [], function(n) {
var i = W(e, n);
for (t = 0; t < i.length; t++) _(e, i[t]);
e.iInitDisplayStart = r, R(e), de(e, !1), oe(e, n);
}, e) : (de(e, !1), oe(e)));
} else setTimeout(function() {
re(e);
}, 200);
}
function oe(e, t) {
e._bInitComplete = !0, (t || e.oInit.aaData) && f(e), Le(e, null, "plugin-init", [ e, t ]), Le(e, "aoInitComplete", "init", [ e, t ]);
}
function ae(e, t) {
var n = parseInt(t, 10);
e._iDisplayLength = n, Oe(e), Le(e, null, "length", [ e, n ]);
}
function se(t) {
for (var n = t.oClasses, i = t.sTableId, r = t.aLengthMenu, o = e.isArray(r[0]), a = o ? r[0] : r, s = o ? r[1] : r, l = e("<select/>", {
name: i + "_length",
"aria-controls": i,
class: n.sLengthSelect
}), c = 0, u = a.length; c < u; c++) l[0][c] = new Option("number" == typeof s[c] ? t.fnFormatNumber(s[c]) : s[c], a[c]);
var d = e("<div><label/></div>").addClass(n.sLength);
return t.aanFeatures.l || (d[0].id = i + "_length"), d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_", l[0].outerHTML)), e("select", d).val(t._iDisplayLength).on("change.DT", function(n) {
ae(t, e(this).val()), O(t);
}), e(t.nTable).on("length.dt.DT", function(n, i, r) {
t === i && e("select", d).val(r);
}), d[0];
}
function le(t) {
var n = t.sPaginationType, i = qe.ext.pager[n], r = "function" == typeof i, o = function(e) {
O(e);
}, a = e("<div/>").addClass(t.oClasses.sPaging + n)[0], s = t.aanFeatures;
return r || i.fnInit(t, a, o), s.p || (a.id = t.sTableId + "_paginate", t.aoDrawCallback.push({
fn: function(e) {
if (r) {
var t, n, a = e._iDisplayStart, l = e._iDisplayLength, c = e.fnRecordsDisplay(), u = -1 === l, d = u ? 0 : Math.ceil(a / l), h = u ? 1 : Math.ceil(c / l), f = i(d, h);
for (t = 0, n = s.p.length; t < n; t++) Re(e, "pageButton")(e, s.p[t], t, f, d, h);
} else i.fnUpdate(e, o);
},
sName: "pagination"
})), a;
}
function ce(e, t, n) {
var i = e._iDisplayStart, r = e._iDisplayLength, o = e.fnRecordsDisplay();
0 === o || -1 === r ? i = 0 : "number" == typeof t ? (i = t * r) > o && (i = 0) : "first" == t ? i = 0 : "previous" == t ? (i = r >= 0 ? i - r : 0) < 0 && (i = 0) : "next" == t ? i + r < o && (i += r) : "last" == t ? i = Math.floor((o - 1) / r) * r : Ee(e, 0, "Unknown paging action: " + t, 5);
var a = e._iDisplayStart !== i;
return e._iDisplayStart = i, a && (Le(e, null, "page", [ e ]), n && O(e)), a;
}
function ue(t) {
return e("<div/>", {
id: t.aanFeatures.r ? null : t.sTableId + "_processing",
class: t.oClasses.sProcessing
}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0];
}
function de(t, n) {
t.oFeatures.bProcessing && e(t.aanFeatures.r).css("display", n ? "block" : "none"), Le(t, null, "processing", [ t, n ]);
}
function he(t) {
var n = e(t.nTable);
n.attr("role", "grid");
var i = t.oScroll;
if ("" === i.sX && "" === i.sY) return t.nTable;
var r = i.sX, o = i.sY, a = t.oClasses, s = n.children("caption"), l = s.length ? s[0]._captionSide : null, c = e(n[0].cloneNode(!1)), u = e(n[0].cloneNode(!1)), d = n.children("tfoot"), h = "<div/>", f = function(e) {
return e ? be(e) : null;
};
d.length || (d = null);
var p = e(h, {
class: a.sScrollWrapper
}).append(e(h, {
class: a.sScrollHead
}).css({
overflow: "hidden",
position: "relative",
border: 0,
width: r ? f(r) : "100%"
}).append(e(h, {
class: a.sScrollHeadInner
}).css({
"box-sizing": "content-box",
width: i.sXInner || "100%"
}).append(c.removeAttr("id").css("margin-left", 0).append("top" === l ? s : null).append(n.children("thead"))))).append(e(h, {
class: a.sScrollBody
}).css({
position: "relative",
overflow: "auto",
width: f(r)
}).append(n));
d && p.append(e(h, {
class: a.sScrollFoot
}).css({
overflow: "hidden",
border: 0,
width: r ? f(r) : "100%"
}).append(e(h, {
class: a.sScrollFootInner
}).append(u.removeAttr("id").css("margin-left", 0).append("bottom" === l ? s : null).append(n.children("tfoot")))));
var g = p.children(), m = g[0], v = g[1], y = d ? g[2] : null;
return r && e(v).on("scroll.DT", function(e) {
var t = this.scrollLeft;
m.scrollLeft = t, d && (y.scrollLeft = t);
}), e(v).css(o && i.bCollapse ? "max-height" : "height", o), t.nScrollHead = m, t.nScrollBody = v, t.nScrollFoot = y, t.aoDrawCallback.push({
fn: fe,
sName: "scrolling"
}), p[0];
}
function fe(t) {
var n, r, o, a, s, l, c, u, d, h = t.oScroll, g = h.sX, m = h.sXInner, v = h.sY, y = h.iBarWidth, b = e(t.nScrollHead), _ = b[0].style, w = b.children("div"), C = w[0].style, x = w.children("table"), S = t.nScrollBody, $ = e(S), A = S.style, k = e(t.nScrollFoot).children("div"), T = k.children("table"), D = e(t.nTHead), E = e(t.nTable), F = E[0], M = F.style, I = t.nTFoot ? e(t.nTFoot) : null, P = t.oBrowser, L = P.bScrollOversize, O = ot(t.aoColumns, "nTh"), R = [], N = [], B = [], H = [], V = function(e) {
var t = e.style;
t.paddingTop = "0", t.paddingBottom = "0", t.borderTopWidth = "0", t.borderBottomWidth = "0", t.height = 0;
}, U = S.scrollHeight > S.clientHeight;
if (t.scrollBarVis !== U && t.scrollBarVis !== i) return t.scrollBarVis = U, void f(t);
t.scrollBarVis = U, E.children("thead, tfoot").remove(), I && (l = I.clone().prependTo(E), r = I.find("tr"), a = l.find("tr")), s = D.clone().prependTo(E), n = D.find("tr"), o = s.find("tr"), s.find("th, td").removeAttr("tabindex"), g || (A.width = "100%", b[0].style.width = "100%"), e.each(j(t, s), function(e, n) {
c = p(t, e), n.style.width = t.aoColumns[c].sWidth;
}), I && pe(function(e) {
e.style.width = "";
}, a), d = E.outerWidth(), "" === g ? (M.width = "100%", L && (E.find("tbody").height() > S.offsetHeight || "scroll" == $.css("overflow-y")) && (M.width = be(E.outerWidth() - y)), d = E.outerWidth()) : "" !== m && (M.width = be(m), d = E.outerWidth()), pe(V, o), pe(function(t) {
B.push(t.innerHTML), R.push(be(e(t).css("width")));
}, o), pe(function(t, n) {
-1 !== e.inArray(t, O) && (t.style.width = R[n]);
}, n), e(o).height(0), I && (pe(V, a), pe(function(t) {
H.push(t.innerHTML), N.push(be(e(t).css("width")));
}, a), pe(function(e, t) {
e.style.width = N[t];
}, r), e(a).height(0)), pe(function(e, t) {
e.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + B[t] + "</div>", e.style.width = R[t];
}, o), I && pe(function(e, t) {
e.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + H[t] + "</div>", e.style.width = N[t];
}, a), E.outerWidth() < d ? (u = S.scrollHeight > S.offsetHeight || "scroll" == $.css("overflow-y") ? d + y : d, L && (S.scrollHeight > S.offsetHeight || "scroll" == $.css("overflow-y")) && (M.width = be(u - y)), "" !== g && "" === m || Ee(t, 1, "Possible column misalignment", 6)) : u = "100%", A.width = be(u), _.width = be(u), I && (t.nScrollFoot.style.width = be(u)), v || L && (A.height = be(F.offsetHeight + y));
var z = E.outerWidth();
x[0].style.width = be(z), C.width = be(z);
var W = E.height() > S.clientHeight || "scroll" == $.css("overflow-y"), q = "padding" + (P.bScrollbarLeft ? "Left" : "Right");
C[q] = W ? y + "px" : "0px", I && (T[0].style.width = be(z), k[0].style.width = be(z), k[0].style[q] = W ? y + "px" : "0px"), E.children("colgroup").insertBefore(E.children("thead")), $.scroll(), !t.bSorted && !t.bFiltered || t._drawHold || (S.scrollTop = 0);
}
function pe(e, t, n) {
for (var i, r, o = 0, a = 0, s = t.length; a < s; ) {
for (i = t[a].firstChild, r = n ? n[a].firstChild : null; i; ) 1 === i.nodeType && (n ? e(i, r, o) : e(i, o), o++), i = i.nextSibling, r = n ? r.nextSibling : null;
a++;
}
}
function ge(n) {
var i, r, o, a = n.nTable, s = n.aoColumns, l = n.oScroll, c = l.sY, u = l.sX, d = l.sXInner, h = s.length, g = v(n, "bVisible"), y = e("th", n.nTHead), b = a.getAttribute("width"), _ = a.parentNode, w = !1, C = n.oBrowser, x = C.bScrollOversize, S = a.style.width;
for (S && -1 !== S.indexOf("%") && (b = S), i = 0; i < g.length; i++) null !== (r = s[g[i]]).sWidth && (r.sWidth = me(r.sWidthOrig, _), w = !0);
if (x || !w && !u && !c && h == m(n) && h == y.length) for (i = 0; i < h; i++) {
var $ = p(n, i);
null !== $ && (s[$].sWidth = be(y.eq(i).width()));
} else {
var A = e(a).clone().css("visibility", "hidden").removeAttr("id");
A.find("tbody tr").remove();
var k = e("<tr/>").appendTo(A.find("tbody"));
for (A.find("thead, tfoot").remove(), A.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()), A.find("tfoot th, tfoot td").css("width", ""), y = j(n, A.find("thead")[0]), i = 0; i < g.length; i++) r = s[g[i]], y[i].style.width = null !== r.sWidthOrig && "" !== r.sWidthOrig ? be(r.sWidthOrig) : "", r.sWidthOrig && u && e(y[i]).append(e("<div/>").css({
width: r.sWidthOrig,
margin: 0,
padding: 0,
border: 0,
height: 1
}));
if (n.aoData.length) for (i = 0; i < g.length; i++) r = s[o = g[i]], e(ve(n, o)).clone(!1).append(r.sContentPadding).appendTo(k);
e("[name]", A).removeAttr("name");
var T = e("<div/>").css(u || c ? {
position: "absolute",
top: 0,
left: 0,
height: 1,
right: 0,
overflow: "hidden"
} : {}).append(A).appendTo(_);
u && d ? A.width(d) : u ? (A.css("width", "auto"), A.removeAttr("width"), A.width() < _.clientWidth && b && A.width(_.clientWidth)) : c ? A.width(_.clientWidth) : b && A.width(b);
var D = 0;
for (i = 0; i < g.length; i++) {
var E = e(y[i]), F = E.outerWidth() - E.width(), M = C.bBounding ? Math.ceil(y[i].getBoundingClientRect().width) : E.outerWidth();
D += M, s[g[i]].sWidth = be(M - F);
}
a.style.width = be(D), T.remove();
}
if (b && (a.style.width = be(b)), (b || u) && !n._reszEvt) {
var I = function() {
e(t).on("resize.DT-" + n.sInstance, bt(function() {
f(n);
}));
};
x ? setTimeout(I, 1e3) : I(), n._reszEvt = !0;
}
}
function me(t, i) {
if (!t) return 0;
var r = e("<div/>").css("width", be(t)).appendTo(i || n.body), o = r[0].offsetWidth;
return r.remove(), o;
}
function ve(t, n) {
var i = ye(t, n);
if (i < 0) return null;
var r = t.aoData[i];
return r.nTr ? r.anCells[n] : e("<td/>").html(C(t, i, n, "display"))[0];
}
function ye(e, t) {
for (var n, i = -1, r = -1, o = 0, a = e.aoData.length; o < a; o++) (n = (n = (n = C(e, o, t, "display") + "").replace(yt, "")).replace(/&nbsp;/g, " ")).length > i && (i = n.length, r = o);
return r;
}
function be(e) {
return null === e ? "0px" : "number" == typeof e ? e < 0 ? "0px" : e + "px" : e.match(/\d$/) ? e + "px" : e;
}
function _e(t) {
var n, r, o, a, s, l, c, u = [], d = t.aoColumns, h = t.aaSortingFixed, f = e.isPlainObject(h), p = [], g = function(t) {
t.length && !e.isArray(t[0]) ? p.push(t) : e.merge(p, t);
};
for (e.isArray(h) && g(h), f && h.pre && g(h.pre), g(t.aaSorting), f && h.post && g(h.post), n = 0; n < p.length; n++) for (r = 0, o = (a = d[c = p[n][0]].aDataSort).length; r < o; r++) l = d[s = a[r]].sType || "string", p[n]._idx === i && (p[n]._idx = e.inArray(p[n][1], d[s].asSorting)), u.push({
src: c,
col: s,
dir: p[n][1],
index: p[n]._idx,
type: l,
formatter: qe.ext.type.order[l + "-pre"]
});
return u;
}
function we(e) {
var t, n, i, r, o, a = [], s = qe.ext.type.order, l = e.aoData, c = (e.aoColumns, 0), u = e.aiDisplayMaster;
for (y(e), t = 0, n = (o = _e(e)).length; t < n; t++) (r = o[t]).formatter && c++, Ae(e, r.col);
if ("ssp" != Ne(e) && 0 !== o.length) {
for (t = 0, i = u.length; t < i; t++) a[u[t]] = t;
c === o.length ? u.sort(function(e, t) {
var n, i, r, s, c, u = o.length, d = l[e]._aSortData, h = l[t]._aSortData;
for (r = 0; r < u; r++) if (c = o[r], n = d[c.col], i = h[c.col], 0 !== (s = n < i ? -1 : n > i ? 1 : 0)) return "asc" === c.dir ? s : -s;
return n = a[e], i = a[t], n < i ? -1 : n > i ? 1 : 0;
}) : u.sort(function(e, t) {
var n, i, r, c, u, d, h = o.length, f = l[e]._aSortData, p = l[t]._aSortData;
for (r = 0; r < h; r++) if (u = o[r], n = f[u.col], i = p[u.col], d = s[u.type + "-" + u.dir] || s["string-" + u.dir], 0 !== (c = d(n, i))) return c;
return n = a[e], i = a[t], n < i ? -1 : n > i ? 1 : 0;
});
}
e.bSorted = !0;
}
function Ce(e) {
for (var t, n, i = e.aoColumns, r = _e(e), o = e.oLanguage.oAria, a = 0, s = i.length; a < s; a++) {
var l = i[a], c = l.asSorting, u = l.sTitle.replace(/<.*?>/g, ""), d = l.nTh;
d.removeAttribute("aria-sort"), l.bSortable ? (r.length > 0 && r[0].col == a ? (d.setAttribute("aria-sort", "asc" == r[0].dir ? "ascending" : "descending"), n = c[r[0].index + 1] || c[0]) : n = c[0], t = u + ("asc" === n ? o.sSortAscending : o.sSortDescending)) : t = u, d.setAttribute("aria-label", t);
}
}
function xe(t, n, r, o) {
var a, s = t.aoColumns[n], l = t.aaSorting, c = s.asSorting, u = function(t, n) {
var r = t._idx;
return r === i && (r = e.inArray(t[1], c)), r + 1 < c.length ? r + 1 : n ? null : 0;
};
if ("number" == typeof l[0] && (l = t.aaSorting = [ l ]), r && t.oFeatures.bSortMulti) {
var d = e.inArray(n, ot(l, "0"));
-1 !== d ? (null === (a = u(l[d], !0)) && 1 === l.length && (a = 0), null === a ? l.splice(d, 1) : (l[d][1] = c[a], l[d]._idx = a)) : (l.push([ n, c[0], 0 ]), l[l.length - 1]._idx = 0);
} else l.length && l[0][0] == n ? (a = u(l[0]), l.length = 1, l[0][1] = c[a], l[0]._idx = a) : (l.length = 0, l.push([ n, c[0] ]), l[0]._idx = 0);
R(t), "function" == typeof o && o(t);
}
function Se(e, t, n, i) {
var r = e.aoColumns[n];
Ie(t, {}, function(t) {
!1 !== r.bSortable && (e.oFeatures.bProcessing ? (de(e, !0), setTimeout(function() {
xe(e, n, t.shiftKey, i), "ssp" !== Ne(e) && de(e, !1);
}, 0)) : xe(e, n, t.shiftKey, i));
});
}
function $e(t) {
var n, i, r, o = t.aLastSort, a = t.oClasses.sSortColumn, s = _e(t), l = t.oFeatures;
if (l.bSort && l.bSortClasses) {
for (n = 0, i = o.length; n < i; n++) r = o[n].src, e(ot(t.aoData, "anCells", r)).removeClass(a + (n < 2 ? n + 1 : 3));
for (n = 0, i = s.length; n < i; n++) r = s[n].src, e(ot(t.aoData, "anCells", r)).addClass(a + (n < 2 ? n + 1 : 3));
}
t.aLastSort = s;
}
function Ae(e, t) {
var n, i = e.aoColumns[t], r = qe.ext.order[i.sSortDataType];
r && (n = r.call(e.oInstance, e, t, g(e, t)));
for (var o, a, s = qe.ext.type.order[i.sType + "-pre"], l = 0, c = e.aoData.length; l < c; l++) (o = e.aoData[l])._aSortData || (o._aSortData = []), o._aSortData[t] && !r || (a = r ? n[l] : C(e, l, t, "sort"), o._aSortData[t] = s ? s(a) : a);
}
function ke(t) {
if (t.oFeatures.bStateSave && !t.bDestroying) {
var n = {
time: +new Date(),
start: t._iDisplayStart,
length: t._iDisplayLength,
order: e.extend(!0, [], t.aaSorting),
search: Z(t.oPreviousSearch),
columns: e.map(t.aoColumns, function(e, n) {
return {
visible: e.bVisible,
search: Z(t.aoPreSearchCols[n])
};
})
};
Le(t, "aoStateSaveParams", "stateSaveParams", [ t, n ]), t.oSavedState = n, t.fnStateSaveCallback.call(t.oInstance, t, n);
}
}
function Te(t, n, r) {
var o, a, s = t.aoColumns, l = function(n) {
if (n && n.time) {
var l = Le(t, "aoStateLoadParams", "stateLoadParams", [ t, n ]);
if (-1 === e.inArray(!1, l)) {
var c = t.iStateDuration;
if (c > 0 && n.time < +new Date() - 1e3 * c) r(); else if (n.columns && s.length !== n.columns.length) r(); else {
if (t.oLoadedState = e.extend(!0, {}, n), n.start !== i && (t._iDisplayStart = n.start, t.iInitDisplayStart = n.start), n.length !== i && (t._iDisplayLength = n.length), n.order !== i && (t.aaSorting = [], e.each(n.order, function(e, n) {
t.aaSorting.push(n[0] >= s.length ? [ 0, n[1] ] : n);
})), n.search !== i && e.extend(t.oPreviousSearch, ee(n.search)), n.columns) for (o = 0, a = n.columns.length; o < a; o++) {
var u = n.columns[o];
u.visible !== i && (s[o].bVisible = u.visible), u.search !== i && e.extend(t.aoPreSearchCols[o], ee(u.search));
}
Le(t, "aoStateLoaded", "stateLoaded", [ t, n ]), r();
}
} else r();
} else r();
};
if (t.oFeatures.bStateSave) {
var c = t.fnStateLoadCallback.call(t.oInstance, t, l);
c !== i && l(c);
} else r();
}
function De(t) {
var n = qe.settings, i = e.inArray(t, ot(n, "nTable"));
return -1 !== i ? n[i] : null;
}
function Ee(e, n, i, r) {
if (i = "DataTables warning: " + (e ? "table id=" + e.sTableId + " - " : "") + i, r && (i += ". For more information about this error, please see http://datatables.net/tn/" + r), n) t.console && console.log && console.log(i); else {
var o = qe.ext, a = o.sErrMode || o.errMode;
if (e && Le(e, null, "error", [ e, r, i ]), "alert" == a) alert(i); else {
if ("throw" == a) throw new Error(i);
"function" == typeof a && a(e, r, i);
}
}
}
function Fe(t, n, r, o) {
e.isArray(r) ? e.each(r, function(i, r) {
e.isArray(r) ? Fe(t, n, r[0], r[1]) : Fe(t, n, r);
}) : (o === i && (o = r), n[r] !== i && (t[o] = n[r]));
}
function Me(t, n, i) {
var r;
for (var o in n) n.hasOwnProperty(o) && (r = n[o], e.isPlainObject(r) ? (e.isPlainObject(t[o]) || (t[o] = {}), e.extend(!0, t[o], r)) : i && "data" !== o && "aaData" !== o && e.isArray(r) ? t[o] = r.slice() : t[o] = r);
return t;
}
function Ie(t, n, i) {
e(t).on("click.DT", n, function(e) {
t.blur(), i(e);
}).on("keypress.DT", n, function(e) {
13 === e.which && (e.preventDefault(), i(e));
}).on("selectstart.DT", function() {
return !1;
});
}
function Pe(e, t, n, i) {
n && e[t].push({
fn: n,
sName: i
});
}
function Le(t, n, i, r) {
var o = [];
if (n && (o = e.map(t[n].slice().reverse(), function(e, n) {
return e.fn.apply(t.oInstance, r);
})), null !== i) {
var a = e.Event(i + ".dt");
e(t.nTable).trigger(a, r), o.push(a.result);
}
return o;
}
function Oe(e) {
var t = e._iDisplayStart, n = e.fnDisplayEnd(), i = e._iDisplayLength;
t >= n && (t = n - i), t -= t % i, (-1 === i || t < 0) && (t = 0), e._iDisplayStart = t;
}
function Re(t, n) {
var i = t.renderer, r = qe.ext.renderer[n];
return e.isPlainObject(i) && i[n] ? r[i[n]] || r._ : "string" == typeof i ? r[i] || r._ : r._;
}
function Ne(e) {
return e.oFeatures.bServerSide ? "ssp" : e.ajax || e.sAjaxSource ? "ajax" : "dom";
}
function Be(e, t) {
var n = [], i = Bt.numbers_length, r = Math.floor(i / 2);
return t <= i ? n = st(0, t) : e <= r ? ((n = st(0, i - 2)).push("ellipsis"), n.push(t - 1)) : e >= t - 1 - r ? ((n = st(t - (i - 2), t)).splice(0, 0, "ellipsis"), n.splice(0, 0, 0)) : ((n = st(e - r + 2, e + r - 1)).push("ellipsis"), n.push(t - 1), n.splice(0, 0, "ellipsis"), n.splice(0, 0, 0)), n.DT_el = "span", n;
}
function je(t) {
e.each({
num: function(e) {
return jt(e, t);
},
"num-fmt": function(e) {
return jt(e, t, Je);
},
"html-num": function(e) {
return jt(e, t, Ke);
},
"html-num-fmt": function(e) {
return jt(e, t, Ke, Je);
}
}, function(e, n) {
Ve.type.order[e + t + "-pre"] = n, e.match(/^html\-/) && (Ve.type.search[e + t] = Ve.type.search.html);
});
}
function He(e) {
return function() {
var t = [ De(this[qe.ext.iApiIndex]) ].concat(Array.prototype.slice.call(arguments));
return qe.ext.internal[e].apply(this, t);
};
}
var Ve, Ue, ze, We, qe = function(t) {
this.$ = function(e, t) {
return this.api(!0).$(e, t);
}, this._ = function(e, t) {
return this.api(!0).rows(e, t).data();
}, this.api = function(e) {
return new Ue(e ? De(this[Ve.iApiIndex]) : this);
}, this.fnAddData = function(t, n) {
var r = this.api(!0), o = e.isArray(t) && (e.isArray(t[0]) || e.isPlainObject(t[0])) ? r.rows.add(t) : r.row.add(t);
return (n === i || n) && r.draw(), o.flatten().toArray();
}, this.fnAdjustColumnSizing = function(e) {
var t = this.api(!0).columns.adjust(), n = t.settings()[0], r = n.oScroll;
e === i || e ? t.draw(!1) : "" === r.sX && "" === r.sY || fe(n);
}, this.fnClearTable = function(e) {
var t = this.api(!0).clear();
(e === i || e) && t.draw();
}, this.fnClose = function(e) {
this.api(!0).row(e).child.hide();
}, this.fnDeleteRow = function(e, t, n) {
var r = this.api(!0), o = r.rows(e), a = o.settings()[0], s = a.aoData[o[0][0]];
return o.remove(), t && t.call(this, a, s), (n === i || n) && r.draw(), s;
}, this.fnDestroy = function(e) {
this.api(!0).destroy(e);
}, this.fnDraw = function(e) {
this.api(!0).draw(e);
}, this.fnFilter = function(e, t, n, r, o, a) {
var s = this.api(!0);
null === t || t === i ? s.search(e, n, r, a) : s.column(t).search(e, n, r, a), s.draw();
}, this.fnGetData = function(e, t) {
var n = this.api(!0);
if (e !== i) {
var r = e.nodeName ? e.nodeName.toLowerCase() : "";
return t !== i || "td" == r || "th" == r ? n.cell(e, t).data() : n.row(e).data() || null;
}
return n.data().toArray();
}, this.fnGetNodes = function(e) {
var t = this.api(!0);
return e !== i ? t.row(e).node() : t.rows().nodes().flatten().toArray();
}, this.fnGetPosition = function(e) {
var t = this.api(!0), n = e.nodeName.toUpperCase();
if ("TR" == n) return t.row(e).index();
if ("TD" == n || "TH" == n) {
var i = t.cell(e).index();
return [ i.row, i.columnVisible, i.column ];
}
return null;
}, this.fnIsOpen = function(e) {
return this.api(!0).row(e).child.isShown();
}, this.fnOpen = function(e, t, n) {
return this.api(!0).row(e).child(t, n).show().child()[0];
}, this.fnPageChange = function(e, t) {
var n = this.api(!0).page(e);
(t === i || t) && n.draw(!1);
}, this.fnSetColumnVis = function(e, t, n) {
var r = this.api(!0).column(e).visible(t);
(n === i || n) && r.columns.adjust().draw();
}, this.fnSettings = function() {
return De(this[Ve.iApiIndex]);
}, this.fnSort = function(e) {
this.api(!0).order(e).draw();
}, this.fnSortListener = function(e, t, n) {
this.api(!0).order.listener(e, t, n);
}, this.fnUpdate = function(e, t, n, r, o) {
var a = this.api(!0);
return n === i || null === n ? a.row(t).data(e) : a.cell(t, n).data(e), (o === i || o) && a.columns.adjust(), (r === i || r) && a.draw(), 0;
}, this.fnVersionCheck = Ve.fnVersionCheck;
var n = this, r = t === i, u = this.length;
r && (t = {}), this.oApi = this.internal = Ve.internal;
for (var f in qe.ext.internal) f && (this[f] = He(f));
return this.each(function() {
var f, p = {}, g = u > 1 ? Me(p, t, !0) : t, m = 0, v = this.getAttribute("id"), y = !1, C = qe.defaults, x = e(this);
if ("table" == this.nodeName.toLowerCase()) {
s(C), l(C.column), o(C, C, !0), o(C.column, C.column, !0), o(C, e.extend(g, x.data()));
var S = qe.settings;
for (m = 0, f = S.length; m < f; m++) {
var A = S[m];
if (A.nTable == this || A.nTHead.parentNode == this || A.nTFoot && A.nTFoot.parentNode == this) {
var k = g.bRetrieve !== i ? g.bRetrieve : C.bRetrieve, T = g.bDestroy !== i ? g.bDestroy : C.bDestroy;
if (r || k) return A.oInstance;
if (T) {
A.oInstance.fnDestroy();
break;
}
return void Ee(A, 0, "Cannot reinitialise DataTable", 3);
}
if (A.sTableId == this.id) {
S.splice(m, 1);
break;
}
}
null !== v && "" !== v || (v = "DataTables_Table_" + qe.ext._unique++, this.id = v);
var D = e.extend(!0, {}, qe.models.oSettings, {
sDestroyWidth: x[0].style.width,
sInstance: v,
sTableId: v
});
D.nTable = this, D.oApi = n.internal, D.oInit = g, S.push(D), D.oInstance = 1 === n.length ? n : x.dataTable(), s(g), g.oLanguage && a(g.oLanguage), g.aLengthMenu && !g.iDisplayLength && (g.iDisplayLength = e.isArray(g.aLengthMenu[0]) ? g.aLengthMenu[0][0] : g.aLengthMenu[0]), g = Me(e.extend(!0, {}, C), g), Fe(D.oFeatures, g, [ "bPaginate", "bLengthChange", "bFilter", "bSort", "bSortMulti", "bInfo", "bProcessing", "bAutoWidth", "bSortClasses", "bServerSide", "bDeferRender" ]), Fe(D, g, [ "asStripeClasses", "ajax", "fnServerData", "fnFormatNumber", "sServerMethod", "aaSorting", "aaSortingFixed", "aLengthMenu", "sPaginationType", "sAjaxSource", "sAjaxDataProp", "iStateDuration", "sDom", "bSortCellsTop", "iTabIndex", "fnStateLoadCallback", "fnStateSaveCallback", "renderer", "searchDelay", "rowId", [ "iCookieDuration", "iStateDuration" ], [ "oSearch", "oPreviousSearch" ], [ "aoSearchCols", "aoPreSearchCols" ], [ "iDisplayLength", "_iDisplayLength" ] ]), Fe(D.oScroll, g, [ [ "sScrollX", "sX" ], [ "sScrollXInner", "sXInner" ], [ "sScrollY", "sY" ], [ "bScrollCollapse", "bCollapse" ] ]), 
Fe(D.oLanguage, g, "fnInfoCallback"), Pe(D, "aoDrawCallback", g.fnDrawCallback, "user"), Pe(D, "aoServerParams", g.fnServerParams, "user"), Pe(D, "aoStateSaveParams", g.fnStateSaveParams, "user"), Pe(D, "aoStateLoadParams", g.fnStateLoadParams, "user"), Pe(D, "aoStateLoaded", g.fnStateLoaded, "user"), Pe(D, "aoRowCallback", g.fnRowCallback, "user"), Pe(D, "aoRowCreatedCallback", g.fnCreatedRow, "user"), Pe(D, "aoHeaderCallback", g.fnHeaderCallback, "user"), Pe(D, "aoFooterCallback", g.fnFooterCallback, "user"), Pe(D, "aoInitComplete", g.fnInitComplete, "user"), Pe(D, "aoPreDrawCallback", g.fnPreDrawCallback, "user"), D.rowIdFn = $(g.rowId), c(D);
var E = D.oClasses;
if (e.extend(E, qe.ext.classes, g.oClasses), x.addClass(E.sTable), D.iInitDisplayStart === i && (D.iInitDisplayStart = g.iDisplayStart, D._iDisplayStart = g.iDisplayStart), null !== g.iDeferLoading) {
D.bDeferLoading = !0;
var F = e.isArray(g.iDeferLoading);
D._iRecordsDisplay = F ? g.iDeferLoading[0] : g.iDeferLoading, D._iRecordsTotal = F ? g.iDeferLoading[1] : g.iDeferLoading;
}
var M = D.oLanguage;
e.extend(!0, M, g.oLanguage), M.sUrl && (e.ajax({
dataType: "json",
url: M.sUrl,
success: function(t) {
a(t), o(C.oLanguage, t), e.extend(!0, M, t), re(D);
},
error: function() {
re(D);
}
}), y = !0), null === g.asStripeClasses && (D.asStripeClasses = [ E.sStripeOdd, E.sStripeEven ]);
var I = D.asStripeClasses, P = x.children("tbody").find("tr").eq(0);
-1 !== e.inArray(!0, e.map(I, function(e, t) {
return P.hasClass(e);
})) && (e("tbody tr", this).removeClass(I.join(" ")), D.asDestroyStripes = I.slice());
var L, O = [], R = this.getElementsByTagName("thead");
if (0 !== R.length && (B(D.aoHeader, R[0]), O = j(D)), null === g.aoColumns) for (L = [], m = 0, f = O.length; m < f; m++) L.push(null); else L = g.aoColumns;
for (m = 0, f = L.length; m < f; m++) d(D, O ? O[m] : null);
if (b(D, g.aoColumnDefs, L, function(e, t) {
h(D, e, t);
}), P.length) {
var N = function(e, t) {
return null !== e.getAttribute("data-" + t) ? t : null;
};
e(P[0]).children("th, td").each(function(e, t) {
var n = D.aoColumns[e];
if (n.mData === e) {
var r = N(t, "sort") || N(t, "order"), o = N(t, "filter") || N(t, "search");
null === r && null === o || (n.mData = {
_: e + ".display",
sort: null !== r ? e + ".@data-" + r : i,
type: null !== r ? e + ".@data-" + r : i,
filter: null !== o ? e + ".@data-" + o : i
}, h(D, e));
}
});
}
var H = D.oFeatures, V = function() {
if (g.aaSorting === i) {
var t = D.aaSorting;
for (m = 0, f = t.length; m < f; m++) t[m][1] = D.aoColumns[m].asSorting[0];
}
$e(D), H.bSort && Pe(D, "aoDrawCallback", function() {
if (D.bSorted) {
var t = _e(D), n = {};
e.each(t, function(e, t) {
n[t.src] = t.dir;
}), Le(D, null, "order", [ D, t, n ]), Ce(D);
}
}), Pe(D, "aoDrawCallback", function() {
(D.bSorted || "ssp" === Ne(D) || H.bDeferRender) && $e(D);
}, "sc");
var n = x.children("caption").each(function() {
this._captionSide = e(this).css("caption-side");
}), r = x.children("thead");
0 === r.length && (r = e("<thead/>").appendTo(x)), D.nTHead = r[0];
var o = x.children("tbody");
0 === o.length && (o = e("<tbody/>").appendTo(x)), D.nTBody = o[0];
var a = x.children("tfoot");
if (0 === a.length && n.length > 0 && ("" !== D.oScroll.sX || "" !== D.oScroll.sY) && (a = e("<tfoot/>").appendTo(x)), 0 === a.length || 0 === a.children().length ? x.addClass(E.sNoFooter) : a.length > 0 && (D.nTFoot = a[0], B(D.aoFooter, D.nTFoot)), g.aaData) for (m = 0; m < g.aaData.length; m++) _(D, g.aaData[m]); else (D.bDeferLoading || "dom" == Ne(D)) && w(D, e(D.nTBody).children("tr"));
D.aiDisplay = D.aiDisplayMaster.slice(), D.bInitialised = !0, !1 === y && re(D);
};
g.bStateSave ? (H.bStateSave = !0, Pe(D, "aoDrawCallback", ke, "state_save"), Te(D, 0, V)) : V();
} else Ee(null, 0, "Non-table node initialisation (" + this.nodeName + ")", 2);
}), n = null, this;
}, Ge = {}, Ye = /[\r\n]/g, Ke = /<.*?>/g, Xe = /^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/, Qe = new RegExp("(\\" + [ "/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^", "-" ].join("|\\") + ")", "g"), Je = /[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi, Ze = function(e) {
return !e || !0 === e || "-" === e;
}, et = function(e) {
var t = parseInt(e, 10);
return !isNaN(t) && isFinite(e) ? t : null;
}, tt = function(e, t) {
return Ge[t] || (Ge[t] = new RegExp(gt(t), "g")), "string" == typeof e && "." !== t ? e.replace(/\./g, "").replace(Ge[t], ".") : e;
}, nt = function(e, t, n) {
var i = "string" == typeof e;
return !!Ze(e) || (t && i && (e = tt(e, t)), n && i && (e = e.replace(Je, "")), !isNaN(parseFloat(e)) && isFinite(e));
}, it = function(e) {
return Ze(e) || "string" == typeof e;
}, rt = function(e, t, n) {
return !!Ze(e) || (it(e) ? !!nt(ct(e), t, n) || null : null);
}, ot = function(e, t, n) {
var r = [], o = 0, a = e.length;
if (n !== i) for (;o < a; o++) e[o] && e[o][t] && r.push(e[o][t][n]); else for (;o < a; o++) e[o] && r.push(e[o][t]);
return r;
}, at = function(e, t, n, r) {
var o = [], a = 0, s = t.length;
if (r !== i) for (;a < s; a++) e[t[a]][n] && o.push(e[t[a]][n][r]); else for (;a < s; a++) o.push(e[t[a]][n]);
return o;
}, st = function(e, t) {
var n, r = [];
t === i ? (t = 0, n = e) : (n = t, t = e);
for (var o = t; o < n; o++) r.push(o);
return r;
}, lt = function(e) {
for (var t = [], n = 0, i = e.length; n < i; n++) e[n] && t.push(e[n]);
return t;
}, ct = function(e) {
return e.replace(Ke, "");
}, ut = function(e) {
if (e.length < 2) return !0;
for (var t = e.slice().sort(), n = t[0], i = 1, r = t.length; i < r; i++) {
if (t[i] === n) return !1;
n = t[i];
}
return !0;
}, dt = function(e) {
if (ut(e)) return e.slice();
var t, n, i, r = [], o = e.length, a = 0;
e: for (n = 0; n < o; n++) {
for (t = e[n], i = 0; i < a; i++) if (r[i] === t) continue e;
r.push(t), a++;
}
return r;
};
qe.util = {
throttle: function(e, t) {
var n, r, o = t !== i ? t : 200;
return function() {
var t = this, a = +new Date(), s = arguments;
n && a < n + o ? (clearTimeout(r), r = setTimeout(function() {
n = i, e.apply(t, s);
}, o)) : (n = a, e.apply(t, s));
};
},
escapeRegex: function(e) {
return e.replace(Qe, "\\$1");
}
};
var ht = function(e, t, n) {
e[t] !== i && (e[n] = e[t]);
}, ft = /\[.*?\]$/, pt = /\(\)$/, gt = qe.util.escapeRegex, mt = e("<div>")[0], vt = mt.textContent !== i, yt = /<.*?>/g, bt = qe.util.throttle, _t = [], wt = Array.prototype, Ct = function(t) {
var n, i, r = qe.settings, o = e.map(r, function(e, t) {
return e.nTable;
});
return t ? t.nTable && t.oApi ? [ t ] : t.nodeName && "table" === t.nodeName.toLowerCase() ? -1 !== (n = e.inArray(t, o)) ? [ r[n] ] : null : t && "function" == typeof t.settings ? t.settings().toArray() : ("string" == typeof t ? i = e(t) : t instanceof e && (i = t), i ? i.map(function(t) {
return -1 !== (n = e.inArray(this, o)) ? r[n] : null;
}).toArray() : void 0) : [];
};
Ue = function(t, n) {
if (!(this instanceof Ue)) return new Ue(t, n);
var i = [], r = function(e) {
var t = Ct(e);
t && (i = i.concat(t));
};
if (e.isArray(t)) for (var o = 0, a = t.length; o < a; o++) r(t[o]); else r(t);
this.context = dt(i), n && e.merge(this, n), this.selector = {
rows: null,
cols: null,
opts: null
}, Ue.extend(this, this, _t);
}, qe.Api = Ue, e.extend(Ue.prototype, {
any: function() {
return 0 !== this.count();
},
concat: wt.concat,
context: [],
count: function() {
return this.flatten().length;
},
each: function(e) {
for (var t = 0, n = this.length; t < n; t++) e.call(this, this[t], t, this);
return this;
},
eq: function(e) {
var t = this.context;
return t.length > e ? new Ue(t[e], this[e]) : null;
},
filter: function(e) {
var t = [];
if (wt.filter) t = wt.filter.call(this, e, this); else for (var n = 0, i = this.length; n < i; n++) e.call(this, this[n], n, this) && t.push(this[n]);
return new Ue(this.context, t);
},
flatten: function() {
var e = [];
return new Ue(this.context, e.concat.apply(e, this.toArray()));
},
join: wt.join,
indexOf: wt.indexOf || function(e, t) {
for (var n = t || 0, i = this.length; n < i; n++) if (this[n] === e) return n;
return -1;
},
iterator: function(e, t, n, r) {
var o, a, s, l, c, u, d, h, f = [], p = this.context, g = this.selector;
for ("string" == typeof e && (r = n, n = t, t = e, e = !1), a = 0, s = p.length; a < s; a++) {
var m = new Ue(p[a]);
if ("table" === t) (o = n.call(m, p[a], a)) !== i && f.push(o); else if ("columns" === t || "rows" === t) (o = n.call(m, p[a], this[a], a)) !== i && f.push(o); else if ("column" === t || "column-rows" === t || "row" === t || "cell" === t) for (d = this[a], "column-rows" === t && (u = Tt(p[a], g.opts)), l = 0, c = d.length; l < c; l++) h = d[l], (o = "cell" === t ? n.call(m, p[a], h.row, h.column, a, l) : n.call(m, p[a], h, a, l, u)) !== i && f.push(o);
}
if (f.length || r) {
var v = new Ue(p, e ? f.concat.apply([], f) : f), y = v.selector;
return y.rows = g.rows, y.cols = g.cols, y.opts = g.opts, v;
}
return this;
},
lastIndexOf: wt.lastIndexOf || function(e, t) {
return this.indexOf.apply(this.toArray.reverse(), arguments);
},
length: 0,
map: function(e) {
var t = [];
if (wt.map) t = wt.map.call(this, e, this); else for (var n = 0, i = this.length; n < i; n++) t.push(e.call(this, this[n], n));
return new Ue(this.context, t);
},
pluck: function(e) {
return this.map(function(t) {
return t[e];
});
},
pop: wt.pop,
push: wt.push,
reduce: wt.reduce || function(e, t) {
return u(this, e, t, 0, this.length, 1);
},
reduceRight: wt.reduceRight || function(e, t) {
return u(this, e, t, this.length - 1, -1, -1);
},
reverse: wt.reverse,
selector: null,
shift: wt.shift,
slice: function() {
return new Ue(this.context, this);
},
sort: wt.sort,
splice: wt.splice,
toArray: function() {
return wt.slice.call(this);
},
to$: function() {
return e(this);
},
toJQuery: function() {
return e(this);
},
unique: function() {
return new Ue(this.context, dt(this));
},
unshift: wt.unshift
}), Ue.extend = function(t, n, i) {
if (i.length && n && (n instanceof Ue || n.__dt_wrapper)) {
var r, o, a;
for (r = 0, o = i.length; r < o; r++) n[(a = i[r]).name] = "function" == typeof a.val ? function(e, t, n) {
return function() {
var i = t.apply(e, arguments);
return Ue.extend(i, i, n.methodExt), i;
};
}(t, a.val, a) : e.isPlainObject(a.val) ? {} : a.val, n[a.name].__dt_wrapper = !0, Ue.extend(t, n[a.name], a.propExt);
}
}, Ue.register = ze = function(t, n) {
if (e.isArray(t)) for (var i = 0, r = t.length; i < r; i++) Ue.register(t[i], n); else {
var o, a, s, l, c = t.split("."), u = _t;
for (o = 0, a = c.length; o < a; o++) {
var d = function(e, t) {
for (var n = 0, i = e.length; n < i; n++) if (e[n].name === t) return e[n];
return null;
}(u, s = (l = -1 !== c[o].indexOf("()")) ? c[o].replace("()", "") : c[o]);
d || (d = {
name: s,
val: {},
methodExt: [],
propExt: []
}, u.push(d)), o === a - 1 ? d.val = n : u = l ? d.methodExt : d.propExt;
}
}
}, Ue.registerPlural = We = function(t, n, r) {
Ue.register(t, r), Ue.register(n, function() {
var t = r.apply(this, arguments);
return t === this ? this : t instanceof Ue ? t.length ? e.isArray(t[0]) ? new Ue(t.context, t[0]) : t[0] : i : t;
});
};
var xt = function(t, n) {
if ("number" == typeof t) return [ n[t] ];
var i = e.map(n, function(e, t) {
return e.nTable;
});
return e(i).filter(t).map(function(t) {
var r = e.inArray(this, i);
return n[r];
}).toArray();
};
ze("tables()", function(e) {
return e ? new Ue(xt(e, this.context)) : this;
}), ze("table()", function(e) {
var t = this.tables(e), n = t.context;
return n.length ? new Ue(n[0]) : t;
}), We("tables().nodes()", "table().node()", function() {
return this.iterator("table", function(e) {
return e.nTable;
}, 1);
}), We("tables().body()", "table().body()", function() {
return this.iterator("table", function(e) {
return e.nTBody;
}, 1);
}), We("tables().header()", "table().header()", function() {
return this.iterator("table", function(e) {
return e.nTHead;
}, 1);
}), We("tables().footer()", "table().footer()", function() {
return this.iterator("table", function(e) {
return e.nTFoot;
}, 1);
}), We("tables().containers()", "table().container()", function() {
return this.iterator("table", function(e) {
return e.nTableWrapper;
}, 1);
}), ze("draw()", function(e) {
return this.iterator("table", function(t) {
"page" === e ? O(t) : ("string" == typeof e && (e = "full-hold" !== e), R(t, !1 === e));
});
}), ze("page()", function(e) {
return e === i ? this.page.info().page : this.iterator("table", function(t) {
ce(t, e);
});
}), ze("page.info()", function(e) {
if (0 === this.context.length) return i;
var t = this.context[0], n = t._iDisplayStart, r = t.oFeatures.bPaginate ? t._iDisplayLength : -1, o = t.fnRecordsDisplay(), a = -1 === r;
return {
page: a ? 0 : Math.floor(n / r),
pages: a ? 1 : Math.ceil(o / r),
start: n,
end: t.fnDisplayEnd(),
length: r,
recordsTotal: t.fnRecordsTotal(),
recordsDisplay: o,
serverSide: "ssp" === Ne(t)
};
}), ze("page.len()", function(e) {
return e === i ? 0 !== this.context.length ? this.context[0]._iDisplayLength : i : this.iterator("table", function(t) {
ae(t, e);
});
});
var St = function(e, t, n) {
if (n) {
var i = new Ue(e);
i.one("draw", function() {
n(i.ajax.json());
});
}
if ("ssp" == Ne(e)) R(e, t); else {
de(e, !0);
var r = e.jqXHR;
r && 4 !== r.readyState && r.abort(), H(e, [], function(n) {
T(e);
for (var i = W(e, n), r = 0, o = i.length; r < o; r++) _(e, i[r]);
R(e, t), de(e, !1);
});
}
};
ze("ajax.json()", function() {
var e = this.context;
if (e.length > 0) return e[0].json;
}), ze("ajax.params()", function() {
var e = this.context;
if (e.length > 0) return e[0].oAjaxData;
}), ze("ajax.reload()", function(e, t) {
return this.iterator("table", function(n) {
St(n, !1 === t, e);
});
}), ze("ajax.url()", function(t) {
var n = this.context;
return t === i ? 0 === n.length ? i : (n = n[0]).ajax ? e.isPlainObject(n.ajax) ? n.ajax.url : n.ajax : n.sAjaxSource : this.iterator("table", function(n) {
e.isPlainObject(n.ajax) ? n.ajax.url = t : n.ajax = t;
});
}), ze("ajax.url().load()", function(e, t) {
return this.iterator("table", function(n) {
St(n, !1 === t, e);
});
});
var $t = function(t, n, r, o, a) {
var s, l, c, u, d, h, f = [], p = typeof n;
for (n && "string" !== p && "function" !== p && n.length !== i || (n = [ n ]), c = 0, u = n.length; c < u; c++) for (d = 0, h = (l = n[c] && n[c].split && !n[c].match(/[\[\(:]/) ? n[c].split(",") : [ n[c] ]).length; d < h; d++) (s = r("string" == typeof l[d] ? e.trim(l[d]) : l[d])) && s.length && (f = f.concat(s));
var g = Ve.selector[t];
if (g.length) for (c = 0, u = g.length; c < u; c++) f = g[c](o, a, f);
return dt(f);
}, At = function(t) {
return t || (t = {}), t.filter && t.search === i && (t.search = t.filter), e.extend({
search: "none",
order: "current",
page: "all"
}, t);
}, kt = function(e) {
for (var t = 0, n = e.length; t < n; t++) if (e[t].length > 0) return e[0] = e[t], e[0].length = 1, e.length = 1, e.context = [ e.context[t] ], e;
return e.length = 0, e;
}, Tt = function(t, n) {
var i, r, o, a = [], s = t.aiDisplay, l = t.aiDisplayMaster, c = n.search, u = n.order, d = n.page;
if ("ssp" == Ne(t)) return "removed" === c ? [] : st(0, l.length);
if ("current" == d) for (i = t._iDisplayStart, r = t.fnDisplayEnd(); i < r; i++) a.push(s[i]); else if ("current" == u || "applied" == u) a = "none" == c ? l.slice() : "applied" == c ? s.slice() : e.map(l, function(t, n) {
return -1 === e.inArray(t, s) ? t : null;
}); else if ("index" == u || "original" == u) for (i = 0, r = t.aoData.length; i < r; i++) "none" == c ? a.push(i) : (-1 === (o = e.inArray(i, s)) && "removed" == c || o >= 0 && "applied" == c) && a.push(i);
return a;
}, Dt = function(t, n, r) {
var o;
return $t("row", n, function(n) {
var a = et(n);
if (null !== a && !r) return [ a ];
if (o || (o = Tt(t, r)), null !== a && -1 !== e.inArray(a, o)) return [ a ];
if (null === n || n === i || "" === n) return o;
if ("function" == typeof n) return e.map(o, function(e) {
var i = t.aoData[e];
return n(e, i._aData, i.nTr) ? e : null;
});
var s = lt(at(t.aoData, o, "nTr"));
if (n.nodeName) {
if (n._DT_RowIndex !== i) return [ n._DT_RowIndex ];
if (n._DT_CellIndex) return [ n._DT_CellIndex.row ];
var l = e(n).closest("*[data-dt-row]");
return l.length ? [ l.data("dt-row") ] : [];
}
if ("string" == typeof n && "#" === n.charAt(0)) {
var c = t.aIds[n.replace(/^#/, "")];
if (c !== i) return [ c.idx ];
}
return e(s).filter(n).map(function() {
return this._DT_RowIndex;
}).toArray();
}, t, r);
};
ze("rows()", function(t, n) {
t === i ? t = "" : e.isPlainObject(t) && (n = t, t = ""), n = At(n);
var r = this.iterator("table", function(e) {
return Dt(e, t, n);
}, 1);
return r.selector.rows = t, r.selector.opts = n, r;
}), ze("rows().nodes()", function() {
return this.iterator("row", function(e, t) {
return e.aoData[t].nTr || i;
}, 1);
}), ze("rows().data()", function() {
return this.iterator(!0, "rows", function(e, t) {
return at(e.aoData, t, "_aData");
}, 1);
}), We("rows().cache()", "row().cache()", function(e) {
return this.iterator("row", function(t, n) {
var i = t.aoData[n];
return "search" === e ? i._aFilterData : i._aSortData;
}, 1);
}), We("rows().invalidate()", "row().invalidate()", function(e) {
return this.iterator("row", function(t, n) {
E(t, n, e);
});
}), We("rows().indexes()", "row().index()", function() {
return this.iterator("row", function(e, t) {
return t;
}, 1);
}), We("rows().ids()", "row().id()", function(e) {
for (var t = [], n = this.context, i = 0, r = n.length; i < r; i++) for (var o = 0, a = this[i].length; o < a; o++) {
var s = n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);
t.push((!0 === e ? "#" : "") + s);
}
return new Ue(n, t);
}), We("rows().remove()", "row().remove()", function() {
var e = this;
return this.iterator("row", function(t, n, r) {
var o, a, s, l, c, u, d = t.aoData, h = d[n];
for (d.splice(n, 1), o = 0, a = d.length; o < a; o++) if (c = d[o], u = c.anCells, null !== c.nTr && (c.nTr._DT_RowIndex = o), null !== u) for (s = 0, l = u.length; s < l; s++) u[s]._DT_CellIndex.row = o;
D(t.aiDisplayMaster, n), D(t.aiDisplay, n), D(e[r], n, !1), t._iRecordsDisplay > 0 && t._iRecordsDisplay--, Oe(t);
var f = t.rowIdFn(h._aData);
f !== i && delete t.aIds[f];
}), this.iterator("table", function(e) {
for (var t = 0, n = e.aoData.length; t < n; t++) e.aoData[t].idx = t;
}), this;
}), ze("rows.add()", function(t) {
var n = this.iterator("table", function(e) {
var n, i, r, o = [];
for (i = 0, r = t.length; i < r; i++) (n = t[i]).nodeName && "TR" === n.nodeName.toUpperCase() ? o.push(w(e, n)[0]) : o.push(_(e, n));
return o;
}, 1), i = this.rows(-1);
return i.pop(), e.merge(i, n), i;
}), ze("row()", function(e, t) {
return kt(this.rows(e, t));
}), ze("row().data()", function(e) {
var t = this.context;
return e === i ? t.length && this.length ? t[0].aoData[this[0]]._aData : i : (t[0].aoData[this[0]]._aData = e, E(t[0], this[0], "data"), this);
}), ze("row().node()", function() {
var e = this.context;
return e.length && this.length ? e[0].aoData[this[0]].nTr || null : null;
}), ze("row.add()", function(t) {
t instanceof e && t.length && (t = t[0]);
var n = this.iterator("table", function(e) {
return t.nodeName && "TR" === t.nodeName.toUpperCase() ? w(e, t)[0] : _(e, t);
});
return this.row(n[0]);
});
var Et = function(t, n, i, r) {
var o = [], a = function(n, i) {
if (e.isArray(n) || n instanceof e) for (var r = 0, s = n.length; r < s; r++) a(n[r], i); else if (n.nodeName && "tr" === n.nodeName.toLowerCase()) o.push(n); else {
var l = e("<tr><td/></tr>").addClass(i);
e("td", l).addClass(i).html(n)[0].colSpan = m(t), o.push(l[0]);
}
};
a(i, r), n._details && n._details.detach(), n._details = e(o), n._detailsShow && n._details.insertAfter(n.nTr);
}, Ft = function(e, t) {
var n = e.context;
if (n.length) {
var r = n[0].aoData[t !== i ? t : e[0]];
r && r._details && (r._details.remove(), r._detailsShow = i, r._details = i);
}
}, Mt = function(e, t) {
var n = e.context;
if (n.length && e.length) {
var i = n[0].aoData[e[0]];
i._details && (i._detailsShow = t, t ? i._details.insertAfter(i.nTr) : i._details.detach(), It(n[0]));
}
}, It = function(e) {
var t = new Ue(e), n = e.aoData;
t.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"), ot(n, "_details").length > 0 && (t.on("draw.dt.DT_details", function(i, r) {
e === r && t.rows({
page: "current"
}).eq(0).each(function(e) {
var t = n[e];
t._detailsShow && t._details.insertAfter(t.nTr);
});
}), t.on("column-visibility.dt.DT_details", function(t, i, r, o) {
if (e === i) for (var a, s = m(i), l = 0, c = n.length; l < c; l++) (a = n[l])._details && a._details.children("td[colspan]").attr("colspan", s);
}), t.on("destroy.dt.DT_details", function(i, r) {
if (e === r) for (var o = 0, a = n.length; o < a; o++) n[o]._details && Ft(t, o);
}));
};
ze("row().child()", function(e, t) {
var n = this.context;
return e === i ? n.length && this.length ? n[0].aoData[this[0]]._details : i : (!0 === e ? this.child.show() : !1 === e ? Ft(this) : n.length && this.length && Et(n[0], n[0].aoData[this[0]], e, t), this);
}), ze([ "row().child.show()", "row().child().show()" ], function(e) {
return Mt(this, !0), this;
}), ze([ "row().child.hide()", "row().child().hide()" ], function() {
return Mt(this, !1), this;
}), ze([ "row().child.remove()", "row().child().remove()" ], function() {
return Ft(this), this;
}), ze("row().child.isShown()", function() {
var e = this.context;
return !(!e.length || !this.length) && (e[0].aoData[this[0]]._detailsShow || !1);
});
var Pt = /^([^:]+):(name|visIdx|visible)$/, Lt = function(e, t, n, i, r) {
for (var o = [], a = 0, s = r.length; a < s; a++) o.push(C(e, r[a], t));
return o;
}, Ot = function(t, n, i) {
var r = t.aoColumns, o = ot(r, "sName"), a = ot(r, "nTh");
return $t("column", n, function(n) {
var s = et(n);
if ("" === n) return st(r.length);
if (null !== s) return [ s >= 0 ? s : r.length + s ];
if ("function" == typeof n) {
var l = Tt(t, i);
return e.map(r, function(e, i) {
return n(i, Lt(t, i, 0, 0, l), a[i]) ? i : null;
});
}
var c = "string" == typeof n ? n.match(Pt) : "";
if (c) switch (c[2]) {
case "visIdx":
case "visible":
var u = parseInt(c[1], 10);
if (u < 0) {
var d = e.map(r, function(e, t) {
return e.bVisible ? t : null;
});
return [ d[d.length + u] ];
}
return [ p(t, u) ];

case "name":
return e.map(o, function(e, t) {
return e === c[1] ? t : null;
});

default:
return [];
}
if (n.nodeName && n._DT_CellIndex) return [ n._DT_CellIndex.column ];
var h = e(a).filter(n).map(function() {
return e.inArray(this, a);
}).toArray();
if (h.length || !n.nodeName) return h;
var f = e(n).closest("*[data-dt-column]");
return f.length ? [ f.data("dt-column") ] : [];
}, t, i);
}, Rt = function(t, n, r) {
var o, a, s, l, c = t.aoColumns, u = c[n], d = t.aoData;
if (r === i) return u.bVisible;
if (u.bVisible !== r) {
if (r) {
var h = e.inArray(!0, ot(c, "bVisible"), n + 1);
for (a = 0, s = d.length; a < s; a++) l = d[a].nTr, o = d[a].anCells, l && l.insertBefore(o[n], o[h] || null);
} else e(ot(t.aoData, "anCells", n)).detach();
u.bVisible = r, L(t, t.aoHeader), L(t, t.aoFooter), ke(t);
}
};
ze("columns()", function(t, n) {
t === i ? t = "" : e.isPlainObject(t) && (n = t, t = ""), n = At(n);
var r = this.iterator("table", function(e) {
return Ot(e, t, n);
}, 1);
return r.selector.cols = t, r.selector.opts = n, r;
}), We("columns().header()", "column().header()", function(e, t) {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].nTh;
}, 1);
}), We("columns().footer()", "column().footer()", function(e, t) {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].nTf;
}, 1);
}), We("columns().data()", "column().data()", function() {
return this.iterator("column-rows", Lt, 1);
}), We("columns().dataSrc()", "column().dataSrc()", function() {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].mData;
}, 1);
}), We("columns().cache()", "column().cache()", function(e) {
return this.iterator("column-rows", function(t, n, i, r, o) {
return at(t.aoData, o, "search" === e ? "_aFilterData" : "_aSortData", n);
}, 1);
}), We("columns().nodes()", "column().nodes()", function() {
return this.iterator("column-rows", function(e, t, n, i, r) {
return at(e.aoData, r, "anCells", t);
}, 1);
}), We("columns().visible()", "column().visible()", function(e, t) {
var n = this.iterator("column", function(t, n) {
if (e === i) return t.aoColumns[n].bVisible;
Rt(t, n, e);
});
return e !== i && (this.iterator("column", function(n, i) {
Le(n, null, "column-visibility", [ n, i, e, t ]);
}), (t === i || t) && this.columns.adjust()), n;
}), We("columns().indexes()", "column().index()", function(e) {
return this.iterator("column", function(t, n) {
return "visible" === e ? g(t, n) : n;
}, 1);
}), ze("columns.adjust()", function() {
return this.iterator("table", function(e) {
f(e);
}, 1);
}), ze("column.index()", function(e, t) {
if (0 !== this.context.length) {
var n = this.context[0];
if ("fromVisible" === e || "toData" === e) return p(n, t);
if ("fromData" === e || "toVisible" === e) return g(n, t);
}
}), ze("column()", function(e, t) {
return kt(this.columns(e, t));
});
var Nt = function(t, n, r) {
var o, a, s, l, c, u, d, h = t.aoData, f = Tt(t, r), p = lt(at(h, f, "anCells")), g = e([].concat.apply([], p)), m = t.aoColumns.length;
return $t("cell", n, function(n) {
var r = "function" == typeof n;
if (null === n || n === i || r) {
for (a = [], s = 0, l = f.length; s < l; s++) for (o = f[s], c = 0; c < m; c++) u = {
row: o,
column: c
}, r ? (d = h[o], n(u, C(t, o, c), d.anCells ? d.anCells[c] : null) && a.push(u)) : a.push(u);
return a;
}
if (e.isPlainObject(n)) return [ n ];
var p = g.filter(n).map(function(e, t) {
return {
row: t._DT_CellIndex.row,
column: t._DT_CellIndex.column
};
}).toArray();
return p.length || !n.nodeName ? p : (d = e(n).closest("*[data-dt-row]")).length ? [ {
row: d.data("dt-row"),
column: d.data("dt-column")
} ] : [];
}, t, r);
};
ze("cells()", function(t, n, r) {
if (e.isPlainObject(t) && (t.row === i ? (r = t, t = null) : (r = n, n = null)), e.isPlainObject(n) && (r = n, n = null), null === n || n === i) return this.iterator("table", function(e) {
return Nt(e, t, At(r));
});
var o, a, s, l, c, u = this.columns(n, r), d = this.rows(t, r), h = this.iterator("table", function(e, t) {
for (o = [], a = 0, s = d[t].length; a < s; a++) for (l = 0, c = u[t].length; l < c; l++) o.push({
row: d[t][a],
column: u[t][l]
});
return o;
}, 1);
return e.extend(h.selector, {
cols: n,
rows: t,
opts: r
}), h;
}), We("cells().nodes()", "cell().node()", function() {
return this.iterator("cell", function(e, t, n) {
var r = e.aoData[t];
return r && r.anCells ? r.anCells[n] : i;
}, 1);
}), ze("cells().data()", function() {
return this.iterator("cell", function(e, t, n) {
return C(e, t, n);
}, 1);
}), We("cells().cache()", "cell().cache()", function(e) {
return e = "search" === e ? "_aFilterData" : "_aSortData", this.iterator("cell", function(t, n, i) {
return t.aoData[n][e][i];
}, 1);
}), We("cells().render()", "cell().render()", function(e) {
return this.iterator("cell", function(t, n, i) {
return C(t, n, i, e);
}, 1);
}), We("cells().indexes()", "cell().index()", function() {
return this.iterator("cell", function(e, t, n) {
return {
row: t,
column: n,
columnVisible: g(e, n)
};
}, 1);
}), We("cells().invalidate()", "cell().invalidate()", function(e) {
return this.iterator("cell", function(t, n, i) {
E(t, n, e, i);
});
}), ze("cell()", function(e, t, n) {
return kt(this.cells(e, t, n));
}), ze("cell().data()", function(e) {
var t = this.context, n = this[0];
return e === i ? t.length && n.length ? C(t[0], n[0].row, n[0].column) : i : (x(t[0], n[0].row, n[0].column, e), E(t[0], n[0].row, "data", n[0].column), this);
}), ze("order()", function(t, n) {
var r = this.context;
return t === i ? 0 !== r.length ? r[0].aaSorting : i : ("number" == typeof t ? t = [ [ t, n ] ] : t.length && !e.isArray(t[0]) && (t = Array.prototype.slice.call(arguments)), this.iterator("table", function(e) {
e.aaSorting = t.slice();
}));
}), ze("order.listener()", function(e, t, n) {
return this.iterator("table", function(i) {
Se(i, e, t, n);
});
}), ze("order.fixed()", function(t) {
if (!t) {
var n = this.context, r = n.length ? n[0].aaSortingFixed : i;
return e.isArray(r) ? {
pre: r
} : r;
}
return this.iterator("table", function(n) {
n.aaSortingFixed = e.extend(!0, {}, t);
});
}), ze([ "columns().order()", "column().order()" ], function(t) {
var n = this;
return this.iterator("table", function(i, r) {
var o = [];
e.each(n[r], function(e, n) {
o.push([ n, t ]);
}), i.aaSorting = o;
});
}), ze("search()", function(t, n, r, o) {
var a = this.context;
return t === i ? 0 !== a.length ? a[0].oPreviousSearch.sSearch : i : this.iterator("table", function(i) {
i.oFeatures.bFilter && G(i, e.extend({}, i.oPreviousSearch, {
sSearch: t + "",
bRegex: null !== n && n,
bSmart: null === r || r,
bCaseInsensitive: null === o || o
}), 1);
});
}), We("columns().search()", "column().search()", function(t, n, r, o) {
return this.iterator("column", function(a, s) {
var l = a.aoPreSearchCols;
if (t === i) return l[s].sSearch;
a.oFeatures.bFilter && (e.extend(l[s], {
sSearch: t + "",
bRegex: null !== n && n,
bSmart: null === r || r,
bCaseInsensitive: null === o || o
}), G(a, a.oPreviousSearch, 1));
});
}), ze("state()", function() {
return this.context.length ? this.context[0].oSavedState : null;
}), ze("state.clear()", function() {
return this.iterator("table", function(e) {
e.fnStateSaveCallback.call(e.oInstance, e, {});
});
}), ze("state.loaded()", function() {
return this.context.length ? this.context[0].oLoadedState : null;
}), ze("state.save()", function() {
return this.iterator("table", function(e) {
ke(e);
});
}), qe.versionCheck = qe.fnVersionCheck = function(e) {
for (var t, n, i = qe.version.split("."), r = e.split("."), o = 0, a = r.length; o < a; o++) if (t = parseInt(i[o], 10) || 0, n = parseInt(r[o], 10) || 0, t !== n) return t > n;
return !0;
}, qe.isDataTable = qe.fnIsDataTable = function(t) {
var n = e(t).get(0), i = !1;
return t instanceof qe.Api || (e.each(qe.settings, function(t, r) {
var o = r.nScrollHead ? e("table", r.nScrollHead)[0] : null, a = r.nScrollFoot ? e("table", r.nScrollFoot)[0] : null;
r.nTable !== n && o !== n && a !== n || (i = !0);
}), i);
}, qe.tables = qe.fnTables = function(t) {
var n = !1;
e.isPlainObject(t) && (n = t.api, t = t.visible);
var i = e.map(qe.settings, function(n) {
if (!t || t && e(n.nTable).is(":visible")) return n.nTable;
});
return n ? new Ue(i) : i;
}, qe.camelToHungarian = o, ze("$()", function(t, n) {
var i = this.rows(n).nodes(), r = e(i);
return e([].concat(r.filter(t).toArray(), r.find(t).toArray()));
}), e.each([ "on", "one", "off" ], function(t, n) {
ze(n + "()", function() {
var t = Array.prototype.slice.call(arguments);
t[0] = e.map(t[0].split(/\s/), function(e) {
return e.match(/\.dt\b/) ? e : e + ".dt";
}).join(" ");
var i = e(this.tables().nodes());
return i[n].apply(i, t), this;
});
}), ze("clear()", function() {
return this.iterator("table", function(e) {
T(e);
});
}), ze("settings()", function() {
return new Ue(this.context, this.context);
}), ze("init()", function() {
var e = this.context;
return e.length ? e[0].oInit : null;
}), ze("data()", function() {
return this.iterator("table", function(e) {
return ot(e.aoData, "_aData");
}).flatten();
}), ze("destroy()", function(n) {
return n = n || !1, this.iterator("table", function(i) {
var r, o = i.nTableWrapper.parentNode, a = i.oClasses, s = i.nTable, l = i.nTBody, c = i.nTHead, u = i.nTFoot, d = e(s), h = e(l), f = e(i.nTableWrapper), p = e.map(i.aoData, function(e) {
return e.nTr;
});
i.bDestroying = !0, Le(i, "aoDestroyCallback", "destroy", [ i ]), n || new Ue(i).columns().visible(!0), f.off(".DT").find(":not(tbody *)").off(".DT"), e(t).off(".DT-" + i.sInstance), s != c.parentNode && (d.children("thead").detach(), d.append(c)), u && s != u.parentNode && (d.children("tfoot").detach(), d.append(u)), i.aaSorting = [], i.aaSortingFixed = [], $e(i), e(p).removeClass(i.asStripeClasses.join(" ")), e("th, td", c).removeClass(a.sSortable + " " + a.sSortableAsc + " " + a.sSortableDesc + " " + a.sSortableNone), h.children().detach(), h.append(p);
var g = n ? "remove" : "detach";
d[g](), f[g](), !n && o && (o.insertBefore(s, i.nTableReinsertBefore), d.css("width", i.sDestroyWidth).removeClass(a.sTable), (r = i.asDestroyStripes.length) && h.children().each(function(t) {
e(this).addClass(i.asDestroyStripes[t % r]);
}));
var m = e.inArray(i, qe.settings);
-1 !== m && qe.settings.splice(m, 1);
});
}), e.each([ "column", "row", "cell" ], function(e, t) {
ze(t + "s().every()", function(e) {
var n = this.selector.opts, r = this;
return this.iterator(t, function(o, a, s, l, c) {
e.call(r[t](a, "cell" === t ? s : n, "cell" === t ? n : i), a, s, l, c);
});
});
}), ze("i18n()", function(t, n, r) {
var o = this.context[0], a = $(t)(o.oLanguage);
return a === i && (a = n), r !== i && e.isPlainObject(a) && (a = a[r] !== i ? a[r] : a._), a.replace("%d", r);
}), qe.version = "1.10.16", qe.settings = [], qe.models = {}, qe.models.oSearch = {
bCaseInsensitive: !0,
sSearch: "",
bRegex: !1,
bSmart: !0
}, qe.models.oRow = {
nTr: null,
anCells: null,
_aData: [],
_aSortData: null,
_aFilterData: null,
_sFilterRow: null,
_sRowStripe: "",
src: null,
idx: -1
}, qe.models.oColumn = {
idx: null,
aDataSort: null,
asSorting: null,
bSearchable: null,
bSortable: null,
bVisible: null,
_sManualType: null,
_bAttrSrc: !1,
fnCreatedCell: null,
fnGetData: null,
fnSetData: null,
mData: null,
mRender: null,
nTh: null,
nTf: null,
sClass: null,
sContentPadding: null,
sDefaultContent: null,
sName: null,
sSortDataType: "std",
sSortingClass: null,
sSortingClassJUI: null,
sTitle: null,
sType: null,
sWidth: null,
sWidthOrig: null
}, qe.defaults = {
aaData: null,
aaSorting: [ [ 0, "asc" ] ],
aaSortingFixed: [],
ajax: null,
aLengthMenu: [ 10, 25, 50, 100 ],
aoColumns: null,
aoColumnDefs: null,
aoSearchCols: [],
asStripeClasses: null,
bAutoWidth: !0,
bDeferRender: !1,
bDestroy: !1,
bFilter: !0,
bInfo: !0,
bLengthChange: !0,
bPaginate: !0,
bProcessing: !1,
bRetrieve: !1,
bScrollCollapse: !1,
bServerSide: !1,
bSort: !0,
bSortMulti: !0,
bSortCellsTop: !1,
bSortClasses: !0,
bStateSave: !1,
fnCreatedRow: null,
fnDrawCallback: null,
fnFooterCallback: null,
fnFormatNumber: function(e) {
return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.oLanguage.sThousands);
},
fnHeaderCallback: null,
fnInfoCallback: null,
fnInitComplete: null,
fnPreDrawCallback: null,
fnRowCallback: null,
fnServerData: null,
fnServerParams: null,
fnStateLoadCallback: function(e) {
try {
return JSON.parse((-1 === e.iStateDuration ? sessionStorage : localStorage).getItem("DataTables_" + e.sInstance + "_" + location.pathname));
} catch (e) {}
},
fnStateLoadParams: null,
fnStateLoaded: null,
fnStateSaveCallback: function(e, t) {
try {
(-1 === e.iStateDuration ? sessionStorage : localStorage).setItem("DataTables_" + e.sInstance + "_" + location.pathname, JSON.stringify(t));
} catch (e) {}
},
fnStateSaveParams: null,
iStateDuration: 7200,
iDeferLoading: null,
iDisplayLength: 10,
iDisplayStart: 0,
iTabIndex: 0,
oClasses: {},
oLanguage: {
oAria: {
sSortAscending: ": activate to sort column ascending",
sSortDescending: ": activate to sort column descending"
},
oPaginate: {
sFirst: "First",
sLast: "Last",
sNext: "Next",
sPrevious: "Previous"
},
sEmptyTable: "No data available in table",
sInfo: "Showing _START_ to _END_ of _TOTAL_ entries",
sInfoEmpty: "Showing 0 to 0 of 0 entries",
sInfoFiltered: "(filtered from _MAX_ total entries)",
sInfoPostFix: "",
sDecimal: "",
sThousands: ",",
sLengthMenu: "Show _MENU_ entries",
sLoadingRecords: "Loading...",
sProcessing: "Processing...",
sSearch: "Search:",
sSearchPlaceholder: "",
sUrl: "",
sZeroRecords: "No matching records found"
},
oSearch: e.extend({}, qe.models.oSearch),
sAjaxDataProp: "data",
sAjaxSource: null,
sDom: "lfrtip",
searchDelay: null,
sPaginationType: "simple_numbers",
sScrollX: "",
sScrollXInner: "",
sScrollY: "",
sServerMethod: "GET",
renderer: null,
rowId: "DT_RowId"
}, r(qe.defaults), qe.defaults.column = {
aDataSort: null,
iDataSort: -1,
asSorting: [ "asc", "desc" ],
bSearchable: !0,
bSortable: !0,
bVisible: !0,
fnCreatedCell: null,
mData: null,
mRender: null,
sCellType: "td",
sClass: "",
sContentPadding: "",
sDefaultContent: null,
sName: "",
sSortDataType: "std",
sTitle: null,
sType: null,
sWidth: null
}, r(qe.defaults.column), qe.models.oSettings = {
oFeatures: {
bAutoWidth: null,
bDeferRender: null,
bFilter: null,
bInfo: null,
bLengthChange: null,
bPaginate: null,
bProcessing: null,
bServerSide: null,
bSort: null,
bSortMulti: null,
bSortClasses: null,
bStateSave: null
},
oScroll: {
bCollapse: null,
iBarWidth: 0,
sX: null,
sXInner: null,
sY: null
},
oLanguage: {
fnInfoCallback: null
},
oBrowser: {
bScrollOversize: !1,
bScrollbarLeft: !1,
bBounding: !1,
barWidth: 0
},
ajax: null,
aanFeatures: [],
aoData: [],
aiDisplay: [],
aiDisplayMaster: [],
aIds: {},
aoColumns: [],
aoHeader: [],
aoFooter: [],
oPreviousSearch: {},
aoPreSearchCols: [],
aaSorting: null,
aaSortingFixed: [],
asStripeClasses: null,
asDestroyStripes: [],
sDestroyWidth: 0,
aoRowCallback: [],
aoHeaderCallback: [],
aoFooterCallback: [],
aoDrawCallback: [],
aoRowCreatedCallback: [],
aoPreDrawCallback: [],
aoInitComplete: [],
aoStateSaveParams: [],
aoStateLoadParams: [],
aoStateLoaded: [],
sTableId: "",
nTable: null,
nTHead: null,
nTFoot: null,
nTBody: null,
nTableWrapper: null,
bDeferLoading: !1,
bInitialised: !1,
aoOpenRows: [],
sDom: null,
searchDelay: null,
sPaginationType: "two_button",
iStateDuration: 0,
aoStateSave: [],
aoStateLoad: [],
oSavedState: null,
oLoadedState: null,
sAjaxSource: null,
sAjaxDataProp: null,
bAjaxDataGet: !0,
jqXHR: null,
json: i,
oAjaxData: i,
fnServerData: null,
aoServerParams: [],
sServerMethod: null,
fnFormatNumber: null,
aLengthMenu: null,
iDraw: 0,
bDrawing: !1,
iDrawError: -1,
_iDisplayLength: 10,
_iDisplayStart: 0,
_iRecordsTotal: 0,
_iRecordsDisplay: 0,
oClasses: {},
bFiltered: !1,
bSorted: !1,
bSortCellsTop: null,
oInit: null,
aoDestroyCallback: [],
fnRecordsTotal: function() {
return "ssp" == Ne(this) ? 1 * this._iRecordsTotal : this.aiDisplayMaster.length;
},
fnRecordsDisplay: function() {
return "ssp" == Ne(this) ? 1 * this._iRecordsDisplay : this.aiDisplay.length;
},
fnDisplayEnd: function() {
var e = this._iDisplayLength, t = this._iDisplayStart, n = t + e, i = this.aiDisplay.length, r = this.oFeatures, o = r.bPaginate;
return r.bServerSide ? !1 === o || -1 === e ? t + i : Math.min(t + e, this._iRecordsDisplay) : !o || n > i || -1 === e ? i : n;
},
oInstance: null,
sInstance: null,
iTabIndex: 0,
nScrollHead: null,
nScrollFoot: null,
aLastSort: [],
oPlugins: {},
rowIdFn: null,
rowId: null
}, qe.ext = Ve = {
buttons: {},
classes: {},
builder: "-source-",
errMode: "alert",
feature: [],
search: [],
selector: {
cell: [],
column: [],
row: []
},
internal: {},
legacy: {
ajax: null
},
pager: {},
renderer: {
pageButton: {},
header: {}
},
order: {},
type: {
detect: [],
search: {},
order: {}
},
_unique: 0,
fnVersionCheck: qe.fnVersionCheck,
iApiIndex: 0,
oJUIClasses: {},
sVersion: qe.version
}, e.extend(Ve, {
afnFiltering: Ve.search,
aTypes: Ve.type.detect,
ofnSearch: Ve.type.search,
oSort: Ve.type.order,
afnSortData: Ve.order,
aoFeatures: Ve.feature,
oApi: Ve.internal,
oStdClasses: Ve.classes,
oPagination: Ve.pager
}), e.extend(qe.ext.classes, {
sTable: "dataTable",
sNoFooter: "no-footer",
sPageButton: "paginate_button",
sPageButtonActive: "current",
sPageButtonDisabled: "disabled",
sStripeOdd: "odd",
sStripeEven: "even",
sRowEmpty: "dataTables_empty",
sWrapper: "dataTables_wrapper",
sFilter: "dataTables_filter",
sInfo: "dataTables_info",
sPaging: "dataTables_paginate paging_",
sLength: "dataTables_length",
sProcessing: "dataTables_processing",
sSortAsc: "sorting_asc",
sSortDesc: "sorting_desc",
sSortable: "sorting",
sSortableAsc: "sorting_asc_disabled",
sSortableDesc: "sorting_desc_disabled",
sSortableNone: "sorting_disabled",
sSortColumn: "sorting_",
sFilterInput: "",
sLengthSelect: "",
sScrollWrapper: "dataTables_scroll",
sScrollHead: "dataTables_scrollHead",
sScrollHeadInner: "dataTables_scrollHeadInner",
sScrollBody: "dataTables_scrollBody",
sScrollFoot: "dataTables_scrollFoot",
sScrollFootInner: "dataTables_scrollFootInner",
sHeaderTH: "",
sFooterTH: "",
sSortJUIAsc: "",
sSortJUIDesc: "",
sSortJUI: "",
sSortJUIAscAllowed: "",
sSortJUIDescAllowed: "",
sSortJUIWrapper: "",
sSortIcon: "",
sJUIHeader: "",
sJUIFooter: ""
});
var Bt = qe.ext.pager;
e.extend(Bt, {
simple: function(e, t) {
return [ "previous", "next" ];
},
full: function(e, t) {
return [ "first", "previous", "next", "last" ];
},
numbers: function(e, t) {
return [ Be(e, t) ];
},
simple_numbers: function(e, t) {
return [ "previous", Be(e, t), "next" ];
},
full_numbers: function(e, t) {
return [ "first", "previous", Be(e, t), "next", "last" ];
},
first_last_numbers: function(e, t) {
return [ "first", Be(e, t), "last" ];
},
_numbers: Be,
numbers_length: 7
}), e.extend(!0, qe.ext.renderer, {
pageButton: {
_: function(t, r, o, a, s, l) {
var c, u, d, h = t.oClasses, f = t.oLanguage.oPaginate, p = t.oLanguage.oAria.paginate || {}, g = 0, m = function(n, i) {
var r, a, d;
for (r = 0, a = i.length; r < a; r++) if (d = i[r], e.isArray(d)) {
var v = e("<" + (d.DT_el || "div") + "/>").appendTo(n);
m(v, d);
} else {
switch (c = null, u = "", d) {
case "ellipsis":
n.append('<span class="ellipsis">&#x2026;</span>');
break;

case "first":
c = f.sFirst, u = d + (s > 0 ? "" : " " + h.sPageButtonDisabled);
break;

case "previous":
c = f.sPrevious, u = d + (s > 0 ? "" : " " + h.sPageButtonDisabled);
break;

case "next":
c = f.sNext, u = d + (s < l - 1 ? "" : " " + h.sPageButtonDisabled);
break;

case "last":
c = f.sLast, u = d + (s < l - 1 ? "" : " " + h.sPageButtonDisabled);
break;

default:
c = d + 1, u = s === d ? h.sPageButtonActive : "";
}
null !== c && (Ie(e("<a>", {
class: h.sPageButton + " " + u,
"aria-controls": t.sTableId,
"aria-label": p[d],
"data-dt-idx": g,
tabindex: t.iTabIndex,
id: 0 === o && "string" == typeof d ? t.sTableId + "_" + d : null
}).html(c).appendTo(n), {
action: d
}, function(e) {
ce(t, e.data.action, !0);
}), g++);
}
};
try {
d = e(r).find(n.activeElement).data("dt-idx");
} catch (e) {}
m(e(r).empty(), a), d !== i && e(r).find("[data-dt-idx=" + d + "]").focus();
}
}
}), e.extend(qe.ext.type.detect, [ function(e, t) {
var n = t.oLanguage.sDecimal;
return nt(e, n) ? "num" + n : null;
}, function(e, t) {
if (e && !(e instanceof Date) && !Xe.test(e)) return null;
var n = Date.parse(e);
return null !== n && !isNaN(n) || Ze(e) ? "date" : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return nt(e, n, !0) ? "num-fmt" + n : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return rt(e, n) ? "html-num" + n : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return rt(e, n, !0) ? "html-num-fmt" + n : null;
}, function(e, t) {
return Ze(e) || "string" == typeof e && -1 !== e.indexOf("<") ? "html" : null;
} ]), e.extend(qe.ext.type.search, {
html: function(e) {
return Ze(e) ? e : "string" == typeof e ? e.replace(Ye, " ").replace(Ke, "") : "";
},
string: function(e) {
return Ze(e) ? e : "string" == typeof e ? e.replace(Ye, " ") : e;
}
});
var jt = function(e, t, n, i) {
return 0 === e || e && "-" !== e ? (t && (e = tt(e, t)), e.replace && (n && (e = e.replace(n, "")), i && (e = e.replace(i, ""))), 1 * e) : -1 / 0;
};
e.extend(Ve.type.order, {
"date-pre": function(e) {
return Date.parse(e) || -1 / 0;
},
"html-pre": function(e) {
return Ze(e) ? "" : e.replace ? e.replace(/<.*?>/g, "").toLowerCase() : e + "";
},
"string-pre": function(e) {
return Ze(e) ? "" : "string" == typeof e ? e.toLowerCase() : e.toString ? e.toString() : "";
},
"string-asc": function(e, t) {
return e < t ? -1 : e > t ? 1 : 0;
},
"string-desc": function(e, t) {
return e < t ? 1 : e > t ? -1 : 0;
}
}), je(""), e.extend(!0, qe.ext.renderer, {
header: {
_: function(t, n, i, r) {
e(t.nTable).on("order.dt.DT", function(e, o, a, s) {
if (t === o) {
var l = i.idx;
n.removeClass(i.sSortingClass + " " + r.sSortAsc + " " + r.sSortDesc).addClass("asc" == s[l] ? r.sSortAsc : "desc" == s[l] ? r.sSortDesc : i.sSortingClass);
}
});
},
jqueryui: function(t, n, i, r) {
e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon + " " + i.sSortingClassJUI)).appendTo(n), e(t.nTable).on("order.dt.DT", function(e, o, a, s) {
if (t === o) {
var l = i.idx;
n.removeClass(r.sSortAsc + " " + r.sSortDesc).addClass("asc" == s[l] ? r.sSortAsc : "desc" == s[l] ? r.sSortDesc : i.sSortingClass), n.find("span." + r.sSortIcon).removeClass(r.sSortJUIAsc + " " + r.sSortJUIDesc + " " + r.sSortJUI + " " + r.sSortJUIAscAllowed + " " + r.sSortJUIDescAllowed).addClass("asc" == s[l] ? r.sSortJUIAsc : "desc" == s[l] ? r.sSortJUIDesc : i.sSortingClassJUI);
}
});
}
}
});
var Ht = function(e) {
return "string" == typeof e ? e.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;") : e;
};
return qe.render = {
number: function(e, t, n, i, r) {
return {
display: function(o) {
if ("number" != typeof o && "string" != typeof o) return o;
var a = o < 0 ? "-" : "", s = parseFloat(o);
if (isNaN(s)) return Ht(o);
s = s.toFixed(n), o = Math.abs(s);
var l = parseInt(o, 10), c = n ? t + (o - l).toFixed(n).substring(2) : "";
return a + (i || "") + l.toString().replace(/\B(?=(\d{3})+(?!\d))/g, e) + c + (r || "");
}
};
},
text: function() {
return {
display: Ht
};
}
}, e.extend(qe.ext.internal, {
_fnExternApiFunc: He,
_fnBuildAjax: H,
_fnAjaxUpdate: V,
_fnAjaxParameters: U,
_fnAjaxUpdateDraw: z,
_fnAjaxDataSrc: W,
_fnAddColumn: d,
_fnColumnOptions: h,
_fnAdjustColumnSizing: f,
_fnVisibleToColumnIndex: p,
_fnColumnIndexToVisible: g,
_fnVisbleColumns: m,
_fnGetColumns: v,
_fnColumnTypes: y,
_fnApplyColumnDefs: b,
_fnHungarianMap: r,
_fnCamelToHungarian: o,
_fnLanguageCompat: a,
_fnBrowserDetect: c,
_fnAddData: _,
_fnAddTr: w,
_fnNodeToDataIndex: function(e, t) {
return t._DT_RowIndex !== i ? t._DT_RowIndex : null;
},
_fnNodeToColumnIndex: function(t, n, i) {
return e.inArray(i, t.aoData[n].anCells);
},
_fnGetCellData: C,
_fnSetCellData: x,
_fnSplitObjNotation: S,
_fnGetObjectDataFn: $,
_fnSetObjectDataFn: A,
_fnGetDataMaster: k,
_fnClearTable: T,
_fnDeleteIndex: D,
_fnInvalidate: E,
_fnGetRowElements: F,
_fnCreateTr: M,
_fnBuildHead: P,
_fnDrawHead: L,
_fnDraw: O,
_fnReDraw: R,
_fnAddOptionsHtml: N,
_fnDetectHeader: B,
_fnGetUniqueThs: j,
_fnFeatureHtmlFilter: q,
_fnFilterComplete: G,
_fnFilterCustom: Y,
_fnFilterColumn: K,
_fnFilter: X,
_fnFilterCreateSearch: Q,
_fnEscapeRegex: gt,
_fnFilterData: J,
_fnFeatureHtmlInfo: te,
_fnUpdateInfo: ne,
_fnInfoMacros: ie,
_fnInitialise: re,
_fnInitComplete: oe,
_fnLengthChange: ae,
_fnFeatureHtmlLength: se,
_fnFeatureHtmlPaginate: le,
_fnPageChange: ce,
_fnFeatureHtmlProcessing: ue,
_fnProcessingDisplay: de,
_fnFeatureHtmlTable: he,
_fnScrollDraw: fe,
_fnApplyToChildren: pe,
_fnCalculateColumnWidths: ge,
_fnThrottle: bt,
_fnConvertToWidth: me,
_fnGetWidestNode: ve,
_fnGetMaxLenString: ye,
_fnStringToCss: be,
_fnSortFlatten: _e,
_fnSort: we,
_fnSortAria: Ce,
_fnSortListener: xe,
_fnSortAttachListener: Se,
_fnSortingClasses: $e,
_fnSortData: Ae,
_fnSaveState: ke,
_fnLoadState: Te,
_fnSettingsFromNode: De,
_fnLog: Ee,
_fnMap: Fe,
_fnBindAction: Ie,
_fnCallbackReg: Pe,
_fnCallbackFire: Le,
_fnLengthOverflow: Oe,
_fnRenderer: Re,
_fnDataSource: Ne,
_fnRowAttributes: I,
_fnCalculateEnd: function() {}
}), e.fn.dataTable = qe, qe.$ = e, e.fn.dataTableSettings = qe.settings, e.fn.dataTableExt = qe.ext, e.fn.DataTable = function(t) {
return e(this).dataTable(t).api();
}, e.each(qe, function(t, n) {
e.fn.DataTable[t] = n;
}), e.fn.dataTable;
}), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables"), function(e, t, n, i) {
"use strict";
function r(e, t, n, r, o) {
function a(e) {
var t = e[0].innerHTML;
return function(e, n, o, a) {
function s(e, i) {
e !== i && a.render(n, a.buildOptionsPromise(), t);
}
var l = o.dtDisableDeepWatchers ? "$watchCollection" : "$watch";
i.forEach([ "dtColumns", "dtColumnDefs", "dtOptions" ], function(t) {
e[l].call(e, t, s, !0);
}), r.showLoading(n, e), a.render(n, a.buildOptionsPromise(), t);
};
}
function s(a) {
function s(e) {
i.isFunction(a.dtInstance) ? a.dtInstance(e) : i.isDefined(a.dtInstance) && (a.dtInstance = e);
}
var l, c = this;
c.buildOptionsPromise = function() {
var n = e.defer();
return e.all([ e.when(a.dtOptions), e.when(a.dtColumns), e.when(a.dtColumnDefs) ]).then(function(n) {
var r = n[0], a = n[1], s = n[2];
o.deleteProperty(r, "$promise"), o.deleteProperty(a, "$promise"), o.deleteProperty(s, "$promise");
var l;
if (i.isDefined(r) && (l = {}, i.extend(l, r), i.isArray(a) && (l.aoColumns = a), i.isArray(s) && (l.aoColumnDefs = s), l.language && l.language.url)) {
var c = e.defer();
t.get(l.language.url).success(function(e) {
c.resolve(e);
}), l.language = c.promise;
}
return o.resolveObjectPromises(l, [ "data", "aaData", "fnPromise" ]);
}).then(function(e) {
n.resolve(e);
}), n.promise;
}, c.render = function(e, t, i) {
t.then(function(t) {
r.preRender(t);
var o = a.datatable && "ng" === a.datatable;
l && l._renderer ? l._renderer.withOptions(t).render(e, a, i).then(function(e) {
l = e, s(e);
}) : n.fromOptions(t, o).render(e, a, i).then(function(e) {
l = e, s(e);
});
});
};
}
return a.$inject = [ "tElm" ], s.$inject = [ "$scope" ], {
restrict: "A",
scope: {
dtOptions: "=",
dtColumns: "=",
dtColumnDefs: "=",
datatable: "@",
dtInstance: "="
},
compile: a,
controller: s
};
}
function o(e) {
return {
newColumnDef: function(t) {
if (i.isUndefined(t)) throw new Error('The parameter "targets" must be defined! See https://datatables.net/reference/option/columnDefs.targets');
var n = Object.create(e.DTColumn);
return i.isArray(t) ? n.aTargets = t : n.aTargets = [ t ], n;
}
};
}
function a(e, t, n) {
return {
compileHtml: function(r) {
return e(i.element('<div class="' + n + '">' + t.loadingTemplate + "</div>"))(r);
},
isLoading: function(e) {
return e.hasClass(n);
}
};
}
function s(e) {
function t(e, t) {
i.forEach(r, function(n) {
i.isFunction(n.postRender) && n.postRender(e, t);
});
}
var r = [], o = {
showLoading: function(t, n) {
var r = i.element(e.compileHtml(n));
t.after(r), t.hide(), r.show();
},
hideLoading: function(t) {
t.show();
var n = t.next();
e.isLoading(n) && n.remove();
},
renderDataTable: function(e, r) {
var o = "#" + e.attr("id");
n.fn.dataTable.isDataTable(o) && i.isObject(r) && (r.destroy = !0);
var a = e.DataTable(r), s = e.dataTable(), l = {
id: e.attr("id"),
DataTable: a,
dataTable: s
};
return t(r, l), l;
},
hideLoadingAndRenderDataTable: function(e, t) {
return o.hideLoading(e), o.renderDataTable(e, t);
},
registerPlugin: function(e) {
r.push(e);
},
postRender: t,
preRender: function(e) {
i.forEach(r, function(t) {
i.isFunction(t.preRender) && t.preRender(e);
});
}
};
return o;
}
function l(e, t, n, i) {
return {
create: function(r) {
function o(t, r) {
s = t, l = r;
var o = i.newDTInstance(c), u = n.hideLoadingAndRenderDataTable(t, c.options);
return a = u.DataTable, i.copyDTProperties(u, o), e.when(o);
}
var a, s, l, c = Object.create(t);
return c.name = "DTDefaultRenderer", c.options = r, c.render = o, c.reloadData = function() {}, c.changeData = function() {}, c.rerender = function() {
a.destroy(), n.showLoading(s, l), o(s, l);
}, c;
}
};
}
function c(e, t, n, i, r, o, a) {
return {
create: function(s) {
function l() {
f ? f.$destroy() : u.ngDestroy(), d.html(c), f = h.$new(), n(d.contents())(f);
}
var c, u, d, h, f, p, g = Object.create(r);
return g.name = "DTNGRenderer", g.options = s, g.render = function(e, n, r) {
c = r, d = e, h = n.$parent, p = a.newDTInstance(g);
var s = t.defer(), f = c.match(/<tbody([\s\S]*)<\/tbody>/i)[1], m = f.match(/^\s*.+?\s+in\s+([a-zA-Z0-9\.-_$]*)\s*/m);
if (!m) throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got "{0}".', f);
var v = m[1], y = !1;
return h.$watchCollection(v, function() {
u && y && l(), i(function() {
y = !0, o.preRender(g.options);
var e = o.hideLoadingAndRenderDataTable(d, g.options);
u = e.DataTable, a.copyDTProperties(e, p), s.resolve(p);
}, 0, !1);
}, !0), s.promise;
}, g.reloadData = function() {
e.warn("The Angular Renderer does not support reloading data. You need to do it directly on your model");
}, g.changeData = function() {
e.warn("The Angular Renderer does not support changing the data. You need to change your model directly.");
}, g.rerender = function() {
l(), o.showLoading(d, h), o.preRender(s), i(function() {
var e = o.hideLoadingAndRenderDataTable(d, g.options);
u = e.DataTable, a.copyDTProperties(e, p);
}, 0, !1);
}, g;
}
};
}
function u(e, t, n, r, o, a) {
return {
create: function(s) {
function l(t, n) {
var i = e.defer();
return m = a.newDTInstance(y), p = t, g = n, c(y.options.fnPromise, o.renderDataTable).then(function(e) {
f = e.DataTable, a.copyDTProperties(e, m), i.resolve(m);
}), i.promise;
}
function c(t, n) {
var r = e.defer();
if (i.isUndefined(t)) throw new Error("You must provide a promise or a function that returns a promise!");
return v ? v.then(function() {
r.resolve(u(t, n));
}) : r.resolve(u(t, n)), r.promise;
}
function u(t, n) {
var r = e.defer();
return (v = i.isFunction(t) ? t() : t).then(function(e) {
var t = e;
if (y.options.sAjaxDataProp) for (var i = y.options.sAjaxDataProp.split("."); i.length; ) {
var o = i.shift();
o in t && (t = t[o]);
}
v = null, r.resolve(d(y.options, p, t, n));
}), r.promise;
}
function d(n, i, r, a) {
var s = e.defer();
return delete r.$promise, n.aaData = r, t(function() {
o.hideLoading(i), n.bDestroy = !0, s.resolve(a(i, n));
}, 0, !1), s.promise;
}
function h(e, t) {
return f.clear(), f.rows.add(t.aaData).draw(t.redraw), {
id: m.id,
DataTable: m.DataTable,
dataTable: m.dataTable
};
}
var f, p, g, m, v = null, y = Object.create(r);
return y.name = "DTPromiseRenderer", y.options = s, y.render = l, y.reloadData = function(e, t) {
var r = f && f.page() ? f.page() : 0;
i.isFunction(y.options.fnPromise) ? c(y.options.fnPromise, h).then(function(n) {
i.isFunction(e) && e(n.DataTable.data()), !1 === t && n.DataTable.page(r).draw(!1);
}) : n.warn("In order to use the reloadData functionality with a Promise renderer, you need to provide a function that returns a promise.");
}, y.changeData = function(e) {
y.options.fnPromise = e, g.dtOptions.fnPromise = e, c(y.options.fnPromise, h);
}, y.rerender = function() {
f.destroy(), o.showLoading(p, g), o.preRender(s), l(p, g);
}, y;
}
};
}
function d(e, t, n, r, o, a) {
return {
create: function(s) {
function l(t, n) {
h = t, f = n;
var r = e.defer(), s = a.newDTInstance(p);
return i.isUndefined(p.options.sAjaxDataProp) && (p.options.sAjaxDataProp = o.sAjaxDataProp), i.isUndefined(p.options.aoColumns) && (p.options.aoColumns = o.aoColumns), c(p.options, t).then(function(e) {
d = e.DataTable, a.copyDTProperties(e, s), r.resolve(s);
}), r.promise;
}
function c(n, i) {
var o = e.defer();
return n.bDestroy = !0, d && (d.destroy(), r.showLoading(h, f), i.empty()), r.hideLoading(i), u(n) ? t(function() {
o.resolve(r.renderDataTable(i, n));
}, 0, !1) : o.resolve(r.renderDataTable(i, n)), o.promise;
}
function u(e) {
return !(!i.isDefined(e) || !i.isDefined(e.dom)) && e.dom.indexOf("S") >= 0;
}
var d, h, f, p = Object.create(n);
return p.name = "DTAjaxRenderer", p.options = s, p.render = l, p.reloadData = function(e, t) {
d && d.ajax.reload(e, t);
}, p.changeData = function(e) {
p.options.ajax = e, f.dtOptions.ajax = e;
}, p.rerender = function() {
r.preRender(s), l(h, f);
}, p;
}
};
}
function h(e, t, n, r) {
return {
fromOptions: function(o, a) {
if (a) {
if (o && o.serverSide) throw new Error("You cannot use server side processing along with the Angular renderer!");
return t.create(o);
}
if (i.isDefined(o)) {
if (i.isDefined(o.fnPromise) && null !== o.fnPromise) {
if (o.serverSide) throw new Error("You cannot use server side processing along with the Promise renderer!");
return n.create(o);
}
return i.isDefined(o.ajax) && null !== o.ajax || i.isDefined(o.ajax) && null !== o.ajax ? r.create(o) : e.create(o);
}
return e.create();
}
};
}
function f(e) {
function t(e, n) {
var r = i.copy(e);
if ((i.isUndefined(r) || null === r) && (r = {}), i.isUndefined(n) || null === n) return r;
if (i.isObject(n)) for (var o in n) n.hasOwnProperty(o) && (r[o] = t(r[o], n[o])); else r = i.copy(n);
return r;
}
function r(t, r) {
var a = e.defer(), s = [], l = {}, c = r || [];
if (!i.isObject(t) || i.isArray(t)) a.resolve(t); else {
l = i.extend(l, t);
for (var u in l) l.hasOwnProperty(u) && -1 === n.inArray(u, c) && (i.isArray(l[u]) ? s.push(o(l[u])) : s.push(e.when(l[u])));
e.all(s).then(function(e) {
var t = 0;
for (var i in l) l.hasOwnProperty(i) && -1 === n.inArray(i, c) && (l[i] = e[t++]);
a.resolve(l);
});
}
return a.promise;
}
function o(t) {
var n = e.defer(), o = [], a = [];
return i.isArray(t) ? (i.forEach(t, function(t) {
i.isObject(t) ? o.push(r(t)) : o.push(e.when(t));
}), e.all(o).then(function(e) {
i.forEach(e, function(e) {
a.push(e);
}), n.resolve(a);
})) : n.resolve(t), n.promise;
}
return {
overrideProperties: t,
deleteProperty: function(e, t) {
i.isObject(e) && delete e[t];
},
resolveObjectPromises: r,
resolveArrayPromises: o
};
}
i.module("datatables.directive", [ "datatables.instances", "datatables.renderer", "datatables.options", "datatables.util" ]).directive("datatable", r), r.$inject = [ "$q", "$http", "DTRendererFactory", "DTRendererService", "DTPropertyUtil" ], i.module("datatables.factory", []).factory("DTOptionsBuilder", function() {
var e = {
withOption: function(e, t) {
return i.isString(e) && (this[e] = t), this;
},
withSource: function(e) {
return this.ajax = e, this;
},
withDataProp: function(e) {
return this.sAjaxDataProp = e, this;
},
withFnServerData: function(e) {
if (!i.isFunction(e)) throw new Error("The parameter must be a function");
return this.fnServerData = e, this;
},
withPaginationType: function(e) {
if (!i.isString(e)) throw new Error("The pagination type must be provided");
return this.sPaginationType = e, this;
},
withLanguage: function(e) {
return this.language = e, this;
},
withLanguageSource: function(e) {
return this.withLanguage({
url: e
});
},
withDisplayLength: function(e) {
return this.iDisplayLength = e, this;
},
withFnPromise: function(e) {
return this.fnPromise = e, this;
},
withDOM: function(e) {
return this.dom = e, this;
}
};
return {
newOptions: function() {
return Object.create(e);
},
fromSource: function(t) {
var n = Object.create(e);
return n.ajax = t, n;
},
fromFnPromise: function(t) {
var n = Object.create(e);
return n.fnPromise = t, n;
}
};
}).factory("DTColumnBuilder", function() {
var e = {
withOption: function(e, t) {
return i.isString(e) && (this[e] = t), this;
},
withTitle: function(e) {
return this.sTitle = e, this;
},
withClass: function(e) {
return this.sClass = e, this;
},
notVisible: function() {
return this.bVisible = !1, this;
},
notSortable: function() {
return this.bSortable = !1, this;
},
renderWith: function(e) {
return this.mRender = e, this;
}
};
return {
newColumn: function(t, n) {
if (i.isUndefined(t)) throw new Error('The parameter "mData" is not defined!');
var r = Object.create(e);
return r.mData = t, i.isDefined(n) && (r.sTitle = n), r;
},
DTColumn: e
};
}).factory("DTColumnDefBuilder", o).factory("DTLoadingTemplate", a), o.$inject = [ "DTColumnBuilder" ], a.$inject = [ "$compile", "DTDefaultOptions", "DT_LOADING_CLASS" ], i.module("datatables.instances", [ "datatables.util" ]).factory("DTInstanceFactory", function() {
var e = {
reloadData: function(e, t) {
this._renderer.reloadData(e, t);
},
changeData: function(e) {
this._renderer.changeData(e);
},
rerender: function() {
this._renderer.rerender();
}
};
return {
newDTInstance: function(t) {
var n = Object.create(e);
return n._renderer = t, n;
},
copyDTProperties: function(e, t) {
t.id = e.id, t.DataTable = e.DataTable, t.dataTable = e.dataTable;
}
};
}), i.module("datatables", [ "datatables.directive", "datatables.factory" ]).run(function() {
n.fn.DataTable.Api && n.fn.DataTable.Api.register("ngDestroy()", function(t) {
return t = t || !1, this.iterator("table", function(i) {
var r, o = i.nTableWrapper.parentNode, a = i.oClasses, s = i.nTable, l = i.nTBody, c = i.nTHead, u = i.nTFoot, d = n(s), h = n(l), f = n(i.nTableWrapper), p = n.map(i.aoData, function(e) {
return e.nTr;
});
i.bDestroying = !0, n.fn.DataTable.ext.internal._fnCallbackFire(i, "aoDestroyCallback", "destroy", [ i ]), t || new n.fn.DataTable.Api(i).columns().visible(!0), f.unbind(".DT").find(":not(tbody *)").unbind(".DT"), n(e).unbind(".DT-" + i.sInstance), s !== c.parentNode && (d.children("thead").detach(), d.append(c)), u && s !== u.parentNode && (d.children("tfoot").detach(), d.append(u)), d.detach(), f.detach(), i.aaSorting = [], i.aaSortingFixed = [], n.fn.DataTable.ext.internal._fnSortingClasses(i), n(p).removeClass(i.asStripeClasses.join(" ")), n("th, td", c).removeClass(a.sSortable + " " + a.sSortableAsc + " " + a.sSortableDesc + " " + a.sSortableNone), i.bJUI && (n("th span." + a.sSortIcon + ", td span." + a.sSortIcon, c).detach(), n("th, td", c).each(function() {
var e = n("div." + a.sSortJUIWrapper, this);
n(this).append(e.contents()), e.detach();
})), !t && o && (o.contains(i.nTableReinsertBefore) ? o.insertBefore(s, i.nTableReinsertBefore) : o.appendChild(s)), d.css("width", i.sDestroyWidth).removeClass(a.sTable), (r = i.asDestroyStripes.length) && h.children().each(function(e) {
n(this).addClass(i.asDestroyStripes[e % r]);
});
var g = n.inArray(i, n.fn.DataTable.settings);
-1 !== g && n.fn.DataTable.settings.splice(g, 1);
});
});
}), i.module("datatables.options", []).constant("DT_DEFAULT_OPTIONS", {
sAjaxDataProp: "",
aoColumns: []
}).constant("DT_LOADING_CLASS", "dt-loading").service("DTDefaultOptions", function() {
var e = {
loadingTemplate: "<h3>Loading...</h3>",
bootstrapOptions: {},
setLoadingTemplate: function(t) {
return e.loadingTemplate = t, e;
},
setLanguageSource: function(t) {
return n.ajax({
dataType: "json",
url: t,
success: function(e) {
n.extend(!0, n.fn.DataTable.defaults, {
language: e
});
}
}), e;
},
setLanguage: function(t) {
return n.extend(!0, n.fn.DataTable.defaults, {
language: t
}), e;
},
setDisplayLength: function(t) {
return n.extend(n.fn.DataTable.defaults, {
displayLength: t
}), e;
},
setBootstrapOptions: function(t) {
return e.bootstrapOptions = t, e;
},
setDOM: function(t) {
return n.extend(n.fn.DataTable.defaults, {
dom: t
}), e;
},
setOption: function(e, t) {
if (i.isString(e)) {
var r = {};
r[e] = t, n.extend(n.fn.DataTable.defaults, r);
}
}
};
return e;
}), i.module("datatables.renderer", [ "datatables.instances", "datatables.factory", "datatables.options", "datatables.instances" ]).factory("DTRendererService", s).factory("DTRenderer", function() {
return {
withOptions: function(e) {
return this.options = e, this;
}
};
}).factory("DTDefaultRenderer", l).factory("DTNGRenderer", c).factory("DTPromiseRenderer", u).factory("DTAjaxRenderer", d).factory("DTRendererFactory", h), s.$inject = [ "DTLoadingTemplate" ], l.$inject = [ "$q", "DTRenderer", "DTRendererService", "DTInstanceFactory" ], c.$inject = [ "$log", "$q", "$compile", "$timeout", "DTRenderer", "DTRendererService", "DTInstanceFactory" ], u.$inject = [ "$q", "$timeout", "$log", "DTRenderer", "DTRendererService", "DTInstanceFactory" ], d.$inject = [ "$q", "$timeout", "DTRenderer", "DTRendererService", "DT_DEFAULT_OPTIONS", "DTInstanceFactory" ], h.$inject = [ "DTDefaultRenderer", "DTNGRenderer", "DTPromiseRenderer", "DTAjaxRenderer" ], i.module("datatables.util", []).factory("DTPropertyUtil", f), f.$inject = [ "$q" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.bootstrap"), function(e, t, n, i) {
"use strict";
function r(e, t) {
var i = !1;
return {
integrate: function(r, o) {
if (!i) {
var a = e.overrideProperties(t.getOptions().ColVis, o ? o.ColVis : null);
n.fn.DataTable.ColVis && r(function() {
n(".ColVis_MasterButton").attr("class", "ColVis_MasterButton " + a.classes.masterButton), n(".ColVis_Button").removeClass("ColVis_Button");
}), i = !0;
}
},
deIntegrate: function() {
i && n.fn.DataTable.ColVis && (i = !1);
}
};
}
function o(e) {
function t(e) {
function t(e, t) {
var n = e(t);
return n.withBootstrap = function() {
return n.hasBootstrap = !0, i.isObject(n.oClasses) ? n.oClasses.sPageButtonActive = "active" : n.oClasses = {
sPageButtonActive: "active"
}, n;
}, n.withBootstrapOptions = function(e) {
return n.bootstrap = e, n;
}, n;
}
var n = e.newOptions, r = e.fromSource, o = e.fromFnPromise;
return e.newOptions = function() {
return t(n);
}, e.fromSource = function(e) {
return t(r, e);
}, e.fromFnPromise = function(e) {
return t(o, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
function a(e, t) {
var n = {
preRender: function(e) {
e && e.hasBootstrap ? t.integrate(e) : t.deIntegrate();
}
};
e.registerPlugin(n);
}
function s(e, r, o, a) {
function s() {
v.oStdClasses = i.copy(n.fn.dataTableExt.oStdClasses), v.fnPagingInfo = n.fn.dataTableExt.oApi.fnPagingInfo, v.renderer = i.copy(n.fn.DataTable.ext.renderer), n.fn.DataTable.TableTools && (v.TableTools = {
classes: i.copy(n.fn.DataTable.TableTools.classes),
oTags: i.copy(n.fn.DataTable.TableTools.DEFAULTS.oTags)
});
}
function l() {
n.extend(n.fn.dataTableExt.oStdClasses, v.oStdClasses), n.fn.dataTableExt.oApi.fnPagingInfo = v.fnPagingInfo, n.extend(!0, n.fn.DataTable.ext.renderer, v.renderer);
}
function c() {
n.extend(n.fn.dataTableExt.oStdClasses, {
sWrapper: "dataTables_wrapper form-inline",
sFilterInput: "form-control input-sm",
sLengthSelect: "form-control input-sm",
sFilter: "dataTables_filter",
sLength: "dataTables_length"
});
}
function u() {
n.fn.dataTableExt.oApi.fnPagingInfo = function(e) {
return {
iStart: e._iDisplayStart,
iEnd: e.fnDisplayEnd(),
iLength: e._iDisplayLength,
iTotal: e.fnRecordsTotal(),
iFilteredTotal: e.fnRecordsDisplay(),
iPage: -1 === e._iDisplayLength ? 0 : Math.ceil(e._iDisplayStart / e._iDisplayLength),
iTotalPages: -1 === e._iDisplayLength ? 0 : Math.ceil(e.fnRecordsDisplay() / e._iDisplayLength)
};
};
}
function d(e) {
n.extend(!0, n.fn.DataTable.ext.renderer, {
pageButton: {
_: function(i, r, s, l, c, u) {
var d, h, f = i.oClasses, p = i.language ? i.language.oPaginate : i.oLanguage.oPaginate, g = 0, m = a.overrideProperties(o.getOptions().pagination, e ? e.pagination : null), v = n("<ul></ul>", {
class: m.classes.ul
}), y = function(e, t) {
var r, o, a, l;
for (r = 0, o = t.length; r < o; r++) if (l = t[r], n.isArray(l)) {
l.DT_el = "li";
var m = n("<" + (l.DT_el || "div") + "/>").appendTo(v);
y(m, l);
} else {
d = "", h = "";
var b = n("<li></li>");
switch (l) {
case "ellipsis":
v.append('<li class="disabled"><a href="#" onClick="event.preventDefault()">&hellip;</a></li>');
break;

case "first":
d = p.sFirst, h = l, c <= 0 && (b.addClass(f.sPageButtonDisabled), !0);
break;

case "previous":
d = p.sPrevious, h = l, c <= 0 && (b.addClass(f.sPageButtonDisabled), !0);
break;

case "next":
d = p.sNext, h = l, c >= u - 1 && (b.addClass(f.sPageButtonDisabled), !0);
break;

case "last":
d = p.sLast, h = l, c >= u - 1 && (b.addClass(f.sPageButtonDisabled), !0);
break;

default:
d = l + 1, h = "", c === l && b.addClass(f.sPageButtonActive);
}
d && (b.appendTo(v), a = n("<a>", {
href: "#",
class: h,
"aria-controls": i.sTableId,
"data-dt-idx": g,
tabindex: i.iTabIndex,
id: 0 === s && "string" == typeof l ? i.sTableId + "_" + l : null
}).html(d).appendTo(b), n.fn.DataTable.ext.internal._fnBindAction(a, {
action: l
}, function(e) {
e.preventDefault(), n.fn.DataTable.ext.internal._fnPageChange(i, e.data.action, !0);
}), g++);
}
};
try {
var b = n(t.activeElement).data("dt-idx"), _ = n(r).empty();
v.appendTo(_), y(_, l), null !== b && n(r).find("[data-dt-idx=" + b + "]").focus();
} catch (e) {}
}
}
});
}
function h(e) {
i.isFunction(e) && m.push(e);
}
function f(e) {
g || (s(), c(), u(), d(e), h(function() {
n("div.dataTables_filter").find("input").addClass("form-control"), n("div.dataTables_length").find("select").addClass("form-control");
}), g = !0);
}
function p(e) {
return e.dom && e.dom !== n.fn.dataTable.defaults.sDom ? e.dom : o.getOptions().dom;
}
var g = !1, m = [], v = {};
return {
integrate: function(t) {
f(t.bootstrap), e.integrate(t.bootstrap), r.integrate(h, t.bootstrap), t.dom = p(t), i.isUndefined(t.fnDrawCallback) && (t.fnDrawCallback = function() {
for (var e = 0; e < m.length; e++) m[e]();
});
},
deIntegrate: function() {
g && (l(), e.deIntegrate(), r.deIntegrate(), g = !1);
}
};
}
function l(e, t, n) {
return {
getOptions: function() {
return t.overrideProperties(n, e.bootstrapOptions);
}
};
}
function c(e, t) {
function r() {
n.fn.DataTable.TableTools && (a.TableTools = {
classes: i.copy(n.fn.DataTable.TableTools.classes),
oTags: i.copy(n.fn.DataTable.TableTools.DEFAULTS.oTags)
});
}
var o = !1, a = {};
return {
integrate: function(i) {
if (!o) {
if (r(), n.fn.DataTable.TableTools) {
var a = e.overrideProperties(t.getOptions().TableTools, i ? i.TableTools : null);
n.extend(!0, n.fn.DataTable.TableTools.classes, a.classes), n.extend(!0, n.fn.DataTable.TableTools.DEFAULTS.oTags, a.DEFAULTS.oTags);
}
o = !0;
}
},
deIntegrate: function() {
o && n.fn.DataTable.TableTools && a.TableTools && (n.extend(!0, n.fn.DataTable.TableTools.classes, a.TableTools.classes), n.extend(!0, n.fn.DataTable.TableTools.DEFAULTS.oTags, a.TableTools.oTags), o = !1);
}
};
}
i.module("datatables.bootstrap.colvis", [ "datatables.bootstrap.options", "datatables.util" ]).service("DTBootstrapColVis", r), r.$inject = [ "DTPropertyUtil", "DTBootstrapDefaultOptions" ], i.module("datatables.bootstrap", [ "datatables.bootstrap.options", "datatables.bootstrap.tabletools", "datatables.bootstrap.colvis" ]).config(o).run(a).service("DTBootstrap", s), o.$inject = [ "$provide" ], a.$inject = [ "DTRendererService", "DTBootstrap" ], s.$inject = [ "DTBootstrapTableTools", "DTBootstrapColVis", "DTBootstrapDefaultOptions", "DTPropertyUtil" ], i.module("datatables.bootstrap.options", [ "datatables.options", "datatables.util" ]).constant("DT_BOOTSTRAP_DEFAULT_OPTIONS", {
TableTools: {
classes: {
container: "DTTT btn-group",
buttons: {
normal: "btn btn-default",
disabled: "disabled"
},
collection: {
container: "DTTT_dropdown dropdown-menu",
buttons: {
normal: "",
disabled: "disabled"
}
},
print: {
info: "DTTT_print_info modal"
},
select: {
row: "active"
}
},
DEFAULTS: {
oTags: {
collection: {
container: "ul",
button: "li",
liner: "a"
}
}
}
},
ColVis: {
classes: {
masterButton: "btn btn-default"
}
},
pagination: {
classes: {
ul: "pagination"
}
},
dom: "<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>"
}).factory("DTBootstrapDefaultOptions", l), l.$inject = [ "DTDefaultOptions", "DTPropertyUtil", "DT_BOOTSTRAP_DEFAULT_OPTIONS" ], i.module("datatables.bootstrap.tabletools", [ "datatables.bootstrap.options", "datatables.util" ]).service("DTBootstrapTableTools", c), c.$inject = [ "DTPropertyUtil", "DTBootstrapDefaultOptions" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.colreorder"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var r = e(t);
return r.withColReorder = function() {
return r.dom = r.dom ? r.dom : n.fn.dataTable.defaults.sDom, -1 === r.dom.indexOf("R") && (r.dom = "R" + r.dom), r.hasColReorder = !0, r;
}, r.withColReorderOption = function(e, t) {
return i.isString(e) && (r.oColReorder = r.oColReorder && null !== r.oColReorder ? r.oColReorder : {}, r.oColReorder[e] = t), r;
}, r.withColReorderOrder = function(e) {
return i.isArray(e) && r.withColReorderOption("aiOrder", e), r;
}, r.withColReorderCallback = function(e) {
if (!i.isFunction(e)) throw new Error("The reorder callback must be a function");
return r.withColReorderOption("fnReorderCallback", e), r;
}, r;
}
var r = e.newOptions, o = e.fromSource, a = e.fromFnPromise;
return e.newOptions = function() {
return t(r);
}, e.fromSource = function(e) {
return t(o, e);
}, e.fromFnPromise = function(e) {
return t(a, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
i.module("datatables.colreorder", [ "datatables" ]).config(r), r.$inject = [ "$provide" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.columnfilter"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var n = e(t);
return n.withColumnFilter = function(e) {
return n.hasColumnFilter = !0, e && (n.columnFilterOptions = e), n;
}, n;
}
var n = e.newOptions, i = e.fromSource, r = e.fromFnPromise;
return e.newOptions = function() {
return t(n);
}, e.fromSource = function(e) {
return t(i, e);
}, e.fromFnPromise = function(e) {
return t(r, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
function o(e) {
var t = {
postRender: function(e, t) {
e && e.hasColumnFilter && t.dataTable.columnFilter(e.columnFilterOptions);
}
};
e.registerPlugin(t);
}
i.module("datatables.columnfilter", [ "datatables" ]).config(r).run(o), r.$inject = [ "$provide" ], o.$inject = [ "DTRendererService" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.light-columnfilter"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var n = e(t);
return n.withLightColumnFilter = function(e) {
return n.hasLightColumnFilter = !0, e && (n.lightColumnFilterOptions = e), n;
}, n;
}
var n = e.newOptions, i = e.fromSource, r = e.fromFnPromise;
return e.newOptions = function() {
return t(n);
}, e.fromSource = function(e) {
return t(i, e);
}, e.fromFnPromise = function(e) {
return t(r, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
function o(e) {
var t = {
postRender: function(e, t) {
e && e.hasLightColumnFilter && new n.fn.dataTable.ColumnFilter(t.DataTable, e.lightColumnFilterOptions);
}
};
e.registerPlugin(t);
}
i.module("datatables.light-columnfilter", [ "datatables" ]).config(r).run(o), r.$inject = [ "$provide" ], o.$inject = [ "DTRendererService" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.colvis"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var r = e(t);
return r.withColVis = function() {
console.warn("The colvis extension has been retired. Please use the button extension instead: https://datatables.net/extensions/buttons/");
return r.dom = r.dom ? r.dom : n.fn.dataTable.defaults.sDom, -1 === r.dom.indexOf("C") && (r.dom = "C" + r.dom), r.hasColVis = !0, r;
}, r.withColVisOption = function(e, t) {
return i.isString(e) && (r.oColVis = r.oColVis && null !== r.oColVis ? r.oColVis : {}, r.oColVis[e] = t), r;
}, r.withColVisStateChange = function(e) {
if (!i.isFunction(e)) throw new Error("The state change must be a function");
return r.withColVisOption("fnStateChange", e), r;
}, r;
}
var r = e.newOptions, o = e.fromSource, a = e.fromFnPromise;
return e.newOptions = function() {
return t(r);
}, e.fromSource = function(e) {
return t(o, e);
}, e.fromFnPromise = function(e) {
return t(a, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
i.module("datatables.colvis", [ "datatables" ]).config(r), r.$inject = [ "$provide" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.fixedcolumns"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var n = e(t);
return n.withFixedColumns = function(e) {
return n.fixedColumns = !0, e && (n.fixedColumns = e), n;
}, n;
}
var n = e.newOptions, i = e.fromSource, r = e.fromFnPromise;
return e.newOptions = function() {
return t(n);
}, e.fromSource = function(e) {
return t(i, e);
}, e.fromFnPromise = function(e) {
return t(r, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
i.module("datatables.fixedcolumns", [ "datatables" ]).config(r), r.$inject = [ "$provide" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.fixedheader"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var n = e(t);
return n.withFixedHeader = function(e) {
return n.hasFixedHeader = !0, e && (n.fixedHeaderOptions = e), n;
}, n;
}
var n = e.newOptions, i = e.fromSource, r = e.fromFnPromise;
return e.newOptions = function() {
return t(n);
}, e.fromSource = function(e) {
return t(i, e);
}, e.fromFnPromise = function(e) {
return t(r, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
function o(e) {
var t = {
postRender: function(e, t) {
e && e.hasFixedHeader && new n.fn.dataTable.FixedHeader(t.DataTable, e.fixedHeaderOptions);
}
};
e.registerPlugin(t);
}
i.module("datatables.fixedheader", [ "datatables" ]).config(r).run(o), r.$inject = [ "$provide" ], o.$inject = [ "DTRendererService" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.scroller"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var i = e(t);
return i.withScroller = function() {
return i.dom = i.dom ? i.dom : n.fn.dataTable.defaults.sDom, -1 === i.dom.indexOf("S") && (i.dom = i.dom + "S"), i;
}, i;
}
var i = e.newOptions, r = e.fromSource, o = e.fromFnPromise;
return e.newOptions = function() {
return t(i);
}, e.fromSource = function(e) {
return t(r, e);
}, e.fromFnPromise = function(e) {
return t(o, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
i.module("datatables.scroller", [ "datatables" ]).config(r), r.$inject = [ "$provide" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.tabletools"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var r = e(t);
return r.withTableTools = function(e) {
console.warn("The tabletools extension has been retired. Please use the select and buttons extensions instead: https://datatables.net/extensions/select/ and https://datatables.net/extensions/buttons/");
return r.dom = r.dom ? r.dom : n.fn.dataTable.defaults.sDom, -1 === r.dom.indexOf("T") && (r.dom = "T" + r.dom), r.hasTableTools = !0, i.isString(e) && r.withTableToolsOption("sSwfPath", e), r;
}, r.withTableToolsOption = function(e, t) {
return i.isString(e) && (r.oTableTools = r.oTableTools && null !== r.oTableTools ? r.oTableTools : {}, r.oTableTools[e] = t), r;
}, r.withTableToolsButtons = function(e) {
return i.isArray(e) && r.withTableToolsOption("aButtons", e), r;
}, r;
}
var r = e.newOptions, o = e.fromSource, a = e.fromFnPromise;
return e.newOptions = function() {
return t(r);
}, e.fromSource = function(e) {
return t(o, e);
}, e.fromFnPromise = function(e) {
return t(a, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
i.module("datatables.tabletools", [ "datatables" ]).config(r), r.$inject = [ "$provide" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.buttons"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var r = e(t);
return r.withButtons = function(e) {
if (r.dom = r.dom ? r.dom : n.fn.dataTable.defaults.sDom, -1 === r.dom.indexOf("B") && (r.dom = "B" + r.dom), i.isUndefined(e)) throw new Error("You must define the options for the button extension. See https://datatables.net/reference/option/buttons#Examples for some example");
return r.buttons = e, r;
}, r;
}
var r = e.newOptions, o = e.fromSource, a = e.fromFnPromise;
return e.newOptions = function() {
return t(r);
}, e.fromSource = function(e) {
return t(o, e);
}, e.fromFnPromise = function(e) {
return t(a, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
function o(e) {
var t = {
preRender: function(e) {
e && i.isArray(e.buttons) && (e.buttonsTmp = e.buttons.slice());
},
postRender: function(e) {
e && i.isDefined(e.buttonsTmp) && (e.buttons = e.buttonsTmp, delete e.buttonsTmp);
}
};
e.registerPlugin(t);
}
i.module("datatables.buttons", [ "datatables" ]).config(r).run(o), r.$inject = [ "$provide" ], o.$inject = [ "DTRendererService" ];
}(window, document, jQuery, angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "datatables.select"), function(e, t, n, i) {
"use strict";
function r(e) {
function t(e) {
function t(e, t) {
var n = e(t);
return n.withSelect = function(e) {
if (i.isUndefined(e)) throw new Error("You must define the options for the select extension. See https://datatables.net/reference/option/#select");
return n.select = e, n;
}, n;
}
var n = e.newOptions, r = e.fromSource, o = e.fromFnPromise;
return e.newOptions = function() {
return t(n);
}, e.fromSource = function(e) {
return t(r, e);
}, e.fromFnPromise = function(e) {
return t(o, e);
}, e;
}
e.decorator("DTOptionsBuilder", t), t.$inject = [ "$delegate" ];
}
i.module("datatables.select", [ "datatables" ]).config(r), r.$inject = [ "$provide" ];
}(window, document, jQuery, angular), function(e) {
var t = "application/x-dnd", n = "application/json", i = "Text";
e.directive("dndDraggable", [ "$parse", "$timeout", function(e, o) {
return function(a, s, l) {
s.attr("draggable", "true"), l.dndDisableIf && a.$watch(l.dndDisableIf, function(e) {
s.attr("draggable", !e);
}), s.on("dragstart", function(c) {
if (c = c.originalEvent || c, "false" == s.attr("draggable")) return !0;
r.dropEffect = "none", r.isDragging = !0, r.itemType = l.dndType && a.$eval(l.dndType).toLowerCase();
var u = a.$eval(l.dndDraggable), d = t + (r.itemType ? "-" + r.itemType : "");
try {
c.dataTransfer.setData(d, angular.toJson(u));
} catch (e) {
var h = angular.toJson({
item: u,
type: r.itemType
});
try {
c.dataTransfer.setData(n, h);
} catch (e) {
c.dataTransfer.setData(i, h);
}
}
c.dataTransfer.effectAllowed = l.dndEffectAllowed || "move", s.addClass("dndDragging"), o(function() {
s.addClass("dndDraggingSource");
}, 0), c._dndHandle && c.dataTransfer.setDragImage && c.dataTransfer.setDragImage(s[0], 0, 0), e(l.dndDragstart)(a, {
event: c
}), c.stopPropagation();
}), s.on("dragend", function(t) {
t = t.originalEvent || t;
var n = r.dropEffect;
a.$apply(function() {
switch (n) {
case "move":
e(l.dndMoved)(a, {
event: t
});
break;

case "copy":
e(l.dndCopied)(a, {
event: t
});
break;

case "none":
e(l.dndCanceled)(a, {
event: t
});
}
e(l.dndDragend)(a, {
event: t,
dropEffect: n
});
}), s.removeClass("dndDragging"), o(function() {
s.removeClass("dndDraggingSource");
}, 0), r.isDragging = !1, t.stopPropagation();
}), s.on("click", function(t) {
l.dndSelected && (t = t.originalEvent || t, a.$apply(function() {
e(l.dndSelected)(a, {
event: t
});
}), t.stopPropagation());
}), s.on("selectstart", function() {
this.dragDrop && this.dragDrop();
});
};
} ]), e.directive("dndList", [ "$parse", "$timeout", function(e, o) {
return function(a, s, l) {
function c(e) {
if (!e) return i;
for (var r = 0; r < e.length; r++) if (e[r] == i || e[r] == n || e[r].substr(0, t.length) == t) return e[r];
return null;
}
function u(e) {
return r.isDragging ? r.itemType || void 0 : e == i || e == n ? null : e && e.substr(t.length + 1) || void 0;
}
function d(e) {
return !y.disabled && (!(!y.externalSources && !r.isDragging) && (!y.allowedTypes || null === e || e && -1 != y.allowedTypes.indexOf(e)));
}
function h() {
return g.remove(), s.removeClass("dndDragover"), !0;
}
function f(t, n, i, o, s) {
return e(t)(a, {
event: n,
index: void 0 !== o ? o : p(),
item: s || void 0,
external: !r.isDragging,
type: i
});
}
function p() {
return Array.prototype.indexOf.call(v.children, m);
}
var g = function() {
var e;
return angular.forEach(s.children(), function(t) {
var n = angular.element(t);
n.hasClass("dndPlaceholder") && (e = n);
}), e || angular.element("<li class='dndPlaceholder'></li>");
}();
g.remove();
var m = g[0], v = s[0], y = {};
s.on("dragenter", function(e) {
e = e.originalEvent || e;
var t = l.dndAllowedTypes && a.$eval(l.dndAllowedTypes);
y = {
allowedTypes: angular.isArray(t) && t.join("|").toLowerCase().split("|"),
disabled: l.dndDisableIf && a.$eval(l.dndDisableIf),
externalSources: l.dndExternalSources && a.$eval(l.dndExternalSources),
horizontal: l.dndHorizontalList && a.$eval(l.dndHorizontalList)
};
var n = c(e.dataTransfer.types);
if (!n || !d(u(n))) return !0;
e.preventDefault();
}), s.on("dragover", function(e) {
var t = c((e = e.originalEvent || e).dataTransfer.types), n = u(t);
if (!t || !d(n)) return !0;
if (m.parentNode != v && s.append(g), e.target != v) {
for (var i = e.target; i.parentNode != v && i.parentNode; ) i = i.parentNode;
if (i.parentNode == v && i != m) {
var r = i.getBoundingClientRect();
if (y.horizontal) o = e.clientX < r.left + r.width / 2; else var o = e.clientY < r.top + r.height / 2;
v.insertBefore(m, o ? i : i.nextSibling);
}
}
return l.dndDragover && !f(l.dndDragover, e, n) ? h() : (s.addClass("dndDragover"), e.preventDefault(), e.stopPropagation(), !1);
}), s.on("drop", function(e) {
var t = c((e = e.originalEvent || e).dataTransfer.types), o = u(t);
if (!t || !d(o)) return !0;
e.preventDefault();
try {
var s = JSON.parse(e.dataTransfer.getData(t));
} catch (e) {
return h();
}
if ((t == i || t == n) && (o = s.type || void 0, s = s.item, !d(o))) return h();
var g = p();
return l.dndDrop && !(s = f(l.dndDrop, e, o, g, s)) ? h() : (!0 !== s && a.$apply(function() {
a.$eval(l.dndList).splice(g, 0, s);
}), f(l.dndInserted, e, o, g, s), "none" === e.dataTransfer.dropEffect ? "copy" === e.dataTransfer.effectAllowed || "move" === e.dataTransfer.effectAllowed ? r.dropEffect = e.dataTransfer.effectAllowed : r.dropEffect = e.ctrlKey ? "copy" : "move" : r.dropEffect = e.dataTransfer.dropEffect, h(), e.stopPropagation(), !1);
}), s.on("dragleave", function(e) {
e = e.originalEvent || e, s.removeClass("dndDragover"), o(function() {
s.hasClass("dndDragover") || g.remove();
}, 100);
});
};
} ]), e.directive("dndNodrag", function() {
return function(e, t, n) {
t.attr("draggable", "true"), t.on("dragstart", function(e) {
(e = e.originalEvent || e)._dndHandle || (e.dataTransfer.types && e.dataTransfer.types.length || e.preventDefault(), e.stopPropagation());
}), t.on("dragend", function(e) {
(e = e.originalEvent || e)._dndHandle || e.stopPropagation();
});
};
}), e.directive("dndHandle", function() {
return function(e, t, n) {
t.attr("draggable", "true"), t.on("dragstart dragend", function(e) {
(e = e.originalEvent || e)._dndHandle = !0;
});
};
});
var r = {};
}(angular.module("dndLists", [])), function(e) {
"function" == typeof define && define.amd ? define([ "jquery", "datatables.net" ], function(t) {
return e(t, window, document);
}) : "object" == typeof exports ? module.exports = function(t, n) {
return t || (t = window), n && n.fn.dataTable || (n = require("datatables.net")(t, n).$), e(n, t, t.document);
} : e(jQuery, window, document);
}(function(e, t, n, i) {
"use strict";
function r(e, t, n) {
var i, r, o, a = function(t, n) {
if (t > n) {
var i = n;
n = t, t = i;
}
var r = !1;
return e.columns(":visible").indexes().filter(function(e) {
return e === t && (r = !0), e === n ? (r = !1, !0) : r;
});
}, s = function(t, n) {
var i = e.rows({
search: "applied"
}).indexes();
if (i.indexOf(t) > i.indexOf(n)) {
var r = n;
n = t, t = r;
}
var o = !1;
return i.filter(function(e) {
return e === t && (o = !0), e === n ? (o = !1, !0) : o;
});
};
e.cells({
selected: !0
}).any() || n ? (r = a(n.column, t.column), o = s(n.row, t.row)) : (r = a(0, t.column), o = s(0, t.row)), i = e.cells(o, r).flatten(), e.cells(t, {
selected: !0
}).any() ? e.cells(i).deselect() : e.cells(i).select();
}
function o(t) {
var n = t.settings()[0]._select.selector;
e(t.table().container()).off("mousedown.dtSelect", n).off("mouseup.dtSelect", n).off("click.dtSelect", n), e("body").off("click.dtSelect" + t.table().node().id);
}
function a(n) {
var i, r = e(n.table().container()), o = n.settings()[0], a = o._select.selector;
r.on("mousedown.dtSelect", a, function(e) {
(e.shiftKey || e.metaKey || e.ctrlKey) && r.css("-moz-user-select", "none").one("selectstart.dtSelect", a, function() {
return !1;
}), t.getSelection && (i = t.getSelection());
}).on("mouseup.dtSelect", a, function() {
r.css("-moz-user-select", "");
}).on("click.dtSelect", a, function(r) {
var o, a = n.select.items();
if (t.getSelection) {
var l = t.getSelection();
if ((!l.anchorNode || e(l.anchorNode).closest("table")[0] === n.table().node()) && l !== i) return;
}
var c = n.settings()[0], u = n.settings()[0].oClasses.sWrapper.replace(/ /g, ".");
if (e(r.target).closest("div." + u)[0] == n.table().container()) {
var d = n.cell(e(r.target).closest("td, th"));
if (d.any()) {
var f = e.Event("user-select.dt");
if (s(n, f, [ a, d, r ]), !f.isDefaultPrevented()) {
var p = d.index();
"row" === a ? (o = p.row, h(r, n, c, "row", o)) : "column" === a ? (o = d.index().column, h(r, n, c, "column", o)) : "cell" === a && (o = d.index(), h(r, n, c, "cell", o)), c._select_lastCell = p;
}
}
}
}), e("body").on("click.dtSelect" + n.table().node().id, function(t) {
if (o._select.blurable) {
if (e(t.target).parents().filter(n.table().container()).length) return;
if (0 === e(t.target).parents("html").length) return;
if (e(t.target).parents("div.DTE").length) return;
d(o, !0);
}
});
}
function s(t, n, i, r) {
r && !t.flatten().length || ("string" == typeof n && (n += ".dt"), i.unshift(t), e(t.table().node()).trigger(n, i));
}
function l(t) {
var n = t.settings()[0];
if (n._select.info && n.aanFeatures.i && "api" !== t.select.style()) {
var i = t.rows({
selected: !0
}).flatten().length, r = t.columns({
selected: !0
}).flatten().length, o = t.cells({
selected: !0
}).flatten().length, a = function(n, i, r) {
n.append(e('<span class="select-item"/>').append(t.i18n("select." + i + "s", {
_: "%d " + i + "s selected",
0: "",
1: "1 " + i + " selected"
}, r)));
};
e.each(n.aanFeatures.i, function(t, n) {
n = e(n);
var s = e('<span class="select-info"/>');
a(s, "row", i), a(s, "column", r), a(s, "cell", o);
var l = n.children("span.select-info");
l.length && l.remove(), "" !== s.text() && n.append(s);
});
}
}
function c(t) {
var n = new m.Api(t);
t.aoRowCreatedCallback.push({
fn: function(n, i, r) {
var o, a, s = t.aoData[r];
for (s._select_selected && e(n).addClass(t._select.className), o = 0, a = t.aoColumns.length; o < a; o++) (t.aoColumns[o]._select_selected || s._selected_cells && s._selected_cells[o]) && e(s.anCells[o]).addClass(t._select.className);
},
sName: "select-deferRender"
}), n.on("preXhr.dt.dtSelect", function() {
var e = n.rows({
selected: !0
}).ids(!0).filter(function(e) {
return e !== i;
}), t = n.cells({
selected: !0
}).eq(0).map(function(e) {
var t = n.row(e.row).id(!0);
return t ? {
row: t,
column: e.column
} : i;
}).filter(function(e) {
return e !== i;
});
n.one("draw.dt.dtSelect", function() {
n.rows(e).select(), t.any() && t.each(function(e) {
n.cells(e.row, e.column).select();
});
});
}), n.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt", function() {
l(n);
}), n.on("destroy.dtSelect", function() {
o(n), n.off(".dtSelect");
});
}
function u(t, n, i, r) {
var o = t[n + "s"]({
search: "applied"
}).indexes(), a = e.inArray(r, o), s = e.inArray(i, o);
if (t[n + "s"]({
selected: !0
}).any() || -1 !== a) {
if (a > s) {
var l = s;
s = a, a = l;
}
o.splice(s + 1, o.length), o.splice(0, a);
} else o.splice(e.inArray(i, o) + 1, o.length);
t[n](i, {
selected: !0
}).any() ? (o.splice(e.inArray(i, o), 1), t[n + "s"](o).deselect()) : t[n + "s"](o).select();
}
function d(e, t) {
if (t || "single" === e._select.style) {
var n = new m.Api(e);
n.rows({
selected: !0
}).deselect(), n.columns({
selected: !0
}).deselect(), n.cells({
selected: !0
}).deselect();
}
}
function h(e, t, n, i, o) {
var a = t.select.style(), s = t[i](o, {
selected: !0
}).any();
if ("os" === a) if (e.ctrlKey || e.metaKey) t[i](o).select(!s); else if (e.shiftKey) "cell" === i ? r(t, o, n._select_lastCell || null) : u(t, i, o, n._select_lastCell ? n._select_lastCell[i] : null); else {
var l = t[i + "s"]({
selected: !0
});
s && 1 === l.flatten().length ? t[i](o).deselect() : (l.deselect(), t[i](o).select());
} else "multi+shift" == a && e.shiftKey ? "cell" === i ? r(t, o, n._select_lastCell || null) : u(t, i, o, n._select_lastCell ? n._select_lastCell[i] : null) : t[i](o).select(!s);
}
function f(e, t) {
return function(n) {
return n.i18n("buttons." + e, t);
};
}
function p(e) {
var t = e._eventNamespace;
return "draw.dt.DT" + t + " select.dt.DT" + t + " deselect.dt.DT" + t;
}
function g(t, n) {
return !(-1 === e.inArray("rows", n.limitTo) || !t.rows({
selected: !0
}).any()) || (!(-1 === e.inArray("columns", n.limitTo) || !t.columns({
selected: !0
}).any()) || !(-1 === e.inArray("cells", n.limitTo) || !t.cells({
selected: !0
}).any()));
}
var m = e.fn.dataTable;
m.select = {}, m.select.version = "1.2.7", m.select.init = function(t) {
var n = t.settings()[0], r = n.oInit.select, o = m.defaults.select, a = r === i ? o : r, s = "row", l = "api", c = !1, u = !0, d = "td, th", h = "selected", f = !1;
n._select = {}, !0 === a ? (l = "os", f = !0) : "string" == typeof a ? (l = a, f = !0) : e.isPlainObject(a) && (a.blurable !== i && (c = a.blurable), a.info !== i && (u = a.info), a.items !== i && (s = a.items), a.style !== i && (l = a.style, f = !0), a.selector !== i && (d = a.selector), a.className !== i && (h = a.className)), t.select.selector(d), t.select.items(s), t.select.style(l), t.select.blurable(c), t.select.info(u), n._select.className = h, e.fn.dataTable.ext.order["select-checkbox"] = function(t, n) {
return this.api().column(n, {
order: "index"
}).nodes().map(function(n) {
return "row" === t._select.items ? e(n).parent().hasClass(t._select.className) : "cell" === t._select.items && e(n).hasClass(t._select.className);
});
}, !f && e(t.table().node()).hasClass("selectable") && t.select.style("os");
}, e.each([ {
type: "row",
prop: "aoData"
}, {
type: "column",
prop: "aoColumns"
} ], function(e, t) {
m.ext.selector[t.type].push(function(e, n, i) {
var r, o = n.selected, a = [];
if (!0 !== o && !1 !== o) return i;
for (var s = 0, l = i.length; s < l; s++) r = e[t.prop][i[s]], (!0 === o && !0 === r._select_selected || !1 === o && !r._select_selected) && a.push(i[s]);
return a;
});
}), m.ext.selector.cell.push(function(e, t, n) {
var r, o = t.selected, a = [];
if (o === i) return n;
for (var s = 0, l = n.length; s < l; s++) r = e.aoData[n[s].row], (!0 === o && r._selected_cells && !0 === r._selected_cells[n[s].column] || !1 === o && (!r._selected_cells || !r._selected_cells[n[s].column])) && a.push(n[s]);
return a;
});
var v = m.Api.register, y = m.Api.registerPlural;
v("select()", function() {
return this.iterator("table", function(e) {
m.select.init(new m.Api(e));
});
}), v("select.blurable()", function(e) {
return e === i ? this.context[0]._select.blurable : this.iterator("table", function(t) {
t._select.blurable = e;
});
}), v("select.info()", function(e) {
return l === i ? this.context[0]._select.info : this.iterator("table", function(t) {
t._select.info = e;
});
}), v("select.items()", function(e) {
return e === i ? this.context[0]._select.items : this.iterator("table", function(t) {
t._select.items = e, s(new m.Api(t), "selectItems", [ e ]);
});
}), v("select.style()", function(e) {
return e === i ? this.context[0]._select.style : this.iterator("table", function(t) {
t._select.style = e, t._select_init || c(t);
var n = new m.Api(t);
o(n), "api" !== e && a(n), s(new m.Api(t), "selectStyle", [ e ]);
});
}), v("select.selector()", function(e) {
return e === i ? this.context[0]._select.selector : this.iterator("table", function(t) {
o(new m.Api(t)), t._select.selector = e, "api" !== t._select.style && a(new m.Api(t));
});
}), y("rows().select()", "row().select()", function(t) {
var n = this;
return !1 === t ? this.deselect() : (this.iterator("row", function(t, n) {
d(t), t.aoData[n]._select_selected = !0, e(t.aoData[n].nTr).addClass(t._select.className);
}), this.iterator("table", function(e, t) {
s(n, "select", [ "row", n[t] ], !0);
}), this);
}), y("columns().select()", "column().select()", function(t) {
var n = this;
return !1 === t ? this.deselect() : (this.iterator("column", function(t, n) {
d(t), t.aoColumns[n]._select_selected = !0;
var i = new m.Api(t).column(n);
e(i.header()).addClass(t._select.className), e(i.footer()).addClass(t._select.className), i.nodes().to$().addClass(t._select.className);
}), this.iterator("table", function(e, t) {
s(n, "select", [ "column", n[t] ], !0);
}), this);
}), y("cells().select()", "cell().select()", function(t) {
var n = this;
return !1 === t ? this.deselect() : (this.iterator("cell", function(t, n, r) {
d(t);
var o = t.aoData[n];
o._selected_cells === i && (o._selected_cells = []), o._selected_cells[r] = !0, o.anCells && e(o.anCells[r]).addClass(t._select.className);
}), this.iterator("table", function(e, t) {
s(n, "select", [ "cell", n[t] ], !0);
}), this);
}), y("rows().deselect()", "row().deselect()", function() {
var t = this;
return this.iterator("row", function(t, n) {
t.aoData[n]._select_selected = !1, e(t.aoData[n].nTr).removeClass(t._select.className);
}), this.iterator("table", function(e, n) {
s(t, "deselect", [ "row", t[n] ], !0);
}), this;
}), y("columns().deselect()", "column().deselect()", function() {
var t = this;
return this.iterator("column", function(t, n) {
t.aoColumns[n]._select_selected = !1;
var i = new m.Api(t), r = i.column(n);
e(r.header()).removeClass(t._select.className), e(r.footer()).removeClass(t._select.className), i.cells(null, n).indexes().each(function(n) {
var i = t.aoData[n.row], r = i._selected_cells;
!i.anCells || r && r[n.column] || e(i.anCells[n.column]).removeClass(t._select.className);
});
}), this.iterator("table", function(e, n) {
s(t, "deselect", [ "column", t[n] ], !0);
}), this;
}), y("cells().deselect()", "cell().deselect()", function() {
var t = this;
return this.iterator("cell", function(t, n, i) {
var r = t.aoData[n];
r._selected_cells[i] = !1, r.anCells && !t.aoColumns[i]._select_selected && e(r.anCells[i]).removeClass(t._select.className);
}), this.iterator("table", function(e, n) {
s(t, "deselect", [ "cell", t[n] ], !0);
}), this;
});
var b = 0;
return e.extend(m.ext.buttons, {
selected: {
text: f("selected", "Selected"),
className: "buttons-selected",
limitTo: [ "rows", "columns", "cells" ],
init: function(e, t, n) {
var i = this;
n._eventNamespace = ".select" + b++, e.on(p(n), function() {
i.enable(g(e, n));
}), this.disable();
},
destroy: function(e, t, n) {
e.off(n._eventNamespace);
}
},
selectedSingle: {
text: f("selectedSingle", "Selected single"),
className: "buttons-selected-single",
init: function(e, t, n) {
var i = this;
n._eventNamespace = ".select" + b++, e.on(p(n), function() {
var t = e.rows({
selected: !0
}).flatten().length + e.columns({
selected: !0
}).flatten().length + e.cells({
selected: !0
}).flatten().length;
i.enable(1 === t);
}), this.disable();
},
destroy: function(e, t, n) {
e.off(n._eventNamespace);
}
},
selectAll: {
text: f("selectAll", "Select all"),
className: "buttons-select-all",
action: function() {
this[this.select.items() + "s"]().select();
}
},
selectNone: {
text: f("selectNone", "Deselect all"),
className: "buttons-select-none",
action: function() {
d(this.settings()[0], !0);
},
init: function(e, t, n) {
var i = this;
n._eventNamespace = ".select" + b++, e.on(p(n), function() {
var t = e.rows({
selected: !0
}).flatten().length + e.columns({
selected: !0
}).flatten().length + e.cells({
selected: !0
}).flatten().length;
i.enable(t > 0);
}), this.disable();
},
destroy: function(e, t, n) {
e.off(n._eventNamespace);
}
}
}), e.each([ "Row", "Column", "Cell" ], function(e, t) {
var n = t.toLowerCase();
m.ext.buttons["select" + t + "s"] = {
text: f("select" + t + "s", "Select " + n + "s"),
className: "buttons-select-" + n + "s",
action: function() {
this.select.items(n);
},
init: function(e) {
var t = this;
e.on("selectItems.dt.DT", function(e, i, r) {
t.active(r === n);
});
}
};
}), e(n).on("preInit.dt.dtSelect", function(e, t) {
"dt" === e.namespace && m.select.init(new m.Api(t));
}), m.select;
}), function() {
function e(e, t, n) {
switch (n.length) {
case 0:
return e.call(t);

case 1:
return e.call(t, n[0]);

case 2:
return e.call(t, n[0], n[1]);

case 3:
return e.call(t, n[0], n[1], n[2]);
}
return e.apply(t, n);
}
function t(e, t, n, i) {
for (var r = -1, o = null == e ? 0 : e.length; ++r < o; ) {
var a = e[r];
t(i, a, n(a), e);
}
return i;
}
function n(e, t) {
for (var n = -1, i = null == e ? 0 : e.length; ++n < i && !1 !== t(e[n], n, e); ) ;
return e;
}
function i(e, t) {
for (var n = null == e ? 0 : e.length; n-- && !1 !== t(e[n], n, e); ) ;
return e;
}
function r(e, t) {
for (var n = -1, i = null == e ? 0 : e.length; ++n < i; ) if (!t(e[n], n, e)) return !1;
return !0;
}
function o(e, t) {
for (var n = -1, i = null == e ? 0 : e.length, r = 0, o = []; ++n < i; ) {
var a = e[n];
t(a, n, e) && (o[r++] = a);
}
return o;
}
function a(e, t) {
return !!(null == e ? 0 : e.length) && v(e, t, 0) > -1;
}
function s(e, t, n) {
for (var i = -1, r = null == e ? 0 : e.length; ++i < r; ) if (n(t, e[i])) return !0;
return !1;
}
function l(e, t) {
for (var n = -1, i = null == e ? 0 : e.length, r = Array(i); ++n < i; ) r[n] = t(e[n], n, e);
return r;
}
function c(e, t) {
for (var n = -1, i = t.length, r = e.length; ++n < i; ) e[r + n] = t[n];
return e;
}
function u(e, t, n, i) {
var r = -1, o = null == e ? 0 : e.length;
for (i && o && (n = e[++r]); ++r < o; ) n = t(n, e[r], r, e);
return n;
}
function d(e, t, n, i) {
var r = null == e ? 0 : e.length;
for (i && r && (n = e[--r]); r--; ) n = t(n, e[r], r, e);
return n;
}
function h(e, t) {
for (var n = -1, i = null == e ? 0 : e.length; ++n < i; ) if (t(e[n], n, e)) return !0;
return !1;
}
function f(e) {
return e.split("");
}
function p(e) {
return e.match(Mt) || [];
}
function g(e, t, n) {
var i;
return n(e, function(e, n, r) {
if (t(e, n, r)) return i = n, !1;
}), i;
}
function m(e, t, n, i) {
for (var r = e.length, o = n + (i ? 1 : -1); i ? o-- : ++o < r; ) if (t(e[o], o, e)) return o;
return -1;
}
function v(e, t, n) {
return t === t ? z(e, t, n) : m(e, b, n);
}
function y(e, t, n, i) {
for (var r = n - 1, o = e.length; ++r < o; ) if (i(e[r], t)) return r;
return -1;
}
function b(e) {
return e !== e;
}
function _(e, t) {
var n = null == e ? 0 : e.length;
return n ? $(e, t) / n : Te;
}
function w(e) {
return function(t) {
return null == t ? Q : t[e];
};
}
function C(e) {
return function(t) {
return null == e ? Q : e[t];
};
}
function x(e, t, n, i, r) {
return r(e, function(e, r, o) {
n = i ? (i = !1, e) : t(n, e, r, o);
}), n;
}
function S(e, t) {
var n = e.length;
for (e.sort(t); n--; ) e[n] = e[n].value;
return e;
}
function $(e, t) {
for (var n, i = -1, r = e.length; ++i < r; ) {
var o = t(e[i]);
o !== Q && (n = n === Q ? o : n + o);
}
return n;
}
function A(e, t) {
for (var n = -1, i = Array(e); ++n < e; ) i[n] = t(n);
return i;
}
function k(e, t) {
return l(t, function(t) {
return [ t, e[t] ];
});
}
function T(e) {
return function(t) {
return e(t);
};
}
function D(e, t) {
return l(t, function(t) {
return e[t];
});
}
function E(e, t) {
return e.has(t);
}
function F(e, t) {
for (var n = -1, i = e.length; ++n < i && v(t, e[n], 0) > -1; ) ;
return n;
}
function M(e, t) {
for (var n = e.length; n-- && v(t, e[n], 0) > -1; ) ;
return n;
}
function I(e, t) {
for (var n = e.length, i = 0; n--; ) e[n] === t && ++i;
return i;
}
function P(e) {
return "\\" + bn[e];
}
function L(e, t) {
return null == e ? Q : e[t];
}
function O(e) {
return un.test(e);
}
function R(e) {
return dn.test(e);
}
function N(e) {
for (var t, n = []; !(t = e.next()).done; ) n.push(t.value);
return n;
}
function B(e) {
var t = -1, n = Array(e.size);
return e.forEach(function(e, i) {
n[++t] = [ i, e ];
}), n;
}
function j(e, t) {
return function(n) {
return e(t(n));
};
}
function H(e, t) {
for (var n = -1, i = e.length, r = 0, o = []; ++n < i; ) {
var a = e[n];
a !== t && a !== ie || (e[n] = ie, o[r++] = n);
}
return o;
}
function V(e) {
var t = -1, n = Array(e.size);
return e.forEach(function(e) {
n[++t] = e;
}), n;
}
function U(e) {
var t = -1, n = Array(e.size);
return e.forEach(function(e) {
n[++t] = [ e, e ];
}), n;
}
function z(e, t, n) {
for (var i = n - 1, r = e.length; ++i < r; ) if (e[i] === t) return i;
return -1;
}
function W(e, t, n) {
for (var i = n + 1; i--; ) if (e[i] === t) return i;
return i;
}
function q(e) {
return O(e) ? Y(e) : On(e);
}
function G(e) {
return O(e) ? K(e) : f(e);
}
function Y(e) {
for (var t = ln.lastIndex = 0; ln.test(e); ) ++t;
return t;
}
function K(e) {
return e.match(ln) || [];
}
function X(e) {
return e.match(cn) || [];
}
var Q, J = 200, Z = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", ee = "Expected a function", te = "__lodash_hash_undefined__", ne = 500, ie = "__lodash_placeholder__", re = 1, oe = 2, ae = 4, se = 1, le = 2, ce = 1, ue = 2, de = 4, he = 8, fe = 16, pe = 32, ge = 64, me = 128, ve = 256, ye = 512, be = 30, _e = "...", we = 800, Ce = 16, xe = 1, Se = 2, $e = 1 / 0, Ae = 9007199254740991, ke = 1.7976931348623157e308, Te = NaN, De = 4294967295, Ee = De - 1, Fe = De >>> 1, Me = [ [ "ary", me ], [ "bind", ce ], [ "bindKey", ue ], [ "curry", he ], [ "curryRight", fe ], [ "flip", ye ], [ "partial", pe ], [ "partialRight", ge ], [ "rearg", ve ] ], Ie = "[object Arguments]", Pe = "[object Array]", Le = "[object AsyncFunction]", Oe = "[object Boolean]", Re = "[object Date]", Ne = "[object DOMException]", Be = "[object Error]", je = "[object Function]", He = "[object GeneratorFunction]", Ve = "[object Map]", Ue = "[object Number]", ze = "[object Null]", We = "[object Object]", qe = "[object Proxy]", Ge = "[object RegExp]", Ye = "[object Set]", Ke = "[object String]", Xe = "[object Symbol]", Qe = "[object Undefined]", Je = "[object WeakMap]", Ze = "[object WeakSet]", et = "[object ArrayBuffer]", tt = "[object DataView]", nt = "[object Float32Array]", it = "[object Float64Array]", rt = "[object Int8Array]", ot = "[object Int16Array]", at = "[object Int32Array]", st = "[object Uint8Array]", lt = "[object Uint8ClampedArray]", ct = "[object Uint16Array]", ut = "[object Uint32Array]", dt = /\b__p \+= '';/g, ht = /\b(__p \+=) '' \+/g, ft = /(__e\(.*?\)|\b__t\)) \+\n'';/g, pt = /&(?:amp|lt|gt|quot|#39);/g, gt = /[&<>"']/g, mt = RegExp(pt.source), vt = RegExp(gt.source), yt = /<%-([\s\S]+?)%>/g, bt = /<%([\s\S]+?)%>/g, _t = /<%=([\s\S]+?)%>/g, wt = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Ct = /^\w*$/, xt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, St = /[\\^$.*+?()[\]{}|]/g, $t = RegExp(St.source), At = /^\s+|\s+$/g, kt = /^\s+/, Tt = /\s+$/, Dt = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, Et = /\{\n\/\* \[wrapped with (.+)\] \*/, Ft = /,? & /, Mt = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, It = /\\(\\)?/g, Pt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Lt = /\w*$/, Ot = /^[-+]0x[0-9a-f]+$/i, Rt = /^0b[01]+$/i, Nt = /^\[object .+?Constructor\]$/, Bt = /^0o[0-7]+$/i, jt = /^(?:0|[1-9]\d*)$/, Ht = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, Vt = /($^)/, Ut = /['\n\r\u2028\u2029\\]/g, zt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", Wt = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", qt = "[" + Wt + "]", Gt = "[" + zt + "]", Yt = "[a-z\\xdf-\\xf6\\xf8-\\xff]", Kt = "[^\\ud800-\\udfff" + Wt + "\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]", Xt = "\\ud83c[\\udffb-\\udfff]", Qt = "(?:\\ud83c[\\udde6-\\uddff]){2}", Jt = "[\\ud800-\\udbff][\\udc00-\\udfff]", Zt = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", en = "(?:" + Yt + "|" + Kt + ")", tn = "(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?", nn = "[\\ufe0e\\ufe0f]?" + tn + ("(?:\\u200d(?:" + [ "[^\\ud800-\\udfff]", Qt, Jt ].join("|") + ")[\\ufe0e\\ufe0f]?" + tn + ")*"), rn = "(?:" + [ "[\\u2700-\\u27bf]", Qt, Jt ].join("|") + ")" + nn, on = "(?:" + [ "[^\\ud800-\\udfff]" + Gt + "?", Gt, Qt, Jt, "[\\ud800-\\udfff]" ].join("|") + ")", an = RegExp("['’]", "g"), sn = RegExp(Gt, "g"), ln = RegExp(Xt + "(?=" + Xt + ")|" + on + nn, "g"), cn = RegExp([ Zt + "?" + Yt + "+(?:['’](?:d|ll|m|re|s|t|ve))?(?=" + [ qt, Zt, "$" ].join("|") + ")", "(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=" + [ qt, Zt + en, "$" ].join("|") + ")", Zt + "?" + en + "+(?:['’](?:d|ll|m|re|s|t|ve))?", Zt + "+(?:['’](?:D|LL|M|RE|S|T|VE))?", "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", "\\d+", rn ].join("|"), "g"), un = RegExp("[\\u200d\\ud800-\\udfff" + zt + "\\ufe0e\\ufe0f]"), dn = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, hn = [ "Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout" ], fn = -1, pn = {};
pn[nt] = pn[it] = pn[rt] = pn[ot] = pn[at] = pn[st] = pn[lt] = pn[ct] = pn[ut] = !0, pn[Ie] = pn[Pe] = pn[et] = pn[Oe] = pn[tt] = pn[Re] = pn[Be] = pn[je] = pn[Ve] = pn[Ue] = pn[We] = pn[Ge] = pn[Ye] = pn[Ke] = pn[Je] = !1;
var gn = {};
gn[Ie] = gn[Pe] = gn[et] = gn[tt] = gn[Oe] = gn[Re] = gn[nt] = gn[it] = gn[rt] = gn[ot] = gn[at] = gn[Ve] = gn[Ue] = gn[We] = gn[Ge] = gn[Ye] = gn[Ke] = gn[Xe] = gn[st] = gn[lt] = gn[ct] = gn[ut] = !0, gn[Be] = gn[je] = gn[Je] = !1;
var mn = {
"À": "A",
"Á": "A",
"Â": "A",
"Ã": "A",
"Ä": "A",
"Å": "A",
"à": "a",
"á": "a",
"â": "a",
"ã": "a",
"ä": "a",
"å": "a",
"Ç": "C",
"ç": "c",
"Ð": "D",
"ð": "d",
"È": "E",
"É": "E",
"Ê": "E",
"Ë": "E",
"è": "e",
"é": "e",
"ê": "e",
"ë": "e",
"Ì": "I",
"Í": "I",
"Î": "I",
"Ï": "I",
"ì": "i",
"í": "i",
"î": "i",
"ï": "i",
"Ñ": "N",
"ñ": "n",
"Ò": "O",
"Ó": "O",
"Ô": "O",
"Õ": "O",
"Ö": "O",
"Ø": "O",
"ò": "o",
"ó": "o",
"ô": "o",
"õ": "o",
"ö": "o",
"ø": "o",
"Ù": "U",
"Ú": "U",
"Û": "U",
"Ü": "U",
"ù": "u",
"ú": "u",
"û": "u",
"ü": "u",
"Ý": "Y",
"ý": "y",
"ÿ": "y",
"Æ": "Ae",
"æ": "ae",
"Þ": "Th",
"þ": "th",
"ß": "ss",
"Ā": "A",
"Ă": "A",
"Ą": "A",
"ā": "a",
"ă": "a",
"ą": "a",
"Ć": "C",
"Ĉ": "C",
"Ċ": "C",
"Č": "C",
"ć": "c",
"ĉ": "c",
"ċ": "c",
"č": "c",
"Ď": "D",
"Đ": "D",
"ď": "d",
"đ": "d",
"Ē": "E",
"Ĕ": "E",
"Ė": "E",
"Ę": "E",
"Ě": "E",
"ē": "e",
"ĕ": "e",
"ė": "e",
"ę": "e",
"ě": "e",
"Ĝ": "G",
"Ğ": "G",
"Ġ": "G",
"Ģ": "G",
"ĝ": "g",
"ğ": "g",
"ġ": "g",
"ģ": "g",
"Ĥ": "H",
"Ħ": "H",
"ĥ": "h",
"ħ": "h",
"Ĩ": "I",
"Ī": "I",
"Ĭ": "I",
"Į": "I",
"İ": "I",
"ĩ": "i",
"ī": "i",
"ĭ": "i",
"į": "i",
"ı": "i",
"Ĵ": "J",
"ĵ": "j",
"Ķ": "K",
"ķ": "k",
"ĸ": "k",
"Ĺ": "L",
"Ļ": "L",
"Ľ": "L",
"Ŀ": "L",
"Ł": "L",
"ĺ": "l",
"ļ": "l",
"ľ": "l",
"ŀ": "l",
"ł": "l",
"Ń": "N",
"Ņ": "N",
"Ň": "N",
"Ŋ": "N",
"ń": "n",
"ņ": "n",
"ň": "n",
"ŋ": "n",
"Ō": "O",
"Ŏ": "O",
"Ő": "O",
"ō": "o",
"ŏ": "o",
"ő": "o",
"Ŕ": "R",
"Ŗ": "R",
"Ř": "R",
"ŕ": "r",
"ŗ": "r",
"ř": "r",
"Ś": "S",
"Ŝ": "S",
"Ş": "S",
"Š": "S",
"ś": "s",
"ŝ": "s",
"ş": "s",
"š": "s",
"Ţ": "T",
"Ť": "T",
"Ŧ": "T",
"ţ": "t",
"ť": "t",
"ŧ": "t",
"Ũ": "U",
"Ū": "U",
"Ŭ": "U",
"Ů": "U",
"Ű": "U",
"Ų": "U",
"ũ": "u",
"ū": "u",
"ŭ": "u",
"ů": "u",
"ű": "u",
"ų": "u",
"Ŵ": "W",
"ŵ": "w",
"Ŷ": "Y",
"ŷ": "y",
"Ÿ": "Y",
"Ź": "Z",
"Ż": "Z",
"Ž": "Z",
"ź": "z",
"ż": "z",
"ž": "z",
"Ĳ": "IJ",
"ĳ": "ij",
"Œ": "Oe",
"œ": "oe",
"ŉ": "'n",
"ſ": "s"
}, vn = {
"&": "&amp;",
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&#39;"
}, yn = {
"&amp;": "&",
"&lt;": "<",
"&gt;": ">",
"&quot;": '"',
"&#39;": "'"
}, bn = {
"\\": "\\",
"'": "'",
"\n": "n",
"\r": "r",
"\u2028": "u2028",
"\u2029": "u2029"
}, _n = parseFloat, wn = parseInt, Cn = "object" == typeof global && global && global.Object === Object && global, xn = "object" == typeof self && self && self.Object === Object && self, Sn = Cn || xn || Function("return this")(), $n = "object" == typeof exports && exports && !exports.nodeType && exports, An = $n && "object" == typeof module && module && !module.nodeType && module, kn = An && An.exports === $n, Tn = kn && Cn.process, Dn = function() {
try {
var e = An && An.require && An.require("util").types;
return e || Tn && Tn.binding && Tn.binding("util");
} catch (e) {}
}(), En = Dn && Dn.isArrayBuffer, Fn = Dn && Dn.isDate, Mn = Dn && Dn.isMap, In = Dn && Dn.isRegExp, Pn = Dn && Dn.isSet, Ln = Dn && Dn.isTypedArray, On = w("length"), Rn = C(mn), Nn = C(vn), Bn = C(yn), jn = function f(C) {
function z(e) {
if (Qo(e) && !jl(e) && !(e instanceof Mt)) {
if (e instanceof K) return e;
if (ja.call(e, "__wrapped__")) return wo(e);
}
return new K(e);
}
function Y() {}
function K(e, t) {
this.__wrapped__ = e, this.__actions__ = [], this.__chain__ = !!t, this.__index__ = 0, this.__values__ = Q;
}
function Mt(e) {
this.__wrapped__ = e, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = De, this.__views__ = [];
}
function zt(e) {
var t = -1, n = null == e ? 0 : e.length;
for (this.clear(); ++t < n; ) {
var i = e[t];
this.set(i[0], i[1]);
}
}
function Wt(e) {
var t = -1, n = null == e ? 0 : e.length;
for (this.clear(); ++t < n; ) {
var i = e[t];
this.set(i[0], i[1]);
}
}
function qt(e) {
var t = -1, n = null == e ? 0 : e.length;
for (this.clear(); ++t < n; ) {
var i = e[t];
this.set(i[0], i[1]);
}
}
function Gt(e) {
var t = -1, n = null == e ? 0 : e.length;
for (this.__data__ = new qt(); ++t < n; ) this.add(e[t]);
}
function Yt(e) {
var t = this.__data__ = new Wt(e);
this.size = t.size;
}
function Kt(e, t) {
var n = jl(e), i = !n && Bl(e), r = !n && !i && Vl(e), o = !n && !i && !r && Gl(e), a = n || i || r || o, s = a ? A(e.length, Ia) : [], l = s.length;
for (var c in e) !t && !ja.call(e, c) || a && ("length" == c || r && ("offset" == c || "parent" == c) || o && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || Jr(c, l)) || s.push(c);
return s;
}
function Xt(e) {
var t = e.length;
return t ? e[bi(0, t - 1)] : Q;
}
function Qt(e, t) {
return vo(tr(e), un(t, 0, e.length));
}
function Jt(e) {
return vo(tr(e));
}
function Zt(e, t, n) {
(n === Q || Uo(e[t], n)) && (n !== Q || t in e) || ln(e, t, n);
}
function en(e, t, n) {
var i = e[t];
ja.call(e, t) && Uo(i, n) && (n !== Q || t in e) || ln(e, t, n);
}
function tn(e, t) {
for (var n = e.length; n--; ) if (Uo(e[n][0], t)) return n;
return -1;
}
function nn(e, t, n, i) {
return Ns(e, function(e, r, o) {
t(i, e, n(e), o);
}), i;
}
function rn(e, t) {
return e && nr(t, da(t), e);
}
function on(e, t) {
return e && nr(t, ha(t), e);
}
function ln(e, t, n) {
"__proto__" == t && rs ? rs(e, t, {
configurable: !0,
enumerable: !0,
value: n,
writable: !0
}) : e[t] = n;
}
function cn(e, t) {
for (var n = -1, i = t.length, r = Aa(i), o = null == e; ++n < i; ) r[n] = o ? Q : ca(e, t[n]);
return r;
}
function un(e, t, n) {
return e === e && (n !== Q && (e = e <= n ? e : n), t !== Q && (e = e >= t ? e : t)), e;
}
function dn(e, t, i, r, o, a) {
var s, l = t & re, c = t & oe, u = t & ae;
if (i && (s = o ? i(e, r, o, a) : i(e)), s !== Q) return s;
if (!Xo(e)) return e;
var d = jl(e);
if (d) {
if (s = Gr(e), !l) return tr(e, s);
} else {
var h = Xs(e), f = h == je || h == He;
if (Vl(e)) return Wi(e, l);
if (h == We || h == Ie || f && !o) {
if (s = c || f ? {} : Yr(e), !l) return c ? rr(e, on(s, e)) : ir(e, rn(s, e));
} else {
if (!gn[h]) return o ? e : {};
s = Kr(e, h, l);
}
}
a || (a = new Yt());
var p = a.get(e);
if (p) return p;
if (a.set(e, s), ql(e)) return e.forEach(function(n) {
s.add(dn(n, t, i, n, e, a));
}), s;
if (zl(e)) return e.forEach(function(n, r) {
s.set(r, dn(n, t, i, r, e, a));
}), s;
var g = u ? c ? Or : Lr : c ? ha : da, m = d ? Q : g(e);
return n(m || e, function(n, r) {
m && (n = e[r = n]), en(s, r, dn(n, t, i, r, e, a));
}), s;
}
function mn(e) {
var t = da(e);
return function(n) {
return vn(n, e, t);
};
}
function vn(e, t, n) {
var i = n.length;
if (null == e) return !i;
for (e = Fa(e); i--; ) {
var r = n[i], o = t[r], a = e[r];
if (a === Q && !(r in e) || !o(a)) return !1;
}
return !0;
}
function yn(e, t, n) {
if ("function" != typeof e) throw new Pa(ee);
return Zs(function() {
e.apply(Q, n);
}, t);
}
function bn(e, t, n, i) {
var r = -1, o = a, c = !0, u = e.length, d = [], h = t.length;
if (!u) return d;
n && (t = l(t, T(n))), i ? (o = s, c = !1) : t.length >= J && (o = E, c = !1, t = new Gt(t));
e: for (;++r < u; ) {
var f = e[r], p = null == n ? f : n(f);
if (f = i || 0 !== f ? f : 0, c && p === p) {
for (var g = h; g--; ) if (t[g] === p) continue e;
d.push(f);
} else o(t, p, i) || d.push(f);
}
return d;
}
function Cn(e, t) {
var n = !0;
return Ns(e, function(e, i, r) {
return n = !!t(e, i, r);
}), n;
}
function xn(e, t, n) {
for (var i = -1, r = e.length; ++i < r; ) {
var o = e[i], a = t(o);
if (null != a && (s === Q ? a === a && !ta(a) : n(a, s))) var s = a, l = o;
}
return l;
}
function $n(e, t, n, i) {
var r = e.length;
for ((n = ra(n)) < 0 && (n = -n > r ? 0 : r + n), (i = i === Q || i > r ? r : ra(i)) < 0 && (i += r), i = n > i ? 0 : oa(i); n < i; ) e[n++] = t;
return e;
}
function An(e, t) {
var n = [];
return Ns(e, function(e, i, r) {
t(e, i, r) && n.push(e);
}), n;
}
function Tn(e, t, n, i, r) {
var o = -1, a = e.length;
for (n || (n = Qr), r || (r = []); ++o < a; ) {
var s = e[o];
t > 0 && n(s) ? t > 1 ? Tn(s, t - 1, n, i, r) : c(r, s) : i || (r[r.length] = s);
}
return r;
}
function Dn(e, t) {
return e && js(e, t, da);
}
function On(e, t) {
return e && Hs(e, t, da);
}
function Hn(e, t) {
return o(t, function(t) {
return Go(e[t]);
});
}
function Vn(e, t) {
for (var n = 0, i = (t = Ui(t, e)).length; null != e && n < i; ) e = e[yo(t[n++])];
return n && n == i ? e : Q;
}
function Un(e, t, n) {
var i = t(e);
return jl(e) ? i : c(i, n(e));
}
function zn(e) {
return null == e ? e === Q ? Qe : ze : is && is in Fa(e) ? Ur(e) : co(e);
}
function Wn(e, t) {
return e > t;
}
function qn(e, t) {
return null != e && ja.call(e, t);
}
function Gn(e, t) {
return null != e && t in Fa(e);
}
function Yn(e, t, n) {
return e >= ms(t, n) && e < gs(t, n);
}
function Kn(e, t, n) {
for (var i = n ? s : a, r = e[0].length, o = e.length, c = o, u = Aa(o), d = 1 / 0, h = []; c--; ) {
var f = e[c];
c && t && (f = l(f, T(t))), d = ms(f.length, d), u[c] = !n && (t || r >= 120 && f.length >= 120) ? new Gt(c && f) : Q;
}
f = e[0];
var p = -1, g = u[0];
e: for (;++p < r && h.length < d; ) {
var m = f[p], v = t ? t(m) : m;
if (m = n || 0 !== m ? m : 0, !(g ? E(g, v) : i(h, v, n))) {
for (c = o; --c; ) {
var y = u[c];
if (!(y ? E(y, v) : i(e[c], v, n))) continue e;
}
g && g.push(v), h.push(m);
}
}
return h;
}
function Xn(e, t, n, i) {
return Dn(e, function(e, r, o) {
t(i, n(e), r, o);
}), i;
}
function Qn(t, n, i) {
var r = null == (t = ho(t, n = Ui(n, t))) ? t : t[yo(Ao(n))];
return null == r ? Q : e(r, t, i);
}
function Jn(e) {
return Qo(e) && zn(e) == Ie;
}
function Zn(e, t, n, i, r) {
return e === t || (null == e || null == t || !Qo(e) && !Qo(t) ? e !== e && t !== t : ei(e, t, n, i, Zn, r));
}
function ei(e, t, n, i, r, o) {
var a = jl(e), s = jl(t), l = a ? Pe : Xs(e), c = s ? Pe : Xs(t), u = (l = l == Ie ? We : l) == We, d = (c = c == Ie ? We : c) == We, h = l == c;
if (h && Vl(e)) {
if (!Vl(t)) return !1;
a = !0, u = !1;
}
if (h && !u) return o || (o = new Yt()), a || Gl(e) ? Fr(e, t, n, i, r, o) : Mr(e, t, l, n, i, r, o);
if (!(n & se)) {
var f = u && ja.call(e, "__wrapped__"), p = d && ja.call(t, "__wrapped__");
if (f || p) {
var g = f ? e.value() : e, m = p ? t.value() : t;
return o || (o = new Yt()), r(g, m, n, i, o);
}
}
return !!h && (o || (o = new Yt()), Ir(e, t, n, i, r, o));
}
function ti(e, t, n, i) {
var r = n.length, o = r, a = !i;
if (null == e) return !o;
for (e = Fa(e); r--; ) {
var s = n[r];
if (a && s[2] ? s[1] !== e[s[0]] : !(s[0] in e)) return !1;
}
for (;++r < o; ) {
var l = (s = n[r])[0], c = e[l], u = s[1];
if (a && s[2]) {
if (c === Q && !(l in e)) return !1;
} else {
var d = new Yt();
if (i) var h = i(c, u, l, e, t, d);
if (!(h === Q ? Zn(u, c, se | le, i, d) : h)) return !1;
}
}
return !0;
}
function ni(e) {
return !(!Xo(e) || io(e)) && (Go(e) ? qa : Nt).test(bo(e));
}
function ii(e) {
return "function" == typeof e ? e : null == e ? ba : "object" == typeof e ? jl(e) ? ci(e[0], e[1]) : li(e) : xa(e);
}
function ri(e) {
if (!ro(e)) return ps(e);
var t = [];
for (var n in Fa(e)) ja.call(e, n) && "constructor" != n && t.push(n);
return t;
}
function oi(e) {
if (!Xo(e)) return lo(e);
var t = ro(e), n = [];
for (var i in e) ("constructor" != i || !t && ja.call(e, i)) && n.push(i);
return n;
}
function ai(e, t) {
return e < t;
}
function si(e, t) {
var n = -1, i = zo(e) ? Aa(e.length) : [];
return Ns(e, function(e, r, o) {
i[++n] = t(e, r, o);
}), i;
}
function li(e) {
var t = Hr(e);
return 1 == t.length && t[0][2] ? ao(t[0][0], t[0][1]) : function(n) {
return n === e || ti(n, e, t);
};
}
function ci(e, t) {
return eo(e) && oo(t) ? ao(yo(e), t) : function(n) {
var i = ca(n, e);
return i === Q && i === t ? ua(n, e) : Zn(t, i, se | le);
};
}
function ui(e, t, n, i, r) {
e !== t && js(t, function(o, a) {
if (Xo(o)) r || (r = new Yt()), di(e, t, a, n, ui, i, r); else {
var s = i ? i(po(e, a), o, a + "", e, t, r) : Q;
s === Q && (s = o), Zt(e, a, s);
}
}, ha);
}
function di(e, t, n, i, r, o, a) {
var s = po(e, n), l = po(t, n), c = a.get(l);
if (c) Zt(e, n, c); else {
var u = o ? o(s, l, n + "", e, t, a) : Q, d = u === Q;
if (d) {
var h = jl(l), f = !h && Vl(l), p = !h && !f && Gl(l);
u = l, h || f || p ? jl(s) ? u = s : Wo(s) ? u = tr(s) : f ? (d = !1, u = Wi(l, !0)) : p ? (d = !1, u = Xi(l, !0)) : u = [] : Zo(l) || Bl(l) ? (u = s, Bl(s) ? u = sa(s) : Xo(s) && !Go(s) || (u = Yr(l))) : d = !1;
}
d && (a.set(l, u), r(u, l, i, o, a), a.delete(l)), Zt(e, n, u);
}
}
function hi(e, t) {
var n = e.length;
if (n) return t += t < 0 ? n : 0, Jr(t, n) ? e[t] : Q;
}
function fi(e, t, n) {
var i = -1;
return t = l(t.length ? t : [ ba ], T(Br())), S(si(e, function(e, n, r) {
return {
criteria: l(t, function(t) {
return t(e);
}),
index: ++i,
value: e
};
}), function(e, t) {
return Ji(e, t, n);
});
}
function pi(e, t) {
return gi(e, t, function(t, n) {
return ua(e, n);
});
}
function gi(e, t, n) {
for (var i = -1, r = t.length, o = {}; ++i < r; ) {
var a = t[i], s = Vn(e, a);
n(s, a) && $i(o, Ui(a, e), s);
}
return o;
}
function mi(e) {
return function(t) {
return Vn(t, e);
};
}
function vi(e, t, n, i) {
var r = i ? y : v, o = -1, a = t.length, s = e;
for (e === t && (t = tr(t)), n && (s = l(e, T(n))); ++o < a; ) for (var c = 0, u = t[o], d = n ? n(u) : u; (c = r(s, d, c, i)) > -1; ) s !== e && es.call(s, c, 1), es.call(e, c, 1);
return e;
}
function yi(e, t) {
for (var n = e ? t.length : 0, i = n - 1; n--; ) {
var r = t[n];
if (n == i || r !== o) {
var o = r;
Jr(r) ? es.call(e, r, 1) : Li(e, r);
}
}
return e;
}
function bi(e, t) {
return e + cs(bs() * (t - e + 1));
}
function _i(e, t, n, i) {
for (var r = -1, o = gs(ls((t - e) / (n || 1)), 0), a = Aa(o); o--; ) a[i ? o : ++r] = e, e += n;
return a;
}
function wi(e, t) {
var n = "";
if (!e || t < 1 || t > Ae) return n;
do {
t % 2 && (n += e), (t = cs(t / 2)) && (e += e);
} while (t);
return n;
}
function Ci(e, t) {
return el(uo(e, t, ba), e + "");
}
function xi(e) {
return Xt(pa(e));
}
function Si(e, t) {
var n = pa(e);
return vo(n, un(t, 0, n.length));
}
function $i(e, t, n, i) {
if (!Xo(e)) return e;
for (var r = -1, o = (t = Ui(t, e)).length, a = o - 1, s = e; null != s && ++r < o; ) {
var l = yo(t[r]), c = n;
if (r != a) {
var u = s[l];
(c = i ? i(u, l, s) : Q) === Q && (c = Xo(u) ? u : Jr(t[r + 1]) ? [] : {});
}
en(s, l, c), s = s[l];
}
return e;
}
function Ai(e) {
return vo(pa(e));
}
function ki(e, t, n) {
var i = -1, r = e.length;
t < 0 && (t = -t > r ? 0 : r + t), (n = n > r ? r : n) < 0 && (n += r), r = t > n ? 0 : n - t >>> 0, t >>>= 0;
for (var o = Aa(r); ++i < r; ) o[i] = e[i + t];
return o;
}
function Ti(e, t) {
var n;
return Ns(e, function(e, i, r) {
return !(n = t(e, i, r));
}), !!n;
}
function Di(e, t, n) {
var i = 0, r = null == e ? i : e.length;
if ("number" == typeof t && t === t && r <= Fe) {
for (;i < r; ) {
var o = i + r >>> 1, a = e[o];
null !== a && !ta(a) && (n ? a <= t : a < t) ? i = o + 1 : r = o;
}
return r;
}
return Ei(e, t, ba, n);
}
function Ei(e, t, n, i) {
t = n(t);
for (var r = 0, o = null == e ? 0 : e.length, a = t !== t, s = null === t, l = ta(t), c = t === Q; r < o; ) {
var u = cs((r + o) / 2), d = n(e[u]), h = d !== Q, f = null === d, p = d === d, g = ta(d);
if (a) var m = i || p; else m = c ? p && (i || h) : s ? p && h && (i || !f) : l ? p && h && !f && (i || !g) : !f && !g && (i ? d <= t : d < t);
m ? r = u + 1 : o = u;
}
return ms(o, Ee);
}
function Fi(e, t) {
for (var n = -1, i = e.length, r = 0, o = []; ++n < i; ) {
var a = e[n], s = t ? t(a) : a;
if (!n || !Uo(s, l)) {
var l = s;
o[r++] = 0 === a ? 0 : a;
}
}
return o;
}
function Mi(e) {
return "number" == typeof e ? e : ta(e) ? Te : +e;
}
function Ii(e) {
if ("string" == typeof e) return e;
if (jl(e)) return l(e, Ii) + "";
if (ta(e)) return Os ? Os.call(e) : "";
var t = e + "";
return "0" == t && 1 / e == -$e ? "-0" : t;
}
function Pi(e, t, n) {
var i = -1, r = a, o = e.length, l = !0, c = [], u = c;
if (n) l = !1, r = s; else if (o >= J) {
var d = t ? null : qs(e);
if (d) return V(d);
l = !1, r = E, u = new Gt();
} else u = t ? [] : c;
e: for (;++i < o; ) {
var h = e[i], f = t ? t(h) : h;
if (h = n || 0 !== h ? h : 0, l && f === f) {
for (var p = u.length; p--; ) if (u[p] === f) continue e;
t && u.push(f), c.push(h);
} else r(u, f, n) || (u !== c && u.push(f), c.push(h));
}
return c;
}
function Li(e, t) {
return t = Ui(t, e), null == (e = ho(e, t)) || delete e[yo(Ao(t))];
}
function Oi(e, t, n, i) {
return $i(e, t, n(Vn(e, t)), i);
}
function Ri(e, t, n, i) {
for (var r = e.length, o = i ? r : -1; (i ? o-- : ++o < r) && t(e[o], o, e); ) ;
return n ? ki(e, i ? 0 : o, i ? o + 1 : r) : ki(e, i ? o + 1 : 0, i ? r : o);
}
function Ni(e, t) {
var n = e;
return n instanceof Mt && (n = n.value()), u(t, function(e, t) {
return t.func.apply(t.thisArg, c([ e ], t.args));
}, n);
}
function Bi(e, t, n) {
var i = e.length;
if (i < 2) return i ? Pi(e[0]) : [];
for (var r = -1, o = Aa(i); ++r < i; ) for (var a = e[r], s = -1; ++s < i; ) s != r && (o[r] = bn(o[r] || a, e[s], t, n));
return Pi(Tn(o, 1), t, n);
}
function ji(e, t, n) {
for (var i = -1, r = e.length, o = t.length, a = {}; ++i < r; ) {
var s = i < o ? t[i] : Q;
n(a, e[i], s);
}
return a;
}
function Hi(e) {
return Wo(e) ? e : [];
}
function Vi(e) {
return "function" == typeof e ? e : ba;
}
function Ui(e, t) {
return jl(e) ? e : eo(e, t) ? [ e ] : tl(la(e));
}
function zi(e, t, n) {
var i = e.length;
return n = n === Q ? i : n, !t && n >= i ? e : ki(e, t, n);
}
function Wi(e, t) {
if (t) return e.slice();
var n = e.length, i = Xa ? Xa(n) : new e.constructor(n);
return e.copy(i), i;
}
function qi(e) {
var t = new e.constructor(e.byteLength);
return new Ka(t).set(new Ka(e)), t;
}
function Gi(e, t) {
var n = t ? qi(e.buffer) : e.buffer;
return new e.constructor(n, e.byteOffset, e.byteLength);
}
function Yi(e) {
var t = new e.constructor(e.source, Lt.exec(e));
return t.lastIndex = e.lastIndex, t;
}
function Ki(e) {
return Ls ? Fa(Ls.call(e)) : {};
}
function Xi(e, t) {
var n = t ? qi(e.buffer) : e.buffer;
return new e.constructor(n, e.byteOffset, e.length);
}
function Qi(e, t) {
if (e !== t) {
var n = e !== Q, i = null === e, r = e === e, o = ta(e), a = t !== Q, s = null === t, l = t === t, c = ta(t);
if (!s && !c && !o && e > t || o && a && l && !s && !c || i && a && l || !n && l || !r) return 1;
if (!i && !o && !c && e < t || c && n && r && !i && !o || s && n && r || !a && r || !l) return -1;
}
return 0;
}
function Ji(e, t, n) {
for (var i = -1, r = e.criteria, o = t.criteria, a = r.length, s = n.length; ++i < a; ) {
var l = Qi(r[i], o[i]);
if (l) return i >= s ? l : l * ("desc" == n[i] ? -1 : 1);
}
return e.index - t.index;
}
function Zi(e, t, n, i) {
for (var r = -1, o = e.length, a = n.length, s = -1, l = t.length, c = gs(o - a, 0), u = Aa(l + c), d = !i; ++s < l; ) u[s] = t[s];
for (;++r < a; ) (d || r < o) && (u[n[r]] = e[r]);
for (;c--; ) u[s++] = e[r++];
return u;
}
function er(e, t, n, i) {
for (var r = -1, o = e.length, a = -1, s = n.length, l = -1, c = t.length, u = gs(o - s, 0), d = Aa(u + c), h = !i; ++r < u; ) d[r] = e[r];
for (var f = r; ++l < c; ) d[f + l] = t[l];
for (;++a < s; ) (h || r < o) && (d[f + n[a]] = e[r++]);
return d;
}
function tr(e, t) {
var n = -1, i = e.length;
for (t || (t = Aa(i)); ++n < i; ) t[n] = e[n];
return t;
}
function nr(e, t, n, i) {
var r = !n;
n || (n = {});
for (var o = -1, a = t.length; ++o < a; ) {
var s = t[o], l = i ? i(n[s], e[s], s, n, e) : Q;
l === Q && (l = e[s]), r ? ln(n, s, l) : en(n, s, l);
}
return n;
}
function ir(e, t) {
return nr(e, Ys(e), t);
}
function rr(e, t) {
return nr(e, Ks(e), t);
}
function or(e, n) {
return function(i, r) {
var o = jl(i) ? t : nn, a = n ? n() : {};
return o(i, e, Br(r, 2), a);
};
}
function ar(e) {
return Ci(function(t, n) {
var i = -1, r = n.length, o = r > 1 ? n[r - 1] : Q, a = r > 2 ? n[2] : Q;
for (o = e.length > 3 && "function" == typeof o ? (r--, o) : Q, a && Zr(n[0], n[1], a) && (o = r < 3 ? Q : o, r = 1), t = Fa(t); ++i < r; ) {
var s = n[i];
s && e(t, s, i, o);
}
return t;
});
}
function sr(e, t) {
return function(n, i) {
if (null == n) return n;
if (!zo(n)) return e(n, i);
for (var r = n.length, o = t ? r : -1, a = Fa(n); (t ? o-- : ++o < r) && !1 !== i(a[o], o, a); ) ;
return n;
};
}
function lr(e) {
return function(t, n, i) {
for (var r = -1, o = Fa(t), a = i(t), s = a.length; s--; ) {
var l = a[e ? s : ++r];
if (!1 === n(o[l], l, o)) break;
}
return t;
};
}
function cr(e, t, n) {
function i() {
return (this && this !== Sn && this instanceof i ? o : e).apply(r ? n : this, arguments);
}
var r = t & ce, o = hr(e);
return i;
}
function ur(e) {
return function(t) {
var n = O(t = la(t)) ? G(t) : Q, i = n ? n[0] : t.charAt(0), r = n ? zi(n, 1).join("") : t.slice(1);
return i[e]() + r;
};
}
function dr(e) {
return function(t) {
return u(va(ma(t).replace(an, "")), e, "");
};
}
function hr(e) {
return function() {
var t = arguments;
switch (t.length) {
case 0:
return new e();

case 1:
return new e(t[0]);

case 2:
return new e(t[0], t[1]);

case 3:
return new e(t[0], t[1], t[2]);

case 4:
return new e(t[0], t[1], t[2], t[3]);

case 5:
return new e(t[0], t[1], t[2], t[3], t[4]);

case 6:
return new e(t[0], t[1], t[2], t[3], t[4], t[5]);

case 7:
return new e(t[0], t[1], t[2], t[3], t[4], t[5], t[6]);
}
var n = Rs(e.prototype), i = e.apply(n, t);
return Xo(i) ? i : n;
};
}
function fr(t, n, i) {
function r() {
for (var a = arguments.length, s = Aa(a), l = a, c = Nr(r); l--; ) s[l] = arguments[l];
var u = a < 3 && s[0] !== c && s[a - 1] !== c ? [] : H(s, c);
return (a -= u.length) < i ? Sr(t, n, mr, r.placeholder, Q, s, u, Q, Q, i - a) : e(this && this !== Sn && this instanceof r ? o : t, this, s);
}
var o = hr(t);
return r;
}
function pr(e) {
return function(t, n, i) {
var r = Fa(t);
if (!zo(t)) {
var o = Br(n, 3);
t = da(t), n = function(e) {
return o(r[e], e, r);
};
}
var a = e(t, n, i);
return a > -1 ? r[o ? t[a] : a] : Q;
};
}
function gr(e) {
return Pr(function(t) {
var n = t.length, i = n, r = K.prototype.thru;
for (e && t.reverse(); i--; ) {
var o = t[i];
if ("function" != typeof o) throw new Pa(ee);
if (r && !a && "wrapper" == Rr(o)) var a = new K([], !0);
}
for (i = a ? i : n; ++i < n; ) {
var s = Rr(o = t[i]), l = "wrapper" == s ? Gs(o) : Q;
a = l && no(l[0]) && l[1] == (me | he | pe | ve) && !l[4].length && 1 == l[9] ? a[Rr(l[0])].apply(a, l[3]) : 1 == o.length && no(o) ? a[s]() : a.thru(o);
}
return function() {
var e = arguments, i = e[0];
if (a && 1 == e.length && jl(i)) return a.plant(i).value();
for (var r = 0, o = n ? t[r].apply(this, e) : i; ++r < n; ) o = t[r].call(this, o);
return o;
};
});
}
function mr(e, t, n, i, r, o, a, s, l, c) {
function u() {
for (var v = arguments.length, y = Aa(v), b = v; b--; ) y[b] = arguments[b];
if (p) var _ = Nr(u), w = I(y, _);
if (i && (y = Zi(y, i, r, p)), o && (y = er(y, o, a, p)), v -= w, p && v < c) {
var C = H(y, _);
return Sr(e, t, mr, u.placeholder, n, y, C, s, l, c - v);
}
var x = h ? n : this, S = f ? x[e] : e;
return v = y.length, s ? y = fo(y, s) : g && v > 1 && y.reverse(), d && l < v && (y.length = l), this && this !== Sn && this instanceof u && (S = m || hr(S)), S.apply(x, y);
}
var d = t & me, h = t & ce, f = t & ue, p = t & (he | fe), g = t & ye, m = f ? Q : hr(e);
return u;
}
function vr(e, t) {
return function(n, i) {
return Xn(n, e, t(i), {});
};
}
function yr(e, t) {
return function(n, i) {
var r;
if (n === Q && i === Q) return t;
if (n !== Q && (r = n), i !== Q) {
if (r === Q) return i;
"string" == typeof n || "string" == typeof i ? (n = Ii(n), i = Ii(i)) : (n = Mi(n), i = Mi(i)), r = e(n, i);
}
return r;
};
}
function br(t) {
return Pr(function(n) {
return n = l(n, T(Br())), Ci(function(i) {
var r = this;
return t(n, function(t) {
return e(t, r, i);
});
});
});
}
function _r(e, t) {
var n = (t = t === Q ? " " : Ii(t)).length;
if (n < 2) return n ? wi(t, e) : t;
var i = wi(t, ls(e / q(t)));
return O(t) ? zi(G(i), 0, e).join("") : i.slice(0, e);
}
function wr(t, n, i, r) {
function o() {
for (var n = -1, l = arguments.length, c = -1, u = r.length, d = Aa(u + l), h = this && this !== Sn && this instanceof o ? s : t; ++c < u; ) d[c] = r[c];
for (;l--; ) d[c++] = arguments[++n];
return e(h, a ? i : this, d);
}
var a = n & ce, s = hr(t);
return o;
}
function Cr(e) {
return function(t, n, i) {
return i && "number" != typeof i && Zr(t, n, i) && (n = i = Q), t = ia(t), n === Q ? (n = t, t = 0) : n = ia(n), i = i === Q ? t < n ? 1 : -1 : ia(i), _i(t, n, i, e);
};
}
function xr(e) {
return function(t, n) {
return "string" == typeof t && "string" == typeof n || (t = aa(t), n = aa(n)), e(t, n);
};
}
function Sr(e, t, n, i, r, o, a, s, l, c) {
var u = t & he, d = u ? a : Q, h = u ? Q : a, f = u ? o : Q, p = u ? Q : o;
t |= u ? pe : ge, (t &= ~(u ? ge : pe)) & de || (t &= ~(ce | ue));
var g = [ e, t, r, f, d, p, h, s, l, c ], m = n.apply(Q, g);
return no(e) && Js(m, g), m.placeholder = i, go(m, e, t);
}
function $r(e) {
var t = Ea[e];
return function(e, n) {
if (e = aa(e), n = null == n ? 0 : ms(ra(n), 292)) {
var i = (la(e) + "e").split("e");
return +((i = (la(t(i[0] + "e" + (+i[1] + n))) + "e").split("e"))[0] + "e" + (+i[1] - n));
}
return t(e);
};
}
function Ar(e) {
return function(t) {
var n = Xs(t);
return n == Ve ? B(t) : n == Ye ? U(t) : k(t, e(t));
};
}
function kr(e, t, n, i, r, o, a, s) {
var l = t & ue;
if (!l && "function" != typeof e) throw new Pa(ee);
var c = i ? i.length : 0;
if (c || (t &= ~(pe | ge), i = r = Q), a = a === Q ? a : gs(ra(a), 0), s = s === Q ? s : ra(s), c -= r ? r.length : 0, t & ge) {
var u = i, d = r;
i = r = Q;
}
var h = l ? Q : Gs(e), f = [ e, t, n, i, r, u, d, o, a, s ];
if (h && so(f, h), e = f[0], t = f[1], n = f[2], i = f[3], r = f[4], !(s = f[9] = f[9] === Q ? l ? 0 : e.length : gs(f[9] - c, 0)) && t & (he | fe) && (t &= ~(he | fe)), t && t != ce) p = t == he || t == fe ? fr(e, t, s) : t != pe && t != (ce | pe) || r.length ? mr.apply(Q, f) : wr(e, t, n, i); else var p = cr(e, t, n);
return go((h ? Vs : Js)(p, f), e, t);
}
function Tr(e, t, n, i) {
return e === Q || Uo(e, Ra[n]) && !ja.call(i, n) ? t : e;
}
function Dr(e, t, n, i, r, o) {
return Xo(e) && Xo(t) && (o.set(t, e), ui(e, t, Q, Dr, o), o.delete(t)), e;
}
function Er(e) {
return Zo(e) ? Q : e;
}
function Fr(e, t, n, i, r, o) {
var a = n & se, s = e.length, l = t.length;
if (s != l && !(a && l > s)) return !1;
var c = o.get(e);
if (c && o.get(t)) return c == t;
var u = -1, d = !0, f = n & le ? new Gt() : Q;
for (o.set(e, t), o.set(t, e); ++u < s; ) {
var p = e[u], g = t[u];
if (i) var m = a ? i(g, p, u, t, e, o) : i(p, g, u, e, t, o);
if (m !== Q) {
if (m) continue;
d = !1;
break;
}
if (f) {
if (!h(t, function(e, t) {
if (!E(f, t) && (p === e || r(p, e, n, i, o))) return f.push(t);
})) {
d = !1;
break;
}
} else if (p !== g && !r(p, g, n, i, o)) {
d = !1;
break;
}
}
return o.delete(e), o.delete(t), d;
}
function Mr(e, t, n, i, r, o, a) {
switch (n) {
case tt:
if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
e = e.buffer, t = t.buffer;

case et:
return !(e.byteLength != t.byteLength || !o(new Ka(e), new Ka(t)));

case Oe:
case Re:
case Ue:
return Uo(+e, +t);

case Be:
return e.name == t.name && e.message == t.message;

case Ge:
case Ke:
return e == t + "";

case Ve:
var s = B;

case Ye:
var l = i & se;
if (s || (s = V), e.size != t.size && !l) return !1;
var c = a.get(e);
if (c) return c == t;
i |= le, a.set(e, t);
var u = Fr(s(e), s(t), i, r, o, a);
return a.delete(e), u;

case Xe:
if (Ls) return Ls.call(e) == Ls.call(t);
}
return !1;
}
function Ir(e, t, n, i, r, o) {
var a = n & se, s = Lr(e), l = s.length;
if (l != Lr(t).length && !a) return !1;
for (var c = l; c--; ) {
var u = s[c];
if (!(a ? u in t : ja.call(t, u))) return !1;
}
var d = o.get(e);
if (d && o.get(t)) return d == t;
var h = !0;
o.set(e, t), o.set(t, e);
for (var f = a; ++c < l; ) {
var p = e[u = s[c]], g = t[u];
if (i) var m = a ? i(g, p, u, t, e, o) : i(p, g, u, e, t, o);
if (!(m === Q ? p === g || r(p, g, n, i, o) : m)) {
h = !1;
break;
}
f || (f = "constructor" == u);
}
if (h && !f) {
var v = e.constructor, y = t.constructor;
v != y && "constructor" in e && "constructor" in t && !("function" == typeof v && v instanceof v && "function" == typeof y && y instanceof y) && (h = !1);
}
return o.delete(e), o.delete(t), h;
}
function Pr(e) {
return el(uo(e, Q, So), e + "");
}
function Lr(e) {
return Un(e, da, Ys);
}
function Or(e) {
return Un(e, ha, Ks);
}
function Rr(e) {
for (var t = e.name + "", n = Ts[t], i = ja.call(Ts, t) ? n.length : 0; i--; ) {
var r = n[i], o = r.func;
if (null == o || o == e) return r.name;
}
return t;
}
function Nr(e) {
return (ja.call(z, "placeholder") ? z : e).placeholder;
}
function Br() {
var e = z.iteratee || _a;
return e = e === _a ? ii : e, arguments.length ? e(arguments[0], arguments[1]) : e;
}
function jr(e, t) {
var n = e.__data__;
return to(t) ? n["string" == typeof t ? "string" : "hash"] : n.map;
}
function Hr(e) {
for (var t = da(e), n = t.length; n--; ) {
var i = t[n], r = e[i];
t[n] = [ i, r, oo(r) ];
}
return t;
}
function Vr(e, t) {
var n = L(e, t);
return ni(n) ? n : Q;
}
function Ur(e) {
var t = ja.call(e, is), n = e[is];
try {
e[is] = Q;
var i = !0;
} catch (e) {}
var r = Ua.call(e);
return i && (t ? e[is] = n : delete e[is]), r;
}
function zr(e, t, n) {
for (var i = -1, r = n.length; ++i < r; ) {
var o = n[i], a = o.size;
switch (o.type) {
case "drop":
e += a;
break;

case "dropRight":
t -= a;
break;

case "take":
t = ms(t, e + a);
break;

case "takeRight":
e = gs(e, t - a);
}
}
return {
start: e,
end: t
};
}
function Wr(e) {
var t = e.match(Et);
return t ? t[1].split(Ft) : [];
}
function qr(e, t, n) {
for (var i = -1, r = (t = Ui(t, e)).length, o = !1; ++i < r; ) {
var a = yo(t[i]);
if (!(o = null != e && n(e, a))) break;
e = e[a];
}
return o || ++i != r ? o : !!(r = null == e ? 0 : e.length) && Ko(r) && Jr(a, r) && (jl(e) || Bl(e));
}
function Gr(e) {
var t = e.length, n = new e.constructor(t);
return t && "string" == typeof e[0] && ja.call(e, "index") && (n.index = e.index, n.input = e.input), n;
}
function Yr(e) {
return "function" != typeof e.constructor || ro(e) ? {} : Rs(Qa(e));
}
function Kr(e, t, n) {
var i = e.constructor;
switch (t) {
case et:
return qi(e);

case Oe:
case Re:
return new i(+e);

case tt:
return Gi(e, n);

case nt:
case it:
case rt:
case ot:
case at:
case st:
case lt:
case ct:
case ut:
return Xi(e, n);

case Ve:
return new i();

case Ue:
case Ke:
return new i(e);

case Ge:
return Yi(e);

case Ye:
return new i();

case Xe:
return Ki(e);
}
}
function Xr(e, t) {
var n = t.length;
if (!n) return e;
var i = n - 1;
return t[i] = (n > 1 ? "& " : "") + t[i], t = t.join(n > 2 ? ", " : " "), e.replace(Dt, "{\n/* [wrapped with " + t + "] */\n");
}
function Qr(e) {
return jl(e) || Bl(e) || !!(ts && e && e[ts]);
}
function Jr(e, t) {
var n = typeof e;
return !!(t = null == t ? Ae : t) && ("number" == n || "symbol" != n && jt.test(e)) && e > -1 && e % 1 == 0 && e < t;
}
function Zr(e, t, n) {
if (!Xo(n)) return !1;
var i = typeof t;
return !!("number" == i ? zo(n) && Jr(t, n.length) : "string" == i && t in n) && Uo(n[t], e);
}
function eo(e, t) {
if (jl(e)) return !1;
var n = typeof e;
return !("number" != n && "symbol" != n && "boolean" != n && null != e && !ta(e)) || Ct.test(e) || !wt.test(e) || null != t && e in Fa(t);
}
function to(e) {
var t = typeof e;
return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e;
}
function no(e) {
var t = Rr(e), n = z[t];
if ("function" != typeof n || !(t in Mt.prototype)) return !1;
if (e === n) return !0;
var i = Gs(n);
return !!i && e === i[0];
}
function io(e) {
return !!Va && Va in e;
}
function ro(e) {
var t = e && e.constructor;
return e === ("function" == typeof t && t.prototype || Ra);
}
function oo(e) {
return e === e && !Xo(e);
}
function ao(e, t) {
return function(n) {
return null != n && n[e] === t && (t !== Q || e in Fa(n));
};
}
function so(e, t) {
var n = e[1], i = t[1], r = n | i, o = r < (ce | ue | me), a = i == me && n == he || i == me && n == ve && e[7].length <= t[8] || i == (me | ve) && t[7].length <= t[8] && n == he;
if (!o && !a) return e;
i & ce && (e[2] = t[2], r |= n & ce ? 0 : de);
var s = t[3];
if (s) {
var l = e[3];
e[3] = l ? Zi(l, s, t[4]) : s, e[4] = l ? H(e[3], ie) : t[4];
}
return (s = t[5]) && (l = e[5], e[5] = l ? er(l, s, t[6]) : s, e[6] = l ? H(e[5], ie) : t[6]), (s = t[7]) && (e[7] = s), i & me && (e[8] = null == e[8] ? t[8] : ms(e[8], t[8])), null == e[9] && (e[9] = t[9]), e[0] = t[0], e[1] = r, e;
}
function lo(e) {
var t = [];
if (null != e) for (var n in Fa(e)) t.push(n);
return t;
}
function co(e) {
return Ua.call(e);
}
function uo(t, n, i) {
return n = gs(n === Q ? t.length - 1 : n, 0), function() {
for (var r = arguments, o = -1, a = gs(r.length - n, 0), s = Aa(a); ++o < a; ) s[o] = r[n + o];
o = -1;
for (var l = Aa(n + 1); ++o < n; ) l[o] = r[o];
return l[n] = i(s), e(t, this, l);
};
}
function ho(e, t) {
return t.length < 2 ? e : Vn(e, ki(t, 0, -1));
}
function fo(e, t) {
for (var n = e.length, i = ms(t.length, n), r = tr(e); i--; ) {
var o = t[i];
e[i] = Jr(o, n) ? r[o] : Q;
}
return e;
}
function po(e, t) {
if ("__proto__" != t) return e[t];
}
function go(e, t, n) {
var i = t + "";
return el(e, Xr(i, _o(Wr(i), n)));
}
function mo(e) {
var t = 0, n = 0;
return function() {
var i = vs(), r = Ce - (i - n);
if (n = i, r > 0) {
if (++t >= we) return arguments[0];
} else t = 0;
return e.apply(Q, arguments);
};
}
function vo(e, t) {
var n = -1, i = e.length, r = i - 1;
for (t = t === Q ? i : t; ++n < t; ) {
var o = bi(n, r), a = e[o];
e[o] = e[n], e[n] = a;
}
return e.length = t, e;
}
function yo(e) {
if ("string" == typeof e || ta(e)) return e;
var t = e + "";
return "0" == t && 1 / e == -$e ? "-0" : t;
}
function bo(e) {
if (null != e) {
try {
return Ba.call(e);
} catch (e) {}
try {
return e + "";
} catch (e) {}
}
return "";
}
function _o(e, t) {
return n(Me, function(n) {
var i = "_." + n[0];
t & n[1] && !a(e, i) && e.push(i);
}), e.sort();
}
function wo(e) {
if (e instanceof Mt) return e.clone();
var t = new K(e.__wrapped__, e.__chain__);
return t.__actions__ = tr(e.__actions__), t.__index__ = e.__index__, t.__values__ = e.__values__, t;
}
function Co(e, t, n) {
var i = null == e ? 0 : e.length;
if (!i) return -1;
var r = null == n ? 0 : ra(n);
return r < 0 && (r = gs(i + r, 0)), m(e, Br(t, 3), r);
}
function xo(e, t, n) {
var i = null == e ? 0 : e.length;
if (!i) return -1;
var r = i - 1;
return n !== Q && (r = ra(n), r = n < 0 ? gs(i + r, 0) : ms(r, i - 1)), m(e, Br(t, 3), r, !0);
}
function So(e) {
return (null == e ? 0 : e.length) ? Tn(e, 1) : [];
}
function $o(e) {
return e && e.length ? e[0] : Q;
}
function Ao(e) {
var t = null == e ? 0 : e.length;
return t ? e[t - 1] : Q;
}
function ko(e, t) {
return e && e.length && t && t.length ? vi(e, t) : e;
}
function To(e) {
return null == e ? e : _s.call(e);
}
function Do(e) {
if (!e || !e.length) return [];
var t = 0;
return e = o(e, function(e) {
if (Wo(e)) return t = gs(e.length, t), !0;
}), A(t, function(t) {
return l(e, w(t));
});
}
function Eo(t, n) {
if (!t || !t.length) return [];
var i = Do(t);
return null == n ? i : l(i, function(t) {
return e(n, Q, t);
});
}
function Fo(e) {
var t = z(e);
return t.__chain__ = !0, t;
}
function Mo(e, t) {
return t(e);
}
function Io(e, t) {
return (jl(e) ? n : Ns)(e, Br(t, 3));
}
function Po(e, t) {
return (jl(e) ? i : Bs)(e, Br(t, 3));
}
function Lo(e, t) {
return (jl(e) ? l : si)(e, Br(t, 3));
}
function Oo(e, t, n) {
return t = n ? Q : t, t = e && null == t ? e.length : t, kr(e, me, Q, Q, Q, Q, t);
}
function Ro(e, t) {
var n;
if ("function" != typeof t) throw new Pa(ee);
return e = ra(e), function() {
return --e > 0 && (n = t.apply(this, arguments)), e <= 1 && (t = Q), n;
};
}
function No(e, t, n) {
var i = kr(e, he, Q, Q, Q, Q, Q, t = n ? Q : t);
return i.placeholder = No.placeholder, i;
}
function Bo(e, t, n) {
var i = kr(e, fe, Q, Q, Q, Q, Q, t = n ? Q : t);
return i.placeholder = Bo.placeholder, i;
}
function jo(e, t, n) {
function i(t) {
var n = u, i = d;
return u = d = Q, m = t, f = e.apply(i, n);
}
function r(e) {
return m = e, p = Zs(s, t), v ? i(e) : f;
}
function o(e) {
var n = e - m, i = t - (e - g);
return y ? ms(i, h - n) : i;
}
function a(e) {
var n = e - g, i = e - m;
return g === Q || n >= t || n < 0 || y && i >= h;
}
function s() {
var e = Tl();
if (a(e)) return l(e);
p = Zs(s, o(e));
}
function l(e) {
return p = Q, b && u ? i(e) : (u = d = Q, f);
}
function c() {
var e = Tl(), n = a(e);
if (u = arguments, d = this, g = e, n) {
if (p === Q) return r(g);
if (y) return p = Zs(s, t), i(g);
}
return p === Q && (p = Zs(s, t)), f;
}
var u, d, h, f, p, g, m = 0, v = !1, y = !1, b = !0;
if ("function" != typeof e) throw new Pa(ee);
return t = aa(t) || 0, Xo(n) && (v = !!n.leading, h = (y = "maxWait" in n) ? gs(aa(n.maxWait) || 0, t) : h, b = "trailing" in n ? !!n.trailing : b), c.cancel = function() {
p !== Q && Ws(p), m = 0, u = g = d = p = Q;
}, c.flush = function() {
return p === Q ? f : l(Tl());
}, c;
}
function Ho(e, t) {
if ("function" != typeof e || null != t && "function" != typeof t) throw new Pa(ee);
var n = function() {
var i = arguments, r = t ? t.apply(this, i) : i[0], o = n.cache;
if (o.has(r)) return o.get(r);
var a = e.apply(this, i);
return n.cache = o.set(r, a) || o, a;
};
return n.cache = new (Ho.Cache || qt)(), n;
}
function Vo(e) {
if ("function" != typeof e) throw new Pa(ee);
return function() {
var t = arguments;
switch (t.length) {
case 0:
return !e.call(this);

case 1:
return !e.call(this, t[0]);

case 2:
return !e.call(this, t[0], t[1]);

case 3:
return !e.call(this, t[0], t[1], t[2]);
}
return !e.apply(this, t);
};
}
function Uo(e, t) {
return e === t || e !== e && t !== t;
}
function zo(e) {
return null != e && Ko(e.length) && !Go(e);
}
function Wo(e) {
return Qo(e) && zo(e);
}
function qo(e) {
if (!Qo(e)) return !1;
var t = zn(e);
return t == Be || t == Ne || "string" == typeof e.message && "string" == typeof e.name && !Zo(e);
}
function Go(e) {
if (!Xo(e)) return !1;
var t = zn(e);
return t == je || t == He || t == Le || t == qe;
}
function Yo(e) {
return "number" == typeof e && e == ra(e);
}
function Ko(e) {
return "number" == typeof e && e > -1 && e % 1 == 0 && e <= Ae;
}
function Xo(e) {
var t = typeof e;
return null != e && ("object" == t || "function" == t);
}
function Qo(e) {
return null != e && "object" == typeof e;
}
function Jo(e) {
return "number" == typeof e || Qo(e) && zn(e) == Ue;
}
function Zo(e) {
if (!Qo(e) || zn(e) != We) return !1;
var t = Qa(e);
if (null === t) return !0;
var n = ja.call(t, "constructor") && t.constructor;
return "function" == typeof n && n instanceof n && Ba.call(n) == za;
}
function ea(e) {
return "string" == typeof e || !jl(e) && Qo(e) && zn(e) == Ke;
}
function ta(e) {
return "symbol" == typeof e || Qo(e) && zn(e) == Xe;
}
function na(e) {
if (!e) return [];
if (zo(e)) return ea(e) ? G(e) : tr(e);
if (ns && e[ns]) return N(e[ns]());
var t = Xs(e);
return (t == Ve ? B : t == Ye ? V : pa)(e);
}
function ia(e) {
return e ? (e = aa(e)) === $e || e === -$e ? (e < 0 ? -1 : 1) * ke : e === e ? e : 0 : 0 === e ? e : 0;
}
function ra(e) {
var t = ia(e), n = t % 1;
return t === t ? n ? t - n : t : 0;
}
function oa(e) {
return e ? un(ra(e), 0, De) : 0;
}
function aa(e) {
if ("number" == typeof e) return e;
if (ta(e)) return Te;
if (Xo(e)) {
var t = "function" == typeof e.valueOf ? e.valueOf() : e;
e = Xo(t) ? t + "" : t;
}
if ("string" != typeof e) return 0 === e ? e : +e;
e = e.replace(At, "");
var n = Rt.test(e);
return n || Bt.test(e) ? wn(e.slice(2), n ? 2 : 8) : Ot.test(e) ? Te : +e;
}
function sa(e) {
return nr(e, ha(e));
}
function la(e) {
return null == e ? "" : Ii(e);
}
function ca(e, t, n) {
var i = null == e ? Q : Vn(e, t);
return i === Q ? n : i;
}
function ua(e, t) {
return null != e && qr(e, t, Gn);
}
function da(e) {
return zo(e) ? Kt(e) : ri(e);
}
function ha(e) {
return zo(e) ? Kt(e, !0) : oi(e);
}
function fa(e, t) {
if (null == e) return {};
var n = l(Or(e), function(e) {
return [ e ];
});
return t = Br(t), gi(e, n, function(e, n) {
return t(e, n[0]);
});
}
function pa(e) {
return null == e ? [] : D(e, da(e));
}
function ga(e) {
return bc(la(e).toLowerCase());
}
function ma(e) {
return (e = la(e)) && e.replace(Ht, Rn).replace(sn, "");
}
function va(e, t, n) {
return e = la(e), (t = n ? Q : t) === Q ? R(e) ? X(e) : p(e) : e.match(t) || [];
}
function ya(e) {
return function() {
return e;
};
}
function ba(e) {
return e;
}
function _a(e) {
return ii("function" == typeof e ? e : dn(e, re));
}
function wa(e, t, i) {
var r = da(t), o = Hn(t, r);
null != i || Xo(t) && (o.length || !r.length) || (i = t, t = e, e = this, o = Hn(t, da(t)));
var a = !(Xo(i) && "chain" in i && !i.chain), s = Go(e);
return n(o, function(n) {
var i = t[n];
e[n] = i, s && (e.prototype[n] = function() {
var t = this.__chain__;
if (a || t) {
var n = e(this.__wrapped__);
return (n.__actions__ = tr(this.__actions__)).push({
func: i,
args: arguments,
thisArg: e
}), n.__chain__ = t, n;
}
return i.apply(e, c([ this.value() ], arguments));
});
}), e;
}
function Ca() {}
function xa(e) {
return eo(e) ? w(yo(e)) : mi(e);
}
function Sa() {
return [];
}
function $a() {
return !1;
}
var Aa = (C = null == C ? Sn : jn.defaults(Sn.Object(), C, jn.pick(Sn, hn))).Array, ka = C.Date, Ta = C.Error, Da = C.Function, Ea = C.Math, Fa = C.Object, Ma = C.RegExp, Ia = C.String, Pa = C.TypeError, La = Aa.prototype, Oa = Da.prototype, Ra = Fa.prototype, Na = C["__core-js_shared__"], Ba = Oa.toString, ja = Ra.hasOwnProperty, Ha = 0, Va = function() {
var e = /[^.]+$/.exec(Na && Na.keys && Na.keys.IE_PROTO || "");
return e ? "Symbol(src)_1." + e : "";
}(), Ua = Ra.toString, za = Ba.call(Fa), Wa = Sn._, qa = Ma("^" + Ba.call(ja).replace(St, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), Ga = kn ? C.Buffer : Q, Ya = C.Symbol, Ka = C.Uint8Array, Xa = Ga ? Ga.allocUnsafe : Q, Qa = j(Fa.getPrototypeOf, Fa), Ja = Fa.create, Za = Ra.propertyIsEnumerable, es = La.splice, ts = Ya ? Ya.isConcatSpreadable : Q, ns = Ya ? Ya.iterator : Q, is = Ya ? Ya.toStringTag : Q, rs = function() {
try {
var e = Vr(Fa, "defineProperty");
return e({}, "", {}), e;
} catch (e) {}
}(), os = C.clearTimeout !== Sn.clearTimeout && C.clearTimeout, as = ka && ka.now !== Sn.Date.now && ka.now, ss = C.setTimeout !== Sn.setTimeout && C.setTimeout, ls = Ea.ceil, cs = Ea.floor, us = Fa.getOwnPropertySymbols, ds = Ga ? Ga.isBuffer : Q, hs = C.isFinite, fs = La.join, ps = j(Fa.keys, Fa), gs = Ea.max, ms = Ea.min, vs = ka.now, ys = C.parseInt, bs = Ea.random, _s = La.reverse, ws = Vr(C, "DataView"), Cs = Vr(C, "Map"), xs = Vr(C, "Promise"), Ss = Vr(C, "Set"), $s = Vr(C, "WeakMap"), As = Vr(Fa, "create"), ks = $s && new $s(), Ts = {}, Ds = bo(ws), Es = bo(Cs), Fs = bo(xs), Ms = bo(Ss), Is = bo($s), Ps = Ya ? Ya.prototype : Q, Ls = Ps ? Ps.valueOf : Q, Os = Ps ? Ps.toString : Q, Rs = function() {
function e() {}
return function(t) {
if (!Xo(t)) return {};
if (Ja) return Ja(t);
e.prototype = t;
var n = new e();
return e.prototype = Q, n;
};
}();
z.templateSettings = {
escape: yt,
evaluate: bt,
interpolate: _t,
variable: "",
imports: {
_: z
}
}, z.prototype = Y.prototype, z.prototype.constructor = z, K.prototype = Rs(Y.prototype), K.prototype.constructor = K, Mt.prototype = Rs(Y.prototype), Mt.prototype.constructor = Mt, zt.prototype.clear = function() {
this.__data__ = As ? As(null) : {}, this.size = 0;
}, zt.prototype.delete = function(e) {
var t = this.has(e) && delete this.__data__[e];
return this.size -= t ? 1 : 0, t;
}, zt.prototype.get = function(e) {
var t = this.__data__;
if (As) {
var n = t[e];
return n === te ? Q : n;
}
return ja.call(t, e) ? t[e] : Q;
}, zt.prototype.has = function(e) {
var t = this.__data__;
return As ? t[e] !== Q : ja.call(t, e);
}, zt.prototype.set = function(e, t) {
var n = this.__data__;
return this.size += this.has(e) ? 0 : 1, n[e] = As && t === Q ? te : t, this;
}, Wt.prototype.clear = function() {
this.__data__ = [], this.size = 0;
}, Wt.prototype.delete = function(e) {
var t = this.__data__, n = tn(t, e);
return !(n < 0 || (n == t.length - 1 ? t.pop() : es.call(t, n, 1), --this.size, 0));
}, Wt.prototype.get = function(e) {
var t = this.__data__, n = tn(t, e);
return n < 0 ? Q : t[n][1];
}, Wt.prototype.has = function(e) {
return tn(this.__data__, e) > -1;
}, Wt.prototype.set = function(e, t) {
var n = this.__data__, i = tn(n, e);
return i < 0 ? (++this.size, n.push([ e, t ])) : n[i][1] = t, this;
}, qt.prototype.clear = function() {
this.size = 0, this.__data__ = {
hash: new zt(),
map: new (Cs || Wt)(),
string: new zt()
};
}, qt.prototype.delete = function(e) {
var t = jr(this, e).delete(e);
return this.size -= t ? 1 : 0, t;
}, qt.prototype.get = function(e) {
return jr(this, e).get(e);
}, qt.prototype.has = function(e) {
return jr(this, e).has(e);
}, qt.prototype.set = function(e, t) {
var n = jr(this, e), i = n.size;
return n.set(e, t), this.size += n.size == i ? 0 : 1, this;
}, Gt.prototype.add = Gt.prototype.push = function(e) {
return this.__data__.set(e, te), this;
}, Gt.prototype.has = function(e) {
return this.__data__.has(e);
}, Yt.prototype.clear = function() {
this.__data__ = new Wt(), this.size = 0;
}, Yt.prototype.delete = function(e) {
var t = this.__data__, n = t.delete(e);
return this.size = t.size, n;
}, Yt.prototype.get = function(e) {
return this.__data__.get(e);
}, Yt.prototype.has = function(e) {
return this.__data__.has(e);
}, Yt.prototype.set = function(e, t) {
var n = this.__data__;
if (n instanceof Wt) {
var i = n.__data__;
if (!Cs || i.length < J - 1) return i.push([ e, t ]), this.size = ++n.size, this;
n = this.__data__ = new qt(i);
}
return n.set(e, t), this.size = n.size, this;
};
var Ns = sr(Dn), Bs = sr(On, !0), js = lr(), Hs = lr(!0), Vs = ks ? function(e, t) {
return ks.set(e, t), e;
} : ba, Us = rs ? function(e, t) {
return rs(e, "toString", {
configurable: !0,
enumerable: !1,
value: ya(t),
writable: !0
});
} : ba, zs = Ci, Ws = os || function(e) {
return Sn.clearTimeout(e);
}, qs = Ss && 1 / V(new Ss([ , -0 ]))[1] == $e ? function(e) {
return new Ss(e);
} : Ca, Gs = ks ? function(e) {
return ks.get(e);
} : Ca, Ys = us ? function(e) {
return null == e ? [] : (e = Fa(e), o(us(e), function(t) {
return Za.call(e, t);
}));
} : Sa, Ks = us ? function(e) {
for (var t = []; e; ) c(t, Ys(e)), e = Qa(e);
return t;
} : Sa, Xs = zn;
(ws && Xs(new ws(new ArrayBuffer(1))) != tt || Cs && Xs(new Cs()) != Ve || xs && "[object Promise]" != Xs(xs.resolve()) || Ss && Xs(new Ss()) != Ye || $s && Xs(new $s()) != Je) && (Xs = function(e) {
var t = zn(e), n = t == We ? e.constructor : Q, i = n ? bo(n) : "";
if (i) switch (i) {
case Ds:
return tt;

case Es:
return Ve;

case Fs:
return "[object Promise]";

case Ms:
return Ye;

case Is:
return Je;
}
return t;
});
var Qs = Na ? Go : $a, Js = mo(Vs), Zs = ss || function(e, t) {
return Sn.setTimeout(e, t);
}, el = mo(Us), tl = function(e) {
var t = Ho(e, function(e) {
return n.size === ne && n.clear(), e;
}), n = t.cache;
return t;
}(function(e) {
var t = [];
return 46 === e.charCodeAt(0) && t.push(""), e.replace(xt, function(e, n, i, r) {
t.push(i ? r.replace(It, "$1") : n || e);
}), t;
}), nl = Ci(function(e, t) {
return Wo(e) ? bn(e, Tn(t, 1, Wo, !0)) : [];
}), il = Ci(function(e, t) {
var n = Ao(t);
return Wo(n) && (n = Q), Wo(e) ? bn(e, Tn(t, 1, Wo, !0), Br(n, 2)) : [];
}), rl = Ci(function(e, t) {
var n = Ao(t);
return Wo(n) && (n = Q), Wo(e) ? bn(e, Tn(t, 1, Wo, !0), Q, n) : [];
}), ol = Ci(function(e) {
var t = l(e, Hi);
return t.length && t[0] === e[0] ? Kn(t) : [];
}), al = Ci(function(e) {
var t = Ao(e), n = l(e, Hi);
return t === Ao(n) ? t = Q : n.pop(), n.length && n[0] === e[0] ? Kn(n, Br(t, 2)) : [];
}), sl = Ci(function(e) {
var t = Ao(e), n = l(e, Hi);
return (t = "function" == typeof t ? t : Q) && n.pop(), n.length && n[0] === e[0] ? Kn(n, Q, t) : [];
}), ll = Ci(ko), cl = Pr(function(e, t) {
var n = null == e ? 0 : e.length, i = cn(e, t);
return yi(e, l(t, function(e) {
return Jr(e, n) ? +e : e;
}).sort(Qi)), i;
}), ul = Ci(function(e) {
return Pi(Tn(e, 1, Wo, !0));
}), dl = Ci(function(e) {
var t = Ao(e);
return Wo(t) && (t = Q), Pi(Tn(e, 1, Wo, !0), Br(t, 2));
}), hl = Ci(function(e) {
var t = Ao(e);
return t = "function" == typeof t ? t : Q, Pi(Tn(e, 1, Wo, !0), Q, t);
}), fl = Ci(function(e, t) {
return Wo(e) ? bn(e, t) : [];
}), pl = Ci(function(e) {
return Bi(o(e, Wo));
}), gl = Ci(function(e) {
var t = Ao(e);
return Wo(t) && (t = Q), Bi(o(e, Wo), Br(t, 2));
}), ml = Ci(function(e) {
var t = Ao(e);
return t = "function" == typeof t ? t : Q, Bi(o(e, Wo), Q, t);
}), vl = Ci(Do), yl = Ci(function(e) {
var t = e.length, n = t > 1 ? e[t - 1] : Q;
return n = "function" == typeof n ? (e.pop(), n) : Q, Eo(e, n);
}), bl = Pr(function(e) {
var t = e.length, n = t ? e[0] : 0, i = this.__wrapped__, r = function(t) {
return cn(t, e);
};
return !(t > 1 || this.__actions__.length) && i instanceof Mt && Jr(n) ? ((i = i.slice(n, +n + (t ? 1 : 0))).__actions__.push({
func: Mo,
args: [ r ],
thisArg: Q
}), new K(i, this.__chain__).thru(function(e) {
return t && !e.length && e.push(Q), e;
})) : this.thru(r);
}), _l = or(function(e, t, n) {
ja.call(e, n) ? ++e[n] : ln(e, n, 1);
}), wl = pr(Co), Cl = pr(xo), xl = or(function(e, t, n) {
ja.call(e, n) ? e[n].push(t) : ln(e, n, [ t ]);
}), Sl = Ci(function(t, n, i) {
var r = -1, o = "function" == typeof n, a = zo(t) ? Aa(t.length) : [];
return Ns(t, function(t) {
a[++r] = o ? e(n, t, i) : Qn(t, n, i);
}), a;
}), $l = or(function(e, t, n) {
ln(e, n, t);
}), Al = or(function(e, t, n) {
e[n ? 0 : 1].push(t);
}, function() {
return [ [], [] ];
}), kl = Ci(function(e, t) {
if (null == e) return [];
var n = t.length;
return n > 1 && Zr(e, t[0], t[1]) ? t = [] : n > 2 && Zr(t[0], t[1], t[2]) && (t = [ t[0] ]), fi(e, Tn(t, 1), []);
}), Tl = as || function() {
return Sn.Date.now();
}, Dl = Ci(function(e, t, n) {
var i = ce;
if (n.length) {
var r = H(n, Nr(Dl));
i |= pe;
}
return kr(e, i, t, n, r);
}), El = Ci(function(e, t, n) {
var i = ce | ue;
if (n.length) {
var r = H(n, Nr(El));
i |= pe;
}
return kr(t, i, e, n, r);
}), Fl = Ci(function(e, t) {
return yn(e, 1, t);
}), Ml = Ci(function(e, t, n) {
return yn(e, aa(t) || 0, n);
});
Ho.Cache = qt;
var Il = zs(function(t, n) {
var i = (n = 1 == n.length && jl(n[0]) ? l(n[0], T(Br())) : l(Tn(n, 1), T(Br()))).length;
return Ci(function(r) {
for (var o = -1, a = ms(r.length, i); ++o < a; ) r[o] = n[o].call(this, r[o]);
return e(t, this, r);
});
}), Pl = Ci(function(e, t) {
var n = H(t, Nr(Pl));
return kr(e, pe, Q, t, n);
}), Ll = Ci(function(e, t) {
var n = H(t, Nr(Ll));
return kr(e, ge, Q, t, n);
}), Ol = Pr(function(e, t) {
return kr(e, ve, Q, Q, Q, t);
}), Rl = xr(Wn), Nl = xr(function(e, t) {
return e >= t;
}), Bl = Jn(function() {
return arguments;
}()) ? Jn : function(e) {
return Qo(e) && ja.call(e, "callee") && !Za.call(e, "callee");
}, jl = Aa.isArray, Hl = En ? T(En) : function(e) {
return Qo(e) && zn(e) == et;
}, Vl = ds || $a, Ul = Fn ? T(Fn) : function(e) {
return Qo(e) && zn(e) == Re;
}, zl = Mn ? T(Mn) : function(e) {
return Qo(e) && Xs(e) == Ve;
}, Wl = In ? T(In) : function(e) {
return Qo(e) && zn(e) == Ge;
}, ql = Pn ? T(Pn) : function(e) {
return Qo(e) && Xs(e) == Ye;
}, Gl = Ln ? T(Ln) : function(e) {
return Qo(e) && Ko(e.length) && !!pn[zn(e)];
}, Yl = xr(ai), Kl = xr(function(e, t) {
return e <= t;
}), Xl = ar(function(e, t) {
if (ro(t) || zo(t)) nr(t, da(t), e); else for (var n in t) ja.call(t, n) && en(e, n, t[n]);
}), Ql = ar(function(e, t) {
nr(t, ha(t), e);
}), Jl = ar(function(e, t, n, i) {
nr(t, ha(t), e, i);
}), Zl = ar(function(e, t, n, i) {
nr(t, da(t), e, i);
}), ec = Pr(cn), tc = Ci(function(e, t) {
e = Fa(e);
var n = -1, i = t.length, r = i > 2 ? t[2] : Q;
for (r && Zr(t[0], t[1], r) && (i = 1); ++n < i; ) for (var o = t[n], a = ha(o), s = -1, l = a.length; ++s < l; ) {
var c = a[s], u = e[c];
(u === Q || Uo(u, Ra[c]) && !ja.call(e, c)) && (e[c] = o[c]);
}
return e;
}), nc = Ci(function(t) {
return t.push(Q, Dr), e(sc, Q, t);
}), ic = vr(function(e, t, n) {
null != t && "function" != typeof t.toString && (t = Ua.call(t)), e[t] = n;
}, ya(ba)), rc = vr(function(e, t, n) {
null != t && "function" != typeof t.toString && (t = Ua.call(t)), ja.call(e, t) ? e[t].push(n) : e[t] = [ n ];
}, Br), oc = Ci(Qn), ac = ar(function(e, t, n) {
ui(e, t, n);
}), sc = ar(function(e, t, n, i) {
ui(e, t, n, i);
}), lc = Pr(function(e, t) {
var n = {};
if (null == e) return n;
var i = !1;
t = l(t, function(t) {
return t = Ui(t, e), i || (i = t.length > 1), t;
}), nr(e, Or(e), n), i && (n = dn(n, re | oe | ae, Er));
for (var r = t.length; r--; ) Li(n, t[r]);
return n;
}), cc = Pr(function(e, t) {
return null == e ? {} : pi(e, t);
}), uc = Ar(da), dc = Ar(ha), hc = dr(function(e, t, n) {
return t = t.toLowerCase(), e + (n ? ga(t) : t);
}), fc = dr(function(e, t, n) {
return e + (n ? "-" : "") + t.toLowerCase();
}), pc = dr(function(e, t, n) {
return e + (n ? " " : "") + t.toLowerCase();
}), gc = ur("toLowerCase"), mc = dr(function(e, t, n) {
return e + (n ? "_" : "") + t.toLowerCase();
}), vc = dr(function(e, t, n) {
return e + (n ? " " : "") + bc(t);
}), yc = dr(function(e, t, n) {
return e + (n ? " " : "") + t.toUpperCase();
}), bc = ur("toUpperCase"), _c = Ci(function(t, n) {
try {
return e(t, Q, n);
} catch (e) {
return qo(e) ? e : new Ta(e);
}
}), wc = Pr(function(e, t) {
return n(t, function(t) {
t = yo(t), ln(e, t, Dl(e[t], e));
}), e;
}), Cc = gr(), xc = gr(!0), Sc = Ci(function(e, t) {
return function(n) {
return Qn(n, e, t);
};
}), $c = Ci(function(e, t) {
return function(n) {
return Qn(e, n, t);
};
}), Ac = br(l), kc = br(r), Tc = br(h), Dc = Cr(), Ec = Cr(!0), Fc = yr(function(e, t) {
return e + t;
}, 0), Mc = $r("ceil"), Ic = yr(function(e, t) {
return e / t;
}, 1), Pc = $r("floor"), Lc = yr(function(e, t) {
return e * t;
}, 1), Oc = $r("round"), Rc = yr(function(e, t) {
return e - t;
}, 0);
return z.after = function(e, t) {
if ("function" != typeof t) throw new Pa(ee);
return e = ra(e), function() {
if (--e < 1) return t.apply(this, arguments);
};
}, z.ary = Oo, z.assign = Xl, z.assignIn = Ql, z.assignInWith = Jl, z.assignWith = Zl, z.at = ec, z.before = Ro, z.bind = Dl, z.bindAll = wc, z.bindKey = El, z.castArray = function() {
if (!arguments.length) return [];
var e = arguments[0];
return jl(e) ? e : [ e ];
}, z.chain = Fo, z.chunk = function(e, t, n) {
t = (n ? Zr(e, t, n) : t === Q) ? 1 : gs(ra(t), 0);
var i = null == e ? 0 : e.length;
if (!i || t < 1) return [];
for (var r = 0, o = 0, a = Aa(ls(i / t)); r < i; ) a[o++] = ki(e, r, r += t);
return a;
}, z.compact = function(e) {
for (var t = -1, n = null == e ? 0 : e.length, i = 0, r = []; ++t < n; ) {
var o = e[t];
o && (r[i++] = o);
}
return r;
}, z.concat = function() {
var e = arguments.length;
if (!e) return [];
for (var t = Aa(e - 1), n = arguments[0], i = e; i--; ) t[i - 1] = arguments[i];
return c(jl(n) ? tr(n) : [ n ], Tn(t, 1));
}, z.cond = function(t) {
var n = null == t ? 0 : t.length, i = Br();
return t = n ? l(t, function(e) {
if ("function" != typeof e[1]) throw new Pa(ee);
return [ i(e[0]), e[1] ];
}) : [], Ci(function(i) {
for (var r = -1; ++r < n; ) {
var o = t[r];
if (e(o[0], this, i)) return e(o[1], this, i);
}
});
}, z.conforms = function(e) {
return mn(dn(e, re));
}, z.constant = ya, z.countBy = _l, z.create = function(e, t) {
var n = Rs(e);
return null == t ? n : rn(n, t);
}, z.curry = No, z.curryRight = Bo, z.debounce = jo, z.defaults = tc, z.defaultsDeep = nc, z.defer = Fl, z.delay = Ml, z.difference = nl, z.differenceBy = il, z.differenceWith = rl, z.drop = function(e, t, n) {
var i = null == e ? 0 : e.length;
return i ? (t = n || t === Q ? 1 : ra(t), ki(e, t < 0 ? 0 : t, i)) : [];
}, z.dropRight = function(e, t, n) {
var i = null == e ? 0 : e.length;
return i ? (t = n || t === Q ? 1 : ra(t), t = i - t, ki(e, 0, t < 0 ? 0 : t)) : [];
}, z.dropRightWhile = function(e, t) {
return e && e.length ? Ri(e, Br(t, 3), !0, !0) : [];
}, z.dropWhile = function(e, t) {
return e && e.length ? Ri(e, Br(t, 3), !0) : [];
}, z.fill = function(e, t, n, i) {
var r = null == e ? 0 : e.length;
return r ? (n && "number" != typeof n && Zr(e, t, n) && (n = 0, i = r), $n(e, t, n, i)) : [];
}, z.filter = function(e, t) {
return (jl(e) ? o : An)(e, Br(t, 3));
}, z.flatMap = function(e, t) {
return Tn(Lo(e, t), 1);
}, z.flatMapDeep = function(e, t) {
return Tn(Lo(e, t), $e);
}, z.flatMapDepth = function(e, t, n) {
return n = n === Q ? 1 : ra(n), Tn(Lo(e, t), n);
}, z.flatten = So, z.flattenDeep = function(e) {
return (null == e ? 0 : e.length) ? Tn(e, $e) : [];
}, z.flattenDepth = function(e, t) {
return (null == e ? 0 : e.length) ? (t = t === Q ? 1 : ra(t), Tn(e, t)) : [];
}, z.flip = function(e) {
return kr(e, ye);
}, z.flow = Cc, z.flowRight = xc, z.fromPairs = function(e) {
for (var t = -1, n = null == e ? 0 : e.length, i = {}; ++t < n; ) {
var r = e[t];
i[r[0]] = r[1];
}
return i;
}, z.functions = function(e) {
return null == e ? [] : Hn(e, da(e));
}, z.functionsIn = function(e) {
return null == e ? [] : Hn(e, ha(e));
}, z.groupBy = xl, z.initial = function(e) {
return (null == e ? 0 : e.length) ? ki(e, 0, -1) : [];
}, z.intersection = ol, z.intersectionBy = al, z.intersectionWith = sl, z.invert = ic, z.invertBy = rc, z.invokeMap = Sl, z.iteratee = _a, z.keyBy = $l, z.keys = da, z.keysIn = ha, z.map = Lo, z.mapKeys = function(e, t) {
var n = {};
return t = Br(t, 3), Dn(e, function(e, i, r) {
ln(n, t(e, i, r), e);
}), n;
}, z.mapValues = function(e, t) {
var n = {};
return t = Br(t, 3), Dn(e, function(e, i, r) {
ln(n, i, t(e, i, r));
}), n;
}, z.matches = function(e) {
return li(dn(e, re));
}, z.matchesProperty = function(e, t) {
return ci(e, dn(t, re));
}, z.memoize = Ho, z.merge = ac, z.mergeWith = sc, z.method = Sc, z.methodOf = $c, z.mixin = wa, z.negate = Vo, z.nthArg = function(e) {
return e = ra(e), Ci(function(t) {
return hi(t, e);
});
}, z.omit = lc, z.omitBy = function(e, t) {
return fa(e, Vo(Br(t)));
}, z.once = function(e) {
return Ro(2, e);
}, z.orderBy = function(e, t, n, i) {
return null == e ? [] : (jl(t) || (t = null == t ? [] : [ t ]), n = i ? Q : n, jl(n) || (n = null == n ? [] : [ n ]), fi(e, t, n));
}, z.over = Ac, z.overArgs = Il, z.overEvery = kc, z.overSome = Tc, z.partial = Pl, z.partialRight = Ll, z.partition = Al, z.pick = cc, z.pickBy = fa, z.property = xa, z.propertyOf = function(e) {
return function(t) {
return null == e ? Q : Vn(e, t);
};
}, z.pull = ll, z.pullAll = ko, z.pullAllBy = function(e, t, n) {
return e && e.length && t && t.length ? vi(e, t, Br(n, 2)) : e;
}, z.pullAllWith = function(e, t, n) {
return e && e.length && t && t.length ? vi(e, t, Q, n) : e;
}, z.pullAt = cl, z.range = Dc, z.rangeRight = Ec, z.rearg = Ol, z.reject = function(e, t) {
return (jl(e) ? o : An)(e, Vo(Br(t, 3)));
}, z.remove = function(e, t) {
var n = [];
if (!e || !e.length) return n;
var i = -1, r = [], o = e.length;
for (t = Br(t, 3); ++i < o; ) {
var a = e[i];
t(a, i, e) && (n.push(a), r.push(i));
}
return yi(e, r), n;
}, z.rest = function(e, t) {
if ("function" != typeof e) throw new Pa(ee);
return t = t === Q ? t : ra(t), Ci(e, t);
}, z.reverse = To, z.sampleSize = function(e, t, n) {
return t = (n ? Zr(e, t, n) : t === Q) ? 1 : ra(t), (jl(e) ? Qt : Si)(e, t);
}, z.set = function(e, t, n) {
return null == e ? e : $i(e, t, n);
}, z.setWith = function(e, t, n, i) {
return i = "function" == typeof i ? i : Q, null == e ? e : $i(e, t, n, i);
}, z.shuffle = function(e) {
return (jl(e) ? Jt : Ai)(e);
}, z.slice = function(e, t, n) {
var i = null == e ? 0 : e.length;
return i ? (n && "number" != typeof n && Zr(e, t, n) ? (t = 0, n = i) : (t = null == t ? 0 : ra(t), n = n === Q ? i : ra(n)), ki(e, t, n)) : [];
}, z.sortBy = kl, z.sortedUniq = function(e) {
return e && e.length ? Fi(e) : [];
}, z.sortedUniqBy = function(e, t) {
return e && e.length ? Fi(e, Br(t, 2)) : [];
}, z.split = function(e, t, n) {
return n && "number" != typeof n && Zr(e, t, n) && (t = n = Q), (n = n === Q ? De : n >>> 0) ? (e = la(e)) && ("string" == typeof t || null != t && !Wl(t)) && !(t = Ii(t)) && O(e) ? zi(G(e), 0, n) : e.split(t, n) : [];
}, z.spread = function(t, n) {
if ("function" != typeof t) throw new Pa(ee);
return n = null == n ? 0 : gs(ra(n), 0), Ci(function(i) {
var r = i[n], o = zi(i, 0, n);
return r && c(o, r), e(t, this, o);
});
}, z.tail = function(e) {
var t = null == e ? 0 : e.length;
return t ? ki(e, 1, t) : [];
}, z.take = function(e, t, n) {
return e && e.length ? (t = n || t === Q ? 1 : ra(t), ki(e, 0, t < 0 ? 0 : t)) : [];
}, z.takeRight = function(e, t, n) {
var i = null == e ? 0 : e.length;
return i ? (t = n || t === Q ? 1 : ra(t), t = i - t, ki(e, t < 0 ? 0 : t, i)) : [];
}, z.takeRightWhile = function(e, t) {
return e && e.length ? Ri(e, Br(t, 3), !1, !0) : [];
}, z.takeWhile = function(e, t) {
return e && e.length ? Ri(e, Br(t, 3)) : [];
}, z.tap = function(e, t) {
return t(e), e;
}, z.throttle = function(e, t, n) {
var i = !0, r = !0;
if ("function" != typeof e) throw new Pa(ee);
return Xo(n) && (i = "leading" in n ? !!n.leading : i, r = "trailing" in n ? !!n.trailing : r), jo(e, t, {
leading: i,
maxWait: t,
trailing: r
});
}, z.thru = Mo, z.toArray = na, z.toPairs = uc, z.toPairsIn = dc, z.toPath = function(e) {
return jl(e) ? l(e, yo) : ta(e) ? [ e ] : tr(tl(la(e)));
}, z.toPlainObject = sa, z.transform = function(e, t, i) {
var r = jl(e), o = r || Vl(e) || Gl(e);
if (t = Br(t, 4), null == i) {
var a = e && e.constructor;
i = o ? r ? new a() : [] : Xo(e) && Go(a) ? Rs(Qa(e)) : {};
}
return (o ? n : Dn)(e, function(e, n, r) {
return t(i, e, n, r);
}), i;
}, z.unary = function(e) {
return Oo(e, 1);
}, z.union = ul, z.unionBy = dl, z.unionWith = hl, z.uniq = function(e) {
return e && e.length ? Pi(e) : [];
}, z.uniqBy = function(e, t) {
return e && e.length ? Pi(e, Br(t, 2)) : [];
}, z.uniqWith = function(e, t) {
return t = "function" == typeof t ? t : Q, e && e.length ? Pi(e, Q, t) : [];
}, z.unset = function(e, t) {
return null == e || Li(e, t);
}, z.unzip = Do, z.unzipWith = Eo, z.update = function(e, t, n) {
return null == e ? e : Oi(e, t, Vi(n));
}, z.updateWith = function(e, t, n, i) {
return i = "function" == typeof i ? i : Q, null == e ? e : Oi(e, t, Vi(n), i);
}, z.values = pa, z.valuesIn = function(e) {
return null == e ? [] : D(e, ha(e));
}, z.without = fl, z.words = va, z.wrap = function(e, t) {
return Pl(Vi(t), e);
}, z.xor = pl, z.xorBy = gl, z.xorWith = ml, z.zip = vl, z.zipObject = function(e, t) {
return ji(e || [], t || [], en);
}, z.zipObjectDeep = function(e, t) {
return ji(e || [], t || [], $i);
}, z.zipWith = yl, z.entries = uc, z.entriesIn = dc, z.extend = Ql, z.extendWith = Jl, wa(z, z), z.add = Fc, z.attempt = _c, z.camelCase = hc, z.capitalize = ga, z.ceil = Mc, z.clamp = function(e, t, n) {
return n === Q && (n = t, t = Q), n !== Q && (n = (n = aa(n)) === n ? n : 0), t !== Q && (t = (t = aa(t)) === t ? t : 0), un(aa(e), t, n);
}, z.clone = function(e) {
return dn(e, ae);
}, z.cloneDeep = function(e) {
return dn(e, re | ae);
}, z.cloneDeepWith = function(e, t) {
return t = "function" == typeof t ? t : Q, dn(e, re | ae, t);
}, z.cloneWith = function(e, t) {
return t = "function" == typeof t ? t : Q, dn(e, ae, t);
}, z.conformsTo = function(e, t) {
return null == t || vn(e, t, da(t));
}, z.deburr = ma, z.defaultTo = function(e, t) {
return null == e || e !== e ? t : e;
}, z.divide = Ic, z.endsWith = function(e, t, n) {
e = la(e), t = Ii(t);
var i = e.length, r = n = n === Q ? i : un(ra(n), 0, i);
return (n -= t.length) >= 0 && e.slice(n, r) == t;
}, z.eq = Uo, z.escape = function(e) {
return (e = la(e)) && vt.test(e) ? e.replace(gt, Nn) : e;
}, z.escapeRegExp = function(e) {
return (e = la(e)) && $t.test(e) ? e.replace(St, "\\$&") : e;
}, z.every = function(e, t, n) {
var i = jl(e) ? r : Cn;
return n && Zr(e, t, n) && (t = Q), i(e, Br(t, 3));
}, z.find = wl, z.findIndex = Co, z.findKey = function(e, t) {
return g(e, Br(t, 3), Dn);
}, z.findLast = Cl, z.findLastIndex = xo, z.findLastKey = function(e, t) {
return g(e, Br(t, 3), On);
}, z.floor = Pc, z.forEach = Io, z.forEachRight = Po, z.forIn = function(e, t) {
return null == e ? e : js(e, Br(t, 3), ha);
}, z.forInRight = function(e, t) {
return null == e ? e : Hs(e, Br(t, 3), ha);
}, z.forOwn = function(e, t) {
return e && Dn(e, Br(t, 3));
}, z.forOwnRight = function(e, t) {
return e && On(e, Br(t, 3));
}, z.get = ca, z.gt = Rl, z.gte = Nl, z.has = function(e, t) {
return null != e && qr(e, t, qn);
}, z.hasIn = ua, z.head = $o, z.identity = ba, z.includes = function(e, t, n, i) {
e = zo(e) ? e : pa(e), n = n && !i ? ra(n) : 0;
var r = e.length;
return n < 0 && (n = gs(r + n, 0)), ea(e) ? n <= r && e.indexOf(t, n) > -1 : !!r && v(e, t, n) > -1;
}, z.indexOf = function(e, t, n) {
var i = null == e ? 0 : e.length;
if (!i) return -1;
var r = null == n ? 0 : ra(n);
return r < 0 && (r = gs(i + r, 0)), v(e, t, r);
}, z.inRange = function(e, t, n) {
return t = ia(t), n === Q ? (n = t, t = 0) : n = ia(n), e = aa(e), Yn(e, t, n);
}, z.invoke = oc, z.isArguments = Bl, z.isArray = jl, z.isArrayBuffer = Hl, z.isArrayLike = zo, z.isArrayLikeObject = Wo, z.isBoolean = function(e) {
return !0 === e || !1 === e || Qo(e) && zn(e) == Oe;
}, z.isBuffer = Vl, z.isDate = Ul, z.isElement = function(e) {
return Qo(e) && 1 === e.nodeType && !Zo(e);
}, z.isEmpty = function(e) {
if (null == e) return !0;
if (zo(e) && (jl(e) || "string" == typeof e || "function" == typeof e.splice || Vl(e) || Gl(e) || Bl(e))) return !e.length;
var t = Xs(e);
if (t == Ve || t == Ye) return !e.size;
if (ro(e)) return !ri(e).length;
for (var n in e) if (ja.call(e, n)) return !1;
return !0;
}, z.isEqual = function(e, t) {
return Zn(e, t);
}, z.isEqualWith = function(e, t, n) {
var i = (n = "function" == typeof n ? n : Q) ? n(e, t) : Q;
return i === Q ? Zn(e, t, Q, n) : !!i;
}, z.isError = qo, z.isFinite = function(e) {
return "number" == typeof e && hs(e);
}, z.isFunction = Go, z.isInteger = Yo, z.isLength = Ko, z.isMap = zl, z.isMatch = function(e, t) {
return e === t || ti(e, t, Hr(t));
}, z.isMatchWith = function(e, t, n) {
return n = "function" == typeof n ? n : Q, ti(e, t, Hr(t), n);
}, z.isNaN = function(e) {
return Jo(e) && e != +e;
}, z.isNative = function(e) {
if (Qs(e)) throw new Ta(Z);
return ni(e);
}, z.isNil = function(e) {
return null == e;
}, z.isNull = function(e) {
return null === e;
}, z.isNumber = Jo, z.isObject = Xo, z.isObjectLike = Qo, z.isPlainObject = Zo, z.isRegExp = Wl, z.isSafeInteger = function(e) {
return Yo(e) && e >= -Ae && e <= Ae;
}, z.isSet = ql, z.isString = ea, z.isSymbol = ta, z.isTypedArray = Gl, z.isUndefined = function(e) {
return e === Q;
}, z.isWeakMap = function(e) {
return Qo(e) && Xs(e) == Je;
}, z.isWeakSet = function(e) {
return Qo(e) && zn(e) == Ze;
}, z.join = function(e, t) {
return null == e ? "" : fs.call(e, t);
}, z.kebabCase = fc, z.last = Ao, z.lastIndexOf = function(e, t, n) {
var i = null == e ? 0 : e.length;
if (!i) return -1;
var r = i;
return n !== Q && (r = (r = ra(n)) < 0 ? gs(i + r, 0) : ms(r, i - 1)), t === t ? W(e, t, r) : m(e, b, r, !0);
}, z.lowerCase = pc, z.lowerFirst = gc, z.lt = Yl, z.lte = Kl, z.max = function(e) {
return e && e.length ? xn(e, ba, Wn) : Q;
}, z.maxBy = function(e, t) {
return e && e.length ? xn(e, Br(t, 2), Wn) : Q;
}, z.mean = function(e) {
return _(e, ba);
}, z.meanBy = function(e, t) {
return _(e, Br(t, 2));
}, z.min = function(e) {
return e && e.length ? xn(e, ba, ai) : Q;
}, z.minBy = function(e, t) {
return e && e.length ? xn(e, Br(t, 2), ai) : Q;
}, z.stubArray = Sa, z.stubFalse = $a, z.stubObject = function() {
return {};
}, z.stubString = function() {
return "";
}, z.stubTrue = function() {
return !0;
}, z.multiply = Lc, z.nth = function(e, t) {
return e && e.length ? hi(e, ra(t)) : Q;
}, z.noConflict = function() {
return Sn._ === this && (Sn._ = Wa), this;
}, z.noop = Ca, z.now = Tl, z.pad = function(e, t, n) {
e = la(e);
var i = (t = ra(t)) ? q(e) : 0;
if (!t || i >= t) return e;
var r = (t - i) / 2;
return _r(cs(r), n) + e + _r(ls(r), n);
}, z.padEnd = function(e, t, n) {
e = la(e);
var i = (t = ra(t)) ? q(e) : 0;
return t && i < t ? e + _r(t - i, n) : e;
}, z.padStart = function(e, t, n) {
e = la(e);
var i = (t = ra(t)) ? q(e) : 0;
return t && i < t ? _r(t - i, n) + e : e;
}, z.parseInt = function(e, t, n) {
return n || null == t ? t = 0 : t && (t = +t), ys(la(e).replace(kt, ""), t || 0);
}, z.random = function(e, t, n) {
if (n && "boolean" != typeof n && Zr(e, t, n) && (t = n = Q), n === Q && ("boolean" == typeof t ? (n = t, t = Q) : "boolean" == typeof e && (n = e, e = Q)), e === Q && t === Q ? (e = 0, t = 1) : (e = ia(e), t === Q ? (t = e, e = 0) : t = ia(t)), e > t) {
var i = e;
e = t, t = i;
}
if (n || e % 1 || t % 1) {
var r = bs();
return ms(e + r * (t - e + _n("1e-" + ((r + "").length - 1))), t);
}
return bi(e, t);
}, z.reduce = function(e, t, n) {
var i = jl(e) ? u : x, r = arguments.length < 3;
return i(e, Br(t, 4), n, r, Ns);
}, z.reduceRight = function(e, t, n) {
var i = jl(e) ? d : x, r = arguments.length < 3;
return i(e, Br(t, 4), n, r, Bs);
}, z.repeat = function(e, t, n) {
return t = (n ? Zr(e, t, n) : t === Q) ? 1 : ra(t), wi(la(e), t);
}, z.replace = function() {
var e = arguments, t = la(e[0]);
return e.length < 3 ? t : t.replace(e[1], e[2]);
}, z.result = function(e, t, n) {
var i = -1, r = (t = Ui(t, e)).length;
for (r || (r = 1, e = Q); ++i < r; ) {
var o = null == e ? Q : e[yo(t[i])];
o === Q && (i = r, o = n), e = Go(o) ? o.call(e) : o;
}
return e;
}, z.round = Oc, z.runInContext = f, z.sample = function(e) {
return (jl(e) ? Xt : xi)(e);
}, z.size = function(e) {
if (null == e) return 0;
if (zo(e)) return ea(e) ? q(e) : e.length;
var t = Xs(e);
return t == Ve || t == Ye ? e.size : ri(e).length;
}, z.snakeCase = mc, z.some = function(e, t, n) {
var i = jl(e) ? h : Ti;
return n && Zr(e, t, n) && (t = Q), i(e, Br(t, 3));
}, z.sortedIndex = function(e, t) {
return Di(e, t);
}, z.sortedIndexBy = function(e, t, n) {
return Ei(e, t, Br(n, 2));
}, z.sortedIndexOf = function(e, t) {
var n = null == e ? 0 : e.length;
if (n) {
var i = Di(e, t);
if (i < n && Uo(e[i], t)) return i;
}
return -1;
}, z.sortedLastIndex = function(e, t) {
return Di(e, t, !0);
}, z.sortedLastIndexBy = function(e, t, n) {
return Ei(e, t, Br(n, 2), !0);
}, z.sortedLastIndexOf = function(e, t) {
if (null == e ? 0 : e.length) {
var n = Di(e, t, !0) - 1;
if (Uo(e[n], t)) return n;
}
return -1;
}, z.startCase = vc, z.startsWith = function(e, t, n) {
return e = la(e), n = null == n ? 0 : un(ra(n), 0, e.length), t = Ii(t), e.slice(n, n + t.length) == t;
}, z.subtract = Rc, z.sum = function(e) {
return e && e.length ? $(e, ba) : 0;
}, z.sumBy = function(e, t) {
return e && e.length ? $(e, Br(t, 2)) : 0;
}, z.template = function(e, t, n) {
var i = z.templateSettings;
n && Zr(e, t, n) && (t = Q), e = la(e), t = Jl({}, t, i, Tr);
var r, o, a = Jl({}, t.imports, i.imports, Tr), s = da(a), l = D(a, s), c = 0, u = t.interpolate || Vt, d = "__p += '", h = Ma((t.escape || Vt).source + "|" + u.source + "|" + (u === _t ? Pt : Vt).source + "|" + (t.evaluate || Vt).source + "|$", "g"), f = "//# sourceURL=" + ("sourceURL" in t ? t.sourceURL : "lodash.templateSources[" + ++fn + "]") + "\n";
e.replace(h, function(t, n, i, a, s, l) {
return i || (i = a), d += e.slice(c, l).replace(Ut, P), n && (r = !0, d += "' +\n__e(" + n + ") +\n'"), s && (o = !0, d += "';\n" + s + ";\n__p += '"), i && (d += "' +\n((__t = (" + i + ")) == null ? '' : __t) +\n'"), c = l + t.length, t;
}), d += "';\n";
var p = t.variable;
p || (d = "with (obj) {\n" + d + "\n}\n"), d = (o ? d.replace(dt, "") : d).replace(ht, "$1").replace(ft, "$1;"), d = "function(" + (p || "obj") + ") {\n" + (p ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (r ? ", __e = _.escape" : "") + (o ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + d + "return __p\n}";
var g = _c(function() {
return Da(s, f + "return " + d).apply(Q, l);
});
if (g.source = d, qo(g)) throw g;
return g;
}, z.times = function(e, t) {
if ((e = ra(e)) < 1 || e > Ae) return [];
var n = De, i = ms(e, De);
t = Br(t), e -= De;
for (var r = A(i, t); ++n < e; ) t(n);
return r;
}, z.toFinite = ia, z.toInteger = ra, z.toLength = oa, z.toLower = function(e) {
return la(e).toLowerCase();
}, z.toNumber = aa, z.toSafeInteger = function(e) {
return e ? un(ra(e), -Ae, Ae) : 0 === e ? e : 0;
}, z.toString = la, z.toUpper = function(e) {
return la(e).toUpperCase();
}, z.trim = function(e, t, n) {
if ((e = la(e)) && (n || t === Q)) return e.replace(At, "");
if (!e || !(t = Ii(t))) return e;
var i = G(e), r = G(t);
return zi(i, F(i, r), M(i, r) + 1).join("");
}, z.trimEnd = function(e, t, n) {
if ((e = la(e)) && (n || t === Q)) return e.replace(Tt, "");
if (!e || !(t = Ii(t))) return e;
var i = G(e);
return zi(i, 0, M(i, G(t)) + 1).join("");
}, z.trimStart = function(e, t, n) {
if ((e = la(e)) && (n || t === Q)) return e.replace(kt, "");
if (!e || !(t = Ii(t))) return e;
var i = G(e);
return zi(i, F(i, G(t))).join("");
}, z.truncate = function(e, t) {
var n = be, i = _e;
if (Xo(t)) {
var r = "separator" in t ? t.separator : r;
n = "length" in t ? ra(t.length) : n, i = "omission" in t ? Ii(t.omission) : i;
}
var o = (e = la(e)).length;
if (O(e)) {
var a = G(e);
o = a.length;
}
if (n >= o) return e;
var s = n - q(i);
if (s < 1) return i;
var l = a ? zi(a, 0, s).join("") : e.slice(0, s);
if (r === Q) return l + i;
if (a && (s += l.length - s), Wl(r)) {
if (e.slice(s).search(r)) {
var c, u = l;
for (r.global || (r = Ma(r.source, la(Lt.exec(r)) + "g")), r.lastIndex = 0; c = r.exec(u); ) var d = c.index;
l = l.slice(0, d === Q ? s : d);
}
} else if (e.indexOf(Ii(r), s) != s) {
var h = l.lastIndexOf(r);
h > -1 && (l = l.slice(0, h));
}
return l + i;
}, z.unescape = function(e) {
return (e = la(e)) && mt.test(e) ? e.replace(pt, Bn) : e;
}, z.uniqueId = function(e) {
var t = ++Ha;
return la(e) + t;
}, z.upperCase = yc, z.upperFirst = bc, z.each = Io, z.eachRight = Po, z.first = $o, wa(z, function() {
var e = {};
return Dn(z, function(t, n) {
ja.call(z.prototype, n) || (e[n] = t);
}), e;
}(), {
chain: !1
}), z.VERSION = "4.17.11", n([ "bind", "bindKey", "curry", "curryRight", "partial", "partialRight" ], function(e) {
z[e].placeholder = z;
}), n([ "drop", "take" ], function(e, t) {
Mt.prototype[e] = function(n) {
n = n === Q ? 1 : gs(ra(n), 0);
var i = this.__filtered__ && !t ? new Mt(this) : this.clone();
return i.__filtered__ ? i.__takeCount__ = ms(n, i.__takeCount__) : i.__views__.push({
size: ms(n, De),
type: e + (i.__dir__ < 0 ? "Right" : "")
}), i;
}, Mt.prototype[e + "Right"] = function(t) {
return this.reverse()[e](t).reverse();
};
}), n([ "filter", "map", "takeWhile" ], function(e, t) {
var n = t + 1, i = n == xe || 3 == n;
Mt.prototype[e] = function(e) {
var t = this.clone();
return t.__iteratees__.push({
iteratee: Br(e, 3),
type: n
}), t.__filtered__ = t.__filtered__ || i, t;
};
}), n([ "head", "last" ], function(e, t) {
var n = "take" + (t ? "Right" : "");
Mt.prototype[e] = function() {
return this[n](1).value()[0];
};
}), n([ "initial", "tail" ], function(e, t) {
var n = "drop" + (t ? "" : "Right");
Mt.prototype[e] = function() {
return this.__filtered__ ? new Mt(this) : this[n](1);
};
}), Mt.prototype.compact = function() {
return this.filter(ba);
}, Mt.prototype.find = function(e) {
return this.filter(e).head();
}, Mt.prototype.findLast = function(e) {
return this.reverse().find(e);
}, Mt.prototype.invokeMap = Ci(function(e, t) {
return "function" == typeof e ? new Mt(this) : this.map(function(n) {
return Qn(n, e, t);
});
}), Mt.prototype.reject = function(e) {
return this.filter(Vo(Br(e)));
}, Mt.prototype.slice = function(e, t) {
e = ra(e);
var n = this;
return n.__filtered__ && (e > 0 || t < 0) ? new Mt(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)), t !== Q && (n = (t = ra(t)) < 0 ? n.dropRight(-t) : n.take(t - e)), n);
}, Mt.prototype.takeRightWhile = function(e) {
return this.reverse().takeWhile(e).reverse();
}, Mt.prototype.toArray = function() {
return this.take(De);
}, Dn(Mt.prototype, function(e, t) {
var n = /^(?:filter|find|map|reject)|While$/.test(t), i = /^(?:head|last)$/.test(t), r = z[i ? "take" + ("last" == t ? "Right" : "") : t], o = i || /^find/.test(t);
r && (z.prototype[t] = function() {
var t = this.__wrapped__, a = i ? [ 1 ] : arguments, s = t instanceof Mt, l = a[0], u = s || jl(t), d = function(e) {
var t = r.apply(z, c([ e ], a));
return i && h ? t[0] : t;
};
u && n && "function" == typeof l && 1 != l.length && (s = u = !1);
var h = this.__chain__, f = !!this.__actions__.length, p = o && !h, g = s && !f;
if (!o && u) {
t = g ? t : new Mt(this);
var m = e.apply(t, a);
return m.__actions__.push({
func: Mo,
args: [ d ],
thisArg: Q
}), new K(m, h);
}
return p && g ? e.apply(this, a) : (m = this.thru(d), p ? i ? m.value()[0] : m.value() : m);
});
}), n([ "pop", "push", "shift", "sort", "splice", "unshift" ], function(e) {
var t = La[e], n = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru", i = /^(?:pop|shift)$/.test(e);
z.prototype[e] = function() {
var e = arguments;
if (i && !this.__chain__) {
var r = this.value();
return t.apply(jl(r) ? r : [], e);
}
return this[n](function(n) {
return t.apply(jl(n) ? n : [], e);
});
};
}), Dn(Mt.prototype, function(e, t) {
var n = z[t];
if (n) {
var i = n.name + "";
(Ts[i] || (Ts[i] = [])).push({
name: t,
func: n
});
}
}), Ts[mr(Q, ue).name] = [ {
name: "wrapper",
func: Q
} ], Mt.prototype.clone = function() {
var e = new Mt(this.__wrapped__);
return e.__actions__ = tr(this.__actions__), e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = tr(this.__iteratees__), e.__takeCount__ = this.__takeCount__, e.__views__ = tr(this.__views__), e;
}, Mt.prototype.reverse = function() {
if (this.__filtered__) {
var e = new Mt(this);
e.__dir__ = -1, e.__filtered__ = !0;
} else (e = this.clone()).__dir__ *= -1;
return e;
}, Mt.prototype.value = function() {
var e = this.__wrapped__.value(), t = this.__dir__, n = jl(e), i = t < 0, r = n ? e.length : 0, o = zr(0, r, this.__views__), a = o.start, s = o.end, l = s - a, c = i ? s : a - 1, u = this.__iteratees__, d = u.length, h = 0, f = ms(l, this.__takeCount__);
if (!n || !i && r == l && f == l) return Ni(e, this.__actions__);
var p = [];
e: for (;l-- && h < f; ) {
for (var g = -1, m = e[c += t]; ++g < d; ) {
var v = u[g], y = v.iteratee, b = v.type, _ = y(m);
if (b == Se) m = _; else if (!_) {
if (b == xe) continue e;
break e;
}
}
p[h++] = m;
}
return p;
}, z.prototype.at = bl, z.prototype.chain = function() {
return Fo(this);
}, z.prototype.commit = function() {
return new K(this.value(), this.__chain__);
}, z.prototype.next = function() {
this.__values__ === Q && (this.__values__ = na(this.value()));
var e = this.__index__ >= this.__values__.length;
return {
done: e,
value: e ? Q : this.__values__[this.__index__++]
};
}, z.prototype.plant = function(e) {
for (var t, n = this; n instanceof Y; ) {
var i = wo(n);
i.__index__ = 0, i.__values__ = Q, t ? r.__wrapped__ = i : t = i;
var r = i;
n = n.__wrapped__;
}
return r.__wrapped__ = e, t;
}, z.prototype.reverse = function() {
var e = this.__wrapped__;
if (e instanceof Mt) {
var t = e;
return this.__actions__.length && (t = new Mt(this)), (t = t.reverse()).__actions__.push({
func: Mo,
args: [ To ],
thisArg: Q
}), new K(t, this.__chain__);
}
return this.thru(To);
}, z.prototype.toJSON = z.prototype.valueOf = z.prototype.value = function() {
return Ni(this.__wrapped__, this.__actions__);
}, z.prototype.first = z.prototype.head, ns && (z.prototype[ns] = function() {
return this;
}), z;
}();
"function" == typeof define && "object" == typeof define.amd && define.amd ? (Sn._ = jn, define(function() {
return jn;
})) : An ? ((An.exports = jn)._ = jn, $n._ = jn) : Sn._ = jn;
}.call(this), "undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery");

+function(e) {
"use strict";
var t = jQuery.fn.jquery.split(" ")[0].split(".");
if (t[0] < 2 && t[1] < 9 || 1 == t[0] && 9 == t[1] && t[2] < 1 || t[0] > 3) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");
}(), function(e) {
"use strict";
function t() {
var e = document.createElement("bootstrap"), t = {
WebkitTransition: "webkitTransitionEnd",
MozTransition: "transitionend",
OTransition: "oTransitionEnd otransitionend",
transition: "transitionend"
};
for (var n in t) if (void 0 !== e.style[n]) return {
end: t[n]
};
return !1;
}
e.fn.emulateTransitionEnd = function(t) {
var n = !1, i = this;
e(this).one("bsTransitionEnd", function() {
n = !0;
});
return setTimeout(function() {
n || e(i).trigger(e.support.transition.end);
}, t), this;
}, e(function() {
e.support.transition = t(), e.support.transition && (e.event.special.bsTransitionEnd = {
bindType: e.support.transition.end,
delegateType: e.support.transition.end,
handle: function(t) {
if (e(t.target).is(this)) return t.handleObj.handler.apply(this, arguments);
}
});
});
}(jQuery), function(e) {
"use strict";
var t = '[data-dismiss="alert"]', n = function(n) {
e(n).on("click", t, this.close);
};
n.VERSION = "3.4.1", n.TRANSITION_DURATION = 150, n.prototype.close = function(t) {
function i() {
a.detach().trigger("closed.bs.alert").remove();
}
var r = e(this), o = r.attr("data-target");
o || (o = (o = r.attr("href")) && o.replace(/.*(?=#[^\s]*$)/, "")), o = "#" === o ? [] : o;
var a = e(document).find(o);
t && t.preventDefault(), a.length || (a = r.closest(".alert")), a.trigger(t = e.Event("close.bs.alert")), t.isDefaultPrevented() || (a.removeClass("in"), e.support.transition && a.hasClass("fade") ? a.one("bsTransitionEnd", i).emulateTransitionEnd(n.TRANSITION_DURATION) : i());
};
var i = e.fn.alert;
e.fn.alert = function(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.alert");
r || i.data("bs.alert", r = new n(this)), "string" == typeof t && r[t].call(i);
});
}, e.fn.alert.Constructor = n, e.fn.alert.noConflict = function() {
return e.fn.alert = i, this;
}, e(document).on("click.bs.alert.data-api", t, n.prototype.close);
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.button"), o = "object" == typeof t && t;
r || i.data("bs.button", r = new n(this, o)), "toggle" == t ? r.toggle() : t && r.setState(t);
});
}
var n = function(t, i) {
this.$element = e(t), this.options = e.extend({}, n.DEFAULTS, i), this.isLoading = !1;
};
n.VERSION = "3.4.1", n.DEFAULTS = {
loadingText: "loading..."
}, n.prototype.setState = function(t) {
var n = "disabled", i = this.$element, r = i.is("input") ? "val" : "html", o = i.data();
t += "Text", null == o.resetText && i.data("resetText", i[r]()), setTimeout(e.proxy(function() {
i[r](null == o[t] ? this.options[t] : o[t]), "loadingText" == t ? (this.isLoading = !0, i.addClass(n).attr(n, n).prop(n, !0)) : this.isLoading && (this.isLoading = !1, i.removeClass(n).removeAttr(n).prop(n, !1));
}, this), 0);
}, n.prototype.toggle = function() {
var e = !0, t = this.$element.closest('[data-toggle="buttons"]');
if (t.length) {
var n = this.$element.find("input");
"radio" == n.prop("type") ? (n.prop("checked") && (e = !1), t.find(".active").removeClass("active"), this.$element.addClass("active")) : "checkbox" == n.prop("type") && (n.prop("checked") !== this.$element.hasClass("active") && (e = !1), this.$element.toggleClass("active")), n.prop("checked", this.$element.hasClass("active")), e && n.trigger("change");
} else this.$element.attr("aria-pressed", !this.$element.hasClass("active")), this.$element.toggleClass("active");
};
var i = e.fn.button;
e.fn.button = t, e.fn.button.Constructor = n, e.fn.button.noConflict = function() {
return e.fn.button = i, this;
}, e(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function(n) {
var i = e(n.target).closest(".btn");
t.call(i, "toggle"), e(n.target).is('input[type="radio"], input[type="checkbox"]') || (n.preventDefault(), i.is("input,button") ? i.trigger("focus") : i.find("input:visible,button:visible").first().trigger("focus"));
}).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function(t) {
e(t.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(t.type));
});
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.carousel"), o = e.extend({}, n.DEFAULTS, i.data(), "object" == typeof t && t), a = "string" == typeof t ? t : o.slide;
r || i.data("bs.carousel", r = new n(this, o)), "number" == typeof t ? r.to(t) : a ? r[a]() : o.interval && r.pause().cycle();
});
}
var n = function(t, n) {
this.$element = e(t), this.$indicators = this.$element.find(".carousel-indicators"), this.options = n, this.paused = null, this.sliding = null, this.interval = null, this.$active = null, this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", e.proxy(this.keydown, this)), "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", e.proxy(this.pause, this)).on("mouseleave.bs.carousel", e.proxy(this.cycle, this));
};
n.VERSION = "3.4.1", n.TRANSITION_DURATION = 600, n.DEFAULTS = {
interval: 5e3,
pause: "hover",
wrap: !0,
keyboard: !0
}, n.prototype.keydown = function(e) {
if (!/input|textarea/i.test(e.target.tagName)) {
switch (e.which) {
case 37:
this.prev();
break;

case 39:
this.next();
break;

default:
return;
}
e.preventDefault();
}
}, n.prototype.cycle = function(t) {
return t || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(e.proxy(this.next, this), this.options.interval)), this;
}, n.prototype.getItemIndex = function(e) {
return this.$items = e.parent().children(".item"), this.$items.index(e || this.$active);
}, n.prototype.getItemForDirection = function(e, t) {
var n = this.getItemIndex(t);
if (("prev" == e && 0 === n || "next" == e && n == this.$items.length - 1) && !this.options.wrap) return t;
var i = (n + ("prev" == e ? -1 : 1)) % this.$items.length;
return this.$items.eq(i);
}, n.prototype.to = function(e) {
var t = this, n = this.getItemIndex(this.$active = this.$element.find(".item.active"));
if (!(e > this.$items.length - 1 || e < 0)) return this.sliding ? this.$element.one("slid.bs.carousel", function() {
t.to(e);
}) : n == e ? this.pause().cycle() : this.slide(e > n ? "next" : "prev", this.$items.eq(e));
}, n.prototype.pause = function(t) {
return t || (this.paused = !0), this.$element.find(".next, .prev").length && e.support.transition && (this.$element.trigger(e.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this;
}, n.prototype.next = function() {
if (!this.sliding) return this.slide("next");
}, n.prototype.prev = function() {
if (!this.sliding) return this.slide("prev");
}, n.prototype.slide = function(t, i) {
var r = this.$element.find(".item.active"), o = i || this.getItemForDirection(t, r), a = this.interval, s = "next" == t ? "left" : "right", l = this;
if (o.hasClass("active")) return this.sliding = !1;
var c = o[0], u = e.Event("slide.bs.carousel", {
relatedTarget: c,
direction: s
});
if (this.$element.trigger(u), !u.isDefaultPrevented()) {
if (this.sliding = !0, a && this.pause(), this.$indicators.length) {
this.$indicators.find(".active").removeClass("active");
var d = e(this.$indicators.children()[this.getItemIndex(o)]);
d && d.addClass("active");
}
var h = e.Event("slid.bs.carousel", {
relatedTarget: c,
direction: s
});
return e.support.transition && this.$element.hasClass("slide") ? (o.addClass(t), "object" == typeof o && o.length && o[0].offsetWidth, r.addClass(s), o.addClass(s), r.one("bsTransitionEnd", function() {
o.removeClass([ t, s ].join(" ")).addClass("active"), r.removeClass([ "active", s ].join(" ")), l.sliding = !1, setTimeout(function() {
l.$element.trigger(h);
}, 0);
}).emulateTransitionEnd(n.TRANSITION_DURATION)) : (r.removeClass("active"), o.addClass("active"), this.sliding = !1, this.$element.trigger(h)), a && this.cycle(), this;
}
};
var i = e.fn.carousel;
e.fn.carousel = t, e.fn.carousel.Constructor = n, e.fn.carousel.noConflict = function() {
return e.fn.carousel = i, this;
};
var r = function(n) {
var i = e(this), r = i.attr("href");
r && (r = r.replace(/.*(?=#[^\s]+$)/, ""));
var o = i.attr("data-target") || r, a = e(document).find(o);
if (a.hasClass("carousel")) {
var s = e.extend({}, a.data(), i.data()), l = i.attr("data-slide-to");
l && (s.interval = !1), t.call(a, s), l && a.data("bs.carousel").to(l), n.preventDefault();
}
};
e(document).on("click.bs.carousel.data-api", "[data-slide]", r).on("click.bs.carousel.data-api", "[data-slide-to]", r), e(window).on("load", function() {
e('[data-ride="carousel"]').each(function() {
var n = e(this);
t.call(n, n.data());
});
});
}(jQuery), function(e) {
"use strict";
function t(t) {
var n, i = t.attr("data-target") || (n = t.attr("href")) && n.replace(/.*(?=#[^\s]+$)/, "");
return e(document).find(i);
}
function n(t) {
return this.each(function() {
var n = e(this), r = n.data("bs.collapse"), o = e.extend({}, i.DEFAULTS, n.data(), "object" == typeof t && t);
!r && o.toggle && /show|hide/.test(t) && (o.toggle = !1), r || n.data("bs.collapse", r = new i(this, o)), "string" == typeof t && r[t]();
});
}
var i = function(t, n) {
this.$element = e(t), this.options = e.extend({}, i.DEFAULTS, n), this.$trigger = e('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle();
};
i.VERSION = "3.4.1", i.TRANSITION_DURATION = 350, i.DEFAULTS = {
toggle: !0
}, i.prototype.dimension = function() {
return this.$element.hasClass("width") ? "width" : "height";
}, i.prototype.show = function() {
if (!this.transitioning && !this.$element.hasClass("in")) {
var t, r = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
if (!(r && r.length && (t = r.data("bs.collapse")) && t.transitioning)) {
var o = e.Event("show.bs.collapse");
if (this.$element.trigger(o), !o.isDefaultPrevented()) {
r && r.length && (n.call(r, "hide"), t || r.data("bs.collapse", null));
var a = this.dimension();
this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1;
var s = function() {
this.$element.removeClass("collapsing").addClass("collapse in")[a](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse");
};
if (!e.support.transition) return s.call(this);
var l = e.camelCase([ "scroll", a ].join("-"));
this.$element.one("bsTransitionEnd", e.proxy(s, this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l]);
}
}
}
}, i.prototype.hide = function() {
if (!this.transitioning && this.$element.hasClass("in")) {
var t = e.Event("hide.bs.collapse");
if (this.$element.trigger(t), !t.isDefaultPrevented()) {
var n = this.dimension();
this.$element[n](this.$element[n]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1;
var r = function() {
this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse");
};
if (!e.support.transition) return r.call(this);
this.$element[n](0).one("bsTransitionEnd", e.proxy(r, this)).emulateTransitionEnd(i.TRANSITION_DURATION);
}
}
}, i.prototype.toggle = function() {
this[this.$element.hasClass("in") ? "hide" : "show"]();
}, i.prototype.getParent = function() {
return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(e.proxy(function(n, i) {
var r = e(i);
this.addAriaAndCollapsedClass(t(r), r);
}, this)).end();
}, i.prototype.addAriaAndCollapsedClass = function(e, t) {
var n = e.hasClass("in");
e.attr("aria-expanded", n), t.toggleClass("collapsed", !n).attr("aria-expanded", n);
};
var r = e.fn.collapse;
e.fn.collapse = n, e.fn.collapse.Constructor = i, e.fn.collapse.noConflict = function() {
return e.fn.collapse = r, this;
}, e(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(i) {
var r = e(this);
r.attr("data-target") || i.preventDefault();
var o = t(r), a = o.data("bs.collapse") ? "toggle" : r.data();
n.call(o, a);
});
}(jQuery), function(e) {
"use strict";
function t(t) {
var n = t.attr("data-target");
n || (n = (n = t.attr("href")) && /#[A-Za-z]/.test(n) && n.replace(/.*(?=#[^\s]*$)/, ""));
var i = "#" !== n ? e(document).find(n) : null;
return i && i.length ? i : t.parent();
}
function n(n) {
n && 3 === n.which || (e(i).remove(), e(r).each(function() {
var i = e(this), r = t(i), o = {
relatedTarget: this
};
r.hasClass("open") && (n && "click" == n.type && /input|textarea/i.test(n.target.tagName) && e.contains(r[0], n.target) || (r.trigger(n = e.Event("hide.bs.dropdown", o)), n.isDefaultPrevented() || (i.attr("aria-expanded", "false"), r.removeClass("open").trigger(e.Event("hidden.bs.dropdown", o)))));
}));
}
var i = ".dropdown-backdrop", r = '[data-toggle="dropdown"]', o = function(t) {
e(t).on("click.bs.dropdown", this.toggle);
};
o.VERSION = "3.4.1", o.prototype.toggle = function(i) {
var r = e(this);
if (!r.is(".disabled, :disabled")) {
var o = t(r), a = o.hasClass("open");
if (n(), !a) {
"ontouchstart" in document.documentElement && !o.closest(".navbar-nav").length && e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click", n);
var s = {
relatedTarget: this
};
if (o.trigger(i = e.Event("show.bs.dropdown", s)), i.isDefaultPrevented()) return;
r.trigger("focus").attr("aria-expanded", "true"), o.toggleClass("open").trigger(e.Event("shown.bs.dropdown", s));
}
return !1;
}
}, o.prototype.keydown = function(n) {
if (/(38|40|27|32)/.test(n.which) && !/input|textarea/i.test(n.target.tagName)) {
var i = e(this);
if (n.preventDefault(), n.stopPropagation(), !i.is(".disabled, :disabled")) {
var o = t(i), a = o.hasClass("open");
if (!a && 27 != n.which || a && 27 == n.which) return 27 == n.which && o.find(r).trigger("focus"), i.trigger("click");
var s = o.find(".dropdown-menu li:not(.disabled):visible a");
if (s.length) {
var l = s.index(n.target);
38 == n.which && l > 0 && l--, 40 == n.which && l < s.length - 1 && l++, ~l || (l = 0), s.eq(l).trigger("focus");
}
}
}
};
var a = e.fn.dropdown;
e.fn.dropdown = function(t) {
return this.each(function() {
var n = e(this), i = n.data("bs.dropdown");
i || n.data("bs.dropdown", i = new o(this)), "string" == typeof t && i[t].call(n);
});
}, e.fn.dropdown.Constructor = o, e.fn.dropdown.noConflict = function() {
return e.fn.dropdown = a, this;
}, e(document).on("click.bs.dropdown.data-api", n).on("click.bs.dropdown.data-api", ".dropdown form", function(e) {
e.stopPropagation();
}).on("click.bs.dropdown.data-api", r, o.prototype.toggle).on("keydown.bs.dropdown.data-api", r, o.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", o.prototype.keydown);
}(jQuery), function(e) {
"use strict";
function t(t, i) {
return this.each(function() {
var r = e(this), o = r.data("bs.modal"), a = e.extend({}, n.DEFAULTS, r.data(), "object" == typeof t && t);
o || r.data("bs.modal", o = new n(this, a)), "string" == typeof t ? o[t](i) : a.show && o.show(i);
});
}
var n = function(t, n) {
this.options = n, this.$body = e(document.body), this.$element = e(t), this.$dialog = this.$element.find(".modal-dialog"), this.$backdrop = null, this.isShown = null, this.originalBodyPad = null, this.scrollbarWidth = 0, this.ignoreBackdropClick = !1, this.fixedContent = ".navbar-fixed-top, .navbar-fixed-bottom", this.options.remote && this.$element.find(".modal-content").load(this.options.remote, e.proxy(function() {
this.$element.trigger("loaded.bs.modal");
}, this));
};
n.VERSION = "3.4.1", n.TRANSITION_DURATION = 300, n.BACKDROP_TRANSITION_DURATION = 150, n.DEFAULTS = {
backdrop: !0,
keyboard: !0,
show: !0
}, n.prototype.toggle = function(e) {
return this.isShown ? this.hide() : this.show(e);
}, n.prototype.show = function(t) {
var i = this, r = e.Event("show.bs.modal", {
relatedTarget: t
});
this.$element.trigger(r), this.isShown || r.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', e.proxy(this.hide, this)), this.$dialog.on("mousedown.dismiss.bs.modal", function() {
i.$element.one("mouseup.dismiss.bs.modal", function(t) {
e(t.target).is(i.$element) && (i.ignoreBackdropClick = !0);
});
}), this.backdrop(function() {
var r = e.support.transition && i.$element.hasClass("fade");
i.$element.parent().length || i.$element.appendTo(i.$body), i.$element.show().scrollTop(0), i.adjustDialog(), r && i.$element[0].offsetWidth, i.$element.addClass("in"), i.enforceFocus();
var o = e.Event("shown.bs.modal", {
relatedTarget: t
});
r ? i.$dialog.one("bsTransitionEnd", function() {
i.$element.trigger("focus").trigger(o);
}).emulateTransitionEnd(n.TRANSITION_DURATION) : i.$element.trigger("focus").trigger(o);
}));
}, n.prototype.hide = function(t) {
t && t.preventDefault(), t = e.Event("hide.bs.modal"), this.$element.trigger(t), this.isShown && !t.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), e(document).off("focusin.bs.modal"), this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"), this.$dialog.off("mousedown.dismiss.bs.modal"), e.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", e.proxy(this.hideModal, this)).emulateTransitionEnd(n.TRANSITION_DURATION) : this.hideModal());
}, n.prototype.enforceFocus = function() {
e(document).off("focusin.bs.modal").on("focusin.bs.modal", e.proxy(function(e) {
document === e.target || this.$element[0] === e.target || this.$element.has(e.target).length || this.$element.trigger("focus");
}, this));
}, n.prototype.escape = function() {
this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", e.proxy(function(e) {
27 == e.which && this.hide();
}, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal");
}, n.prototype.resize = function() {
this.isShown ? e(window).on("resize.bs.modal", e.proxy(this.handleUpdate, this)) : e(window).off("resize.bs.modal");
}, n.prototype.hideModal = function() {
var e = this;
this.$element.hide(), this.backdrop(function() {
e.$body.removeClass("modal-open"), e.resetAdjustments(), e.resetScrollbar(), e.$element.trigger("hidden.bs.modal");
});
}, n.prototype.removeBackdrop = function() {
this.$backdrop && this.$backdrop.remove(), this.$backdrop = null;
}, n.prototype.backdrop = function(t) {
var i = this, r = this.$element.hasClass("fade") ? "fade" : "";
if (this.isShown && this.options.backdrop) {
var o = e.support.transition && r;
if (this.$backdrop = e(document.createElement("div")).addClass("modal-backdrop " + r).appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", e.proxy(function(e) {
this.ignoreBackdropClick ? this.ignoreBackdropClick = !1 : e.target === e.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide());
}, this)), o && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !t) return;
o ? this.$backdrop.one("bsTransitionEnd", t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION) : t();
} else if (!this.isShown && this.$backdrop) {
this.$backdrop.removeClass("in");
var a = function() {
i.removeBackdrop(), t && t();
};
e.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION) : a();
} else t && t();
}, n.prototype.handleUpdate = function() {
this.adjustDialog();
}, n.prototype.adjustDialog = function() {
var e = this.$element[0].scrollHeight > document.documentElement.clientHeight;
this.$element.css({
paddingLeft: !this.bodyIsOverflowing && e ? this.scrollbarWidth : "",
paddingRight: this.bodyIsOverflowing && !e ? this.scrollbarWidth : ""
});
}, n.prototype.resetAdjustments = function() {
this.$element.css({
paddingLeft: "",
paddingRight: ""
});
}, n.prototype.checkScrollbar = function() {
var e = window.innerWidth;
if (!e) {
var t = document.documentElement.getBoundingClientRect();
e = t.right - Math.abs(t.left);
}
this.bodyIsOverflowing = document.body.clientWidth < e, this.scrollbarWidth = this.measureScrollbar();
}, n.prototype.setScrollbar = function() {
var t = parseInt(this.$body.css("padding-right") || 0, 10);
this.originalBodyPad = document.body.style.paddingRight || "";
var n = this.scrollbarWidth;
this.bodyIsOverflowing && (this.$body.css("padding-right", t + n), e(this.fixedContent).each(function(t, i) {
var r = i.style.paddingRight, o = e(i).css("padding-right");
e(i).data("padding-right", r).css("padding-right", parseFloat(o) + n + "px");
}));
}, n.prototype.resetScrollbar = function() {
this.$body.css("padding-right", this.originalBodyPad), e(this.fixedContent).each(function(t, n) {
var i = e(n).data("padding-right");
e(n).removeData("padding-right"), n.style.paddingRight = i || "";
});
}, n.prototype.measureScrollbar = function() {
var e = document.createElement("div");
e.className = "modal-scrollbar-measure", this.$body.append(e);
var t = e.offsetWidth - e.clientWidth;
return this.$body[0].removeChild(e), t;
};
var i = e.fn.modal;
e.fn.modal = t, e.fn.modal.Constructor = n, e.fn.modal.noConflict = function() {
return e.fn.modal = i, this;
}, e(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(n) {
var i = e(this), r = i.attr("href"), o = i.attr("data-target") || r && r.replace(/.*(?=#[^\s]+$)/, ""), a = e(document).find(o), s = a.data("bs.modal") ? "toggle" : e.extend({
remote: !/#/.test(r) && r
}, a.data(), i.data());
i.is("a") && n.preventDefault(), a.one("show.bs.modal", function(e) {
e.isDefaultPrevented() || a.one("hidden.bs.modal", function() {
i.is(":visible") && i.trigger("focus");
});
}), t.call(a, s, this);
});
}(jQuery), function(e) {
"use strict";
function t(t, n) {
var i = t.nodeName.toLowerCase();
if (-1 !== e.inArray(i, n)) return -1 === e.inArray(i, r) || Boolean(t.nodeValue.match(a) || t.nodeValue.match(s));
for (var o = e(n).filter(function(e, t) {
return t instanceof RegExp;
}), l = 0, c = o.length; l < c; l++) if (i.match(o[l])) return !0;
return !1;
}
function n(n, i, r) {
if (0 === n.length) return n;
if (r && "function" == typeof r) return r(n);
if (!document.implementation || !document.implementation.createHTMLDocument) return n;
var o = document.implementation.createHTMLDocument("sanitization");
o.body.innerHTML = n;
for (var a = e.map(i, function(e, t) {
return t;
}), s = e(o.body).find("*"), l = 0, c = s.length; l < c; l++) {
var u = s[l], d = u.nodeName.toLowerCase();
if (-1 !== e.inArray(d, a)) for (var h = e.map(u.attributes, function(e) {
return e;
}), f = [].concat(i["*"] || [], i[d] || []), p = 0, g = h.length; p < g; p++) t(h[p], f) || u.removeAttribute(h[p].nodeName); else u.parentNode.removeChild(u);
}
return o.body.innerHTML;
}
var i = [ "sanitize", "whiteList", "sanitizeFn" ], r = [ "background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href" ], o = {
"*": [ "class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i ],
a: [ "target", "href", "title", "rel" ],
area: [],
b: [],
br: [],
col: [],
code: [],
div: [],
em: [],
hr: [],
h1: [],
h2: [],
h3: [],
h4: [],
h5: [],
h6: [],
i: [],
img: [ "src", "alt", "title", "width", "height" ],
li: [],
ol: [],
p: [],
pre: [],
s: [],
small: [],
span: [],
sub: [],
sup: [],
strong: [],
u: [],
ul: []
}, a = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi, s = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i, l = function(e, t) {
this.type = null, this.options = null, this.enabled = null, this.timeout = null, this.hoverState = null, this.$element = null, this.inState = null, this.init("tooltip", e, t);
};
l.VERSION = "3.4.1", l.TRANSITION_DURATION = 150, l.DEFAULTS = {
animation: !0,
placement: "top",
selector: !1,
template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
trigger: "hover focus",
title: "",
delay: 0,
html: !1,
container: !1,
viewport: {
selector: "body",
padding: 0
},
sanitize: !0,
sanitizeFn: null,
whiteList: o
}, l.prototype.init = function(t, n, i) {
if (this.enabled = !0, this.type = t, this.$element = e(n), this.options = this.getOptions(i), this.$viewport = this.options.viewport && e(document).find(e.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport), this.inState = {
click: !1,
hover: !1,
focus: !1
}, this.$element[0] instanceof document.constructor && !this.options.selector) throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!");
for (var r = this.options.trigger.split(" "), o = r.length; o--; ) {
var a = r[o];
if ("click" == a) this.$element.on("click." + this.type, this.options.selector, e.proxy(this.toggle, this)); else if ("manual" != a) {
var s = "hover" == a ? "mouseenter" : "focusin", l = "hover" == a ? "mouseleave" : "focusout";
this.$element.on(s + "." + this.type, this.options.selector, e.proxy(this.enter, this)), this.$element.on(l + "." + this.type, this.options.selector, e.proxy(this.leave, this));
}
}
this.options.selector ? this._options = e.extend({}, this.options, {
trigger: "manual",
selector: ""
}) : this.fixTitle();
}, l.prototype.getDefaults = function() {
return l.DEFAULTS;
}, l.prototype.getOptions = function(t) {
var r = this.$element.data();
for (var o in r) r.hasOwnProperty(o) && -1 !== e.inArray(o, i) && delete r[o];
return (t = e.extend({}, this.getDefaults(), r, t)).delay && "number" == typeof t.delay && (t.delay = {
show: t.delay,
hide: t.delay
}), t.sanitize && (t.template = n(t.template, t.whiteList, t.sanitizeFn)), t;
}, l.prototype.getDelegateOptions = function() {
var t = {}, n = this.getDefaults();
return this._options && e.each(this._options, function(e, i) {
n[e] != i && (t[e] = i);
}), t;
}, l.prototype.enter = function(t) {
var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
if (n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), t instanceof e.Event && (n.inState["focusin" == t.type ? "focus" : "hover"] = !0), n.tip().hasClass("in") || "in" == n.hoverState) n.hoverState = "in"; else {
if (clearTimeout(n.timeout), n.hoverState = "in", !n.options.delay || !n.options.delay.show) return n.show();
n.timeout = setTimeout(function() {
"in" == n.hoverState && n.show();
}, n.options.delay.show);
}
}, l.prototype.isInStateTrue = function() {
for (var e in this.inState) if (this.inState[e]) return !0;
return !1;
}, l.prototype.leave = function(t) {
var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
if (n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), t instanceof e.Event && (n.inState["focusout" == t.type ? "focus" : "hover"] = !1), !n.isInStateTrue()) {
if (clearTimeout(n.timeout), n.hoverState = "out", !n.options.delay || !n.options.delay.hide) return n.hide();
n.timeout = setTimeout(function() {
"out" == n.hoverState && n.hide();
}, n.options.delay.hide);
}
}, l.prototype.show = function() {
var t = e.Event("show.bs." + this.type);
if (this.hasContent() && this.enabled) {
this.$element.trigger(t);
var n = e.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
if (t.isDefaultPrevented() || !n) return;
var i = this, r = this.tip(), o = this.getUID(this.type);
this.setContent(), r.attr("id", o), this.$element.attr("aria-describedby", o), this.options.animation && r.addClass("fade");
var a = "function" == typeof this.options.placement ? this.options.placement.call(this, r[0], this.$element[0]) : this.options.placement, s = /\s?auto?\s?/i, c = s.test(a);
c && (a = a.replace(s, "") || "top"), r.detach().css({
top: 0,
left: 0,
display: "block"
}).addClass(a).data("bs." + this.type, this), this.options.container ? r.appendTo(e(document).find(this.options.container)) : r.insertAfter(this.$element), this.$element.trigger("inserted.bs." + this.type);
var u = this.getPosition(), d = r[0].offsetWidth, h = r[0].offsetHeight;
if (c) {
var f = a, p = this.getPosition(this.$viewport);
a = "bottom" == a && u.bottom + h > p.bottom ? "top" : "top" == a && u.top - h < p.top ? "bottom" : "right" == a && u.right + d > p.width ? "left" : "left" == a && u.left - d < p.left ? "right" : a, r.removeClass(f).addClass(a);
}
var g = this.getCalculatedOffset(a, u, d, h);
this.applyPlacement(g, a);
var m = function() {
var e = i.hoverState;
i.$element.trigger("shown.bs." + i.type), i.hoverState = null, "out" == e && i.leave(i);
};
e.support.transition && this.$tip.hasClass("fade") ? r.one("bsTransitionEnd", m).emulateTransitionEnd(l.TRANSITION_DURATION) : m();
}
}, l.prototype.applyPlacement = function(t, n) {
var i = this.tip(), r = i[0].offsetWidth, o = i[0].offsetHeight, a = parseInt(i.css("margin-top"), 10), s = parseInt(i.css("margin-left"), 10);
isNaN(a) && (a = 0), isNaN(s) && (s = 0), t.top += a, t.left += s, e.offset.setOffset(i[0], e.extend({
using: function(e) {
i.css({
top: Math.round(e.top),
left: Math.round(e.left)
});
}
}, t), 0), i.addClass("in");
var l = i[0].offsetWidth, c = i[0].offsetHeight;
"top" == n && c != o && (t.top = t.top + o - c);
var u = this.getViewportAdjustedDelta(n, t, l, c);
u.left ? t.left += u.left : t.top += u.top;
var d = /top|bottom/.test(n), h = d ? 2 * u.left - r + l : 2 * u.top - o + c, f = d ? "offsetWidth" : "offsetHeight";
i.offset(t), this.replaceArrow(h, i[0][f], d);
}, l.prototype.replaceArrow = function(e, t, n) {
this.arrow().css(n ? "left" : "top", 50 * (1 - e / t) + "%").css(n ? "top" : "left", "");
}, l.prototype.setContent = function() {
var e = this.tip(), t = this.getTitle();
this.options.html ? (this.options.sanitize && (t = n(t, this.options.whiteList, this.options.sanitizeFn)), e.find(".tooltip-inner").html(t)) : e.find(".tooltip-inner").text(t), e.removeClass("fade in top bottom left right");
}, l.prototype.hide = function(t) {
function n() {
"in" != i.hoverState && r.detach(), i.$element && i.$element.removeAttr("aria-describedby").trigger("hidden.bs." + i.type), t && t();
}
var i = this, r = e(this.$tip), o = e.Event("hide.bs." + this.type);
if (this.$element.trigger(o), !o.isDefaultPrevented()) return r.removeClass("in"), e.support.transition && r.hasClass("fade") ? r.one("bsTransitionEnd", n).emulateTransitionEnd(l.TRANSITION_DURATION) : n(), this.hoverState = null, this;
}, l.prototype.fixTitle = function() {
var e = this.$element;
(e.attr("title") || "string" != typeof e.attr("data-original-title")) && e.attr("data-original-title", e.attr("title") || "").attr("title", "");
}, l.prototype.hasContent = function() {
return this.getTitle();
}, l.prototype.getPosition = function(t) {
var n = (t = t || this.$element)[0], i = "BODY" == n.tagName, r = n.getBoundingClientRect();
null == r.width && (r = e.extend({}, r, {
width: r.right - r.left,
height: r.bottom - r.top
}));
var o = window.SVGElement && n instanceof window.SVGElement, a = i ? {
top: 0,
left: 0
} : o ? null : t.offset(), s = {
scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : t.scrollTop()
}, l = i ? {
width: e(window).width(),
height: e(window).height()
} : null;
return e.extend({}, r, s, l, a);
}, l.prototype.getCalculatedOffset = function(e, t, n, i) {
return "bottom" == e ? {
top: t.top + t.height,
left: t.left + t.width / 2 - n / 2
} : "top" == e ? {
top: t.top - i,
left: t.left + t.width / 2 - n / 2
} : "left" == e ? {
top: t.top + t.height / 2 - i / 2,
left: t.left - n
} : {
top: t.top + t.height / 2 - i / 2,
left: t.left + t.width
};
}, l.prototype.getViewportAdjustedDelta = function(e, t, n, i) {
var r = {
top: 0,
left: 0
};
if (!this.$viewport) return r;
var o = this.options.viewport && this.options.viewport.padding || 0, a = this.getPosition(this.$viewport);
if (/right|left/.test(e)) {
var s = t.top - o - a.scroll, l = t.top + o - a.scroll + i;
s < a.top ? r.top = a.top - s : l > a.top + a.height && (r.top = a.top + a.height - l);
} else {
var c = t.left - o, u = t.left + o + n;
c < a.left ? r.left = a.left - c : u > a.right && (r.left = a.left + a.width - u);
}
return r;
}, l.prototype.getTitle = function() {
var e = this.$element, t = this.options;
return e.attr("data-original-title") || ("function" == typeof t.title ? t.title.call(e[0]) : t.title);
}, l.prototype.getUID = function(e) {
do {
e += ~~(1e6 * Math.random());
} while (document.getElementById(e));
return e;
}, l.prototype.tip = function() {
if (!this.$tip && (this.$tip = e(this.options.template), 1 != this.$tip.length)) throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!");
return this.$tip;
}, l.prototype.arrow = function() {
return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow");
}, l.prototype.enable = function() {
this.enabled = !0;
}, l.prototype.disable = function() {
this.enabled = !1;
}, l.prototype.toggleEnabled = function() {
this.enabled = !this.enabled;
}, l.prototype.toggle = function(t) {
var n = this;
t && ((n = e(t.currentTarget).data("bs." + this.type)) || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n))), t ? (n.inState.click = !n.inState.click, n.isInStateTrue() ? n.enter(n) : n.leave(n)) : n.tip().hasClass("in") ? n.leave(n) : n.enter(n);
}, l.prototype.destroy = function() {
var e = this;
clearTimeout(this.timeout), this.hide(function() {
e.$element.off("." + e.type).removeData("bs." + e.type), e.$tip && e.$tip.detach(), e.$tip = null, e.$arrow = null, e.$viewport = null, e.$element = null;
});
}, l.prototype.sanitizeHtml = function(e) {
return n(e, this.options.whiteList, this.options.sanitizeFn);
};
var c = e.fn.tooltip;
e.fn.tooltip = function(t) {
return this.each(function() {
var n = e(this), i = n.data("bs.tooltip"), r = "object" == typeof t && t;
!i && /destroy|hide/.test(t) || (i || n.data("bs.tooltip", i = new l(this, r)), "string" == typeof t && i[t]());
});
}, e.fn.tooltip.Constructor = l, e.fn.tooltip.noConflict = function() {
return e.fn.tooltip = c, this;
};
}(jQuery), function(e) {
"use strict";
var t = function(e, t) {
this.init("popover", e, t);
};
if (!e.fn.tooltip) throw new Error("Popover requires tooltip.js");
t.VERSION = "3.4.1", t.DEFAULTS = e.extend({}, e.fn.tooltip.Constructor.DEFAULTS, {
placement: "right",
trigger: "click",
content: "",
template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
}), t.prototype = e.extend({}, e.fn.tooltip.Constructor.prototype), t.prototype.constructor = t, t.prototype.getDefaults = function() {
return t.DEFAULTS;
}, t.prototype.setContent = function() {
var e = this.tip(), t = this.getTitle(), n = this.getContent();
if (this.options.html) {
var i = typeof n;
this.options.sanitize && (t = this.sanitizeHtml(t), "string" === i && (n = this.sanitizeHtml(n))), e.find(".popover-title").html(t), e.find(".popover-content").children().detach().end()["string" === i ? "html" : "append"](n);
} else e.find(".popover-title").text(t), e.find(".popover-content").children().detach().end().text(n);
e.removeClass("fade top bottom left right in"), e.find(".popover-title").html() || e.find(".popover-title").hide();
}, t.prototype.hasContent = function() {
return this.getTitle() || this.getContent();
}, t.prototype.getContent = function() {
var e = this.$element, t = this.options;
return e.attr("data-content") || ("function" == typeof t.content ? t.content.call(e[0]) : t.content);
}, t.prototype.arrow = function() {
return this.$arrow = this.$arrow || this.tip().find(".arrow");
};
var n = e.fn.popover;
e.fn.popover = function(n) {
return this.each(function() {
var i = e(this), r = i.data("bs.popover"), o = "object" == typeof n && n;
!r && /destroy|hide/.test(n) || (r || i.data("bs.popover", r = new t(this, o)), "string" == typeof n && r[n]());
});
}, e.fn.popover.Constructor = t, e.fn.popover.noConflict = function() {
return e.fn.popover = n, this;
};
}(jQuery), function(e) {
"use strict";
function t(n, i) {
this.$body = e(document.body), this.$scrollElement = e(e(n).is(document.body) ? window : n), this.options = e.extend({}, t.DEFAULTS, i), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", e.proxy(this.process, this)), this.refresh(), this.process();
}
function n(n) {
return this.each(function() {
var i = e(this), r = i.data("bs.scrollspy"), o = "object" == typeof n && n;
r || i.data("bs.scrollspy", r = new t(this, o)), "string" == typeof n && r[n]();
});
}
t.VERSION = "3.4.1", t.DEFAULTS = {
offset: 10
}, t.prototype.getScrollHeight = function() {
return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight);
}, t.prototype.refresh = function() {
var t = this, n = "offset", i = 0;
this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight(), e.isWindow(this.$scrollElement[0]) || (n = "position", i = this.$scrollElement.scrollTop()), this.$body.find(this.selector).map(function() {
var t = e(this), r = t.data("target") || t.attr("href"), o = /^#./.test(r) && e(r);
return o && o.length && o.is(":visible") && [ [ o[n]().top + i, r ] ] || null;
}).sort(function(e, t) {
return e[0] - t[0];
}).each(function() {
t.offsets.push(this[0]), t.targets.push(this[1]);
});
}, t.prototype.process = function() {
var e, t = this.$scrollElement.scrollTop() + this.options.offset, n = this.getScrollHeight(), i = this.options.offset + n - this.$scrollElement.height(), r = this.offsets, o = this.targets, a = this.activeTarget;
if (this.scrollHeight != n && this.refresh(), t >= i) return a != (e = o[o.length - 1]) && this.activate(e);
if (a && t < r[0]) return this.activeTarget = null, this.clear();
for (e = r.length; e--; ) a != o[e] && t >= r[e] && (void 0 === r[e + 1] || t < r[e + 1]) && this.activate(o[e]);
}, t.prototype.activate = function(t) {
this.activeTarget = t, this.clear();
var n = this.selector + '[data-target="' + t + '"],' + this.selector + '[href="' + t + '"]', i = e(n).parents("li").addClass("active");
i.parent(".dropdown-menu").length && (i = i.closest("li.dropdown").addClass("active")), i.trigger("activate.bs.scrollspy");
}, t.prototype.clear = function() {
e(this.selector).parentsUntil(this.options.target, ".active").removeClass("active");
};
var i = e.fn.scrollspy;
e.fn.scrollspy = n, e.fn.scrollspy.Constructor = t, e.fn.scrollspy.noConflict = function() {
return e.fn.scrollspy = i, this;
}, e(window).on("load.bs.scrollspy.data-api", function() {
e('[data-spy="scroll"]').each(function() {
var t = e(this);
n.call(t, t.data());
});
});
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.tab");
r || i.data("bs.tab", r = new n(this)), "string" == typeof t && r[t]();
});
}
var n = function(t) {
this.element = e(t);
};
n.VERSION = "3.4.1", n.TRANSITION_DURATION = 150, n.prototype.show = function() {
var t = this.element, n = t.closest("ul:not(.dropdown-menu)"), i = t.data("target");
if (i || (i = (i = t.attr("href")) && i.replace(/.*(?=#[^\s]*$)/, "")), !t.parent("li").hasClass("active")) {
var r = n.find(".active:last a"), o = e.Event("hide.bs.tab", {
relatedTarget: t[0]
}), a = e.Event("show.bs.tab", {
relatedTarget: r[0]
});
if (r.trigger(o), t.trigger(a), !a.isDefaultPrevented() && !o.isDefaultPrevented()) {
var s = e(document).find(i);
this.activate(t.closest("li"), n), this.activate(s, s.parent(), function() {
r.trigger({
type: "hidden.bs.tab",
relatedTarget: t[0]
}), t.trigger({
type: "shown.bs.tab",
relatedTarget: r[0]
});
});
}
}
}, n.prototype.activate = function(t, i, r) {
function o() {
a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), s ? (t[0].offsetWidth, t.addClass("in")) : t.removeClass("fade"), t.parent(".dropdown-menu").length && t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), r && r();
}
var a = i.find("> .active"), s = r && e.support.transition && (a.length && a.hasClass("fade") || !!i.find("> .fade").length);
a.length && s ? a.one("bsTransitionEnd", o).emulateTransitionEnd(n.TRANSITION_DURATION) : o(), a.removeClass("in");
};
var i = e.fn.tab;
e.fn.tab = t, e.fn.tab.Constructor = n, e.fn.tab.noConflict = function() {
return e.fn.tab = i, this;
};
var r = function(n) {
n.preventDefault(), t.call(e(this), "show");
};
e(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', r).on("click.bs.tab.data-api", '[data-toggle="pill"]', r);
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.affix"), o = "object" == typeof t && t;
r || i.data("bs.affix", r = new n(this, o)), "string" == typeof t && r[t]();
});
}
var n = function(t, i) {
this.options = e.extend({}, n.DEFAULTS, i);
var r = this.options.target === n.DEFAULTS.target ? e(this.options.target) : e(document).find(this.options.target);
this.$target = r.on("scroll.bs.affix.data-api", e.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", e.proxy(this.checkPositionWithEventLoop, this)), this.$element = e(t), this.affixed = null, this.unpin = null, this.pinnedOffset = null, this.checkPosition();
};
n.VERSION = "3.4.1", n.RESET = "affix affix-top affix-bottom", n.DEFAULTS = {
offset: 0,
target: window
}, n.prototype.getState = function(e, t, n, i) {
var r = this.$target.scrollTop(), o = this.$element.offset(), a = this.$target.height();
if (null != n && "top" == this.affixed) return r < n && "top";
if ("bottom" == this.affixed) return null != n ? !(r + this.unpin <= o.top) && "bottom" : !(r + a <= e - i) && "bottom";
var s = null == this.affixed, l = s ? r : o.top, c = s ? a : t;
return null != n && r <= n ? "top" : null != i && l + c >= e - i && "bottom";
}, n.prototype.getPinnedOffset = function() {
if (this.pinnedOffset) return this.pinnedOffset;
this.$element.removeClass(n.RESET).addClass("affix");
var e = this.$target.scrollTop(), t = this.$element.offset();
return this.pinnedOffset = t.top - e;
}, n.prototype.checkPositionWithEventLoop = function() {
setTimeout(e.proxy(this.checkPosition, this), 1);
}, n.prototype.checkPosition = function() {
if (this.$element.is(":visible")) {
var t = this.$element.height(), i = this.options.offset, r = i.top, o = i.bottom, a = Math.max(e(document).height(), e(document.body).height());
"object" != typeof i && (o = r = i), "function" == typeof r && (r = i.top(this.$element)), "function" == typeof o && (o = i.bottom(this.$element));
var s = this.getState(a, t, r, o);
if (this.affixed != s) {
null != this.unpin && this.$element.css("top", "");
var l = "affix" + (s ? "-" + s : ""), c = e.Event(l + ".bs.affix");
if (this.$element.trigger(c), c.isDefaultPrevented()) return;
this.affixed = s, this.unpin = "bottom" == s ? this.getPinnedOffset() : null, this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix", "affixed") + ".bs.affix");
}
"bottom" == s && this.$element.offset({
top: a - t - o
});
}
};
var i = e.fn.affix;
e.fn.affix = t, e.fn.affix.Constructor = n, e.fn.affix.noConflict = function() {
return e.fn.affix = i, this;
}, e(window).on("load", function() {
e('[data-spy="affix"]').each(function() {
var n = e(this), i = n.data();
i.offset = i.offset || {}, null != i.offsetBottom && (i.offset.bottom = i.offsetBottom), null != i.offsetTop && (i.offset.top = i.offsetTop), t.call(n, i);
});
});
}(jQuery), function(e) {
"function" == typeof define && define.amd ? define([ "jquery" ], e) : e("object" == typeof exports ? require("jquery") : jQuery);
}(function(e, t) {
function n() {
return new Date(Date.UTC.apply(Date, arguments));
}
function i() {
var e = new Date();
return n(e.getFullYear(), e.getMonth(), e.getDate());
}
function r(e, t) {
return e.getUTCFullYear() === t.getUTCFullYear() && e.getUTCMonth() === t.getUTCMonth() && e.getUTCDate() === t.getUTCDate();
}
function o(n, i) {
return function() {
return i !== t && e.fn.datepicker.deprecated(i), this[n].apply(this, arguments);
};
}
function a(e) {
return e && !isNaN(e.getTime());
}
function s(t, n) {
var i = e(t).data(), r = {}, o = new RegExp("^" + n.toLowerCase() + "([A-Z])");
n = new RegExp("^" + n.toLowerCase());
for (var a in i) n.test(a) && (r[a.replace(o, function(e, t) {
return t.toLowerCase();
})] = i[a]);
return r;
}
function l(t) {
var n = {};
if (m[t] || (t = t.split("-")[0], m[t])) {
var i = m[t];
return e.each(g, function(e, t) {
t in i && (n[t] = i[t]);
}), n;
}
}
var c = function() {
var t = {
get: function(e) {
return this.slice(e)[0];
},
contains: function(e) {
for (var t = e && e.valueOf(), n = 0, i = this.length; n < i; n++) if (0 <= this[n].valueOf() - t && this[n].valueOf() - t < 864e5) return n;
return -1;
},
remove: function(e) {
this.splice(e, 1);
},
replace: function(t) {
t && (e.isArray(t) || (t = [ t ]), this.clear(), this.push.apply(this, t));
},
clear: function() {
this.length = 0;
},
copy: function() {
var e = new c();
return e.replace(this), e;
}
};
return function() {
var n = [];
return n.push.apply(n, arguments), e.extend(n, t), n;
};
}(), u = function(t, n) {
e.data(t, "datepicker", this), this._events = [], this._secondaryEvents = [], this._process_options(n), this.dates = new c(), this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = e(t), this.isInput = this.element.is("input"), this.inputField = this.isInput ? this.element : this.element.find("input"), this.component = !!this.element.hasClass("date") && this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"), this.component && 0 === this.component.length && (this.component = !1), this.isInline = !this.component && this.element.is("div"), this.picker = e(v.template), this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow), this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), 
this.o.rtl && this.picker.addClass("datepicker-rtl"), this.o.calendarWeeks && this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function(e, t) {
return Number(t) + 1;
}), this._process_options({
startDate: this._o.startDate,
endDate: this._o.endDate,
daysOfWeekDisabled: this.o.daysOfWeekDisabled,
daysOfWeekHighlighted: this.o.daysOfWeekHighlighted,
datesDisabled: this.o.datesDisabled
}), this._allow_update = !1, this.setViewMode(this.o.startView), this._allow_update = !0, this.fillDow(), this.fillMonths(), this.update(), this.isInline && this.show();
};
u.prototype = {
constructor: u,
_resolveViewName: function(t) {
return e.each(v.viewModes, function(n, i) {
if (t === n || -1 !== e.inArray(t, i.names)) return t = n, !1;
}), t;
},
_resolveDaysOfWeek: function(t) {
return e.isArray(t) || (t = t.split(/[,\s]*/)), e.map(t, Number);
},
_check_template: function(n) {
try {
return n !== t && "" !== n && ((n.match(/[<>]/g) || []).length <= 0 || e(n).length > 0);
} catch (e) {
return !1;
}
},
_process_options: function(t) {
this._o = e.extend({}, this._o, t);
var r = this.o = e.extend({}, this._o), o = r.language;
m[o] || (o = o.split("-")[0], m[o] || (o = p.language)), r.language = o, r.startView = this._resolveViewName(r.startView), r.minViewMode = this._resolveViewName(r.minViewMode), r.maxViewMode = this._resolveViewName(r.maxViewMode), r.startView = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, r.startView)), !0 !== r.multidate && (r.multidate = Number(r.multidate) || !1, !1 !== r.multidate && (r.multidate = Math.max(0, r.multidate))), r.multidateSeparator = String(r.multidateSeparator), r.weekStart %= 7, r.weekEnd = (r.weekStart + 6) % 7;
var a = v.parseFormat(r.format);
r.startDate !== -1 / 0 && (r.startDate ? r.startDate instanceof Date ? r.startDate = this._local_to_utc(this._zero_time(r.startDate)) : r.startDate = v.parseDate(r.startDate, a, r.language, r.assumeNearbyYear) : r.startDate = -1 / 0), r.endDate !== 1 / 0 && (r.endDate ? r.endDate instanceof Date ? r.endDate = this._local_to_utc(this._zero_time(r.endDate)) : r.endDate = v.parseDate(r.endDate, a, r.language, r.assumeNearbyYear) : r.endDate = 1 / 0), r.daysOfWeekDisabled = this._resolveDaysOfWeek(r.daysOfWeekDisabled || []), r.daysOfWeekHighlighted = this._resolveDaysOfWeek(r.daysOfWeekHighlighted || []), r.datesDisabled = r.datesDisabled || [], e.isArray(r.datesDisabled) || (r.datesDisabled = r.datesDisabled.split(",")), r.datesDisabled = e.map(r.datesDisabled, function(e) {
return v.parseDate(e, a, r.language, r.assumeNearbyYear);
});
var s = String(r.orientation).toLowerCase().split(/\s+/g), l = r.orientation.toLowerCase();
if (s = e.grep(s, function(e) {
return /^auto|left|right|top|bottom$/.test(e);
}), r.orientation = {
x: "auto",
y: "auto"
}, l && "auto" !== l) if (1 === s.length) switch (s[0]) {
case "top":
case "bottom":
r.orientation.y = s[0];
break;

case "left":
case "right":
r.orientation.x = s[0];
} else l = e.grep(s, function(e) {
return /^left|right$/.test(e);
}), r.orientation.x = l[0] || "auto", l = e.grep(s, function(e) {
return /^top|bottom$/.test(e);
}), r.orientation.y = l[0] || "auto"; else ;
if (r.defaultViewDate instanceof Date || "string" == typeof r.defaultViewDate) r.defaultViewDate = v.parseDate(r.defaultViewDate, a, r.language, r.assumeNearbyYear); else if (r.defaultViewDate) {
var c = r.defaultViewDate.year || new Date().getFullYear(), u = r.defaultViewDate.month || 0, d = r.defaultViewDate.day || 1;
r.defaultViewDate = n(c, u, d);
} else r.defaultViewDate = i();
},
_applyEvents: function(e) {
for (var n, i, r, o = 0; o < e.length; o++) n = e[o][0], 2 === e[o].length ? (i = t, r = e[o][1]) : 3 === e[o].length && (i = e[o][1], r = e[o][2]), n.on(r, i);
},
_unapplyEvents: function(e) {
for (var n, i, r, o = 0; o < e.length; o++) n = e[o][0], 2 === e[o].length ? (r = t, i = e[o][1]) : 3 === e[o].length && (r = e[o][1], i = e[o][2]), n.off(i, r);
},
_buildEvents: function() {
var t = {
keyup: e.proxy(function(t) {
-1 === e.inArray(t.keyCode, [ 27, 37, 39, 38, 40, 32, 13, 9 ]) && this.update();
}, this),
keydown: e.proxy(this.keydown, this),
paste: e.proxy(this.paste, this)
};
!0 === this.o.showOnFocus && (t.focus = e.proxy(this.show, this)), this.isInput ? this._events = [ [ this.element, t ] ] : this.component && this.inputField.length ? this._events = [ [ this.inputField, t ], [ this.component, {
click: e.proxy(this.show, this)
} ] ] : this._events = [ [ this.element, {
click: e.proxy(this.show, this),
keydown: e.proxy(this.keydown, this)
} ] ], this._events.push([ this.element, "*", {
blur: e.proxy(function(e) {
this._focused_from = e.target;
}, this)
} ], [ this.element, {
blur: e.proxy(function(e) {
this._focused_from = e.target;
}, this)
} ]), this.o.immediateUpdates && this._events.push([ this.element, {
"changeYear changeMonth": e.proxy(function(e) {
this.update(e.date);
}, this)
} ]), this._secondaryEvents = [ [ this.picker, {
click: e.proxy(this.click, this)
} ], [ this.picker, ".prev, .next", {
click: e.proxy(this.navArrowsClick, this)
} ], [ this.picker, ".day:not(.disabled)", {
click: e.proxy(this.dayCellClick, this)
} ], [ e(window), {
resize: e.proxy(this.place, this)
} ], [ e(document), {
"mousedown touchstart": e.proxy(function(e) {
this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length || this.isInline || this.hide();
}, this)
} ] ];
},
_attachEvents: function() {
this._detachEvents(), this._applyEvents(this._events);
},
_detachEvents: function() {
this._unapplyEvents(this._events);
},
_attachSecondaryEvents: function() {
this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents);
},
_detachSecondaryEvents: function() {
this._unapplyEvents(this._secondaryEvents);
},
_trigger: function(t, n) {
var i = n || this.dates.get(-1), r = this._utc_to_local(i);
this.element.trigger({
type: t,
date: r,
viewMode: this.viewMode,
dates: e.map(this.dates, this._utc_to_local),
format: e.proxy(function(e, t) {
0 === arguments.length ? (e = this.dates.length - 1, t = this.o.format) : "string" == typeof e && (t = e, e = this.dates.length - 1), t = t || this.o.format;
var n = this.dates.get(e);
return v.formatDate(n, t, this.o.language);
}, this)
});
},
show: function() {
if (!(this.inputField.is(":disabled") || this.inputField.prop("readonly") && !1 === this.o.enableOnReadonly)) return this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && e(this.element).blur(), this;
},
hide: function() {
return this.isInline || !this.picker.is(":visible") ? this : (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.setViewMode(this.o.startView), this.o.forceParse && this.inputField.val() && this.setValue(), this._trigger("hide"), this);
},
destroy: function() {
return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this;
},
paste: function(t) {
var n;
if (t.originalEvent.clipboardData && t.originalEvent.clipboardData.types && -1 !== e.inArray("text/plain", t.originalEvent.clipboardData.types)) n = t.originalEvent.clipboardData.getData("text/plain"); else {
if (!window.clipboardData) return;
n = window.clipboardData.getData("Text");
}
this.setDate(n), this.update(), t.preventDefault();
},
_utc_to_local: function(e) {
if (!e) return e;
var t = new Date(e.getTime() + 6e4 * e.getTimezoneOffset());
return t.getTimezoneOffset() !== e.getTimezoneOffset() && (t = new Date(e.getTime() + 6e4 * t.getTimezoneOffset())), t;
},
_local_to_utc: function(e) {
return e && new Date(e.getTime() - 6e4 * e.getTimezoneOffset());
},
_zero_time: function(e) {
return e && new Date(e.getFullYear(), e.getMonth(), e.getDate());
},
_zero_utc_time: function(e) {
return e && n(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate());
},
getDates: function() {
return e.map(this.dates, this._utc_to_local);
},
getUTCDates: function() {
return e.map(this.dates, function(e) {
return new Date(e);
});
},
getDate: function() {
return this._utc_to_local(this.getUTCDate());
},
getUTCDate: function() {
var e = this.dates.get(-1);
return e !== t ? new Date(e) : null;
},
clearDates: function() {
this.inputField.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide();
},
setDates: function() {
var t = e.isArray(arguments[0]) ? arguments[0] : arguments;
return this.update.apply(this, t), this._trigger("changeDate"), this.setValue(), this;
},
setUTCDates: function() {
var t = e.isArray(arguments[0]) ? arguments[0] : arguments;
return this.setDates.apply(this, e.map(t, this._utc_to_local)), this;
},
setDate: o("setDates"),
setUTCDate: o("setUTCDates"),
remove: o("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),
setValue: function() {
var e = this.getFormattedDate();
return this.inputField.val(e), this;
},
getFormattedDate: function(n) {
n === t && (n = this.o.format);
var i = this.o.language;
return e.map(this.dates, function(e) {
return v.formatDate(e, n, i);
}).join(this.o.multidateSeparator);
},
getStartDate: function() {
return this.o.startDate;
},
setStartDate: function(e) {
return this._process_options({
startDate: e
}), this.update(), this.updateNavArrows(), this;
},
getEndDate: function() {
return this.o.endDate;
},
setEndDate: function(e) {
return this._process_options({
endDate: e
}), this.update(), this.updateNavArrows(), this;
},
setDaysOfWeekDisabled: function(e) {
return this._process_options({
daysOfWeekDisabled: e
}), this.update(), this;
},
setDaysOfWeekHighlighted: function(e) {
return this._process_options({
daysOfWeekHighlighted: e
}), this.update(), this;
},
setDatesDisabled: function(e) {
return this._process_options({
datesDisabled: e
}), this.update(), this;
},
place: function() {
if (this.isInline) return this;
var t = this.picker.outerWidth(), n = this.picker.outerHeight(), i = e(this.o.container), r = i.width(), o = "body" === this.o.container ? e(document).scrollTop() : i.scrollTop(), a = i.offset(), s = [ 0 ];
this.element.parents().each(function() {
var t = e(this).css("z-index");
"auto" !== t && 0 !== Number(t) && s.push(Number(t));
});
var l = Math.max.apply(Math, s) + this.o.zIndexOffset, c = this.component ? this.component.parent().offset() : this.element.offset(), u = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1), d = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), h = c.left - a.left, f = c.top - a.top;
"body" !== this.o.container && (f += o), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (h -= t - d)) : c.left < 0 ? (this.picker.addClass("datepicker-orient-left"), h -= c.left - 10) : h + t > r ? (this.picker.addClass("datepicker-orient-right"), h += d - t) : this.o.rtl ? this.picker.addClass("datepicker-orient-right") : this.picker.addClass("datepicker-orient-left");
var p = this.o.orientation.y;
if ("auto" === p && (p = -o + f - n < 0 ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + p), "top" === p ? f -= n + parseInt(this.picker.css("padding-top")) : f += u, this.o.rtl) {
var g = r - (h + d);
this.picker.css({
top: f,
right: g,
zIndex: l
});
} else this.picker.css({
top: f,
left: h,
zIndex: l
});
return this;
},
_allow_update: !0,
update: function() {
if (!this._allow_update) return this;
var t = this.dates.copy(), n = [], i = !1;
return arguments.length ? (e.each(arguments, e.proxy(function(e, t) {
t instanceof Date && (t = this._local_to_utc(t)), n.push(t);
}, this)), i = !0) : (n = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val(), n = n && this.o.multidate ? n.split(this.o.multidateSeparator) : [ n ], delete this.element.data().date), n = e.map(n, e.proxy(function(e) {
return v.parseDate(e, this.o.format, this.o.language, this.o.assumeNearbyYear);
}, this)), n = e.grep(n, e.proxy(function(e) {
return !this.dateWithinRange(e) || !e;
}, this), !0), this.dates.replace(n), this.o.updateViewDate && (this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate), i ? (this.setValue(), this.element.change()) : this.dates.length && String(t) !== String(this.dates) && i && (this._trigger("changeDate"), this.element.change()), !this.dates.length && t.length && (this._trigger("clearDate"), this.element.change()), this.fill(), this;
},
fillDow: function() {
if (this.o.showWeekDays) {
var t = this.o.weekStart, n = "<tr>";
for (this.o.calendarWeeks && (n += '<th class="cw">&#160;</th>'); t < this.o.weekStart + 7; ) n += '<th class="dow', -1 !== e.inArray(t, this.o.daysOfWeekDisabled) && (n += " disabled"), n += '">' + m[this.o.language].daysMin[t++ % 7] + "</th>";
n += "</tr>", this.picker.find(".datepicker-days thead").append(n);
}
},
fillMonths: function() {
for (var e = this._utc_to_local(this.viewDate), t = "", n = 0; n < 12; n++) t += '<span class="month' + (e && e.getMonth() === n ? " focused" : "") + '">' + m[this.o.language].monthsShort[n] + "</span>";
this.picker.find(".datepicker-months td").html(t);
},
setRange: function(t) {
t && t.length ? this.range = e.map(t, function(e) {
return e.valueOf();
}) : delete this.range, this.fill();
},
getClassNames: function(t) {
var n = [], o = this.viewDate.getUTCFullYear(), a = this.viewDate.getUTCMonth(), s = i();
return t.getUTCFullYear() < o || t.getUTCFullYear() === o && t.getUTCMonth() < a ? n.push("old") : (t.getUTCFullYear() > o || t.getUTCFullYear() === o && t.getUTCMonth() > a) && n.push("new"), this.focusDate && t.valueOf() === this.focusDate.valueOf() && n.push("focused"), this.o.todayHighlight && r(t, s) && n.push("today"), -1 !== this.dates.contains(t) && n.push("active"), this.dateWithinRange(t) || n.push("disabled"), this.dateIsDisabled(t) && n.push("disabled", "disabled-date"), -1 !== e.inArray(t.getUTCDay(), this.o.daysOfWeekHighlighted) && n.push("highlighted"), this.range && (t > this.range[0] && t < this.range[this.range.length - 1] && n.push("range"), -1 !== e.inArray(t.valueOf(), this.range) && n.push("selected"), t.valueOf() === this.range[0] && n.push("range-start"), t.valueOf() === this.range[this.range.length - 1] && n.push("range-end")), n;
},
_fill_yearsView: function(n, i, r, o, a, s, l) {
for (var c, u, d, h = "", f = r / 10, p = this.picker.find(n), g = Math.floor(o / r) * r, m = g + 9 * f, v = Math.floor(this.viewDate.getFullYear() / f) * f, y = e.map(this.dates, function(e) {
return Math.floor(e.getUTCFullYear() / f) * f;
}), b = g - f; b <= m + f; b += f) c = [ i ], u = null, b === g - f ? c.push("old") : b === m + f && c.push("new"), -1 !== e.inArray(b, y) && c.push("active"), (b < a || b > s) && c.push("disabled"), b === v && c.push("focused"), l !== e.noop && ((d = l(new Date(b, 0, 1))) === t ? d = {} : "boolean" == typeof d ? d = {
enabled: d
} : "string" == typeof d && (d = {
classes: d
}), !1 === d.enabled && c.push("disabled"), d.classes && (c = c.concat(d.classes.split(/\s+/))), d.tooltip && (u = d.tooltip)), h += '<span class="' + c.join(" ") + '"' + (u ? ' title="' + u + '"' : "") + ">" + b + "</span>";
p.find(".datepicker-switch").text(g + "-" + m), p.find("td").html(h);
},
fill: function() {
var r, o, a = new Date(this.viewDate), s = a.getUTCFullYear(), l = a.getUTCMonth(), c = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, u = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, d = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, h = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, f = m[this.o.language].today || m.en.today || "", p = m[this.o.language].clear || m.en.clear || "", g = m[this.o.language].titleFormat || m.en.titleFormat, y = i(), b = (!0 === this.o.todayBtn || "linked" === this.o.todayBtn) && y >= this.o.startDate && y <= this.o.endDate && !this.weekOfDateIsDisabled(y);
if (!isNaN(s) && !isNaN(l)) {
this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(a, g, this.o.language)), this.picker.find("tfoot .today").text(f).css("display", b ? "table-cell" : "none"), this.picker.find("tfoot .clear").text(p).css("display", !0 === this.o.clearBtn ? "table-cell" : "none"), this.picker.find("thead .datepicker-title").text(this.o.title).css("display", "string" == typeof this.o.title && "" !== this.o.title ? "table-cell" : "none"), this.updateNavArrows(), this.fillMonths();
var _ = n(s, l, 0), w = _.getUTCDate();
_.setUTCDate(w - (_.getUTCDay() - this.o.weekStart + 7) % 7);
var C = new Date(_);
_.getUTCFullYear() < 100 && C.setUTCFullYear(_.getUTCFullYear()), C.setUTCDate(C.getUTCDate() + 42), C = C.valueOf();
for (var x, S, $ = []; _.valueOf() < C; ) {
if ((x = _.getUTCDay()) === this.o.weekStart && ($.push("<tr>"), this.o.calendarWeeks)) {
var A = new Date(+_ + (this.o.weekStart - x - 7) % 7 * 864e5), k = new Date(Number(A) + (11 - A.getUTCDay()) % 7 * 864e5), T = new Date(Number(T = n(k.getUTCFullYear(), 0, 1)) + (11 - T.getUTCDay()) % 7 * 864e5), D = (k - T) / 864e5 / 7 + 1;
$.push('<td class="cw">' + D + "</td>");
}
(S = this.getClassNames(_)).push("day");
var E = _.getUTCDate();
this.o.beforeShowDay !== e.noop && ((o = this.o.beforeShowDay(this._utc_to_local(_))) === t ? o = {} : "boolean" == typeof o ? o = {
enabled: o
} : "string" == typeof o && (o = {
classes: o
}), !1 === o.enabled && S.push("disabled"), o.classes && (S = S.concat(o.classes.split(/\s+/))), o.tooltip && (r = o.tooltip), o.content && (E = o.content)), S = e.isFunction(e.uniqueSort) ? e.uniqueSort(S) : e.unique(S), $.push('<td class="' + S.join(" ") + '"' + (r ? ' title="' + r + '"' : "") + ' data-date="' + _.getTime().toString() + '">' + E + "</td>"), r = null, x === this.o.weekEnd && $.push("</tr>"), _.setUTCDate(_.getUTCDate() + 1);
}
this.picker.find(".datepicker-days tbody").html($.join(""));
var F = m[this.o.language].monthsTitle || m.en.monthsTitle || "Months", M = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? F : s).end().find("tbody span").removeClass("active");
if (e.each(this.dates, function(e, t) {
t.getUTCFullYear() === s && M.eq(t.getUTCMonth()).addClass("active");
}), (s < c || s > d) && M.addClass("disabled"), s === c && M.slice(0, u).addClass("disabled"), s === d && M.slice(h + 1).addClass("disabled"), this.o.beforeShowMonth !== e.noop) {
var I = this;
e.each(M, function(n, i) {
var r = new Date(s, n, 1), o = I.o.beforeShowMonth(r);
o === t ? o = {} : "boolean" == typeof o ? o = {
enabled: o
} : "string" == typeof o && (o = {
classes: o
}), !1 !== o.enabled || e(i).hasClass("disabled") || e(i).addClass("disabled"), o.classes && e(i).addClass(o.classes), o.tooltip && e(i).prop("title", o.tooltip);
});
}
this._fill_yearsView(".datepicker-years", "year", 10, s, c, d, this.o.beforeShowYear), this._fill_yearsView(".datepicker-decades", "decade", 100, s, c, d, this.o.beforeShowDecade), this._fill_yearsView(".datepicker-centuries", "century", 1e3, s, c, d, this.o.beforeShowCentury);
}
},
updateNavArrows: function() {
if (this._allow_update) {
var e, t, n = new Date(this.viewDate), i = n.getUTCFullYear(), r = n.getUTCMonth(), o = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, a = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, s = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, l = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, c = 1;
switch (this.viewMode) {
case 4:
c *= 10;

case 3:
c *= 10;

case 2:
c *= 10;

case 1:
e = Math.floor(i / c) * c <= o, t = Math.floor(i / c) * c + c > s;
break;

case 0:
e = i <= o && r <= a, t = i >= s && r >= l;
}
this.picker.find(".prev").toggleClass("disabled", e), this.picker.find(".next").toggleClass("disabled", t);
}
},
click: function(t) {
t.preventDefault(), t.stopPropagation();
var r, o, a, s;
(r = e(t.target)).hasClass("datepicker-switch") && this.viewMode !== this.o.maxViewMode && this.setViewMode(this.viewMode + 1), r.hasClass("today") && !r.hasClass("day") && (this.setViewMode(0), this._setDate(i(), "linked" === this.o.todayBtn ? null : "view")), r.hasClass("clear") && this.clearDates(), r.hasClass("disabled") || (r.hasClass("month") || r.hasClass("year") || r.hasClass("decade") || r.hasClass("century")) && (this.viewDate.setUTCDate(1), o = 1, 1 === this.viewMode ? (s = r.parent().find("span").index(r), a = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(s)) : (s = 0, a = Number(r.text()), this.viewDate.setUTCFullYear(a)), this._trigger(v.viewModes[this.viewMode - 1].e, this.viewDate), this.viewMode === this.o.minViewMode ? this._setDate(n(a, s, o)) : (this.setViewMode(this.viewMode - 1), this.fill())), this.picker.is(":visible") && this._focused_from && this._focused_from.focus(), delete this._focused_from;
},
dayCellClick: function(t) {
var n = e(t.currentTarget).data("date"), i = new Date(n);
this.o.updateViewDate && (i.getUTCFullYear() !== this.viewDate.getUTCFullYear() && this._trigger("changeYear", this.viewDate), i.getUTCMonth() !== this.viewDate.getUTCMonth() && this._trigger("changeMonth", this.viewDate)), this._setDate(i);
},
navArrowsClick: function(t) {
var n = e(t.currentTarget).hasClass("prev") ? -1 : 1;
0 !== this.viewMode && (n *= 12 * v.viewModes[this.viewMode].navStep), this.viewDate = this.moveMonth(this.viewDate, n), this._trigger(v.viewModes[this.viewMode].e, this.viewDate), this.fill();
},
_toggle_multidate: function(e) {
var t = this.dates.contains(e);
if (e || this.dates.clear(), -1 !== t ? (!0 === this.o.multidate || this.o.multidate > 1 || this.o.toggleActive) && this.dates.remove(t) : !1 === this.o.multidate ? (this.dates.clear(), this.dates.push(e)) : this.dates.push(e), "number" == typeof this.o.multidate) for (;this.dates.length > this.o.multidate; ) this.dates.remove(0);
},
_setDate: function(e, t) {
t && "date" !== t || this._toggle_multidate(e && new Date(e)), (!t && this.o.updateViewDate || "view" === t) && (this.viewDate = e && new Date(e)), this.fill(), this.setValue(), t && "view" === t || this._trigger("changeDate"), this.inputField.trigger("change"), !this.o.autoclose || t && "date" !== t || this.hide();
},
moveDay: function(e, t) {
var n = new Date(e);
return n.setUTCDate(e.getUTCDate() + t), n;
},
moveWeek: function(e, t) {
return this.moveDay(e, 7 * t);
},
moveMonth: function(e, t) {
if (!a(e)) return this.o.defaultViewDate;
if (!t) return e;
var n, i, r = new Date(e.valueOf()), o = r.getUTCDate(), s = r.getUTCMonth(), l = Math.abs(t);
if (t = t > 0 ? 1 : -1, 1 === l) i = -1 === t ? function() {
return r.getUTCMonth() === s;
} : function() {
return r.getUTCMonth() !== n;
}, n = s + t, r.setUTCMonth(n), n = (n + 12) % 12; else {
for (var c = 0; c < l; c++) r = this.moveMonth(r, t);
n = r.getUTCMonth(), r.setUTCDate(o), i = function() {
return n !== r.getUTCMonth();
};
}
for (;i(); ) r.setUTCDate(--o), r.setUTCMonth(n);
return r;
},
moveYear: function(e, t) {
return this.moveMonth(e, 12 * t);
},
moveAvailableDate: function(e, t, n) {
do {
if (e = this[n](e, t), !this.dateWithinRange(e)) return !1;
n = "moveDay";
} while (this.dateIsDisabled(e));
return e;
},
weekOfDateIsDisabled: function(t) {
return -1 !== e.inArray(t.getUTCDay(), this.o.daysOfWeekDisabled);
},
dateIsDisabled: function(t) {
return this.weekOfDateIsDisabled(t) || e.grep(this.o.datesDisabled, function(e) {
return r(t, e);
}).length > 0;
},
dateWithinRange: function(e) {
return e >= this.o.startDate && e <= this.o.endDate;
},
keydown: function(e) {
if (this.picker.is(":visible")) {
var t, n, i = !1, r = this.focusDate || this.viewDate;
switch (e.keyCode) {
case 27:
this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), e.preventDefault(), e.stopPropagation();
break;

case 37:
case 38:
case 39:
case 40:
if (!this.o.keyboardNavigation || 7 === this.o.daysOfWeekDisabled.length) break;
t = 37 === e.keyCode || 38 === e.keyCode ? -1 : 1, 0 === this.viewMode ? e.ctrlKey ? (n = this.moveAvailableDate(r, t, "moveYear")) && this._trigger("changeYear", this.viewDate) : e.shiftKey ? (n = this.moveAvailableDate(r, t, "moveMonth")) && this._trigger("changeMonth", this.viewDate) : 37 === e.keyCode || 39 === e.keyCode ? n = this.moveAvailableDate(r, t, "moveDay") : this.weekOfDateIsDisabled(r) || (n = this.moveAvailableDate(r, t, "moveWeek")) : 1 === this.viewMode ? (38 !== e.keyCode && 40 !== e.keyCode || (t *= 4), n = this.moveAvailableDate(r, t, "moveMonth")) : 2 === this.viewMode && (38 !== e.keyCode && 40 !== e.keyCode || (t *= 4), n = this.moveAvailableDate(r, t, "moveYear")), n && (this.focusDate = this.viewDate = n, this.setValue(), this.fill(), e.preventDefault());
break;

case 13:
if (!this.o.forceParse) break;
r = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(r), i = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (e.preventDefault(), e.stopPropagation(), this.o.autoclose && this.hide());
break;

case 9:
this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide();
}
i && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.inputField.trigger("change"));
} else 40 !== e.keyCode && 27 !== e.keyCode || (this.show(), e.stopPropagation());
},
setViewMode: function(e) {
this.viewMode = e, this.picker.children("div").hide().filter(".datepicker-" + v.viewModes[this.viewMode].clsName).show(), this.updateNavArrows(), this._trigger("changeViewMode", new Date(this.viewDate));
}
};
var d = function(t, n) {
e.data(t, "datepicker", this), this.element = e(t), this.inputs = e.map(n.inputs, function(e) {
return e.jquery ? e[0] : e;
}), delete n.inputs, this.keepEmptyValues = n.keepEmptyValues, delete n.keepEmptyValues, f.call(e(this.inputs), n).on("changeDate", e.proxy(this.dateUpdated, this)), this.pickers = e.map(this.inputs, function(t) {
return e.data(t, "datepicker");
}), this.updateDates();
};
d.prototype = {
updateDates: function() {
this.dates = e.map(this.pickers, function(e) {
return e.getUTCDate();
}), this.updateRanges();
},
updateRanges: function() {
var t = e.map(this.dates, function(e) {
return e.valueOf();
});
e.each(this.pickers, function(e, n) {
n.setRange(t);
});
},
clearDates: function() {
e.each(this.pickers, function(e, t) {
t.clearDates();
});
},
dateUpdated: function(n) {
if (!this.updating) {
this.updating = !0;
var i = e.data(n.target, "datepicker");
if (i !== t) {
var r = i.getUTCDate(), o = this.keepEmptyValues, a = e.inArray(n.target, this.inputs), s = a - 1, l = a + 1, c = this.inputs.length;
if (-1 !== a) {
if (e.each(this.pickers, function(e, t) {
t.getUTCDate() || t !== i && o || t.setUTCDate(r);
}), r < this.dates[s]) for (;s >= 0 && r < this.dates[s]; ) this.pickers[s--].setUTCDate(r); else if (r > this.dates[l]) for (;l < c && r > this.dates[l]; ) this.pickers[l++].setUTCDate(r);
this.updateDates(), delete this.updating;
}
}
}
},
destroy: function() {
e.map(this.pickers, function(e) {
e.destroy();
}), e(this.inputs).off("changeDate", this.dateUpdated), delete this.element.data().datepicker;
},
remove: o("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")
};
var h = e.fn.datepicker, f = function(n) {
var i = Array.apply(null, arguments);
i.shift();
var r;
if (this.each(function() {
var t = e(this), o = t.data("datepicker"), a = "object" == typeof n && n;
if (!o) {
var c = s(this, "date"), h = l(e.extend({}, p, c, a).language), f = e.extend({}, p, h, c, a);
t.hasClass("input-daterange") || f.inputs ? (e.extend(f, {
inputs: f.inputs || t.find("input").toArray()
}), o = new d(this, f)) : o = new u(this, f), t.data("datepicker", o);
}
"string" == typeof n && "function" == typeof o[n] && (r = o[n].apply(o, i));
}), r === t || r instanceof u || r instanceof d) return this;
if (this.length > 1) throw new Error("Using only allowed for the collection of a single element (" + n + " function)");
return r;
};
e.fn.datepicker = f;
var p = e.fn.datepicker.defaults = {
assumeNearbyYear: !1,
autoclose: !1,
beforeShowDay: e.noop,
beforeShowMonth: e.noop,
beforeShowYear: e.noop,
beforeShowDecade: e.noop,
beforeShowCentury: e.noop,
calendarWeeks: !1,
clearBtn: !1,
toggleActive: !1,
daysOfWeekDisabled: [],
daysOfWeekHighlighted: [],
datesDisabled: [],
endDate: 1 / 0,
forceParse: !0,
format: "mm/dd/yyyy",
keepEmptyValues: !1,
keyboardNavigation: !0,
language: "en",
minViewMode: 0,
maxViewMode: 4,
multidate: !1,
multidateSeparator: ",",
orientation: "auto",
rtl: !1,
startDate: -1 / 0,
startView: 0,
todayBtn: !1,
todayHighlight: !1,
updateViewDate: !0,
weekStart: 0,
disableTouchKeyboard: !1,
enableOnReadonly: !0,
showOnFocus: !0,
zIndexOffset: 10,
container: "body",
immediateUpdates: !1,
title: "",
templates: {
leftArrow: "&#x00AB;",
rightArrow: "&#x00BB;"
},
showWeekDays: !0
}, g = e.fn.datepicker.locale_opts = [ "format", "rtl", "weekStart" ];
e.fn.datepicker.Constructor = u;
var m = e.fn.datepicker.dates = {
en: {
days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
daysShort: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
daysMin: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ],
months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
monthsShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
today: "Today",
clear: "Clear",
titleFormat: "MM yyyy"
}
}, v = {
viewModes: [ {
names: [ "days", "month" ],
clsName: "days",
e: "changeMonth"
}, {
names: [ "months", "year" ],
clsName: "months",
e: "changeYear",
navStep: 1
}, {
names: [ "years", "decade" ],
clsName: "years",
e: "changeDecade",
navStep: 10
}, {
names: [ "decades", "century" ],
clsName: "decades",
e: "changeCentury",
navStep: 100
}, {
names: [ "centuries", "millennium" ],
clsName: "centuries",
e: "changeMillennium",
navStep: 1e3
} ],
validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,
parseFormat: function(e) {
if ("function" == typeof e.toValue && "function" == typeof e.toDisplay) return e;
var t = e.replace(this.validParts, "\0").split("\0"), n = e.match(this.validParts);
if (!t || !t.length || !n || 0 === n.length) throw new Error("Invalid date format.");
return {
separators: t,
parts: n
};
},
parseDate: function(n, r, o, a) {
function s(e, t) {
return !0 === t && (t = 10), e < 100 && (e += 2e3) > new Date().getFullYear() + t && (e -= 100), e;
}
function l() {
var e = this.slice(0, c[f].length), t = c[f].slice(0, e.length);
return e.toLowerCase() === t.toLowerCase();
}
if (!n) return t;
if (n instanceof Date) return n;
if ("string" == typeof r && (r = v.parseFormat(r)), r.toValue) return r.toValue(n, r, o);
var c, d, h, f, p, g = {
d: "moveDay",
m: "moveMonth",
w: "moveWeek",
y: "moveYear"
}, y = {
yesterday: "-1d",
today: "+0d",
tomorrow: "+1d"
};
if (n in y && (n = y[n]), /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)) {
for (c = n.match(/([\-+]\d+)([dmwy])/gi), n = new Date(), f = 0; f < c.length; f++) d = c[f].match(/([\-+]\d+)([dmwy])/i), h = Number(d[1]), p = g[d[2].toLowerCase()], n = u.prototype[p](n, h);
return u.prototype._zero_utc_time(n);
}
c = n && n.match(this.nonpunctuation) || [];
var b, _, w = {}, C = [ "yyyy", "yy", "M", "MM", "m", "mm", "d", "dd" ], x = {
yyyy: function(e, t) {
return e.setUTCFullYear(a ? s(t, a) : t);
},
m: function(e, t) {
if (isNaN(e)) return e;
for (t -= 1; t < 0; ) t += 12;
for (t %= 12, e.setUTCMonth(t); e.getUTCMonth() !== t; ) e.setUTCDate(e.getUTCDate() - 1);
return e;
},
d: function(e, t) {
return e.setUTCDate(t);
}
};
x.yy = x.yyyy, x.M = x.MM = x.mm = x.m, x.dd = x.d, n = i();
var S = r.parts.slice();
if (c.length !== S.length && (S = e(S).filter(function(t, n) {
return -1 !== e.inArray(n, C);
}).toArray()), c.length === S.length) {
var $;
for (f = 0, $ = S.length; f < $; f++) {
if (b = parseInt(c[f], 10), d = S[f], isNaN(b)) switch (d) {
case "MM":
_ = e(m[o].months).filter(l), b = e.inArray(_[0], m[o].months) + 1;
break;

case "M":
_ = e(m[o].monthsShort).filter(l), b = e.inArray(_[0], m[o].monthsShort) + 1;
}
w[d] = b;
}
var A, k;
for (f = 0; f < C.length; f++) (k = C[f]) in w && !isNaN(w[k]) && (A = new Date(n), x[k](A, w[k]), isNaN(A) || (n = A));
}
return n;
},
formatDate: function(t, n, i) {
if (!t) return "";
if ("string" == typeof n && (n = v.parseFormat(n)), n.toDisplay) return n.toDisplay(t, n, i);
var r = {
d: t.getUTCDate(),
D: m[i].daysShort[t.getUTCDay()],
DD: m[i].days[t.getUTCDay()],
m: t.getUTCMonth() + 1,
M: m[i].monthsShort[t.getUTCMonth()],
MM: m[i].months[t.getUTCMonth()],
yy: t.getUTCFullYear().toString().substring(2),
yyyy: t.getUTCFullYear()
};
r.dd = (r.d < 10 ? "0" : "") + r.d, r.mm = (r.m < 10 ? "0" : "") + r.m, t = [];
for (var o = e.extend([], n.separators), a = 0, s = n.parts.length; a <= s; a++) o.length && t.push(o.shift()), t.push(r[n.parts[a]]);
return t.join("");
},
headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">' + p.templates.leftArrow + '</th><th colspan="5" class="datepicker-switch"></th><th class="next">' + p.templates.rightArrow + "</th></tr></thead>",
contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
};
v.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">' + v.headTemplate + "<tbody></tbody>" + v.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + "</table></div></div>", e.fn.datepicker.DPGlobal = v, e.fn.datepicker.noConflict = function() {
return e.fn.datepicker = h, this;
}, e.fn.datepicker.version = "1.9.0", e.fn.datepicker.deprecated = function(e) {
var t = window.console;
t && t.warn && t.warn("DEPRECATED: " + e);
}, e(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function(t) {
var n = e(this);
n.data("datepicker") || (t.preventDefault(), f.call(n, "show"));
}), e(function() {
f.call(e('[data-provide="datepicker-inline"]'));
});
}), function(e, t) {
"function" == typeof define && define.amd ? define([ "jquery" ], function(e) {
return t(e);
}) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(e.jQuery);
}(this, function(e) {
!function(e) {
"use strict";
function t(t) {
var n = [ {
re: /[\xC0-\xC6]/g,
ch: "A"
}, {
re: /[\xE0-\xE6]/g,
ch: "a"
}, {
re: /[\xC8-\xCB]/g,
ch: "E"
}, {
re: /[\xE8-\xEB]/g,
ch: "e"
}, {
re: /[\xCC-\xCF]/g,
ch: "I"
}, {
re: /[\xEC-\xEF]/g,
ch: "i"
}, {
re: /[\xD2-\xD6]/g,
ch: "O"
}, {
re: /[\xF2-\xF6]/g,
ch: "o"
}, {
re: /[\xD9-\xDC]/g,
ch: "U"
}, {
re: /[\xF9-\xFC]/g,
ch: "u"
}, {
re: /[\xC7-\xE7]/g,
ch: "c"
}, {
re: /[\xD1]/g,
ch: "N"
}, {
re: /[\xF1]/g,
ch: "n"
} ];
return e.each(n, function() {
t = t ? t.replace(this.re, this.ch) : "";
}), t;
}
function n(t) {
var n = arguments, i = t;
[].shift.apply(n);
var r, o = this.each(function() {
var t = e(this);
if (t.is("select")) {
var o = t.data("selectpicker"), a = "object" == typeof i && i;
if (o) {
if (a) for (var s in a) a.hasOwnProperty(s) && (o.options[s] = a[s]);
} else {
var l = e.extend({}, u.DEFAULTS, e.fn.selectpicker.defaults || {}, t.data(), a);
l.template = e.extend({}, u.DEFAULTS.template, e.fn.selectpicker.defaults ? e.fn.selectpicker.defaults.template : {}, t.data().template, a.template), t.data("selectpicker", o = new u(this, l));
}
"string" == typeof i && (r = o[i] instanceof Function ? o[i].apply(o, n) : o.options[i]);
}
});
return void 0 !== r ? r : o;
}
String.prototype.includes || function() {
var e = {}.toString, t = function() {
try {
var e = {}, t = Object.defineProperty, n = t(e, e, e) && t;
} catch (e) {}
return n;
}(), n = "".indexOf, i = function(t) {
if (null == this) throw new TypeError();
var i = String(this);
if (t && "[object RegExp]" == e.call(t)) throw new TypeError();
var r = i.length, o = String(t), a = o.length, s = arguments.length > 1 ? arguments[1] : void 0, l = s ? Number(s) : 0;
return l != l && (l = 0), !(a + Math.min(Math.max(l, 0), r) > r) && -1 != n.call(i, o, l);
};
t ? t(String.prototype, "includes", {
value: i,
configurable: !0,
writable: !0
}) : String.prototype.includes = i;
}(), String.prototype.startsWith || function() {
var e = function() {
try {
var e = {}, t = Object.defineProperty, n = t(e, e, e) && t;
} catch (e) {}
return n;
}(), t = {}.toString, n = function(e) {
if (null == this) throw new TypeError();
var n = String(this);
if (e && "[object RegExp]" == t.call(e)) throw new TypeError();
var i = n.length, r = String(e), o = r.length, a = arguments.length > 1 ? arguments[1] : void 0, s = a ? Number(a) : 0;
s != s && (s = 0);
var l = Math.min(Math.max(s, 0), i);
if (o + l > i) return !1;
for (var c = -1; ++c < o; ) if (n.charCodeAt(l + c) != r.charCodeAt(c)) return !1;
return !0;
};
e ? e(String.prototype, "startsWith", {
value: n,
configurable: !0,
writable: !0
}) : String.prototype.startsWith = n;
}(), Object.keys || (Object.keys = function(e, t, n) {
n = [];
for (t in e) n.hasOwnProperty.call(e, t) && n.push(t);
return n;
});
var i = {
useDefault: !1,
_set: e.valHooks.select.set
};
e.valHooks.select.set = function(t, n) {
return n && !i.useDefault && e(t).data("selected", !0), i._set.apply(this, arguments);
};
var r = null, o = function() {
try {
return new Event("change"), !0;
} catch (e) {
return !1;
}
}();
e.fn.triggerNative = function(e) {
var t, n = this[0];
n.dispatchEvent ? (o ? t = new Event(e, {
bubbles: !0
}) : (t = document.createEvent("Event")).initEvent(e, !0, !1), n.dispatchEvent(t)) : n.fireEvent ? ((t = document.createEventObject()).eventType = e, n.fireEvent("on" + e, t)) : this.trigger(e);
}, e.expr.pseudos.icontains = function(t, n, i) {
var r = e(t).find("a");
return (r.data("tokens") || r.text()).toString().toUpperCase().includes(i[3].toUpperCase());
}, e.expr.pseudos.ibegins = function(t, n, i) {
var r = e(t).find("a");
return (r.data("tokens") || r.text()).toString().toUpperCase().startsWith(i[3].toUpperCase());
}, e.expr.pseudos.aicontains = function(t, n, i) {
var r = e(t).find("a");
return (r.data("tokens") || r.data("normalizedText") || r.text()).toString().toUpperCase().includes(i[3].toUpperCase());
}, e.expr.pseudos.aibegins = function(t, n, i) {
var r = e(t).find("a");
return (r.data("tokens") || r.data("normalizedText") || r.text()).toString().toUpperCase().startsWith(i[3].toUpperCase());
};
var a = {
"&amp;": "&",
"&lt;": "<",
"&gt;": ">",
"&quot;": '"',
"&#x27;": "'",
"&#x60;": "`"
}, s = function(e) {
var t = function(t) {
return e[t];
}, n = "(?:" + Object.keys(e).join("|") + ")", i = RegExp(n), r = RegExp(n, "g");
return function(e) {
return e = null == e ? "" : "" + e, i.test(e) ? e.replace(r, t) : e;
};
}, l = s({
"&": "&amp;",
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&#x27;",
"`": "&#x60;"
}), c = s(a), u = function(t, n) {
i.useDefault || (e.valHooks.select.set = i._set, i.useDefault = !0), this.$element = e(t), this.$newElement = null, this.$button = null, this.$menu = null, this.$lis = null, this.options = n, null === this.options.title && (this.options.title = this.$element.attr("title"));
var r = this.options.windowPadding;
"number" == typeof r && (this.options.windowPadding = [ r, r, r, r ]), this.val = u.prototype.val, this.render = u.prototype.render, this.refresh = u.prototype.refresh, this.setStyle = u.prototype.setStyle, this.selectAll = u.prototype.selectAll, this.deselectAll = u.prototype.deselectAll, this.destroy = u.prototype.destroy, this.remove = u.prototype.remove, this.show = u.prototype.show, this.hide = u.prototype.hide, this.init();
};
u.VERSION = "1.12.4", u.DEFAULTS = {
noneSelectedText: "Nothing selected",
noneResultsText: "No results matched {0}",
countSelectedText: function(e, t) {
return 1 == e ? "{0} item selected" : "{0} items selected";
},
maxOptionsText: function(e, t) {
return [ 1 == e ? "Limit reached ({n} item max)" : "Limit reached ({n} items max)", 1 == t ? "Group limit reached ({n} item max)" : "Group limit reached ({n} items max)" ];
},
selectAllText: "Select All",
deselectAllText: "Deselect All",
doneButton: !1,
doneButtonText: "Close",
multipleSeparator: ", ",
styleBase: "btn",
style: "btn-default",
size: "auto",
title: null,
selectedTextFormat: "values",
width: !1,
container: !1,
hideDisabled: !1,
showSubtext: !1,
showIcon: !0,
showContent: !0,
dropupAuto: !0,
header: !1,
liveSearch: !1,
liveSearchPlaceholder: null,
liveSearchNormalize: !1,
liveSearchStyle: "contains",
actionsBox: !1,
iconBase: "glyphicon",
tickIcon: "glyphicon-ok",
showTick: !1,
template: {
caret: '<span class="caret"></span>'
},
maxOptions: !1,
mobile: !1,
selectOnTab: !1,
dropdownAlignRight: !1,
windowPadding: 0
}, u.prototype = {
constructor: u,
init: function() {
var t = this, n = this.$element.attr("id");
this.$element.addClass("bs-select-hidden"), this.liObj = {}, this.multiple = this.$element.prop("multiple"), this.autofocus = this.$element.prop("autofocus"), this.$newElement = this.createView(), this.$element.after(this.$newElement).appendTo(this.$newElement), this.$button = this.$newElement.children("button"), this.$menu = this.$newElement.children(".dropdown-menu"), this.$menuInner = this.$menu.children(".inner"), this.$searchbox = this.$menu.find("input"), this.$element.removeClass("bs-select-hidden"), !0 === this.options.dropdownAlignRight && this.$menu.addClass("dropdown-menu-right"), void 0 !== n && (this.$button.attr("data-id", n), e('label[for="' + n + '"]').click(function(e) {
e.preventDefault(), t.$button.focus();
})), this.checkDisabled(), this.clickListener(), this.options.liveSearch && this.liveSearchListener(), this.render(), this.setStyle(), this.setWidth(), this.options.container && this.selectPosition(), this.$menu.data("this", this), this.$newElement.data("this", this), this.options.mobile && this.mobile(), this.$newElement.on({
"hide.bs.dropdown": function(e) {
t.$menuInner.attr("aria-expanded", !1), t.$element.trigger("hide.bs.select", e);
},
"hidden.bs.dropdown": function(e) {
t.$element.trigger("hidden.bs.select", e);
},
"show.bs.dropdown": function(e) {
t.$menuInner.attr("aria-expanded", !0), t.$element.trigger("show.bs.select", e);
},
"shown.bs.dropdown": function(e) {
t.$element.trigger("shown.bs.select", e);
}
}), t.$element[0].hasAttribute("required") && this.$element.on("invalid", function() {
t.$button.addClass("bs-invalid"), t.$element.on({
"focus.bs.select": function() {
t.$button.focus(), t.$element.off("focus.bs.select");
},
"shown.bs.select": function() {
t.$element.val(t.$element.val()).off("shown.bs.select");
},
"rendered.bs.select": function() {
this.validity.valid && t.$button.removeClass("bs-invalid"), t.$element.off("rendered.bs.select");
}
}), t.$button.on("blur.bs.select", function() {
t.$element.focus().blur(), t.$button.off("blur.bs.select");
});
}), setTimeout(function() {
t.$element.trigger("loaded.bs.select");
});
},
createDropdown: function() {
var t = this.multiple || this.options.showTick ? " show-tick" : "", n = this.$element.parent().hasClass("input-group") ? " input-group-btn" : "", i = this.autofocus ? " autofocus" : "", r = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>" : "", o = this.options.liveSearch ? '<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"' + (null === this.options.liveSearchPlaceholder ? "" : ' placeholder="' + l(this.options.liveSearchPlaceholder) + '"') + ' role="textbox" aria-label="Search"></div>' : "", a = this.multiple && this.options.actionsBox ? '<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">' + this.options.selectAllText + '</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">' + this.options.deselectAllText + "</button></div></div>" : "", s = this.multiple && this.options.doneButton ? '<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">' + this.options.doneButtonText + "</button></div></div>" : "", c = '<div class="btn-group bootstrap-select' + t + n + '"><button type="button" class="' + this.options.styleBase + ' dropdown-toggle" data-toggle="dropdown"' + i + ' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">' + this.options.template.caret + '</span></button><div class="dropdown-menu open" role="combobox">' + r + o + a + '<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>' + s + "</div></div>";
return e(c);
},
createView: function() {
var e = this.createDropdown(), t = this.createLi();
return e.find("ul")[0].innerHTML = t, e;
},
reloadLi: function() {
var e = this.createLi();
this.$menuInner[0].innerHTML = e;
},
createLi: function() {
var n = this, i = [], r = 0, o = document.createElement("option"), a = -1, s = function(e, t, n, i) {
return "<li" + (void 0 !== n && "" !== n ? ' class="' + n + '"' : "") + (void 0 !== t && null !== t ? ' data-original-index="' + t + '"' : "") + (void 0 !== i && null !== i ? 'data-optgroup="' + i + '"' : "") + ">" + e + "</li>";
}, c = function(i, r, o, a) {
return '<a tabindex="0"' + (void 0 !== r ? ' class="' + r + '"' : "") + (o ? ' style="' + o + '"' : "") + (n.options.liveSearchNormalize ? ' data-normalized-text="' + t(l(e(i).html())) + '"' : "") + (void 0 !== a || null !== a ? ' data-tokens="' + a + '"' : "") + ' role="option">' + i + '<span class="' + n.options.iconBase + " " + n.options.tickIcon + ' check-mark"></span></a>';
};
if (this.options.title && !this.multiple && (a--, !this.$element.find(".bs-title-option").length)) {
var u = this.$element[0];
o.className = "bs-title-option", o.innerHTML = this.options.title, o.value = "", u.insertBefore(o, u.firstChild), void 0 === e(u.options[u.selectedIndex]).attr("selected") && void 0 === this.$element.data("selected") && (o.selected = !0);
}
var d = this.$element.find("option");
return d.each(function(t) {
var o = e(this);
if (a++, !o.hasClass("bs-title-option")) {
var u, h = this.className || "", f = l(this.style.cssText), p = o.data("content") ? o.data("content") : o.html(), g = o.data("tokens") ? o.data("tokens") : null, m = void 0 !== o.data("subtext") ? '<small class="text-muted">' + o.data("subtext") + "</small>" : "", v = void 0 !== o.data("icon") ? '<span class="' + n.options.iconBase + " " + o.data("icon") + '"></span> ' : "", y = o.parent(), b = "OPTGROUP" === y[0].tagName, _ = b && y[0].disabled, w = this.disabled || _;
if ("" !== v && w && (v = "<span>" + v + "</span>"), n.options.hideDisabled && (w && !b || _)) return u = o.data("prevHiddenIndex"), o.next().data("prevHiddenIndex", void 0 !== u ? u : t), void a--;
if (o.data("content") || (p = v + '<span class="text">' + p + m + "</span>"), b && !0 !== o.data("divider")) {
if (n.options.hideDisabled && w) {
if (void 0 === y.data("allOptionsDisabled")) {
var C = y.children();
y.data("allOptionsDisabled", C.filter(":disabled").length === C.length);
}
if (y.data("allOptionsDisabled")) return void a--;
}
var x = " " + y[0].className || "";
if (0 === o.index()) {
r += 1;
var S = y[0].label, $ = void 0 !== y.data("subtext") ? '<small class="text-muted">' + y.data("subtext") + "</small>" : "";
S = (y.data("icon") ? '<span class="' + n.options.iconBase + " " + y.data("icon") + '"></span> ' : "") + '<span class="text">' + l(S) + $ + "</span>", 0 !== t && i.length > 0 && (a++, i.push(s("", null, "divider", r + "div"))), a++, i.push(s(S, null, "dropdown-header" + x, r));
}
if (n.options.hideDisabled && w) return void a--;
i.push(s(c(p, "opt " + h + x, f, g), t, "", r));
} else if (!0 === o.data("divider")) i.push(s("", t, "divider")); else if (!0 === o.data("hidden")) u = o.data("prevHiddenIndex"), o.next().data("prevHiddenIndex", void 0 !== u ? u : t), i.push(s(c(p, h, f, g), t, "hidden is-hidden")); else {
var A = this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName;
if (!A && n.options.hideDisabled && void 0 !== (u = o.data("prevHiddenIndex"))) {
var k = d.eq(u)[0].previousElementSibling;
k && "OPTGROUP" === k.tagName && !k.disabled && (A = !0);
}
A && (a++, i.push(s("", null, "divider", r + "div"))), i.push(s(c(p, h, f, g), t));
}
n.liObj[t] = a;
}
}), this.multiple || 0 !== this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected"), i.join("");
},
findLis: function() {
return null == this.$lis && (this.$lis = this.$menu.find("li")), this.$lis;
},
render: function(t) {
var n, i = this, r = this.$element.find("option");
!1 !== t && r.each(function(e) {
var t = i.findLis().eq(i.liObj[e]);
i.setDisabled(e, this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled, t), i.setSelected(e, this.selected, t);
}), this.togglePlaceholder(), this.tabIndex();
var o = r.map(function() {
if (this.selected) {
if (i.options.hideDisabled && (this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled)) return;
var t, n = e(this), r = n.data("icon") && i.options.showIcon ? '<i class="' + i.options.iconBase + " " + n.data("icon") + '"></i> ' : "";
return t = i.options.showSubtext && n.data("subtext") && !i.multiple ? ' <small class="text-muted">' + n.data("subtext") + "</small>" : "", void 0 !== n.attr("title") ? n.attr("title") : n.data("content") && i.options.showContent ? n.data("content").toString() : r + n.html() + t;
}
}).toArray(), a = this.multiple ? o.join(this.options.multipleSeparator) : o[0];
if (this.multiple && this.options.selectedTextFormat.indexOf("count") > -1) {
var s = this.options.selectedTextFormat.split(">");
if (s.length > 1 && o.length > s[1] || 1 == s.length && o.length >= 2) {
n = this.options.hideDisabled ? ", [disabled]" : "";
var l = r.not('[data-divider="true"], [data-hidden="true"]' + n).length;
a = ("function" == typeof this.options.countSelectedText ? this.options.countSelectedText(o.length, l) : this.options.countSelectedText).replace("{0}", o.length.toString()).replace("{1}", l.toString());
}
}
void 0 == this.options.title && (this.options.title = this.$element.attr("title")), "static" == this.options.selectedTextFormat && (a = this.options.title), a || (a = void 0 !== this.options.title ? this.options.title : this.options.noneSelectedText), this.$button.attr("title", c(e.trim(a.replace(/<[^>]*>?/g, "")))), this.$button.children(".filter-option").html(a), this.$element.trigger("rendered.bs.select");
},
setStyle: function(e, t) {
this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, ""));
var n = e || this.options.style;
"add" == t ? this.$button.addClass(n) : "remove" == t ? this.$button.removeClass(n) : (this.$button.removeClass(this.options.style), this.$button.addClass(n));
},
liHeight: function(t) {
if (t || !1 !== this.options.size && !this.sizeInfo) {
var n = document.createElement("div"), i = document.createElement("div"), r = document.createElement("ul"), o = document.createElement("li"), a = document.createElement("li"), s = document.createElement("a"), l = document.createElement("span"), c = this.options.header && this.$menu.find(".popover-title").length > 0 ? this.$menu.find(".popover-title")[0].cloneNode(!0) : null, u = this.options.liveSearch ? document.createElement("div") : null, d = this.options.actionsBox && this.multiple && this.$menu.find(".bs-actionsbox").length > 0 ? this.$menu.find(".bs-actionsbox")[0].cloneNode(!0) : null, h = this.options.doneButton && this.multiple && this.$menu.find(".bs-donebutton").length > 0 ? this.$menu.find(".bs-donebutton")[0].cloneNode(!0) : null;
if (l.className = "text", n.className = this.$menu[0].parentNode.className + " open", i.className = "dropdown-menu open", r.className = "dropdown-menu inner", o.className = "divider", l.appendChild(document.createTextNode("Inner text")), s.appendChild(l), a.appendChild(s), r.appendChild(a), r.appendChild(o), c && i.appendChild(c), u) {
var f = document.createElement("input");
u.className = "bs-searchbox", f.className = "form-control", u.appendChild(f), i.appendChild(u);
}
d && i.appendChild(d), i.appendChild(r), h && i.appendChild(h), n.appendChild(i), document.body.appendChild(n);
var p = s.offsetHeight, g = c ? c.offsetHeight : 0, m = u ? u.offsetHeight : 0, v = d ? d.offsetHeight : 0, y = h ? h.offsetHeight : 0, b = e(o).outerHeight(!0), _ = "function" == typeof getComputedStyle && getComputedStyle(i), w = _ ? null : e(i), C = {
vert: parseInt(_ ? _.paddingTop : w.css("paddingTop")) + parseInt(_ ? _.paddingBottom : w.css("paddingBottom")) + parseInt(_ ? _.borderTopWidth : w.css("borderTopWidth")) + parseInt(_ ? _.borderBottomWidth : w.css("borderBottomWidth")),
horiz: parseInt(_ ? _.paddingLeft : w.css("paddingLeft")) + parseInt(_ ? _.paddingRight : w.css("paddingRight")) + parseInt(_ ? _.borderLeftWidth : w.css("borderLeftWidth")) + parseInt(_ ? _.borderRightWidth : w.css("borderRightWidth"))
}, x = {
vert: C.vert + parseInt(_ ? _.marginTop : w.css("marginTop")) + parseInt(_ ? _.marginBottom : w.css("marginBottom")) + 2,
horiz: C.horiz + parseInt(_ ? _.marginLeft : w.css("marginLeft")) + parseInt(_ ? _.marginRight : w.css("marginRight")) + 2
};
document.body.removeChild(n), this.sizeInfo = {
liHeight: p,
headerHeight: g,
searchHeight: m,
actionsHeight: v,
doneButtonHeight: y,
dividerHeight: b,
menuPadding: C,
menuExtras: x
};
}
},
setSize: function() {
if (this.findLis(), this.liHeight(), this.options.header && this.$menu.css("padding-top", 0), !1 !== this.options.size) {
var t, n, i, r, o, a, s, l, c = this, u = this.$menu, d = this.$menuInner, h = e(window), f = this.$newElement[0].offsetHeight, p = this.$newElement[0].offsetWidth, g = this.sizeInfo.liHeight, m = this.sizeInfo.headerHeight, v = this.sizeInfo.searchHeight, y = this.sizeInfo.actionsHeight, b = this.sizeInfo.doneButtonHeight, _ = this.sizeInfo.dividerHeight, w = this.sizeInfo.menuPadding, C = this.sizeInfo.menuExtras, x = this.options.hideDisabled ? ".disabled" : "", S = function() {
var t, n = c.$newElement.offset(), i = e(c.options.container);
c.options.container && !i.is("body") ? ((t = i.offset()).top += parseInt(i.css("borderTopWidth")), t.left += parseInt(i.css("borderLeftWidth"))) : t = {
top: 0,
left: 0
};
var r = c.options.windowPadding;
o = n.top - t.top - h.scrollTop(), a = h.height() - o - f - t.top - r[2], s = n.left - t.left - h.scrollLeft(), l = h.width() - s - p - t.left - r[1], o -= r[0], s -= r[3];
};
if (S(), "auto" === this.options.size) {
var $ = function() {
var h, f = function(t, n) {
return function(i) {
return n ? i.classList ? i.classList.contains(t) : e(i).hasClass(t) : !(i.classList ? i.classList.contains(t) : e(i).hasClass(t));
};
}, _ = c.$menuInner[0].getElementsByTagName("li"), x = Array.prototype.filter ? Array.prototype.filter.call(_, f("hidden", !1)) : c.$lis.not(".hidden"), $ = Array.prototype.filter ? Array.prototype.filter.call(x, f("dropdown-header", !0)) : x.filter(".dropdown-header");
S(), t = a - C.vert, n = l - C.horiz, c.options.container ? (u.data("height") || u.data("height", u.height()), i = u.data("height"), u.data("width") || u.data("width", u.width()), r = u.data("width")) : (i = u.height(), r = u.width()), c.options.dropupAuto && c.$newElement.toggleClass("dropup", o > a && t - C.vert < i), c.$newElement.hasClass("dropup") && (t = o - C.vert), "auto" === c.options.dropdownAlignRight && u.toggleClass("dropdown-menu-right", s > l && n - C.horiz < r - p), h = x.length + $.length > 3 ? 3 * g + C.vert - 2 : 0, u.css({
"max-height": t + "px",
overflow: "hidden",
"min-height": h + m + v + y + b + "px"
}), d.css({
"max-height": t - m - v - y - b - w.vert + "px",
"overflow-y": "auto",
"min-height": Math.max(h - w.vert, 0) + "px"
});
};
$(), this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize", $), h.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize", $);
} else if (this.options.size && "auto" != this.options.size && this.$lis.not(x).length > this.options.size) {
var A = this.$lis.not(".divider").not(x).children().slice(0, this.options.size).last().parent().index(), k = this.$lis.slice(0, A + 1).filter(".divider").length;
t = g * this.options.size + k * _ + w.vert, c.options.container ? (u.data("height") || u.data("height", u.height()), i = u.data("height")) : i = u.height(), c.options.dropupAuto && this.$newElement.toggleClass("dropup", o > a && t - C.vert < i), u.css({
"max-height": t + m + v + y + b + "px",
overflow: "hidden",
"min-height": ""
}), d.css({
"max-height": t - w.vert + "px",
"overflow-y": "auto",
"min-height": ""
});
}
}
},
setWidth: function() {
if ("auto" === this.options.width) {
this.$menu.css("min-width", "0");
var e = this.$menu.parent().clone().appendTo("body"), t = this.options.container ? this.$newElement.clone().appendTo("body") : e, n = e.children(".dropdown-menu").outerWidth(), i = t.css("width", "auto").children("button").outerWidth();
e.remove(), t.remove(), this.$newElement.css("width", Math.max(n, i) + "px");
} else "fit" === this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", ""));
this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width");
},
selectPosition: function() {
this.$bsContainer = e('<div class="bs-container" />');
var t, n, i, r = this, o = e(this.options.container), a = function(e) {
r.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass("dropup", e.hasClass("dropup")), t = e.offset(), o.is("body") ? n = {
top: 0,
left: 0
} : ((n = o.offset()).top += parseInt(o.css("borderTopWidth")) - o.scrollTop(), n.left += parseInt(o.css("borderLeftWidth")) - o.scrollLeft()), i = e.hasClass("dropup") ? 0 : e[0].offsetHeight, r.$bsContainer.css({
top: t.top - n.top + i,
left: t.left - n.left,
width: e[0].offsetWidth
});
};
this.$button.on("click", function() {
var t = e(this);
r.isDisabled() || (a(r.$newElement), r.$bsContainer.appendTo(r.options.container).toggleClass("open", !t.hasClass("open")).append(r.$menu));
}), e(window).on("resize scroll", function() {
a(r.$newElement);
}), this.$element.on("hide.bs.select", function() {
r.$menu.data("height", r.$menu.height()), r.$bsContainer.detach();
});
},
setSelected: function(e, t, n) {
n || (this.togglePlaceholder(), n = this.findLis().eq(this.liObj[e])), n.toggleClass("selected", t).find("a").attr("aria-selected", t);
},
setDisabled: function(e, t, n) {
n || (n = this.findLis().eq(this.liObj[e])), t ? n.addClass("disabled").children("a").attr("href", "#").attr("tabindex", -1).attr("aria-disabled", !0) : n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex", 0).attr("aria-disabled", !1);
},
isDisabled: function() {
return this.$element[0].disabled;
},
checkDisabled: function() {
var e = this;
this.isDisabled() ? (this.$newElement.addClass("disabled"), this.$button.addClass("disabled").attr("tabindex", -1).attr("aria-disabled", !0)) : (this.$button.hasClass("disabled") && (this.$newElement.removeClass("disabled"), this.$button.removeClass("disabled").attr("aria-disabled", !1)), -1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex")), this.$button.click(function() {
return !e.isDisabled();
});
},
togglePlaceholder: function() {
var e = this.$element.val();
this.$button.toggleClass("bs-placeholder", null === e || "" === e || e.constructor === Array && 0 === e.length);
},
tabIndex: function() {
this.$element.data("tabindex") !== this.$element.attr("tabindex") && -98 !== this.$element.attr("tabindex") && "-98" !== this.$element.attr("tabindex") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex"))), this.$element.attr("tabindex", -98);
},
clickListener: function() {
var t = this, n = e(document);
n.data("spaceSelect", !1), this.$button.on("keyup", function(e) {
/(32)/.test(e.keyCode.toString(10)) && n.data("spaceSelect") && (e.preventDefault(), n.data("spaceSelect", !1));
}), this.$button.on("click", function() {
t.setSize();
}), this.$element.on("shown.bs.select", function() {
if (t.options.liveSearch || t.multiple) {
if (!t.multiple) {
var e = t.liObj[t.$element[0].selectedIndex];
if ("number" != typeof e || !1 === t.options.size) return;
var n = t.$lis.eq(e)[0].offsetTop - t.$menuInner[0].offsetTop;
n = n - t.$menuInner[0].offsetHeight / 2 + t.sizeInfo.liHeight / 2, t.$menuInner[0].scrollTop = n;
}
} else t.$menuInner.find(".selected a").focus();
}), this.$menuInner.on("click", "li a", function(n) {
var i = e(this), o = i.parent().data("originalIndex"), a = t.$element.val(), s = t.$element.prop("selectedIndex"), l = !0;
if (t.multiple && 1 !== t.options.maxOptions && n.stopPropagation(), n.preventDefault(), !t.isDisabled() && !i.parent().hasClass("disabled")) {
var c = t.$element.find("option"), u = c.eq(o), d = u.prop("selected"), h = u.parent("optgroup"), f = t.options.maxOptions, p = h.data("maxOptions") || !1;
if (t.multiple) {
if (u.prop("selected", !d), t.setSelected(o, !d), i.blur(), !1 !== f || !1 !== p) {
var g = f < c.filter(":selected").length, m = p < h.find("option:selected").length;
if (f && g || p && m) if (f && 1 == f) c.prop("selected", !1), u.prop("selected", !0), t.$menuInner.find(".selected").removeClass("selected"), t.setSelected(o, !0); else if (p && 1 == p) {
h.find("option:selected").prop("selected", !1), u.prop("selected", !0);
var v = i.parent().data("optgroup");
t.$menuInner.find('[data-optgroup="' + v + '"]').removeClass("selected"), t.setSelected(o, !0);
} else {
var y = "string" == typeof t.options.maxOptionsText ? [ t.options.maxOptionsText, t.options.maxOptionsText ] : t.options.maxOptionsText, b = "function" == typeof y ? y(f, p) : y, _ = b[0].replace("{n}", f), w = b[1].replace("{n}", p), C = e('<div class="notify"></div>');
b[2] && (_ = _.replace("{var}", b[2][f > 1 ? 0 : 1]), w = w.replace("{var}", b[2][p > 1 ? 0 : 1])), u.prop("selected", !1), t.$menu.append(C), f && g && (C.append(e("<div>" + _ + "</div>")), l = !1, t.$element.trigger("maxReached.bs.select")), p && m && (C.append(e("<div>" + w + "</div>")), l = !1, t.$element.trigger("maxReachedGrp.bs.select")), setTimeout(function() {
t.setSelected(o, !1);
}, 10), C.delay(750).fadeOut(300, function() {
e(this).remove();
});
}
}
} else c.prop("selected", !1), u.prop("selected", !0), t.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected", !1), t.setSelected(o, !0);
!t.multiple || t.multiple && 1 === t.options.maxOptions ? t.$button.focus() : t.options.liveSearch && t.$searchbox.focus(), l && (a != t.$element.val() && t.multiple || s != t.$element.prop("selectedIndex") && !t.multiple) && (r = [ o, u.prop("selected"), d ], t.$element.triggerNative("change"));
}
}), this.$menu.on("click", "li.disabled a, .popover-title, .popover-title :not(.close)", function(n) {
n.currentTarget == this && (n.preventDefault(), n.stopPropagation(), t.options.liveSearch && !e(n.target).hasClass("close") ? t.$searchbox.focus() : t.$button.focus());
}), this.$menuInner.on("click", ".divider, .dropdown-header", function(e) {
e.preventDefault(), e.stopPropagation(), t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus();
}), this.$menu.on("click", ".popover-title .close", function() {
t.$button.click();
}), this.$searchbox.on("click", function(e) {
e.stopPropagation();
}), this.$menu.on("click", ".actions-btn", function(n) {
t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus(), n.preventDefault(), n.stopPropagation(), e(this).hasClass("bs-select-all") ? t.selectAll() : t.deselectAll();
}), this.$element.change(function() {
t.render(!1), t.$element.trigger("changed.bs.select", r), r = null;
});
},
liveSearchListener: function() {
var n = this, i = e('<li class="no-results"></li>');
this.$button.on("click.dropdown.data-api", function() {
n.$menuInner.find(".active").removeClass("active"), n.$searchbox.val() && (n.$searchbox.val(""), n.$lis.not(".is-hidden").removeClass("hidden"), i.parent().length && i.remove()), n.multiple || n.$menuInner.find(".selected").addClass("active"), setTimeout(function() {
n.$searchbox.focus();
}, 10);
}), this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api", function(e) {
e.stopPropagation();
}), this.$searchbox.on("input propertychange", function() {
if (n.$lis.not(".is-hidden").removeClass("hidden"), n.$lis.filter(".active").removeClass("active"), i.remove(), n.$searchbox.val()) {
var r, o = n.$lis.not(".is-hidden, .divider, .dropdown-header");
if ((r = n.options.liveSearchNormalize ? o.not(":a" + n._searchStyle() + '("' + t(n.$searchbox.val()) + '")') : o.not(":" + n._searchStyle() + '("' + n.$searchbox.val() + '")')).length === o.length) i.html(n.options.noneResultsText.replace("{0}", '"' + l(n.$searchbox.val()) + '"')), n.$menuInner.append(i), n.$lis.addClass("hidden"); else {
r.addClass("hidden");
var a, s = n.$lis.not(".hidden");
s.each(function(t) {
var n = e(this);
n.hasClass("divider") ? void 0 === a ? n.addClass("hidden") : (a && a.addClass("hidden"), a = n) : n.hasClass("dropdown-header") && s.eq(t + 1).data("optgroup") !== n.data("optgroup") ? n.addClass("hidden") : a = null;
}), a && a.addClass("hidden"), o.not(".hidden").first().addClass("active"), n.$menuInner.scrollTop(0);
}
}
});
},
_searchStyle: function() {
return {
begins: "ibegins",
startsWith: "ibegins"
}[this.options.liveSearchStyle] || "icontains";
},
val: function(e) {
return void 0 !== e ? (this.$element.val(e), this.render(), this.$element) : this.$element.val();
},
changeAll: function(t) {
if (this.multiple) {
void 0 === t && (t = !0), this.findLis();
var n = this.$element.find("option"), i = this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"), r = i.length, o = [];
if (t) {
if (i.filter(".selected").length === i.length) return;
} else if (0 === i.filter(".selected").length) return;
i.toggleClass("selected", t);
for (var a = 0; a < r; a++) {
var s = i[a].getAttribute("data-original-index");
o[o.length] = n.eq(s)[0];
}
e(o).prop("selected", t), this.render(!1), this.togglePlaceholder(), this.$element.triggerNative("change");
}
},
selectAll: function() {
return this.changeAll(!0);
},
deselectAll: function() {
return this.changeAll(!1);
},
toggle: function(e) {
(e = e || window.event) && e.stopPropagation(), this.$button.trigger("click");
},
keydown: function(t) {
var n, i, r, o, a = e(this), s = (a.is("input") ? a.parent().parent() : a.parent()).data("this"), l = ":not(.disabled, .hidden, .dropdown-header, .divider)", c = {
32: " ",
48: "0",
49: "1",
50: "2",
51: "3",
52: "4",
53: "5",
54: "6",
55: "7",
56: "8",
57: "9",
59: ";",
65: "a",
66: "b",
67: "c",
68: "d",
69: "e",
70: "f",
71: "g",
72: "h",
73: "i",
74: "j",
75: "k",
76: "l",
77: "m",
78: "n",
79: "o",
80: "p",
81: "q",
82: "r",
83: "s",
84: "t",
85: "u",
86: "v",
87: "w",
88: "x",
89: "y",
90: "z",
96: "0",
97: "1",
98: "2",
99: "3",
100: "4",
101: "5",
102: "6",
103: "7",
104: "8",
105: "9"
};
if (!(o = s.$newElement.hasClass("open")) && (t.keyCode >= 48 && t.keyCode <= 57 || t.keyCode >= 96 && t.keyCode <= 105 || t.keyCode >= 65 && t.keyCode <= 90)) return s.options.container ? s.$button.trigger("click") : (s.setSize(), s.$menu.parent().addClass("open"), o = !0), void s.$searchbox.focus();
if (s.options.liveSearch && /(^9$|27)/.test(t.keyCode.toString(10)) && o && (t.preventDefault(), t.stopPropagation(), s.$menuInner.click(), s.$button.focus()), /(38|40)/.test(t.keyCode.toString(10))) {
if (!(n = s.$lis.filter(l)).length) return;
i = s.options.liveSearch ? n.index(n.filter(".active")) : n.index(n.find("a").filter(":focus").parent()), r = s.$menuInner.data("prevIndex"), 38 == t.keyCode ? (!s.options.liveSearch && i != r || -1 == i || i--, i < 0 && (i += n.length)) : 40 == t.keyCode && ((s.options.liveSearch || i == r) && i++, i %= n.length), s.$menuInner.data("prevIndex", i), s.options.liveSearch ? (t.preventDefault(), a.hasClass("dropdown-toggle") || (n.removeClass("active").eq(i).addClass("active").children("a").focus(), a.focus())) : n.eq(i).children("a").focus();
} else if (!a.is("input")) {
var u, d = [];
(n = s.$lis.filter(l)).each(function(n) {
e.trim(e(this).children("a").text().toLowerCase()).substring(0, 1) == c[t.keyCode] && d.push(n);
}), u = e(document).data("keycount"), u++, e(document).data("keycount", u), e.trim(e(":focus").text().toLowerCase()).substring(0, 1) != c[t.keyCode] ? (u = 1, e(document).data("keycount", u)) : u >= d.length && (e(document).data("keycount", 0), u > d.length && (u = 1)), n.eq(d[u - 1]).children("a").focus();
}
if ((/(13|32)/.test(t.keyCode.toString(10)) || /(^9$)/.test(t.keyCode.toString(10)) && s.options.selectOnTab) && o) {
if (/(32)/.test(t.keyCode.toString(10)) || t.preventDefault(), s.options.liveSearch) /(32)/.test(t.keyCode.toString(10)) || (s.$menuInner.find(".active a").click(), a.focus()); else {
var h = e(":focus");
h.click(), h.focus(), t.preventDefault(), e(document).data("spaceSelect", !0);
}
e(document).data("keycount", 0);
}
(/(^9$|27)/.test(t.keyCode.toString(10)) && o && (s.multiple || s.options.liveSearch) || /(27)/.test(t.keyCode.toString(10)) && !o) && (s.$menu.parent().removeClass("open"), s.options.container && s.$newElement.removeClass("open"), s.$button.focus());
},
mobile: function() {
this.$element.addClass("mobile-device");
},
refresh: function() {
this.$lis = null, this.liObj = {}, this.reloadLi(), this.render(), this.checkDisabled(), this.liHeight(!0), this.setStyle(), this.setWidth(), this.$lis && this.$searchbox.trigger("propertychange"), this.$element.trigger("refreshed.bs.select");
},
hide: function() {
this.$newElement.hide();
},
show: function() {
this.$newElement.show();
},
remove: function() {
this.$newElement.remove(), this.$element.remove();
},
destroy: function() {
this.$newElement.before(this.$element).remove(), this.$bsContainer ? this.$bsContainer.remove() : this.$menu.remove(), this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker");
}
};
var d = e.fn.selectpicker;
e.fn.selectpicker = n, e.fn.selectpicker.Constructor = u, e.fn.selectpicker.noConflict = function() {
return e.fn.selectpicker = d, this;
}, e(document).data("keycount", 0).on("keydown.bs.select", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input', u.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input', function(e) {
e.stopPropagation();
}), e(window).on("load.bs.select.data-api", function() {
e(".selectpicker").each(function() {
var t = e(this);
n.call(t, t.data());
});
});
}(e);
});

var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, windowIsDefined = "object" === ("undefined" == typeof window ? "undefined" : _typeof(window));

!function(e) {
if ("function" == typeof define && define.amd) define([ "jquery" ], e); else if ("object" === ("undefined" == typeof module ? "undefined" : _typeof(module)) && module.exports) {
var t;
try {
t = require("jquery");
} catch (e) {
t = null;
}
module.exports = e(t);
} else window && (window.Slider = e(window.jQuery));
}(function(e) {
windowIsDefined && !window.console && (window.console = {}), windowIsDefined && !window.console.log && (window.console.log = function() {}), windowIsDefined && !window.console.warn && (window.console.warn = function() {});
var t;
return function(e) {
"use strict";
function t() {}
var n = Array.prototype.slice;
!function(e) {
function i(t) {
t.prototype.option || (t.prototype.option = function(t) {
e.isPlainObject(t) && (this.options = e.extend(!0, this.options, t));
});
}
function r(t, i) {
e.fn[t] = function(r) {
if ("string" == typeof r) {
for (var a = n.call(arguments, 1), s = 0, l = this.length; s < l; s++) {
var c = this[s], u = e.data(c, t);
if (u) if (e.isFunction(u[r]) && "_" !== r.charAt(0)) {
var d = u[r].apply(u, a);
if (void 0 !== d && d !== u) return d;
} else o("no such method '" + r + "' for " + t + " instance"); else o("cannot call methods on " + t + " prior to initialization; attempted to call '" + r + "'");
}
return this;
}
var h = this.map(function() {
var n = e.data(this, t);
return n ? (n.option(r), n._init()) : (n = new i(this, r), e.data(this, t, n)), e(this);
});
return !h || h.length > 1 ? h : h[0];
};
}
if (e) {
var o = "undefined" == typeof console ? t : function(e) {
console.error(e);
};
e.bridget = function(e, t) {
i(t), r(e, t);
}, e.bridget;
}
}(e);
}(e), function(e) {
function n(t, n) {
this._state = {
value: null,
enabled: null,
offset: null,
size: null,
percentage: null,
inDrag: !1,
over: !1
}, this.ticksCallbackMap = {}, this.handleCallbackMap = {}, "string" == typeof t ? this.element = document.querySelector(t) : t instanceof HTMLElement && (this.element = t), n = n || {};
for (var i = Object.keys(this.defaultOptions), o = 0; o < i.length; o++) {
var a = i[o], s = n[a];
s = null !== (s = void 0 !== s ? s : function(e, t) {
var n = "data-slider-" + t.replace(/_/g, "-"), i = e.getAttribute(n);
try {
return JSON.parse(i);
} catch (e) {
return i;
}
}(this.element, a)) ? s : this.defaultOptions[a], this.options || (this.options = {}), this.options[a] = s;
}
"auto" === this.options.rtl && (this.options.rtl = "rtl" === window.getComputedStyle(this.element).direction), "vertical" !== this.options.orientation || "top" !== this.options.tooltip_position && "bottom" !== this.options.tooltip_position ? "horizontal" !== this.options.orientation || "left" !== this.options.tooltip_position && "right" !== this.options.tooltip_position || (this.options.tooltip_position = "top") : this.options.rtl ? this.options.tooltip_position = "left" : this.options.tooltip_position = "right";
var l, c, u, d, h, f = this.element.style.width, p = !1, g = this.element.parentNode;
if (this.sliderElem) p = !0; else {
this.sliderElem = document.createElement("div"), this.sliderElem.className = "slider";
var m = document.createElement("div");
m.className = "slider-track", (c = document.createElement("div")).className = "slider-track-low", (l = document.createElement("div")).className = "slider-selection", (u = document.createElement("div")).className = "slider-track-high", (d = document.createElement("div")).className = "slider-handle min-slider-handle", d.setAttribute("role", "slider"), d.setAttribute("aria-valuemin", this.options.min), d.setAttribute("aria-valuemax", this.options.max), (h = document.createElement("div")).className = "slider-handle max-slider-handle", h.setAttribute("role", "slider"), h.setAttribute("aria-valuemin", this.options.min), h.setAttribute("aria-valuemax", this.options.max), m.appendChild(c), m.appendChild(l), m.appendChild(u), this.rangeHighlightElements = [];
var v = this.options.rangeHighlights;
if (Array.isArray(v) && v.length > 0) for (var y = 0; y < v.length; y++) {
var b = document.createElement("div"), _ = v[y].class || "";
b.className = "slider-rangeHighlight slider-selection " + _, this.rangeHighlightElements.push(b), m.appendChild(b);
}
var w = Array.isArray(this.options.labelledby);
if (w && this.options.labelledby[0] && d.setAttribute("aria-labelledby", this.options.labelledby[0]), w && this.options.labelledby[1] && h.setAttribute("aria-labelledby", this.options.labelledby[1]), !w && this.options.labelledby && (d.setAttribute("aria-labelledby", this.options.labelledby), h.setAttribute("aria-labelledby", this.options.labelledby)), this.ticks = [], Array.isArray(this.options.ticks) && this.options.ticks.length > 0) {
for (this.ticksContainer = document.createElement("div"), this.ticksContainer.className = "slider-tick-container", o = 0; o < this.options.ticks.length; o++) {
var C = document.createElement("div");
if (C.className = "slider-tick", this.options.ticks_tooltip) {
var x = this._addTickListener(), S = x.addMouseEnter(this, C, o), $ = x.addMouseLeave(this, C);
this.ticksCallbackMap[o] = {
mouseEnter: S,
mouseLeave: $
};
}
this.ticks.push(C), this.ticksContainer.appendChild(C);
}
l.className += " tick-slider-selection";
}
if (this.tickLabels = [], Array.isArray(this.options.ticks_labels) && this.options.ticks_labels.length > 0) for (this.tickLabelContainer = document.createElement("div"), this.tickLabelContainer.className = "slider-tick-label-container", o = 0; o < this.options.ticks_labels.length; o++) {
var A = document.createElement("div"), k = 0 === this.options.ticks_positions.length, T = this.options.reversed && k ? this.options.ticks_labels.length - (o + 1) : o;
A.className = "slider-tick-label", A.innerHTML = this.options.ticks_labels[T], this.tickLabels.push(A), this.tickLabelContainer.appendChild(A);
}
var D = function(e) {
var t = document.createElement("div");
t.className = "tooltip-arrow";
var n = document.createElement("div");
n.className = "tooltip-inner", e.appendChild(t), e.appendChild(n);
}, E = document.createElement("div");
E.className = "tooltip tooltip-main", E.setAttribute("role", "presentation"), D(E);
var F = document.createElement("div");
F.className = "tooltip tooltip-min", F.setAttribute("role", "presentation"), D(F);
var M = document.createElement("div");
M.className = "tooltip tooltip-max", M.setAttribute("role", "presentation"), D(M), this.sliderElem.appendChild(m), this.sliderElem.appendChild(E), this.sliderElem.appendChild(F), this.sliderElem.appendChild(M), this.tickLabelContainer && this.sliderElem.appendChild(this.tickLabelContainer), this.ticksContainer && this.sliderElem.appendChild(this.ticksContainer), this.sliderElem.appendChild(d), this.sliderElem.appendChild(h), g.insertBefore(this.sliderElem, this.element), this.element.style.display = "none";
}
if (e && (this.$element = e(this.element), this.$sliderElem = e(this.sliderElem)), this.eventToCallbackMap = {}, this.sliderElem.id = this.options.id, this.touchCapable = "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch, this.touchX = 0, this.touchY = 0, this.tooltip = this.sliderElem.querySelector(".tooltip-main"), this.tooltipInner = this.tooltip.querySelector(".tooltip-inner"), this.tooltip_min = this.sliderElem.querySelector(".tooltip-min"), this.tooltipInner_min = this.tooltip_min.querySelector(".tooltip-inner"), this.tooltip_max = this.sliderElem.querySelector(".tooltip-max"), this.tooltipInner_max = this.tooltip_max.querySelector(".tooltip-inner"), r[this.options.scale] && (this.options.scale = r[this.options.scale]), !0 === p && (this._removeClass(this.sliderElem, "slider-horizontal"), this._removeClass(this.sliderElem, "slider-vertical"), this._removeClass(this.sliderElem, "slider-rtl"), this._removeClass(this.tooltip, "hide"), this._removeClass(this.tooltip_min, "hide"), 
this._removeClass(this.tooltip_max, "hide"), [ "left", "right", "top", "width", "height" ].forEach(function(e) {
this._removeProperty(this.trackLow, e), this._removeProperty(this.trackSelection, e), this._removeProperty(this.trackHigh, e);
}, this), [ this.handle1, this.handle2 ].forEach(function(e) {
this._removeProperty(e, "left"), this._removeProperty(e, "right"), this._removeProperty(e, "top");
}, this), [ this.tooltip, this.tooltip_min, this.tooltip_max ].forEach(function(e) {
this._removeProperty(e, "left"), this._removeProperty(e, "right"), this._removeProperty(e, "top"), this._removeProperty(e, "margin-left"), this._removeProperty(e, "margin-right"), this._removeProperty(e, "margin-top"), this._removeClass(e, "right"), this._removeClass(e, "left"), this._removeClass(e, "top");
}, this)), "vertical" === this.options.orientation ? (this._addClass(this.sliderElem, "slider-vertical"), this.stylePos = "top", this.mousePos = "pageY", this.sizePos = "offsetHeight") : (this._addClass(this.sliderElem, "slider-horizontal"), this.sliderElem.style.width = f, this.options.orientation = "horizontal", this.options.rtl ? this.stylePos = "right" : this.stylePos = "left", this.mousePos = "pageX", this.sizePos = "offsetWidth"), this.options.rtl && this._addClass(this.sliderElem, "slider-rtl"), this._setTooltipPosition(), Array.isArray(this.options.ticks) && this.options.ticks.length > 0 && (this.options.max = Math.max.apply(Math, this.options.ticks), this.options.min = Math.min.apply(Math, this.options.ticks)), Array.isArray(this.options.value) ? (this.options.range = !0, this._state.value = this.options.value) : this.options.range ? this._state.value = [ this.options.value, this.options.max ] : this._state.value = this.options.value, this.trackLow = c || this.trackLow, this.trackSelection = l || this.trackSelection, 
this.trackHigh = u || this.trackHigh, "none" === this.options.selection ? (this._addClass(this.trackLow, "hide"), this._addClass(this.trackSelection, "hide"), this._addClass(this.trackHigh, "hide")) : "after" !== this.options.selection && "before" !== this.options.selection || (this._removeClass(this.trackLow, "hide"), this._removeClass(this.trackSelection, "hide"), this._removeClass(this.trackHigh, "hide")), this.handle1 = d || this.handle1, this.handle2 = h || this.handle2, !0 === p) for (this._removeClass(this.handle1, "round triangle"), this._removeClass(this.handle2, "round triangle hide"), o = 0; o < this.ticks.length; o++) this._removeClass(this.ticks[o], "round triangle hide");
if (-1 !== [ "round", "triangle", "custom" ].indexOf(this.options.handle)) for (this._addClass(this.handle1, this.options.handle), this._addClass(this.handle2, this.options.handle), o = 0; o < this.ticks.length; o++) this._addClass(this.ticks[o], this.options.handle);
if (this._state.offset = this._offset(this.sliderElem), this._state.size = this.sliderElem[this.sizePos], this.setValue(this._state.value), this.handle1Keydown = this._keydown.bind(this, 0), this.handle1.addEventListener("keydown", this.handle1Keydown, !1), this.handle2Keydown = this._keydown.bind(this, 1), this.handle2.addEventListener("keydown", this.handle2Keydown, !1), this.mousedown = this._mousedown.bind(this), this.touchstart = this._touchstart.bind(this), this.touchmove = this._touchmove.bind(this), this.touchCapable) {
var I = !1;
try {
var P = Object.defineProperty({}, "passive", {
get: function() {
I = !0;
}
});
window.addEventListener("test", null, P);
} catch (e) {}
var L = !!I && {
passive: !0
};
this.sliderElem.addEventListener("touchstart", this.touchstart, L), this.sliderElem.addEventListener("touchmove", this.touchmove, L);
}
if (this.sliderElem.addEventListener("mousedown", this.mousedown, !1), this.resize = this._resize.bind(this), window.addEventListener("resize", this.resize, !1), "hide" === this.options.tooltip) this._addClass(this.tooltip, "hide"), this._addClass(this.tooltip_min, "hide"), this._addClass(this.tooltip_max, "hide"); else if ("always" === this.options.tooltip) this._showTooltip(), this._alwaysShowTooltip = !0; else {
if (this.showTooltip = this._showTooltip.bind(this), this.hideTooltip = this._hideTooltip.bind(this), this.options.ticks_tooltip) {
var O = this._addTickListener(), R = O.addMouseEnter(this, this.handle1), N = O.addMouseLeave(this, this.handle1);
this.handleCallbackMap.handle1 = {
mouseEnter: R,
mouseLeave: N
}, R = O.addMouseEnter(this, this.handle2), N = O.addMouseLeave(this, this.handle2), this.handleCallbackMap.handle2 = {
mouseEnter: R,
mouseLeave: N
};
} else this.sliderElem.addEventListener("mouseenter", this.showTooltip, !1), this.sliderElem.addEventListener("mouseleave", this.hideTooltip, !1);
this.handle1.addEventListener("focus", this.showTooltip, !1), this.handle1.addEventListener("blur", this.hideTooltip, !1), this.handle2.addEventListener("focus", this.showTooltip, !1), this.handle2.addEventListener("blur", this.hideTooltip, !1);
}
this.options.enabled ? this.enable() : this.disable();
}
var i = {
formatInvalidInputErrorMsg: function(e) {
return "Invalid input value '" + e + "' passed in";
},
callingContextNotSliderInstance: "Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"
}, r = {
linear: {
toValue: function(e) {
var t = e / 100 * (this.options.max - this.options.min), n = !0;
if (this.options.ticks_positions.length > 0) {
for (var i, r, o, a = 0, s = 1; s < this.options.ticks_positions.length; s++) if (e <= this.options.ticks_positions[s]) {
i = this.options.ticks[s - 1], o = this.options.ticks_positions[s - 1], r = this.options.ticks[s], a = this.options.ticks_positions[s];
break;
}
t = i + (e - o) / (a - o) * (r - i), n = !1;
}
var l = (n ? this.options.min : 0) + Math.round(t / this.options.step) * this.options.step;
return l < this.options.min ? this.options.min : l > this.options.max ? this.options.max : l;
},
toPercentage: function(e) {
if (this.options.max === this.options.min) return 0;
if (this.options.ticks_positions.length > 0) {
for (var t, n, i, r = 0, o = 0; o < this.options.ticks.length; o++) if (e <= this.options.ticks[o]) {
t = o > 0 ? this.options.ticks[o - 1] : 0, i = o > 0 ? this.options.ticks_positions[o - 1] : 0, n = this.options.ticks[o], r = this.options.ticks_positions[o];
break;
}
if (o > 0) return i + (e - t) / (n - t) * (r - i);
}
return 100 * (e - this.options.min) / (this.options.max - this.options.min);
}
},
logarithmic: {
toValue: function(e) {
var t = 0 === this.options.min ? 0 : Math.log(this.options.min), n = Math.log(this.options.max), i = Math.exp(t + (n - t) * e / 100);
return Math.round(i) === this.options.max ? this.options.max : (i = this.options.min + Math.round((i - this.options.min) / this.options.step) * this.options.step) < this.options.min ? this.options.min : i > this.options.max ? this.options.max : i;
},
toPercentage: function(e) {
if (this.options.max === this.options.min) return 0;
var t = Math.log(this.options.max), n = 0 === this.options.min ? 0 : Math.log(this.options.min);
return 100 * ((0 === e ? 0 : Math.log(e)) - n) / (t - n);
}
}
};
if (t = function(e, t) {
return n.call(this, e, t), this;
}, t.prototype = {
_init: function() {},
constructor: t,
defaultOptions: {
id: "",
min: 0,
max: 10,
step: 1,
precision: 0,
orientation: "horizontal",
value: 5,
range: !1,
selection: "before",
tooltip: "show",
tooltip_split: !1,
handle: "round",
reversed: !1,
rtl: "auto",
enabled: !0,
formatter: function(e) {
return Array.isArray(e) ? e[0] + " : " + e[1] : e;
},
natural_arrow_keys: !1,
ticks: [],
ticks_positions: [],
ticks_labels: [],
ticks_snap_bounds: 0,
ticks_tooltip: !1,
scale: "linear",
focus: !1,
tooltip_position: null,
labelledby: null,
rangeHighlights: []
},
getElement: function() {
return this.sliderElem;
},
getValue: function() {
return this.options.range ? this._state.value : this._state.value[0];
},
setValue: function(e, t, n) {
e || (e = 0);
var i = this.getValue();
this._state.value = this._validateInputValue(e);
var r = this._applyPrecision.bind(this);
this.options.range ? (this._state.value[0] = r(this._state.value[0]), this._state.value[1] = r(this._state.value[1]), this._state.value[0] = Math.max(this.options.min, Math.min(this.options.max, this._state.value[0])), this._state.value[1] = Math.max(this.options.min, Math.min(this.options.max, this._state.value[1]))) : (this._state.value = r(this._state.value), this._state.value = [ Math.max(this.options.min, Math.min(this.options.max, this._state.value)) ], this._addClass(this.handle2, "hide"), "after" === this.options.selection ? this._state.value[1] = this.options.max : this._state.value[1] = this.options.min), this.options.max > this.options.min ? this._state.percentage = [ this._toPercentage(this._state.value[0]), this._toPercentage(this._state.value[1]), 100 * this.options.step / (this.options.max - this.options.min) ] : this._state.percentage = [ 0, 0, 100 ], this._layout();
var o = this.options.range ? this._state.value : this._state.value[0];
return this._setDataVal(o), !0 === t && this._trigger("slide", o), i !== o && !0 === n && this._trigger("change", {
oldValue: i,
newValue: o
}), this;
},
destroy: function() {
this._removeSliderEventHandlers(), this.sliderElem.parentNode.removeChild(this.sliderElem), this.element.style.display = "", this._cleanUpEventCallbacksMap(), this.element.removeAttribute("data"), e && (this._unbindJQueryEventHandlers(), this.$element.removeData("slider"));
},
disable: function() {
return this._state.enabled = !1, this.handle1.removeAttribute("tabindex"), this.handle2.removeAttribute("tabindex"), this._addClass(this.sliderElem, "slider-disabled"), this._trigger("slideDisabled"), this;
},
enable: function() {
return this._state.enabled = !0, this.handle1.setAttribute("tabindex", 0), this.handle2.setAttribute("tabindex", 0), this._removeClass(this.sliderElem, "slider-disabled"), this._trigger("slideEnabled"), this;
},
toggle: function() {
return this._state.enabled ? this.disable() : this.enable(), this;
},
isEnabled: function() {
return this._state.enabled;
},
on: function(e, t) {
return this._bindNonQueryEventHandler(e, t), this;
},
off: function(t, n) {
e ? (this.$element.off(t, n), this.$sliderElem.off(t, n)) : this._unbindNonQueryEventHandler(t, n);
},
getAttribute: function(e) {
return e ? this.options[e] : this.options;
},
setAttribute: function(e, t) {
return this.options[e] = t, this;
},
refresh: function() {
return this._removeSliderEventHandlers(), n.call(this, this.element, this.options), e && e.data(this.element, "slider", this), this;
},
relayout: function() {
return this._resize(), this._layout(), this;
},
_removeSliderEventHandlers: function() {
if (this.handle1.removeEventListener("keydown", this.handle1Keydown, !1), this.handle2.removeEventListener("keydown", this.handle2Keydown, !1), this.options.ticks_tooltip) {
for (var e = this.ticksContainer.getElementsByClassName("slider-tick"), t = 0; t < e.length; t++) e[t].removeEventListener("mouseenter", this.ticksCallbackMap[t].mouseEnter, !1), e[t].removeEventListener("mouseleave", this.ticksCallbackMap[t].mouseLeave, !1);
this.handle1.removeEventListener("mouseenter", this.handleCallbackMap.handle1.mouseEnter, !1), this.handle2.removeEventListener("mouseenter", this.handleCallbackMap.handle2.mouseEnter, !1), this.handle1.removeEventListener("mouseleave", this.handleCallbackMap.handle1.mouseLeave, !1), this.handle2.removeEventListener("mouseleave", this.handleCallbackMap.handle2.mouseLeave, !1);
}
this.handleCallbackMap = null, this.ticksCallbackMap = null, this.showTooltip && (this.handle1.removeEventListener("focus", this.showTooltip, !1), this.handle2.removeEventListener("focus", this.showTooltip, !1)), this.hideTooltip && (this.handle1.removeEventListener("blur", this.hideTooltip, !1), this.handle2.removeEventListener("blur", this.hideTooltip, !1)), this.showTooltip && this.sliderElem.removeEventListener("mouseenter", this.showTooltip, !1), this.hideTooltip && this.sliderElem.removeEventListener("mouseleave", this.hideTooltip, !1), this.sliderElem.removeEventListener("touchstart", this.touchstart, !1), this.sliderElem.removeEventListener("touchmove", this.touchmove, !1), this.sliderElem.removeEventListener("mousedown", this.mousedown, !1), window.removeEventListener("resize", this.resize, !1);
},
_bindNonQueryEventHandler: function(e, t) {
void 0 === this.eventToCallbackMap[e] && (this.eventToCallbackMap[e] = []), this.eventToCallbackMap[e].push(t);
},
_unbindNonQueryEventHandler: function(e, t) {
var n = this.eventToCallbackMap[e];
if (void 0 !== n) for (var i = 0; i < n.length; i++) if (n[i] === t) {
n.splice(i, 1);
break;
}
},
_cleanUpEventCallbacksMap: function() {
for (var e = Object.keys(this.eventToCallbackMap), t = 0; t < e.length; t++) {
var n = e[t];
delete this.eventToCallbackMap[n];
}
},
_showTooltip: function() {
!1 === this.options.tooltip_split ? (this._addClass(this.tooltip, "in"), this.tooltip_min.style.display = "none", this.tooltip_max.style.display = "none") : (this._addClass(this.tooltip_min, "in"), this._addClass(this.tooltip_max, "in"), this.tooltip.style.display = "none"), this._state.over = !0;
},
_hideTooltip: function() {
!1 === this._state.inDrag && !0 !== this.alwaysShowTooltip && (this._removeClass(this.tooltip, "in"), this._removeClass(this.tooltip_min, "in"), this._removeClass(this.tooltip_max, "in")), this._state.over = !1;
},
_setToolTipOnMouseOver: function(e) {
function t(e, t) {
return t ? [ 100 - e.percentage[0], this.options.range ? 100 - e.percentage[1] : e.percentage[1] ] : [ e.percentage[0], e.percentage[1] ];
}
var n = this.options.formatter(e ? e.value[0] : this._state.value[0]), i = e ? t(e, this.options.reversed) : t(this._state, this.options.reversed);
this._setText(this.tooltipInner, n), this.tooltip.style[this.stylePos] = i[0] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px") : this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px");
},
_addTickListener: function() {
return {
addMouseEnter: function(e, t, n) {
var i = function() {
var t = e._state, i = n >= 0 ? n : this.attributes["aria-valuenow"].value, r = parseInt(i, 10);
t.value[0] = r, t.percentage[0] = e.options.ticks_positions[r], e._setToolTipOnMouseOver(t), e._showTooltip();
};
return t.addEventListener("mouseenter", i, !1), i;
},
addMouseLeave: function(e, t) {
var n = function() {
e._hideTooltip();
};
return t.addEventListener("mouseleave", n, !1), n;
}
};
},
_layout: function() {
var e;
if (e = this.options.reversed ? [ 100 - this._state.percentage[0], this.options.range ? 100 - this._state.percentage[1] : this._state.percentage[1] ] : [ this._state.percentage[0], this._state.percentage[1] ], this.handle1.style[this.stylePos] = e[0] + "%", this.handle1.setAttribute("aria-valuenow", this._state.value[0]), isNaN(this.options.formatter(this._state.value[0])) && this.handle1.setAttribute("aria-valuetext", this.options.formatter(this._state.value[0])), this.handle2.style[this.stylePos] = e[1] + "%", this.handle2.setAttribute("aria-valuenow", this._state.value[1]), isNaN(this.options.formatter(this._state.value[1])) && this.handle2.setAttribute("aria-valuetext", this.options.formatter(this._state.value[1])), this.rangeHighlightElements.length > 0 && Array.isArray(this.options.rangeHighlights) && this.options.rangeHighlights.length > 0) for (var t = 0; t < this.options.rangeHighlights.length; t++) {
var n = this._toPercentage(this.options.rangeHighlights[t].start), i = this._toPercentage(this.options.rangeHighlights[t].end);
if (this.options.reversed) {
var r = 100 - i;
i = 100 - n, n = r;
}
var o = this._createHighlightRange(n, i);
o ? "vertical" === this.options.orientation ? (this.rangeHighlightElements[t].style.top = o.start + "%", this.rangeHighlightElements[t].style.height = o.size + "%") : (this.options.rtl ? this.rangeHighlightElements[t].style.right = o.start + "%" : this.rangeHighlightElements[t].style.left = o.start + "%", this.rangeHighlightElements[t].style.width = o.size + "%") : this.rangeHighlightElements[t].style.display = "none";
}
if (Array.isArray(this.options.ticks) && this.options.ticks.length > 0) {
var a, s = "vertical" === this.options.orientation ? "height" : "width";
a = "vertical" === this.options.orientation ? "marginTop" : this.options.rtl ? "marginRight" : "marginLeft";
var l = this._state.size / (this.options.ticks.length - 1);
if (this.tickLabelContainer) {
var c = 0;
if (0 === this.options.ticks_positions.length) "vertical" !== this.options.orientation && (this.tickLabelContainer.style[a] = -l / 2 + "px"), c = this.tickLabelContainer.offsetHeight; else for (u = 0; u < this.tickLabelContainer.childNodes.length; u++) this.tickLabelContainer.childNodes[u].offsetHeight > c && (c = this.tickLabelContainer.childNodes[u].offsetHeight);
"horizontal" === this.options.orientation && (this.sliderElem.style.marginBottom = c + "px");
}
for (var u = 0; u < this.options.ticks.length; u++) {
var d = this.options.ticks_positions[u] || this._toPercentage(this.options.ticks[u]);
this.options.reversed && (d = 100 - d), this.ticks[u].style[this.stylePos] = d + "%", this._removeClass(this.ticks[u], "in-selection"), this.options.range ? d >= e[0] && d <= e[1] && this._addClass(this.ticks[u], "in-selection") : "after" === this.options.selection && d >= e[0] ? this._addClass(this.ticks[u], "in-selection") : "before" === this.options.selection && d <= e[0] && this._addClass(this.ticks[u], "in-selection"), this.tickLabels[u] && (this.tickLabels[u].style[s] = l + "px", "vertical" !== this.options.orientation && void 0 !== this.options.ticks_positions[u] ? (this.tickLabels[u].style.position = "absolute", this.tickLabels[u].style[this.stylePos] = d + "%", this.tickLabels[u].style[a] = -l / 2 + "px") : "vertical" === this.options.orientation && (this.options.rtl ? this.tickLabels[u].style.marginRight = this.sliderElem.offsetWidth + "px" : this.tickLabels[u].style.marginLeft = this.sliderElem.offsetWidth + "px", this.tickLabelContainer.style[a] = this.sliderElem.offsetWidth / 2 * -1 + "px"));
}
}
var h;
if (this.options.range) {
h = this.options.formatter(this._state.value), this._setText(this.tooltipInner, h), this.tooltip.style[this.stylePos] = (e[1] + e[0]) / 2 + "%", "vertical" === this.options.orientation ? this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px") : this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px");
var f = this.options.formatter(this._state.value[0]);
this._setText(this.tooltipInner_min, f);
var p = this.options.formatter(this._state.value[1]);
this._setText(this.tooltipInner_max, p), this.tooltip_min.style[this.stylePos] = e[0] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip_min, "margin-" + this.stylePos, -this.tooltip_min.offsetHeight / 2 + "px") : this._css(this.tooltip_min, "margin-" + this.stylePos, -this.tooltip_min.offsetWidth / 2 + "px"), this.tooltip_max.style[this.stylePos] = e[1] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip_max, "margin-" + this.stylePos, -this.tooltip_max.offsetHeight / 2 + "px") : this._css(this.tooltip_max, "margin-" + this.stylePos, -this.tooltip_max.offsetWidth / 2 + "px");
} else h = this.options.formatter(this._state.value[0]), this._setText(this.tooltipInner, h), this.tooltip.style[this.stylePos] = e[0] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px") : this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px");
if ("vertical" === this.options.orientation) this.trackLow.style.top = "0", this.trackLow.style.height = Math.min(e[0], e[1]) + "%", this.trackSelection.style.top = Math.min(e[0], e[1]) + "%", this.trackSelection.style.height = Math.abs(e[0] - e[1]) + "%", this.trackHigh.style.bottom = "0", this.trackHigh.style.height = 100 - Math.min(e[0], e[1]) - Math.abs(e[0] - e[1]) + "%"; else {
"right" === this.stylePos ? this.trackLow.style.right = "0" : this.trackLow.style.left = "0", this.trackLow.style.width = Math.min(e[0], e[1]) + "%", "right" === this.stylePos ? this.trackSelection.style.right = Math.min(e[0], e[1]) + "%" : this.trackSelection.style.left = Math.min(e[0], e[1]) + "%", this.trackSelection.style.width = Math.abs(e[0] - e[1]) + "%", "right" === this.stylePos ? this.trackHigh.style.left = "0" : this.trackHigh.style.right = "0", this.trackHigh.style.width = 100 - Math.min(e[0], e[1]) - Math.abs(e[0] - e[1]) + "%";
var g = this.tooltip_min.getBoundingClientRect(), m = this.tooltip_max.getBoundingClientRect();
"bottom" === this.options.tooltip_position ? g.right > m.left ? (this._removeClass(this.tooltip_max, "bottom"), this._addClass(this.tooltip_max, "top"), this.tooltip_max.style.top = "", this.tooltip_max.style.bottom = "22px") : (this._removeClass(this.tooltip_max, "top"), this._addClass(this.tooltip_max, "bottom"), this.tooltip_max.style.top = this.tooltip_min.style.top, this.tooltip_max.style.bottom = "") : g.right > m.left ? (this._removeClass(this.tooltip_max, "top"), this._addClass(this.tooltip_max, "bottom"), this.tooltip_max.style.top = "18px") : (this._removeClass(this.tooltip_max, "bottom"), this._addClass(this.tooltip_max, "top"), this.tooltip_max.style.top = this.tooltip_min.style.top);
}
},
_createHighlightRange: function(e, t) {
return this._isHighlightRange(e, t) ? e > t ? {
start: t,
size: e - t
} : {
start: e,
size: t - e
} : null;
},
_isHighlightRange: function(e, t) {
return 0 <= e && e <= 100 && 0 <= t && t <= 100;
},
_resize: function(e) {
this._state.offset = this._offset(this.sliderElem), this._state.size = this.sliderElem[this.sizePos], this._layout();
},
_removeProperty: function(e, t) {
e.style.removeProperty ? e.style.removeProperty(t) : e.style.removeAttribute(t);
},
_mousedown: function(e) {
if (!this._state.enabled) return !1;
this._state.offset = this._offset(this.sliderElem), this._state.size = this.sliderElem[this.sizePos];
var t = this._getPercentage(e);
if (this.options.range) {
var n = Math.abs(this._state.percentage[0] - t), i = Math.abs(this._state.percentage[1] - t);
this._state.dragged = n < i ? 0 : 1, this._adjustPercentageForRangeSliders(t);
} else this._state.dragged = 0;
this._state.percentage[this._state.dragged] = t, this._layout(), this.touchCapable && (document.removeEventListener("touchmove", this.mousemove, !1), document.removeEventListener("touchend", this.mouseup, !1)), this.mousemove && document.removeEventListener("mousemove", this.mousemove, !1), this.mouseup && document.removeEventListener("mouseup", this.mouseup, !1), this.mousemove = this._mousemove.bind(this), this.mouseup = this._mouseup.bind(this), this.touchCapable && (document.addEventListener("touchmove", this.mousemove, !1), document.addEventListener("touchend", this.mouseup, !1)), document.addEventListener("mousemove", this.mousemove, !1), document.addEventListener("mouseup", this.mouseup, !1), this._state.inDrag = !0;
var r = this._calculateValue();
return this._trigger("slideStart", r), this._setDataVal(r), this.setValue(r, !1, !0), e.returnValue = !1, this.options.focus && this._triggerFocusOnHandle(this._state.dragged), !0;
},
_touchstart: function(e) {
if (void 0 !== e.changedTouches) {
var t = e.changedTouches[0];
this.touchX = t.pageX, this.touchY = t.pageY;
} else this._mousedown(e);
},
_triggerFocusOnHandle: function(e) {
0 === e && this.handle1.focus(), 1 === e && this.handle2.focus();
},
_keydown: function(e, t) {
if (!this._state.enabled) return !1;
var n;
switch (t.keyCode) {
case 37:
case 40:
n = -1;
break;

case 39:
case 38:
n = 1;
}
if (n) {
if (this.options.natural_arrow_keys) {
var i = "vertical" === this.options.orientation && !this.options.reversed, r = "horizontal" === this.options.orientation && this.options.reversed;
(i || r) && (n = -n);
}
var o = this._state.value[e] + n * this.options.step, a = o / this.options.max * 100;
return this._state.keyCtrl = e, this.options.range && (this._adjustPercentageForRangeSliders(a), o = [ this._state.keyCtrl ? this._state.value[0] : o, this._state.keyCtrl ? o : this._state.value[1] ]), this._trigger("slideStart", o), this._setDataVal(o), this.setValue(o, !0, !0), this._setDataVal(o), this._trigger("slideStop", o), this._layout(), this._pauseEvent(t), delete this._state.keyCtrl, !1;
}
},
_pauseEvent: function(e) {
e.stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault(), e.cancelBubble = !0, e.returnValue = !1;
},
_mousemove: function(e) {
if (!this._state.enabled) return !1;
var t = this._getPercentage(e);
this._adjustPercentageForRangeSliders(t), this._state.percentage[this._state.dragged] = t, this._layout();
var n = this._calculateValue(!0);
return this.setValue(n, !0, !0), !1;
},
_touchmove: function(e) {
if (void 0 !== e.changedTouches) {
var t = e.changedTouches[0], n = t.pageX - this.touchX, i = t.pageY - this.touchY;
this._state.inDrag || ("vertical" === this.options.orientation && n <= 5 && n >= -5 && (i >= 15 || i <= -15) ? this._mousedown(e) : i <= 5 && i >= -5 && (n >= 15 || n <= -15) && this._mousedown(e));
}
},
_adjustPercentageForRangeSliders: function(e) {
if (this.options.range) {
var t = this._getNumDigitsAfterDecimalPlace(e);
t = t ? t - 1 : 0;
var n = this._applyToFixedAndParseFloat(e, t);
0 === this._state.dragged && this._applyToFixedAndParseFloat(this._state.percentage[1], t) < n ? (this._state.percentage[0] = this._state.percentage[1], this._state.dragged = 1) : 1 === this._state.dragged && this._applyToFixedAndParseFloat(this._state.percentage[0], t) > n ? (this._state.percentage[1] = this._state.percentage[0], this._state.dragged = 0) : 0 === this._state.keyCtrl && this._state.value[1] / this.options.max * 100 < e ? (this._state.percentage[0] = this._state.percentage[1], this._state.keyCtrl = 1, this.handle2.focus()) : 1 === this._state.keyCtrl && this._state.value[0] / this.options.max * 100 > e && (this._state.percentage[1] = this._state.percentage[0], this._state.keyCtrl = 0, this.handle1.focus());
}
},
_mouseup: function() {
if (!this._state.enabled) return !1;
this.touchCapable && (document.removeEventListener("touchmove", this.mousemove, !1), document.removeEventListener("touchend", this.mouseup, !1)), document.removeEventListener("mousemove", this.mousemove, !1), document.removeEventListener("mouseup", this.mouseup, !1), this._state.inDrag = !1, !1 === this._state.over && this._hideTooltip();
var e = this._calculateValue(!0);
return this._layout(), this._setDataVal(e), this._trigger("slideStop", e), !1;
},
_calculateValue: function(e) {
var t;
if (this.options.range ? (t = [ this.options.min, this.options.max ], 0 !== this._state.percentage[0] && (t[0] = this._toValue(this._state.percentage[0]), t[0] = this._applyPrecision(t[0])), 100 !== this._state.percentage[1] && (t[1] = this._toValue(this._state.percentage[1]), t[1] = this._applyPrecision(t[1]))) : (t = this._toValue(this._state.percentage[0]), t = parseFloat(t), t = this._applyPrecision(t)), e) {
for (var n = [ t, 1 / 0 ], i = 0; i < this.options.ticks.length; i++) {
var r = Math.abs(this.options.ticks[i] - t);
r <= n[1] && (n = [ this.options.ticks[i], r ]);
}
if (n[1] <= this.options.ticks_snap_bounds) return n[0];
}
return t;
},
_applyPrecision: function(e) {
var t = this.options.precision || this._getNumDigitsAfterDecimalPlace(this.options.step);
return this._applyToFixedAndParseFloat(e, t);
},
_getNumDigitsAfterDecimalPlace: function(e) {
var t = ("" + e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
return t ? Math.max(0, (t[1] ? t[1].length : 0) - (t[2] ? +t[2] : 0)) : 0;
},
_applyToFixedAndParseFloat: function(e, t) {
var n = e.toFixed(t);
return parseFloat(n);
},
_getPercentage: function(e) {
!this.touchCapable || "touchstart" !== e.type && "touchmove" !== e.type || (e = e.touches[0]);
var t = e[this.mousePos] - this._state.offset[this.stylePos];
"right" === this.stylePos && (t = -t);
var n = t / this._state.size * 100;
return n = Math.round(n / this._state.percentage[2]) * this._state.percentage[2], this.options.reversed && (n = 100 - n), Math.max(0, Math.min(100, n));
},
_validateInputValue: function(e) {
if (isNaN(+e)) {
if (Array.isArray(e)) return this._validateArray(e), e;
throw new Error(i.formatInvalidInputErrorMsg(e));
}
return +e;
},
_validateArray: function(e) {
for (var t = 0; t < e.length; t++) {
var n = e[t];
if ("number" != typeof n) throw new Error(i.formatInvalidInputErrorMsg(n));
}
},
_setDataVal: function(e) {
this.element.setAttribute("data-value", e), this.element.setAttribute("value", e), this.element.value = e;
},
_trigger: function(t, n) {
n = n || 0 === n ? n : void 0;
var i = this.eventToCallbackMap[t];
if (i && i.length) for (var r = 0; r < i.length; r++) (0, i[r])(n);
e && this._triggerJQueryEvent(t, n);
},
_triggerJQueryEvent: function(e, t) {
var n = {
type: e,
value: t
};
this.$element.trigger(n), this.$sliderElem.trigger(n);
},
_unbindJQueryEventHandlers: function() {
this.$element.off(), this.$sliderElem.off();
},
_setText: function(e, t) {
void 0 !== e.textContent ? e.textContent = t : void 0 !== e.innerText && (e.innerText = t);
},
_removeClass: function(e, t) {
for (var n = t.split(" "), i = e.className, r = 0; r < n.length; r++) {
var o = n[r], a = new RegExp("(?:\\s|^)" + o + "(?:\\s|$)");
i = i.replace(a, " ");
}
e.className = i.trim();
},
_addClass: function(e, t) {
for (var n = t.split(" "), i = e.className, r = 0; r < n.length; r++) {
var o = n[r];
new RegExp("(?:\\s|^)" + o + "(?:\\s|$)").test(i) || (i += " " + o);
}
e.className = i.trim();
},
_offsetLeft: function(e) {
return e.getBoundingClientRect().left;
},
_offsetRight: function(e) {
return e.getBoundingClientRect().right;
},
_offsetTop: function(e) {
for (var t = e.offsetTop; (e = e.offsetParent) && !isNaN(e.offsetTop); ) t += e.offsetTop, "BODY" !== e.tagName && (t -= e.scrollTop);
return t;
},
_offset: function(e) {
return {
left: this._offsetLeft(e),
right: this._offsetRight(e),
top: this._offsetTop(e)
};
},
_css: function(t, n, i) {
if (e) e.style(t, n, i); else {
var r = n.replace(/^-ms-/, "ms-").replace(/-([\da-z])/gi, function(e, t) {
return t.toUpperCase();
});
t.style[r] = i;
}
},
_toValue: function(e) {
return this.options.scale.toValue.apply(this, [ e ]);
},
_toPercentage: function(e) {
return this.options.scale.toPercentage.apply(this, [ e ]);
},
_setTooltipPosition: function() {
var e = [ this.tooltip, this.tooltip_min, this.tooltip_max ];
if ("vertical" === this.options.orientation) {
var t, n = "left" === (t = this.options.tooltip_position ? this.options.tooltip_position : this.options.rtl ? "left" : "right") ? "right" : "left";
e.forEach(function(e) {
this._addClass(e, t), e.style[n] = "100%";
}.bind(this));
} else "bottom" === this.options.tooltip_position ? e.forEach(function(e) {
this._addClass(e, "bottom"), e.style.top = "22px";
}.bind(this)) : e.forEach(function(e) {
this._addClass(e, "top"), e.style.top = -this.tooltip.outerHeight - 14 + "px";
}.bind(this));
}
}, e && e.fn) {
var o = void 0;
e.fn.slider ? (windowIsDefined && window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."), o = "bootstrapSlider") : (e.bridget("slider", t), o = "slider"), e.bridget("bootstrapSlider", t), e(function() {
e("input[data-provide=slider]")[o]();
});
}
}(e), t;
});

var _createClass = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var i = t[n];
i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
}
}
return function(t, n, i) {
return n && e(t.prototype, n), i && e(t, i), t;
};
}();

!function(e, t) {
var n = function() {
function n(t) {
var i = this, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
_classCallCheck(this, n), this.$element = e(t), this.options = e.extend({}, e.fn.bootstrapSwitch.defaults, this._getElementOptions(), r), this.prevOptions = {}, this.$wrapper = e("<div>", {
class: function() {
var e = [];
return e.push(i.options.state ? "on" : "off"), i.options.size && e.push(i.options.size), i.options.disabled && e.push("disabled"), i.options.readonly && e.push("readonly"), i.options.indeterminate && e.push("indeterminate"), i.options.inverse && e.push("inverse"), i.$element.attr("id") && e.push("id-" + i.$element.attr("id")), e.map(i._getClass.bind(i)).concat([ i.options.baseClass ], i._getClasses(i.options.wrapperClass)).join(" ");
}
}), this.$container = e("<div>", {
class: this._getClass("container")
}), this.$on = e("<span>", {
html: this.options.onText,
class: this._getClass("handle-on") + " " + this._getClass(this.options.onColor)
}), this.$off = e("<span>", {
html: this.options.offText,
class: this._getClass("handle-off") + " " + this._getClass(this.options.offColor)
}), this.$label = e("<span>", {
html: this.options.labelText,
class: this._getClass("label")
}), this.$element.on("init.bootstrapSwitch", this.options.onInit.bind(this, t)), this.$element.on("switchChange.bootstrapSwitch", function() {
for (var n = arguments.length, r = Array(n), o = 0; o < n; o++) r[o] = arguments[o];
!1 === i.options.onSwitchChange.apply(t, r) && (i.$element.is(":radio") ? e('[name="' + i.$element.attr("name") + '"]').trigger("previousState.bootstrapSwitch", !0) : i.$element.trigger("previousState.bootstrapSwitch", !0));
}), this.$container = this.$element.wrap(this.$container).parent(), this.$wrapper = this.$container.wrap(this.$wrapper).parent(), this.$element.before(this.options.inverse ? this.$off : this.$on).before(this.$label).before(this.options.inverse ? this.$on : this.$off), this.options.indeterminate && this.$element.prop("indeterminate", !0), this._init(), this._elementHandlers(), this._handleHandlers(), this._labelHandlers(), this._formHandler(), this._externalLabelHandler(), this.$element.trigger("init.bootstrapSwitch", this.options.state);
}
return _createClass(n, [ {
key: "setPrevOptions",
value: function() {
this.prevOptions = Object.assign({}, this.options);
}
}, {
key: "state",
value: function(t, n) {
return void 0 === t ? this.options.state : this.options.disabled || this.options.readonly || this.options.state && !this.options.radioAllOff && this.$element.is(":radio") ? this.$element : (this.$element.is(":radio") ? e('[name="' + this.$element.attr("name") + '"]').trigger("setPreviousOptions.bootstrapSwitch") : this.$element.trigger("setPreviousOptions.bootstrapSwitch"), this.options.indeterminate && this.indeterminate(!1), this.$element.prop("checked", Boolean(t)).trigger("change.bootstrapSwitch", n), this.$element);
}
}, {
key: "toggleState",
value: function(e) {
return this.options.disabled || this.options.readonly ? this.$element : this.options.indeterminate ? (this.indeterminate(!1), this.state(!0)) : this.$element.prop("checked", !this.options.state).trigger("change.bootstrapSwitch", e);
}
}, {
key: "size",
value: function(e) {
return void 0 === e ? this.options.size : (null != this.options.size && this.$wrapper.removeClass(this._getClass(this.options.size)), e && this.$wrapper.addClass(this._getClass(e)), this._width(), this._containerPosition(), this.options.size = e, this.$element);
}
}, {
key: "animate",
value: function(e) {
return void 0 === e ? this.options.animate : this.options.animate === Boolean(e) ? this.$element : this.toggleAnimate();
}
}, {
key: "toggleAnimate",
value: function() {
return this.options.animate = !this.options.animate, this.$wrapper.toggleClass(this._getClass("animate")), this.$element;
}
}, {
key: "disabled",
value: function(e) {
return void 0 === e ? this.options.disabled : this.options.disabled === Boolean(e) ? this.$element : this.toggleDisabled();
}
}, {
key: "toggleDisabled",
value: function() {
return this.options.disabled = !this.options.disabled, this.$element.prop("disabled", this.options.disabled), this.$wrapper.toggleClass(this._getClass("disabled")), this.$element;
}
}, {
key: "readonly",
value: function(e) {
return void 0 === e ? this.options.readonly : this.options.readonly === Boolean(e) ? this.$element : this.toggleReadonly();
}
}, {
key: "toggleReadonly",
value: function() {
return this.options.readonly = !this.options.readonly, this.$element.prop("readonly", this.options.readonly), this.$wrapper.toggleClass(this._getClass("readonly")), this.$element;
}
}, {
key: "indeterminate",
value: function(e) {
return void 0 === e ? this.options.indeterminate : this.options.indeterminate === Boolean(e) ? this.$element : this.toggleIndeterminate();
}
}, {
key: "toggleIndeterminate",
value: function() {
return this.options.indeterminate = !this.options.indeterminate, this.$element.prop("indeterminate", this.options.indeterminate), this.$wrapper.toggleClass(this._getClass("indeterminate")), this._containerPosition(), this.$element;
}
}, {
key: "inverse",
value: function(e) {
return void 0 === e ? this.options.inverse : this.options.inverse === Boolean(e) ? this.$element : this.toggleInverse();
}
}, {
key: "toggleInverse",
value: function() {
this.$wrapper.toggleClass(this._getClass("inverse"));
var e = this.$on.clone(!0), t = this.$off.clone(!0);
return this.$on.replaceWith(t), this.$off.replaceWith(e), this.$on = t, this.$off = e, this.options.inverse = !this.options.inverse, this.$element;
}
}, {
key: "onColor",
value: function(e) {
return void 0 === e ? this.options.onColor : (this.options.onColor && this.$on.removeClass(this._getClass(this.options.onColor)), this.$on.addClass(this._getClass(e)), this.options.onColor = e, this.$element);
}
}, {
key: "offColor",
value: function(e) {
return void 0 === e ? this.options.offColor : (this.options.offColor && this.$off.removeClass(this._getClass(this.options.offColor)), this.$off.addClass(this._getClass(e)), this.options.offColor = e, this.$element);
}
}, {
key: "onText",
value: function(e) {
return void 0 === e ? this.options.onText : (this.$on.html(e), this._width(), this._containerPosition(), this.options.onText = e, this.$element);
}
}, {
key: "offText",
value: function(e) {
return void 0 === e ? this.options.offText : (this.$off.html(e), this._width(), this._containerPosition(), this.options.offText = e, this.$element);
}
}, {
key: "labelText",
value: function(e) {
return void 0 === e ? this.options.labelText : (this.$label.html(e), this._width(), this.options.labelText = e, this.$element);
}
}, {
key: "handleWidth",
value: function(e) {
return void 0 === e ? this.options.handleWidth : (this.options.handleWidth = e, this._width(), this._containerPosition(), this.$element);
}
}, {
key: "labelWidth",
value: function(e) {
return void 0 === e ? this.options.labelWidth : (this.options.labelWidth = e, this._width(), this._containerPosition(), this.$element);
}
}, {
key: "baseClass",
value: function(e) {
return this.options.baseClass;
}
}, {
key: "wrapperClass",
value: function(t) {
return void 0 === t ? this.options.wrapperClass : (t || (t = e.fn.bootstrapSwitch.defaults.wrapperClass), this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")), this.$wrapper.addClass(this._getClasses(t).join(" ")), this.options.wrapperClass = t, this.$element);
}
}, {
key: "radioAllOff",
value: function(e) {
if (void 0 === e) return this.options.radioAllOff;
var t = Boolean(e);
return this.options.radioAllOff === t ? this.$element : (this.options.radioAllOff = t, this.$element);
}
}, {
key: "onInit",
value: function(t) {
return void 0 === t ? this.options.onInit : (t || (t = e.fn.bootstrapSwitch.defaults.onInit), this.options.onInit = t, this.$element);
}
}, {
key: "onSwitchChange",
value: function(t) {
return void 0 === t ? this.options.onSwitchChange : (t || (t = e.fn.bootstrapSwitch.defaults.onSwitchChange), this.options.onSwitchChange = t, this.$element);
}
}, {
key: "destroy",
value: function() {
var e = this.$element.closest("form");
return e.length && e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"), this.$container.children().not(this.$element).remove(), this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"), this.$element;
}
}, {
key: "_getElementOptions",
value: function() {
return {
state: this.$element.is(":checked"),
size: this.$element.data("size"),
animate: this.$element.data("animate"),
disabled: this.$element.is(":disabled"),
readonly: this.$element.is("[readonly]"),
indeterminate: this.$element.data("indeterminate"),
inverse: this.$element.data("inverse"),
radioAllOff: this.$element.data("radio-all-off"),
onColor: this.$element.data("on-color"),
offColor: this.$element.data("off-color"),
onText: this.$element.data("on-text"),
offText: this.$element.data("off-text"),
labelText: this.$element.data("label-text"),
handleWidth: this.$element.data("handle-width"),
labelWidth: this.$element.data("label-width"),
baseClass: this.$element.data("base-class"),
wrapperClass: this.$element.data("wrapper-class")
};
}
}, {
key: "_width",
value: function() {
var e = this, t = this.$on.add(this.$off).add(this.$label).css("width", ""), n = void 0;
return n = "auto" === this.options.handleWidth ? Math.round(Math.max(this.$on.width(), this.$off.width())) : this.options.handleWidth, t.width(n), this.$label.width(function(t, i) {
return "auto" !== e.options.labelWidth ? e.options.labelWidth : i < n ? n : i;
}), this._handleWidth = this.$on.outerWidth(), this._labelWidth = this.$label.outerWidth(), this.$container.width(2 * this._handleWidth + this._labelWidth), this.$wrapper.width(this._handleWidth + this._labelWidth);
}
}, {
key: "_containerPosition",
value: function() {
var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.options.state;
arguments[1];
this.$container.css("margin-left", function() {
var n = [ 0, "-" + e._handleWidth + "px" ];
return e.options.indeterminate ? "-" + e._handleWidth / 2 + "px" : t ? e.options.inverse ? n[1] : n[0] : e.options.inverse ? n[0] : n[1];
});
}
}, {
key: "_init",
value: function() {
var e = this, n = function() {
e.setPrevOptions(), e._width(), e._containerPosition(), setTimeout(function() {
if (e.options.animate) return e.$wrapper.addClass(e._getClass("animate"));
}, 50);
};
if (this.$wrapper.is(":visible")) n(); else var i = t.setInterval(function() {
if (e.$wrapper.is(":visible")) return n(), t.clearInterval(i);
}, 50);
}
}, {
key: "_elementHandlers",
value: function() {
var t = this;
return this.$element.on({
"setPreviousOptions.bootstrapSwitch": this.setPrevOptions.bind(this),
"previousState.bootstrapSwitch": function() {
t.options = t.prevOptions, t.options.indeterminate && t.$wrapper.addClass(t._getClass("indeterminate")), t.$element.prop("checked", t.options.state).trigger("change.bootstrapSwitch", !0);
},
"change.bootstrapSwitch": function(n, i) {
n.preventDefault(), n.stopImmediatePropagation();
var r = t.$element.is(":checked");
t._containerPosition(r), r !== t.options.state && (t.options.state = r, t.$wrapper.toggleClass(t._getClass("off")).toggleClass(t._getClass("on")), i || (t.$element.is(":radio") && e('[name="' + t.$element.attr("name") + '"]').not(t.$element).prop("checked", !1).trigger("change.bootstrapSwitch", !0), t.$element.trigger("switchChange.bootstrapSwitch", [ r ])));
},
"focus.bootstrapSwitch": function(e) {
e.preventDefault(), t.$wrapper.addClass(t._getClass("focused"));
},
"blur.bootstrapSwitch": function(e) {
e.preventDefault(), t.$wrapper.removeClass(t._getClass("focused"));
},
"keydown.bootstrapSwitch": function(e) {
!e.which || t.options.disabled || t.options.readonly || 37 !== e.which && 39 !== e.which || (e.preventDefault(), e.stopImmediatePropagation(), t.state(39 === e.which));
}
});
}
}, {
key: "_handleHandlers",
value: function() {
var e = this;
return this.$on.on("click.bootstrapSwitch", function(t) {
return t.preventDefault(), t.stopPropagation(), e.state(!1), e.$element.trigger("focus.bootstrapSwitch");
}), this.$off.on("click.bootstrapSwitch", function(t) {
return t.preventDefault(), t.stopPropagation(), e.state(!0), e.$element.trigger("focus.bootstrapSwitch");
});
}
}, {
key: "_labelHandlers",
value: function() {
var e = this, t = {
click: function(e) {
e.stopPropagation();
},
"mousedown.bootstrapSwitch touchstart.bootstrapSwitch": function(t) {
e._dragStart || e.options.disabled || e.options.readonly || (t.preventDefault(), t.stopPropagation(), e._dragStart = (t.pageX || t.originalEvent.touches[0].pageX) - parseInt(e.$container.css("margin-left"), 10), e.options.animate && e.$wrapper.removeClass(e._getClass("animate")), e.$element.trigger("focus.bootstrapSwitch"));
},
"mousemove.bootstrapSwitch touchmove.bootstrapSwitch": function(t) {
if (null != e._dragStart) {
var n = (t.pageX || t.originalEvent.touches[0].pageX) - e._dragStart;
t.preventDefault(), n < -e._handleWidth || n > 0 || (e._dragEnd = n, e.$container.css("margin-left", e._dragEnd + "px"));
}
},
"mouseup.bootstrapSwitch touchend.bootstrapSwitch": function(t) {
if (e._dragStart) {
if (t.preventDefault(), e.options.animate && e.$wrapper.addClass(e._getClass("animate")), e._dragEnd) {
var n = e._dragEnd > -e._handleWidth / 2;
e._dragEnd = !1, e.state(e.options.inverse ? !n : n);
} else e.state(!e.options.state);
e._dragStart = !1;
}
},
"mouseleave.bootstrapSwitch": function() {
e.$label.trigger("mouseup.bootstrapSwitch");
}
};
this.$label.on(t);
}
}, {
key: "_externalLabelHandler",
value: function() {
var e = this, t = this.$element.closest("label");
t.on("click", function(n) {
n.preventDefault(), n.stopImmediatePropagation(), n.target === t[0] && e.toggleState();
});
}
}, {
key: "_formHandler",
value: function() {
var n = this.$element.closest("form");
n.data("bootstrap-switch") || n.on("reset.bootstrapSwitch", function() {
t.setTimeout(function() {
n.find("input").filter(function() {
return e(this).data("bootstrap-switch");
}).each(function() {
return e(this).bootstrapSwitch("state", this.checked);
});
}, 1);
}).data("bootstrap-switch", !0);
}
}, {
key: "_getClass",
value: function(e) {
return this.options.baseClass + "-" + e;
}
}, {
key: "_getClasses",
value: function(t) {
return e.isArray(t) ? t.map(this._getClass.bind(this)) : [ this._getClass(t) ];
}
} ]), n;
}();
e.fn.bootstrapSwitch = function(t) {
for (var i = arguments.length, r = Array(i > 1 ? i - 1 : 0), o = 1; o < i; o++) r[o - 1] = arguments[o];
var a = this;
return this.each(function() {
var i = e(this), o = i.data("bootstrap-switch");
o || (o = new n(this, t), i.data("bootstrap-switch", o)), "string" == typeof t && (a = o[t].apply(o, r));
}), a;
}, e.fn.bootstrapSwitch.Constructor = n, e.fn.bootstrapSwitch.defaults = {
state: !0,
size: null,
animate: !0,
disabled: !1,
readonly: !1,
indeterminate: !1,
inverse: !1,
radioAllOff: !1,
onColor: "primary",
offColor: "default",
onText: "ON",
offText: "OFF",
labelText: "&nbsp",
handleWidth: "auto",
labelWidth: "auto",
baseClass: "bootstrap-switch",
wrapperClass: "wrapper",
onInit: function() {},
onSwitchChange: function() {}
};
}(window.jQuery, window), function(e) {
"use strict";
function t(e, t) {
return e + ".touchspin_" + t;
}
function n(n, i) {
return e.map(n, function(e) {
return t(e, i);
});
}
var i = 0;
e.fn.TouchSpin = function(t) {
if ("destroy" !== t) {
var r = {
min: 0,
max: 100,
initval: "",
replacementval: "",
step: 1,
decimals: 0,
stepinterval: 100,
forcestepdivisibility: "round",
stepintervaldelay: 500,
verticalbuttons: !1,
verticalupclass: "glyphicon glyphicon-chevron-up",
verticaldownclass: "glyphicon glyphicon-chevron-down",
prefix: "",
postfix: "",
prefix_extraclass: "",
postfix_extraclass: "",
booster: !0,
boostat: 10,
maxboostedstep: !1,
mousewheel: !0,
buttondown_class: "btn btn-default",
buttonup_class: "btn btn-default",
buttondown_txt: "-",
buttonup_txt: "+"
}, o = {
min: "min",
max: "max",
initval: "init-val",
replacementval: "replacement-val",
step: "step",
decimals: "decimals",
stepinterval: "step-interval",
verticalbuttons: "vertical-buttons",
verticalupclass: "vertical-up-class",
verticaldownclass: "vertical-down-class",
forcestepdivisibility: "force-step-divisibility",
stepintervaldelay: "step-interval-delay",
prefix: "prefix",
postfix: "postfix",
prefix_extraclass: "prefix-extra-class",
postfix_extraclass: "postfix-extra-class",
booster: "booster",
boostat: "boostat",
maxboostedstep: "max-boosted-step",
mousewheel: "mouse-wheel",
buttondown_class: "button-down-class",
buttonup_class: "button-up-class",
buttondown_txt: "button-down-txt",
buttonup_txt: "button-up-txt"
};
return this.each(function() {
function a() {
"" !== A.initval && "" === P.val() && P.val(A.initval);
}
function s(e) {
u(e), b();
var t = T.input.val();
"" !== t && (t = Number(T.input.val()), T.input.val(t.toFixed(A.decimals)));
}
function l() {
A = e.extend({}, r, L, c(), t);
}
function c() {
var t = {};
return e.each(o, function(e, n) {
var i = "bts-" + n;
P.is("[data-" + i + "]") && (t[e] = P.data(i));
}), t;
}
function u(t) {
A = e.extend({}, A, t), t.postfix && P.parent().find(".bootstrap-touchspin-postfix").text(t.postfix), t.prefix && P.parent().find(".bootstrap-touchspin-prefix").text(t.prefix);
}
function d() {
var e = P.val(), t = P.parent();
"" !== e && (e = Number(e).toFixed(A.decimals)), P.data("initvalue", e).val(e), P.addClass("form-control"), t.hasClass("input-group") ? h(t) : f();
}
function h(t) {
t.addClass("bootstrap-touchspin");
var n, i, r = P.prev(), o = P.next(), a = '<span class="input-group-addon bootstrap-touchspin-prefix">' + A.prefix + "</span>", s = '<span class="input-group-addon bootstrap-touchspin-postfix">' + A.postfix + "</span>";
r.hasClass("input-group-btn") ? (n = '<button class="' + A.buttondown_class + ' bootstrap-touchspin-down" type="button">' + A.buttondown_txt + "</button>", r.append(n)) : (n = '<span class="input-group-btn"><button class="' + A.buttondown_class + ' bootstrap-touchspin-down" type="button">' + A.buttondown_txt + "</button></span>", e(n).insertBefore(P)), o.hasClass("input-group-btn") ? (i = '<button class="' + A.buttonup_class + ' bootstrap-touchspin-up" type="button">' + A.buttonup_txt + "</button>", o.prepend(i)) : (i = '<span class="input-group-btn"><button class="' + A.buttonup_class + ' bootstrap-touchspin-up" type="button">' + A.buttonup_txt + "</button></span>", e(i).insertAfter(P)), e(a).insertBefore(P), e(s).insertAfter(P), k = t;
}
function f() {
var t;
t = A.verticalbuttons ? '<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">' + A.prefix + '</span><span class="input-group-addon bootstrap-touchspin-postfix">' + A.postfix + '</span><span class="input-group-btn-vertical"><button class="' + A.buttondown_class + ' bootstrap-touchspin-up" type="button"><i class="' + A.verticalupclass + '"></i></button><button class="' + A.buttonup_class + ' bootstrap-touchspin-down" type="button"><i class="' + A.verticaldownclass + '"></i></button></span></div>' : '<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="' + A.buttondown_class + ' bootstrap-touchspin-down" type="button">' + A.buttondown_txt + '</button></span><span class="input-group-addon bootstrap-touchspin-prefix">' + A.prefix + '</span><span class="input-group-addon bootstrap-touchspin-postfix">' + A.postfix + '</span><span class="input-group-btn"><button class="' + A.buttonup_class + ' bootstrap-touchspin-up" type="button">' + A.buttonup_txt + "</button></span></div>", 
k = e(t).insertBefore(P), e(".bootstrap-touchspin-prefix", k).after(P), P.hasClass("input-sm") ? k.addClass("input-group-sm") : P.hasClass("input-lg") && k.addClass("input-group-lg");
}
function p() {
T = {
down: e(".bootstrap-touchspin-down", k),
up: e(".bootstrap-touchspin-up", k),
input: e("input", k),
prefix: e(".bootstrap-touchspin-prefix", k).addClass(A.prefix_extraclass),
postfix: e(".bootstrap-touchspin-postfix", k).addClass(A.postfix_extraclass)
};
}
function g() {
"" === A.prefix && T.prefix.hide(), "" === A.postfix && T.postfix.hide();
}
function m() {
P.on("keydown", function(e) {
var t = e.keyCode || e.which;
38 === t ? ("up" !== R && (w(), S()), e.preventDefault()) : 40 === t && ("down" !== R && (C(), x()), e.preventDefault());
}), P.on("keyup", function(e) {
var t = e.keyCode || e.which;
38 === t ? $() : 40 === t && $();
}), P.on("blur", function() {
b();
}), T.down.on("keydown", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || ("down" !== R && (C(), x()), e.preventDefault());
}), T.down.on("keyup", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || $();
}), T.up.on("keydown", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || ("up" !== R && (w(), S()), e.preventDefault());
}), T.up.on("keyup", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || $();
}), T.down.on("mousedown.touchspin", function(e) {
T.down.off("touchstart.touchspin"), P.is(":disabled") || (C(), x(), e.preventDefault(), e.stopPropagation());
}), T.down.on("touchstart.touchspin", function(e) {
T.down.off("mousedown.touchspin"), P.is(":disabled") || (C(), x(), e.preventDefault(), e.stopPropagation());
}), T.up.on("mousedown.touchspin", function(e) {
T.up.off("touchstart.touchspin"), P.is(":disabled") || (w(), S(), e.preventDefault(), e.stopPropagation());
}), T.up.on("touchstart.touchspin", function(e) {
T.up.off("mousedown.touchspin"), P.is(":disabled") || (w(), S(), e.preventDefault(), e.stopPropagation());
}), T.up.on("mouseout touchleave touchend touchcancel", function(e) {
R && (e.stopPropagation(), $());
}), T.down.on("mouseout touchleave touchend touchcancel", function(e) {
R && (e.stopPropagation(), $());
}), T.down.on("mousemove touchmove", function(e) {
R && (e.stopPropagation(), e.preventDefault());
}), T.up.on("mousemove touchmove", function(e) {
R && (e.stopPropagation(), e.preventDefault());
}), e(document).on(n([ "mouseup", "touchend", "touchcancel" ], i).join(" "), function(e) {
R && (e.preventDefault(), $());
}), e(document).on(n([ "mousemove", "touchmove", "scroll", "scrollstart" ], i).join(" "), function(e) {
R && (e.preventDefault(), $());
}), P.on("mousewheel DOMMouseScroll", function(e) {
if (A.mousewheel && P.is(":focus")) {
var t = e.originalEvent.wheelDelta || -e.originalEvent.deltaY || -e.originalEvent.detail;
e.stopPropagation(), e.preventDefault(), t < 0 ? C() : w();
}
});
}
function v() {
P.on("touchspin.uponce", function() {
$(), w();
}), P.on("touchspin.downonce", function() {
$(), C();
}), P.on("touchspin.startupspin", function() {
S();
}), P.on("touchspin.startdownspin", function() {
x();
}), P.on("touchspin.stopspin", function() {
$();
}), P.on("touchspin.updatesettings", function(e, t) {
s(t);
});
}
function y(e) {
switch (A.forcestepdivisibility) {
case "round":
return (Math.round(e / A.step) * A.step).toFixed(A.decimals);

case "floor":
return (Math.floor(e / A.step) * A.step).toFixed(A.decimals);

case "ceil":
return (Math.ceil(e / A.step) * A.step).toFixed(A.decimals);

default:
return e;
}
}
function b() {
var e, t, n;
"" !== (e = P.val()) ? A.decimals > 0 && "." === e || (t = parseFloat(e), isNaN(t) && (t = "" !== A.replacementval ? A.replacementval : 0), n = t, t.toString() !== e && (n = t), t < A.min && (n = A.min), t > A.max && (n = A.max), n = y(n), Number(e).toString() !== n.toString() && (P.val(n), P.trigger("change"))) : "" !== A.replacementval && (P.val(A.replacementval), P.trigger("change"));
}
function _() {
if (A.booster) {
var e = Math.pow(2, Math.floor(O / A.boostat)) * A.step;
return A.maxboostedstep && e > A.maxboostedstep && (e = A.maxboostedstep, D = Math.round(D / e) * e), Math.max(A.step, e);
}
return A.step;
}
function w() {
b(), D = parseFloat(T.input.val()), isNaN(D) && (D = 0);
var e = D, t = _();
(D += t) > A.max && (D = A.max, P.trigger("touchspin.on.max"), $()), T.input.val(Number(D).toFixed(A.decimals)), e !== D && P.trigger("change");
}
function C() {
b(), D = parseFloat(T.input.val()), isNaN(D) && (D = 0);
var e = D, t = _();
(D -= t) < A.min && (D = A.min, P.trigger("touchspin.on.min"), $()), T.input.val(D.toFixed(A.decimals)), e !== D && P.trigger("change");
}
function x() {
$(), O = 0, R = "down", P.trigger("touchspin.on.startspin"), P.trigger("touchspin.on.startdownspin"), M = setTimeout(function() {
E = setInterval(function() {
O++, C();
}, A.stepinterval);
}, A.stepintervaldelay);
}
function S() {
$(), O = 0, R = "up", P.trigger("touchspin.on.startspin"), P.trigger("touchspin.on.startupspin"), I = setTimeout(function() {
F = setInterval(function() {
O++, w();
}, A.stepinterval);
}, A.stepintervaldelay);
}
function $() {
switch (clearTimeout(M), clearTimeout(I), clearInterval(E), clearInterval(F), R) {
case "up":
P.trigger("touchspin.on.stopupspin"), P.trigger("touchspin.on.stopspin");
break;

case "down":
P.trigger("touchspin.on.stopdownspin"), P.trigger("touchspin.on.stopspin");
}
O = 0, R = !1;
}
var A, k, T, D, E, F, M, I, P = e(this), L = P.data(), O = 0, R = !1;
P.data("alreadyinitialized") || (P.data("alreadyinitialized", !0), i += 1, P.data("spinnerid", i), P.is("input") ? (l(), a(), b(), d(), p(), g(), m(), v(), T.input.css("display", "block")) : console.log("Must be an input."));
});
}
this.each(function() {
var t = e(this).data();
e(document).off(n([ "mouseup", "touchend", "touchcancel", "mousemove", "touchmove", "scroll", "scrollstart" ], t.spinnerid).join(" "));
});
};
}(jQuery), function() {
function e(e) {
return e && (e.ownerDocument || e.document || e).documentElement;
}
function t(e) {
return e && (e.ownerDocument && e.ownerDocument.defaultView || e.document && e || e.defaultView);
}
function n(e, t) {
return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN;
}
function i(e) {
return null === e ? NaN : +e;
}
function r(e) {
return !isNaN(e);
}
function o(e) {
return {
left: function(t, n, i, r) {
for (arguments.length < 3 && (i = 0), arguments.length < 4 && (r = t.length); i < r; ) {
var o = i + r >>> 1;
e(t[o], n) < 0 ? i = o + 1 : r = o;
}
return i;
},
right: function(t, n, i, r) {
for (arguments.length < 3 && (i = 0), arguments.length < 4 && (r = t.length); i < r; ) {
var o = i + r >>> 1;
e(t[o], n) > 0 ? r = o : i = o + 1;
}
return i;
}
};
}
function a(e) {
return e.length;
}
function s(e) {
for (var t = 1; e * t % 1; ) t *= 10;
return t;
}
function l(e, t) {
for (var n in t) Object.defineProperty(e.prototype, n, {
value: t[n],
enumerable: !1
});
}
function c() {
this._ = Object.create(null);
}
function u(e) {
return (e += "") === Zo || e[0] === ea ? ea + e : e;
}
function d(e) {
return (e += "")[0] === ea ? e.slice(1) : e;
}
function h(e) {
return u(e) in this._;
}
function f(e) {
return (e = u(e)) in this._ && delete this._[e];
}
function p() {
var e = [];
for (var t in this._) e.push(d(t));
return e;
}
function g() {
var e = 0;
for (var t in this._) ++e;
return e;
}
function m() {
for (var e in this._) return !1;
return !0;
}
function v() {
this._ = Object.create(null);
}
function y(e) {
return e;
}
function b(e, t, n) {
return function() {
var i = n.apply(t, arguments);
return i === t ? e : i;
};
}
function _(e, t) {
if (t in e) return t;
t = t.charAt(0).toUpperCase() + t.slice(1);
for (var n = 0, i = ta.length; n < i; ++n) {
var r = ta[n] + t;
if (r in e) return r;
}
}
function w() {}
function C() {}
function x(e) {
function t() {
for (var t, i = n, r = -1, o = i.length; ++r < o; ) (t = i[r].on) && t.apply(this, arguments);
return e;
}
var n = [], i = new c();
return t.on = function(t, r) {
var o, a = i.get(t);
return arguments.length < 2 ? a && a.on : (a && (a.on = null, n = n.slice(0, o = n.indexOf(a)).concat(n.slice(o + 1)), i.remove(t)), r && n.push(i.set(t, {
on: r
})), e);
}, t;
}
function S() {
Vo.event.preventDefault();
}
function $() {
for (var e, t = Vo.event; e = t.sourceEvent; ) t = e;
return t;
}
function A(e) {
for (var t = new C(), n = 0, i = arguments.length; ++n < i; ) t[arguments[n]] = x(t);
return t.of = function(n, i) {
return function(r) {
try {
var o = r.sourceEvent = Vo.event;
r.target = e, Vo.event = r, t[r.type].apply(n, i);
} finally {
Vo.event = o;
}
};
}, t;
}
function k(e) {
return ia(e, sa), e;
}
function T(e) {
return "function" == typeof e ? e : function() {
return ra(e, this);
};
}
function D(e) {
return "function" == typeof e ? e : function() {
return oa(e, this);
};
}
function E(e, t) {
return e = Vo.ns.qualify(e), null == t ? e.local ? function() {
this.removeAttributeNS(e.space, e.local);
} : function() {
this.removeAttribute(e);
} : "function" == typeof t ? e.local ? function() {
var n = t.apply(this, arguments);
null == n ? this.removeAttributeNS(e.space, e.local) : this.setAttributeNS(e.space, e.local, n);
} : function() {
var n = t.apply(this, arguments);
null == n ? this.removeAttribute(e) : this.setAttribute(e, n);
} : e.local ? function() {
this.setAttributeNS(e.space, e.local, t);
} : function() {
this.setAttribute(e, t);
};
}
function F(e) {
return e.trim().replace(/\s+/g, " ");
}
function M(e) {
return new RegExp("(?:^|\\s+)" + Vo.requote(e) + "(?:\\s+|$)", "g");
}
function I(e) {
return (e + "").trim().split(/^|\s+/);
}
function P(e, t) {
var n = (e = I(e).map(L)).length;
return "function" == typeof t ? function() {
for (var i = -1, r = t.apply(this, arguments); ++i < n; ) e[i](this, r);
} : function() {
for (var i = -1; ++i < n; ) e[i](this, t);
};
}
function L(e) {
var t = M(e);
return function(n, i) {
if (r = n.classList) return i ? r.add(e) : r.remove(e);
var r = n.getAttribute("class") || "";
i ? (t.lastIndex = 0, t.test(r) || n.setAttribute("class", F(r + " " + e))) : n.setAttribute("class", F(r.replace(t, " ")));
};
}
function O(e, t, n) {
return null == t ? function() {
this.style.removeProperty(e);
} : "function" == typeof t ? function() {
var i = t.apply(this, arguments);
null == i ? this.style.removeProperty(e) : this.style.setProperty(e, i, n);
} : function() {
this.style.setProperty(e, t, n);
};
}
function R(e, t) {
return null == t ? function() {
delete this[e];
} : "function" == typeof t ? function() {
var n = t.apply(this, arguments);
null == n ? delete this[e] : this[e] = n;
} : function() {
this[e] = t;
};
}
function N(e) {
return "function" == typeof e ? e : (e = Vo.ns.qualify(e)).local ? function() {
return this.ownerDocument.createElementNS(e.space, e.local);
} : function() {
var t = this.ownerDocument, n = this.namespaceURI;
return n === la && t.documentElement.namespaceURI === la ? t.createElement(e) : t.createElementNS(n, e);
};
}
function B() {
var e = this.parentNode;
e && e.removeChild(this);
}
function j(e) {
return {
__data__: e
};
}
function H(e) {
return function() {
return aa(this, e);
};
}
function V(e) {
return arguments.length || (e = n), function(t, n) {
return t && n ? e(t.__data__, n.__data__) : !t - !n;
};
}
function U(e, t) {
for (var n = 0, i = e.length; n < i; n++) for (var r, o = e[n], a = 0, s = o.length; a < s; a++) (r = o[a]) && t(r, a, n);
return e;
}
function z(e) {
return ia(e, ua), e;
}
function W(e) {
var t, n;
return function(i, r, o) {
var a, s = e[o].update, l = s.length;
for (o != n && (n = o, t = 0), r >= t && (t = r + 1); !(a = s[t]) && ++t < l; ) ;
return a;
};
}
function q(e, t, n) {
function i() {
var t = this[r];
t && (this.removeEventListener(e, t, t.$), delete this[r]);
}
var r = "__on" + e, o = e.indexOf("."), a = G;
o > 0 && (e = e.slice(0, o));
var s = da.get(e);
return s && (e = s, a = Y), o ? t ? function() {
var o = a(t, zo(arguments));
i.call(this), this.addEventListener(e, this[r] = o, o.$ = n), o._ = t;
} : i : t ? w : function() {
var t, n = new RegExp("^__on([^.]+)" + Vo.requote(e) + "$");
for (var i in this) if (t = i.match(n)) {
var r = this[i];
this.removeEventListener(t[1], r, r.$), delete this[i];
}
};
}
function G(e, t) {
return function(n) {
var i = Vo.event;
Vo.event = n, t[0] = this.__data__;
try {
e.apply(this, t);
} finally {
Vo.event = i;
}
};
}
function Y(e, t) {
var n = G(e, t);
return function(e) {
var t = this, i = e.relatedTarget;
i && (i === t || 8 & i.compareDocumentPosition(t)) || n.call(t, e);
};
}
function K(n) {
var i = ".dragsuppress-" + ++fa, r = "click" + i, o = Vo.select(t(n)).on("touchmove" + i, S).on("dragstart" + i, S).on("selectstart" + i, S);
if (null == ha && (ha = !("onselectstart" in n) && _(n.style, "userSelect")), ha) {
var a = e(n).style, s = a[ha];
a[ha] = "none";
}
return function(e) {
if (o.on(i, null), ha && (a[ha] = s), e) {
var t = function() {
o.on(r, null);
};
o.on(r, function() {
S(), t();
}, !0), setTimeout(t, 0);
}
};
}
function X(e, n) {
n.changedTouches && (n = n.changedTouches[0]);
var i = e.ownerSVGElement || e;
if (i.createSVGPoint) {
var r = i.createSVGPoint();
if (pa < 0) {
var o = t(e);
if (o.scrollX || o.scrollY) {
var a = (i = Vo.select("body").append("svg").style({
position: "absolute",
top: 0,
left: 0,
margin: 0,
padding: 0,
border: "none"
}, "important"))[0][0].getScreenCTM();
pa = !(a.f || a.e), i.remove();
}
}
return pa ? (r.x = n.pageX, r.y = n.pageY) : (r.x = n.clientX, r.y = n.clientY), r = r.matrixTransform(e.getScreenCTM().inverse()), [ r.x, r.y ];
}
var s = e.getBoundingClientRect();
return [ n.clientX - s.left - e.clientLeft, n.clientY - s.top - e.clientTop ];
}
function Q() {
return Vo.event.changedTouches[0].identifier;
}
function J(e) {
return e > 0 ? 1 : e < 0 ? -1 : 0;
}
function Z(e, t, n) {
return (t[0] - e[0]) * (n[1] - e[1]) - (t[1] - e[1]) * (n[0] - e[0]);
}
function ee(e) {
return e > 1 ? 0 : e < -1 ? va : Math.acos(e);
}
function te(e) {
return e > 1 ? _a : e < -1 ? -_a : Math.asin(e);
}
function ne(e) {
return ((e = Math.exp(e)) - 1 / e) / 2;
}
function ie(e) {
return ((e = Math.exp(e)) + 1 / e) / 2;
}
function re(e) {
return ((e = Math.exp(2 * e)) - 1) / (e + 1);
}
function oe(e) {
return (e = Math.sin(e / 2)) * e;
}
function ae() {}
function se(e, t, n) {
return this instanceof se ? (this.h = +e, this.s = +t, void (this.l = +n)) : arguments.length < 2 ? e instanceof se ? new se(e.h, e.s, e.l) : we("" + e, Ce, se) : new se(e, t, n);
}
function le(e, t, n) {
function i(e) {
return e > 360 ? e -= 360 : e < 0 && (e += 360), e < 60 ? o + (a - o) * e / 60 : e < 180 ? a : e < 240 ? o + (a - o) * (240 - e) / 60 : o;
}
function r(e) {
return Math.round(255 * i(e));
}
var o, a;
return e = isNaN(e) ? 0 : (e %= 360) < 0 ? e + 360 : e, t = isNaN(t) ? 0 : t < 0 ? 0 : t > 1 ? 1 : t, n = n < 0 ? 0 : n > 1 ? 1 : n, a = n <= .5 ? n * (1 + t) : n + t - n * t, o = 2 * n - a, new ve(r(e + 120), r(e), r(e - 120));
}
function ce(e, t, n) {
return this instanceof ce ? (this.h = +e, this.c = +t, void (this.l = +n)) : arguments.length < 2 ? e instanceof ce ? new ce(e.h, e.c, e.l) : e instanceof de ? fe(e.l, e.a, e.b) : fe((e = xe((e = Vo.rgb(e)).r, e.g, e.b)).l, e.a, e.b) : new ce(e, t, n);
}
function ue(e, t, n) {
return isNaN(e) && (e = 0), isNaN(t) && (t = 0), new de(n, Math.cos(e *= wa) * t, Math.sin(e) * t);
}
function de(e, t, n) {
return this instanceof de ? (this.l = +e, this.a = +t, void (this.b = +n)) : arguments.length < 2 ? e instanceof de ? new de(e.l, e.a, e.b) : e instanceof ce ? ue(e.h, e.c, e.l) : xe((e = ve(e)).r, e.g, e.b) : new de(e, t, n);
}
function he(e, t, n) {
var i = (e + 16) / 116, r = i + t / 500, o = i - n / 200;
return r = pe(r) * Ea, i = pe(i) * Fa, o = pe(o) * Ma, new ve(me(3.2404542 * r - 1.5371385 * i - .4985314 * o), me(-.969266 * r + 1.8760108 * i + .041556 * o), me(.0556434 * r - .2040259 * i + 1.0572252 * o));
}
function fe(e, t, n) {
return e > 0 ? new ce(Math.atan2(n, t) * Ca, Math.sqrt(t * t + n * n), e) : new ce(NaN, NaN, e);
}
function pe(e) {
return e > .206893034 ? e * e * e : (e - 4 / 29) / 7.787037;
}
function ge(e) {
return e > .008856 ? Math.pow(e, 1 / 3) : 7.787037 * e + 4 / 29;
}
function me(e) {
return Math.round(255 * (e <= .00304 ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - .055));
}
function ve(e, t, n) {
return this instanceof ve ? (this.r = ~~e, this.g = ~~t, void (this.b = ~~n)) : arguments.length < 2 ? e instanceof ve ? new ve(e.r, e.g, e.b) : we("" + e, ve, le) : new ve(e, t, n);
}
function ye(e) {
return new ve(e >> 16, e >> 8 & 255, 255 & e);
}
function be(e) {
return ye(e) + "";
}
function _e(e) {
return e < 16 ? "0" + Math.max(0, e).toString(16) : Math.min(255, e).toString(16);
}
function we(e, t, n) {
var i, r, o, a = 0, s = 0, l = 0;
if (i = /([a-z]+)\((.*)\)/.exec(e = e.toLowerCase())) switch (r = i[2].split(","), i[1]) {
case "hsl":
return n(parseFloat(r[0]), parseFloat(r[1]) / 100, parseFloat(r[2]) / 100);

case "rgb":
return t($e(r[0]), $e(r[1]), $e(r[2]));
}
return (o = La.get(e)) ? t(o.r, o.g, o.b) : (null == e || "#" !== e.charAt(0) || isNaN(o = parseInt(e.slice(1), 16)) || (4 === e.length ? (a = (3840 & o) >> 4, a |= a >> 4, s = 240 & o, s |= s >> 4, l = 15 & o, l |= l << 4) : 7 === e.length && (a = (16711680 & o) >> 16, s = (65280 & o) >> 8, l = 255 & o)), t(a, s, l));
}
function Ce(e, t, n) {
var i, r, o = Math.min(e /= 255, t /= 255, n /= 255), a = Math.max(e, t, n), s = a - o, l = (a + o) / 2;
return s ? (r = l < .5 ? s / (a + o) : s / (2 - a - o), i = e == a ? (t - n) / s + (t < n ? 6 : 0) : t == a ? (n - e) / s + 2 : (e - t) / s + 4, i *= 60) : (i = NaN, r = l > 0 && l < 1 ? 0 : i), new se(i, r, l);
}
function xe(e, t, n) {
var i = ge((.4124564 * (e = Se(e)) + .3575761 * (t = Se(t)) + .1804375 * (n = Se(n))) / Ea), r = ge((.2126729 * e + .7151522 * t + .072175 * n) / Fa);
return de(116 * r - 16, 500 * (i - r), 200 * (r - ge((.0193339 * e + .119192 * t + .9503041 * n) / Ma)));
}
function Se(e) {
return (e /= 255) <= .04045 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4);
}
function $e(e) {
var t = parseFloat(e);
return "%" === e.charAt(e.length - 1) ? Math.round(2.55 * t) : t;
}
function Ae(e) {
return "function" == typeof e ? e : function() {
return e;
};
}
function ke(e) {
return function(t, n, i) {
return 2 === arguments.length && "function" == typeof n && (i = n, n = null), Te(t, n, e, i);
};
}
function Te(e, t, n, i) {
function r() {
var e, t = l.status;
if (!t && Ee(l) || t >= 200 && t < 300 || 304 === t) {
try {
e = n.call(o, l);
} catch (e) {
return void a.error.call(o, e);
}
a.load.call(o, e);
} else a.error.call(o, l);
}
var o = {}, a = Vo.dispatch("beforesend", "progress", "load", "error"), s = {}, l = new XMLHttpRequest(), c = null;
return !this.XDomainRequest || "withCredentials" in l || !/^(http(s)?:)?\/\//.test(e) || (l = new XDomainRequest()), "onload" in l ? l.onload = l.onerror = r : l.onreadystatechange = function() {
l.readyState > 3 && r();
}, l.onprogress = function(e) {
var t = Vo.event;
Vo.event = e;
try {
a.progress.call(o, l);
} finally {
Vo.event = t;
}
}, o.header = function(e, t) {
return e = (e + "").toLowerCase(), arguments.length < 2 ? s[e] : (null == t ? delete s[e] : s[e] = t + "", o);
}, o.mimeType = function(e) {
return arguments.length ? (t = null == e ? null : e + "", o) : t;
}, o.responseType = function(e) {
return arguments.length ? (c = e, o) : c;
}, o.response = function(e) {
return n = e, o;
}, [ "get", "post" ].forEach(function(e) {
o[e] = function() {
return o.send.apply(o, [ e ].concat(zo(arguments)));
};
}), o.send = function(n, i, r) {
if (2 === arguments.length && "function" == typeof i && (r = i, i = null), l.open(n, e, !0), null == t || "accept" in s || (s.accept = t + ",*/*"), l.setRequestHeader) for (var u in s) l.setRequestHeader(u, s[u]);
return null != t && l.overrideMimeType && l.overrideMimeType(t), null != c && (l.responseType = c), null != r && o.on("error", r).on("load", function(e) {
r(null, e);
}), a.beforesend.call(o, l), l.send(null == i ? null : i), o;
}, o.abort = function() {
return l.abort(), o;
}, Vo.rebind(o, a, "on"), null == i ? o : o.get(De(i));
}
function De(e) {
return 1 === e.length ? function(t, n) {
e(null == t ? n : null);
} : e;
}
function Ee(e) {
var t = e.responseType;
return t && "text" !== t ? e.response : e.responseText;
}
function Fe(e, t, n) {
var i = arguments.length;
i < 2 && (t = 0), i < 3 && (n = Date.now());
var r = {
c: e,
t: n + t,
n: null
};
return Ra ? Ra.n = r : Oa = r, Ra = r, Na || (Ba = clearTimeout(Ba), Na = 1, ja(Me)), r;
}
function Me() {
var e = Ie(), t = Pe() - e;
t > 24 ? (isFinite(t) && (clearTimeout(Ba), Ba = setTimeout(Me, t)), Na = 0) : (Na = 1, ja(Me));
}
function Ie() {
for (var e = Date.now(), t = Oa; t; ) e >= t.t && t.c(e - t.t) && (t.c = null), t = t.n;
return e;
}
function Pe() {
for (var e, t = Oa, n = 1 / 0; t; ) t.c ? (t.t < n && (n = t.t), t = (e = t).n) : t = e ? e.n = t.n : Oa = t.n;
return Ra = e, n;
}
function Le(e, t) {
return t - (e ? Math.ceil(Math.log(e) / Math.LN10) : 1);
}
function Oe(e) {
var t = e.decimal, n = e.thousands, i = e.grouping, r = e.currency, o = i && n ? function(e, t) {
for (var r = e.length, o = [], a = 0, s = i[0], l = 0; r > 0 && s > 0 && (l + s + 1 > t && (s = Math.max(1, t - l)), o.push(e.substring(r -= s, r + s)), !((l += s + 1) > t)); ) s = i[a = (a + 1) % i.length];
return o.reverse().join(n);
} : y;
return function(e) {
var n = Va.exec(e), i = n[1] || " ", a = n[2] || ">", s = n[3] || "-", l = n[4] || "", c = n[5], u = +n[6], d = n[7], h = n[8], f = n[9], p = 1, g = "", m = "", v = !1, y = !0;
switch (h && (h = +h.substring(1)), (c || "0" === i && "=" === a) && (c = i = "0", a = "="), f) {
case "n":
d = !0, f = "g";
break;

case "%":
p = 100, m = "%", f = "f";
break;

case "p":
p = 100, m = "%", f = "r";
break;

case "b":
case "o":
case "x":
case "X":
"#" === l && (g = "0" + f.toLowerCase());

case "c":
y = !1;

case "d":
v = !0, h = 0;
break;

case "s":
p = -1, f = "r";
}
"$" === l && (g = r[0], m = r[1]), "r" != f || h || (f = "g"), null != h && ("g" == f ? h = Math.max(1, Math.min(21, h)) : "e" != f && "f" != f || (h = Math.max(0, Math.min(20, h)))), f = Ua.get(f) || Re;
var b = c && d;
return function(e) {
var n = m;
if (v && e % 1) return "";
var r = e < 0 || 0 === e && 1 / e < 0 ? (e = -e, "-") : "-" === s ? "" : s;
if (p < 0) {
var l = Vo.formatPrefix(e, h);
e = l.scale(e), n = l.symbol + m;
} else e *= p;
var _, w, C = (e = f(e, h)).lastIndexOf(".");
if (C < 0) {
var x = y ? e.lastIndexOf("e") : -1;
x < 0 ? (_ = e, w = "") : (_ = e.substring(0, x), w = e.substring(x));
} else _ = e.substring(0, C), w = t + e.substring(C + 1);
!c && d && (_ = o(_, 1 / 0));
var S = g.length + _.length + w.length + (b ? 0 : r.length), $ = S < u ? new Array(S = u - S + 1).join(i) : "";
return b && (_ = o($ + _, $.length ? u - w.length : 1 / 0)), r += g, e = _ + w, ("<" === a ? r + e + $ : ">" === a ? $ + r + e : "^" === a ? $.substring(0, S >>= 1) + r + e + $.substring(S) : r + (b ? e : $ + e)) + n;
};
};
}
function Re(e) {
return e + "";
}
function Ne() {
this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);
}
function Be(e, t, n) {
function i(t) {
var n = e(t), i = o(n, 1);
return t - n < i - t ? n : i;
}
function r(n) {
return t(n = e(new Wa(n - 1)), 1), n;
}
function o(e, n) {
return t(e = new Wa(+e), n), e;
}
function a(e, i, o) {
var a = r(e), s = [];
if (o > 1) for (;a < i; ) n(a) % o || s.push(new Date(+a)), t(a, 1); else for (;a < i; ) s.push(new Date(+a)), t(a, 1);
return s;
}
e.floor = e, e.round = i, e.ceil = r, e.offset = o, e.range = a;
var s = e.utc = je(e);
return s.floor = s, s.round = je(i), s.ceil = je(r), s.offset = je(o), s.range = function(e, t, n) {
try {
Wa = Ne;
var i = new Ne();
return i._ = e, a(i, t, n);
} finally {
Wa = Date;
}
}, e;
}
function je(e) {
return function(t, n) {
try {
Wa = Ne;
var i = new Ne();
return i._ = t, e(i, n)._;
} finally {
Wa = Date;
}
};
}
function He(e) {
function t(e) {
function t(t) {
for (var n, r, o, a = [], s = -1, l = 0; ++s < i; ) 37 === e.charCodeAt(s) && (a.push(e.slice(l, s)), null != (r = Ga[n = e.charAt(++s)]) && (n = e.charAt(++s)), (o = _[n]) && (n = o(t, null == r ? "e" === n ? " " : "0" : r)), a.push(n), l = s + 1);
return a.push(e.slice(l, s)), a.join("");
}
var i = e.length;
return t.parse = function(t) {
var i = {
y: 1900,
m: 0,
d: 1,
H: 0,
M: 0,
S: 0,
L: 0,
Z: null
};
if (n(i, e, t, 0) != t.length) return null;
"p" in i && (i.H = i.H % 12 + 12 * i.p);
var r = null != i.Z && Wa !== Ne, o = new (r ? Ne : Wa)();
return "j" in i ? o.setFullYear(i.y, 0, i.j) : "W" in i || "U" in i ? ("w" in i || (i.w = "W" in i ? 1 : 0), o.setFullYear(i.y, 0, 1), o.setFullYear(i.y, 0, "W" in i ? (i.w + 6) % 7 + 7 * i.W - (o.getDay() + 5) % 7 : i.w + 7 * i.U - (o.getDay() + 6) % 7)) : o.setFullYear(i.y, i.m, i.d), o.setHours(i.H + (i.Z / 100 | 0), i.M + i.Z % 100, i.S, i.L), r ? o._ : o;
}, t.toString = function() {
return e;
}, t;
}
function n(e, t, n, i) {
for (var r, o, a, s = 0, l = t.length, c = n.length; s < l; ) {
if (i >= c) return -1;
if (37 === (r = t.charCodeAt(s++))) {
if (a = t.charAt(s++), !(o = w[a in Ga ? t.charAt(s++) : a]) || (i = o(e, n, i)) < 0) return -1;
} else if (r != n.charCodeAt(i++)) return -1;
}
return i;
}
var i = e.dateTime, r = e.date, o = e.time, a = e.periods, s = e.days, l = e.shortDays, c = e.months, u = e.shortMonths;
t.utc = function(e) {
function n(e) {
try {
var t = new (Wa = Ne)();
return t._ = e, i(t);
} finally {
Wa = Date;
}
}
var i = t(e);
return n.parse = function(e) {
try {
Wa = Ne;
var t = i.parse(e);
return t && t._;
} finally {
Wa = Date;
}
}, n.toString = i.toString, n;
}, t.multi = t.utc.multi = st;
var d = Vo.map(), h = Ue(s), f = ze(s), p = Ue(l), g = ze(l), m = Ue(c), v = ze(c), y = Ue(u), b = ze(u);
a.forEach(function(e, t) {
d.set(e.toLowerCase(), t);
});
var _ = {
a: function(e) {
return l[e.getDay()];
},
A: function(e) {
return s[e.getDay()];
},
b: function(e) {
return u[e.getMonth()];
},
B: function(e) {
return c[e.getMonth()];
},
c: t(i),
d: function(e, t) {
return Ve(e.getDate(), t, 2);
},
e: function(e, t) {
return Ve(e.getDate(), t, 2);
},
H: function(e, t) {
return Ve(e.getHours(), t, 2);
},
I: function(e, t) {
return Ve(e.getHours() % 12 || 12, t, 2);
},
j: function(e, t) {
return Ve(1 + za.dayOfYear(e), t, 3);
},
L: function(e, t) {
return Ve(e.getMilliseconds(), t, 3);
},
m: function(e, t) {
return Ve(e.getMonth() + 1, t, 2);
},
M: function(e, t) {
return Ve(e.getMinutes(), t, 2);
},
p: function(e) {
return a[+(e.getHours() >= 12)];
},
S: function(e, t) {
return Ve(e.getSeconds(), t, 2);
},
U: function(e, t) {
return Ve(za.sundayOfYear(e), t, 2);
},
w: function(e) {
return e.getDay();
},
W: function(e, t) {
return Ve(za.mondayOfYear(e), t, 2);
},
x: t(r),
X: t(o),
y: function(e, t) {
return Ve(e.getFullYear() % 100, t, 2);
},
Y: function(e, t) {
return Ve(e.getFullYear() % 1e4, t, 4);
},
Z: ot,
"%": function() {
return "%";
}
}, w = {
a: function(e, t, n) {
p.lastIndex = 0;
var i = p.exec(t.slice(n));
return i ? (e.w = g.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
A: function(e, t, n) {
h.lastIndex = 0;
var i = h.exec(t.slice(n));
return i ? (e.w = f.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
b: function(e, t, n) {
y.lastIndex = 0;
var i = y.exec(t.slice(n));
return i ? (e.m = b.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
B: function(e, t, n) {
m.lastIndex = 0;
var i = m.exec(t.slice(n));
return i ? (e.m = v.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
c: function(e, t, i) {
return n(e, _.c.toString(), t, i);
},
d: Ze,
e: Ze,
H: tt,
I: tt,
j: et,
L: rt,
m: Je,
M: nt,
p: function(e, t, n) {
var i = d.get(t.slice(n, n += 2).toLowerCase());
return null == i ? -1 : (e.p = i, n);
},
S: it,
U: qe,
w: We,
W: Ge,
x: function(e, t, i) {
return n(e, _.x.toString(), t, i);
},
X: function(e, t, i) {
return n(e, _.X.toString(), t, i);
},
y: Ke,
Y: Ye,
Z: Xe,
"%": at
};
return t;
}
function Ve(e, t, n) {
var i = e < 0 ? "-" : "", r = (i ? -e : e) + "", o = r.length;
return i + (o < n ? new Array(n - o + 1).join(t) + r : r);
}
function Ue(e) {
return new RegExp("^(?:" + e.map(Vo.requote).join("|") + ")", "i");
}
function ze(e) {
for (var t = new c(), n = -1, i = e.length; ++n < i; ) t.set(e[n].toLowerCase(), n);
return t;
}
function We(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 1));
return i ? (e.w = +i[0], n + i[0].length) : -1;
}
function qe(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n));
return i ? (e.U = +i[0], n + i[0].length) : -1;
}
function Ge(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n));
return i ? (e.W = +i[0], n + i[0].length) : -1;
}
function Ye(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 4));
return i ? (e.y = +i[0], n + i[0].length) : -1;
}
function Ke(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.y = Qe(+i[0]), n + i[0].length) : -1;
}
function Xe(e, t, n) {
return /^[+-]\d{4}$/.test(t = t.slice(n, n + 5)) ? (e.Z = -t, n + 5) : -1;
}
function Qe(e) {
return e + (e > 68 ? 1900 : 2e3);
}
function Je(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.m = i[0] - 1, n + i[0].length) : -1;
}
function Ze(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.d = +i[0], n + i[0].length) : -1;
}
function et(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 3));
return i ? (e.j = +i[0], n + i[0].length) : -1;
}
function tt(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.H = +i[0], n + i[0].length) : -1;
}
function nt(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.M = +i[0], n + i[0].length) : -1;
}
function it(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.S = +i[0], n + i[0].length) : -1;
}
function rt(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 3));
return i ? (e.L = +i[0], n + i[0].length) : -1;
}
function ot(e) {
var t = e.getTimezoneOffset(), n = t > 0 ? "-" : "+", i = Jo(t) / 60 | 0, r = Jo(t) % 60;
return n + Ve(i, "0", 2) + Ve(r, "0", 2);
}
function at(e, t, n) {
Ka.lastIndex = 0;
var i = Ka.exec(t.slice(n, n + 1));
return i ? n + i[0].length : -1;
}
function st(e) {
for (var t = e.length, n = -1; ++n < t; ) e[n][0] = this(e[n][0]);
return function(t) {
for (var n = 0, i = e[n]; !i[1](t); ) i = e[++n];
return i[0](t);
};
}
function lt() {}
function ct(e, t, n) {
var i = n.s = e + t, r = i - e, o = i - r;
n.t = e - o + (t - r);
}
function ut(e, t) {
e && Za.hasOwnProperty(e.type) && Za[e.type](e, t);
}
function dt(e, t, n) {
var i, r = -1, o = e.length - n;
for (t.lineStart(); ++r < o; ) i = e[r], t.point(i[0], i[1], i[2]);
t.lineEnd();
}
function ht(e, t) {
var n = -1, i = e.length;
for (t.polygonStart(); ++n < i; ) dt(e[n], t, 1);
t.polygonEnd();
}
function ft() {
function e(e, t) {
t = t * wa / 2 + va / 4;
var n = (e *= wa) - i, a = n >= 0 ? 1 : -1, s = a * n, l = Math.cos(t), c = Math.sin(t), u = o * c, d = r * l + u * Math.cos(s), h = u * a * Math.sin(s);
ts.add(Math.atan2(h, d)), i = e, r = l, o = c;
}
var t, n, i, r, o;
ns.point = function(a, s) {
ns.point = e, i = (t = a) * wa, r = Math.cos(s = (n = s) * wa / 2 + va / 4), o = Math.sin(s);
}, ns.lineEnd = function() {
e(t, n);
};
}
function pt(e) {
var t = e[0], n = e[1], i = Math.cos(n);
return [ i * Math.cos(t), i * Math.sin(t), Math.sin(n) ];
}
function gt(e, t) {
return e[0] * t[0] + e[1] * t[1] + e[2] * t[2];
}
function mt(e, t) {
return [ e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0] ];
}
function vt(e, t) {
e[0] += t[0], e[1] += t[1], e[2] += t[2];
}
function yt(e, t) {
return [ e[0] * t, e[1] * t, e[2] * t ];
}
function bt(e) {
var t = Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
e[0] /= t, e[1] /= t, e[2] /= t;
}
function _t(e) {
return [ Math.atan2(e[1], e[0]), te(e[2]) ];
}
function wt(e, t) {
return Jo(e[0] - t[0]) < ga && Jo(e[1] - t[1]) < ga;
}
function Ct(e, t) {
e *= wa;
var n = Math.cos(t *= wa);
xt(n * Math.cos(e), n * Math.sin(e), Math.sin(t));
}
function xt(e, t, n) {
os += (e - os) / ++is, as += (t - as) / is, ss += (n - ss) / is;
}
function St() {
function e(e, r) {
e *= wa;
var o = Math.cos(r *= wa), a = o * Math.cos(e), s = o * Math.sin(e), l = Math.sin(r), c = Math.atan2(Math.sqrt((c = n * l - i * s) * c + (c = i * a - t * l) * c + (c = t * s - n * a) * c), t * a + n * s + i * l);
rs += c, ls += c * (t + (t = a)), cs += c * (n + (n = s)), us += c * (i + (i = l)), xt(t, n, i);
}
var t, n, i;
ps.point = function(r, o) {
r *= wa;
var a = Math.cos(o *= wa);
t = a * Math.cos(r), n = a * Math.sin(r), i = Math.sin(o), ps.point = e, xt(t, n, i);
};
}
function $t() {
ps.point = Ct;
}
function At() {
function e(e, t) {
e *= wa;
var n = Math.cos(t *= wa), a = n * Math.cos(e), s = n * Math.sin(e), l = Math.sin(t), c = r * l - o * s, u = o * a - i * l, d = i * s - r * a, h = Math.sqrt(c * c + u * u + d * d), f = i * a + r * s + o * l, p = h && -ee(f) / h, g = Math.atan2(h, f);
ds += p * c, hs += p * u, fs += p * d, rs += g, ls += g * (i + (i = a)), cs += g * (r + (r = s)), us += g * (o + (o = l)), xt(i, r, o);
}
var t, n, i, r, o;
ps.point = function(a, s) {
t = a, n = s, ps.point = e, a *= wa;
var l = Math.cos(s *= wa);
i = l * Math.cos(a), r = l * Math.sin(a), o = Math.sin(s), xt(i, r, o);
}, ps.lineEnd = function() {
e(t, n), ps.lineEnd = $t, ps.point = Ct;
};
}
function kt(e, t) {
function n(n, i) {
return n = e(n, i), t(n[0], n[1]);
}
return e.invert && t.invert && (n.invert = function(n, i) {
return (n = t.invert(n, i)) && e.invert(n[0], n[1]);
}), n;
}
function Tt() {
return !0;
}
function Dt(e, t, n, i, r) {
var o = [], a = [];
if (e.forEach(function(e) {
if (!((t = e.length - 1) <= 0)) {
var t, n = e[0], i = e[t];
if (wt(n, i)) {
r.lineStart();
for (var s = 0; s < t; ++s) r.point((n = e[s])[0], n[1]);
r.lineEnd();
} else {
var l = new Ft(n, e, null, !0), c = new Ft(n, null, l, !1);
l.o = c, o.push(l), a.push(c), c = new Ft(i, null, l = new Ft(i, e, null, !1), !0), l.o = c, o.push(l), a.push(c);
}
}
}), a.sort(t), Et(o), Et(a), o.length) {
for (var s = 0, l = n, c = a.length; s < c; ++s) a[s].e = l = !l;
for (var u, d, h = o[0]; ;) {
for (var f = h, p = !0; f.v; ) if ((f = f.n) === h) return;
u = f.z, r.lineStart();
do {
if (f.v = f.o.v = !0, f.e) {
if (p) for (var s = 0, c = u.length; s < c; ++s) r.point((d = u[s])[0], d[1]); else i(f.x, f.n.x, 1, r);
f = f.n;
} else {
if (p) for (s = (u = f.p.z).length - 1; s >= 0; --s) r.point((d = u[s])[0], d[1]); else i(f.x, f.p.x, -1, r);
f = f.p;
}
u = (f = f.o).z, p = !p;
} while (!f.v);
r.lineEnd();
}
}
}
function Et(e) {
if (t = e.length) {
for (var t, n, i = 0, r = e[0]; ++i < t; ) r.n = n = e[i], n.p = r, r = n;
r.n = n = e[0], n.p = r;
}
}
function Ft(e, t, n, i) {
this.x = e, this.z = t, this.o = n, this.e = i, this.v = !1, this.n = this.p = null;
}
function Mt(e, t, n, i) {
return function(r, o) {
function a(t, n) {
var i = r(t, n);
e(t = i[0], n = i[1]) && o.point(t, n);
}
function s(e, t) {
var n = r(e, t);
m.point(n[0], n[1]);
}
function l() {
y.point = s, m.lineStart();
}
function c() {
y.point = a, m.lineEnd();
}
function u(e, t) {
g.push([ e, t ]);
var n = r(e, t);
_.point(n[0], n[1]);
}
function d() {
_.lineStart(), g = [];
}
function h() {
u(g[0][0], g[0][1]), _.lineEnd();
var e, t = _.clean(), n = b.buffer(), i = n.length;
if (g.pop(), p.push(g), g = null, i) if (1 & t) {
var r, a = -1;
if ((i = (e = n[0]).length - 1) > 0) {
for (w || (o.polygonStart(), w = !0), o.lineStart(); ++a < i; ) o.point((r = e[a])[0], r[1]);
o.lineEnd();
}
} else i > 1 && 2 & t && n.push(n.pop().concat(n.shift())), f.push(n.filter(It));
}
var f, p, g, m = t(o), v = r.invert(i[0], i[1]), y = {
point: a,
lineStart: l,
lineEnd: c,
polygonStart: function() {
y.point = u, y.lineStart = d, y.lineEnd = h, f = [], p = [];
},
polygonEnd: function() {
y.point = a, y.lineStart = l, y.lineEnd = c, f = Vo.merge(f);
var e = Rt(v, p);
f.length ? (w || (o.polygonStart(), w = !0), Dt(f, Lt, e, n, o)) : e && (w || (o.polygonStart(), w = !0), o.lineStart(), n(null, null, 1, o), o.lineEnd()), w && (o.polygonEnd(), w = !1), f = p = null;
},
sphere: function() {
o.polygonStart(), o.lineStart(), n(null, null, 1, o), o.lineEnd(), o.polygonEnd();
}
}, b = Pt(), _ = t(b), w = !1;
return y;
};
}
function It(e) {
return e.length > 1;
}
function Pt() {
var e, t = [];
return {
lineStart: function() {
t.push(e = []);
},
point: function(t, n) {
e.push([ t, n ]);
},
lineEnd: w,
buffer: function() {
var n = t;
return t = [], e = null, n;
},
rejoin: function() {
t.length > 1 && t.push(t.pop().concat(t.shift()));
}
};
}
function Lt(e, t) {
return ((e = e.x)[0] < 0 ? e[1] - _a - ga : _a - e[1]) - ((t = t.x)[0] < 0 ? t[1] - _a - ga : _a - t[1]);
}
function Ot(e, t, n, i) {
var r, o, a = Math.sin(e - n);
return Jo(a) > ga ? Math.atan((Math.sin(t) * (o = Math.cos(i)) * Math.sin(n) - Math.sin(i) * (r = Math.cos(t)) * Math.sin(e)) / (r * o * a)) : (t + i) / 2;
}
function Rt(e, t) {
var n = e[0], i = e[1], r = [ Math.sin(n), -Math.cos(n), 0 ], o = 0, a = 0;
ts.reset();
for (var s = 0, l = t.length; s < l; ++s) {
var c = t[s], u = c.length;
if (u) for (var d = c[0], h = d[0], f = d[1] / 2 + va / 4, p = Math.sin(f), g = Math.cos(f), m = 1; ;) {
m === u && (m = 0);
var v = (e = c[m])[0], y = e[1] / 2 + va / 4, b = Math.sin(y), _ = Math.cos(y), w = v - h, C = w >= 0 ? 1 : -1, x = C * w, S = x > va, $ = p * b;
if (ts.add(Math.atan2($ * C * Math.sin(x), g * _ + $ * Math.cos(x))), o += S ? w + C * ya : w, S ^ h >= n ^ v >= n) {
var A = mt(pt(d), pt(e));
bt(A);
var k = mt(r, A);
bt(k);
var T = (S ^ w >= 0 ? -1 : 1) * te(k[2]);
(i > T || i === T && (A[0] || A[1])) && (a += S ^ w >= 0 ? 1 : -1);
}
if (!m++) break;
h = v, p = b, g = _, d = e;
}
}
return (o < -ga || o < ga && ts < -ga) ^ 1 & a;
}
function Nt(e) {
function t(e, t) {
return Math.cos(e) * Math.cos(t) > r;
}
function n(e, t, n) {
var i = [ 1, 0, 0 ], o = mt(pt(e), pt(t)), a = gt(o, o), s = o[0], l = a - s * s;
if (!l) return !n && e;
var c = r * a / l, u = -r * s / l, d = mt(i, o), h = yt(i, c);
vt(h, yt(o, u));
var f = d, p = gt(h, f), g = gt(f, f), m = p * p - g * (gt(h, h) - 1);
if (!(m < 0)) {
var v = Math.sqrt(m), y = yt(f, (-p - v) / g);
if (vt(y, h), y = _t(y), !n) return y;
var b, _ = e[0], w = t[0], C = e[1], x = t[1];
w < _ && (b = _, _ = w, w = b);
var S = w - _, $ = Jo(S - va) < ga, A = $ || S < ga;
if (!$ && x < C && (b = C, C = x, x = b), A ? $ ? C + x > 0 ^ y[1] < (Jo(y[0] - _) < ga ? C : x) : C <= y[1] && y[1] <= x : S > va ^ (_ <= y[0] && y[0] <= w)) {
var k = yt(f, (-p + v) / g);
return vt(k, h), [ y, _t(k) ];
}
}
}
function i(t, n) {
var i = o ? e : va - e, r = 0;
return t < -i ? r |= 1 : t > i && (r |= 2), n < -i ? r |= 4 : n > i && (r |= 8), r;
}
var r = Math.cos(e), o = r > 0, a = Jo(r) > ga;
return Mt(t, function(e) {
var r, s, l, c, u;
return {
lineStart: function() {
c = l = !1, u = 1;
},
point: function(d, h) {
var f, p = [ d, h ], g = t(d, h), m = o ? g ? 0 : i(d, h) : g ? i(d + (d < 0 ? va : -va), h) : 0;
if (!r && (c = l = g) && e.lineStart(), g !== l && (f = n(r, p), (wt(r, f) || wt(p, f)) && (p[0] += ga, p[1] += ga, g = t(p[0], p[1]))), g !== l) u = 0, g ? (e.lineStart(), f = n(p, r), e.point(f[0], f[1])) : (f = n(r, p), e.point(f[0], f[1]), e.lineEnd()), r = f; else if (a && r && o ^ g) {
var v;
m & s || !(v = n(p, r, !0)) || (u = 0, o ? (e.lineStart(), e.point(v[0][0], v[0][1]), e.point(v[1][0], v[1][1]), e.lineEnd()) : (e.point(v[1][0], v[1][1]), e.lineEnd(), e.lineStart(), e.point(v[0][0], v[0][1])));
}
!g || r && wt(r, p) || e.point(p[0], p[1]), r = p, l = g, s = m;
},
lineEnd: function() {
l && e.lineEnd(), r = null;
},
clean: function() {
return u | (c && l) << 1;
}
};
}, dn(e, 6 * wa), o ? [ 0, -e ] : [ -va, e - va ]);
}
function Bt(e, t, n, i) {
return function(r) {
var o, a = r.a, s = r.b, l = a.x, c = a.y, u = 0, d = 1, h = s.x - l, f = s.y - c;
if (o = e - l, h || !(o > 0)) {
if (o /= h, h < 0) {
if (o < u) return;
o < d && (d = o);
} else if (h > 0) {
if (o > d) return;
o > u && (u = o);
}
if (o = n - l, h || !(o < 0)) {
if (o /= h, h < 0) {
if (o > d) return;
o > u && (u = o);
} else if (h > 0) {
if (o < u) return;
o < d && (d = o);
}
if (o = t - c, f || !(o > 0)) {
if (o /= f, f < 0) {
if (o < u) return;
o < d && (d = o);
} else if (f > 0) {
if (o > d) return;
o > u && (u = o);
}
if (o = i - c, f || !(o < 0)) {
if (o /= f, f < 0) {
if (o > d) return;
o > u && (u = o);
} else if (f > 0) {
if (o < u) return;
o < d && (d = o);
}
return u > 0 && (r.a = {
x: l + u * h,
y: c + u * f
}), d < 1 && (r.b = {
x: l + d * h,
y: c + d * f
}), r;
}
}
}
}
};
}
function jt(e, t, n, i) {
function r(i, r) {
return Jo(i[0] - e) < ga ? r > 0 ? 0 : 3 : Jo(i[0] - n) < ga ? r > 0 ? 2 : 1 : Jo(i[1] - t) < ga ? r > 0 ? 1 : 0 : r > 0 ? 3 : 2;
}
function o(e, t) {
return a(e.x, t.x);
}
function a(e, t) {
var n = r(e, 1), i = r(t, 1);
return n !== i ? n - i : 0 === n ? t[1] - e[1] : 1 === n ? e[0] - t[0] : 2 === n ? e[1] - t[1] : t[0] - e[0];
}
return function(s) {
function l(e) {
for (var t = 0, n = p.length, i = e[1], r = 0; r < n; ++r) for (var o, a = 1, s = p[r], l = s.length, c = s[0]; a < l; ++a) o = s[a], c[1] <= i ? o[1] > i && Z(c, o, e) > 0 && ++t : o[1] <= i && Z(c, o, e) < 0 && --t, c = o;
return 0 !== t;
}
function c(o, s, l, c) {
var u = 0, d = 0;
if (null == o || (u = r(o, l)) !== (d = r(s, l)) || a(o, s) < 0 ^ l > 0) do {
c.point(0 === u || 3 === u ? e : n, u > 1 ? i : t);
} while ((u = (u + l + 4) % 4) !== d); else c.point(s[0], s[1]);
}
function u(r, o) {
return e <= r && r <= n && t <= o && o <= i;
}
function d(e, t) {
u(e, t) && s.point(e, t);
}
function h(e, t) {
var n = u(e = Math.max(-ms, Math.min(ms, e)), t = Math.max(-ms, Math.min(ms, t)));
if (p && g.push([ e, t ]), C) m = e, v = t, y = n, C = !1, n && (s.lineStart(), s.point(e, t)); else if (n && w) s.point(e, t); else {
var i = {
a: {
x: b,
y: _
},
b: {
x: e,
y: t
}
};
A(i) ? (w || (s.lineStart(), s.point(i.a.x, i.a.y)), s.point(i.b.x, i.b.y), n || s.lineEnd(), x = !1) : n && (s.lineStart(), s.point(e, t), x = !1);
}
b = e, _ = t, w = n;
}
var f, p, g, m, v, y, b, _, w, C, x, S = s, $ = Pt(), A = Bt(e, t, n, i), k = {
point: d,
lineStart: function() {
k.point = h, p && p.push(g = []), C = !0, w = !1, b = _ = NaN;
},
lineEnd: function() {
f && (h(m, v), y && w && $.rejoin(), f.push($.buffer())), k.point = d, w && s.lineEnd();
},
polygonStart: function() {
s = $, f = [], p = [], x = !0;
},
polygonEnd: function() {
s = S, f = Vo.merge(f);
var t = l([ e, i ]), n = x && t, r = f.length;
(n || r) && (s.polygonStart(), n && (s.lineStart(), c(null, null, 1, s), s.lineEnd()), r && Dt(f, o, t, c, s), s.polygonEnd()), f = p = g = null;
}
};
return k;
};
}
function Ht(e) {
var t = 0, n = va / 3, i = nn(e), r = i(t, n);
return r.parallels = function(e) {
return arguments.length ? i(t = e[0] * va / 180, n = e[1] * va / 180) : [ t / va * 180, n / va * 180 ];
}, r;
}
function Vt(e, t) {
function n(e, t) {
var n = Math.sqrt(o - 2 * r * Math.sin(t)) / r;
return [ n * Math.sin(e *= r), a - n * Math.cos(e) ];
}
var i = Math.sin(e), r = (i + Math.sin(t)) / 2, o = 1 + i * (2 * r - i), a = Math.sqrt(o) / r;
return n.invert = function(e, t) {
var n = a - t;
return [ Math.atan2(e, n) / r, te((o - (e * e + n * n) * r * r) / (2 * r)) ];
}, n;
}
function Ut() {
function e(e, t) {
ys += r * e - i * t, i = e, r = t;
}
var t, n, i, r;
xs.point = function(o, a) {
xs.point = e, t = i = o, n = r = a;
}, xs.lineEnd = function() {
e(t, n);
};
}
function zt() {
function e(e, t) {
a.push("M", e, ",", t, o);
}
function t(e, t) {
a.push("M", e, ",", t), s.point = n;
}
function n(e, t) {
a.push("L", e, ",", t);
}
function i() {
s.point = e;
}
function r() {
a.push("Z");
}
var o = Wt(4.5), a = [], s = {
point: e,
lineStart: function() {
s.point = t;
},
lineEnd: i,
polygonStart: function() {
s.lineEnd = r;
},
polygonEnd: function() {
s.lineEnd = i, s.point = e;
},
pointRadius: function(e) {
return o = Wt(e), s;
},
result: function() {
if (a.length) {
var e = a.join("");
return a = [], e;
}
}
};
return s;
}
function Wt(e) {
return "m0," + e + "a" + e + "," + e + " 0 1,1 0," + -2 * e + "a" + e + "," + e + " 0 1,1 0," + 2 * e + "z";
}
function qt(e, t) {
os += e, as += t, ++ss;
}
function Gt() {
function e(e, i) {
var r = e - t, o = i - n, a = Math.sqrt(r * r + o * o);
ls += a * (t + e) / 2, cs += a * (n + i) / 2, us += a, qt(t = e, n = i);
}
var t, n;
$s.point = function(i, r) {
$s.point = e, qt(t = i, n = r);
};
}
function Yt() {
$s.point = qt;
}
function Kt() {
function e(e, t) {
var n = e - i, o = t - r, a = Math.sqrt(n * n + o * o);
ls += a * (i + e) / 2, cs += a * (r + t) / 2, us += a, ds += (a = r * e - i * t) * (i + e), hs += a * (r + t), fs += 3 * a, qt(i = e, r = t);
}
var t, n, i, r;
$s.point = function(o, a) {
$s.point = e, qt(t = i = o, n = r = a);
}, $s.lineEnd = function() {
e(t, n);
};
}
function Xt(e) {
function t(t, n) {
e.moveTo(t + a, n), e.arc(t, n, a, 0, ya);
}
function n(t, n) {
e.moveTo(t, n), s.point = i;
}
function i(t, n) {
e.lineTo(t, n);
}
function r() {
s.point = t;
}
function o() {
e.closePath();
}
var a = 4.5, s = {
point: t,
lineStart: function() {
s.point = n;
},
lineEnd: r,
polygonStart: function() {
s.lineEnd = o;
},
polygonEnd: function() {
s.lineEnd = r, s.point = t;
},
pointRadius: function(e) {
return a = e, s;
},
result: w
};
return s;
}
function Qt(e) {
function t(e) {
return (s ? i : n)(e);
}
function n(t) {
return en(t, function(n, i) {
n = e(n, i), t.point(n[0], n[1]);
});
}
function i(t) {
function n(n, i) {
n = e(n, i), t.point(n[0], n[1]);
}
function i() {
b = NaN, S.point = o, t.lineStart();
}
function o(n, i) {
var o = pt([ n, i ]), a = e(n, i);
r(b, _, y, w, C, x, b = a[0], _ = a[1], y = n, w = o[0], C = o[1], x = o[2], s, t), t.point(b, _);
}
function a() {
S.point = n, t.lineEnd();
}
function l() {
i(), S.point = c, S.lineEnd = u;
}
function c(e, t) {
o(d = e, h = t), f = b, p = _, g = w, m = C, v = x, S.point = o;
}
function u() {
r(b, _, y, w, C, x, f, p, d, g, m, v, s, t), S.lineEnd = a, a();
}
var d, h, f, p, g, m, v, y, b, _, w, C, x, S = {
point: n,
lineStart: i,
lineEnd: a,
polygonStart: function() {
t.polygonStart(), S.lineStart = l;
},
polygonEnd: function() {
t.polygonEnd(), S.lineStart = i;
}
};
return S;
}
function r(t, n, i, s, l, c, u, d, h, f, p, g, m, v) {
var y = u - t, b = d - n, _ = y * y + b * b;
if (_ > 4 * o && m--) {
var w = s + f, C = l + p, x = c + g, S = Math.sqrt(w * w + C * C + x * x), $ = Math.asin(x /= S), A = Jo(Jo(x) - 1) < ga || Jo(i - h) < ga ? (i + h) / 2 : Math.atan2(C, w), k = e(A, $), T = k[0], D = k[1], E = T - t, F = D - n, M = b * E - y * F;
(M * M / _ > o || Jo((y * E + b * F) / _ - .5) > .3 || s * f + l * p + c * g < a) && (r(t, n, i, s, l, c, T, D, A, w /= S, C /= S, x, m, v), v.point(T, D), r(T, D, A, w, C, x, u, d, h, f, p, g, m, v));
}
}
var o = .5, a = Math.cos(30 * wa), s = 16;
return t.precision = function(e) {
return arguments.length ? (s = (o = e * e) > 0 && 16, t) : Math.sqrt(o);
}, t;
}
function Jt(e) {
var t = Qt(function(t, n) {
return e([ t * Ca, n * Ca ]);
});
return function(e) {
return rn(t(e));
};
}
function Zt(e) {
this.stream = e;
}
function en(e, t) {
return {
point: t,
sphere: function() {
e.sphere();
},
lineStart: function() {
e.lineStart();
},
lineEnd: function() {
e.lineEnd();
},
polygonStart: function() {
e.polygonStart();
},
polygonEnd: function() {
e.polygonEnd();
}
};
}
function tn(e) {
return nn(function() {
return e;
})();
}
function nn(e) {
function t(e) {
return e = s(e[0] * wa, e[1] * wa), [ e[0] * h + l, c - e[1] * h ];
}
function n(e) {
return (e = s.invert((e[0] - l) / h, (c - e[1]) / h)) && [ e[0] * Ca, e[1] * Ca ];
}
function i() {
s = kt(a = sn(v, b, _), o);
var e = o(g, m);
return l = f - e[0] * h, c = p + e[1] * h, r();
}
function r() {
return u && (u.valid = !1, u = null), t;
}
var o, a, s, l, c, u, d = Qt(function(e, t) {
return e = o(e, t), [ e[0] * h + l, c - e[1] * h ];
}), h = 150, f = 480, p = 250, g = 0, m = 0, v = 0, b = 0, _ = 0, w = gs, C = y, x = null, S = null;
return t.stream = function(e) {
return u && (u.valid = !1), u = rn(w(a, d(C(e)))), u.valid = !0, u;
}, t.clipAngle = function(e) {
return arguments.length ? (w = null == e ? (x = e, gs) : Nt((x = +e) * wa), r()) : x;
}, t.clipExtent = function(e) {
return arguments.length ? (S = e, C = e ? jt(e[0][0], e[0][1], e[1][0], e[1][1]) : y, r()) : S;
}, t.scale = function(e) {
return arguments.length ? (h = +e, i()) : h;
}, t.translate = function(e) {
return arguments.length ? (f = +e[0], p = +e[1], i()) : [ f, p ];
}, t.center = function(e) {
return arguments.length ? (g = e[0] % 360 * wa, m = e[1] % 360 * wa, i()) : [ g * Ca, m * Ca ];
}, t.rotate = function(e) {
return arguments.length ? (v = e[0] % 360 * wa, b = e[1] % 360 * wa, _ = e.length > 2 ? e[2] % 360 * wa : 0, i()) : [ v * Ca, b * Ca, _ * Ca ];
}, Vo.rebind(t, d, "precision"), function() {
return o = e.apply(this, arguments), t.invert = o.invert && n, i();
};
}
function rn(e) {
return en(e, function(t, n) {
e.point(t * wa, n * wa);
});
}
function on(e, t) {
return [ e, t ];
}
function an(e, t) {
return [ e > va ? e - ya : e < -va ? e + ya : e, t ];
}
function sn(e, t, n) {
return e ? t || n ? kt(cn(e), un(t, n)) : cn(e) : t || n ? un(t, n) : an;
}
function ln(e) {
return function(t, n) {
return t += e, [ t > va ? t - ya : t < -va ? t + ya : t, n ];
};
}
function cn(e) {
var t = ln(e);
return t.invert = ln(-e), t;
}
function un(e, t) {
function n(e, t) {
var n = Math.cos(t), s = Math.cos(e) * n, l = Math.sin(e) * n, c = Math.sin(t), u = c * i + s * r;
return [ Math.atan2(l * o - u * a, s * i - c * r), te(u * o + l * a) ];
}
var i = Math.cos(e), r = Math.sin(e), o = Math.cos(t), a = Math.sin(t);
return n.invert = function(e, t) {
var n = Math.cos(t), s = Math.cos(e) * n, l = Math.sin(e) * n, c = Math.sin(t), u = c * o - l * a;
return [ Math.atan2(l * o + c * a, s * i + u * r), te(u * i - s * r) ];
}, n;
}
function dn(e, t) {
var n = Math.cos(e), i = Math.sin(e);
return function(r, o, a, s) {
var l = a * t;
null != r ? (r = hn(n, r), o = hn(n, o), (a > 0 ? r < o : r > o) && (r += a * ya)) : (r = e + a * ya, o = e - .5 * l);
for (var c, u = r; a > 0 ? u > o : u < o; u -= l) s.point((c = _t([ n, -i * Math.cos(u), -i * Math.sin(u) ]))[0], c[1]);
};
}
function hn(e, t) {
var n = pt(t);
n[0] -= e, bt(n);
var i = ee(-n[1]);
return ((-n[2] < 0 ? -i : i) + 2 * Math.PI - ga) % (2 * Math.PI);
}
function fn(e, t, n) {
var i = Vo.range(e, t - ga, n).concat(t);
return function(e) {
return i.map(function(t) {
return [ e, t ];
});
};
}
function pn(e, t, n) {
var i = Vo.range(e, t - ga, n).concat(t);
return function(e) {
return i.map(function(t) {
return [ t, e ];
});
};
}
function gn(e) {
return e.source;
}
function mn(e) {
return e.target;
}
function vn(e, t, n, i) {
var r = Math.cos(t), o = Math.sin(t), a = Math.cos(i), s = Math.sin(i), l = r * Math.cos(e), c = r * Math.sin(e), u = a * Math.cos(n), d = a * Math.sin(n), h = 2 * Math.asin(Math.sqrt(oe(i - t) + r * a * oe(n - e))), f = 1 / Math.sin(h), p = h ? function(e) {
var t = Math.sin(e *= h) * f, n = Math.sin(h - e) * f, i = n * l + t * u, r = n * c + t * d, a = n * o + t * s;
return [ Math.atan2(r, i) * Ca, Math.atan2(a, Math.sqrt(i * i + r * r)) * Ca ];
} : function() {
return [ e * Ca, t * Ca ];
};
return p.distance = h, p;
}
function yn(e, t) {
function n(t, n) {
var i = Math.cos(t), r = Math.cos(n), o = e(i * r);
return [ o * r * Math.sin(t), o * Math.sin(n) ];
}
return n.invert = function(e, n) {
var i = Math.sqrt(e * e + n * n), r = t(i), o = Math.sin(r), a = Math.cos(r);
return [ Math.atan2(e * o, i * a), Math.asin(i && n * o / i) ];
}, n;
}
function bn(e, t) {
function n(e, t) {
a > 0 ? t < -_a + ga && (t = -_a + ga) : t > _a - ga && (t = _a - ga);
var n = a / Math.pow(r(t), o);
return [ n * Math.sin(o * e), a - n * Math.cos(o * e) ];
}
var i = Math.cos(e), r = function(e) {
return Math.tan(va / 4 + e / 2);
}, o = e === t ? Math.sin(e) : Math.log(i / Math.cos(t)) / Math.log(r(t) / r(e)), a = i * Math.pow(r(e), o) / o;
return o ? (n.invert = function(e, t) {
var n = a - t, i = J(o) * Math.sqrt(e * e + n * n);
return [ Math.atan2(e, n) / o, 2 * Math.atan(Math.pow(a / i, 1 / o)) - _a ];
}, n) : wn;
}
function _n(e, t) {
function n(e, t) {
var n = o - t;
return [ n * Math.sin(r * e), o - n * Math.cos(r * e) ];
}
var i = Math.cos(e), r = e === t ? Math.sin(e) : (i - Math.cos(t)) / (t - e), o = i / r + e;
return Jo(r) < ga ? on : (n.invert = function(e, t) {
var n = o - t;
return [ Math.atan2(e, n) / r, o - J(r) * Math.sqrt(e * e + n * n) ];
}, n);
}
function wn(e, t) {
return [ e, Math.log(Math.tan(va / 4 + t / 2)) ];
}
function Cn(e) {
var t, n = tn(e), i = n.scale, r = n.translate, o = n.clipExtent;
return n.scale = function() {
var e = i.apply(n, arguments);
return e === n ? t ? n.clipExtent(null) : n : e;
}, n.translate = function() {
var e = r.apply(n, arguments);
return e === n ? t ? n.clipExtent(null) : n : e;
}, n.clipExtent = function(e) {
var a = o.apply(n, arguments);
if (a === n) {
if (t = null == e) {
var s = va * i(), l = r();
o([ [ l[0] - s, l[1] - s ], [ l[0] + s, l[1] + s ] ]);
}
} else t && (a = null);
return a;
}, n.clipExtent(null);
}
function xn(e, t) {
return [ Math.log(Math.tan(va / 4 + t / 2)), -e ];
}
function Sn(e) {
return e[0];
}
function $n(e) {
return e[1];
}
function An(e) {
for (var t = e.length, n = [ 0, 1 ], i = 2, r = 2; r < t; r++) {
for (;i > 1 && Z(e[n[i - 2]], e[n[i - 1]], e[r]) <= 0; ) --i;
n[i++] = r;
}
return n.slice(0, i);
}
function kn(e, t) {
return e[0] - t[0] || e[1] - t[1];
}
function Tn(e, t, n) {
return (n[0] - t[0]) * (e[1] - t[1]) < (n[1] - t[1]) * (e[0] - t[0]);
}
function Dn(e, t, n, i) {
var r = e[0], o = n[0], a = t[0] - r, s = i[0] - o, l = e[1], c = n[1], u = t[1] - l, d = i[1] - c, h = (s * (l - c) - d * (r - o)) / (d * a - s * u);
return [ r + h * a, l + h * u ];
}
function En(e) {
var t = e[0], n = e[e.length - 1];
return !(t[0] - n[0] || t[1] - n[1]);
}
function Fn() {
Jn(this), this.edge = this.site = this.circle = null;
}
function Mn(e) {
var t = Bs.pop() || new Fn();
return t.site = e, t;
}
function In(e) {
Un(e), Os.remove(e), Bs.push(e), Jn(e);
}
function Pn(e) {
var t = e.circle, n = t.x, i = t.cy, r = {
x: n,
y: i
}, o = e.P, a = e.N, s = [ e ];
In(e);
for (var l = o; l.circle && Jo(n - l.circle.x) < ga && Jo(i - l.circle.cy) < ga; ) o = l.P, s.unshift(l), In(l), l = o;
s.unshift(l), Un(l);
for (var c = a; c.circle && Jo(n - c.circle.x) < ga && Jo(i - c.circle.cy) < ga; ) a = c.N, s.push(c), In(c), c = a;
s.push(c), Un(c);
var u, d = s.length;
for (u = 1; u < d; ++u) c = s[u], l = s[u - 1], Kn(c.edge, l.site, c.site, r);
l = s[0], (c = s[d - 1]).edge = Gn(l.site, c.site, null, r), Vn(l), Vn(c);
}
function Ln(e) {
for (var t, n, i, r, o = e.x, a = e.y, s = Os._; s; ) if ((i = On(s, a) - o) > ga) s = s.L; else {
if (!((r = o - Rn(s, a)) > ga)) {
i > -ga ? (t = s.P, n = s) : r > -ga ? (t = s, n = s.N) : t = n = s;
break;
}
if (!s.R) {
t = s;
break;
}
s = s.R;
}
var l = Mn(e);
if (Os.insert(t, l), t || n) {
if (t === n) return Un(t), n = Mn(t.site), Os.insert(l, n), l.edge = n.edge = Gn(t.site, l.site), Vn(t), void Vn(n);
if (n) {
Un(t), Un(n);
var c = t.site, u = c.x, d = c.y, h = e.x - u, f = e.y - d, p = n.site, g = p.x - u, m = p.y - d, v = 2 * (h * m - f * g), y = h * h + f * f, b = g * g + m * m, _ = {
x: (m * y - f * b) / v + u,
y: (h * b - g * y) / v + d
};
Kn(n.edge, c, p, _), l.edge = Gn(c, e, null, _), n.edge = Gn(e, p, null, _), Vn(t), Vn(n);
} else l.edge = Gn(t.site, l.site);
}
}
function On(e, t) {
var n = e.site, i = n.x, r = n.y, o = r - t;
if (!o) return i;
var a = e.P;
if (!a) return -1 / 0;
var s = (n = a.site).x, l = n.y, c = l - t;
if (!c) return s;
var u = s - i, d = 1 / o - 1 / c, h = u / c;
return d ? (-h + Math.sqrt(h * h - 2 * d * (u * u / (-2 * c) - l + c / 2 + r - o / 2))) / d + i : (i + s) / 2;
}
function Rn(e, t) {
var n = e.N;
if (n) return On(n, t);
var i = e.site;
return i.y === t ? i.x : 1 / 0;
}
function Nn(e) {
this.site = e, this.edges = [];
}
function Bn(e) {
for (var t, n, i, r, o, a, s, l, c, u, d = e[0][0], h = e[1][0], f = e[0][1], p = e[1][1], g = Ls, m = g.length; m--; ) if ((o = g[m]) && o.prepare()) for (l = (s = o.edges).length, a = 0; a < l; ) i = (u = s[a].end()).x, r = u.y, t = (c = s[++a % l].start()).x, n = c.y, (Jo(i - t) > ga || Jo(r - n) > ga) && (s.splice(a, 0, new Xn(Yn(o.site, u, Jo(i - d) < ga && p - r > ga ? {
x: d,
y: Jo(t - d) < ga ? n : p
} : Jo(r - p) < ga && h - i > ga ? {
x: Jo(n - p) < ga ? t : h,
y: p
} : Jo(i - h) < ga && r - f > ga ? {
x: h,
y: Jo(t - h) < ga ? n : f
} : Jo(r - f) < ga && i - d > ga ? {
x: Jo(n - f) < ga ? t : d,
y: f
} : null), o.site, null)), ++l);
}
function jn(e, t) {
return t.angle - e.angle;
}
function Hn() {
Jn(this), this.x = this.y = this.arc = this.site = this.cy = null;
}
function Vn(e) {
var t = e.P, n = e.N;
if (t && n) {
var i = t.site, r = e.site, o = n.site;
if (i !== o) {
var a = r.x, s = r.y, l = i.x - a, c = i.y - s, u = o.x - a, d = 2 * (l * (m = o.y - s) - c * u);
if (!(d >= -ma)) {
var h = l * l + c * c, f = u * u + m * m, p = (m * h - c * f) / d, g = (l * f - u * h) / d, m = g + s, v = js.pop() || new Hn();
v.arc = e, v.site = r, v.x = p + a, v.y = m + Math.sqrt(p * p + g * g), v.cy = m, e.circle = v;
for (var y = null, b = Ns._; b; ) if (v.y < b.y || v.y === b.y && v.x <= b.x) {
if (!b.L) {
y = b.P;
break;
}
b = b.L;
} else {
if (!b.R) {
y = b;
break;
}
b = b.R;
}
Ns.insert(y, v), y || (Rs = v);
}
}
}
}
function Un(e) {
var t = e.circle;
t && (t.P || (Rs = t.N), Ns.remove(t), js.push(t), Jn(t), e.circle = null);
}
function zn(e) {
for (var t, n = Ps, i = Bt(e[0][0], e[0][1], e[1][0], e[1][1]), r = n.length; r--; ) (!Wn(t = n[r], e) || !i(t) || Jo(t.a.x - t.b.x) < ga && Jo(t.a.y - t.b.y) < ga) && (t.a = t.b = null, n.splice(r, 1));
}
function Wn(e, t) {
var n = e.b;
if (n) return !0;
var i, r, o = e.a, a = t[0][0], s = t[1][0], l = t[0][1], c = t[1][1], u = e.l, d = e.r, h = u.x, f = u.y, p = d.x, g = d.y, m = (h + p) / 2, v = (f + g) / 2;
if (g === f) {
if (m < a || m >= s) return;
if (h > p) {
if (o) {
if (o.y >= c) return;
} else o = {
x: m,
y: l
};
n = {
x: m,
y: c
};
} else {
if (o) {
if (o.y < l) return;
} else o = {
x: m,
y: c
};
n = {
x: m,
y: l
};
}
} else if (i = (h - p) / (g - f), r = v - i * m, i < -1 || i > 1) if (h > p) {
if (o) {
if (o.y >= c) return;
} else o = {
x: (l - r) / i,
y: l
};
n = {
x: (c - r) / i,
y: c
};
} else {
if (o) {
if (o.y < l) return;
} else o = {
x: (c - r) / i,
y: c
};
n = {
x: (l - r) / i,
y: l
};
} else if (f < g) {
if (o) {
if (o.x >= s) return;
} else o = {
x: a,
y: i * a + r
};
n = {
x: s,
y: i * s + r
};
} else {
if (o) {
if (o.x < a) return;
} else o = {
x: s,
y: i * s + r
};
n = {
x: a,
y: i * a + r
};
}
return e.a = o, e.b = n, !0;
}
function qn(e, t) {
this.l = e, this.r = t, this.a = this.b = null;
}
function Gn(e, t, n, i) {
var r = new qn(e, t);
return Ps.push(r), n && Kn(r, e, t, n), i && Kn(r, t, e, i), Ls[e.i].edges.push(new Xn(r, e, t)), Ls[t.i].edges.push(new Xn(r, t, e)), r;
}
function Yn(e, t, n) {
var i = new qn(e, null);
return i.a = t, i.b = n, Ps.push(i), i;
}
function Kn(e, t, n, i) {
e.a || e.b ? e.l === n ? e.b = i : e.a = i : (e.a = i, e.l = t, e.r = n);
}
function Xn(e, t, n) {
var i = e.a, r = e.b;
this.edge = e, this.site = t, this.angle = n ? Math.atan2(n.y - t.y, n.x - t.x) : e.l === t ? Math.atan2(r.x - i.x, i.y - r.y) : Math.atan2(i.x - r.x, r.y - i.y);
}
function Qn() {
this._ = null;
}
function Jn(e) {
e.U = e.C = e.L = e.R = e.P = e.N = null;
}
function Zn(e, t) {
var n = t, i = t.R, r = n.U;
r ? r.L === n ? r.L = i : r.R = i : e._ = i, i.U = r, n.U = i, n.R = i.L, n.R && (n.R.U = n), i.L = n;
}
function ei(e, t) {
var n = t, i = t.L, r = n.U;
r ? r.L === n ? r.L = i : r.R = i : e._ = i, i.U = r, n.U = i, n.L = i.R, n.L && (n.L.U = n), i.R = n;
}
function ti(e) {
for (;e.L; ) e = e.L;
return e;
}
function ni(e, t) {
var n, i, r, o = e.sort(ii).pop();
for (Ps = [], Ls = new Array(e.length), Os = new Qn(), Ns = new Qn(); ;) if (r = Rs, o && (!r || o.y < r.y || o.y === r.y && o.x < r.x)) o.x === n && o.y === i || (Ls[o.i] = new Nn(o), Ln(o), n = o.x, i = o.y), o = e.pop(); else {
if (!r) break;
Pn(r.arc);
}
t && (zn(t), Bn(t));
var a = {
cells: Ls,
edges: Ps
};
return Os = Ns = Ps = Ls = null, a;
}
function ii(e, t) {
return t.y - e.y || t.x - e.x;
}
function ri(e, t, n) {
return (e.x - n.x) * (t.y - e.y) - (e.x - t.x) * (n.y - e.y);
}
function oi(e) {
return e.x;
}
function ai(e) {
return e.y;
}
function si(e, t, n, i, r, o) {
if (!e(t, n, i, r, o)) {
var a = .5 * (n + r), s = .5 * (i + o), l = t.nodes;
l[0] && si(e, l[0], n, i, a, s), l[1] && si(e, l[1], a, i, r, s), l[2] && si(e, l[2], n, s, a, o), l[3] && si(e, l[3], a, s, r, o);
}
}
function li(e, t, n, i, r, o, a) {
var s, l = 1 / 0;
return function e(c, u, d, h, f) {
if (!(u > o || d > a || h < i || f < r)) {
if (p = c.point) {
var p, g = t - c.x, m = n - c.y, v = g * g + m * m;
if (v < l) {
var y = Math.sqrt(l = v);
i = t - y, r = n - y, o = t + y, a = n + y, s = p;
}
}
for (var b = c.nodes, _ = .5 * (u + h), w = .5 * (d + f), C = (n >= w) << 1 | t >= _, x = C + 4; C < x; ++C) if (c = b[3 & C]) switch (3 & C) {
case 0:
e(c, u, d, _, w);
break;

case 1:
e(c, _, d, h, w);
break;

case 2:
e(c, u, w, _, f);
break;

case 3:
e(c, _, w, h, f);
}
}
}(e, i, r, o, a), s;
}
function ci(e, t) {
e = Vo.rgb(e), t = Vo.rgb(t);
var n = e.r, i = e.g, r = e.b, o = t.r - n, a = t.g - i, s = t.b - r;
return function(e) {
return "#" + _e(Math.round(n + o * e)) + _e(Math.round(i + a * e)) + _e(Math.round(r + s * e));
};
}
function ui(e, t) {
var n, i = {}, r = {};
for (n in e) n in t ? i[n] = fi(e[n], t[n]) : r[n] = e[n];
for (n in t) n in e || (r[n] = t[n]);
return function(e) {
for (n in i) r[n] = i[n](e);
return r;
};
}
function di(e, t) {
return e = +e, t = +t, function(n) {
return e * (1 - n) + t * n;
};
}
function hi(e, t) {
var n, i, r, o = Vs.lastIndex = Us.lastIndex = 0, a = -1, s = [], l = [];
for (e += "", t += ""; (n = Vs.exec(e)) && (i = Us.exec(t)); ) (r = i.index) > o && (r = t.slice(o, r), s[a] ? s[a] += r : s[++a] = r), (n = n[0]) === (i = i[0]) ? s[a] ? s[a] += i : s[++a] = i : (s[++a] = null, l.push({
i: a,
x: di(n, i)
})), o = Us.lastIndex;
return o < t.length && (r = t.slice(o), s[a] ? s[a] += r : s[++a] = r), s.length < 2 ? l[0] ? (t = l[0].x, function(e) {
return t(e) + "";
}) : function() {
return t;
} : (t = l.length, function(e) {
for (var n, i = 0; i < t; ++i) s[(n = l[i]).i] = n.x(e);
return s.join("");
});
}
function fi(e, t) {
for (var n, i = Vo.interpolators.length; --i >= 0 && !(n = Vo.interpolators[i](e, t)); ) ;
return n;
}
function pi(e, t) {
var n, i = [], r = [], o = e.length, a = t.length, s = Math.min(e.length, t.length);
for (n = 0; n < s; ++n) i.push(fi(e[n], t[n]));
for (;n < o; ++n) r[n] = e[n];
for (;n < a; ++n) r[n] = t[n];
return function(e) {
for (n = 0; n < s; ++n) r[n] = i[n](e);
return r;
};
}
function gi(e) {
return function(t) {
return t <= 0 ? 0 : t >= 1 ? 1 : e(t);
};
}
function mi(e) {
return function(t) {
return 1 - e(1 - t);
};
}
function vi(e) {
return function(t) {
return .5 * (t < .5 ? e(2 * t) : 2 - e(2 - 2 * t));
};
}
function yi(e) {
return e * e;
}
function bi(e) {
return e * e * e;
}
function _i(e) {
if (e <= 0) return 0;
if (e >= 1) return 1;
var t = e * e, n = t * e;
return 4 * (e < .5 ? n : 3 * (e - t) + n - .75);
}
function wi(e) {
return 1 - Math.cos(e * _a);
}
function Ci(e) {
return Math.pow(2, 10 * (e - 1));
}
function xi(e) {
return 1 - Math.sqrt(1 - e * e);
}
function Si(e) {
return e < 1 / 2.75 ? 7.5625 * e * e : e < 2 / 2.75 ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : e < 2.5 / 2.75 ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375;
}
function $i(e, t) {
return t -= e, function(n) {
return Math.round(e + t * n);
};
}
function Ai(e) {
var t = [ e.a, e.b ], n = [ e.c, e.d ], i = Ti(t), r = ki(t, n), o = Ti(Di(n, t, -r)) || 0;
t[0] * n[1] < n[0] * t[1] && (t[0] *= -1, t[1] *= -1, i *= -1, r *= -1), this.rotate = (i ? Math.atan2(t[1], t[0]) : Math.atan2(-n[0], n[1])) * Ca, this.translate = [ e.e, e.f ], this.scale = [ i, o ], this.skew = o ? Math.atan2(r, o) * Ca : 0;
}
function ki(e, t) {
return e[0] * t[0] + e[1] * t[1];
}
function Ti(e) {
var t = Math.sqrt(ki(e, e));
return t && (e[0] /= t, e[1] /= t), t;
}
function Di(e, t, n) {
return e[0] += n * t[0], e[1] += n * t[1], e;
}
function Ei(e) {
return e.length ? e.pop() + "," : "";
}
function Fi(e, t, n, i) {
if (e[0] !== t[0] || e[1] !== t[1]) {
var r = n.push("translate(", null, ",", null, ")");
i.push({
i: r - 4,
x: di(e[0], t[0])
}, {
i: r - 2,
x: di(e[1], t[1])
});
} else (t[0] || t[1]) && n.push("translate(" + t + ")");
}
function Mi(e, t, n, i) {
e !== t ? (e - t > 180 ? t += 360 : t - e > 180 && (e += 360), i.push({
i: n.push(Ei(n) + "rotate(", null, ")") - 2,
x: di(e, t)
})) : t && n.push(Ei(n) + "rotate(" + t + ")");
}
function Ii(e, t, n, i) {
e !== t ? i.push({
i: n.push(Ei(n) + "skewX(", null, ")") - 2,
x: di(e, t)
}) : t && n.push(Ei(n) + "skewX(" + t + ")");
}
function Pi(e, t, n, i) {
if (e[0] !== t[0] || e[1] !== t[1]) {
var r = n.push(Ei(n) + "scale(", null, ",", null, ")");
i.push({
i: r - 4,
x: di(e[0], t[0])
}, {
i: r - 2,
x: di(e[1], t[1])
});
} else 1 === t[0] && 1 === t[1] || n.push(Ei(n) + "scale(" + t + ")");
}
function Li(e, t) {
var n = [], i = [];
return e = Vo.transform(e), t = Vo.transform(t), Fi(e.translate, t.translate, n, i), Mi(e.rotate, t.rotate, n, i), Ii(e.skew, t.skew, n, i), Pi(e.scale, t.scale, n, i), e = t = null, function(e) {
for (var t, r = -1, o = i.length; ++r < o; ) n[(t = i[r]).i] = t.x(e);
return n.join("");
};
}
function Oi(e, t) {
return t = (t -= e = +e) || 1 / t, function(n) {
return (n - e) / t;
};
}
function Ri(e, t) {
return t = (t -= e = +e) || 1 / t, function(n) {
return Math.max(0, Math.min(1, (n - e) / t));
};
}
function Ni(e) {
for (var t = e.source, n = e.target, i = ji(t, n), r = [ t ]; t !== i; ) t = t.parent, r.push(t);
for (var o = r.length; n !== i; ) r.splice(o, 0, n), n = n.parent;
return r;
}
function Bi(e) {
for (var t = [], n = e.parent; null != n; ) t.push(e), e = n, n = n.parent;
return t.push(e), t;
}
function ji(e, t) {
if (e === t) return e;
for (var n = Bi(e), i = Bi(t), r = n.pop(), o = i.pop(), a = null; r === o; ) a = r, r = n.pop(), o = i.pop();
return a;
}
function Hi(e) {
e.fixed |= 2;
}
function Vi(e) {
e.fixed &= -7;
}
function Ui(e) {
e.fixed |= 4, e.px = e.x, e.py = e.y;
}
function zi(e) {
e.fixed &= -5;
}
function Wi(e, t, n) {
var i = 0, r = 0;
if (e.charge = 0, !e.leaf) for (var o, a = e.nodes, s = a.length, l = -1; ++l < s; ) null != (o = a[l]) && (Wi(o, t, n), e.charge += o.charge, i += o.charge * o.cx, r += o.charge * o.cy);
if (e.point) {
e.leaf || (e.point.x += Math.random() - .5, e.point.y += Math.random() - .5);
var c = t * n[e.point.index];
e.charge += e.pointCharge = c, i += c * e.point.x, r += c * e.point.y;
}
e.cx = i / e.charge, e.cy = r / e.charge;
}
function qi(e, t) {
return Vo.rebind(e, t, "sort", "children", "value"), e.nodes = e, e.links = Ji, e;
}
function Gi(e, t) {
for (var n = [ e ]; null != (e = n.pop()); ) if (t(e), (r = e.children) && (i = r.length)) for (var i, r; --i >= 0; ) n.push(r[i]);
}
function Yi(e, t) {
for (var n = [ e ], i = []; null != (e = n.pop()); ) if (i.push(e), (o = e.children) && (r = o.length)) for (var r, o, a = -1; ++a < r; ) n.push(o[a]);
for (;null != (e = i.pop()); ) t(e);
}
function Ki(e) {
return e.children;
}
function Xi(e) {
return e.value;
}
function Qi(e, t) {
return t.value - e.value;
}
function Ji(e) {
return Vo.merge(e.map(function(e) {
return (e.children || []).map(function(t) {
return {
source: e,
target: t
};
});
}));
}
function Zi(e) {
return e.x;
}
function er(e) {
return e.y;
}
function tr(e, t, n) {
e.y0 = t, e.y = n;
}
function nr(e) {
return Vo.range(e.length);
}
function ir(e) {
for (var t = -1, n = e[0].length, i = []; ++t < n; ) i[t] = 0;
return i;
}
function rr(e) {
for (var t, n = 1, i = 0, r = e[0][1], o = e.length; n < o; ++n) (t = e[n][1]) > r && (i = n, r = t);
return i;
}
function or(e) {
return e.reduce(ar, 0);
}
function ar(e, t) {
return e + t[1];
}
function sr(e, t) {
return lr(e, Math.ceil(Math.log(t.length) / Math.LN2 + 1));
}
function lr(e, t) {
for (var n = -1, i = +e[0], r = (e[1] - i) / t, o = []; ++n <= t; ) o[n] = r * n + i;
return o;
}
function cr(e) {
return [ Vo.min(e), Vo.max(e) ];
}
function ur(e, t) {
return e.value - t.value;
}
function dr(e, t) {
var n = e._pack_next;
e._pack_next = t, t._pack_prev = e, t._pack_next = n, n._pack_prev = t;
}
function hr(e, t) {
e._pack_next = t, t._pack_prev = e;
}
function fr(e, t) {
var n = t.x - e.x, i = t.y - e.y, r = e.r + t.r;
return .999 * r * r > n * n + i * i;
}
function pr(e) {
function t(e) {
u = Math.min(e.x - e.r, u), d = Math.max(e.x + e.r, d), h = Math.min(e.y - e.r, h), f = Math.max(e.y + e.r, f);
}
if ((n = e.children) && (c = n.length)) {
var n, i, r, o, a, s, l, c, u = 1 / 0, d = -1 / 0, h = 1 / 0, f = -1 / 0;
if (n.forEach(gr), i = n[0], i.x = -i.r, i.y = 0, t(i), c > 1 && (r = n[1], r.x = r.r, r.y = 0, t(r), c > 2)) for (yr(i, r, o = n[2]), t(o), dr(i, o), i._pack_prev = o, dr(o, r), r = i._pack_next, a = 3; a < c; a++) {
yr(i, r, o = n[a]);
var p = 0, g = 1, m = 1;
for (s = r._pack_next; s !== r; s = s._pack_next, g++) if (fr(s, o)) {
p = 1;
break;
}
if (1 == p) for (l = i._pack_prev; l !== s._pack_prev && !fr(l, o); l = l._pack_prev, m++) ;
p ? (g < m || g == m && r.r < i.r ? hr(i, r = s) : hr(i = l, r), a--) : (dr(i, o), r = o, t(o));
}
var v = (u + d) / 2, y = (h + f) / 2, b = 0;
for (a = 0; a < c; a++) (o = n[a]).x -= v, o.y -= y, b = Math.max(b, o.r + Math.sqrt(o.x * o.x + o.y * o.y));
e.r = b, n.forEach(mr);
}
}
function gr(e) {
e._pack_next = e._pack_prev = e;
}
function mr(e) {
delete e._pack_next, delete e._pack_prev;
}
function vr(e, t, n, i) {
var r = e.children;
if (e.x = t += i * e.x, e.y = n += i * e.y, e.r *= i, r) for (var o = -1, a = r.length; ++o < a; ) vr(r[o], t, n, i);
}
function yr(e, t, n) {
var i = e.r + n.r, r = t.x - e.x, o = t.y - e.y;
if (i && (r || o)) {
var a = t.r + n.r, s = r * r + o * o, l = .5 + ((i *= i) - (a *= a)) / (2 * s), c = Math.sqrt(Math.max(0, 2 * a * (i + s) - (i -= s) * i - a * a)) / (2 * s);
n.x = e.x + l * r + c * o, n.y = e.y + l * o - c * r;
} else n.x = e.x + i, n.y = e.y;
}
function br(e, t) {
return e.parent == t.parent ? 1 : 2;
}
function _r(e) {
var t = e.children;
return t.length ? t[0] : e.t;
}
function wr(e) {
var t, n = e.children;
return (t = n.length) ? n[t - 1] : e.t;
}
function Cr(e, t, n) {
var i = n / (t.i - e.i);
t.c -= i, t.s += n, e.c += i, t.z += n, t.m += n;
}
function xr(e) {
for (var t, n = 0, i = 0, r = e.children, o = r.length; --o >= 0; ) (t = r[o]).z += n, t.m += n, n += t.s + (i += t.c);
}
function Sr(e, t, n) {
return e.a.parent === t.parent ? e.a : n;
}
function $r(e) {
return 1 + Vo.max(e, function(e) {
return e.y;
});
}
function Ar(e) {
return e.reduce(function(e, t) {
return e + t.x;
}, 0) / e.length;
}
function kr(e) {
var t = e.children;
return t && t.length ? kr(t[0]) : e;
}
function Tr(e) {
var t, n = e.children;
return n && (t = n.length) ? Tr(n[t - 1]) : e;
}
function Dr(e) {
return {
x: e.x,
y: e.y,
dx: e.dx,
dy: e.dy
};
}
function Er(e, t) {
var n = e.x + t[3], i = e.y + t[0], r = e.dx - t[1] - t[3], o = e.dy - t[0] - t[2];
return r < 0 && (n += r / 2, r = 0), o < 0 && (i += o / 2, o = 0), {
x: n,
y: i,
dx: r,
dy: o
};
}
function Fr(e) {
var t = e[0], n = e[e.length - 1];
return t < n ? [ t, n ] : [ n, t ];
}
function Mr(e) {
return e.rangeExtent ? e.rangeExtent() : Fr(e.range());
}
function Ir(e, t, n, i) {
var r = n(e[0], e[1]), o = i(t[0], t[1]);
return function(e) {
return o(r(e));
};
}
function Pr(e, t) {
var n, i = 0, r = e.length - 1, o = e[i], a = e[r];
return a < o && (n = i, i = r, r = n, n = o, o = a, a = n), e[i] = t.floor(o), e[r] = t.ceil(a), e;
}
function Lr(e) {
return e ? {
floor: function(t) {
return Math.floor(t / e) * e;
},
ceil: function(t) {
return Math.ceil(t / e) * e;
}
} : el;
}
function Or(e, t, n, i) {
var r = [], o = [], a = 0, s = Math.min(e.length, t.length) - 1;
for (e[s] < e[0] && (e = e.slice().reverse(), t = t.slice().reverse()); ++a <= s; ) r.push(n(e[a - 1], e[a])), o.push(i(t[a - 1], t[a]));
return function(t) {
var n = Vo.bisect(e, t, 1, s) - 1;
return o[n](r[n](t));
};
}
function Rr(e, t, n, i) {
function r() {
var r = Math.min(e.length, t.length) > 2 ? Or : Ir, l = i ? Ri : Oi;
return a = r(e, t, l, n), s = r(t, e, l, fi), o;
}
function o(e) {
return a(e);
}
var a, s;
return o.invert = function(e) {
return s(e);
}, o.domain = function(t) {
return arguments.length ? (e = t.map(Number), r()) : e;
}, o.range = function(e) {
return arguments.length ? (t = e, r()) : t;
}, o.rangeRound = function(e) {
return o.range(e).interpolate($i);
}, o.clamp = function(e) {
return arguments.length ? (i = e, r()) : i;
}, o.interpolate = function(e) {
return arguments.length ? (n = e, r()) : n;
}, o.ticks = function(t) {
return Hr(e, t);
}, o.tickFormat = function(t, n) {
return Vr(e, t, n);
}, o.nice = function(t) {
return Br(e, t), r();
}, o.copy = function() {
return Rr(e, t, n, i);
}, r();
}
function Nr(e, t) {
return Vo.rebind(e, t, "range", "rangeRound", "interpolate", "clamp");
}
function Br(e, t) {
return Pr(e, Lr(jr(e, t)[2])), Pr(e, Lr(jr(e, t)[2])), e;
}
function jr(e, t) {
null == t && (t = 10);
var n = Fr(e), i = n[1] - n[0], r = Math.pow(10, Math.floor(Math.log(i / t) / Math.LN10)), o = t / i * r;
return o <= .15 ? r *= 10 : o <= .35 ? r *= 5 : o <= .75 && (r *= 2), n[0] = Math.ceil(n[0] / r) * r, n[1] = Math.floor(n[1] / r) * r + .5 * r, n[2] = r, n;
}
function Hr(e, t) {
return Vo.range.apply(Vo, jr(e, t));
}
function Vr(e, t, n) {
var i = jr(e, t);
if (n) {
var r = Va.exec(n);
if (r.shift(), "s" === r[8]) {
var o = Vo.formatPrefix(Math.max(Jo(i[0]), Jo(i[1])));
return r[7] || (r[7] = "." + Ur(o.scale(i[2]))), r[8] = "f", n = Vo.format(r.join("")), function(e) {
return n(o.scale(e)) + o.symbol;
};
}
r[7] || (r[7] = "." + zr(r[8], i)), n = r.join("");
} else n = ",." + Ur(i[2]) + "f";
return Vo.format(n);
}
function Ur(e) {
return -Math.floor(Math.log(e) / Math.LN10 + .01);
}
function zr(e, t) {
var n = Ur(t[2]);
return e in tl ? Math.abs(n - Ur(Math.max(Jo(t[0]), Jo(t[1])))) + +("e" !== e) : n - 2 * ("%" === e);
}
function Wr(e, t, n, i) {
function r(e) {
return (n ? Math.log(e < 0 ? 0 : e) : -Math.log(e > 0 ? 0 : -e)) / Math.log(t);
}
function o(e) {
return n ? Math.pow(t, e) : -Math.pow(t, -e);
}
function a(t) {
return e(r(t));
}
return a.invert = function(t) {
return o(e.invert(t));
}, a.domain = function(t) {
return arguments.length ? (n = t[0] >= 0, e.domain((i = t.map(Number)).map(r)), a) : i;
}, a.base = function(n) {
return arguments.length ? (t = +n, e.domain(i.map(r)), a) : t;
}, a.nice = function() {
var t = Pr(i.map(r), n ? Math : il);
return e.domain(t), i = t.map(o), a;
}, a.ticks = function() {
var e = Fr(i), a = [], s = e[0], l = e[1], c = Math.floor(r(s)), u = Math.ceil(r(l)), d = t % 1 ? 2 : t;
if (isFinite(u - c)) {
if (n) {
for (;c < u; c++) for (h = 1; h < d; h++) a.push(o(c) * h);
a.push(o(c));
} else for (a.push(o(c)); c++ < u; ) for (var h = d - 1; h > 0; h--) a.push(o(c) * h);
for (c = 0; a[c] < s; c++) ;
for (u = a.length; a[u - 1] > l; u--) ;
a = a.slice(c, u);
}
return a;
}, a.tickFormat = function(e, n) {
if (!arguments.length) return nl;
arguments.length < 2 ? n = nl : "function" != typeof n && (n = Vo.format(n));
var i = Math.max(1, t * e / a.ticks().length);
return function(e) {
var a = e / o(Math.round(r(e)));
return a * t < t - .5 && (a *= t), a <= i ? n(e) : "";
};
}, a.copy = function() {
return Wr(e.copy(), t, n, i);
}, Nr(a, e);
}
function qr(e, t, n) {
function i(t) {
return e(r(t));
}
var r = Gr(t), o = Gr(1 / t);
return i.invert = function(t) {
return o(e.invert(t));
}, i.domain = function(t) {
return arguments.length ? (e.domain((n = t.map(Number)).map(r)), i) : n;
}, i.ticks = function(e) {
return Hr(n, e);
}, i.tickFormat = function(e, t) {
return Vr(n, e, t);
}, i.nice = function(e) {
return i.domain(Br(n, e));
}, i.exponent = function(a) {
return arguments.length ? (r = Gr(t = a), o = Gr(1 / t), e.domain(n.map(r)), i) : t;
}, i.copy = function() {
return qr(e.copy(), t, n);
}, Nr(i, e);
}
function Gr(e) {
return function(t) {
return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e);
};
}
function Yr(e, t) {
function n(n) {
return o[((r.get(n) || ("range" === t.t ? r.set(n, e.push(n)) : NaN)) - 1) % o.length];
}
function i(t, n) {
return Vo.range(e.length).map(function(e) {
return t + n * e;
});
}
var r, o, a;
return n.domain = function(i) {
if (!arguments.length) return e;
e = [], r = new c();
for (var o, a = -1, s = i.length; ++a < s; ) r.has(o = i[a]) || r.set(o, e.push(o));
return n[t.t].apply(n, t.a);
}, n.range = function(e) {
return arguments.length ? (o = e, a = 0, t = {
t: "range",
a: arguments
}, n) : o;
}, n.rangePoints = function(r, s) {
arguments.length < 2 && (s = 0);
var l = r[0], c = r[1], u = e.length < 2 ? (l = (l + c) / 2, 0) : (c - l) / (e.length - 1 + s);
return o = i(l + u * s / 2, u), a = 0, t = {
t: "rangePoints",
a: arguments
}, n;
}, n.rangeRoundPoints = function(r, s) {
arguments.length < 2 && (s = 0);
var l = r[0], c = r[1], u = e.length < 2 ? (l = c = Math.round((l + c) / 2), 0) : (c - l) / (e.length - 1 + s) | 0;
return o = i(l + Math.round(u * s / 2 + (c - l - (e.length - 1 + s) * u) / 2), u), a = 0, t = {
t: "rangeRoundPoints",
a: arguments
}, n;
}, n.rangeBands = function(r, s, l) {
arguments.length < 2 && (s = 0), arguments.length < 3 && (l = s);
var c = r[1] < r[0], u = r[c - 0], d = (r[1 - c] - u) / (e.length - s + 2 * l);
return o = i(u + d * l, d), c && o.reverse(), a = d * (1 - s), t = {
t: "rangeBands",
a: arguments
}, n;
}, n.rangeRoundBands = function(r, s, l) {
arguments.length < 2 && (s = 0), arguments.length < 3 && (l = s);
var c = r[1] < r[0], u = r[c - 0], d = r[1 - c], h = Math.floor((d - u) / (e.length - s + 2 * l));
return o = i(u + Math.round((d - u - (e.length - s) * h) / 2), h), c && o.reverse(), a = Math.round(h * (1 - s)), t = {
t: "rangeRoundBands",
a: arguments
}, n;
}, n.rangeBand = function() {
return a;
}, n.rangeExtent = function() {
return Fr(t.a[0]);
}, n.copy = function() {
return Yr(e, t);
}, n.domain(e);
}
function Kr(e, t) {
function o() {
var n = 0, i = t.length;
for (s = []; ++n < i; ) s[n - 1] = Vo.quantile(e, n / i);
return a;
}
function a(e) {
if (!isNaN(e = +e)) return t[Vo.bisect(s, e)];
}
var s;
return a.domain = function(t) {
return arguments.length ? (e = t.map(i).filter(r).sort(n), o()) : e;
}, a.range = function(e) {
return arguments.length ? (t = e, o()) : t;
}, a.quantiles = function() {
return s;
}, a.invertExtent = function(n) {
return (n = t.indexOf(n)) < 0 ? [ NaN, NaN ] : [ n > 0 ? s[n - 1] : e[0], n < s.length ? s[n] : e[e.length - 1] ];
}, a.copy = function() {
return Kr(e, t);
}, o();
}
function Xr(e, t, n) {
function i(t) {
return n[Math.max(0, Math.min(a, Math.floor(o * (t - e))))];
}
function r() {
return o = n.length / (t - e), a = n.length - 1, i;
}
var o, a;
return i.domain = function(n) {
return arguments.length ? (e = +n[0], t = +n[n.length - 1], r()) : [ e, t ];
}, i.range = function(e) {
return arguments.length ? (n = e, r()) : n;
}, i.invertExtent = function(t) {
return t = n.indexOf(t), t = t < 0 ? NaN : t / o + e, [ t, t + 1 / o ];
}, i.copy = function() {
return Xr(e, t, n);
}, r();
}
function Qr(e, t) {
function n(n) {
if (n <= n) return t[Vo.bisect(e, n)];
}
return n.domain = function(t) {
return arguments.length ? (e = t, n) : e;
}, n.range = function(e) {
return arguments.length ? (t = e, n) : t;
}, n.invertExtent = function(n) {
return n = t.indexOf(n), [ e[n - 1], e[n] ];
}, n.copy = function() {
return Qr(e, t);
}, n;
}
function Jr(e) {
function t(e) {
return +e;
}
return t.invert = t, t.domain = t.range = function(n) {
return arguments.length ? (e = n.map(t), t) : e;
}, t.ticks = function(t) {
return Hr(e, t);
}, t.tickFormat = function(t, n) {
return Vr(e, t, n);
}, t.copy = function() {
return Jr(e);
}, t;
}
function Zr() {
return 0;
}
function eo(e) {
return e.innerRadius;
}
function to(e) {
return e.outerRadius;
}
function no(e) {
return e.startAngle;
}
function io(e) {
return e.endAngle;
}
function ro(e) {
return e && e.padAngle;
}
function oo(e, t, n, i) {
return (e - n) * t - (t - i) * e > 0 ? 0 : 1;
}
function ao(e, t, n, i, r) {
var o = e[0] - t[0], a = e[1] - t[1], s = (r ? i : -i) / Math.sqrt(o * o + a * a), l = s * a, c = -s * o, u = e[0] + l, d = e[1] + c, h = t[0] + l, f = t[1] + c, p = (u + h) / 2, g = (d + f) / 2, m = h - u, v = f - d, y = m * m + v * v, b = n - i, _ = u * f - h * d, w = (v < 0 ? -1 : 1) * Math.sqrt(Math.max(0, b * b * y - _ * _)), C = (_ * v - m * w) / y, x = (-_ * m - v * w) / y, S = (_ * v + m * w) / y, $ = (-_ * m + v * w) / y, A = C - p, k = x - g, T = S - p, D = $ - g;
return A * A + k * k > T * T + D * D && (C = S, x = $), [ [ C - l, x - c ], [ C * n / b, x * n / b ] ];
}
function so(e) {
function t(t) {
function a() {
c.push("M", o(e(u), s));
}
for (var l, c = [], u = [], d = -1, h = t.length, f = Ae(n), p = Ae(i); ++d < h; ) r.call(this, l = t[d], d) ? u.push([ +f.call(this, l, d), +p.call(this, l, d) ]) : u.length && (a(), u = []);
return u.length && a(), c.length ? c.join("") : null;
}
var n = Sn, i = $n, r = Tt, o = lo, a = o.key, s = .7;
return t.x = function(e) {
return arguments.length ? (n = e, t) : n;
}, t.y = function(e) {
return arguments.length ? (i = e, t) : i;
}, t.defined = function(e) {
return arguments.length ? (r = e, t) : r;
}, t.interpolate = function(e) {
return arguments.length ? (a = "function" == typeof e ? o = e : (o = cl.get(e) || lo).key, t) : a;
}, t.tension = function(e) {
return arguments.length ? (s = e, t) : s;
}, t;
}
function lo(e) {
return e.length > 1 ? e.join("L") : e + "Z";
}
function co(e) {
return e.join("L") + "Z";
}
function uo(e) {
for (var t = 0, n = e.length, i = e[0], r = [ i[0], ",", i[1] ]; ++t < n; ) r.push("V", (i = e[t])[1], "H", i[0]);
return r.join("");
}
function ho(e) {
for (var t = 0, n = e.length, i = e[0], r = [ i[0], ",", i[1] ]; ++t < n; ) r.push("H", (i = e[t])[0], "V", i[1]);
return r.join("");
}
function fo(e, t) {
if (t.length < 1 || e.length != t.length && e.length != t.length + 2) return lo(e);
var n = e.length != t.length, i = "", r = e[0], o = e[1], a = t[0], s = a, l = 1;
if (n && (i += "Q" + (o[0] - 2 * a[0] / 3) + "," + (o[1] - 2 * a[1] / 3) + "," + o[0] + "," + o[1], r = e[1], l = 2), t.length > 1) {
s = t[1], o = e[l], l++, i += "C" + (r[0] + a[0]) + "," + (r[1] + a[1]) + "," + (o[0] - s[0]) + "," + (o[1] - s[1]) + "," + o[0] + "," + o[1];
for (var c = 2; c < t.length; c++, l++) o = e[l], s = t[c], i += "S" + (o[0] - s[0]) + "," + (o[1] - s[1]) + "," + o[0] + "," + o[1];
}
if (n) {
var u = e[l];
i += "Q" + (o[0] + 2 * s[0] / 3) + "," + (o[1] + 2 * s[1] / 3) + "," + u[0] + "," + u[1];
}
return i;
}
function po(e, t) {
for (var n, i = [], r = (1 - t) / 2, o = e[0], a = e[1], s = 1, l = e.length; ++s < l; ) n = o, o = a, a = e[s], i.push([ r * (a[0] - n[0]), r * (a[1] - n[1]) ]);
return i;
}
function go(e) {
if (e.length < 3) return lo(e);
var t = 1, n = e.length, i = e[0], r = i[0], o = i[1], a = [ r, r, r, (i = e[1])[0] ], s = [ o, o, o, i[1] ], l = [ r, ",", o, "L", mo(hl, a), ",", mo(hl, s) ];
for (e.push(e[n - 1]); ++t <= n; ) i = e[t], a.shift(), a.push(i[0]), s.shift(), s.push(i[1]), vo(l, a, s);
return e.pop(), l.push("L", i), l.join("");
}
function mo(e, t) {
return e[0] * t[0] + e[1] * t[1] + e[2] * t[2] + e[3] * t[3];
}
function vo(e, t, n) {
e.push("C", mo(ul, t), ",", mo(ul, n), ",", mo(dl, t), ",", mo(dl, n), ",", mo(hl, t), ",", mo(hl, n));
}
function yo(e, t) {
return (t[1] - e[1]) / (t[0] - e[0]);
}
function bo(e) {
for (var t = 0, n = e.length - 1, i = [], r = e[0], o = e[1], a = i[0] = yo(r, o); ++t < n; ) i[t] = (a + (a = yo(r = o, o = e[t + 1]))) / 2;
return i[t] = a, i;
}
function _o(e) {
for (var t, n, i, r, o = [], a = bo(e), s = -1, l = e.length - 1; ++s < l; ) t = yo(e[s], e[s + 1]), Jo(t) < ga ? a[s] = a[s + 1] = 0 : (r = (n = a[s] / t) * n + (i = a[s + 1] / t) * i) > 9 && (r = 3 * t / Math.sqrt(r), a[s] = r * n, a[s + 1] = r * i);
for (s = -1; ++s <= l; ) r = (e[Math.min(l, s + 1)][0] - e[Math.max(0, s - 1)][0]) / (6 * (1 + a[s] * a[s])), o.push([ r || 0, a[s] * r || 0 ]);
return o;
}
function wo(e) {
for (var t, n, i, r = -1, o = e.length; ++r < o; ) n = (t = e[r])[0], i = t[1] - _a, t[0] = n * Math.cos(i), t[1] = n * Math.sin(i);
return e;
}
function Co(e) {
function t(t) {
function l() {
g.push("M", s(e(v), d), u, c(e(m.reverse()), d), "Z");
}
for (var h, f, p, g = [], m = [], v = [], y = -1, b = t.length, _ = Ae(n), w = Ae(r), C = n === i ? function() {
return f;
} : Ae(i), x = r === o ? function() {
return p;
} : Ae(o); ++y < b; ) a.call(this, h = t[y], y) ? (m.push([ f = +_.call(this, h, y), p = +w.call(this, h, y) ]), v.push([ +C.call(this, h, y), +x.call(this, h, y) ])) : m.length && (l(), m = [], v = []);
return m.length && l(), g.length ? g.join("") : null;
}
var n = Sn, i = Sn, r = 0, o = $n, a = Tt, s = lo, l = s.key, c = s, u = "L", d = .7;
return t.x = function(e) {
return arguments.length ? (n = i = e, t) : i;
}, t.x0 = function(e) {
return arguments.length ? (n = e, t) : n;
}, t.x1 = function(e) {
return arguments.length ? (i = e, t) : i;
}, t.y = function(e) {
return arguments.length ? (r = o = e, t) : o;
}, t.y0 = function(e) {
return arguments.length ? (r = e, t) : r;
}, t.y1 = function(e) {
return arguments.length ? (o = e, t) : o;
}, t.defined = function(e) {
return arguments.length ? (a = e, t) : a;
}, t.interpolate = function(e) {
return arguments.length ? (l = "function" == typeof e ? s = e : (s = cl.get(e) || lo).key, c = s.reverse || s, u = s.closed ? "M" : "L", t) : l;
}, t.tension = function(e) {
return arguments.length ? (d = e, t) : d;
}, t;
}
function xo(e) {
return e.radius;
}
function So(e) {
return [ e.x, e.y ];
}
function $o(e) {
return function() {
var t = e.apply(this, arguments), n = t[0], i = t[1] - _a;
return [ n * Math.cos(i), n * Math.sin(i) ];
};
}
function Ao() {
return 64;
}
function ko() {
return "circle";
}
function To(e) {
var t = Math.sqrt(e / va);
return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z";
}
function Do(e) {
return function() {
var t, n, i;
(t = this[e]) && (i = t[n = t.active]) && (i.timer.c = null, i.timer.t = NaN, --t.count ? delete t[n] : delete this[e], t.active += .5, i.event && i.event.interrupt.call(this, this.__data__, i.index));
};
}
function Eo(e, t, n) {
return ia(e, bl), e.namespace = t, e.id = n, e;
}
function Fo(e, t, n, i) {
var r = e.id, o = e.namespace;
return U(e, "function" == typeof n ? function(e, a, s) {
e[o][r].tween.set(t, i(n.call(e, e.__data__, a, s)));
} : (n = i(n), function(e) {
e[o][r].tween.set(t, n);
}));
}
function Mo(e) {
return null == e && (e = ""), function() {
this.textContent = e;
};
}
function Io(e) {
return null == e ? "__transition__" : "__transition_" + e + "__";
}
function Po(e, t, n, i, r) {
function o(n) {
var r = f.active, o = f[r];
o && (o.timer.c = null, o.timer.t = NaN, --f.count, delete f[r], o.event && o.event.interrupt.call(e, e.__data__, o.index));
for (var c in f) if (+c < i) {
var g = f[c];
g.timer.c = null, g.timer.t = NaN, --f.count, delete f[c];
}
l.c = a, Fe(function() {
return l.c && a(n || 1) && (l.c = null, l.t = NaN), 1;
}, 0, s), f.active = i, p.event && p.event.start.call(e, e.__data__, t), h = [], p.tween.forEach(function(n, i) {
(i = i.call(e, e.__data__, t)) && h.push(i);
}), d = p.ease, u = p.duration;
}
function a(r) {
for (var o = r / u, a = d(o), s = h.length; s > 0; ) h[--s].call(e, a);
if (o >= 1) return p.event && p.event.end.call(e, e.__data__, t), --f.count ? delete f[i] : delete e[n], 1;
}
var s, l, u, d, h, f = e[n] || (e[n] = {
active: 0,
count: 0
}), p = f[i];
p || (s = r.time, l = Fe(function(e) {
var t = p.delay;
if (l.t = t + s, t <= e) return o(e - t);
l.c = o;
}, 0, s), p = f[i] = {
tween: new c(),
time: s,
timer: l,
delay: r.delay,
duration: r.duration,
ease: r.ease,
index: t
}, r = null, ++f.count);
}
function Lo(e, t, n) {
e.attr("transform", function(e) {
var i = t(e);
return "translate(" + (isFinite(i) ? i : n(e)) + ",0)";
});
}
function Oo(e, t, n) {
e.attr("transform", function(e) {
var i = t(e);
return "translate(0," + (isFinite(i) ? i : n(e)) + ")";
});
}
function Ro(e) {
return e.toISOString();
}
function No(e, t, n) {
function i(t) {
return e(t);
}
function r(e, n) {
var i = (e[1] - e[0]) / n, r = Vo.bisect(Tl, i);
return r == Tl.length ? [ t.year, jr(e.map(function(e) {
return e / 31536e6;
}), n)[2] ] : r ? t[i / Tl[r - 1] < Tl[r] / i ? r - 1 : r] : [ Fl, jr(e, n)[2] ];
}
return i.invert = function(t) {
return Bo(e.invert(t));
}, i.domain = function(t) {
return arguments.length ? (e.domain(t), i) : e.domain().map(Bo);
}, i.nice = function(e, t) {
function n(n) {
return !isNaN(n) && !e.range(n, Bo(+n + 1), t).length;
}
var o = i.domain(), a = Fr(o), s = null == e ? r(a, 10) : "number" == typeof e && r(a, e);
return s && (e = s[0], t = s[1]), i.domain(Pr(o, t > 1 ? {
floor: function(t) {
for (;n(t = e.floor(t)); ) t = Bo(t - 1);
return t;
},
ceil: function(t) {
for (;n(t = e.ceil(t)); ) t = Bo(+t + 1);
return t;
}
} : e));
}, i.ticks = function(e, t) {
var n = Fr(i.domain()), o = null == e ? r(n, 10) : "number" == typeof e ? r(n, e) : !e.range && [ {
range: e
}, t ];
return o && (e = o[0], t = o[1]), e.range(n[0], Bo(+n[1] + 1), t < 1 ? 1 : t);
}, i.tickFormat = function() {
return n;
}, i.copy = function() {
return No(e.copy(), t, n);
}, Nr(i, e);
}
function Bo(e) {
return new Date(e);
}
function jo(e) {
return JSON.parse(e.responseText);
}
function Ho(e) {
var t = Wo.createRange();
return t.selectNode(Wo.body), t.createContextualFragment(e.responseText);
}
var Vo = {
version: "3.5.17"
}, Uo = [].slice, zo = function(e) {
return Uo.call(e);
}, Wo = this.document;
if (Wo) try {
zo(Wo.documentElement.childNodes)[0].nodeType;
} catch (e) {
zo = function(e) {
for (var t = e.length, n = new Array(t); t--; ) n[t] = e[t];
return n;
};
}
if (Date.now || (Date.now = function() {
return +new Date();
}), Wo) try {
Wo.createElement("DIV").style.setProperty("opacity", 0, "");
} catch (e) {
var qo = this.Element.prototype, Go = qo.setAttribute, Yo = qo.setAttributeNS, Ko = this.CSSStyleDeclaration.prototype, Xo = Ko.setProperty;
qo.setAttribute = function(e, t) {
Go.call(this, e, t + "");
}, qo.setAttributeNS = function(e, t, n) {
Yo.call(this, e, t, n + "");
}, Ko.setProperty = function(e, t, n) {
Xo.call(this, e, t + "", n);
};
}
Vo.ascending = n, Vo.descending = function(e, t) {
return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN;
}, Vo.min = function(e, t) {
var n, i, r = -1, o = e.length;
if (1 === arguments.length) {
for (;++r < o; ) if (null != (i = e[r]) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = e[r]) && n > i && (n = i);
} else {
for (;++r < o; ) if (null != (i = t.call(e, e[r], r)) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = t.call(e, e[r], r)) && n > i && (n = i);
}
return n;
}, Vo.max = function(e, t) {
var n, i, r = -1, o = e.length;
if (1 === arguments.length) {
for (;++r < o; ) if (null != (i = e[r]) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = e[r]) && i > n && (n = i);
} else {
for (;++r < o; ) if (null != (i = t.call(e, e[r], r)) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = t.call(e, e[r], r)) && i > n && (n = i);
}
return n;
}, Vo.extent = function(e, t) {
var n, i, r, o = -1, a = e.length;
if (1 === arguments.length) {
for (;++o < a; ) if (null != (i = e[o]) && i >= i) {
n = r = i;
break;
}
for (;++o < a; ) null != (i = e[o]) && (n > i && (n = i), r < i && (r = i));
} else {
for (;++o < a; ) if (null != (i = t.call(e, e[o], o)) && i >= i) {
n = r = i;
break;
}
for (;++o < a; ) null != (i = t.call(e, e[o], o)) && (n > i && (n = i), r < i && (r = i));
}
return [ n, r ];
}, Vo.sum = function(e, t) {
var n, i = 0, o = e.length, a = -1;
if (1 === arguments.length) for (;++a < o; ) r(n = +e[a]) && (i += n); else for (;++a < o; ) r(n = +t.call(e, e[a], a)) && (i += n);
return i;
}, Vo.mean = function(e, t) {
var n, o = 0, a = e.length, s = -1, l = a;
if (1 === arguments.length) for (;++s < a; ) r(n = i(e[s])) ? o += n : --l; else for (;++s < a; ) r(n = i(t.call(e, e[s], s))) ? o += n : --l;
if (l) return o / l;
}, Vo.quantile = function(e, t) {
var n = (e.length - 1) * t + 1, i = Math.floor(n), r = +e[i - 1], o = n - i;
return o ? r + o * (e[i] - r) : r;
}, Vo.median = function(e, t) {
var o, a = [], s = e.length, l = -1;
if (1 === arguments.length) for (;++l < s; ) r(o = i(e[l])) && a.push(o); else for (;++l < s; ) r(o = i(t.call(e, e[l], l))) && a.push(o);
if (a.length) return Vo.quantile(a.sort(n), .5);
}, Vo.variance = function(e, t) {
var n, o, a = e.length, s = 0, l = 0, c = -1, u = 0;
if (1 === arguments.length) for (;++c < a; ) r(n = i(e[c])) && (l += (o = n - s) * (n - (s += o / ++u))); else for (;++c < a; ) r(n = i(t.call(e, e[c], c))) && (l += (o = n - s) * (n - (s += o / ++u)));
if (u > 1) return l / (u - 1);
}, Vo.deviation = function() {
var e = Vo.variance.apply(this, arguments);
return e ? Math.sqrt(e) : e;
};
var Qo = o(n);
Vo.bisectLeft = Qo.left, Vo.bisect = Vo.bisectRight = Qo.right, Vo.bisector = function(e) {
return o(1 === e.length ? function(t, i) {
return n(e(t), i);
} : e);
}, Vo.shuffle = function(e, t, n) {
(o = arguments.length) < 3 && (n = e.length, o < 2 && (t = 0));
for (var i, r, o = n - t; o; ) r = Math.random() * o-- | 0, i = e[o + t], e[o + t] = e[r + t], e[r + t] = i;
return e;
}, Vo.permute = function(e, t) {
for (var n = t.length, i = new Array(n); n--; ) i[n] = e[t[n]];
return i;
}, Vo.pairs = function(e) {
for (var t = 0, n = e.length - 1, i = e[0], r = new Array(n < 0 ? 0 : n); t < n; ) r[t] = [ i, i = e[++t] ];
return r;
}, Vo.transpose = function(e) {
if (!(r = e.length)) return [];
for (var t = -1, n = Vo.min(e, a), i = new Array(n); ++t < n; ) for (var r, o = -1, s = i[t] = new Array(r); ++o < r; ) s[o] = e[o][t];
return i;
}, Vo.zip = function() {
return Vo.transpose(arguments);
}, Vo.keys = function(e) {
var t = [];
for (var n in e) t.push(n);
return t;
}, Vo.values = function(e) {
var t = [];
for (var n in e) t.push(e[n]);
return t;
}, Vo.entries = function(e) {
var t = [];
for (var n in e) t.push({
key: n,
value: e[n]
});
return t;
}, Vo.merge = function(e) {
for (var t, n, i, r = e.length, o = -1, a = 0; ++o < r; ) a += e[o].length;
for (n = new Array(a); --r >= 0; ) for (t = (i = e[r]).length; --t >= 0; ) n[--a] = i[t];
return n;
};
var Jo = Math.abs;
Vo.range = function(e, t, n) {
if (arguments.length < 3 && (n = 1, arguments.length < 2 && (t = e, e = 0)), (t - e) / n == 1 / 0) throw new Error("infinite range");
var i, r = [], o = s(Jo(n)), a = -1;
if (e *= o, t *= o, (n *= o) < 0) for (;(i = e + n * ++a) > t; ) r.push(i / o); else for (;(i = e + n * ++a) < t; ) r.push(i / o);
return r;
}, Vo.map = function(e, t) {
var n = new c();
if (e instanceof c) e.forEach(function(e, t) {
n.set(e, t);
}); else if (Array.isArray(e)) {
var i, r = -1, o = e.length;
if (1 === arguments.length) for (;++r < o; ) n.set(r, e[r]); else for (;++r < o; ) n.set(t.call(e, i = e[r], r), i);
} else for (var a in e) n.set(a, e[a]);
return n;
};
var Zo = "__proto__", ea = "\0";
l(c, {
has: h,
get: function(e) {
return this._[u(e)];
},
set: function(e, t) {
return this._[u(e)] = t;
},
remove: f,
keys: p,
values: function() {
var e = [];
for (var t in this._) e.push(this._[t]);
return e;
},
entries: function() {
var e = [];
for (var t in this._) e.push({
key: d(t),
value: this._[t]
});
return e;
},
size: g,
empty: m,
forEach: function(e) {
for (var t in this._) e.call(this, d(t), this._[t]);
}
}), Vo.nest = function() {
function e(t, a, s) {
if (s >= o.length) return i ? i.call(r, a) : n ? a.sort(n) : a;
for (var l, u, d, h, f = -1, p = a.length, g = o[s++], m = new c(); ++f < p; ) (h = m.get(l = g(u = a[f]))) ? h.push(u) : m.set(l, [ u ]);
return t ? (u = t(), d = function(n, i) {
u.set(n, e(t, i, s));
}) : (u = {}, d = function(n, i) {
u[n] = e(t, i, s);
}), m.forEach(d), u;
}
function t(e, n) {
if (n >= o.length) return e;
var i = [], r = a[n++];
return e.forEach(function(e, r) {
i.push({
key: e,
values: t(r, n)
});
}), r ? i.sort(function(e, t) {
return r(e.key, t.key);
}) : i;
}
var n, i, r = {}, o = [], a = [];
return r.map = function(t, n) {
return e(n, t, 0);
}, r.entries = function(n) {
return t(e(Vo.map, n, 0), 0);
}, r.key = function(e) {
return o.push(e), r;
}, r.sortKeys = function(e) {
return a[o.length - 1] = e, r;
}, r.sortValues = function(e) {
return n = e, r;
}, r.rollup = function(e) {
return i = e, r;
}, r;
}, Vo.set = function(e) {
var t = new v();
if (e) for (var n = 0, i = e.length; n < i; ++n) t.add(e[n]);
return t;
}, l(v, {
has: h,
add: function(e) {
return this._[u(e += "")] = !0, e;
},
remove: f,
values: p,
size: g,
empty: m,
forEach: function(e) {
for (var t in this._) e.call(this, d(t));
}
}), Vo.behavior = {}, Vo.rebind = function(e, t) {
for (var n, i = 1, r = arguments.length; ++i < r; ) e[n = arguments[i]] = b(e, t, t[n]);
return e;
};
var ta = [ "webkit", "ms", "moz", "Moz", "o", "O" ];
Vo.dispatch = function() {
for (var e = new C(), t = -1, n = arguments.length; ++t < n; ) e[arguments[t]] = x(e);
return e;
}, C.prototype.on = function(e, t) {
var n = e.indexOf("."), i = "";
if (n >= 0 && (i = e.slice(n + 1), e = e.slice(0, n)), e) return arguments.length < 2 ? this[e].on(i) : this[e].on(i, t);
if (2 === arguments.length) {
if (null == t) for (e in this) this.hasOwnProperty(e) && this[e].on(i, null);
return this;
}
}, Vo.event = null, Vo.requote = function(e) {
return e.replace(na, "\\$&");
};
var na = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g, ia = {}.__proto__ ? function(e, t) {
e.__proto__ = t;
} : function(e, t) {
for (var n in t) e[n] = t[n];
}, ra = function(e, t) {
return t.querySelector(e);
}, oa = function(e, t) {
return t.querySelectorAll(e);
}, aa = function(e, t) {
var n = e.matches || e[_(e, "matchesSelector")];
return (aa = function(e, t) {
return n.call(e, t);
})(e, t);
};
"function" == typeof Sizzle && (ra = function(e, t) {
return Sizzle(e, t)[0] || null;
}, oa = Sizzle, aa = Sizzle.matchesSelector), Vo.selection = function() {
return Vo.select(Wo.documentElement);
};
var sa = Vo.selection.prototype = [];
sa.select = function(e) {
var t, n, i, r, o = [];
e = T(e);
for (var a = -1, s = this.length; ++a < s; ) {
o.push(t = []), t.parentNode = (i = this[a]).parentNode;
for (var l = -1, c = i.length; ++l < c; ) (r = i[l]) ? (t.push(n = e.call(r, r.__data__, l, a)), n && "__data__" in r && (n.__data__ = r.__data__)) : t.push(null);
}
return k(o);
}, sa.selectAll = function(e) {
var t, n, i = [];
e = D(e);
for (var r = -1, o = this.length; ++r < o; ) for (var a = this[r], s = -1, l = a.length; ++s < l; ) (n = a[s]) && (i.push(t = zo(e.call(n, n.__data__, s, r))), t.parentNode = n);
return k(i);
};
var la = "http://www.w3.org/1999/xhtml", ca = {
svg: "http://www.w3.org/2000/svg",
xhtml: la,
xlink: "http://www.w3.org/1999/xlink",
xml: "http://www.w3.org/XML/1998/namespace",
xmlns: "http://www.w3.org/2000/xmlns/"
};
Vo.ns = {
prefix: ca,
qualify: function(e) {
var t = e.indexOf(":"), n = e;
return t >= 0 && "xmlns" !== (n = e.slice(0, t)) && (e = e.slice(t + 1)), ca.hasOwnProperty(n) ? {
space: ca[n],
local: e
} : e;
}
}, sa.attr = function(e, t) {
if (arguments.length < 2) {
if ("string" == typeof e) {
var n = this.node();
return (e = Vo.ns.qualify(e)).local ? n.getAttributeNS(e.space, e.local) : n.getAttribute(e);
}
for (t in e) this.each(E(t, e[t]));
return this;
}
return this.each(E(e, t));
}, sa.classed = function(e, t) {
if (arguments.length < 2) {
if ("string" == typeof e) {
var n = this.node(), i = (e = I(e)).length, r = -1;
if (t = n.classList) {
for (;++r < i; ) if (!t.contains(e[r])) return !1;
} else for (t = n.getAttribute("class"); ++r < i; ) if (!M(e[r]).test(t)) return !1;
return !0;
}
for (t in e) this.each(P(t, e[t]));
return this;
}
return this.each(P(e, t));
}, sa.style = function(e, n, i) {
var r = arguments.length;
if (r < 3) {
if ("string" != typeof e) {
r < 2 && (n = "");
for (i in e) this.each(O(i, e[i], n));
return this;
}
if (r < 2) {
var o = this.node();
return t(o).getComputedStyle(o, null).getPropertyValue(e);
}
i = "";
}
return this.each(O(e, n, i));
}, sa.property = function(e, t) {
if (arguments.length < 2) {
if ("string" == typeof e) return this.node()[e];
for (t in e) this.each(R(t, e[t]));
return this;
}
return this.each(R(e, t));
}, sa.text = function(e) {
return arguments.length ? this.each("function" == typeof e ? function() {
var t = e.apply(this, arguments);
this.textContent = null == t ? "" : t;
} : null == e ? function() {
this.textContent = "";
} : function() {
this.textContent = e;
}) : this.node().textContent;
}, sa.html = function(e) {
return arguments.length ? this.each("function" == typeof e ? function() {
var t = e.apply(this, arguments);
this.innerHTML = null == t ? "" : t;
} : null == e ? function() {
this.innerHTML = "";
} : function() {
this.innerHTML = e;
}) : this.node().innerHTML;
}, sa.append = function(e) {
return e = N(e), this.select(function() {
return this.appendChild(e.apply(this, arguments));
});
}, sa.insert = function(e, t) {
return e = N(e), t = T(t), this.select(function() {
return this.insertBefore(e.apply(this, arguments), t.apply(this, arguments) || null);
});
}, sa.remove = function() {
return this.each(B);
}, sa.data = function(e, t) {
function n(e, n) {
var i, r, o, a = e.length, d = n.length, h = Math.min(a, d), f = new Array(d), p = new Array(d), g = new Array(a);
if (t) {
var m, v = new c(), y = new Array(a);
for (i = -1; ++i < a; ) (r = e[i]) && (v.has(m = t.call(r, r.__data__, i)) ? g[i] = r : v.set(m, r), y[i] = m);
for (i = -1; ++i < d; ) (r = v.get(m = t.call(n, o = n[i], i))) ? !0 !== r && (f[i] = r, r.__data__ = o) : p[i] = j(o), v.set(m, !0);
for (i = -1; ++i < a; ) i in y && !0 !== v.get(y[i]) && (g[i] = e[i]);
} else {
for (i = -1; ++i < h; ) r = e[i], o = n[i], r ? (r.__data__ = o, f[i] = r) : p[i] = j(o);
for (;i < d; ++i) p[i] = j(n[i]);
for (;i < a; ++i) g[i] = e[i];
}
p.update = f, p.parentNode = f.parentNode = g.parentNode = e.parentNode, s.push(p), l.push(f), u.push(g);
}
var i, r, o = -1, a = this.length;
if (!arguments.length) {
for (e = new Array(a = (i = this[0]).length); ++o < a; ) (r = i[o]) && (e[o] = r.__data__);
return e;
}
var s = z([]), l = k([]), u = k([]);
if ("function" == typeof e) for (;++o < a; ) n(i = this[o], e.call(i, i.parentNode.__data__, o)); else for (;++o < a; ) n(i = this[o], e);
return l.enter = function() {
return s;
}, l.exit = function() {
return u;
}, l;
}, sa.datum = function(e) {
return arguments.length ? this.property("__data__", e) : this.property("__data__");
}, sa.filter = function(e) {
var t, n, i, r = [];
"function" != typeof e && (e = H(e));
for (var o = 0, a = this.length; o < a; o++) {
r.push(t = []), t.parentNode = (n = this[o]).parentNode;
for (var s = 0, l = n.length; s < l; s++) (i = n[s]) && e.call(i, i.__data__, s, o) && t.push(i);
}
return k(r);
}, sa.order = function() {
for (var e = -1, t = this.length; ++e < t; ) for (var n, i = this[e], r = i.length - 1, o = i[r]; --r >= 0; ) (n = i[r]) && (o && o !== n.nextSibling && o.parentNode.insertBefore(n, o), o = n);
return this;
}, sa.sort = function(e) {
e = V.apply(this, arguments);
for (var t = -1, n = this.length; ++t < n; ) this[t].sort(e);
return this.order();
}, sa.each = function(e) {
return U(this, function(t, n, i) {
e.call(t, t.__data__, n, i);
});
}, sa.call = function(e) {
var t = zo(arguments);
return e.apply(t[0] = this, t), this;
}, sa.empty = function() {
return !this.node();
}, sa.node = function() {
for (var e = 0, t = this.length; e < t; e++) for (var n = this[e], i = 0, r = n.length; i < r; i++) {
var o = n[i];
if (o) return o;
}
return null;
}, sa.size = function() {
var e = 0;
return U(this, function() {
++e;
}), e;
};
var ua = [];
Vo.selection.enter = z, Vo.selection.enter.prototype = ua, ua.append = sa.append, ua.empty = sa.empty, ua.node = sa.node, ua.call = sa.call, ua.size = sa.size, ua.select = function(e) {
for (var t, n, i, r, o, a = [], s = -1, l = this.length; ++s < l; ) {
i = (r = this[s]).update, a.push(t = []), t.parentNode = r.parentNode;
for (var c = -1, u = r.length; ++c < u; ) (o = r[c]) ? (t.push(i[c] = n = e.call(r.parentNode, o.__data__, c, s)), n.__data__ = o.__data__) : t.push(null);
}
return k(a);
}, ua.insert = function(e, t) {
return arguments.length < 2 && (t = W(this)), sa.insert.call(this, e, t);
}, Vo.select = function(t) {
var n;
return "string" == typeof t ? (n = [ ra(t, Wo) ]).parentNode = Wo.documentElement : (n = [ t ]).parentNode = e(t), k([ n ]);
}, Vo.selectAll = function(e) {
var t;
return "string" == typeof e ? (t = zo(oa(e, Wo))).parentNode = Wo.documentElement : (t = zo(e)).parentNode = null, k([ t ]);
}, sa.on = function(e, t, n) {
var i = arguments.length;
if (i < 3) {
if ("string" != typeof e) {
i < 2 && (t = !1);
for (n in e) this.each(q(n, e[n], t));
return this;
}
if (i < 2) return (i = this.node()["__on" + e]) && i._;
n = !1;
}
return this.each(q(e, t, n));
};
var da = Vo.map({
mouseenter: "mouseover",
mouseleave: "mouseout"
});
Wo && da.forEach(function(e) {
"on" + e in Wo && da.remove(e);
});
var ha, fa = 0;
Vo.mouse = function(e) {
return X(e, $());
};
var pa = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
Vo.touch = function(e, t, n) {
if (arguments.length < 3 && (n = t, t = $().changedTouches), t) for (var i, r = 0, o = t.length; r < o; ++r) if ((i = t[r]).identifier === n) return X(e, i);
}, Vo.behavior.drag = function() {
function e() {
this.on("mousedown.drag", o).on("touchstart.drag", a);
}
function n(e, t, n, o, a) {
return function() {
var s, l = this, c = Vo.event.target.correspondingElement || Vo.event.target, u = l.parentNode, d = i.of(l, arguments), h = 0, f = e(), p = ".drag" + (null == f ? "" : "-" + f), g = Vo.select(n(c)).on(o + p, function() {
var e, n, i = t(u, f);
i && (e = i[0] - v[0], n = i[1] - v[1], h |= e | n, v = i, d({
type: "drag",
x: i[0] + s[0],
y: i[1] + s[1],
dx: e,
dy: n
}));
}).on(a + p, function() {
t(u, f) && (g.on(o + p, null).on(a + p, null), m(h), d({
type: "dragend"
}));
}), m = K(c), v = t(u, f);
r ? (s = r.apply(l, arguments), s = [ s.x - v[0], s.y - v[1] ]) : s = [ 0, 0 ], d({
type: "dragstart"
});
};
}
var i = A(e, "drag", "dragstart", "dragend"), r = null, o = n(w, Vo.mouse, t, "mousemove", "mouseup"), a = n(Q, Vo.touch, y, "touchmove", "touchend");
return e.origin = function(t) {
return arguments.length ? (r = t, e) : r;
}, Vo.rebind(e, i, "on");
}, Vo.touches = function(e, t) {
return arguments.length < 2 && (t = $().touches), t ? zo(t).map(function(t) {
var n = X(e, t);
return n.identifier = t.identifier, n;
}) : [];
};
var ga = 1e-6, ma = ga * ga, va = Math.PI, ya = 2 * va, ba = ya - ga, _a = va / 2, wa = va / 180, Ca = 180 / va, xa = Math.SQRT2;
Vo.interpolateZoom = function(e, t) {
var n, i, r = e[0], o = e[1], a = e[2], s = t[0], l = t[1], c = t[2], u = s - r, d = l - o, h = u * u + d * d;
if (h < ma) i = Math.log(c / a) / xa, n = function(e) {
return [ r + e * u, o + e * d, a * Math.exp(xa * e * i) ];
}; else {
var f = Math.sqrt(h), p = (c * c - a * a + 4 * h) / (2 * a * 2 * f), g = (c * c - a * a - 4 * h) / (2 * c * 2 * f), m = Math.log(Math.sqrt(p * p + 1) - p), v = Math.log(Math.sqrt(g * g + 1) - g);
i = (v - m) / xa, n = function(e) {
var t = e * i, n = ie(m), s = a / (2 * f) * (n * re(xa * t + m) - ne(m));
return [ r + s * u, o + s * d, a * n / ie(xa * t + m) ];
};
}
return n.duration = 1e3 * i, n;
}, Vo.behavior.zoom = function() {
function e(e) {
e.on(F, d).on($a + ".zoom", f).on("dblclick.zoom", p).on(P, h);
}
function n(e) {
return [ (e[0] - $.x) / $.k, (e[1] - $.y) / $.k ];
}
function i(e) {
return [ e[0] * $.k + $.x, e[1] * $.k + $.y ];
}
function r(e) {
$.k = Math.max(T[0], Math.min(T[1], e));
}
function o(e, t) {
t = i(t), $.x += e[0] - t[0], $.y += e[1] - t[1];
}
function a(t, n, i, a) {
t.__chart__ = {
x: $.x,
y: $.y,
k: $.k
}, r(Math.pow(2, a)), o(m = n, i), t = Vo.select(t), D > 0 && (t = t.transition().duration(D)), t.call(e.event);
}
function s() {
w && w.domain(_.range().map(function(e) {
return (e - $.x) / $.k;
}).map(_.invert)), x && x.domain(C.range().map(function(e) {
return (e - $.y) / $.k;
}).map(C.invert));
}
function l(e) {
E++ || e({
type: "zoomstart"
});
}
function c(e) {
s(), e({
type: "zoom",
scale: $.k,
translate: [ $.x, $.y ]
});
}
function u(e) {
--E || (e({
type: "zoomend"
}), m = null);
}
function d() {
var e = this, i = L.of(e, arguments), r = 0, a = Vo.select(t(e)).on(M, function() {
r = 1, o(Vo.mouse(e), s), c(i);
}).on(I, function() {
a.on(M, null).on(I, null), d(r), u(i);
}), s = n(Vo.mouse(e)), d = K(e);
yl.call(e), l(i);
}
function h() {
function e() {
var e = Vo.touches(p);
return f = $.k, e.forEach(function(e) {
e.identifier in m && (m[e.identifier] = n(e));
}), e;
}
function t() {
var t = Vo.event.target;
Vo.select(t).on(_, i).on(w, s), C.push(t);
for (var n = Vo.event.changedTouches, r = 0, o = n.length; r < o; ++r) m[n[r].identifier] = null;
var l = e(), c = Date.now();
if (1 === l.length) {
if (c - b < 500) {
u = l[0];
a(p, u, m[u.identifier], Math.floor(Math.log($.k) / Math.LN2) + 1), S();
}
b = c;
} else if (l.length > 1) {
var u = l[0], d = l[1], h = u[0] - d[0], f = u[1] - d[1];
v = h * h + f * f;
}
}
function i() {
var e, t, n, i, a = Vo.touches(p);
yl.call(p);
for (var s = 0, l = a.length; s < l; ++s, i = null) if (n = a[s], i = m[n.identifier]) {
if (t) break;
e = n, t = i;
}
if (i) {
var u = (u = n[0] - e[0]) * u + (u = n[1] - e[1]) * u, d = v && Math.sqrt(u / v);
e = [ (e[0] + n[0]) / 2, (e[1] + n[1]) / 2 ], t = [ (t[0] + i[0]) / 2, (t[1] + i[1]) / 2 ], r(d * f);
}
b = null, o(e, t), c(g);
}
function s() {
if (Vo.event.touches.length) {
for (var t = Vo.event.changedTouches, n = 0, i = t.length; n < i; ++n) delete m[t[n].identifier];
for (var r in m) return void e();
}
Vo.selectAll(C).on(y, null), x.on(F, d).on(P, h), A(), u(g);
}
var f, p = this, g = L.of(p, arguments), m = {}, v = 0, y = ".zoom-" + Vo.event.changedTouches[0].identifier, _ = "touchmove" + y, w = "touchend" + y, C = [], x = Vo.select(p), A = K(p);
t(), l(g), x.on(F, null).on(P, t);
}
function f() {
var e = L.of(this, arguments);
y ? clearTimeout(y) : (yl.call(this), g = n(m = v || Vo.mouse(this)), l(e)), y = setTimeout(function() {
y = null, u(e);
}, 50), S(), r(Math.pow(2, .002 * Sa()) * $.k), o(m, g), c(e);
}
function p() {
var e = Vo.mouse(this), t = Math.log($.k) / Math.LN2;
a(this, e, n(e), Vo.event.shiftKey ? Math.ceil(t) - 1 : Math.floor(t) + 1);
}
var g, m, v, y, b, _, w, C, x, $ = {
x: 0,
y: 0,
k: 1
}, k = [ 960, 500 ], T = Aa, D = 250, E = 0, F = "mousedown.zoom", M = "mousemove.zoom", I = "mouseup.zoom", P = "touchstart.zoom", L = A(e, "zoomstart", "zoom", "zoomend");
return $a || ($a = "onwheel" in Wo ? (Sa = function() {
return -Vo.event.deltaY * (Vo.event.deltaMode ? 120 : 1);
}, "wheel") : "onmousewheel" in Wo ? (Sa = function() {
return Vo.event.wheelDelta;
}, "mousewheel") : (Sa = function() {
return -Vo.event.detail;
}, "MozMousePixelScroll")), e.event = function(e) {
e.each(function() {
var e = L.of(this, arguments), t = $;
ml ? Vo.select(this).transition().each("start.zoom", function() {
$ = this.__chart__ || {
x: 0,
y: 0,
k: 1
}, l(e);
}).tween("zoom:zoom", function() {
var n = k[0], i = k[1], r = m ? m[0] : n / 2, o = m ? m[1] : i / 2, a = Vo.interpolateZoom([ (r - $.x) / $.k, (o - $.y) / $.k, n / $.k ], [ (r - t.x) / t.k, (o - t.y) / t.k, n / t.k ]);
return function(t) {
var i = a(t), s = n / i[2];
this.__chart__ = $ = {
x: r - i[0] * s,
y: o - i[1] * s,
k: s
}, c(e);
};
}).each("interrupt.zoom", function() {
u(e);
}).each("end.zoom", function() {
u(e);
}) : (this.__chart__ = $, l(e), c(e), u(e));
});
}, e.translate = function(t) {
return arguments.length ? ($ = {
x: +t[0],
y: +t[1],
k: $.k
}, s(), e) : [ $.x, $.y ];
}, e.scale = function(t) {
return arguments.length ? ($ = {
x: $.x,
y: $.y,
k: null
}, r(+t), s(), e) : $.k;
}, e.scaleExtent = function(t) {
return arguments.length ? (T = null == t ? Aa : [ +t[0], +t[1] ], e) : T;
}, e.center = function(t) {
return arguments.length ? (v = t && [ +t[0], +t[1] ], e) : v;
}, e.size = function(t) {
return arguments.length ? (k = t && [ +t[0], +t[1] ], e) : k;
}, e.duration = function(t) {
return arguments.length ? (D = +t, e) : D;
}, e.x = function(t) {
return arguments.length ? (w = t, _ = t.copy(), $ = {
x: 0,
y: 0,
k: 1
}, e) : w;
}, e.y = function(t) {
return arguments.length ? (x = t, C = t.copy(), $ = {
x: 0,
y: 0,
k: 1
}, e) : x;
}, Vo.rebind(e, L, "on");
};
var Sa, $a, Aa = [ 0, 1 / 0 ];
Vo.color = ae, ae.prototype.toString = function() {
return this.rgb() + "";
}, Vo.hsl = se;
var ka = se.prototype = new ae();
ka.brighter = function(e) {
return e = Math.pow(.7, arguments.length ? e : 1), new se(this.h, this.s, this.l / e);
}, ka.darker = function(e) {
return e = Math.pow(.7, arguments.length ? e : 1), new se(this.h, this.s, e * this.l);
}, ka.rgb = function() {
return le(this.h, this.s, this.l);
}, Vo.hcl = ce;
var Ta = ce.prototype = new ae();
Ta.brighter = function(e) {
return new ce(this.h, this.c, Math.min(100, this.l + Da * (arguments.length ? e : 1)));
}, Ta.darker = function(e) {
return new ce(this.h, this.c, Math.max(0, this.l - Da * (arguments.length ? e : 1)));
}, Ta.rgb = function() {
return ue(this.h, this.c, this.l).rgb();
}, Vo.lab = de;
var Da = 18, Ea = .95047, Fa = 1, Ma = 1.08883, Ia = de.prototype = new ae();
Ia.brighter = function(e) {
return new de(Math.min(100, this.l + Da * (arguments.length ? e : 1)), this.a, this.b);
}, Ia.darker = function(e) {
return new de(Math.max(0, this.l - Da * (arguments.length ? e : 1)), this.a, this.b);
}, Ia.rgb = function() {
return he(this.l, this.a, this.b);
}, Vo.rgb = ve;
var Pa = ve.prototype = new ae();
Pa.brighter = function(e) {
e = Math.pow(.7, arguments.length ? e : 1);
var t = this.r, n = this.g, i = this.b, r = 30;
return t || n || i ? (t && t < r && (t = r), n && n < r && (n = r), i && i < r && (i = r), new ve(Math.min(255, t / e), Math.min(255, n / e), Math.min(255, i / e))) : new ve(r, r, r);
}, Pa.darker = function(e) {
return e = Math.pow(.7, arguments.length ? e : 1), new ve(e * this.r, e * this.g, e * this.b);
}, Pa.hsl = function() {
return Ce(this.r, this.g, this.b);
}, Pa.toString = function() {
return "#" + _e(this.r) + _e(this.g) + _e(this.b);
};
var La = Vo.map({
aliceblue: 15792383,
antiquewhite: 16444375,
aqua: 65535,
aquamarine: 8388564,
azure: 15794175,
beige: 16119260,
bisque: 16770244,
black: 0,
blanchedalmond: 16772045,
blue: 255,
blueviolet: 9055202,
brown: 10824234,
burlywood: 14596231,
cadetblue: 6266528,
chartreuse: 8388352,
chocolate: 13789470,
coral: 16744272,
cornflowerblue: 6591981,
cornsilk: 16775388,
crimson: 14423100,
cyan: 65535,
darkblue: 139,
darkcyan: 35723,
darkgoldenrod: 12092939,
darkgray: 11119017,
darkgreen: 25600,
darkgrey: 11119017,
darkkhaki: 12433259,
darkmagenta: 9109643,
darkolivegreen: 5597999,
darkorange: 16747520,
darkorchid: 10040012,
darkred: 9109504,
darksalmon: 15308410,
darkseagreen: 9419919,
darkslateblue: 4734347,
darkslategray: 3100495,
darkslategrey: 3100495,
darkturquoise: 52945,
darkviolet: 9699539,
deeppink: 16716947,
deepskyblue: 49151,
dimgray: 6908265,
dimgrey: 6908265,
dodgerblue: 2003199,
firebrick: 11674146,
floralwhite: 16775920,
forestgreen: 2263842,
fuchsia: 16711935,
gainsboro: 14474460,
ghostwhite: 16316671,
gold: 16766720,
goldenrod: 14329120,
gray: 8421504,
green: 32768,
greenyellow: 11403055,
grey: 8421504,
honeydew: 15794160,
hotpink: 16738740,
indianred: 13458524,
indigo: 4915330,
ivory: 16777200,
khaki: 15787660,
lavender: 15132410,
lavenderblush: 16773365,
lawngreen: 8190976,
lemonchiffon: 16775885,
lightblue: 11393254,
lightcoral: 15761536,
lightcyan: 14745599,
lightgoldenrodyellow: 16448210,
lightgray: 13882323,
lightgreen: 9498256,
lightgrey: 13882323,
lightpink: 16758465,
lightsalmon: 16752762,
lightseagreen: 2142890,
lightskyblue: 8900346,
lightslategray: 7833753,
lightslategrey: 7833753,
lightsteelblue: 11584734,
lightyellow: 16777184,
lime: 65280,
limegreen: 3329330,
linen: 16445670,
magenta: 16711935,
maroon: 8388608,
mediumaquamarine: 6737322,
mediumblue: 205,
mediumorchid: 12211667,
mediumpurple: 9662683,
mediumseagreen: 3978097,
mediumslateblue: 8087790,
mediumspringgreen: 64154,
mediumturquoise: 4772300,
mediumvioletred: 13047173,
midnightblue: 1644912,
mintcream: 16121850,
mistyrose: 16770273,
moccasin: 16770229,
navajowhite: 16768685,
navy: 128,
oldlace: 16643558,
olive: 8421376,
olivedrab: 7048739,
orange: 16753920,
orangered: 16729344,
orchid: 14315734,
palegoldenrod: 15657130,
palegreen: 10025880,
paleturquoise: 11529966,
palevioletred: 14381203,
papayawhip: 16773077,
peachpuff: 16767673,
peru: 13468991,
pink: 16761035,
plum: 14524637,
powderblue: 11591910,
purple: 8388736,
rebeccapurple: 6697881,
red: 16711680,
rosybrown: 12357519,
royalblue: 4286945,
saddlebrown: 9127187,
salmon: 16416882,
sandybrown: 16032864,
seagreen: 3050327,
seashell: 16774638,
sienna: 10506797,
silver: 12632256,
skyblue: 8900331,
slateblue: 6970061,
slategray: 7372944,
slategrey: 7372944,
snow: 16775930,
springgreen: 65407,
steelblue: 4620980,
tan: 13808780,
teal: 32896,
thistle: 14204888,
tomato: 16737095,
turquoise: 4251856,
violet: 15631086,
wheat: 16113331,
white: 16777215,
whitesmoke: 16119285,
yellow: 16776960,
yellowgreen: 10145074
});
La.forEach(function(e, t) {
La.set(e, ye(t));
}), Vo.functor = Ae, Vo.xhr = ke(y), Vo.dsv = function(e, t) {
function n(e, n, o) {
arguments.length < 3 && (o = n, n = null);
var a = Te(e, t, null == n ? i : r(n), o);
return a.row = function(e) {
return arguments.length ? a.response(null == (n = e) ? i : r(e)) : n;
}, a;
}
function i(e) {
return n.parse(e.responseText);
}
function r(e) {
return function(t) {
return n.parse(t.responseText, e);
};
}
function o(t) {
return t.map(a).join(e);
}
function a(e) {
return s.test(e) ? '"' + e.replace(/\"/g, '""') + '"' : e;
}
var s = new RegExp('["' + e + "\n]"), l = e.charCodeAt(0);
return n.parse = function(e, t) {
var i;
return n.parseRows(e, function(e, n) {
if (i) return i(e, n - 1);
var r = new Function("d", "return {" + e.map(function(e, t) {
return JSON.stringify(e) + ": d[" + t + "]";
}).join(",") + "}");
i = t ? function(e, n) {
return t(r(e), n);
} : r;
});
}, n.parseRows = function(e, t) {
function n() {
if (u >= c) return a;
if (r) return r = !1, o;
var t = u;
if (34 === e.charCodeAt(t)) {
for (var n = t; n++ < c; ) if (34 === e.charCodeAt(n)) {
if (34 !== e.charCodeAt(n + 1)) break;
++n;
}
return u = n + 2, 13 === (i = e.charCodeAt(n + 1)) ? (r = !0, 10 === e.charCodeAt(n + 2) && ++u) : 10 === i && (r = !0), e.slice(t + 1, n).replace(/""/g, '"');
}
for (;u < c; ) {
var i = e.charCodeAt(u++), s = 1;
if (10 === i) r = !0; else if (13 === i) r = !0, 10 === e.charCodeAt(u) && (++u, ++s); else if (i !== l) continue;
return e.slice(t, u - s);
}
return e.slice(t);
}
for (var i, r, o = {}, a = {}, s = [], c = e.length, u = 0, d = 0; (i = n()) !== a; ) {
for (var h = []; i !== o && i !== a; ) h.push(i), i = n();
t && null == (h = t(h, d++)) || s.push(h);
}
return s;
}, n.format = function(t) {
if (Array.isArray(t[0])) return n.formatRows(t);
var i = new v(), r = [];
return t.forEach(function(e) {
for (var t in e) i.has(t) || r.push(i.add(t));
}), [ r.map(a).join(e) ].concat(t.map(function(t) {
return r.map(function(e) {
return a(t[e]);
}).join(e);
})).join("\n");
}, n.formatRows = function(e) {
return e.map(o).join("\n");
}, n;
}, Vo.csv = Vo.dsv(",", "text/csv"), Vo.tsv = Vo.dsv("\t", "text/tab-separated-values");
var Oa, Ra, Na, Ba, ja = this[_(this, "requestAnimationFrame")] || function(e) {
setTimeout(e, 17);
};
Vo.timer = function() {
Fe.apply(this, arguments);
}, Vo.timer.flush = function() {
Ie(), Pe();
}, Vo.round = function(e, t) {
return t ? Math.round(e * (t = Math.pow(10, t))) / t : Math.round(e);
};
var Ha = [ "y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y" ].map(function(e, t) {
var n = Math.pow(10, 3 * Jo(8 - t));
return {
scale: t > 8 ? function(e) {
return e / n;
} : function(e) {
return e * n;
},
symbol: e
};
});
Vo.formatPrefix = function(e, t) {
var n = 0;
return (e = +e) && (e < 0 && (e *= -1), t && (e = Vo.round(e, Le(e, t))), n = 1 + Math.floor(1e-12 + Math.log(e) / Math.LN10), n = Math.max(-24, Math.min(24, 3 * Math.floor((n - 1) / 3)))), Ha[8 + n / 3];
};
var Va = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i, Ua = Vo.map({
b: function(e) {
return e.toString(2);
},
c: function(e) {
return String.fromCharCode(e);
},
o: function(e) {
return e.toString(8);
},
x: function(e) {
return e.toString(16);
},
X: function(e) {
return e.toString(16).toUpperCase();
},
g: function(e, t) {
return e.toPrecision(t);
},
e: function(e, t) {
return e.toExponential(t);
},
f: function(e, t) {
return e.toFixed(t);
},
r: function(e, t) {
return (e = Vo.round(e, Le(e, t))).toFixed(Math.max(0, Math.min(20, Le(e * (1 + 1e-15), t))));
}
}), za = Vo.time = {}, Wa = Date;
Ne.prototype = {
getDate: function() {
return this._.getUTCDate();
},
getDay: function() {
return this._.getUTCDay();
},
getFullYear: function() {
return this._.getUTCFullYear();
},
getHours: function() {
return this._.getUTCHours();
},
getMilliseconds: function() {
return this._.getUTCMilliseconds();
},
getMinutes: function() {
return this._.getUTCMinutes();
},
getMonth: function() {
return this._.getUTCMonth();
},
getSeconds: function() {
return this._.getUTCSeconds();
},
getTime: function() {
return this._.getTime();
},
getTimezoneOffset: function() {
return 0;
},
valueOf: function() {
return this._.valueOf();
},
setDate: function() {
qa.setUTCDate.apply(this._, arguments);
},
setDay: function() {
qa.setUTCDay.apply(this._, arguments);
},
setFullYear: function() {
qa.setUTCFullYear.apply(this._, arguments);
},
setHours: function() {
qa.setUTCHours.apply(this._, arguments);
},
setMilliseconds: function() {
qa.setUTCMilliseconds.apply(this._, arguments);
},
setMinutes: function() {
qa.setUTCMinutes.apply(this._, arguments);
},
setMonth: function() {
qa.setUTCMonth.apply(this._, arguments);
},
setSeconds: function() {
qa.setUTCSeconds.apply(this._, arguments);
},
setTime: function() {
qa.setTime.apply(this._, arguments);
}
};
var qa = Date.prototype;
za.year = Be(function(e) {
return (e = za.day(e)).setMonth(0, 1), e;
}, function(e, t) {
e.setFullYear(e.getFullYear() + t);
}, function(e) {
return e.getFullYear();
}), za.years = za.year.range, za.years.utc = za.year.utc.range, za.day = Be(function(e) {
var t = new Wa(2e3, 0);
return t.setFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t;
}, function(e, t) {
e.setDate(e.getDate() + t);
}, function(e) {
return e.getDate() - 1;
}), za.days = za.day.range, za.days.utc = za.day.utc.range, za.dayOfYear = function(e) {
var t = za.year(e);
return Math.floor((e - t - 6e4 * (e.getTimezoneOffset() - t.getTimezoneOffset())) / 864e5);
}, [ "sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday" ].forEach(function(e, t) {
t = 7 - t;
var n = za[e] = Be(function(e) {
return (e = za.day(e)).setDate(e.getDate() - (e.getDay() + t) % 7), e;
}, function(e, t) {
e.setDate(e.getDate() + 7 * Math.floor(t));
}, function(e) {
var n = za.year(e).getDay();
return Math.floor((za.dayOfYear(e) + (n + t) % 7) / 7) - (n !== t);
});
za[e + "s"] = n.range, za[e + "s"].utc = n.utc.range, za[e + "OfYear"] = function(e) {
var n = za.year(e).getDay();
return Math.floor((za.dayOfYear(e) + (n + t) % 7) / 7);
};
}), za.week = za.sunday, za.weeks = za.sunday.range, za.weeks.utc = za.sunday.utc.range, za.weekOfYear = za.sundayOfYear;
var Ga = {
"-": "",
_: " ",
"0": "0"
}, Ya = /^\s*\d+/, Ka = /^%/;
Vo.locale = function(e) {
return {
numberFormat: Oe(e),
timeFormat: He(e)
};
};
var Xa = Vo.locale({
decimal: ".",
thousands: ",",
grouping: [ 3 ],
currency: [ "$", "" ],
dateTime: "%a %b %e %X %Y",
date: "%m/%d/%Y",
time: "%H:%M:%S",
periods: [ "AM", "PM" ],
days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
shortDays: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
shortMonths: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]
});
Vo.format = Xa.numberFormat, Vo.geo = {}, lt.prototype = {
s: 0,
t: 0,
add: function(e) {
ct(e, this.t, Qa), ct(Qa.s, this.s, this), this.s ? this.t += Qa.t : this.s = Qa.t;
},
reset: function() {
this.s = this.t = 0;
},
valueOf: function() {
return this.s;
}
};
var Qa = new lt();
Vo.geo.stream = function(e, t) {
e && Ja.hasOwnProperty(e.type) ? Ja[e.type](e, t) : ut(e, t);
};
var Ja = {
Feature: function(e, t) {
ut(e.geometry, t);
},
FeatureCollection: function(e, t) {
for (var n = e.features, i = -1, r = n.length; ++i < r; ) ut(n[i].geometry, t);
}
}, Za = {
Sphere: function(e, t) {
t.sphere();
},
Point: function(e, t) {
e = e.coordinates, t.point(e[0], e[1], e[2]);
},
MultiPoint: function(e, t) {
for (var n = e.coordinates, i = -1, r = n.length; ++i < r; ) e = n[i], t.point(e[0], e[1], e[2]);
},
LineString: function(e, t) {
dt(e.coordinates, t, 0);
},
MultiLineString: function(e, t) {
for (var n = e.coordinates, i = -1, r = n.length; ++i < r; ) dt(n[i], t, 0);
},
Polygon: function(e, t) {
ht(e.coordinates, t);
},
MultiPolygon: function(e, t) {
for (var n = e.coordinates, i = -1, r = n.length; ++i < r; ) ht(n[i], t);
},
GeometryCollection: function(e, t) {
for (var n = e.geometries, i = -1, r = n.length; ++i < r; ) ut(n[i], t);
}
};
Vo.geo.area = function(e) {
return es = 0, Vo.geo.stream(e, ns), es;
};
var es, ts = new lt(), ns = {
sphere: function() {
es += 4 * va;
},
point: w,
lineStart: w,
lineEnd: w,
polygonStart: function() {
ts.reset(), ns.lineStart = ft;
},
polygonEnd: function() {
var e = 2 * ts;
es += e < 0 ? 4 * va + e : e, ns.lineStart = ns.lineEnd = ns.point = w;
}
};
Vo.geo.bounds = function() {
function e(e, t) {
b.push(_ = [ u = e, h = e ]), t < d && (d = t), t > f && (f = t);
}
function t(t, n) {
var i = pt([ t * wa, n * wa ]);
if (v) {
var r = mt(v, i), o = mt([ r[1], -r[0], 0 ], r);
bt(o), o = _t(o);
var a = t - p, l = a > 0 ? 1 : -1, c = o[0] * Ca * l, g = Jo(a) > 180;
if (g ^ (l * p < c && c < l * t)) (m = o[1] * Ca) > f && (f = m); else if (c = (c + 360) % 360 - 180, g ^ (l * p < c && c < l * t)) {
var m = -o[1] * Ca;
m < d && (d = m);
} else n < d && (d = n), n > f && (f = n);
g ? t < p ? s(u, t) > s(u, h) && (h = t) : s(t, h) > s(u, h) && (u = t) : h >= u ? (t < u && (u = t), t > h && (h = t)) : t > p ? s(u, t) > s(u, h) && (h = t) : s(t, h) > s(u, h) && (u = t);
} else e(t, n);
v = i, p = t;
}
function n() {
w.point = t;
}
function i() {
_[0] = u, _[1] = h, w.point = e, v = null;
}
function r(e, n) {
if (v) {
var i = e - p;
y += Jo(i) > 180 ? i + (i > 0 ? 360 : -360) : i;
} else g = e, m = n;
ns.point(e, n), t(e, n);
}
function o() {
ns.lineStart();
}
function a() {
r(g, m), ns.lineEnd(), Jo(y) > ga && (u = -(h = 180)), _[0] = u, _[1] = h, v = null;
}
function s(e, t) {
return (t -= e) < 0 ? t + 360 : t;
}
function l(e, t) {
return e[0] - t[0];
}
function c(e, t) {
return t[0] <= t[1] ? t[0] <= e && e <= t[1] : e < t[0] || t[1] < e;
}
var u, d, h, f, p, g, m, v, y, b, _, w = {
point: e,
lineStart: n,
lineEnd: i,
polygonStart: function() {
w.point = r, w.lineStart = o, w.lineEnd = a, y = 0, ns.polygonStart();
},
polygonEnd: function() {
ns.polygonEnd(), w.point = e, w.lineStart = n, w.lineEnd = i, ts < 0 ? (u = -(h = 180), d = -(f = 90)) : y > ga ? f = 90 : y < -ga && (d = -90), _[0] = u, _[1] = h;
}
};
return function(e) {
f = h = -(u = d = 1 / 0), b = [], Vo.geo.stream(e, w);
var t = b.length;
if (t) {
b.sort(l);
for (var n = 1, i = [ p = b[0] ]; n < t; ++n) c((o = b[n])[0], p) || c(o[1], p) ? (s(p[0], o[1]) > s(p[0], p[1]) && (p[1] = o[1]), s(o[0], p[1]) > s(p[0], p[1]) && (p[0] = o[0])) : i.push(p = o);
for (var r, o, a = -1 / 0, n = 0, p = i[t = i.length - 1]; n <= t; p = o, ++n) o = i[n], (r = s(p[1], o[0])) > a && (a = r, u = o[0], h = p[1]);
}
return b = _ = null, u === 1 / 0 || d === 1 / 0 ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ u, d ], [ h, f ] ];
};
}(), Vo.geo.centroid = function(e) {
is = rs = os = as = ss = ls = cs = us = ds = hs = fs = 0, Vo.geo.stream(e, ps);
var t = ds, n = hs, i = fs, r = t * t + n * n + i * i;
return r < ma && (t = ls, n = cs, i = us, rs < ga && (t = os, n = as, i = ss), (r = t * t + n * n + i * i) < ma) ? [ NaN, NaN ] : [ Math.atan2(n, t) * Ca, te(i / Math.sqrt(r)) * Ca ];
};
var is, rs, os, as, ss, ls, cs, us, ds, hs, fs, ps = {
sphere: w,
point: Ct,
lineStart: St,
lineEnd: $t,
polygonStart: function() {
ps.lineStart = At;
},
polygonEnd: function() {
ps.lineStart = St;
}
}, gs = Mt(Tt, function(e) {
var t, n = NaN, i = NaN, r = NaN;
return {
lineStart: function() {
e.lineStart(), t = 1;
},
point: function(o, a) {
var s = o > 0 ? va : -va, l = Jo(o - n);
Jo(l - va) < ga ? (e.point(n, i = (i + a) / 2 > 0 ? _a : -_a), e.point(r, i), e.lineEnd(), e.lineStart(), e.point(s, i), e.point(o, i), t = 0) : r !== s && l >= va && (Jo(n - r) < ga && (n -= r * ga), Jo(o - s) < ga && (o -= s * ga), i = Ot(n, i, o, a), e.point(r, i), e.lineEnd(), e.lineStart(), e.point(s, i), t = 0), e.point(n = o, i = a), r = s;
},
lineEnd: function() {
e.lineEnd(), n = i = NaN;
},
clean: function() {
return 2 - t;
}
};
}, function(e, t, n, i) {
var r;
if (null == e) r = n * _a, i.point(-va, r), i.point(0, r), i.point(va, r), i.point(va, 0), i.point(va, -r), i.point(0, -r), i.point(-va, -r), i.point(-va, 0), i.point(-va, r); else if (Jo(e[0] - t[0]) > ga) {
var o = e[0] < t[0] ? va : -va;
r = n * o / 2, i.point(-o, r), i.point(0, r), i.point(o, r);
} else i.point(t[0], t[1]);
}, [ -va, -va / 2 ]), ms = 1e9;
Vo.geo.clipExtent = function() {
var e, t, n, i, r, o, a = {
stream: function(e) {
return r && (r.valid = !1), r = o(e), r.valid = !0, r;
},
extent: function(s) {
return arguments.length ? (o = jt(e = +s[0][0], t = +s[0][1], n = +s[1][0], i = +s[1][1]), r && (r.valid = !1, r = null), a) : [ [ e, t ], [ n, i ] ];
}
};
return a.extent([ [ 0, 0 ], [ 960, 500 ] ]);
}, (Vo.geo.conicEqualArea = function() {
return Ht(Vt);
}).raw = Vt, Vo.geo.albers = function() {
return Vo.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);
}, Vo.geo.albersUsa = function() {
function e(e) {
var o = e[0], a = e[1];
return t = null, n(o, a), t || (i(o, a), t) || r(o, a), t;
}
var t, n, i, r, o = Vo.geo.albers(), a = Vo.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]), s = Vo.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]), l = {
point: function(e, n) {
t = [ e, n ];
}
};
return e.invert = function(e) {
var t = o.scale(), n = o.translate(), i = (e[0] - n[0]) / t, r = (e[1] - n[1]) / t;
return (r >= .12 && r < .234 && i >= -.425 && i < -.214 ? a : r >= .166 && r < .234 && i >= -.214 && i < -.115 ? s : o).invert(e);
}, e.stream = function(e) {
var t = o.stream(e), n = a.stream(e), i = s.stream(e);
return {
point: function(e, r) {
t.point(e, r), n.point(e, r), i.point(e, r);
},
sphere: function() {
t.sphere(), n.sphere(), i.sphere();
},
lineStart: function() {
t.lineStart(), n.lineStart(), i.lineStart();
},
lineEnd: function() {
t.lineEnd(), n.lineEnd(), i.lineEnd();
},
polygonStart: function() {
t.polygonStart(), n.polygonStart(), i.polygonStart();
},
polygonEnd: function() {
t.polygonEnd(), n.polygonEnd(), i.polygonEnd();
}
};
}, e.precision = function(t) {
return arguments.length ? (o.precision(t), a.precision(t), s.precision(t), e) : o.precision();
}, e.scale = function(t) {
return arguments.length ? (o.scale(t), a.scale(.35 * t), s.scale(t), e.translate(o.translate())) : o.scale();
}, e.translate = function(t) {
if (!arguments.length) return o.translate();
var c = o.scale(), u = +t[0], d = +t[1];
return n = o.translate(t).clipExtent([ [ u - .455 * c, d - .238 * c ], [ u + .455 * c, d + .238 * c ] ]).stream(l).point, i = a.translate([ u - .307 * c, d + .201 * c ]).clipExtent([ [ u - .425 * c + ga, d + .12 * c + ga ], [ u - .214 * c - ga, d + .234 * c - ga ] ]).stream(l).point, r = s.translate([ u - .205 * c, d + .212 * c ]).clipExtent([ [ u - .214 * c + ga, d + .166 * c + ga ], [ u - .115 * c - ga, d + .234 * c - ga ] ]).stream(l).point, e;
}, e.scale(1070);
};
var vs, ys, bs, _s, ws, Cs, xs = {
point: w,
lineStart: w,
lineEnd: w,
polygonStart: function() {
ys = 0, xs.lineStart = Ut;
},
polygonEnd: function() {
xs.lineStart = xs.lineEnd = xs.point = w, vs += Jo(ys / 2);
}
}, Ss = {
point: function(e, t) {
e < bs && (bs = e), e > ws && (ws = e), t < _s && (_s = t), t > Cs && (Cs = t);
},
lineStart: w,
lineEnd: w,
polygonStart: w,
polygonEnd: w
}, $s = {
point: qt,
lineStart: Gt,
lineEnd: Yt,
polygonStart: function() {
$s.lineStart = Kt;
},
polygonEnd: function() {
$s.point = qt, $s.lineStart = Gt, $s.lineEnd = Yt;
}
};
Vo.geo.path = function() {
function e(e) {
return e && ("function" == typeof s && o.pointRadius(+s.apply(this, arguments)), a && a.valid || (a = r(o)), Vo.geo.stream(e, a)), o.result();
}
function t() {
return a = null, e;
}
var n, i, r, o, a, s = 4.5;
return e.area = function(e) {
return vs = 0, Vo.geo.stream(e, r(xs)), vs;
}, e.centroid = function(e) {
return os = as = ss = ls = cs = us = ds = hs = fs = 0, Vo.geo.stream(e, r($s)), fs ? [ ds / fs, hs / fs ] : us ? [ ls / us, cs / us ] : ss ? [ os / ss, as / ss ] : [ NaN, NaN ];
}, e.bounds = function(e) {
return ws = Cs = -(bs = _s = 1 / 0), Vo.geo.stream(e, r(Ss)), [ [ bs, _s ], [ ws, Cs ] ];
}, e.projection = function(e) {
return arguments.length ? (r = (n = e) ? e.stream || Jt(e) : y, t()) : n;
}, e.context = function(e) {
return arguments.length ? (o = null == (i = e) ? new zt() : new Xt(e), "function" != typeof s && o.pointRadius(s), t()) : i;
}, e.pointRadius = function(t) {
return arguments.length ? (s = "function" == typeof t ? t : (o.pointRadius(+t), +t), e) : s;
}, e.projection(Vo.geo.albersUsa()).context(null);
}, Vo.geo.transform = function(e) {
return {
stream: function(t) {
var n = new Zt(t);
for (var i in e) n[i] = e[i];
return n;
}
};
}, Zt.prototype = {
point: function(e, t) {
this.stream.point(e, t);
},
sphere: function() {
this.stream.sphere();
},
lineStart: function() {
this.stream.lineStart();
},
lineEnd: function() {
this.stream.lineEnd();
},
polygonStart: function() {
this.stream.polygonStart();
},
polygonEnd: function() {
this.stream.polygonEnd();
}
}, Vo.geo.projection = tn, Vo.geo.projectionMutator = nn, (Vo.geo.equirectangular = function() {
return tn(on);
}).raw = on.invert = on, Vo.geo.rotation = function(e) {
function t(t) {
return t = e(t[0] * wa, t[1] * wa), t[0] *= Ca, t[1] *= Ca, t;
}
return e = sn(e[0] % 360 * wa, e[1] * wa, e.length > 2 ? e[2] * wa : 0), t.invert = function(t) {
return t = e.invert(t[0] * wa, t[1] * wa), t[0] *= Ca, t[1] *= Ca, t;
}, t;
}, an.invert = on, Vo.geo.circle = function() {
function e() {
var e = "function" == typeof i ? i.apply(this, arguments) : i, t = sn(-e[0] * wa, -e[1] * wa, 0).invert, r = [];
return n(null, null, 1, {
point: function(e, n) {
r.push(e = t(e, n)), e[0] *= Ca, e[1] *= Ca;
}
}), {
type: "Polygon",
coordinates: [ r ]
};
}
var t, n, i = [ 0, 0 ], r = 6;
return e.origin = function(t) {
return arguments.length ? (i = t, e) : i;
}, e.angle = function(i) {
return arguments.length ? (n = dn((t = +i) * wa, r * wa), e) : t;
}, e.precision = function(i) {
return arguments.length ? (n = dn(t * wa, (r = +i) * wa), e) : r;
}, e.angle(90);
}, Vo.geo.distance = function(e, t) {
var n, i = (t[0] - e[0]) * wa, r = e[1] * wa, o = t[1] * wa, a = Math.sin(i), s = Math.cos(i), l = Math.sin(r), c = Math.cos(r), u = Math.sin(o), d = Math.cos(o);
return Math.atan2(Math.sqrt((n = d * a) * n + (n = c * u - l * d * s) * n), l * u + c * d * s);
}, Vo.geo.graticule = function() {
function e() {
return {
type: "MultiLineString",
coordinates: t()
};
}
function t() {
return Vo.range(Math.ceil(o / m) * m, r, m).map(h).concat(Vo.range(Math.ceil(c / v) * v, l, v).map(f)).concat(Vo.range(Math.ceil(i / p) * p, n, p).filter(function(e) {
return Jo(e % m) > ga;
}).map(u)).concat(Vo.range(Math.ceil(s / g) * g, a, g).filter(function(e) {
return Jo(e % v) > ga;
}).map(d));
}
var n, i, r, o, a, s, l, c, u, d, h, f, p = 10, g = p, m = 90, v = 360, y = 2.5;
return e.lines = function() {
return t().map(function(e) {
return {
type: "LineString",
coordinates: e
};
});
}, e.outline = function() {
return {
type: "Polygon",
coordinates: [ h(o).concat(f(l).slice(1), h(r).reverse().slice(1), f(c).reverse().slice(1)) ]
};
}, e.extent = function(t) {
return arguments.length ? e.majorExtent(t).minorExtent(t) : e.minorExtent();
}, e.majorExtent = function(t) {
return arguments.length ? (o = +t[0][0], r = +t[1][0], c = +t[0][1], l = +t[1][1], o > r && (t = o, o = r, r = t), c > l && (t = c, c = l, l = t), e.precision(y)) : [ [ o, c ], [ r, l ] ];
}, e.minorExtent = function(t) {
return arguments.length ? (i = +t[0][0], n = +t[1][0], s = +t[0][1], a = +t[1][1], i > n && (t = i, i = n, n = t), s > a && (t = s, s = a, a = t), e.precision(y)) : [ [ i, s ], [ n, a ] ];
}, e.step = function(t) {
return arguments.length ? e.majorStep(t).minorStep(t) : e.minorStep();
}, e.majorStep = function(t) {
return arguments.length ? (m = +t[0], v = +t[1], e) : [ m, v ];
}, e.minorStep = function(t) {
return arguments.length ? (p = +t[0], g = +t[1], e) : [ p, g ];
}, e.precision = function(t) {
return arguments.length ? (y = +t, u = fn(s, a, 90), d = pn(i, n, y), h = fn(c, l, 90), f = pn(o, r, y), e) : y;
}, e.majorExtent([ [ -180, -90 + ga ], [ 180, 90 - ga ] ]).minorExtent([ [ -180, -80 - ga ], [ 180, 80 + ga ] ]);
}, Vo.geo.greatArc = function() {
function e() {
return {
type: "LineString",
coordinates: [ t || i.apply(this, arguments), n || r.apply(this, arguments) ]
};
}
var t, n, i = gn, r = mn;
return e.distance = function() {
return Vo.geo.distance(t || i.apply(this, arguments), n || r.apply(this, arguments));
}, e.source = function(n) {
return arguments.length ? (i = n, t = "function" == typeof n ? null : n, e) : i;
}, e.target = function(t) {
return arguments.length ? (r = t, n = "function" == typeof t ? null : t, e) : r;
}, e.precision = function() {
return arguments.length ? e : 0;
}, e;
}, Vo.geo.interpolate = function(e, t) {
return vn(e[0] * wa, e[1] * wa, t[0] * wa, t[1] * wa);
}, Vo.geo.length = function(e) {
return As = 0, Vo.geo.stream(e, ks), As;
};
var As, ks = {
sphere: w,
point: w,
lineStart: function() {
function e(e, r) {
var o = Math.sin(r *= wa), a = Math.cos(r), s = Jo((e *= wa) - t), l = Math.cos(s);
As += Math.atan2(Math.sqrt((s = a * Math.sin(s)) * s + (s = i * o - n * a * l) * s), n * o + i * a * l), t = e, n = o, i = a;
}
var t, n, i;
ks.point = function(r, o) {
t = r * wa, n = Math.sin(o *= wa), i = Math.cos(o), ks.point = e;
}, ks.lineEnd = function() {
ks.point = ks.lineEnd = w;
};
},
lineEnd: w,
polygonStart: w,
polygonEnd: w
}, Ts = yn(function(e) {
return Math.sqrt(2 / (1 + e));
}, function(e) {
return 2 * Math.asin(e / 2);
});
(Vo.geo.azimuthalEqualArea = function() {
return tn(Ts);
}).raw = Ts;
var Ds = yn(function(e) {
var t = Math.acos(e);
return t && t / Math.sin(t);
}, y);
(Vo.geo.azimuthalEquidistant = function() {
return tn(Ds);
}).raw = Ds, (Vo.geo.conicConformal = function() {
return Ht(bn);
}).raw = bn, (Vo.geo.conicEquidistant = function() {
return Ht(_n);
}).raw = _n;
var Es = yn(function(e) {
return 1 / e;
}, Math.atan);
(Vo.geo.gnomonic = function() {
return tn(Es);
}).raw = Es, wn.invert = function(e, t) {
return [ e, 2 * Math.atan(Math.exp(t)) - _a ];
}, (Vo.geo.mercator = function() {
return Cn(wn);
}).raw = wn;
var Fs = yn(function() {
return 1;
}, Math.asin);
(Vo.geo.orthographic = function() {
return tn(Fs);
}).raw = Fs;
var Ms = yn(function(e) {
return 1 / (1 + e);
}, function(e) {
return 2 * Math.atan(e);
});
(Vo.geo.stereographic = function() {
return tn(Ms);
}).raw = Ms, xn.invert = function(e, t) {
return [ -t, 2 * Math.atan(Math.exp(e)) - _a ];
}, (Vo.geo.transverseMercator = function() {
var e = Cn(xn), t = e.center, n = e.rotate;
return e.center = function(e) {
return e ? t([ -e[1], e[0] ]) : (e = t(), [ e[1], -e[0] ]);
}, e.rotate = function(e) {
return e ? n([ e[0], e[1], e.length > 2 ? e[2] + 90 : 90 ]) : (e = n(), [ e[0], e[1], e[2] - 90 ]);
}, n([ 0, 0, 90 ]);
}).raw = xn, Vo.geom = {}, Vo.geom.hull = function(e) {
function t(e) {
if (e.length < 3) return [];
var t, r = Ae(n), o = Ae(i), a = e.length, s = [], l = [];
for (t = 0; t < a; t++) s.push([ +r.call(this, e[t], t), +o.call(this, e[t], t), t ]);
for (s.sort(kn), t = 0; t < a; t++) l.push([ s[t][0], -s[t][1] ]);
var c = An(s), u = An(l), d = u[0] === c[0], h = u[u.length - 1] === c[c.length - 1], f = [];
for (t = c.length - 1; t >= 0; --t) f.push(e[s[c[t]][2]]);
for (t = +d; t < u.length - h; ++t) f.push(e[s[u[t]][2]]);
return f;
}
var n = Sn, i = $n;
return arguments.length ? t(e) : (t.x = function(e) {
return arguments.length ? (n = e, t) : n;
}, t.y = function(e) {
return arguments.length ? (i = e, t) : i;
}, t);
}, Vo.geom.polygon = function(e) {
return ia(e, Is), e;
};
var Is = Vo.geom.polygon.prototype = [];
Is.area = function() {
for (var e, t = -1, n = this.length, i = this[n - 1], r = 0; ++t < n; ) e = i, i = this[t], r += e[1] * i[0] - e[0] * i[1];
return .5 * r;
}, Is.centroid = function(e) {
var t, n, i = -1, r = this.length, o = 0, a = 0, s = this[r - 1];
for (arguments.length || (e = -1 / (6 * this.area())); ++i < r; ) t = s, s = this[i], n = t[0] * s[1] - s[0] * t[1], o += (t[0] + s[0]) * n, a += (t[1] + s[1]) * n;
return [ o * e, a * e ];
}, Is.clip = function(e) {
for (var t, n, i, r, o, a, s = En(e), l = -1, c = this.length - En(this), u = this[c - 1]; ++l < c; ) {
for (t = e.slice(), e.length = 0, r = this[l], o = t[(i = t.length - s) - 1], n = -1; ++n < i; ) Tn(a = t[n], u, r) ? (Tn(o, u, r) || e.push(Dn(o, a, u, r)), e.push(a)) : Tn(o, u, r) && e.push(Dn(o, a, u, r)), o = a;
s && e.push(e[0]), u = r;
}
return e;
};
var Ps, Ls, Os, Rs, Ns, Bs = [], js = [];
Nn.prototype.prepare = function() {
for (var e, t = this.edges, n = t.length; n--; ) (e = t[n].edge).b && e.a || t.splice(n, 1);
return t.sort(jn), t.length;
}, Xn.prototype = {
start: function() {
return this.edge.l === this.site ? this.edge.a : this.edge.b;
},
end: function() {
return this.edge.l === this.site ? this.edge.b : this.edge.a;
}
}, Qn.prototype = {
insert: function(e, t) {
var n, i, r;
if (e) {
if (t.P = e, t.N = e.N, e.N && (e.N.P = t), e.N = t, e.R) {
for (e = e.R; e.L; ) e = e.L;
e.L = t;
} else e.R = t;
n = e;
} else this._ ? (e = ti(this._), t.P = null, t.N = e, e.P = e.L = t, n = e) : (t.P = t.N = null, this._ = t, n = null);
for (t.L = t.R = null, t.U = n, t.C = !0, e = t; n && n.C; ) n === (i = n.U).L ? (r = i.R) && r.C ? (n.C = r.C = !1, i.C = !0, e = i) : (e === n.R && (Zn(this, n), n = (e = n).U), n.C = !1, i.C = !0, ei(this, i)) : (r = i.L) && r.C ? (n.C = r.C = !1, i.C = !0, e = i) : (e === n.L && (ei(this, n), n = (e = n).U), n.C = !1, i.C = !0, Zn(this, i)), n = e.U;
this._.C = !1;
},
remove: function(e) {
e.N && (e.N.P = e.P), e.P && (e.P.N = e.N), e.N = e.P = null;
var t, n, i, r = e.U, o = e.L, a = e.R;
if (n = o ? a ? ti(a) : o : a, r ? r.L === e ? r.L = n : r.R = n : this._ = n, o && a ? (i = n.C, n.C = e.C, n.L = o, o.U = n, n !== a ? (r = n.U, n.U = e.U, e = n.R, r.L = e, n.R = a, a.U = n) : (n.U = r, r = n, e = n.R)) : (i = e.C, e = n), e && (e.U = r), !i) if (e && e.C) e.C = !1; else {
do {
if (e === this._) break;
if (e === r.L) {
if ((t = r.R).C && (t.C = !1, r.C = !0, Zn(this, r), t = r.R), t.L && t.L.C || t.R && t.R.C) {
t.R && t.R.C || (t.L.C = !1, t.C = !0, ei(this, t), t = r.R), t.C = r.C, r.C = t.R.C = !1, Zn(this, r), e = this._;
break;
}
} else if ((t = r.L).C && (t.C = !1, r.C = !0, ei(this, r), t = r.L), t.L && t.L.C || t.R && t.R.C) {
t.L && t.L.C || (t.R.C = !1, t.C = !0, Zn(this, t), t = r.L), t.C = r.C, r.C = t.L.C = !1, ei(this, r), e = this._;
break;
}
t.C = !0, e = r, r = r.U;
} while (!e.C);
e && (e.C = !1);
}
}
}, Vo.geom.voronoi = function(e) {
function t(e) {
var t = new Array(e.length), i = s[0][0], r = s[0][1], o = s[1][0], a = s[1][1];
return ni(n(e), s).cells.forEach(function(n, s) {
var l = n.edges, c = n.site;
(t[s] = l.length ? l.map(function(e) {
var t = e.start();
return [ t.x, t.y ];
}) : c.x >= i && c.x <= o && c.y >= r && c.y <= a ? [ [ i, a ], [ o, a ], [ o, r ], [ i, r ] ] : []).point = e[s];
}), t;
}
function n(e) {
return e.map(function(e, t) {
return {
x: Math.round(o(e, t) / ga) * ga,
y: Math.round(a(e, t) / ga) * ga,
i: t
};
});
}
var i = Sn, r = $n, o = i, a = r, s = Hs;
return e ? t(e) : (t.links = function(e) {
return ni(n(e)).edges.filter(function(e) {
return e.l && e.r;
}).map(function(t) {
return {
source: e[t.l.i],
target: e[t.r.i]
};
});
}, t.triangles = function(e) {
var t = [];
return ni(n(e)).cells.forEach(function(n, i) {
for (var r, o = n.site, a = n.edges.sort(jn), s = -1, l = a.length, c = a[l - 1].edge, u = c.l === o ? c.r : c.l; ++s < l; ) c, r = u, u = (c = a[s].edge).l === o ? c.r : c.l, i < r.i && i < u.i && ri(o, r, u) < 0 && t.push([ e[i], e[r.i], e[u.i] ]);
}), t;
}, t.x = function(e) {
return arguments.length ? (o = Ae(i = e), t) : i;
}, t.y = function(e) {
return arguments.length ? (a = Ae(r = e), t) : r;
}, t.clipExtent = function(e) {
return arguments.length ? (s = null == e ? Hs : e, t) : s === Hs ? null : s;
}, t.size = function(e) {
return arguments.length ? t.clipExtent(e && [ [ 0, 0 ], e ]) : s === Hs ? null : s && s[1];
}, t);
};
var Hs = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];
Vo.geom.delaunay = function(e) {
return Vo.geom.voronoi().triangles(e);
}, Vo.geom.quadtree = function(e, t, n, i, r) {
function o(e) {
function o(e, t, n, i, r, o, a, s) {
if (!isNaN(n) && !isNaN(i)) if (e.leaf) {
var l = e.x, u = e.y;
if (null != l) if (Jo(l - n) + Jo(u - i) < .01) c(e, t, n, i, r, o, a, s); else {
var d = e.point;
e.x = e.y = e.point = null, c(e, d, l, u, r, o, a, s), c(e, t, n, i, r, o, a, s);
} else e.x = n, e.y = i, e.point = t;
} else c(e, t, n, i, r, o, a, s);
}
function c(e, t, n, i, r, a, s, l) {
var c = .5 * (r + s), u = .5 * (a + l), d = n >= c, h = i >= u, f = h << 1 | d;
e.leaf = !1, e = e.nodes[f] || (e.nodes[f] = {
leaf: !0,
nodes: [],
point: null,
x: null,
y: null
}), d ? r = c : s = c, h ? a = u : l = u, o(e, t, n, i, r, a, s, l);
}
var u, d, h, f, p, g, m, v, y, b = Ae(s), _ = Ae(l);
if (null != t) g = t, m = n, v = i, y = r; else if (v = y = -(g = m = 1 / 0), d = [], h = [], p = e.length, a) for (f = 0; f < p; ++f) (u = e[f]).x < g && (g = u.x), u.y < m && (m = u.y), u.x > v && (v = u.x), u.y > y && (y = u.y), d.push(u.x), h.push(u.y); else for (f = 0; f < p; ++f) {
var w = +b(u = e[f], f), C = +_(u, f);
w < g && (g = w), C < m && (m = C), w > v && (v = w), C > y && (y = C), d.push(w), h.push(C);
}
var x = v - g, S = y - m;
x > S ? y = m + x : v = g + S;
var $ = {
leaf: !0,
nodes: [],
point: null,
x: null,
y: null
};
if ($.add = function(e) {
o($, e, +b(e, ++f), +_(e, f), g, m, v, y);
}, $.visit = function(e) {
si(e, $, g, m, v, y);
}, $.find = function(e) {
return li($, e[0], e[1], g, m, v, y);
}, f = -1, null == t) {
for (;++f < p; ) o($, e[f], d[f], h[f], g, m, v, y);
--f;
} else e.forEach($.add);
return d = h = e = u = null, $;
}
var a, s = Sn, l = $n;
return (a = arguments.length) ? (s = oi, l = ai, 3 === a && (r = n, i = t, n = t = 0), o(e)) : (o.x = function(e) {
return arguments.length ? (s = e, o) : s;
}, o.y = function(e) {
return arguments.length ? (l = e, o) : l;
}, o.extent = function(e) {
return arguments.length ? (null == e ? t = n = i = r = null : (t = +e[0][0], n = +e[0][1], i = +e[1][0], r = +e[1][1]), o) : null == t ? null : [ [ t, n ], [ i, r ] ];
}, o.size = function(e) {
return arguments.length ? (null == e ? t = n = i = r = null : (t = n = 0, i = +e[0], r = +e[1]), o) : null == t ? null : [ i - t, r - n ];
}, o);
}, Vo.interpolateRgb = ci, Vo.interpolateObject = ui, Vo.interpolateNumber = di, Vo.interpolateString = hi;
var Vs = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, Us = new RegExp(Vs.source, "g");
Vo.interpolate = fi, Vo.interpolators = [ function(e, t) {
var n = typeof t;
return ("string" === n ? La.has(t.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(t) ? ci : hi : t instanceof ae ? ci : Array.isArray(t) ? pi : "object" === n && isNaN(t) ? ui : di)(e, t);
} ], Vo.interpolateArray = pi;
var zs = function() {
return y;
}, Ws = Vo.map({
linear: zs,
poly: function(e) {
return function(t) {
return Math.pow(t, e);
};
},
quad: function() {
return yi;
},
cubic: function() {
return bi;
},
sin: function() {
return wi;
},
exp: function() {
return Ci;
},
circle: function() {
return xi;
},
elastic: function(e, t) {
var n;
return arguments.length < 2 && (t = .45), arguments.length ? n = t / ya * Math.asin(1 / e) : (e = 1, n = t / 4), function(i) {
return 1 + e * Math.pow(2, -10 * i) * Math.sin((i - n) * ya / t);
};
},
back: function(e) {
return e || (e = 1.70158), function(t) {
return t * t * ((e + 1) * t - e);
};
},
bounce: function() {
return Si;
}
}), qs = Vo.map({
in: y,
out: mi,
"in-out": vi,
"out-in": function(e) {
return vi(mi(e));
}
});
Vo.ease = function(e) {
var t = e.indexOf("-"), n = t >= 0 ? e.slice(0, t) : e, i = t >= 0 ? e.slice(t + 1) : "in";
return n = Ws.get(n) || zs, i = qs.get(i) || y, gi(i(n.apply(null, Uo.call(arguments, 1))));
}, Vo.interpolateHcl = function(e, t) {
e = Vo.hcl(e), t = Vo.hcl(t);
var n = e.h, i = e.c, r = e.l, o = t.h - n, a = t.c - i, s = t.l - r;
return isNaN(a) && (a = 0, i = isNaN(i) ? t.c : i), isNaN(o) ? (o = 0, n = isNaN(n) ? t.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360), function(e) {
return ue(n + o * e, i + a * e, r + s * e) + "";
};
}, Vo.interpolateHsl = function(e, t) {
e = Vo.hsl(e), t = Vo.hsl(t);
var n = e.h, i = e.s, r = e.l, o = t.h - n, a = t.s - i, s = t.l - r;
return isNaN(a) && (a = 0, i = isNaN(i) ? t.s : i), isNaN(o) ? (o = 0, n = isNaN(n) ? t.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360), function(e) {
return le(n + o * e, i + a * e, r + s * e) + "";
};
}, Vo.interpolateLab = function(e, t) {
e = Vo.lab(e), t = Vo.lab(t);
var n = e.l, i = e.a, r = e.b, o = t.l - n, a = t.a - i, s = t.b - r;
return function(e) {
return he(n + o * e, i + a * e, r + s * e) + "";
};
}, Vo.interpolateRound = $i, Vo.transform = function(e) {
var t = Wo.createElementNS(Vo.ns.prefix.svg, "g");
return (Vo.transform = function(e) {
if (null != e) {
t.setAttribute("transform", e);
var n = t.transform.baseVal.consolidate();
}
return new Ai(n ? n.matrix : Gs);
})(e);
}, Ai.prototype.toString = function() {
return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")";
};
var Gs = {
a: 1,
b: 0,
c: 0,
d: 1,
e: 0,
f: 0
};
Vo.interpolateTransform = Li, Vo.layout = {}, Vo.layout.bundle = function() {
return function(e) {
for (var t = [], n = -1, i = e.length; ++n < i; ) t.push(Ni(e[n]));
return t;
};
}, Vo.layout.chord = function() {
function e() {
var e, c, d, h, f, p = {}, g = [], m = Vo.range(o), v = [];
for (n = [], i = [], e = 0, h = -1; ++h < o; ) {
for (c = 0, f = -1; ++f < o; ) c += r[h][f];
g.push(c), v.push(Vo.range(o)), e += c;
}
for (a && m.sort(function(e, t) {
return a(g[e], g[t]);
}), s && v.forEach(function(e, t) {
e.sort(function(e, n) {
return s(r[t][e], r[t][n]);
});
}), e = (ya - u * o) / e, c = 0, h = -1; ++h < o; ) {
for (d = c, f = -1; ++f < o; ) {
var y = m[h], b = v[y][f], _ = r[y][b], w = c, C = c += _ * e;
p[y + "-" + b] = {
index: y,
subindex: b,
startAngle: w,
endAngle: C,
value: _
};
}
i[y] = {
index: y,
startAngle: d,
endAngle: c,
value: g[y]
}, c += u;
}
for (h = -1; ++h < o; ) for (f = h - 1; ++f < o; ) {
var x = p[h + "-" + f], S = p[f + "-" + h];
(x.value || S.value) && n.push(x.value < S.value ? {
source: S,
target: x
} : {
source: x,
target: S
});
}
l && t();
}
function t() {
n.sort(function(e, t) {
return l((e.source.value + e.target.value) / 2, (t.source.value + t.target.value) / 2);
});
}
var n, i, r, o, a, s, l, c = {}, u = 0;
return c.matrix = function(e) {
return arguments.length ? (o = (r = e) && r.length, n = i = null, c) : r;
}, c.padding = function(e) {
return arguments.length ? (u = e, n = i = null, c) : u;
}, c.sortGroups = function(e) {
return arguments.length ? (a = e, n = i = null, c) : a;
}, c.sortSubgroups = function(e) {
return arguments.length ? (s = e, n = null, c) : s;
}, c.sortChords = function(e) {
return arguments.length ? (l = e, n && t(), c) : l;
}, c.chords = function() {
return n || e(), n;
}, c.groups = function() {
return i || e(), i;
}, c;
}, Vo.layout.force = function() {
function e(e) {
return function(t, n, i, r) {
if (t.point !== e) {
var o = t.cx - e.x, a = t.cy - e.y, s = r - n, l = o * o + a * a;
if (s * s / v < l) {
if (l < g) {
c = t.charge / l;
e.px -= o * c, e.py -= a * c;
}
return !0;
}
if (t.point && l && l < g) {
var c = t.pointCharge / l;
e.px -= o * c, e.py -= a * c;
}
}
return !t.charge;
};
}
function t(e) {
e.px = Vo.event.x, e.py = Vo.event.y, l.resume();
}
var n, i, r, o, a, s, l = {}, c = Vo.dispatch("start", "tick", "end"), u = [ 1, 1 ], d = .9, h = Ys, f = Ks, p = -30, g = Xs, m = .1, v = .64, b = [], _ = [];
return l.tick = function() {
if ((r *= .99) < .005) return n = null, c.end({
type: "end",
alpha: r = 0
}), !0;
var t, i, l, h, f, g, v, y, w, C = b.length, x = _.length;
for (i = 0; i < x; ++i) h = (l = _[i]).source, (g = (y = (f = l.target).x - h.x) * y + (w = f.y - h.y) * w) && (y *= g = r * a[i] * ((g = Math.sqrt(g)) - o[i]) / g, w *= g, f.x -= y * (v = h.weight + f.weight ? h.weight / (h.weight + f.weight) : .5), f.y -= w * v, h.x += y * (v = 1 - v), h.y += w * v);
if ((v = r * m) && (y = u[0] / 2, w = u[1] / 2, i = -1, v)) for (;++i < C; ) (l = b[i]).x += (y - l.x) * v, l.y += (w - l.y) * v;
if (p) for (Wi(t = Vo.geom.quadtree(b), r, s), i = -1; ++i < C; ) (l = b[i]).fixed || t.visit(e(l));
for (i = -1; ++i < C; ) (l = b[i]).fixed ? (l.x = l.px, l.y = l.py) : (l.x -= (l.px - (l.px = l.x)) * d, l.y -= (l.py - (l.py = l.y)) * d);
c.tick({
type: "tick",
alpha: r
});
}, l.nodes = function(e) {
return arguments.length ? (b = e, l) : b;
}, l.links = function(e) {
return arguments.length ? (_ = e, l) : _;
}, l.size = function(e) {
return arguments.length ? (u = e, l) : u;
}, l.linkDistance = function(e) {
return arguments.length ? (h = "function" == typeof e ? e : +e, l) : h;
}, l.distance = l.linkDistance, l.linkStrength = function(e) {
return arguments.length ? (f = "function" == typeof e ? e : +e, l) : f;
}, l.friction = function(e) {
return arguments.length ? (d = +e, l) : d;
}, l.charge = function(e) {
return arguments.length ? (p = "function" == typeof e ? e : +e, l) : p;
}, l.chargeDistance = function(e) {
return arguments.length ? (g = e * e, l) : Math.sqrt(g);
}, l.gravity = function(e) {
return arguments.length ? (m = +e, l) : m;
}, l.theta = function(e) {
return arguments.length ? (v = e * e, l) : Math.sqrt(v);
}, l.alpha = function(e) {
return arguments.length ? (e = +e, r ? e > 0 ? r = e : (n.c = null, n.t = NaN, n = null, c.end({
type: "end",
alpha: r = 0
})) : e > 0 && (c.start({
type: "start",
alpha: r = e
}), n = Fe(l.tick)), l) : r;
}, l.start = function() {
function e(e, i) {
if (!n) {
for (n = new Array(r), l = 0; l < r; ++l) n[l] = [];
for (l = 0; l < c; ++l) {
var o = _[l];
n[o.source.index].push(o.target), n[o.target.index].push(o.source);
}
}
for (var a, s = n[t], l = -1, u = s.length; ++l < u; ) if (!isNaN(a = s[l][e])) return a;
return Math.random() * i;
}
var t, n, i, r = b.length, c = _.length, d = u[0], g = u[1];
for (t = 0; t < r; ++t) (i = b[t]).index = t, i.weight = 0;
for (t = 0; t < c; ++t) "number" == typeof (i = _[t]).source && (i.source = b[i.source]), "number" == typeof i.target && (i.target = b[i.target]), ++i.source.weight, ++i.target.weight;
for (t = 0; t < r; ++t) i = b[t], isNaN(i.x) && (i.x = e("x", d)), isNaN(i.y) && (i.y = e("y", g)), isNaN(i.px) && (i.px = i.x), isNaN(i.py) && (i.py = i.y);
if (o = [], "function" == typeof h) for (t = 0; t < c; ++t) o[t] = +h.call(this, _[t], t); else for (t = 0; t < c; ++t) o[t] = h;
if (a = [], "function" == typeof f) for (t = 0; t < c; ++t) a[t] = +f.call(this, _[t], t); else for (t = 0; t < c; ++t) a[t] = f;
if (s = [], "function" == typeof p) for (t = 0; t < r; ++t) s[t] = +p.call(this, b[t], t); else for (t = 0; t < r; ++t) s[t] = p;
return l.resume();
}, l.resume = function() {
return l.alpha(.1);
}, l.stop = function() {
return l.alpha(0);
}, l.drag = function() {
if (i || (i = Vo.behavior.drag().origin(y).on("dragstart.force", Hi).on("drag.force", t).on("dragend.force", Vi)), !arguments.length) return i;
this.on("mouseover.force", Ui).on("mouseout.force", zi).call(i);
}, Vo.rebind(l, c, "on");
};
var Ys = 20, Ks = 1, Xs = 1 / 0;
Vo.layout.hierarchy = function() {
function e(r) {
var o, a = [ r ], s = [];
for (r.depth = 0; null != (o = a.pop()); ) if (s.push(o), (c = n.call(e, o, o.depth)) && (l = c.length)) {
for (var l, c, u; --l >= 0; ) a.push(u = c[l]), u.parent = o, u.depth = o.depth + 1;
i && (o.value = 0), o.children = c;
} else i && (o.value = +i.call(e, o, o.depth) || 0), delete o.children;
return Yi(r, function(e) {
var n, r;
t && (n = e.children) && n.sort(t), i && (r = e.parent) && (r.value += e.value);
}), s;
}
var t = Qi, n = Ki, i = Xi;
return e.sort = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.children = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.value = function(t) {
return arguments.length ? (i = t, e) : i;
}, e.revalue = function(t) {
return i && (Gi(t, function(e) {
e.children && (e.value = 0);
}), Yi(t, function(t) {
var n;
t.children || (t.value = +i.call(e, t, t.depth) || 0), (n = t.parent) && (n.value += t.value);
})), t;
}, e;
}, Vo.layout.partition = function() {
function e(t, n, i, r) {
var o = t.children;
if (t.x = n, t.y = t.depth * r, t.dx = i, t.dy = r, o && (a = o.length)) {
var a, s, l, c = -1;
for (i = t.value ? i / t.value : 0; ++c < a; ) e(s = o[c], n, l = s.value * i, r), n += l;
}
}
function t(e) {
var n = e.children, i = 0;
if (n && (r = n.length)) for (var r, o = -1; ++o < r; ) i = Math.max(i, t(n[o]));
return 1 + i;
}
function n(n, o) {
var a = i.call(this, n, o);
return e(a[0], 0, r[0], r[1] / t(a[0])), a;
}
var i = Vo.layout.hierarchy(), r = [ 1, 1 ];
return n.size = function(e) {
return arguments.length ? (r = e, n) : r;
}, qi(n, i);
}, Vo.layout.pie = function() {
function e(a) {
var s, l = a.length, c = a.map(function(n, i) {
return +t.call(e, n, i);
}), u = +("function" == typeof i ? i.apply(this, arguments) : i), d = ("function" == typeof r ? r.apply(this, arguments) : r) - u, h = Math.min(Math.abs(d) / l, +("function" == typeof o ? o.apply(this, arguments) : o)), f = h * (d < 0 ? -1 : 1), p = Vo.sum(c), g = p ? (d - l * f) / p : 0, m = Vo.range(l), v = [];
return null != n && m.sort(n === Qs ? function(e, t) {
return c[t] - c[e];
} : function(e, t) {
return n(a[e], a[t]);
}), m.forEach(function(e) {
v[e] = {
data: a[e],
value: s = c[e],
startAngle: u,
endAngle: u += s * g + f,
padAngle: h
};
}), v;
}
var t = Number, n = Qs, i = 0, r = ya, o = 0;
return e.value = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.sort = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.startAngle = function(t) {
return arguments.length ? (i = t, e) : i;
}, e.endAngle = function(t) {
return arguments.length ? (r = t, e) : r;
}, e.padAngle = function(t) {
return arguments.length ? (o = t, e) : o;
}, e;
};
var Qs = {};
Vo.layout.stack = function() {
function e(s, l) {
if (!(h = s.length)) return s;
var c = s.map(function(n, i) {
return t.call(e, n, i);
}), u = c.map(function(t) {
return t.map(function(t, n) {
return [ o.call(e, t, n), a.call(e, t, n) ];
});
}), d = n.call(e, u, l);
c = Vo.permute(c, d), u = Vo.permute(u, d);
var h, f, p, g, m = i.call(e, u, l), v = c[0].length;
for (p = 0; p < v; ++p) for (r.call(e, c[0][p], g = m[p], u[0][p][1]), f = 1; f < h; ++f) r.call(e, c[f][p], g += u[f - 1][p][1], u[f][p][1]);
return s;
}
var t = y, n = nr, i = ir, r = tr, o = Zi, a = er;
return e.values = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.order = function(t) {
return arguments.length ? (n = "function" == typeof t ? t : Js.get(t) || nr, e) : n;
}, e.offset = function(t) {
return arguments.length ? (i = "function" == typeof t ? t : Zs.get(t) || ir, e) : i;
}, e.x = function(t) {
return arguments.length ? (o = t, e) : o;
}, e.y = function(t) {
return arguments.length ? (a = t, e) : a;
}, e.out = function(t) {
return arguments.length ? (r = t, e) : r;
}, e;
};
var Js = Vo.map({
"inside-out": function(e) {
var t, n, i = e.length, r = e.map(rr), o = e.map(or), a = Vo.range(i).sort(function(e, t) {
return r[e] - r[t];
}), s = 0, l = 0, c = [], u = [];
for (t = 0; t < i; ++t) n = a[t], s < l ? (s += o[n], c.push(n)) : (l += o[n], u.push(n));
return u.reverse().concat(c);
},
reverse: function(e) {
return Vo.range(e.length).reverse();
},
default: nr
}), Zs = Vo.map({
silhouette: function(e) {
var t, n, i, r = e.length, o = e[0].length, a = [], s = 0, l = [];
for (n = 0; n < o; ++n) {
for (t = 0, i = 0; t < r; t++) i += e[t][n][1];
i > s && (s = i), a.push(i);
}
for (n = 0; n < o; ++n) l[n] = (s - a[n]) / 2;
return l;
},
wiggle: function(e) {
var t, n, i, r, o, a, s, l, c, u = e.length, d = e[0], h = d.length, f = [];
for (f[0] = l = c = 0, n = 1; n < h; ++n) {
for (t = 0, r = 0; t < u; ++t) r += e[t][n][1];
for (t = 0, o = 0, s = d[n][0] - d[n - 1][0]; t < u; ++t) {
for (i = 0, a = (e[t][n][1] - e[t][n - 1][1]) / (2 * s); i < t; ++i) a += (e[i][n][1] - e[i][n - 1][1]) / s;
o += a * e[t][n][1];
}
f[n] = l -= r ? o / r * s : 0, l < c && (c = l);
}
for (n = 0; n < h; ++n) f[n] -= c;
return f;
},
expand: function(e) {
var t, n, i, r = e.length, o = e[0].length, a = 1 / r, s = [];
for (n = 0; n < o; ++n) {
for (t = 0, i = 0; t < r; t++) i += e[t][n][1];
if (i) for (t = 0; t < r; t++) e[t][n][1] /= i; else for (t = 0; t < r; t++) e[t][n][1] = a;
}
for (n = 0; n < o; ++n) s[n] = 0;
return s;
},
zero: ir
});
Vo.layout.histogram = function() {
function e(e, o) {
for (var a, s, l = [], c = e.map(n, this), u = i.call(this, c, o), d = r.call(this, u, c, o), o = -1, h = c.length, f = d.length - 1, p = t ? 1 : 1 / h; ++o < f; ) (a = l[o] = []).dx = d[o + 1] - (a.x = d[o]), a.y = 0;
if (f > 0) for (o = -1; ++o < h; ) (s = c[o]) >= u[0] && s <= u[1] && ((a = l[Vo.bisect(d, s, 1, f) - 1]).y += p, a.push(e[o]));
return l;
}
var t = !0, n = Number, i = cr, r = sr;
return e.value = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.range = function(t) {
return arguments.length ? (i = Ae(t), e) : i;
}, e.bins = function(t) {
return arguments.length ? (r = "number" == typeof t ? function(e) {
return lr(e, t);
} : Ae(t), e) : r;
}, e.frequency = function(n) {
return arguments.length ? (t = !!n, e) : t;
}, e;
}, Vo.layout.pack = function() {
function e(e, o) {
var a = n.call(this, e, o), s = a[0], l = r[0], c = r[1], u = null == t ? Math.sqrt : "function" == typeof t ? t : function() {
return t;
};
if (s.x = s.y = 0, Yi(s, function(e) {
e.r = +u(e.value);
}), Yi(s, pr), i) {
var d = i * (t ? 1 : Math.max(2 * s.r / l, 2 * s.r / c)) / 2;
Yi(s, function(e) {
e.r += d;
}), Yi(s, pr), Yi(s, function(e) {
e.r -= d;
});
}
return vr(s, l / 2, c / 2, t ? 1 : 1 / Math.max(2 * s.r / l, 2 * s.r / c)), a;
}
var t, n = Vo.layout.hierarchy().sort(ur), i = 0, r = [ 1, 1 ];
return e.size = function(t) {
return arguments.length ? (r = t, e) : r;
}, e.radius = function(n) {
return arguments.length ? (t = null == n || "function" == typeof n ? n : +n, e) : t;
}, e.padding = function(t) {
return arguments.length ? (i = +t, e) : i;
}, qi(e, n);
}, Vo.layout.tree = function() {
function e(e, r) {
var u = a.call(this, e, r), d = u[0], h = t(d);
if (Yi(h, n), h.parent.m = -h.z, Gi(h, i), c) Gi(d, o); else {
var f = d, p = d, g = d;
Gi(d, function(e) {
e.x < f.x && (f = e), e.x > p.x && (p = e), e.depth > g.depth && (g = e);
});
var m = s(f, p) / 2 - f.x, v = l[0] / (p.x + s(p, f) / 2 + m), y = l[1] / (g.depth || 1);
Gi(d, function(e) {
e.x = (e.x + m) * v, e.y = e.depth * y;
});
}
return u;
}
function t(e) {
for (var t, n = {
A: null,
children: [ e ]
}, i = [ n ]; null != (t = i.pop()); ) for (var r, o = t.children, a = 0, s = o.length; a < s; ++a) i.push((o[a] = r = {
_: o[a],
parent: t,
children: (r = o[a].children) && r.slice() || [],
A: null,
a: null,
z: 0,
m: 0,
c: 0,
s: 0,
t: null,
i: a
}).a = r);
return n.children[0];
}
function n(e) {
var t = e.children, n = e.parent.children, i = e.i ? n[e.i - 1] : null;
if (t.length) {
xr(e);
var o = (t[0].z + t[t.length - 1].z) / 2;
i ? (e.z = i.z + s(e._, i._), e.m = e.z - o) : e.z = o;
} else i && (e.z = i.z + s(e._, i._));
e.parent.A = r(e, i, e.parent.A || n[0]);
}
function i(e) {
e._.x = e.z + e.parent.m, e.m += e.parent.m;
}
function r(e, t, n) {
if (t) {
for (var i, r = e, o = e, a = t, l = r.parent.children[0], c = r.m, u = o.m, d = a.m, h = l.m; a = wr(a), r = _r(r), a && r; ) l = _r(l), (o = wr(o)).a = e, (i = a.z + d - r.z - c + s(a._, r._)) > 0 && (Cr(Sr(a, e, n), e, i), c += i, u += i), d += a.m, c += r.m, h += l.m, u += o.m;
a && !wr(o) && (o.t = a, o.m += d - u), r && !_r(l) && (l.t = r, l.m += c - h, n = e);
}
return n;
}
function o(e) {
e.x *= l[0], e.y = e.depth * l[1];
}
var a = Vo.layout.hierarchy().sort(null).value(null), s = br, l = [ 1, 1 ], c = null;
return e.separation = function(t) {
return arguments.length ? (s = t, e) : s;
}, e.size = function(t) {
return arguments.length ? (c = null == (l = t) ? o : null, e) : c ? null : l;
}, e.nodeSize = function(t) {
return arguments.length ? (c = null == (l = t) ? null : o, e) : c ? l : null;
}, qi(e, a);
}, Vo.layout.cluster = function() {
function e(e, o) {
var a, s = t.call(this, e, o), l = s[0], c = 0;
Yi(l, function(e) {
var t = e.children;
t && t.length ? (e.x = Ar(t), e.y = $r(t)) : (e.x = a ? c += n(e, a) : 0, e.y = 0, a = e);
});
var u = kr(l), d = Tr(l), h = u.x - n(u, d) / 2, f = d.x + n(d, u) / 2;
return Yi(l, r ? function(e) {
e.x = (e.x - l.x) * i[0], e.y = (l.y - e.y) * i[1];
} : function(e) {
e.x = (e.x - h) / (f - h) * i[0], e.y = (1 - (l.y ? e.y / l.y : 1)) * i[1];
}), s;
}
var t = Vo.layout.hierarchy().sort(null).value(null), n = br, i = [ 1, 1 ], r = !1;
return e.separation = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.size = function(t) {
return arguments.length ? (r = null == (i = t), e) : r ? null : i;
}, e.nodeSize = function(t) {
return arguments.length ? (r = null != (i = t), e) : r ? i : null;
}, qi(e, t);
}, Vo.layout.treemap = function() {
function e(e, t) {
for (var n, i, r = -1, o = e.length; ++r < o; ) i = (n = e[r]).value * (t < 0 ? 0 : t), n.area = isNaN(i) || i <= 0 ? 0 : i;
}
function t(n) {
var o = n.children;
if (o && o.length) {
var a, s, l, c = d(n), u = [], h = o.slice(), p = 1 / 0, g = "slice" === f ? c.dx : "dice" === f ? c.dy : "slice-dice" === f ? 1 & n.depth ? c.dy : c.dx : Math.min(c.dx, c.dy);
for (e(h, c.dx * c.dy / n.value), u.area = 0; (l = h.length) > 0; ) u.push(a = h[l - 1]), u.area += a.area, "squarify" !== f || (s = i(u, g)) <= p ? (h.pop(), p = s) : (u.area -= u.pop().area, r(u, g, c, !1), g = Math.min(c.dx, c.dy), u.length = u.area = 0, p = 1 / 0);
u.length && (r(u, g, c, !0), u.length = u.area = 0), o.forEach(t);
}
}
function n(t) {
var i = t.children;
if (i && i.length) {
var o, a = d(t), s = i.slice(), l = [];
for (e(s, a.dx * a.dy / t.value), l.area = 0; o = s.pop(); ) l.push(o), l.area += o.area, null != o.z && (r(l, o.z ? a.dx : a.dy, a, !s.length), l.length = l.area = 0);
i.forEach(n);
}
}
function i(e, t) {
for (var n, i = e.area, r = 0, o = 1 / 0, a = -1, s = e.length; ++a < s; ) (n = e[a].area) && (n < o && (o = n), n > r && (r = n));
return i *= i, t *= t, i ? Math.max(t * r * p / i, i / (t * o * p)) : 1 / 0;
}
function r(e, t, n, i) {
var r, o = -1, a = e.length, s = n.x, c = n.y, u = t ? l(e.area / t) : 0;
if (t == n.dx) {
for ((i || u > n.dy) && (u = n.dy); ++o < a; ) (r = e[o]).x = s, r.y = c, r.dy = u, s += r.dx = Math.min(n.x + n.dx - s, u ? l(r.area / u) : 0);
r.z = !0, r.dx += n.x + n.dx - s, n.y += u, n.dy -= u;
} else {
for ((i || u > n.dx) && (u = n.dx); ++o < a; ) (r = e[o]).x = s, r.y = c, r.dx = u, c += r.dy = Math.min(n.y + n.dy - c, u ? l(r.area / u) : 0);
r.z = !1, r.dy += n.y + n.dy - c, n.x += u, n.dx -= u;
}
}
function o(i) {
var r = a || s(i), o = r[0];
return o.x = o.y = 0, o.value ? (o.dx = c[0], o.dy = c[1]) : o.dx = o.dy = 0, a && s.revalue(o), e([ o ], o.dx * o.dy / o.value), (a ? n : t)(o), h && (a = r), r;
}
var a, s = Vo.layout.hierarchy(), l = Math.round, c = [ 1, 1 ], u = null, d = Dr, h = !1, f = "squarify", p = .5 * (1 + Math.sqrt(5));
return o.size = function(e) {
return arguments.length ? (c = e, o) : c;
}, o.padding = function(e) {
function t(t) {
return Er(t, e);
}
if (!arguments.length) return u;
var n;
return d = null == (u = e) ? Dr : "function" == (n = typeof e) ? function(t) {
var n = e.call(o, t, t.depth);
return null == n ? Dr(t) : Er(t, "number" == typeof n ? [ n, n, n, n ] : n);
} : "number" === n ? (e = [ e, e, e, e ], t) : t, o;
}, o.round = function(e) {
return arguments.length ? (l = e ? Math.round : Number, o) : l != Number;
}, o.sticky = function(e) {
return arguments.length ? (h = e, a = null, o) : h;
}, o.ratio = function(e) {
return arguments.length ? (p = e, o) : p;
}, o.mode = function(e) {
return arguments.length ? (f = e + "", o) : f;
}, qi(o, s);
}, Vo.random = {
normal: function(e, t) {
var n = arguments.length;
return n < 2 && (t = 1), n < 1 && (e = 0), function() {
var n, i, r;
do {
r = (n = 2 * Math.random() - 1) * n + (i = 2 * Math.random() - 1) * i;
} while (!r || r > 1);
return e + t * n * Math.sqrt(-2 * Math.log(r) / r);
};
},
logNormal: function() {
var e = Vo.random.normal.apply(Vo, arguments);
return function() {
return Math.exp(e());
};
},
bates: function(e) {
var t = Vo.random.irwinHall(e);
return function() {
return t() / e;
};
},
irwinHall: function(e) {
return function() {
for (var t = 0, n = 0; n < e; n++) t += Math.random();
return t;
};
}
}, Vo.scale = {};
var el = {
floor: y,
ceil: y
};
Vo.scale.linear = function() {
return Rr([ 0, 1 ], [ 0, 1 ], fi, !1);
};
var tl = {
s: 1,
g: 1,
p: 1,
r: 1,
e: 1
};
Vo.scale.log = function() {
return Wr(Vo.scale.linear().domain([ 0, 1 ]), 10, !0, [ 1, 10 ]);
};
var nl = Vo.format(".0e"), il = {
floor: function(e) {
return -Math.ceil(-e);
},
ceil: function(e) {
return -Math.floor(-e);
}
};
Vo.scale.pow = function() {
return qr(Vo.scale.linear(), 1, [ 0, 1 ]);
}, Vo.scale.sqrt = function() {
return Vo.scale.pow().exponent(.5);
}, Vo.scale.ordinal = function() {
return Yr([], {
t: "range",
a: [ [] ]
});
}, Vo.scale.category10 = function() {
return Vo.scale.ordinal().range(rl);
}, Vo.scale.category20 = function() {
return Vo.scale.ordinal().range(ol);
}, Vo.scale.category20b = function() {
return Vo.scale.ordinal().range(al);
}, Vo.scale.category20c = function() {
return Vo.scale.ordinal().range(sl);
};
var rl = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(be), ol = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(be), al = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(be), sl = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(be);
Vo.scale.quantile = function() {
return Kr([], []);
}, Vo.scale.quantize = function() {
return Xr(0, 1, [ 0, 1 ]);
}, Vo.scale.threshold = function() {
return Qr([ .5 ], [ 0, 1 ]);
}, Vo.scale.identity = function() {
return Jr([ 0, 1 ]);
}, Vo.svg = {}, Vo.svg.arc = function() {
function e() {
var e = Math.max(0, +n.apply(this, arguments)), c = Math.max(0, +i.apply(this, arguments)), u = a.apply(this, arguments) - _a, d = s.apply(this, arguments) - _a, h = Math.abs(d - u), f = u > d ? 0 : 1;
if (c < e && (p = c, c = e, e = p), h >= ba) return t(c, f) + (e ? t(e, 1 - f) : "") + "Z";
var p, g, m, v, y, b, _, w, C, x, S, $, A = 0, k = 0, T = [];
if ((v = (+l.apply(this, arguments) || 0) / 2) && (m = o === ll ? Math.sqrt(e * e + c * c) : +o.apply(this, arguments), f || (k *= -1), c && (k = te(m / c * Math.sin(v))), e && (A = te(m / e * Math.sin(v)))), c) {
y = c * Math.cos(u + k), b = c * Math.sin(u + k), _ = c * Math.cos(d - k), w = c * Math.sin(d - k);
var D = Math.abs(d - u - 2 * k) <= va ? 0 : 1;
if (k && oo(y, b, _, w) === f ^ D) {
var E = (u + d) / 2;
y = c * Math.cos(E), b = c * Math.sin(E), _ = w = null;
}
} else y = b = 0;
if (e) {
C = e * Math.cos(d - A), x = e * Math.sin(d - A), S = e * Math.cos(u + A), $ = e * Math.sin(u + A);
var F = Math.abs(u - d + 2 * A) <= va ? 0 : 1;
if (A && oo(C, x, S, $) === 1 - f ^ F) {
var M = (u + d) / 2;
C = e * Math.cos(M), x = e * Math.sin(M), S = $ = null;
}
} else C = x = 0;
if (h > ga && (p = Math.min(Math.abs(c - e) / 2, +r.apply(this, arguments))) > .001) {
g = e < c ^ f ? 0 : 1;
var I = p, P = p;
if (h < va) {
var L = null == S ? [ C, x ] : null == _ ? [ y, b ] : Dn([ y, b ], [ S, $ ], [ _, w ], [ C, x ]), O = y - L[0], R = b - L[1], N = _ - L[0], B = w - L[1], j = 1 / Math.sin(Math.acos((O * N + R * B) / (Math.sqrt(O * O + R * R) * Math.sqrt(N * N + B * B))) / 2), H = Math.sqrt(L[0] * L[0] + L[1] * L[1]);
P = Math.min(p, (e - H) / (j - 1)), I = Math.min(p, (c - H) / (j + 1));
}
if (null != _) {
var V = ao(null == S ? [ C, x ] : [ S, $ ], [ y, b ], c, I, f), U = ao([ _, w ], [ C, x ], c, I, f);
p === I ? T.push("M", V[0], "A", I, ",", I, " 0 0,", g, " ", V[1], "A", c, ",", c, " 0 ", 1 - f ^ oo(V[1][0], V[1][1], U[1][0], U[1][1]), ",", f, " ", U[1], "A", I, ",", I, " 0 0,", g, " ", U[0]) : T.push("M", V[0], "A", I, ",", I, " 0 1,", g, " ", U[0]);
} else T.push("M", y, ",", b);
if (null != S) {
var z = ao([ y, b ], [ S, $ ], e, -P, f), W = ao([ C, x ], null == _ ? [ y, b ] : [ _, w ], e, -P, f);
p === P ? T.push("L", W[0], "A", P, ",", P, " 0 0,", g, " ", W[1], "A", e, ",", e, " 0 ", f ^ oo(W[1][0], W[1][1], z[1][0], z[1][1]), ",", 1 - f, " ", z[1], "A", P, ",", P, " 0 0,", g, " ", z[0]) : T.push("L", W[0], "A", P, ",", P, " 0 0,", g, " ", z[0]);
} else T.push("L", C, ",", x);
} else T.push("M", y, ",", b), null != _ && T.push("A", c, ",", c, " 0 ", D, ",", f, " ", _, ",", w), T.push("L", C, ",", x), null != S && T.push("A", e, ",", e, " 0 ", F, ",", 1 - f, " ", S, ",", $);
return T.push("Z"), T.join("");
}
function t(e, t) {
return "M0," + e + "A" + e + "," + e + " 0 1," + t + " 0," + -e + "A" + e + "," + e + " 0 1," + t + " 0," + e;
}
var n = eo, i = to, r = Zr, o = ll, a = no, s = io, l = ro;
return e.innerRadius = function(t) {
return arguments.length ? (n = Ae(t), e) : n;
}, e.outerRadius = function(t) {
return arguments.length ? (i = Ae(t), e) : i;
}, e.cornerRadius = function(t) {
return arguments.length ? (r = Ae(t), e) : r;
}, e.padRadius = function(t) {
return arguments.length ? (o = t == ll ? ll : Ae(t), e) : o;
}, e.startAngle = function(t) {
return arguments.length ? (a = Ae(t), e) : a;
}, e.endAngle = function(t) {
return arguments.length ? (s = Ae(t), e) : s;
}, e.padAngle = function(t) {
return arguments.length ? (l = Ae(t), e) : l;
}, e.centroid = function() {
var e = (+n.apply(this, arguments) + +i.apply(this, arguments)) / 2, t = (+a.apply(this, arguments) + +s.apply(this, arguments)) / 2 - _a;
return [ Math.cos(t) * e, Math.sin(t) * e ];
}, e;
};
var ll = "auto";
Vo.svg.line = function() {
return so(y);
};
var cl = Vo.map({
linear: lo,
"linear-closed": co,
step: function(e) {
for (var t = 0, n = e.length, i = e[0], r = [ i[0], ",", i[1] ]; ++t < n; ) r.push("H", (i[0] + (i = e[t])[0]) / 2, "V", i[1]);
return n > 1 && r.push("H", i[0]), r.join("");
},
"step-before": uo,
"step-after": ho,
basis: go,
"basis-open": function(e) {
if (e.length < 4) return lo(e);
for (var t, n = [], i = -1, r = e.length, o = [ 0 ], a = [ 0 ]; ++i < 3; ) t = e[i], o.push(t[0]), a.push(t[1]);
for (n.push(mo(hl, o) + "," + mo(hl, a)), --i; ++i < r; ) t = e[i], o.shift(), o.push(t[0]), a.shift(), a.push(t[1]), vo(n, o, a);
return n.join("");
},
"basis-closed": function(e) {
for (var t, n, i = -1, r = e.length, o = r + 4, a = [], s = []; ++i < 4; ) n = e[i % r], a.push(n[0]), s.push(n[1]);
for (t = [ mo(hl, a), ",", mo(hl, s) ], --i; ++i < o; ) n = e[i % r], a.shift(), a.push(n[0]), s.shift(), s.push(n[1]), vo(t, a, s);
return t.join("");
},
bundle: function(e, t) {
var n = e.length - 1;
if (n) for (var i, r, o = e[0][0], a = e[0][1], s = e[n][0] - o, l = e[n][1] - a, c = -1; ++c <= n; ) r = c / n, (i = e[c])[0] = t * i[0] + (1 - t) * (o + r * s), i[1] = t * i[1] + (1 - t) * (a + r * l);
return go(e);
},
cardinal: function(e, t) {
return e.length < 3 ? lo(e) : e[0] + fo(e, po(e, t));
},
"cardinal-open": function(e, t) {
return e.length < 4 ? lo(e) : e[1] + fo(e.slice(1, -1), po(e, t));
},
"cardinal-closed": function(e, t) {
return e.length < 3 ? co(e) : e[0] + fo((e.push(e[0]), e), po([ e[e.length - 2] ].concat(e, [ e[1] ]), t));
},
monotone: function(e) {
return e.length < 3 ? lo(e) : e[0] + fo(e, _o(e));
}
});
cl.forEach(function(e, t) {
t.key = e, t.closed = /-closed$/.test(e);
});
var ul = [ 0, 2 / 3, 1 / 3, 0 ], dl = [ 0, 1 / 3, 2 / 3, 0 ], hl = [ 0, 1 / 6, 2 / 3, 1 / 6 ];
Vo.svg.line.radial = function() {
var e = so(wo);
return e.radius = e.x, delete e.x, e.angle = e.y, delete e.y, e;
}, uo.reverse = ho, ho.reverse = uo, Vo.svg.area = function() {
return Co(y);
}, Vo.svg.area.radial = function() {
var e = Co(wo);
return e.radius = e.x, delete e.x, e.innerRadius = e.x0, delete e.x0, e.outerRadius = e.x1, delete e.x1, e.angle = e.y, delete e.y, e.startAngle = e.y0, delete e.y0, e.endAngle = e.y1, delete e.y1, e;
}, Vo.svg.chord = function() {
function e(e, s) {
var l = t(this, o, e, s), c = t(this, a, e, s);
return "M" + l.p0 + i(l.r, l.p1, l.a1 - l.a0) + (n(l, c) ? r(l.r, l.p1, l.r, l.p0) : r(l.r, l.p1, c.r, c.p0) + i(c.r, c.p1, c.a1 - c.a0) + r(c.r, c.p1, l.r, l.p0)) + "Z";
}
function t(e, t, n, i) {
var r = t.call(e, n, i), o = s.call(e, r, i), a = l.call(e, r, i) - _a, u = c.call(e, r, i) - _a;
return {
r: o,
a0: a,
a1: u,
p0: [ o * Math.cos(a), o * Math.sin(a) ],
p1: [ o * Math.cos(u), o * Math.sin(u) ]
};
}
function n(e, t) {
return e.a0 == t.a0 && e.a1 == t.a1;
}
function i(e, t, n) {
return "A" + e + "," + e + " 0 " + +(n > va) + ",1 " + t;
}
function r(e, t, n, i) {
return "Q 0,0 " + i;
}
var o = gn, a = mn, s = xo, l = no, c = io;
return e.radius = function(t) {
return arguments.length ? (s = Ae(t), e) : s;
}, e.source = function(t) {
return arguments.length ? (o = Ae(t), e) : o;
}, e.target = function(t) {
return arguments.length ? (a = Ae(t), e) : a;
}, e.startAngle = function(t) {
return arguments.length ? (l = Ae(t), e) : l;
}, e.endAngle = function(t) {
return arguments.length ? (c = Ae(t), e) : c;
}, e;
}, Vo.svg.diagonal = function() {
function e(e, r) {
var o = t.call(this, e, r), a = n.call(this, e, r), s = (o.y + a.y) / 2, l = [ o, {
x: o.x,
y: s
}, {
x: a.x,
y: s
}, a ];
return "M" + (l = l.map(i))[0] + "C" + l[1] + " " + l[2] + " " + l[3];
}
var t = gn, n = mn, i = So;
return e.source = function(n) {
return arguments.length ? (t = Ae(n), e) : t;
}, e.target = function(t) {
return arguments.length ? (n = Ae(t), e) : n;
}, e.projection = function(t) {
return arguments.length ? (i = t, e) : i;
}, e;
}, Vo.svg.diagonal.radial = function() {
var e = Vo.svg.diagonal(), t = So, n = e.projection;
return e.projection = function(e) {
return arguments.length ? n($o(t = e)) : t;
}, e;
}, Vo.svg.symbol = function() {
function e(e, i) {
return (fl.get(t.call(this, e, i)) || To)(n.call(this, e, i));
}
var t = ko, n = Ao;
return e.type = function(n) {
return arguments.length ? (t = Ae(n), e) : t;
}, e.size = function(t) {
return arguments.length ? (n = Ae(t), e) : n;
}, e;
};
var fl = Vo.map({
circle: To,
cross: function(e) {
var t = Math.sqrt(e / 5) / 2;
return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z";
},
diamond: function(e) {
var t = Math.sqrt(e / (2 * gl)), n = t * gl;
return "M0," + -t + "L" + n + ",0 0," + t + " " + -n + ",0Z";
},
square: function(e) {
var t = Math.sqrt(e) / 2;
return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z";
},
"triangle-down": function(e) {
var t = Math.sqrt(e / pl), n = t * pl / 2;
return "M0," + n + "L" + t + "," + -n + " " + -t + "," + -n + "Z";
},
"triangle-up": function(e) {
var t = Math.sqrt(e / pl), n = t * pl / 2;
return "M0," + -n + "L" + t + "," + n + " " + -t + "," + n + "Z";
}
});
Vo.svg.symbolTypes = fl.keys();
var pl = Math.sqrt(3), gl = Math.tan(30 * wa);
sa.transition = function(e) {
for (var t, n, i = ml || ++_l, r = Io(e), o = [], a = vl || {
time: Date.now(),
ease: _i,
delay: 0,
duration: 250
}, s = -1, l = this.length; ++s < l; ) {
o.push(t = []);
for (var c = this[s], u = -1, d = c.length; ++u < d; ) (n = c[u]) && Po(n, u, r, i, a), t.push(n);
}
return Eo(o, r, i);
}, sa.interrupt = function(e) {
return this.each(null == e ? yl : Do(Io(e)));
};
var ml, vl, yl = Do(Io()), bl = [], _l = 0;
bl.call = sa.call, bl.empty = sa.empty, bl.node = sa.node, bl.size = sa.size, Vo.transition = function(e, t) {
return e && e.transition ? ml ? e.transition(t) : e : Vo.selection().transition(e);
}, Vo.transition.prototype = bl, bl.select = function(e) {
var t, n, i, r = this.id, o = this.namespace, a = [];
e = T(e);
for (var s = -1, l = this.length; ++s < l; ) {
a.push(t = []);
for (var c = this[s], u = -1, d = c.length; ++u < d; ) (i = c[u]) && (n = e.call(i, i.__data__, u, s)) ? ("__data__" in i && (n.__data__ = i.__data__), Po(n, u, o, r, i[o][r]), t.push(n)) : t.push(null);
}
return Eo(a, o, r);
}, bl.selectAll = function(e) {
var t, n, i, r, o, a = this.id, s = this.namespace, l = [];
e = D(e);
for (var c = -1, u = this.length; ++c < u; ) for (var d = this[c], h = -1, f = d.length; ++h < f; ) if (i = d[h]) {
o = i[s][a], n = e.call(i, i.__data__, h, c), l.push(t = []);
for (var p = -1, g = n.length; ++p < g; ) (r = n[p]) && Po(r, p, s, a, o), t.push(r);
}
return Eo(l, s, a);
}, bl.filter = function(e) {
var t, n, i, r = [];
"function" != typeof e && (e = H(e));
for (var o = 0, a = this.length; o < a; o++) {
r.push(t = []);
for (var s = 0, l = (n = this[o]).length; s < l; s++) (i = n[s]) && e.call(i, i.__data__, s, o) && t.push(i);
}
return Eo(r, this.namespace, this.id);
}, bl.tween = function(e, t) {
var n = this.id, i = this.namespace;
return arguments.length < 2 ? this.node()[i][n].tween.get(e) : U(this, null == t ? function(t) {
t[i][n].tween.remove(e);
} : function(r) {
r[i][n].tween.set(e, t);
});
}, bl.attr = function(e, t) {
function n() {
this.removeAttribute(o);
}
function i() {
this.removeAttributeNS(o.space, o.local);
}
if (arguments.length < 2) {
for (t in e) this.attr(t, e[t]);
return this;
}
var r = "transform" == e ? Li : fi, o = Vo.ns.qualify(e);
return Fo(this, "attr." + e, t, o.local ? function(e) {
return null == e ? i : (e += "", function() {
var t, n = this.getAttributeNS(o.space, o.local);
return n !== e && (t = r(n, e), function(e) {
this.setAttributeNS(o.space, o.local, t(e));
});
});
} : function(e) {
return null == e ? n : (e += "", function() {
var t, n = this.getAttribute(o);
return n !== e && (t = r(n, e), function(e) {
this.setAttribute(o, t(e));
});
});
});
}, bl.attrTween = function(e, t) {
var n = Vo.ns.qualify(e);
return this.tween("attr." + e, n.local ? function(e, i) {
var r = t.call(this, e, i, this.getAttributeNS(n.space, n.local));
return r && function(e) {
this.setAttributeNS(n.space, n.local, r(e));
};
} : function(e, i) {
var r = t.call(this, e, i, this.getAttribute(n));
return r && function(e) {
this.setAttribute(n, r(e));
};
});
}, bl.style = function(e, n, i) {
function r() {
this.style.removeProperty(e);
}
var o = arguments.length;
if (o < 3) {
if ("string" != typeof e) {
o < 2 && (n = "");
for (i in e) this.style(i, e[i], n);
return this;
}
i = "";
}
return Fo(this, "style." + e, n, function(n) {
return null == n ? r : (n += "", function() {
var r, o = t(this).getComputedStyle(this, null).getPropertyValue(e);
return o !== n && (r = fi(o, n), function(t) {
this.style.setProperty(e, r(t), i);
});
});
});
}, bl.styleTween = function(e, n, i) {
return arguments.length < 3 && (i = ""), this.tween("style." + e, function(r, o) {
var a = n.call(this, r, o, t(this).getComputedStyle(this, null).getPropertyValue(e));
return a && function(t) {
this.style.setProperty(e, a(t), i);
};
});
}, bl.text = function(e) {
return Fo(this, "text", e, Mo);
}, bl.remove = function() {
var e = this.namespace;
return this.each("end.transition", function() {
var t;
this[e].count < 2 && (t = this.parentNode) && t.removeChild(this);
});
}, bl.ease = function(e) {
var t = this.id, n = this.namespace;
return arguments.length < 1 ? this.node()[n][t].ease : ("function" != typeof e && (e = Vo.ease.apply(Vo, arguments)), U(this, function(i) {
i[n][t].ease = e;
}));
}, bl.delay = function(e) {
var t = this.id, n = this.namespace;
return arguments.length < 1 ? this.node()[n][t].delay : U(this, "function" == typeof e ? function(i, r, o) {
i[n][t].delay = +e.call(i, i.__data__, r, o);
} : (e = +e, function(i) {
i[n][t].delay = e;
}));
}, bl.duration = function(e) {
var t = this.id, n = this.namespace;
return arguments.length < 1 ? this.node()[n][t].duration : U(this, "function" == typeof e ? function(i, r, o) {
i[n][t].duration = Math.max(1, e.call(i, i.__data__, r, o));
} : (e = Math.max(1, e), function(i) {
i[n][t].duration = e;
}));
}, bl.each = function(e, t) {
var n = this.id, i = this.namespace;
if (arguments.length < 2) {
var r = vl, o = ml;
try {
ml = n, U(this, function(t, r, o) {
vl = t[i][n], e.call(t, t.__data__, r, o);
});
} finally {
vl = r, ml = o;
}
} else U(this, function(r) {
var o = r[i][n];
(o.event || (o.event = Vo.dispatch("start", "end", "interrupt"))).on(e, t);
});
return this;
}, bl.transition = function() {
for (var e, t, n, i, r = this.id, o = ++_l, a = this.namespace, s = [], l = 0, c = this.length; l < c; l++) {
s.push(e = []);
for (var u = 0, d = (t = this[l]).length; u < d; u++) (n = t[u]) && Po(n, u, a, o, {
time: (i = n[a][r]).time,
ease: i.ease,
delay: i.delay + i.duration,
duration: i.duration
}), e.push(n);
}
return Eo(s, a, o);
}, Vo.svg.axis = function() {
function e(e) {
e.each(function() {
var e, c = Vo.select(this), u = this.__chart__ || n, d = this.__chart__ = n.copy(), h = null == l ? d.ticks ? d.ticks.apply(d, s) : d.domain() : l, f = null == t ? d.tickFormat ? d.tickFormat.apply(d, s) : y : t, p = c.selectAll(".tick").data(h, d), g = p.enter().insert("g", ".domain").attr("class", "tick").style("opacity", ga), m = Vo.transition(p.exit()).style("opacity", ga).remove(), v = Vo.transition(p.order()).style("opacity", 1), b = Math.max(r, 0) + a, _ = Mr(d), w = c.selectAll(".domain").data([ 0 ]), C = (w.enter().append("path").attr("class", "domain"), Vo.transition(w));
g.append("line"), g.append("text");
var x, S, $, A, k = g.select("line"), T = v.select("line"), D = p.select("text").text(f), E = g.select("text"), F = v.select("text"), M = "top" === i || "left" === i ? -1 : 1;
if ("bottom" === i || "top" === i ? (e = Lo, x = "x", $ = "y", S = "x2", A = "y2", D.attr("dy", M < 0 ? "0em" : ".71em").style("text-anchor", "middle"), C.attr("d", "M" + _[0] + "," + M * o + "V0H" + _[1] + "V" + M * o)) : (e = Oo, x = "y", $ = "x", S = "y2", A = "x2", D.attr("dy", ".32em").style("text-anchor", M < 0 ? "end" : "start"), C.attr("d", "M" + M * o + "," + _[0] + "H0V" + _[1] + "H" + M * o)), k.attr(A, M * r), E.attr($, M * b), T.attr(S, 0).attr(A, M * r), F.attr(x, 0).attr($, M * b), d.rangeBand) {
var I = d, P = I.rangeBand() / 2;
u = d = function(e) {
return I(e) + P;
};
} else u.rangeBand ? u = d : m.call(e, d, u);
g.call(e, u, d), v.call(e, d, d);
});
}
var t, n = Vo.scale.linear(), i = wl, r = 6, o = 6, a = 3, s = [ 10 ], l = null;
return e.scale = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.orient = function(t) {
return arguments.length ? (i = t in Cl ? t + "" : wl, e) : i;
}, e.ticks = function() {
return arguments.length ? (s = zo(arguments), e) : s;
}, e.tickValues = function(t) {
return arguments.length ? (l = t, e) : l;
}, e.tickFormat = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.tickSize = function(t) {
var n = arguments.length;
return n ? (r = +t, o = +arguments[n - 1], e) : r;
}, e.innerTickSize = function(t) {
return arguments.length ? (r = +t, e) : r;
}, e.outerTickSize = function(t) {
return arguments.length ? (o = +t, e) : o;
}, e.tickPadding = function(t) {
return arguments.length ? (a = +t, e) : a;
}, e.tickSubdivide = function() {
return arguments.length && e;
}, e;
};
var wl = "bottom", Cl = {
top: 1,
right: 1,
bottom: 1,
left: 1
};
Vo.svg.brush = function() {
function e(t) {
t.each(function() {
var t = Vo.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", o).on("touchstart.brush", o), a = t.selectAll(".background").data([ 0 ]);
a.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"), t.selectAll(".extent").data([ 0 ]).enter().append("rect").attr("class", "extent").style("cursor", "move");
var s = t.selectAll(".resize").data(g, y);
s.exit().remove(), s.enter().append("g").attr("class", function(e) {
return "resize " + e;
}).style("cursor", function(e) {
return xl[e];
}).append("rect").attr("x", function(e) {
return /[ew]$/.test(e) ? -3 : null;
}).attr("y", function(e) {
return /^[ns]/.test(e) ? -3 : null;
}).attr("width", 6).attr("height", 6).style("visibility", "hidden"), s.style("display", e.empty() ? "none" : null);
var l, d = Vo.transition(t), h = Vo.transition(a);
c && (l = Mr(c), h.attr("x", l[0]).attr("width", l[1] - l[0]), i(d)), u && (l = Mr(u), h.attr("y", l[0]).attr("height", l[1] - l[0]), r(d)), n(d);
});
}
function n(e) {
e.selectAll(".resize").attr("transform", function(e) {
return "translate(" + d[+/e$/.test(e)] + "," + h[+/^s/.test(e)] + ")";
});
}
function i(e) {
e.select(".extent").attr("x", d[0]), e.selectAll(".extent,.n>rect,.s>rect").attr("width", d[1] - d[0]);
}
function r(e) {
e.select(".extent").attr("y", h[0]), e.selectAll(".extent,.e>rect,.w>rect").attr("height", h[1] - h[0]);
}
function o() {
function o() {
var e = Vo.mouse(b), t = !1;
y && (e[0] += y[0], e[1] += y[1]), k || (Vo.event.altKey ? (v || (v = [ (d[0] + d[1]) / 2, (h[0] + h[1]) / 2 ]), D[0] = d[+(e[0] < v[0])], D[1] = h[+(e[1] < v[1])]) : v = null), $ && g(e, c, 0) && (i(C), t = !0), A && g(e, u, 1) && (r(C), t = !0), t && (n(C), w({
type: "brush",
mode: k ? "move" : "resize"
}));
}
function g(e, t, n) {
var i, r, o = Mr(t), l = o[0], c = o[1], u = D[n], g = n ? h : d, m = g[1] - g[0];
if (k && (l -= u, c -= m + u), i = (n ? p : f) ? Math.max(l, Math.min(c, e[n])) : e[n], k ? r = (i += u) + m : (v && (u = Math.max(l, Math.min(c, 2 * v[n] - i))), u < i ? (r = i, i = u) : r = u), g[0] != i || g[1] != r) return n ? s = null : a = null, g[0] = i, g[1] = r, !0;
}
function m() {
o(), C.style("pointer-events", "all").selectAll(".resize").style("display", e.empty() ? "none" : null), Vo.select("body").style("cursor", null), E.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null), T(), w({
type: "brushend"
});
}
var v, y, b = this, _ = Vo.select(Vo.event.target), w = l.of(b, arguments), C = Vo.select(b), x = _.datum(), $ = !/^(n|s)$/.test(x) && c, A = !/^(e|w)$/.test(x) && u, k = _.classed("extent"), T = K(b), D = Vo.mouse(b), E = Vo.select(t(b)).on("keydown.brush", function() {
32 == Vo.event.keyCode && (k || (v = null, D[0] -= d[1], D[1] -= h[1], k = 2), S());
}).on("keyup.brush", function() {
32 == Vo.event.keyCode && 2 == k && (D[0] += d[1], D[1] += h[1], k = 0, S());
});
if (Vo.event.changedTouches ? E.on("touchmove.brush", o).on("touchend.brush", m) : E.on("mousemove.brush", o).on("mouseup.brush", m), C.interrupt().selectAll("*").interrupt(), k) D[0] = d[0] - D[0], D[1] = h[0] - D[1]; else if (x) {
var F = +/w$/.test(x), M = +/^n/.test(x);
y = [ d[1 - F] - D[0], h[1 - M] - D[1] ], D[0] = d[F], D[1] = h[M];
} else Vo.event.altKey && (v = D.slice());
C.style("pointer-events", "none").selectAll(".resize").style("display", null), Vo.select("body").style("cursor", _.style("cursor")), w({
type: "brushstart"
}), o();
}
var a, s, l = A(e, "brushstart", "brush", "brushend"), c = null, u = null, d = [ 0, 0 ], h = [ 0, 0 ], f = !0, p = !0, g = Sl[0];
return e.event = function(e) {
e.each(function() {
var e = l.of(this, arguments), t = {
x: d,
y: h,
i: a,
j: s
}, n = this.__chart__ || t;
this.__chart__ = t, ml ? Vo.select(this).transition().each("start.brush", function() {
a = n.i, s = n.j, d = n.x, h = n.y, e({
type: "brushstart"
});
}).tween("brush:brush", function() {
var n = pi(d, t.x), i = pi(h, t.y);
return a = s = null, function(r) {
d = t.x = n(r), h = t.y = i(r), e({
type: "brush",
mode: "resize"
});
};
}).each("end.brush", function() {
a = t.i, s = t.j, e({
type: "brush",
mode: "resize"
}), e({
type: "brushend"
});
}) : (e({
type: "brushstart"
}), e({
type: "brush",
mode: "resize"
}), e({
type: "brushend"
}));
});
}, e.x = function(t) {
return arguments.length ? (c = t, g = Sl[!c << 1 | !u], e) : c;
}, e.y = function(t) {
return arguments.length ? (u = t, g = Sl[!c << 1 | !u], e) : u;
}, e.clamp = function(t) {
return arguments.length ? (c && u ? (f = !!t[0], p = !!t[1]) : c ? f = !!t : u && (p = !!t), e) : c && u ? [ f, p ] : c ? f : u ? p : null;
}, e.extent = function(t) {
var n, i, r, o, l;
return arguments.length ? (c && (n = t[0], i = t[1], u && (n = n[0], i = i[0]), a = [ n, i ], c.invert && (n = c(n), i = c(i)), i < n && (l = n, n = i, i = l), n == d[0] && i == d[1] || (d = [ n, i ])), u && (r = t[0], o = t[1], c && (r = r[1], o = o[1]), s = [ r, o ], u.invert && (r = u(r), o = u(o)), o < r && (l = r, r = o, o = l), r == h[0] && o == h[1] || (h = [ r, o ])), e) : (c && (a ? (n = a[0], i = a[1]) : (n = d[0], i = d[1], c.invert && (n = c.invert(n), i = c.invert(i)), i < n && (l = n, n = i, i = l))), u && (s ? (r = s[0], o = s[1]) : (r = h[0], o = h[1], u.invert && (r = u.invert(r), o = u.invert(o)), o < r && (l = r, r = o, o = l))), c && u ? [ [ n, r ], [ i, o ] ] : c ? [ n, i ] : u && [ r, o ]);
}, e.clear = function() {
return e.empty() || (d = [ 0, 0 ], h = [ 0, 0 ], a = s = null), e;
}, e.empty = function() {
return !!c && d[0] == d[1] || !!u && h[0] == h[1];
}, Vo.rebind(e, l, "on");
};
var xl = {
n: "ns-resize",
e: "ew-resize",
s: "ns-resize",
w: "ew-resize",
nw: "nwse-resize",
ne: "nesw-resize",
se: "nwse-resize",
sw: "nesw-resize"
}, Sl = [ [ "n", "e", "s", "w", "nw", "ne", "se", "sw" ], [ "e", "w" ], [ "n", "s" ], [] ], $l = za.format = Xa.timeFormat, Al = $l.utc, kl = Al("%Y-%m-%dT%H:%M:%S.%LZ");
$l.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? Ro : kl, Ro.parse = function(e) {
var t = new Date(e);
return isNaN(t) ? null : t;
}, Ro.toString = kl.toString, za.second = Be(function(e) {
return new Wa(1e3 * Math.floor(e / 1e3));
}, function(e, t) {
e.setTime(e.getTime() + 1e3 * Math.floor(t));
}, function(e) {
return e.getSeconds();
}), za.seconds = za.second.range, za.seconds.utc = za.second.utc.range, za.minute = Be(function(e) {
return new Wa(6e4 * Math.floor(e / 6e4));
}, function(e, t) {
e.setTime(e.getTime() + 6e4 * Math.floor(t));
}, function(e) {
return e.getMinutes();
}), za.minutes = za.minute.range, za.minutes.utc = za.minute.utc.range, za.hour = Be(function(e) {
var t = e.getTimezoneOffset() / 60;
return new Wa(36e5 * (Math.floor(e / 36e5 - t) + t));
}, function(e, t) {
e.setTime(e.getTime() + 36e5 * Math.floor(t));
}, function(e) {
return e.getHours();
}), za.hours = za.hour.range, za.hours.utc = za.hour.utc.range, za.month = Be(function(e) {
return (e = za.day(e)).setDate(1), e;
}, function(e, t) {
e.setMonth(e.getMonth() + t);
}, function(e) {
return e.getMonth();
}), za.months = za.month.range, za.months.utc = za.month.utc.range;
var Tl = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ], Dl = [ [ za.second, 1 ], [ za.second, 5 ], [ za.second, 15 ], [ za.second, 30 ], [ za.minute, 1 ], [ za.minute, 5 ], [ za.minute, 15 ], [ za.minute, 30 ], [ za.hour, 1 ], [ za.hour, 3 ], [ za.hour, 6 ], [ za.hour, 12 ], [ za.day, 1 ], [ za.day, 2 ], [ za.week, 1 ], [ za.month, 1 ], [ za.month, 3 ], [ za.year, 1 ] ], El = $l.multi([ [ ".%L", function(e) {
return e.getMilliseconds();
} ], [ ":%S", function(e) {
return e.getSeconds();
} ], [ "%I:%M", function(e) {
return e.getMinutes();
} ], [ "%I %p", function(e) {
return e.getHours();
} ], [ "%a %d", function(e) {
return e.getDay() && 1 != e.getDate();
} ], [ "%b %d", function(e) {
return 1 != e.getDate();
} ], [ "%B", function(e) {
return e.getMonth();
} ], [ "%Y", Tt ] ]), Fl = {
range: function(e, t, n) {
return Vo.range(Math.ceil(e / n) * n, +t, n).map(Bo);
},
floor: y,
ceil: y
};
Dl.year = za.year, za.scale = function() {
return No(Vo.scale.linear(), Dl, El);
};
var Ml = Dl.map(function(e) {
return [ e[0].utc, e[1] ];
}), Il = Al.multi([ [ ".%L", function(e) {
return e.getUTCMilliseconds();
} ], [ ":%S", function(e) {
return e.getUTCSeconds();
} ], [ "%I:%M", function(e) {
return e.getUTCMinutes();
} ], [ "%I %p", function(e) {
return e.getUTCHours();
} ], [ "%a %d", function(e) {
return e.getUTCDay() && 1 != e.getUTCDate();
} ], [ "%b %d", function(e) {
return 1 != e.getUTCDate();
} ], [ "%B", function(e) {
return e.getUTCMonth();
} ], [ "%Y", Tt ] ]);
Ml.year = za.year.utc, za.scale.utc = function() {
return No(Vo.scale.linear(), Ml, Il);
}, Vo.text = ke(function(e) {
return e.responseText;
}), Vo.json = function(e, t) {
return Te(e, "application/json", jo, t);
}, Vo.html = function(e, t) {
return Te(e, "text/html", Ho, t);
}, Vo.xml = ke(function(e) {
return e.responseXML;
}), "function" == typeof define && define.amd ? (this.d3 = Vo, define(Vo)) : "object" == typeof module && module.exports ? module.exports = Vo : this.d3 = Vo;
}(), function(e) {
"use strict";
function t(e) {
this.owner = e;
}
function n(e) {
var t = this.internal = new i(this);
t.loadConfig(e), t.beforeInit(e), t.init(), t.afterInit(e), function e(t, n, i) {
Object.keys(t).forEach(function(r) {
n[r] = t[r].bind(i), Object.keys(t[r]).length > 0 && e(t[r], n[r], i);
});
}(a, this, this);
}
function i(t) {
var n = this;
n.d3 = e.d3 ? e.d3 : "undefined" != typeof require ? require("d3") : void 0, n.api = t, n.config = n.getDefaultConfig(), n.data = {}, n.cache = {}, n.axes = {};
}
function r(e) {
t.call(this, e);
}
function o(e, t) {
function n(e, t) {
e.attr("transform", function(e) {
return "translate(" + Math.ceil(t(e) + _) + ", 0)";
});
}
function i(e, t) {
e.attr("transform", function(e) {
return "translate(0," + Math.ceil(t(e)) + ")";
});
}
function r(e) {
var t = e[0], n = e[e.length - 1];
return t < n ? [ t, n ] : [ n, t ];
}
function o(e) {
var t, n, i = [];
if (e.ticks) return e.ticks.apply(e, f);
for (n = e.domain(), t = Math.ceil(n[0]); t < n[1]; t++) i.push(t);
return i.length > 0 && i[0] > 0 && i.unshift(i[0] - (i[1] - i[0])), i;
}
function a() {
var e, n = g.copy();
return t.isCategory && (e = g.domain(), n.domain([ e[0], e[1] - 1 ])), n;
}
function s(e) {
var t = h ? h(e) : e;
return void 0 !== t ? t : "";
}
function l(e) {
if (S) return S;
var t = {
h: 11.5,
w: 5.5
};
return e.select("text").text(s).each(function(e) {
var n = this.getBoundingClientRect(), i = s(e), r = n.height, o = i ? n.width / i.length : void 0;
r && o && (t.h = r, t.w = o);
}).text(""), S = t, t;
}
function c(n) {
return t.withoutTransition ? n : e.transition(n);
}
function u(h) {
h.each(function() {
function h(e, n) {
function i(e, t) {
o = void 0;
for (var s = 1; s < t.length; s++) if (" " === t.charAt(s) && (o = s), r = t.substr(0, s + 1), a = H.w * r.length, n < a) return i(e.concat(t.substr(0, o || s)), t.slice(o ? o + 1 : s));
return e.concat(t);
}
var r, o, a, l = s(e), c = [];
return "[object Array]" === Object.prototype.toString.call(l) ? l : ((!n || n <= 0) && (n = z ? 95 : t.isCategory ? Math.ceil(A(k[1]) - A(k[0])) - 12 : 110), i(c, l + ""));
}
function f(e, t) {
var n = H.h;
return 0 === t && (n = "left" === m || "right" === m ? -((V[e.index] - 1) * (H.h / 2) - 3) : ".71em"), n;
}
var w, C, x, S = u.g = e.select(this), $ = this.__chart__ || g, A = this.__chart__ = a(), k = b || o(A), T = S.selectAll(".tick").data(k, A), D = T.enter().insert("g", ".domain").attr("class", "tick").style("opacity", 1e-6), E = T.exit().remove(), F = c(T).style("opacity", 1), M = g.rangeExtent ? g.rangeExtent() : r(g.range()), I = S.selectAll(".domain").data([ 0 ]), P = (I.enter().append("path").attr("class", "domain"), c(I));
D.append("line"), D.append("text");
var L = D.select("line"), O = F.select("line"), R = D.select("text"), N = F.select("text");
t.isCategory ? (_ = Math.ceil((A(1) - A(0)) / 2), C = p ? 0 : _, x = p ? _ : 0) : _ = C = 0;
var B, j, H = l(S.select(".tick")), V = [], U = Math.max(v, 0) + y, z = "left" === m || "right" === m;
(j = (B = T.select("text")).selectAll("tspan").data(function(e, n) {
var i = t.tickMultiline ? h(e, t.tickWidth) : [].concat(s(e));
return V[n] = i.length, i.map(function(e) {
return {
index: n,
splitted: e
};
});
})).enter().append("tspan"), j.exit().remove(), j.text(function(e) {
return e.splitted;
});
var W = t.tickTextRotate;
switch (m) {
case "bottom":
w = n, L.attr("y2", v), R.attr("y", U), O.attr("x1", C).attr("x2", C).attr("y2", function(e) {
var t = g(e) + (p ? 0 : _);
return M[0] < t && t < M[1] ? v : 0;
}), N.attr("x", 0).attr("y", function(e) {
return e ? 11.5 - e / 15 * 2.5 * (e > 0 ? 1 : -1) : U;
}(W)).style("text-anchor", function(e) {
return e ? e > 0 ? "start" : "end" : "middle";
}(W)).attr("transform", function(e) {
return e ? "rotate(" + e + ")" : "";
}(W)), j.attr("x", 0).attr("dy", f).attr("dx", function(e) {
return e ? 8 * Math.sin(Math.PI * (e / 180)) : 0;
}(W)), P.attr("d", "M" + M[0] + "," + d + "V0H" + M[1] + "V" + d);
break;

case "top":
w = n, L.attr("y2", -v), R.attr("y", -U), O.attr("x2", 0).attr("y2", -v), N.attr("x", 0).attr("y", -U), B.style("text-anchor", "middle"), j.attr("x", 0).attr("dy", "0em"), P.attr("d", "M" + M[0] + "," + -d + "V0H" + M[1] + "V" + -d);
break;

case "left":
w = i, L.attr("x2", -v), R.attr("x", -U), O.attr("x2", -v).attr("y1", x).attr("y2", x), N.attr("x", -U).attr("y", _), B.style("text-anchor", "end"), j.attr("x", -U).attr("dy", f), P.attr("d", "M" + -d + "," + M[0] + "H0V" + M[1] + "H" + -d);
break;

case "right":
w = i, L.attr("x2", v), R.attr("x", U), O.attr("x2", v).attr("y2", 0), N.attr("x", U).attr("y", 0), B.style("text-anchor", "start"), j.attr("x", U).attr("dy", f), P.attr("d", "M" + d + "," + M[0] + "H0V" + M[1] + "H" + d);
}
if (A.rangeBand) {
var q = A, G = q.rangeBand() / 2;
$ = A = function(e) {
return q(e) + G;
};
} else $.rangeBand ? $ = A : E.call(w, A);
D.call(w, $), F.call(w, A);
});
}
var d, h, f, p, g = e.scale.linear(), m = "bottom", v = 6, y = 3, b = null, _ = 0, w = !0;
return t = t || {}, d = t.withOuterTick ? 6 : 0, u.scale = function(e) {
return arguments.length ? (g = e, u) : g;
}, u.orient = function(e) {
return arguments.length ? (m = e in {
top: 1,
right: 1,
bottom: 1,
left: 1
} ? e + "" : "bottom", u) : m;
}, u.tickFormat = function(e) {
return arguments.length ? (h = e, u) : h;
}, u.tickCentered = function(e) {
return arguments.length ? (p = e, u) : p;
}, u.tickOffset = function() {
return _;
}, u.tickInterval = function() {
var e;
return (e = t.isCategory ? 2 * _ : (u.g.select("path.domain").node().getTotalLength() - 2 * d) / u.g.selectAll("line").size()) === 1 / 0 ? 0 : e;
}, u.ticks = function() {
return arguments.length ? (f = arguments, u) : f;
}, u.tickCulling = function(e) {
return arguments.length ? (w = e, u) : w;
}, u.tickValues = function(e) {
if ("function" == typeof e) b = function() {
return e(g.domain());
}; else {
if (!arguments.length) return b;
b = e;
}
return u;
}, u;
}
var a, s, l = {
version: "0.4.11"
};
l.generate = function(e) {
return new n(e);
}, l.chart = {
fn: n.prototype,
internal: {
fn: i.prototype,
axis: {
fn: r.prototype
}
}
}, a = l.chart.fn, s = l.chart.internal.fn, l.chart.internal.axis.fn, s.beforeInit = function() {}, s.afterInit = function() {}, s.init = function() {
var e = this, t = e.config;
if (e.initParams(), t.data_url) e.convertUrlToData(t.data_url, t.data_mimeType, t.data_headers, t.data_keys, e.initWithData); else if (t.data_json) e.initWithData(e.convertJsonToData(t.data_json, t.data_keys)); else if (t.data_rows) e.initWithData(e.convertRowsToData(t.data_rows)); else {
if (!t.data_columns) throw Error("url or json or rows or columns is required.");
e.initWithData(e.convertColumnsToData(t.data_columns));
}
}, s.initParams = function() {
var e = this, t = e.d3, n = e.config;
e.clipId = "c3-" + +new Date() + "-clip", e.clipIdForXAxis = e.clipId + "-xaxis", e.clipIdForYAxis = e.clipId + "-yaxis", e.clipIdForGrid = e.clipId + "-grid", e.clipIdForSubchart = e.clipId + "-subchart", e.clipPath = e.getClipPath(e.clipId), e.clipPathForXAxis = e.getClipPath(e.clipIdForXAxis), e.clipPathForYAxis = e.getClipPath(e.clipIdForYAxis), e.clipPathForGrid = e.getClipPath(e.clipIdForGrid), e.clipPathForSubchart = e.getClipPath(e.clipIdForSubchart), e.dragStart = null, e.dragging = !1, e.flowing = !1, e.cancelClick = !1, e.mouseover = !1, e.transiting = !1, e.color = e.generateColor(), e.levelColor = e.generateLevelColor(), e.dataTimeFormat = n.data_xLocaltime ? t.time.format : t.time.format.utc, e.axisTimeFormat = n.axis_x_localtime ? t.time.format : t.time.format.utc, e.defaultAxisTimeFormat = e.axisTimeFormat.multi([ [ ".%L", function(e) {
return e.getMilliseconds();
} ], [ ":%S", function(e) {
return e.getSeconds();
} ], [ "%I:%M", function(e) {
return e.getMinutes();
} ], [ "%I %p", function(e) {
return e.getHours();
} ], [ "%-m/%-d", function(e) {
return e.getDay() && 1 !== e.getDate();
} ], [ "%-m/%-d", function(e) {
return 1 !== e.getDate();
} ], [ "%-m/%-d", function(e) {
return e.getMonth();
} ], [ "%Y/%-m/%-d", function() {
return !0;
} ] ]), e.hiddenTargetIds = [], e.hiddenLegendIds = [], e.focusedTargetIds = [], e.defocusedTargetIds = [], e.xOrient = n.axis_rotated ? "left" : "bottom", e.yOrient = n.axis_rotated ? n.axis_y_inner ? "top" : "bottom" : n.axis_y_inner ? "right" : "left", e.y2Orient = n.axis_rotated ? n.axis_y2_inner ? "bottom" : "top" : n.axis_y2_inner ? "left" : "right", e.subXOrient = n.axis_rotated ? "left" : "bottom", e.isLegendRight = "right" === n.legend_position, e.isLegendInset = "inset" === n.legend_position, e.isLegendTop = "top-left" === n.legend_inset_anchor || "top-right" === n.legend_inset_anchor, e.isLegendLeft = "top-left" === n.legend_inset_anchor || "bottom-left" === n.legend_inset_anchor, e.legendStep = 0, e.legendItemWidth = 0, e.legendItemHeight = 0, e.currentMaxTickWidths = {
x: 0,
y: 0,
y2: 0
}, e.rotated_padding_left = 30, e.rotated_padding_right = n.axis_rotated && !n.axis_x_show ? 0 : 30, e.rotated_padding_top = 5, e.withoutFadeIn = {}, e.intervalForObserveInserted = void 0, e.axes.subx = t.selectAll([]);
}, s.initChartElements = function() {
this.initBar && this.initBar(), this.initLine && this.initLine(), this.initArc && this.initArc(), this.initGauge && this.initGauge(), this.initText && this.initText();
}, s.initWithData = function(e) {
var t, n, i = this, o = i.d3, a = i.config, s = !0;
i.axis = new r(i), i.initPie && i.initPie(), i.initBrush && i.initBrush(), i.initZoom && i.initZoom(), a.bindto ? "function" == typeof a.bindto.node ? i.selectChart = a.bindto : i.selectChart = o.select(a.bindto) : i.selectChart = o.selectAll([]), i.selectChart.empty() && (i.selectChart = o.select(document.createElement("div")).style("opacity", 0), i.observeInserted(i.selectChart), s = !1), i.selectChart.html("").classed("c3", !0), i.data.xs = {}, i.data.targets = i.convertDataToTargets(e), a.data_filter && (i.data.targets = i.data.targets.filter(a.data_filter)), a.data_hide && i.addHiddenTargetIds(!0 === a.data_hide ? i.mapToIds(i.data.targets) : a.data_hide), a.legend_hide && i.addHiddenLegendIds(!0 === a.legend_hide ? i.mapToIds(i.data.targets) : a.legend_hide), i.hasType("gauge") && (a.legend_show = !1), i.updateSizes(), i.updateScales(), i.x.domain(o.extent(i.getXDomain(i.data.targets))), i.y.domain(i.getYDomain(i.data.targets, "y")), i.y2.domain(i.getYDomain(i.data.targets, "y2")), 
i.subX.domain(i.x.domain()), i.subY.domain(i.y.domain()), i.subY2.domain(i.y2.domain()), i.orgXDomain = i.x.domain(), i.brush && i.brush.scale(i.subX), a.zoom_enabled && i.zoom.scale(i.x), i.svg = i.selectChart.append("svg").style("overflow", "hidden").on("mouseenter", function() {
return a.onmouseover.call(i);
}).on("mouseleave", function() {
return a.onmouseout.call(i);
}), i.config.svg_classname && i.svg.attr("class", i.config.svg_classname), t = i.svg.append("defs"), i.clipChart = i.appendClip(t, i.clipId), i.clipXAxis = i.appendClip(t, i.clipIdForXAxis), i.clipYAxis = i.appendClip(t, i.clipIdForYAxis), i.clipGrid = i.appendClip(t, i.clipIdForGrid), i.clipSubchart = i.appendClip(t, i.clipIdForSubchart), i.updateSvgSize(), n = i.main = i.svg.append("g").attr("transform", i.getTranslate("main")), i.initSubchart && i.initSubchart(), i.initTooltip && i.initTooltip(), i.initLegend && i.initLegend(), i.initTitle && i.initTitle(), n.append("text").attr("class", c.text + " " + c.empty).attr("text-anchor", "middle").attr("dominant-baseline", "middle"), i.initRegion(), i.initGrid(), n.append("g").attr("clip-path", i.clipPath).attr("class", c.chart), a.grid_lines_front && i.initGridLines(), i.initEventRect(), i.initChartElements(), n.insert("rect", a.zoom_privileged ? null : "g." + c.regions).attr("class", c.zoomRect).attr("width", i.width).attr("height", i.height).style("opacity", 0).on("dblclick.zoom", null), 
a.axis_x_extent && i.brush.extent(i.getDefaultExtent()), i.axis.init(), i.updateTargets(i.data.targets), s && (i.updateDimension(), i.config.oninit.call(i), i.redraw({
withTransition: !1,
withTransform: !0,
withUpdateXDomain: !0,
withUpdateOrgXDomain: !0,
withTransitionForAxis: !1
})), i.bindResize(), i.api.element = i.selectChart.node();
}, s.smoothLines = function(e, t) {
var n = this;
"grid" === t && e.each(function() {
var e = n.d3.select(this), t = e.attr("x1"), i = e.attr("x2"), r = e.attr("y1"), o = e.attr("y2");
e.attr({
x1: Math.ceil(t),
x2: Math.ceil(i),
y1: Math.ceil(r),
y2: Math.ceil(o)
});
});
}, s.updateSizes = function() {
var e = this, t = e.config, n = e.legend ? e.getLegendHeight() : 0, i = e.legend ? e.getLegendWidth() : 0, r = e.isLegendRight || e.isLegendInset ? 0 : n, o = e.hasArcType(), a = t.axis_rotated || o ? 0 : e.getHorizontalAxisHeight("x"), s = t.subchart_show && !o ? t.subchart_size_height + a : 0;
e.currentWidth = e.getCurrentWidth(), e.currentHeight = e.getCurrentHeight(), e.margin = t.axis_rotated ? {
top: e.getHorizontalAxisHeight("y2") + e.getCurrentPaddingTop(),
right: o ? 0 : e.getCurrentPaddingRight(),
bottom: e.getHorizontalAxisHeight("y") + r + e.getCurrentPaddingBottom(),
left: s + (o ? 0 : e.getCurrentPaddingLeft())
} : {
top: 4 + e.getCurrentPaddingTop(),
right: o ? 0 : e.getCurrentPaddingRight(),
bottom: a + s + r + e.getCurrentPaddingBottom(),
left: o ? 0 : e.getCurrentPaddingLeft()
}, e.margin2 = t.axis_rotated ? {
top: e.margin.top,
right: NaN,
bottom: 20 + r,
left: e.rotated_padding_left
} : {
top: e.currentHeight - s - r,
right: NaN,
bottom: a + r,
left: e.margin.left
}, e.margin3 = {
top: 0,
right: NaN,
bottom: 0,
left: 0
}, e.updateSizeForLegend && e.updateSizeForLegend(n, i), e.width = e.currentWidth - e.margin.left - e.margin.right, e.height = e.currentHeight - e.margin.top - e.margin.bottom, e.width < 0 && (e.width = 0), e.height < 0 && (e.height = 0), e.width2 = t.axis_rotated ? e.margin.left - e.rotated_padding_left - e.rotated_padding_right : e.width, e.height2 = t.axis_rotated ? e.height : e.currentHeight - e.margin2.top - e.margin2.bottom, e.width2 < 0 && (e.width2 = 0), e.height2 < 0 && (e.height2 = 0), e.arcWidth = e.width - (e.isLegendRight ? i + 10 : 0), e.arcHeight = e.height - (e.isLegendRight ? 0 : 10), e.hasType("gauge") && !t.gauge_fullCircle && (e.arcHeight += e.height - e.getGaugeLabelHeight()), e.updateRadius && e.updateRadius(), e.isLegendRight && o && (e.margin3.left = e.arcWidth / 2 + 1.1 * e.radiusExpanded);
}, s.updateTargets = function(e) {
var t = this;
t.updateTargetsForText(e), t.updateTargetsForBar(e), t.updateTargetsForLine(e), t.hasArcType() && t.updateTargetsForArc && t.updateTargetsForArc(e), t.updateTargetsForSubchart && t.updateTargetsForSubchart(e), t.showTargets();
}, s.showTargets = function() {
var e = this;
e.svg.selectAll("." + c.target).filter(function(t) {
return e.isTargetToShow(t.id);
}).transition().duration(e.config.transition_duration).style("opacity", 1);
}, s.redraw = function(e, t) {
var n, i, r, o, a, s, l, u, d, h, f, p, g, m, v, y, b, w, C, x, S, $, A, k, T, D, E, F, M, I = this, P = I.main, L = I.d3, O = I.config, R = I.getShapeIndices(I.isAreaType), N = I.getShapeIndices(I.isBarType), B = I.getShapeIndices(I.isLineType), j = I.hasArcType(), H = I.filterTargetsToShow(I.data.targets), V = I.xv.bind(I);
if (e = e || {}, n = _(e, "withY", !0), i = _(e, "withSubchart", !0), r = _(e, "withTransition", !0), s = _(e, "withTransform", !1), l = _(e, "withUpdateXDomain", !1), u = _(e, "withUpdateOrgXDomain", !1), d = _(e, "withTrimXDomain", !0), g = _(e, "withUpdateXAxis", l), h = _(e, "withLegend", !1), f = _(e, "withEventRect", !0), p = _(e, "withDimension", !0), o = _(e, "withTransitionForExit", r), a = _(e, "withTransitionForAxis", r), C = r ? O.transition_duration : 0, x = o ? C : 0, S = a ? C : 0, t = t || I.axis.generateTransitions(S), h && O.legend_show ? I.updateLegend(I.mapToIds(I.data.targets), e, t) : p && I.updateDimension(!0), I.isCategorized() && 0 === H.length && I.x.domain([ 0, I.axes.x.selectAll(".tick").size() ]), H.length ? (I.updateXDomain(H, l, u, d), O.axis_x_tick_values || (k = I.axis.updateXAxisTickValues(H))) : (I.xAxis.tickValues([]), I.subXAxis.tickValues([])), O.zoom_rescale && !e.flow && (E = I.x.orgDomain()), I.y.domain(I.getYDomain(H, "y", E)), I.y2.domain(I.getYDomain(H, "y2", E)), 
!O.axis_y_tick_values && O.axis_y_tick_count && I.yAxis.tickValues(I.axis.generateTickValues(I.y.domain(), O.axis_y_tick_count)), !O.axis_y2_tick_values && O.axis_y2_tick_count && I.y2Axis.tickValues(I.axis.generateTickValues(I.y2.domain(), O.axis_y2_tick_count)), I.axis.redraw(t, j), I.axis.updateLabels(r), (l || g) && H.length) if (O.axis_x_tick_culling && k) {
for (T = 1; T < k.length; T++) if (k.length / T < O.axis_x_tick_culling_max) {
D = T;
break;
}
I.svg.selectAll("." + c.axisX + " .tick text").each(function(e) {
var t = k.indexOf(e);
t >= 0 && L.select(this).style("display", t % D ? "none" : "block");
});
} else I.svg.selectAll("." + c.axisX + " .tick text").style("display", "block");
m = I.generateDrawArea ? I.generateDrawArea(R, !1) : void 0, v = I.generateDrawBar ? I.generateDrawBar(N) : void 0, y = I.generateDrawLine ? I.generateDrawLine(B, !1) : void 0, b = I.generateXYForText(R, N, B, !0), w = I.generateXYForText(R, N, B, !1), n && (I.subY.domain(I.getYDomain(H, "y")), I.subY2.domain(I.getYDomain(H, "y2"))), I.updateXgridFocus(), P.select("text." + c.text + "." + c.empty).attr("x", I.width / 2).attr("y", I.height / 2).text(O.data_empty_label_text).transition().style("opacity", H.length ? 0 : 1), I.updateGrid(C), I.updateRegion(C), I.updateBar(x), I.updateLine(x), I.updateArea(x), I.updateCircle(), I.hasDataLabel() && I.updateText(x), I.redrawTitle && I.redrawTitle(), I.redrawArc && I.redrawArc(C, x, s), I.redrawSubchart && I.redrawSubchart(i, t, C, x, R, N, B), P.selectAll("." + c.selectedCircles).filter(I.isBarType.bind(I)).selectAll("circle").remove(), O.interaction_enabled && !e.flow && f && (I.redrawEventRect(), I.updateZoom && I.updateZoom()), I.updateCircleY(), 
F = (I.config.axis_rotated ? I.circleY : I.circleX).bind(I), M = (I.config.axis_rotated ? I.circleX : I.circleY).bind(I), e.flow && (A = I.generateFlow({
targets: H,
flow: e.flow,
duration: e.flow.duration,
drawBar: v,
drawLine: y,
drawArea: m,
cx: F,
cy: M,
xv: V,
xForText: b,
yForText: w
})), (C || A) && I.isTabVisible() ? L.transition().duration(C).each(function() {
var t = [];
[ I.redrawBar(v, !0), I.redrawLine(y, !0), I.redrawArea(m, !0), I.redrawCircle(F, M, !0), I.redrawText(b, w, e.flow, !0), I.redrawRegion(!0), I.redrawGrid(!0) ].forEach(function(e) {
e.forEach(function(e) {
t.push(e);
});
}), $ = I.generateWait(), t.forEach(function(e) {
$.add(e);
});
}).call($, function() {
A && A(), O.onrendered && O.onrendered.call(I);
}) : (I.redrawBar(v), I.redrawLine(y), I.redrawArea(m), I.redrawCircle(F, M), I.redrawText(b, w, e.flow), I.redrawRegion(), I.redrawGrid(), O.onrendered && O.onrendered.call(I)), I.mapToIds(I.data.targets).forEach(function(e) {
I.withoutFadeIn[e] = !0;
});
}, s.updateAndRedraw = function(e) {
var t, n = this, i = n.config;
(e = e || {}).withTransition = _(e, "withTransition", !0), e.withTransform = _(e, "withTransform", !1), e.withLegend = _(e, "withLegend", !1), e.withUpdateXDomain = !0, e.withUpdateOrgXDomain = !0, e.withTransitionForExit = !1, e.withTransitionForTransform = _(e, "withTransitionForTransform", e.withTransition), n.updateSizes(), e.withLegend && i.legend_show || (t = n.axis.generateTransitions(e.withTransitionForAxis ? i.transition_duration : 0), n.updateScales(), n.updateSvgSize(), n.transformAll(e.withTransitionForTransform, t)), n.redraw(e, t);
}, s.redrawWithoutRescale = function() {
this.redraw({
withY: !1,
withSubchart: !1,
withEventRect: !1,
withTransitionForAxis: !1
});
}, s.isTimeSeries = function() {
return "timeseries" === this.config.axis_x_type;
}, s.isCategorized = function() {
return this.config.axis_x_type.indexOf("categor") >= 0;
}, s.isCustomX = function() {
var e = this, t = e.config;
return !e.isTimeSeries() && (t.data_x || b(t.data_xs));
}, s.isTimeSeriesY = function() {
return "timeseries" === this.config.axis_y_type;
}, s.getTranslate = function(e) {
var t, n, i = this, r = i.config;
return "main" === e ? (t = m(i.margin.left), n = m(i.margin.top)) : "context" === e ? (t = m(i.margin2.left), n = m(i.margin2.top)) : "legend" === e ? (t = i.margin3.left, n = i.margin3.top) : "x" === e ? (t = 0, n = r.axis_rotated ? 0 : i.height) : "y" === e ? (t = 0, n = r.axis_rotated ? i.height : 0) : "y2" === e ? (t = r.axis_rotated ? 0 : i.width, n = r.axis_rotated ? 1 : 0) : "subx" === e ? (t = 0, n = r.axis_rotated ? 0 : i.height2) : "arc" === e && (t = i.arcWidth / 2, n = i.arcHeight / 2), "translate(" + t + "," + n + ")";
}, s.initialOpacity = function(e) {
return null !== e.value && this.withoutFadeIn[e.id] ? 1 : 0;
}, s.initialOpacityForCircle = function(e) {
return null !== e.value && this.withoutFadeIn[e.id] ? this.opacityForCircle(e) : 0;
}, s.opacityForCircle = function(e) {
var t = this.config.point_show ? 1 : 0;
return u(e.value) ? this.isScatterType(e) ? .5 : t : 0;
}, s.opacityForText = function() {
return this.hasDataLabel() ? 1 : 0;
}, s.xx = function(e) {
return e ? this.x(e.x) : null;
}, s.xv = function(e) {
var t = this, n = e.value;
return t.isTimeSeries() ? n = t.parseDate(e.value) : t.isCategorized() && "string" == typeof e.value && (n = t.config.axis_x_categories.indexOf(e.value)), Math.ceil(t.x(n));
}, s.yv = function(e) {
var t = this, n = e.axis && "y2" === e.axis ? t.y2 : t.y;
return Math.ceil(n(e.value));
}, s.subxx = function(e) {
return e ? this.subX(e.x) : null;
}, s.transformMain = function(e, t) {
var n, i, r, o = this;
t && t.axisX ? n = t.axisX : (n = o.main.select("." + c.axisX), e && (n = n.transition())), t && t.axisY ? i = t.axisY : (i = o.main.select("." + c.axisY), e && (i = i.transition())), t && t.axisY2 ? r = t.axisY2 : (r = o.main.select("." + c.axisY2), e && (r = r.transition())), (e ? o.main.transition() : o.main).attr("transform", o.getTranslate("main")), n.attr("transform", o.getTranslate("x")), i.attr("transform", o.getTranslate("y")), r.attr("transform", o.getTranslate("y2")), o.main.select("." + c.chartArcs).attr("transform", o.getTranslate("arc"));
}, s.transformAll = function(e, t) {
var n = this;
n.transformMain(e, t), n.config.subchart_show && n.transformContext(e, t), n.legend && n.transformLegend(e);
}, s.updateSvgSize = function() {
var e = this, t = e.svg.select(".c3-brush .background");
e.svg.attr("width", e.currentWidth).attr("height", e.currentHeight), e.svg.selectAll([ "#" + e.clipId, "#" + e.clipIdForGrid ]).select("rect").attr("width", e.width).attr("height", e.height), e.svg.select("#" + e.clipIdForXAxis).select("rect").attr("x", e.getXAxisClipX.bind(e)).attr("y", e.getXAxisClipY.bind(e)).attr("width", e.getXAxisClipWidth.bind(e)).attr("height", e.getXAxisClipHeight.bind(e)), e.svg.select("#" + e.clipIdForYAxis).select("rect").attr("x", e.getYAxisClipX.bind(e)).attr("y", e.getYAxisClipY.bind(e)).attr("width", e.getYAxisClipWidth.bind(e)).attr("height", e.getYAxisClipHeight.bind(e)), e.svg.select("#" + e.clipIdForSubchart).select("rect").attr("width", e.width).attr("height", t.size() ? t.attr("height") : 0), e.svg.select("." + c.zoomRect).attr("width", e.width).attr("height", e.height), e.selectChart.style("max-height", e.currentHeight + "px");
}, s.updateDimension = function(e) {
var t = this;
e || (t.config.axis_rotated ? (t.axes.x.call(t.xAxis), t.axes.subx.call(t.subXAxis)) : (t.axes.y.call(t.yAxis), t.axes.y2.call(t.y2Axis))), t.updateSizes(), t.updateScales(), t.updateSvgSize(), t.transformAll(!1);
}, s.observeInserted = function(t) {
var n, i = this;
"undefined" != typeof MutationObserver ? (n = new MutationObserver(function(r) {
r.forEach(function(r) {
"childList" === r.type && r.previousSibling && (n.disconnect(), i.intervalForObserveInserted = e.setInterval(function() {
t.node().parentNode && (e.clearInterval(i.intervalForObserveInserted), i.updateDimension(), i.brush && i.brush.update(), i.config.oninit.call(i), i.redraw({
withTransform: !0,
withUpdateXDomain: !0,
withUpdateOrgXDomain: !0,
withTransition: !1,
withTransitionForTransform: !1,
withLegend: !0
}), t.transition().style("opacity", 1));
}, 10));
});
})).observe(t.node(), {
attributes: !0,
childList: !0,
characterData: !0
}) : e.console.error("MutationObserver not defined.");
}, s.bindResize = function() {
var t = this, n = t.config;
if (t.resizeFunction = t.generateResize(), t.resizeFunction.add(function() {
n.onresize.call(t);
}), n.resize_auto && t.resizeFunction.add(function() {
void 0 !== t.resizeTimeout && e.clearTimeout(t.resizeTimeout), t.resizeTimeout = e.setTimeout(function() {
delete t.resizeTimeout, t.api.flush();
}, 100);
}), t.resizeFunction.add(function() {
n.onresized.call(t);
}), e.attachEvent) e.attachEvent("onresize", t.resizeFunction); else if (e.addEventListener) e.addEventListener("resize", t.resizeFunction, !1); else {
var i = e.onresize;
i ? i.add && i.remove || (i = t.generateResize()).add(e.onresize) : i = t.generateResize(), i.add(t.resizeFunction), e.onresize = i;
}
}, s.generateResize = function() {
function e() {
t.forEach(function(e) {
e();
});
}
var t = [];
return e.add = function(e) {
t.push(e);
}, e.remove = function(e) {
for (var n = 0; n < t.length; n++) if (t[n] === e) {
t.splice(n, 1);
break;
}
}, e;
}, s.endall = function(e, t) {
var n = 0;
e.each(function() {
++n;
}).each("end", function() {
--n || t.apply(this, arguments);
});
}, s.generateWait = function() {
var e = [], t = function(t, n) {
var i = setInterval(function() {
var t = 0;
e.forEach(function(e) {
if (e.empty()) t += 1; else try {
e.transition();
} catch (e) {
t += 1;
}
}), t === e.length && (clearInterval(i), n && n());
}, 10);
};
return t.add = function(t) {
e.push(t);
}, t;
}, s.parseDate = function(t) {
var n, i = this;
return t instanceof Date ? n = t : "string" == typeof t ? n = i.dataTimeFormat(i.config.data_xFormat).parse(t) : "number" != typeof t || isNaN(t) || (n = new Date(+t)), n && !isNaN(+n) || e.console.error("Failed to parse x '" + t + "' to Date object"), n;
}, s.isTabVisible = function() {
var e;
return void 0 !== document.hidden ? e = "hidden" : void 0 !== document.mozHidden ? e = "mozHidden" : void 0 !== document.msHidden ? e = "msHidden" : void 0 !== document.webkitHidden && (e = "webkitHidden"), !document[e];
}, s.getDefaultConfig = function() {
var e = {
bindto: "#chart",
svg_classname: void 0,
size_width: void 0,
size_height: void 0,
padding_left: void 0,
padding_right: void 0,
padding_top: void 0,
padding_bottom: void 0,
resize_auto: !0,
zoom_enabled: !1,
zoom_extent: void 0,
zoom_privileged: !1,
zoom_rescale: !1,
zoom_onzoom: function() {},
zoom_onzoomstart: function() {},
zoom_onzoomend: function() {},
zoom_x_min: void 0,
zoom_x_max: void 0,
interaction_brighten: !0,
interaction_enabled: !0,
onmouseover: function() {},
onmouseout: function() {},
onresize: function() {},
onresized: function() {},
oninit: function() {},
onrendered: function() {},
transition_duration: 350,
data_x: void 0,
data_xs: {},
data_xFormat: "%Y-%m-%d",
data_xLocaltime: !0,
data_xSort: !0,
data_idConverter: function(e) {
return e;
},
data_names: {},
data_classes: {},
data_groups: [],
data_axes: {},
data_type: void 0,
data_types: {},
data_labels: {},
data_order: "desc",
data_regions: {},
data_color: void 0,
data_colors: {},
data_hide: !1,
data_filter: void 0,
data_selection_enabled: !1,
data_selection_grouped: !1,
data_selection_isselectable: function() {
return !0;
},
data_selection_multiple: !0,
data_selection_draggable: !1,
data_onclick: function() {},
data_onmouseover: function() {},
data_onmouseout: function() {},
data_onselected: function() {},
data_onunselected: function() {},
data_url: void 0,
data_headers: void 0,
data_json: void 0,
data_rows: void 0,
data_columns: void 0,
data_mimeType: void 0,
data_keys: void 0,
data_empty_label_text: "",
subchart_show: !1,
subchart_size_height: 60,
subchart_axis_x_show: !0,
subchart_onbrush: function() {},
color_pattern: [],
color_threshold: {},
legend_show: !0,
legend_hide: !1,
legend_position: "bottom",
legend_inset_anchor: "top-left",
legend_inset_x: 10,
legend_inset_y: 0,
legend_inset_step: void 0,
legend_item_onclick: void 0,
legend_item_onmouseover: void 0,
legend_item_onmouseout: void 0,
legend_equally: !1,
legend_padding: 0,
legend_item_tile_width: 10,
legend_item_tile_height: 10,
axis_rotated: !1,
axis_x_show: !0,
axis_x_type: "indexed",
axis_x_localtime: !0,
axis_x_categories: [],
axis_x_tick_centered: !1,
axis_x_tick_format: void 0,
axis_x_tick_culling: {},
axis_x_tick_culling_max: 10,
axis_x_tick_count: void 0,
axis_x_tick_fit: !0,
axis_x_tick_values: null,
axis_x_tick_rotate: 0,
axis_x_tick_outer: !0,
axis_x_tick_multiline: !0,
axis_x_tick_width: null,
axis_x_max: void 0,
axis_x_min: void 0,
axis_x_padding: {},
axis_x_height: void 0,
axis_x_extent: void 0,
axis_x_label: {},
axis_y_show: !0,
axis_y_type: void 0,
axis_y_max: void 0,
axis_y_min: void 0,
axis_y_inverted: !1,
axis_y_center: void 0,
axis_y_inner: void 0,
axis_y_label: {},
axis_y_tick_format: void 0,
axis_y_tick_outer: !0,
axis_y_tick_values: null,
axis_y_tick_rotate: 0,
axis_y_tick_count: void 0,
axis_y_tick_time_value: void 0,
axis_y_tick_time_interval: void 0,
axis_y_padding: {},
axis_y_default: void 0,
axis_y2_show: !1,
axis_y2_max: void 0,
axis_y2_min: void 0,
axis_y2_inverted: !1,
axis_y2_center: void 0,
axis_y2_inner: void 0,
axis_y2_label: {},
axis_y2_tick_format: void 0,
axis_y2_tick_outer: !0,
axis_y2_tick_values: null,
axis_y2_tick_count: void 0,
axis_y2_padding: {},
axis_y2_default: void 0,
grid_x_show: !1,
grid_x_type: "tick",
grid_x_lines: [],
grid_y_show: !1,
grid_y_lines: [],
grid_y_ticks: 10,
grid_focus_show: !0,
grid_lines_front: !0,
point_show: !0,
point_r: 2.5,
point_sensitivity: 10,
point_focus_expand_enabled: !0,
point_focus_expand_r: void 0,
point_select_r: void 0,
line_connectNull: !1,
line_step_type: "step",
bar_width: void 0,
bar_width_ratio: .6,
bar_width_max: void 0,
bar_zerobased: !0,
area_zerobased: !0,
area_above: !1,
pie_label_show: !0,
pie_label_format: void 0,
pie_label_threshold: .05,
pie_label_ratio: void 0,
pie_expand: {},
pie_expand_duration: 50,
gauge_fullCircle: !1,
gauge_label_show: !0,
gauge_label_format: void 0,
gauge_min: 0,
gauge_max: 100,
gauge_startingAngle: -1 * Math.PI / 2,
gauge_units: void 0,
gauge_width: void 0,
gauge_expand: {},
gauge_expand_duration: 50,
donut_label_show: !0,
donut_label_format: void 0,
donut_label_threshold: .05,
donut_label_ratio: void 0,
donut_width: void 0,
donut_title: "",
donut_expand: {},
donut_expand_duration: 50,
spline_interpolation_type: "cardinal",
regions: [],
tooltip_show: !0,
tooltip_grouped: !0,
tooltip_format_title: void 0,
tooltip_format_name: void 0,
tooltip_format_value: void 0,
tooltip_position: void 0,
tooltip_contents: function(e, t, n, i) {
return this.getTooltipContent ? this.getTooltipContent(e, t, n, i) : "";
},
tooltip_init_show: !1,
tooltip_init_x: 0,
tooltip_init_position: {
top: "0px",
left: "50px"
},
tooltip_onshow: function() {},
tooltip_onhide: function() {},
title_text: void 0,
title_padding: {
top: 0,
right: 0,
bottom: 0,
left: 0
},
title_position: "top-center"
};
return Object.keys(this.additionalConfig).forEach(function(t) {
e[t] = this.additionalConfig[t];
}, this), e;
}, s.additionalConfig = {}, s.loadConfig = function(e) {
function t() {
var e = i.shift();
return e && n && "object" == typeof n && e in n ? (n = n[e], t()) : e ? void 0 : n;
}
var n, i, r, o = this.config;
Object.keys(o).forEach(function(a) {
n = e, i = a.split("_"), r = t(), p(r) && (o[a] = r);
});
}, s.getScale = function(e, t, n) {
return (n ? this.d3.time.scale() : this.d3.scale.linear()).range([ e, t ]);
}, s.getX = function(e, t, n, i) {
var r, o = this, a = o.getScale(e, t, o.isTimeSeries()), s = n ? a.domain(n) : a;
o.isCategorized() ? (i = i || function() {
return 0;
}, a = function(e, t) {
var n = s(e) + i(e);
return t ? n : Math.ceil(n);
}) : a = function(e, t) {
var n = s(e);
return t ? n : Math.ceil(n);
};
for (r in s) a[r] = s[r];
return a.orgDomain = function() {
return s.domain();
}, o.isCategorized() && (a.domain = function(e) {
return arguments.length ? (s.domain(e), a) : (e = this.orgDomain(), [ e[0], e[1] + 1 ]);
}), a;
}, s.getY = function(e, t, n) {
var i = this.getScale(e, t, this.isTimeSeriesY());
return n && i.domain(n), i;
}, s.getYScale = function(e) {
return "y2" === this.axis.getId(e) ? this.y2 : this.y;
}, s.getSubYScale = function(e) {
return "y2" === this.axis.getId(e) ? this.subY2 : this.subY;
}, s.updateScales = function() {
var e = this, t = e.config, n = !e.x;
e.xMin = t.axis_rotated ? 1 : 0, e.xMax = t.axis_rotated ? e.height : e.width, e.yMin = t.axis_rotated ? 0 : e.height, e.yMax = t.axis_rotated ? e.width : 1, e.subXMin = e.xMin, e.subXMax = e.xMax, e.subYMin = t.axis_rotated ? 0 : e.height2, e.subYMax = t.axis_rotated ? e.width2 : 1, e.x = e.getX(e.xMin, e.xMax, n ? void 0 : e.x.orgDomain(), function() {
return e.xAxis.tickOffset();
}), e.y = e.getY(e.yMin, e.yMax, n ? t.axis_y_default : e.y.domain()), e.y2 = e.getY(e.yMin, e.yMax, n ? t.axis_y2_default : e.y2.domain()), e.subX = e.getX(e.xMin, e.xMax, e.orgXDomain, function(t) {
return t % 1 ? 0 : e.subXAxis.tickOffset();
}), e.subY = e.getY(e.subYMin, e.subYMax, n ? t.axis_y_default : e.subY.domain()), e.subY2 = e.getY(e.subYMin, e.subYMax, n ? t.axis_y2_default : e.subY2.domain()), e.xAxisTickFormat = e.axis.getXAxisTickFormat(), e.xAxisTickValues = e.axis.getXAxisTickValues(), e.yAxisTickValues = e.axis.getYAxisTickValues(), e.y2AxisTickValues = e.axis.getY2AxisTickValues(), e.xAxis = e.axis.getXAxis(e.x, e.xOrient, e.xAxisTickFormat, e.xAxisTickValues, t.axis_x_tick_outer), e.subXAxis = e.axis.getXAxis(e.subX, e.subXOrient, e.xAxisTickFormat, e.xAxisTickValues, t.axis_x_tick_outer), e.yAxis = e.axis.getYAxis(e.y, e.yOrient, t.axis_y_tick_format, e.yAxisTickValues, t.axis_y_tick_outer), e.y2Axis = e.axis.getYAxis(e.y2, e.y2Orient, t.axis_y2_tick_format, e.y2AxisTickValues, t.axis_y2_tick_outer), n || (e.brush && e.brush.scale(e.subX), t.zoom_enabled && e.zoom.scale(e.x)), e.updateArc && e.updateArc();
}, s.getYDomainMin = function(e) {
var t, n, i, r, o, a, s = this, l = s.config, c = s.mapToIds(e), u = s.getValuesAsIdKeyed(e);
if (l.data_groups.length > 0) for (a = s.hasNegativeValueInTargets(e), t = 0; t < l.data_groups.length; t++) if (0 !== (r = l.data_groups[t].filter(function(e) {
return c.indexOf(e) >= 0;
})).length) for (i = r[0], a && u[i] && u[i].forEach(function(e, t) {
u[i][t] = e < 0 ? e : 0;
}), n = 1; n < r.length; n++) o = r[n], u[o] && u[o].forEach(function(e, t) {
s.axis.getId(o) !== s.axis.getId(i) || !u[i] || a && +e > 0 || (u[i][t] += +e);
});
return s.d3.min(Object.keys(u).map(function(e) {
return s.d3.min(u[e]);
}));
}, s.getYDomainMax = function(e) {
var t, n, i, r, o, a, s = this, l = s.config, c = s.mapToIds(e), u = s.getValuesAsIdKeyed(e);
if (l.data_groups.length > 0) for (a = s.hasPositiveValueInTargets(e), t = 0; t < l.data_groups.length; t++) if (0 !== (r = l.data_groups[t].filter(function(e) {
return c.indexOf(e) >= 0;
})).length) for (i = r[0], a && u[i] && u[i].forEach(function(e, t) {
u[i][t] = e > 0 ? e : 0;
}), n = 1; n < r.length; n++) o = r[n], u[o] && u[o].forEach(function(e, t) {
s.axis.getId(o) !== s.axis.getId(i) || !u[i] || a && +e < 0 || (u[i][t] += +e);
});
return s.d3.max(Object.keys(u).map(function(e) {
return s.d3.max(u[e]);
}));
}, s.getYDomain = function(e, t, n) {
var i, r, o, a, s, l, c, d, h, f, p = this, g = p.config, m = e.filter(function(e) {
return p.axis.getId(e.id) === t;
}), y = n ? p.filterByXDomain(m, n) : m, _ = "y2" === t ? g.axis_y2_min : g.axis_y_min, w = "y2" === t ? g.axis_y2_max : g.axis_y_max, C = p.getYDomainMin(y), x = p.getYDomainMax(y), S = "y2" === t ? g.axis_y2_center : g.axis_y_center, $ = p.hasType("bar", y) && g.bar_zerobased || p.hasType("area", y) && g.area_zerobased, A = "y2" === t ? g.axis_y2_inverted : g.axis_y_inverted, k = p.hasDataLabel() && g.axis_rotated, T = p.hasDataLabel() && !g.axis_rotated;
return C = u(_) ? _ : u(w) ? C < w ? C : w - 10 : C, x = u(w) ? w : u(_) ? _ < x ? x : _ + 10 : x, 0 === y.length ? "y2" === t ? p.y2.domain() : p.y.domain() : (isNaN(C) && (C = 0), isNaN(x) && (x = C), C === x && (C < 0 ? x = 0 : C = 0), h = C >= 0 && x >= 0, f = C <= 0 && x <= 0, (u(_) && h || u(w) && f) && ($ = !1), $ && (h && (C = 0), f && (x = 0)), r = Math.abs(x - C), o = a = .1 * r, void 0 !== S && (x = S + (s = Math.max(Math.abs(C), Math.abs(x))), C = S - s), k ? (l = p.getDataLabelLength(C, x, "width"), c = v(p.y.range()), o += r * ((d = [ l[0] / c, l[1] / c ])[1] / (1 - d[0] - d[1])), a += r * (d[0] / (1 - d[0] - d[1]))) : T && (l = p.getDataLabelLength(C, x, "height"), o += p.axis.convertPixelsToAxisPadding(l[1], r), a += p.axis.convertPixelsToAxisPadding(l[0], r)), "y" === t && b(g.axis_y_padding) && (o = p.axis.getPadding(g.axis_y_padding, "top", o, r), a = p.axis.getPadding(g.axis_y_padding, "bottom", a, r)), "y2" === t && b(g.axis_y2_padding) && (o = p.axis.getPadding(g.axis_y2_padding, "top", o, r), 
a = p.axis.getPadding(g.axis_y2_padding, "bottom", a, r)), $ && (h && (a = C), f && (o = -x)), i = [ C - a, x + o ], A ? i.reverse() : i);
}, s.getXDomainMin = function(e) {
var t = this, n = t.config;
return p(n.axis_x_min) ? t.isTimeSeries() ? this.parseDate(n.axis_x_min) : n.axis_x_min : t.d3.min(e, function(e) {
return t.d3.min(e.values, function(e) {
return e.x;
});
});
}, s.getXDomainMax = function(e) {
var t = this, n = t.config;
return p(n.axis_x_max) ? t.isTimeSeries() ? this.parseDate(n.axis_x_max) : n.axis_x_max : t.d3.max(e, function(e) {
return t.d3.max(e.values, function(e) {
return e.x;
});
});
}, s.getXDomainPadding = function(e) {
var t, n, i, r, o = this, a = o.config, s = e[1] - e[0];
return n = o.isCategorized() ? 0 : o.hasType("bar") ? (t = o.getMaxDataCount()) > 1 ? s / (t - 1) / 2 : .5 : .01 * s, "object" == typeof a.axis_x_padding && b(a.axis_x_padding) ? (i = u(a.axis_x_padding.left) ? a.axis_x_padding.left : n, r = u(a.axis_x_padding.right) ? a.axis_x_padding.right : n) : i = r = "number" == typeof a.axis_x_padding ? a.axis_x_padding : n, {
left: i,
right: r
};
}, s.getXDomain = function(e) {
var t = this, n = [ t.getXDomainMin(e), t.getXDomainMax(e) ], i = n[0], r = n[1], o = t.getXDomainPadding(n), a = 0, s = 0;
return i - r != 0 || t.isCategorized() || (t.isTimeSeries() ? (i = new Date(.5 * i.getTime()), r = new Date(1.5 * r.getTime())) : (i = 0 === i ? 1 : .5 * i, r = 0 === r ? -1 : 1.5 * r)), (i || 0 === i) && (a = t.isTimeSeries() ? new Date(i.getTime() - o.left) : i - o.left), (r || 0 === r) && (s = t.isTimeSeries() ? new Date(r.getTime() + o.right) : r + o.right), [ a, s ];
}, s.updateXDomain = function(e, t, n, i, r) {
var o = this, a = o.config;
return n && (o.x.domain(r || o.d3.extent(o.getXDomain(e))), o.orgXDomain = o.x.domain(), a.zoom_enabled && o.zoom.scale(o.x).updateScaleExtent(), o.subX.domain(o.x.domain()), o.brush && o.brush.scale(o.subX)), t && (o.x.domain(r || (!o.brush || o.brush.empty() ? o.orgXDomain : o.brush.extent())), a.zoom_enabled && o.zoom.scale(o.x).updateScaleExtent()), i && o.x.domain(o.trimXDomain(o.x.orgDomain())), o.x.domain();
}, s.trimXDomain = function(e) {
var t = this.getZoomDomain(), n = t[0], i = t[1];
return e[0] <= n && (e[1] = +e[1] + (n - e[0]), e[0] = n), i <= e[1] && (e[0] = +e[0] - (e[1] - i), e[1] = i), e;
}, s.isX = function(e) {
var t = this.config;
return t.data_x && e === t.data_x || b(t.data_xs) && w(t.data_xs, e);
}, s.isNotX = function(e) {
return !this.isX(e);
}, s.getXKey = function(e) {
var t = this.config;
return t.data_x ? t.data_x : b(t.data_xs) ? t.data_xs[e] : null;
}, s.getXValuesOfXKey = function(e, t) {
var n, i = this;
return (t && b(t) ? i.mapToIds(t) : []).forEach(function(t) {
i.getXKey(t) === e && (n = i.data.xs[t]);
}), n;
}, s.getIndexByX = function(e) {
var t = this, n = t.filterByX(t.data.targets, e);
return n.length ? n[0].index : null;
}, s.getXValue = function(e, t) {
var n = this;
return e in n.data.xs && n.data.xs[e] && u(n.data.xs[e][t]) ? n.data.xs[e][t] : t;
}, s.getOtherTargetXs = function() {
var e = this, t = Object.keys(e.data.xs);
return t.length ? e.data.xs[t[0]] : null;
}, s.getOtherTargetX = function(e) {
var t = this.getOtherTargetXs();
return t && e < t.length ? t[e] : null;
}, s.addXs = function(e) {
var t = this;
Object.keys(e).forEach(function(n) {
t.config.data_xs[n] = e[n];
});
}, s.hasMultipleX = function(e) {
return this.d3.set(Object.keys(e).map(function(t) {
return e[t];
})).size() > 1;
}, s.isMultipleX = function() {
return b(this.config.data_xs) || !this.config.data_xSort || this.hasType("scatter");
}, s.addName = function(e) {
var t, n = this;
return e && (t = n.config.data_names[e.id], e.name = void 0 !== t ? t : e.id), e;
}, s.getValueOnIndex = function(e, t) {
var n = e.filter(function(e) {
return e.index === t;
});
return n.length ? n[0] : null;
}, s.updateTargetX = function(e, t) {
var n = this;
e.forEach(function(e) {
e.values.forEach(function(i, r) {
i.x = n.generateTargetX(t[r], e.id, r);
}), n.data.xs[e.id] = t;
});
}, s.updateTargetXs = function(e, t) {
var n = this;
e.forEach(function(e) {
t[e.id] && n.updateTargetX([ e ], t[e.id]);
});
}, s.generateTargetX = function(e, t, n) {
var i = this;
return i.isTimeSeries() ? e ? i.parseDate(e) : i.parseDate(i.getXValue(t, n)) : i.isCustomX() && !i.isCategorized() ? u(e) ? +e : i.getXValue(t, n) : n;
}, s.cloneTarget = function(e) {
return {
id: e.id,
id_org: e.id_org,
values: e.values.map(function(e) {
return {
x: e.x,
value: e.value,
id: e.id
};
})
};
}, s.updateXs = function() {
var e = this;
e.data.targets.length && (e.xs = [], e.data.targets[0].values.forEach(function(t) {
e.xs[t.index] = t.x;
}));
}, s.getPrevX = function(e) {
var t = this.xs[e - 1];
return void 0 !== t ? t : null;
}, s.getNextX = function(e) {
var t = this.xs[e + 1];
return void 0 !== t ? t : null;
}, s.getMaxDataCount = function() {
var e = this;
return e.d3.max(e.data.targets, function(e) {
return e.values.length;
});
}, s.getMaxDataCountTarget = function(e) {
var t, n = e.length, i = 0;
return n > 1 ? e.forEach(function(e) {
e.values.length > i && (t = e, i = e.values.length);
}) : t = n ? e[0] : null, t;
}, s.getEdgeX = function(e) {
var t = this;
return e.length ? [ t.d3.min(e, function(e) {
return e.values[0].x;
}), t.d3.max(e, function(e) {
return e.values[e.values.length - 1].x;
}) ] : [ 0, 0 ];
}, s.mapToIds = function(e) {
return e.map(function(e) {
return e.id;
});
}, s.mapToTargetIds = function(e) {
var t = this;
return e ? [].concat(e) : t.mapToIds(t.data.targets);
}, s.hasTarget = function(e, t) {
var n, i = this.mapToIds(e);
for (n = 0; n < i.length; n++) if (i[n] === t) return !0;
return !1;
}, s.isTargetToShow = function(e) {
return this.hiddenTargetIds.indexOf(e) < 0;
}, s.isLegendToShow = function(e) {
return this.hiddenLegendIds.indexOf(e) < 0;
}, s.filterTargetsToShow = function(e) {
var t = this;
return e.filter(function(e) {
return t.isTargetToShow(e.id);
});
}, s.mapTargetsToUniqueXs = function(e) {
var t = this, n = t.d3.set(t.d3.merge(e.map(function(e) {
return e.values.map(function(e) {
return +e.x;
});
}))).values();
return (n = t.isTimeSeries() ? n.map(function(e) {
return new Date(+e);
}) : n.map(function(e) {
return +e;
})).sort(function(e, t) {
return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN;
});
}, s.addHiddenTargetIds = function(e) {
this.hiddenTargetIds = this.hiddenTargetIds.concat(e);
}, s.removeHiddenTargetIds = function(e) {
this.hiddenTargetIds = this.hiddenTargetIds.filter(function(t) {
return e.indexOf(t) < 0;
});
}, s.addHiddenLegendIds = function(e) {
this.hiddenLegendIds = this.hiddenLegendIds.concat(e);
}, s.removeHiddenLegendIds = function(e) {
this.hiddenLegendIds = this.hiddenLegendIds.filter(function(t) {
return e.indexOf(t) < 0;
});
}, s.getValuesAsIdKeyed = function(e) {
var t = {};
return e.forEach(function(e) {
t[e.id] = [], e.values.forEach(function(n) {
t[e.id].push(n.value);
});
}), t;
}, s.checkValueInTargets = function(e, t) {
var n, i, r, o = Object.keys(e);
for (n = 0; n < o.length; n++) for (r = e[o[n]].values, i = 0; i < r.length; i++) if (t(r[i].value)) return !0;
return !1;
}, s.hasNegativeValueInTargets = function(e) {
return this.checkValueInTargets(e, function(e) {
return e < 0;
});
}, s.hasPositiveValueInTargets = function(e) {
return this.checkValueInTargets(e, function(e) {
return e > 0;
});
}, s.isOrderDesc = function() {
var e = this.config;
return "string" == typeof e.data_order && "desc" === e.data_order.toLowerCase();
}, s.isOrderAsc = function() {
var e = this.config;
return "string" == typeof e.data_order && "asc" === e.data_order.toLowerCase();
}, s.orderTargets = function(e) {
var t = this, n = t.config, i = t.isOrderAsc(), r = t.isOrderDesc();
return i || r ? e.sort(function(e, t) {
var n = function(e, t) {
return e + Math.abs(t.value);
}, r = e.values.reduce(n, 0), o = t.values.reduce(n, 0);
return i ? o - r : r - o;
}) : d(n.data_order) && e.sort(n.data_order), e;
}, s.filterByX = function(e, t) {
return this.d3.merge(e.map(function(e) {
return e.values;
})).filter(function(e) {
return e.x - t == 0;
});
}, s.filterRemoveNull = function(e) {
return e.filter(function(e) {
return u(e.value);
});
}, s.filterByXDomain = function(e, t) {
return e.map(function(e) {
return {
id: e.id,
id_org: e.id_org,
values: e.values.filter(function(e) {
return t[0] <= e.x && e.x <= t[1];
})
};
});
}, s.hasDataLabel = function() {
var e = this.config;
return !("boolean" != typeof e.data_labels || !e.data_labels) || !("object" != typeof e.data_labels || !b(e.data_labels));
}, s.getDataLabelLength = function(e, t, n) {
var i = this, r = [ 0, 0 ];
return i.selectChart.select("svg").selectAll(".dummy").data([ e, t ]).enter().append("text").text(function(e) {
return i.dataLabelFormat(e.id)(e);
}).each(function(e, t) {
r[t] = 1.3 * this.getBoundingClientRect()[n];
}).remove(), r;
}, s.isNoneArc = function(e) {
return this.hasTarget(this.data.targets, e.id);
}, s.isArc = function(e) {
return "data" in e && this.hasTarget(this.data.targets, e.data.id);
}, s.findSameXOfValues = function(e, t) {
var n, i = e[t].x, r = [];
for (n = t - 1; n >= 0 && i === e[n].x; n--) r.push(e[n]);
for (n = t; n < e.length && i === e[n].x; n++) r.push(e[n]);
return r;
}, s.findClosestFromTargets = function(e, t) {
var n, i = this;
return n = e.map(function(e) {
return i.findClosest(e.values, t);
}), i.findClosest(n, t);
}, s.findClosest = function(e, t) {
var n, i = this, r = i.config.point_sensitivity;
return e.filter(function(e) {
return e && i.isBarType(e.id);
}).forEach(function(e) {
var t = i.main.select("." + c.bars + i.getTargetSelectorSuffix(e.id) + " ." + c.bar + "-" + e.index).node();
!n && i.isWithinBar(t) && (n = e);
}), e.filter(function(e) {
return e && !i.isBarType(e.id);
}).forEach(function(e) {
var o = i.dist(e, t);
o < r && (r = o, n = e);
}), n;
}, s.dist = function(e, t) {
var n = this, i = n.config, r = i.axis_rotated ? 1 : 0, o = i.axis_rotated ? 0 : 1, a = n.circleY(e, e.index), s = n.x(e.x);
return Math.sqrt(Math.pow(s - t[r], 2) + Math.pow(a - t[o], 2));
}, s.convertValuesToStep = function(e) {
var t, n = [].concat(e);
if (!this.isCategorized()) return e;
for (t = e.length + 1; 0 < t; t--) n[t] = n[t - 1];
return n[0] = {
x: n[0].x - 1,
value: n[0].value,
id: n[0].id
}, n[e.length + 1] = {
x: n[e.length].x + 1,
value: n[e.length].value,
id: n[e.length].id
}, n;
}, s.updateDataAttributes = function(e, t) {
var n = this, i = n.config["data_" + e];
return void 0 === t ? i : (Object.keys(t).forEach(function(e) {
i[e] = t[e];
}), n.redraw({
withLegend: !0
}), i);
}, s.convertUrlToData = function(e, t, n, i, r) {
var o = this, a = t || "csv", s = o.d3.xhr(e);
n && Object.keys(n).forEach(function(e) {
s.header(e, n[e]);
}), s.get(function(e, t) {
var n;
if (!t) throw new Error(e.responseURL + " " + e.status + " (" + e.statusText + ")");
n = "json" === a ? o.convertJsonToData(JSON.parse(t.response), i) : "tsv" === a ? o.convertTsvToData(t.response) : o.convertCsvToData(t.response), r.call(o, n);
});
}, s.convertXsvToData = function(e, t) {
var n, i = t.parseRows(e);
return 1 === i.length ? (n = [ {} ], i[0].forEach(function(e) {
n[0][e] = null;
})) : n = t.parse(e), n;
}, s.convertCsvToData = function(e) {
return this.convertXsvToData(e, this.d3.csv);
}, s.convertTsvToData = function(e) {
return this.convertXsvToData(e, this.d3.tsv);
}, s.convertJsonToData = function(e, t) {
var n, i, r = this, o = [];
return t ? (t.x ? (n = t.value.concat(t.x), r.config.data_x = t.x) : n = t.value, o.push(n), e.forEach(function(e) {
var t = [];
n.forEach(function(n) {
var i = r.findValueInJson(e, n);
f(i) && (i = null), t.push(i);
}), o.push(t);
}), i = r.convertRowsToData(o)) : (Object.keys(e).forEach(function(t) {
o.push([ t ].concat(e[t]));
}), i = r.convertColumnsToData(o)), i;
}, s.findValueInJson = function(e, t) {
for (var n = (t = (t = t.replace(/\[(\w+)\]/g, ".$1")).replace(/^\./, "")).split("."), i = 0; i < n.length; ++i) {
var r = n[i];
if (!(r in e)) return;
e = e[r];
}
return e;
}, s.convertRowsToData = function(e) {
var t, n, i = e[0], r = {}, o = [];
for (t = 1; t < e.length; t++) {
for (r = {}, n = 0; n < e[t].length; n++) {
if (f(e[t][n])) throw new Error("Source data is missing a component at (" + t + "," + n + ")!");
r[i[n]] = e[t][n];
}
o.push(r);
}
return o;
}, s.convertColumnsToData = function(e) {
var t, n, i, r = [];
for (t = 0; t < e.length; t++) for (i = e[t][0], n = 1; n < e[t].length; n++) {
if (f(r[n - 1]) && (r[n - 1] = {}), f(e[t][n])) throw new Error("Source data is missing a component at (" + t + "," + n + ")!");
r[n - 1][i] = e[t][n];
}
return r;
}, s.convertDataToTargets = function(e, t) {
var n, i = this, r = i.config, o = i.d3.keys(e[0]).filter(i.isNotX, i), a = i.d3.keys(e[0]).filter(i.isX, i);
return o.forEach(function(n) {
var o = i.getXKey(n);
i.isCustomX() || i.isTimeSeries() ? a.indexOf(o) >= 0 ? i.data.xs[n] = (t && i.data.xs[n] ? i.data.xs[n] : []).concat(e.map(function(e) {
return e[o];
}).filter(u).map(function(e, t) {
return i.generateTargetX(e, n, t);
})) : r.data_x ? i.data.xs[n] = i.getOtherTargetXs() : b(r.data_xs) && (i.data.xs[n] = i.getXValuesOfXKey(o, i.data.targets)) : i.data.xs[n] = e.map(function(e, t) {
return t;
});
}), o.forEach(function(e) {
if (!i.data.xs[e]) throw new Error('x is not defined for id = "' + e + '".');
}), (n = o.map(function(t, n) {
var o = r.data_idConverter(t);
return {
id: o,
id_org: t,
values: e.map(function(e, a) {
var s, l = e[i.getXKey(t)], c = null === e[t] || isNaN(e[t]) ? null : +e[t];
return i.isCustomX() && i.isCategorized() && 0 === n && !f(l) ? (0 === n && 0 === a && (r.axis_x_categories = []), -1 === (s = r.axis_x_categories.indexOf(l)) && (s = r.axis_x_categories.length, r.axis_x_categories.push(l))) : s = i.generateTargetX(l, t, a), (f(e[t]) || i.data.xs[t].length <= a) && (s = void 0), {
x: s,
value: c,
id: o
};
}).filter(function(e) {
return p(e.x);
})
};
})).forEach(function(e) {
var t;
r.data_xSort && (e.values = e.values.sort(function(e, t) {
return (e.x || 0 === e.x ? e.x : 1 / 0) - (t.x || 0 === t.x ? t.x : 1 / 0);
})), t = 0, e.values.forEach(function(e) {
e.index = t++;
}), i.data.xs[e.id].sort(function(e, t) {
return e - t;
});
}), i.hasNegativeValue = i.hasNegativeValueInTargets(n), i.hasPositiveValue = i.hasPositiveValueInTargets(n), r.data_type && i.setTargetType(i.mapToIds(n).filter(function(e) {
return !(e in r.data_types);
}), r.data_type), n.forEach(function(e) {
i.addCache(e.id_org, e);
}), n;
}, s.load = function(e, t) {
var n = this;
e && (t.filter && (e = e.filter(t.filter)), (t.type || t.types) && e.forEach(function(e) {
var i = t.types && t.types[e.id] ? t.types[e.id] : t.type;
n.setTargetType(e.id, i);
}), n.data.targets.forEach(function(t) {
for (var n = 0; n < e.length; n++) if (t.id === e[n].id) {
t.values = e[n].values, e.splice(n, 1);
break;
}
}), n.data.targets = n.data.targets.concat(e)), n.updateTargets(n.data.targets), n.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
}), t.done && t.done();
}, s.loadFromArgs = function(e) {
var t = this;
e.data ? t.load(t.convertDataToTargets(e.data), e) : e.url ? t.convertUrlToData(e.url, e.mimeType, e.headers, e.keys, function(n) {
t.load(t.convertDataToTargets(n), e);
}) : e.json ? t.load(t.convertDataToTargets(t.convertJsonToData(e.json, e.keys)), e) : e.rows ? t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)), e) : e.columns ? t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)), e) : t.load(null, e);
}, s.unload = function(e, t) {
var n = this;
t || (t = function() {}), (e = e.filter(function(e) {
return n.hasTarget(n.data.targets, e);
})) && 0 !== e.length ? (n.svg.selectAll(e.map(function(e) {
return n.selectorTarget(e);
})).transition().style("opacity", 0).remove().call(n.endall, t), e.forEach(function(e) {
n.withoutFadeIn[e] = !1, n.legend && n.legend.selectAll("." + c.legendItem + n.getTargetSelectorSuffix(e)).remove(), n.data.targets = n.data.targets.filter(function(t) {
return t.id !== e;
});
})) : t();
}, s.categoryName = function(e) {
var t = this.config;
return e < t.axis_x_categories.length ? t.axis_x_categories[e] : e;
}, s.initEventRect = function() {
this.main.select("." + c.chart).append("g").attr("class", c.eventRects).style("fill-opacity", 0);
}, s.redrawEventRect = function() {
var e, t, n = this, i = n.config, r = n.isMultipleX(), o = n.main.select("." + c.eventRects).style("cursor", i.zoom_enabled ? i.axis_rotated ? "ns-resize" : "ew-resize" : null).classed(c.eventRectsMultiple, r).classed(c.eventRectsSingle, !r);
o.selectAll("." + c.eventRect).remove(), n.eventRect = o.selectAll("." + c.eventRect), r ? (e = n.eventRect.data([ 0 ]), n.generateEventRectsForMultipleXs(e.enter()), n.updateEventRect(e)) : (t = n.getMaxDataCountTarget(n.data.targets), o.datum(t ? t.values : []), n.eventRect = o.selectAll("." + c.eventRect), e = n.eventRect.data(function(e) {
return e;
}), n.generateEventRectsForSingleX(e.enter()), n.updateEventRect(e), e.exit().remove());
}, s.updateEventRect = function(e) {
var t, n, i, r, o, a, s = this, l = s.config;
e = e || s.eventRect.data(function(e) {
return e;
}), s.isMultipleX() ? (t = 0, n = 0, i = s.width, r = s.height) : (!s.isCustomX() && !s.isTimeSeries() || s.isCategorized() ? (o = s.getEventRectWidth(), a = function(e) {
return s.x(e.x) - o / 2;
}) : (s.updateXs(), o = function(e) {
var t = s.getPrevX(e.index), n = s.getNextX(e.index);
return null === t && null === n ? l.axis_rotated ? s.height : s.width : (null === t && (t = s.x.domain()[0]), null === n && (n = s.x.domain()[1]), Math.max(0, (s.x(n) - s.x(t)) / 2));
}, a = function(e) {
var t = s.getPrevX(e.index), n = s.getNextX(e.index), i = s.data.xs[e.id][e.index];
return null === t && null === n ? 0 : (null === t && (t = s.x.domain()[0]), (s.x(i) + s.x(t)) / 2);
}), t = l.axis_rotated ? 0 : a, n = l.axis_rotated ? a : 0, i = l.axis_rotated ? s.width : o, r = l.axis_rotated ? o : s.height), e.attr("class", s.classEvent.bind(s)).attr("x", t).attr("y", n).attr("width", i).attr("height", r);
}, s.generateEventRectsForSingleX = function(e) {
var t = this, n = t.d3, i = t.config;
e.append("rect").attr("class", t.classEvent.bind(t)).style("cursor", i.data_selection_enabled && i.data_selection_grouped ? "pointer" : null).on("mouseover", function(e) {
var n = e.index;
t.dragging || t.flowing || t.hasArcType() || (i.point_focus_expand_enabled && t.expandCircles(n, null, !0), t.expandBars(n, null, !0), t.main.selectAll("." + c.shape + "-" + n).each(function(e) {
i.data_onmouseover.call(t.api, e);
}));
}).on("mouseout", function(e) {
var n = e.index;
t.config && (t.hasArcType() || (t.hideXGridFocus(), t.hideTooltip(), t.unexpandCircles(), t.unexpandBars(), t.main.selectAll("." + c.shape + "-" + n).each(function(e) {
i.data_onmouseout.call(t.api, e);
})));
}).on("mousemove", function(e) {
var r, o = e.index, a = t.svg.select("." + c.eventRect + "-" + o);
t.dragging || t.flowing || t.hasArcType() || (t.isStepType(e) && "step-after" === t.config.line_step_type && n.mouse(this)[0] < t.x(t.getXValue(e.id, o)) && (o -= 1), r = t.filterTargetsToShow(t.data.targets).map(function(e) {
return t.addName(t.getValueOnIndex(e.values, o));
}), i.tooltip_grouped && (t.showTooltip(r, this), t.showXGridFocus(r)), (!i.tooltip_grouped || i.data_selection_enabled && !i.data_selection_grouped) && t.main.selectAll("." + c.shape + "-" + o).each(function() {
n.select(this).classed(c.EXPANDED, !0), i.data_selection_enabled && a.style("cursor", i.data_selection_grouped ? "pointer" : null), i.tooltip_grouped || (t.hideXGridFocus(), t.hideTooltip(), i.data_selection_grouped || (t.unexpandCircles(o), t.unexpandBars(o)));
}).filter(function(e) {
return t.isWithinShape(this, e);
}).each(function(e) {
i.data_selection_enabled && (i.data_selection_grouped || i.data_selection_isselectable(e)) && a.style("cursor", "pointer"), i.tooltip_grouped || (t.showTooltip([ e ], this), t.showXGridFocus([ e ]), i.point_focus_expand_enabled && t.expandCircles(o, e.id, !0), t.expandBars(o, e.id, !0));
}));
}).on("click", function(e) {
var r = e.index;
!t.hasArcType() && t.toggleShape && (t.cancelClick ? t.cancelClick = !1 : (t.isStepType(e) && "step-after" === i.line_step_type && n.mouse(this)[0] < t.x(t.getXValue(e.id, r)) && (r -= 1), t.main.selectAll("." + c.shape + "-" + r).each(function(e) {
(i.data_selection_grouped || t.isWithinShape(this, e)) && (t.toggleShape(this, e, r), t.config.data_onclick.call(t.api, e, this));
})));
}).call(i.data_selection_draggable && t.drag ? n.behavior.drag().origin(Object).on("drag", function() {
t.drag(n.mouse(this));
}).on("dragstart", function() {
t.dragstart(n.mouse(this));
}).on("dragend", function() {
t.dragend();
}) : function() {});
}, s.generateEventRectsForMultipleXs = function(e) {
function t() {
n.svg.select("." + c.eventRect).style("cursor", null), n.hideXGridFocus(), n.hideTooltip(), n.unexpandCircles(), n.unexpandBars();
}
var n = this, i = n.d3, r = n.config;
e.append("rect").attr("x", 0).attr("y", 0).attr("width", n.width).attr("height", n.height).attr("class", c.eventRect).on("mouseout", function() {
n.config && (n.hasArcType() || t());
}).on("mousemove", function() {
var e, o, a, s = n.filterTargetsToShow(n.data.targets);
n.dragging || n.hasArcType(s) || (e = i.mouse(this), o = n.findClosestFromTargets(s, e), !n.mouseover || o && o.id === n.mouseover.id || (r.data_onmouseout.call(n.api, n.mouseover), n.mouseover = void 0), o ? (a = (n.isScatterType(o) || !r.tooltip_grouped ? [ o ] : n.filterByX(s, o.x)).map(function(e) {
return n.addName(e);
}), n.showTooltip(a, this), r.point_focus_expand_enabled && n.expandCircles(o.index, o.id, !0), n.expandBars(o.index, o.id, !0), n.showXGridFocus(a), (n.isBarType(o.id) || n.dist(o, e) < r.point_sensitivity) && (n.svg.select("." + c.eventRect).style("cursor", "pointer"), n.mouseover || (r.data_onmouseover.call(n.api, o), n.mouseover = o))) : t());
}).on("click", function() {
var e, t, o = n.filterTargetsToShow(n.data.targets);
n.hasArcType(o) || (e = i.mouse(this), (t = n.findClosestFromTargets(o, e)) && (n.isBarType(t.id) || n.dist(t, e) < r.point_sensitivity) && n.main.selectAll("." + c.shapes + n.getTargetSelectorSuffix(t.id)).selectAll("." + c.shape + "-" + t.index).each(function() {
(r.data_selection_grouped || n.isWithinShape(this, t)) && (n.toggleShape(this, t, t.index), n.config.data_onclick.call(n.api, t, this));
}));
}).call(r.data_selection_draggable && n.drag ? i.behavior.drag().origin(Object).on("drag", function() {
n.drag(i.mouse(this));
}).on("dragstart", function() {
n.dragstart(i.mouse(this));
}).on("dragend", function() {
n.dragend();
}) : function() {});
}, s.dispatchEvent = function(t, n, i) {
var r = this, o = "." + c.eventRect + (r.isMultipleX() ? "" : "-" + n), a = r.main.select(o).node(), s = a.getBoundingClientRect(), l = s.left + (i ? i[0] : 0), u = s.top + (i ? i[1] : 0), d = document.createEvent("MouseEvents");
d.initMouseEvent(t, !0, !0, e, 0, l, u, l, u, !1, !1, !1, !1, 0, null), a.dispatchEvent(d);
}, s.getCurrentWidth = function() {
var e = this, t = e.config;
return t.size_width ? t.size_width : e.getParentWidth();
}, s.getCurrentHeight = function() {
var e = this, t = e.config, n = t.size_height ? t.size_height : e.getParentHeight();
return n > 0 ? n : 320 / (e.hasType("gauge") && !t.gauge_fullCircle ? 2 : 1);
}, s.getCurrentPaddingTop = function() {
var e = this, t = e.config, n = u(t.padding_top) ? t.padding_top : 0;
return e.title && e.title.node() && (n += e.getTitlePadding()), n;
}, s.getCurrentPaddingBottom = function() {
var e = this.config;
return u(e.padding_bottom) ? e.padding_bottom : 0;
}, s.getCurrentPaddingLeft = function(e) {
var t = this, n = t.config;
return u(n.padding_left) ? n.padding_left : n.axis_rotated ? n.axis_x_show ? Math.max(g(t.getAxisWidthByAxisId("x", e)), 40) : 1 : !n.axis_y_show || n.axis_y_inner ? t.axis.getYAxisLabelPosition().isOuter ? 30 : 1 : g(t.getAxisWidthByAxisId("y", e));
}, s.getCurrentPaddingRight = function() {
var e = this, t = e.config, n = e.isLegendRight ? e.getLegendWidth() + 20 : 0;
return u(t.padding_right) ? t.padding_right + 1 : t.axis_rotated ? 10 + n : !t.axis_y2_show || t.axis_y2_inner ? 2 + n + (e.axis.getY2AxisLabelPosition().isOuter ? 20 : 0) : g(e.getAxisWidthByAxisId("y2")) + n;
}, s.getParentRectValue = function(e) {
for (var t, n = this.selectChart.node(); n && "BODY" !== n.tagName; ) {
try {
t = n.getBoundingClientRect()[e];
} catch (i) {
"width" === e && (t = n.offsetWidth);
}
if (t) break;
n = n.parentNode;
}
return t;
}, s.getParentWidth = function() {
return this.getParentRectValue("width");
}, s.getParentHeight = function() {
var e = this.selectChart.style("height");
return e.indexOf("px") > 0 ? +e.replace("px", "") : 0;
}, s.getSvgLeft = function(e) {
var t = this, n = t.config, i = n.axis_rotated || !n.axis_rotated && !n.axis_y_inner, r = n.axis_rotated ? c.axisX : c.axisY, o = t.main.select("." + r).node(), a = o && i ? o.getBoundingClientRect() : {
right: 0
}, s = t.selectChart.node().getBoundingClientRect(), l = t.hasArcType(), u = a.right - s.left - (l ? 0 : t.getCurrentPaddingLeft(e));
return u > 0 ? u : 0;
}, s.getAxisWidthByAxisId = function(e, t) {
var n = this, i = n.axis.getLabelPositionById(e);
return n.axis.getMaxTickWidth(e, t) + (i.isInner ? 20 : 40);
}, s.getHorizontalAxisHeight = function(e) {
var t = this, n = t.config, i = 30;
return "x" !== e || n.axis_x_show ? "x" === e && n.axis_x_height ? n.axis_x_height : "y" !== e || n.axis_y_show ? "y2" !== e || n.axis_y2_show ? ("x" === e && !n.axis_rotated && n.axis_x_tick_rotate && (i = 30 + t.axis.getMaxTickWidth(e) * Math.cos(Math.PI * (90 - n.axis_x_tick_rotate) / 180)), "y" === e && n.axis_rotated && n.axis_y_tick_rotate && (i = 30 + t.axis.getMaxTickWidth(e) * Math.cos(Math.PI * (90 - n.axis_y_tick_rotate) / 180)), i + (t.axis.getLabelPositionById(e).isInner ? 0 : 10) + ("y2" === e ? -10 : 0)) : t.rotated_padding_top : !n.legend_show || t.isLegendRight || t.isLegendInset ? 1 : 10 : 8;
}, s.getEventRectWidth = function() {
return Math.max(0, this.xAxis.tickInterval());
}, s.getShapeIndices = function(e) {
var t, n, i = this, r = i.config, o = {}, a = 0;
return i.filterTargetsToShow(i.data.targets.filter(e, i)).forEach(function(e) {
for (t = 0; t < r.data_groups.length; t++) if (!(r.data_groups[t].indexOf(e.id) < 0)) for (n = 0; n < r.data_groups[t].length; n++) if (r.data_groups[t][n] in o) {
o[e.id] = o[r.data_groups[t][n]];
break;
}
f(o[e.id]) && (o[e.id] = a++);
}), o.__max__ = a - 1, o;
}, s.getShapeX = function(e, t, n, i) {
var r = this, o = i ? r.subX : r.x;
return function(i) {
var r = i.id in n ? n[i.id] : 0;
return i.x || 0 === i.x ? o(i.x) - e * (t / 2 - r) : 0;
};
}, s.getShapeY = function(e) {
var t = this;
return function(n) {
return (e ? t.getSubYScale(n.id) : t.getYScale(n.id))(n.value);
};
}, s.getShapeOffset = function(e, t, n) {
var i = this, r = i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(e, i))), o = r.map(function(e) {
return e.id;
});
return function(e, a) {
var s = n ? i.getSubYScale(e.id) : i.getYScale(e.id), l = s(0), c = l;
return r.forEach(function(n) {
var r = i.isStepType(e) ? i.convertValuesToStep(n.values) : n.values;
n.id !== e.id && t[n.id] === t[e.id] && o.indexOf(n.id) < o.indexOf(e.id) && (void 0 !== r[a] && +r[a].x == +e.x || (a = -1, r.forEach(function(t, n) {
t.x === e.x && (a = n);
})), a in r && r[a].value * e.value >= 0 && (c += s(r[a].value) - l));
}), c;
};
}, s.isWithinShape = function(e, t) {
var n, i = this, r = i.d3.select(e);
return i.isTargetToShow(t.id) ? "circle" === e.nodeName ? n = i.isStepType(t) ? i.isWithinStep(e, i.getYScale(t.id)(t.value)) : i.isWithinCircle(e, 1.5 * i.pointSelectR(t)) : "path" === e.nodeName && (n = !r.classed(c.bar) || i.isWithinBar(e)) : n = !1, n;
}, s.getInterpolate = function(e) {
var t = this, n = t.isInterpolationType(t.config.spline_interpolation_type) ? t.config.spline_interpolation_type : "cardinal";
return t.isSplineType(e) ? n : t.isStepType(e) ? t.config.line_step_type : "linear";
}, s.initLine = function() {
this.main.select("." + c.chart).append("g").attr("class", c.chartLines);
}, s.updateTargetsForLine = function(e) {
var t, n = this, i = n.config, r = n.classChartLine.bind(n), o = n.classLines.bind(n), a = n.classAreas.bind(n), s = n.classCircles.bind(n), l = n.classFocus.bind(n);
(t = n.main.select("." + c.chartLines).selectAll("." + c.chartLine).data(e).attr("class", function(e) {
return r(e) + l(e);
}).enter().append("g").attr("class", r).style("opacity", 0).style("pointer-events", "none")).append("g").attr("class", o), t.append("g").attr("class", a), t.append("g").attr("class", function(e) {
return n.generateClass(c.selectedCircles, e.id);
}), t.append("g").attr("class", s).style("cursor", function(e) {
return i.data_selection_isselectable(e) ? "pointer" : null;
}), e.forEach(function(e) {
n.main.selectAll("." + c.selectedCircles + n.getTargetSelectorSuffix(e.id)).selectAll("." + c.selectedCircle).each(function(t) {
t.value = e.values[t.index].value;
});
});
}, s.updateLine = function(e) {
var t = this;
t.mainLine = t.main.selectAll("." + c.lines).selectAll("." + c.line).data(t.lineData.bind(t)), t.mainLine.enter().append("path").attr("class", t.classLine.bind(t)).style("stroke", t.color), t.mainLine.style("opacity", t.initialOpacity.bind(t)).style("shape-rendering", function(e) {
return t.isStepType(e) ? "crispEdges" : "";
}).attr("transform", null), t.mainLine.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawLine = function(e, t) {
return [ (t ? this.mainLine.transition(Math.random().toString()) : this.mainLine).attr("d", e).style("stroke", this.color).style("opacity", 1) ];
}, s.generateDrawLine = function(e, t) {
var n = this, i = n.config, r = n.d3.svg.line(), o = n.generateGetLinePoints(e, t), a = t ? n.getSubYScale : n.getYScale, s = function(e) {
return (t ? n.subxx : n.xx).call(n, e);
}, l = function(e, t) {
return i.data_groups.length > 0 ? o(e, t)[0][1] : a.call(n, e.id)(e.value);
};
return r = i.axis_rotated ? r.x(l).y(s) : r.x(s).y(l), i.line_connectNull || (r = r.defined(function(e) {
return null != e.value;
})), function(e) {
var o, s = i.line_connectNull ? n.filterRemoveNull(e.values) : e.values, l = t ? n.x : n.subX, c = a.call(n, e.id), u = 0, d = 0;
return n.isLineType(e) ? i.data_regions[e.id] ? o = n.lineWithRegions(s, l, c, i.data_regions[e.id]) : (n.isStepType(e) && (s = n.convertValuesToStep(s)), o = r.interpolate(n.getInterpolate(e))(s)) : (s[0] && (u = l(s[0].x), d = c(s[0].value)), o = i.axis_rotated ? "M " + d + " " + u : "M " + u + " " + d), o || "M 0 0";
};
}, s.generateGetLinePoints = function(e, t) {
var n = this, i = n.config, r = e.__max__ + 1, o = n.getShapeX(0, r, e, !!t), a = n.getShapeY(!!t), s = n.getShapeOffset(n.isLineType, e, !!t), l = t ? n.getSubYScale : n.getYScale;
return function(e, t) {
var r = l.call(n, e.id)(0), c = s(e, t) || r, u = o(e), d = a(e);
return i.axis_rotated && (0 < e.value && d < r || e.value < 0 && r < d) && (d = r), [ [ u, d - (r - c) ], [ u, d - (r - c) ], [ u, d - (r - c) ], [ u, d - (r - c) ] ];
};
}, s.lineWithRegions = function(e, t, n, i) {
function r(e) {
return "M" + e[0][0] + " " + e[0][1] + " " + e[1][0] + " " + e[1][1];
}
var o, a, s, l, c, u, d, h, g, m, v, y = this, b = y.config, _ = "M", w = y.isCategorized() ? .5 : 0, C = [];
if (p(i)) for (o = 0; o < i.length; o++) C[o] = {}, f(i[o].start) ? C[o].start = e[0].x : C[o].start = y.isTimeSeries() ? y.parseDate(i[o].start) : i[o].start, f(i[o].end) ? C[o].end = e[e.length - 1].x : C[o].end = y.isTimeSeries() ? y.parseDate(i[o].end) : i[o].end;
for (m = b.axis_rotated ? function(e) {
return n(e.value);
} : function(e) {
return t(e.x);
}, v = b.axis_rotated ? function(e) {
return t(e.x);
} : function(e) {
return n(e.value);
}, s = y.isTimeSeries() ? function(e, i, o, a) {
var s, l = e.x.getTime(), u = i.x - e.x, d = new Date(l + u * o), h = new Date(l + u * (o + a));
return s = b.axis_rotated ? [ [ n(c(o)), t(d) ], [ n(c(o + a)), t(h) ] ] : [ [ t(d), n(c(o)) ], [ t(h), n(c(o + a)) ] ], r(s);
} : function(e, i, o, a) {
var s;
return s = b.axis_rotated ? [ [ n(c(o), !0), t(l(o)) ], [ n(c(o + a), !0), t(l(o + a)) ] ] : [ [ t(l(o), !0), n(c(o)) ], [ t(l(o + a), !0), n(c(o + a)) ] ], r(s);
}, o = 0; o < e.length; o++) {
if (f(C) || !function(e, t) {
var n;
for (n = 0; n < t.length; n++) if (t[n].start < e && e <= t[n].end) return !0;
return !1;
}(e[o].x, C)) _ += " " + m(e[o]) + " " + v(e[o]); else for (l = y.getScale(e[o - 1].x + w, e[o].x + w, y.isTimeSeries()), c = y.getScale(e[o - 1].value, e[o].value), u = t(e[o].x) - t(e[o - 1].x), d = n(e[o].value) - n(e[o - 1].value), g = 2 * (h = 2 / Math.sqrt(Math.pow(u, 2) + Math.pow(d, 2))), a = h; a <= 1; a += g) _ += s(e[o - 1], e[o], a, h);
e[o].x;
}
return _;
}, s.updateArea = function(e) {
var t = this, n = t.d3;
t.mainArea = t.main.selectAll("." + c.areas).selectAll("." + c.area).data(t.lineData.bind(t)), t.mainArea.enter().append("path").attr("class", t.classArea.bind(t)).style("fill", t.color).style("opacity", function() {
return t.orgAreaOpacity = +n.select(this).style("opacity"), 0;
}), t.mainArea.style("opacity", t.orgAreaOpacity), t.mainArea.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawArea = function(e, t) {
return [ (t ? this.mainArea.transition(Math.random().toString()) : this.mainArea).attr("d", e).style("fill", this.color).style("opacity", this.orgAreaOpacity) ];
}, s.generateDrawArea = function(e, t) {
var n = this, i = n.config, r = n.d3.svg.area(), o = n.generateGetAreaPoints(e, t), a = t ? n.getSubYScale : n.getYScale, s = function(e) {
return (t ? n.subxx : n.xx).call(n, e);
}, l = function(e, t) {
return i.data_groups.length > 0 ? o(e, t)[0][1] : a.call(n, e.id)(n.getAreaBaseValue(e.id));
}, c = function(e, t) {
return i.data_groups.length > 0 ? o(e, t)[1][1] : a.call(n, e.id)(e.value);
};
return r = i.axis_rotated ? r.x0(l).x1(c).y(s) : r.x(s).y0(i.area_above ? 0 : l).y1(c), i.line_connectNull || (r = r.defined(function(e) {
return null !== e.value;
})), function(e) {
var t, o = i.line_connectNull ? n.filterRemoveNull(e.values) : e.values, a = 0, s = 0;
return n.isAreaType(e) ? (n.isStepType(e) && (o = n.convertValuesToStep(o)), t = r.interpolate(n.getInterpolate(e))(o)) : (o[0] && (a = n.x(o[0].x), s = n.getYScale(e.id)(o[0].value)), t = i.axis_rotated ? "M " + s + " " + a : "M " + a + " " + s), t || "M 0 0";
};
}, s.getAreaBaseValue = function() {
return 0;
}, s.generateGetAreaPoints = function(e, t) {
var n = this, i = n.config, r = e.__max__ + 1, o = n.getShapeX(0, r, e, !!t), a = n.getShapeY(!!t), s = n.getShapeOffset(n.isAreaType, e, !!t), l = t ? n.getSubYScale : n.getYScale;
return function(e, t) {
var r = l.call(n, e.id)(0), c = s(e, t) || r, u = o(e), d = a(e);
return i.axis_rotated && (0 < e.value && d < r || e.value < 0 && r < d) && (d = r), [ [ u, c ], [ u, d - (r - c) ], [ u, d - (r - c) ], [ u, c ] ];
};
}, s.updateCircle = function() {
var e = this;
e.mainCircle = e.main.selectAll("." + c.circles).selectAll("." + c.circle).data(e.lineOrScatterData.bind(e)), e.mainCircle.enter().append("circle").attr("class", e.classCircle.bind(e)).attr("r", e.pointR.bind(e)).style("fill", e.color), e.mainCircle.style("opacity", e.initialOpacityForCircle.bind(e)), e.mainCircle.exit().remove();
}, s.redrawCircle = function(e, t, n) {
var i = this.main.selectAll("." + c.selectedCircle);
return [ (n ? this.mainCircle.transition(Math.random().toString()) : this.mainCircle).style("opacity", this.opacityForCircle.bind(this)).style("fill", this.color).attr("cx", e).attr("cy", t), (n ? i.transition(Math.random().toString()) : i).attr("cx", e).attr("cy", t) ];
}, s.circleX = function(e) {
return e.x || 0 === e.x ? this.x(e.x) : null;
}, s.updateCircleY = function() {
var e, t, n = this;
n.config.data_groups.length > 0 ? (e = n.getShapeIndices(n.isLineType), t = n.generateGetLinePoints(e), n.circleY = function(e, n) {
return t(e, n)[0][1];
}) : n.circleY = function(e) {
return n.getYScale(e.id)(e.value);
};
}, s.getCircles = function(e, t) {
var n = this;
return (t ? n.main.selectAll("." + c.circles + n.getTargetSelectorSuffix(t)) : n.main).selectAll("." + c.circle + (u(e) ? "-" + e : ""));
}, s.expandCircles = function(e, t, n) {
var i = this, r = i.pointExpandedR.bind(i);
n && i.unexpandCircles(), i.getCircles(e, t).classed(c.EXPANDED, !0).attr("r", r);
}, s.unexpandCircles = function(e) {
var t = this, n = t.pointR.bind(t);
t.getCircles(e).filter(function() {
return t.d3.select(this).classed(c.EXPANDED);
}).classed(c.EXPANDED, !1).attr("r", n);
}, s.pointR = function(e) {
var t = this, n = t.config;
return t.isStepType(e) ? 0 : d(n.point_r) ? n.point_r(e) : n.point_r;
}, s.pointExpandedR = function(e) {
var t = this, n = t.config;
return n.point_focus_expand_enabled ? n.point_focus_expand_r ? n.point_focus_expand_r : 1.75 * t.pointR(e) : t.pointR(e);
}, s.pointSelectR = function(e) {
var t = this, n = t.config;
return d(n.point_select_r) ? n.point_select_r(e) : n.point_select_r ? n.point_select_r : 4 * t.pointR(e);
}, s.isWithinCircle = function(e, t) {
var n = this.d3, i = n.mouse(e), r = n.select(e), o = +r.attr("cx"), a = +r.attr("cy");
return Math.sqrt(Math.pow(o - i[0], 2) + Math.pow(a - i[1], 2)) < t;
}, s.isWithinStep = function(e, t) {
return Math.abs(t - this.d3.mouse(e)[1]) < 30;
}, s.initBar = function() {
this.main.select("." + c.chart).append("g").attr("class", c.chartBars);
}, s.updateTargetsForBar = function(e) {
var t = this, n = t.config, i = t.classChartBar.bind(t), r = t.classBars.bind(t), o = t.classFocus.bind(t);
t.main.select("." + c.chartBars).selectAll("." + c.chartBar).data(e).attr("class", function(e) {
return i(e) + o(e);
}).enter().append("g").attr("class", i).style("opacity", 0).style("pointer-events", "none").append("g").attr("class", r).style("cursor", function(e) {
return n.data_selection_isselectable(e) ? "pointer" : null;
});
}, s.updateBar = function(e) {
var t = this, n = t.barData.bind(t), i = t.classBar.bind(t), r = t.initialOpacity.bind(t), o = function(e) {
return t.color(e.id);
};
t.mainBar = t.main.selectAll("." + c.bars).selectAll("." + c.bar).data(n), t.mainBar.enter().append("path").attr("class", i).style("stroke", o).style("fill", o), t.mainBar.style("opacity", r), t.mainBar.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawBar = function(e, t) {
return [ (t ? this.mainBar.transition(Math.random().toString()) : this.mainBar).attr("d", e).style("fill", this.color).style("opacity", 1) ];
}, s.getBarW = function(e, t) {
var n = this.config, i = "number" == typeof n.bar_width ? n.bar_width : t ? e.tickInterval() * n.bar_width_ratio / t : 0;
return n.bar_width_max && i > n.bar_width_max ? n.bar_width_max : i;
}, s.getBars = function(e, t) {
var n = this;
return (t ? n.main.selectAll("." + c.bars + n.getTargetSelectorSuffix(t)) : n.main).selectAll("." + c.bar + (u(e) ? "-" + e : ""));
}, s.expandBars = function(e, t, n) {
var i = this;
n && i.unexpandBars(), i.getBars(e, t).classed(c.EXPANDED, !0);
}, s.unexpandBars = function(e) {
this.getBars(e).classed(c.EXPANDED, !1);
}, s.generateDrawBar = function(e, t) {
var n = this, i = n.config, r = n.generateGetBarPoints(e, t);
return function(e, t) {
var n = r(e, t), o = i.axis_rotated ? 1 : 0, a = i.axis_rotated ? 0 : 1;
return "M " + n[0][o] + "," + n[0][a] + " L" + n[1][o] + "," + n[1][a] + " L" + n[2][o] + "," + n[2][a] + " L" + n[3][o] + "," + n[3][a] + " z";
};
}, s.generateGetBarPoints = function(e, t) {
var n = this, i = t ? n.subXAxis : n.xAxis, r = e.__max__ + 1, o = n.getBarW(i, r), a = n.getShapeX(o, r, e, !!t), s = n.getShapeY(!!t), l = n.getShapeOffset(n.isBarType, e, !!t), c = t ? n.getSubYScale : n.getYScale;
return function(e, t) {
var i = c.call(n, e.id)(0), r = l(e, t) || i, u = a(e), d = s(e);
return n.config.axis_rotated && (0 < e.value && d < i || e.value < 0 && i < d) && (d = i), [ [ u, r ], [ u, d - (i - r) ], [ u + o, d - (i - r) ], [ u + o, r ] ];
};
}, s.isWithinBar = function(e) {
var t = this.d3.mouse(e), n = e.getBoundingClientRect(), i = e.pathSegList.getItem(0), r = e.pathSegList.getItem(1), o = Math.min(i.x, r.x), a = Math.min(i.y, r.y), s = o + n.width + 2, l = a + n.height + 2, c = a - 2;
return o - 2 < t[0] && t[0] < s && c < t[1] && t[1] < l;
}, s.initText = function() {
var e = this;
e.main.select("." + c.chart).append("g").attr("class", c.chartTexts), e.mainText = e.d3.selectAll([]);
}, s.updateTargetsForText = function(e) {
var t = this, n = t.classChartText.bind(t), i = t.classTexts.bind(t), r = t.classFocus.bind(t);
t.main.select("." + c.chartTexts).selectAll("." + c.chartText).data(e).attr("class", function(e) {
return n(e) + r(e);
}).enter().append("g").attr("class", n).style("opacity", 0).style("pointer-events", "none").append("g").attr("class", i);
}, s.updateText = function(e) {
var t = this, n = t.config, i = t.barOrLineData.bind(t), r = t.classText.bind(t);
t.mainText = t.main.selectAll("." + c.texts).selectAll("." + c.text).data(i), t.mainText.enter().append("text").attr("class", r).attr("text-anchor", function(e) {
return n.axis_rotated ? e.value < 0 ? "end" : "start" : "middle";
}).style("stroke", "none").style("fill", function(e) {
return t.color(e);
}).style("fill-opacity", 0), t.mainText.text(function(e, n, i) {
return t.dataLabelFormat(e.id)(e.value, e.id, n, i);
}), t.mainText.exit().transition().duration(e).style("fill-opacity", 0).remove();
}, s.redrawText = function(e, t, n, i) {
return [ (i ? this.mainText.transition() : this.mainText).attr("x", e).attr("y", t).style("fill", this.color).style("fill-opacity", n ? 0 : this.opacityForText.bind(this)) ];
}, s.getTextRect = function(e, t, n) {
var i, r = this.d3.select("body").append("div").classed("c3", !0), o = r.append("svg").style("visibility", "hidden").style("position", "fixed").style("top", 0).style("left", 0), a = this.d3.select(n).style("font");
return o.selectAll(".dummy").data([ e ]).enter().append("text").classed(t || "", !0).style("font", a).text(e).each(function() {
i = this.getBoundingClientRect();
}), r.remove(), i;
}, s.generateXYForText = function(e, t, n, i) {
var r = this, o = r.generateGetAreaPoints(e, !1), a = r.generateGetBarPoints(t, !1), s = r.generateGetLinePoints(n, !1), l = i ? r.getXForText : r.getYForText;
return function(e, t) {
var n = r.isAreaType(e) ? o : r.isBarType(e) ? a : s;
return l.call(r, n(e, t), e, this);
};
}, s.getXForText = function(e, t, n) {
var i, r, o = this, a = n.getBoundingClientRect();
return o.config.axis_rotated ? (r = o.isBarType(t) ? 4 : 6, i = e[2][1] + r * (t.value < 0 ? -1 : 1)) : i = o.hasType("bar") ? (e[2][0] + e[0][0]) / 2 : e[0][0], null === t.value && (i > o.width ? i = o.width - a.width : i < 0 && (i = 4)), i;
}, s.getYForText = function(e, t, n) {
var i, r = this, o = n.getBoundingClientRect();
return r.config.axis_rotated ? i = (e[0][0] + e[2][0] + .6 * o.height) / 2 : (i = e[2][1], t.value < 0 || 0 === t.value && !r.hasPositiveValue ? (i += o.height, r.isBarType(t) && r.isSafari() ? i -= 3 : !r.isBarType(t) && r.isChrome() && (i += 3)) : i += r.isBarType(t) ? -3 : -6), null !== t.value || r.config.axis_rotated || (i < o.height ? i = o.height : i > this.height && (i = this.height - 4)), i;
}, s.setTargetType = function(e, t) {
var n = this, i = n.config;
n.mapToTargetIds(e).forEach(function(e) {
n.withoutFadeIn[e] = t === i.data_types[e], i.data_types[e] = t;
}), e || (i.data_type = t);
}, s.hasType = function(e, t) {
var n = this, i = n.config.data_types, r = !1;
return (t = t || n.data.targets) && t.length ? t.forEach(function(t) {
var n = i[t.id];
(n && n.indexOf(e) >= 0 || !n && "line" === e) && (r = !0);
}) : Object.keys(i).length ? Object.keys(i).forEach(function(t) {
i[t] === e && (r = !0);
}) : r = n.config.data_type === e, r;
}, s.hasArcType = function(e) {
return this.hasType("pie", e) || this.hasType("donut", e) || this.hasType("gauge", e);
}, s.isLineType = function(e) {
var t = this.config, n = h(e) ? e : e.id;
return !t.data_types[n] || [ "line", "spline", "area", "area-spline", "step", "area-step" ].indexOf(t.data_types[n]) >= 0;
}, s.isStepType = function(e) {
var t = h(e) ? e : e.id;
return [ "step", "area-step" ].indexOf(this.config.data_types[t]) >= 0;
}, s.isSplineType = function(e) {
var t = h(e) ? e : e.id;
return [ "spline", "area-spline" ].indexOf(this.config.data_types[t]) >= 0;
}, s.isAreaType = function(e) {
var t = h(e) ? e : e.id;
return [ "area", "area-spline", "area-step" ].indexOf(this.config.data_types[t]) >= 0;
}, s.isBarType = function(e) {
var t = h(e) ? e : e.id;
return "bar" === this.config.data_types[t];
}, s.isScatterType = function(e) {
var t = h(e) ? e : e.id;
return "scatter" === this.config.data_types[t];
}, s.isPieType = function(e) {
var t = h(e) ? e : e.id;
return "pie" === this.config.data_types[t];
}, s.isGaugeType = function(e) {
var t = h(e) ? e : e.id;
return "gauge" === this.config.data_types[t];
}, s.isDonutType = function(e) {
var t = h(e) ? e : e.id;
return "donut" === this.config.data_types[t];
}, s.isArcType = function(e) {
return this.isPieType(e) || this.isDonutType(e) || this.isGaugeType(e);
}, s.lineData = function(e) {
return this.isLineType(e) ? [ e ] : [];
}, s.arcData = function(e) {
return this.isArcType(e.data) ? [ e ] : [];
}, s.barData = function(e) {
return this.isBarType(e) ? e.values : [];
}, s.lineOrScatterData = function(e) {
return this.isLineType(e) || this.isScatterType(e) ? e.values : [];
}, s.barOrLineData = function(e) {
return this.isBarType(e) || this.isLineType(e) ? e.values : [];
}, s.isInterpolationType = function(e) {
return [ "linear", "linear-closed", "basis", "basis-open", "basis-closed", "bundle", "cardinal", "cardinal-open", "cardinal-closed", "monotone" ].indexOf(e) >= 0;
}, s.initGrid = function() {
var e = this, t = e.config, n = e.d3;
e.grid = e.main.append("g").attr("clip-path", e.clipPathForGrid).attr("class", c.grid), t.grid_x_show && e.grid.append("g").attr("class", c.xgrids), t.grid_y_show && e.grid.append("g").attr("class", c.ygrids), t.grid_focus_show && e.grid.append("g").attr("class", c.xgridFocus).append("line").attr("class", c.xgridFocus), e.xgrid = n.selectAll([]), t.grid_lines_front || e.initGridLines();
}, s.initGridLines = function() {
var e = this, t = e.d3;
e.gridLines = e.main.append("g").attr("clip-path", e.clipPathForGrid).attr("class", c.grid + " " + c.gridLines), e.gridLines.append("g").attr("class", c.xgridLines), e.gridLines.append("g").attr("class", c.ygridLines), e.xgridLines = t.selectAll([]);
}, s.updateXGrid = function(e) {
var t = this, n = t.config, i = t.d3, r = t.generateGridData(n.grid_x_type, t.x), o = t.isCategorized() ? t.xAxis.tickOffset() : 0;
t.xgridAttr = n.axis_rotated ? {
x1: 0,
x2: t.width,
y1: function(e) {
return t.x(e) - o;
},
y2: function(e) {
return t.x(e) - o;
}
} : {
x1: function(e) {
return t.x(e) + o;
},
x2: function(e) {
return t.x(e) + o;
},
y1: 0,
y2: t.height
}, t.xgrid = t.main.select("." + c.xgrids).selectAll("." + c.xgrid).data(r), t.xgrid.enter().append("line").attr("class", c.xgrid), e || t.xgrid.attr(t.xgridAttr).style("opacity", function() {
return +i.select(this).attr(n.axis_rotated ? "y1" : "x1") === (n.axis_rotated ? t.height : 0) ? 0 : 1;
}), t.xgrid.exit().remove();
}, s.updateYGrid = function() {
var e = this, t = e.config, n = e.yAxis.tickValues() || e.y.ticks(t.grid_y_ticks);
e.ygrid = e.main.select("." + c.ygrids).selectAll("." + c.ygrid).data(n), e.ygrid.enter().append("line").attr("class", c.ygrid), e.ygrid.attr("x1", t.axis_rotated ? e.y : 0).attr("x2", t.axis_rotated ? e.y : e.width).attr("y1", t.axis_rotated ? 0 : e.y).attr("y2", t.axis_rotated ? e.height : e.y), e.ygrid.exit().remove(), e.smoothLines(e.ygrid, "grid");
}, s.gridTextAnchor = function(e) {
return e.position ? e.position : "end";
}, s.gridTextDx = function(e) {
return "start" === e.position ? 4 : "middle" === e.position ? 0 : -4;
}, s.xGridTextX = function(e) {
return "start" === e.position ? -this.height : "middle" === e.position ? -this.height / 2 : 0;
}, s.yGridTextX = function(e) {
return "start" === e.position ? 0 : "middle" === e.position ? this.width / 2 : this.width;
}, s.updateGrid = function(e) {
var t, n, i, r = this, o = r.main, a = r.config;
r.grid.style("visibility", r.hasArcType() ? "hidden" : "visible"), o.select("line." + c.xgridFocus).style("visibility", "hidden"), a.grid_x_show && r.updateXGrid(), r.xgridLines = o.select("." + c.xgridLines).selectAll("." + c.xgridLine).data(a.grid_x_lines), (t = r.xgridLines.enter().append("g").attr("class", function(e) {
return c.xgridLine + (e.class ? " " + e.class : "");
})).append("line").style("opacity", 0), t.append("text").attr("text-anchor", r.gridTextAnchor).attr("transform", a.axis_rotated ? "" : "rotate(-90)").attr("dx", r.gridTextDx).attr("dy", -5).style("opacity", 0), r.xgridLines.exit().transition().duration(e).style("opacity", 0).remove(), a.grid_y_show && r.updateYGrid(), r.ygridLines = o.select("." + c.ygridLines).selectAll("." + c.ygridLine).data(a.grid_y_lines), (n = r.ygridLines.enter().append("g").attr("class", function(e) {
return c.ygridLine + (e.class ? " " + e.class : "");
})).append("line").style("opacity", 0), n.append("text").attr("text-anchor", r.gridTextAnchor).attr("transform", a.axis_rotated ? "rotate(-90)" : "").attr("dx", r.gridTextDx).attr("dy", -5).style("opacity", 0), i = r.yv.bind(r), r.ygridLines.select("line").transition().duration(e).attr("x1", a.axis_rotated ? i : 0).attr("x2", a.axis_rotated ? i : r.width).attr("y1", a.axis_rotated ? 0 : i).attr("y2", a.axis_rotated ? r.height : i).style("opacity", 1), r.ygridLines.select("text").transition().duration(e).attr("x", a.axis_rotated ? r.xGridTextX.bind(r) : r.yGridTextX.bind(r)).attr("y", i).text(function(e) {
return e.text;
}).style("opacity", 1), r.ygridLines.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawGrid = function(e) {
var t = this, n = t.config, i = t.xv.bind(t), r = t.xgridLines.select("line"), o = t.xgridLines.select("text");
return [ (e ? r.transition() : r).attr("x1", n.axis_rotated ? 0 : i).attr("x2", n.axis_rotated ? t.width : i).attr("y1", n.axis_rotated ? i : 0).attr("y2", n.axis_rotated ? i : t.height).style("opacity", 1), (e ? o.transition() : o).attr("x", n.axis_rotated ? t.yGridTextX.bind(t) : t.xGridTextX.bind(t)).attr("y", i).text(function(e) {
return e.text;
}).style("opacity", 1) ];
}, s.showXGridFocus = function(e) {
var t = this, n = t.config, i = e.filter(function(e) {
return e && u(e.value);
}), r = t.main.selectAll("line." + c.xgridFocus), o = t.xx.bind(t);
n.tooltip_show && (t.hasType("scatter") || t.hasArcType() || (r.style("visibility", "visible").data([ i[0] ]).attr(n.axis_rotated ? "y1" : "x1", o).attr(n.axis_rotated ? "y2" : "x2", o), t.smoothLines(r, "grid")));
}, s.hideXGridFocus = function() {
this.main.select("line." + c.xgridFocus).style("visibility", "hidden");
}, s.updateXgridFocus = function() {
var e = this, t = e.config;
e.main.select("line." + c.xgridFocus).attr("x1", t.axis_rotated ? 0 : -10).attr("x2", t.axis_rotated ? e.width : -10).attr("y1", t.axis_rotated ? -10 : 0).attr("y2", t.axis_rotated ? -10 : e.height);
}, s.generateGridData = function(e, t) {
var n, i, r, o, a = this, s = [], l = a.main.select("." + c.axisX).selectAll(".tick").size();
if ("year" === e) for (i = (n = a.getXDomain())[0].getFullYear(), r = n[1].getFullYear(), o = i; o <= r; o++) s.push(new Date(o + "-01-01 00:00:00")); else (s = t.ticks(10)).length > l && (s = s.filter(function(e) {
return ("" + e).indexOf(".") < 0;
}));
return s;
}, s.getGridFilterToRemove = function(e) {
return e ? function(t) {
var n = !1;
return [].concat(e).forEach(function(e) {
("value" in e && t.value === e.value || "class" in e && t.class === e.class) && (n = !0);
}), n;
} : function() {
return !0;
};
}, s.removeGridLines = function(e, t) {
var n = this, i = n.config, r = n.getGridFilterToRemove(e), o = function(e) {
return !r(e);
}, a = t ? c.xgridLines : c.ygridLines, s = t ? c.xgridLine : c.ygridLine;
n.main.select("." + a).selectAll("." + s).filter(r).transition().duration(i.transition_duration).style("opacity", 0).remove(), t ? i.grid_x_lines = i.grid_x_lines.filter(o) : i.grid_y_lines = i.grid_y_lines.filter(o);
}, s.initTooltip = function() {
var e, t = this, n = t.config;
if (t.tooltip = t.selectChart.style("position", "relative").append("div").attr("class", c.tooltipContainer).style("position", "absolute").style("pointer-events", "none").style("display", "none"), n.tooltip_init_show) {
if (t.isTimeSeries() && h(n.tooltip_init_x)) {
for (n.tooltip_init_x = t.parseDate(n.tooltip_init_x), e = 0; e < t.data.targets[0].values.length && t.data.targets[0].values[e].x - n.tooltip_init_x != 0; e++) ;
n.tooltip_init_x = e;
}
t.tooltip.html(n.tooltip_contents.call(t, t.data.targets.map(function(e) {
return t.addName(e.values[n.tooltip_init_x]);
}), t.axis.getXAxisTickFormat(), t.getYFormat(t.hasArcType()), t.color)), t.tooltip.style("top", n.tooltip_init_position.top).style("left", n.tooltip_init_position.left).style("display", "block");
}
}, s.getTooltipContent = function(e, t, n, i) {
var r, o, a, s, l, c, u = this, d = u.config, h = d.tooltip_format_title || t, f = d.tooltip_format_name || function(e) {
return e;
}, p = d.tooltip_format_value || n, g = u.isOrderAsc();
if (0 === d.data_groups.length) e.sort(function(e, t) {
var n = e ? e.value : null, i = t ? t.value : null;
return g ? n - i : i - n;
}); else {
var m = u.orderTargets(u.data.targets).map(function(e) {
return e.id;
});
e.sort(function(e, t) {
var n = e ? e.value : null, i = t ? t.value : null;
return n > 0 && i > 0 && (n = e ? m.indexOf(e.id) : null, i = t ? m.indexOf(t.id) : null), g ? n - i : i - n;
});
}
for (o = 0; o < e.length; o++) if (e[o] && (e[o].value || 0 === e[o].value) && (r || (a = C(h ? h(e[o].x) : e[o].x), r = "<table class='" + u.CLASS.tooltip + "'>" + (a || 0 === a ? "<tr><th colspan='2'>" + a + "</th></tr>" : "")), void 0 !== (s = C(p(e[o].value, e[o].ratio, e[o].id, e[o].index, e))))) {
if (null === e[o].name) continue;
l = C(f(e[o].name, e[o].ratio, e[o].id, e[o].index)), c = u.levelColor ? u.levelColor(e[o].value) : i(e[o].id), r += "<tr class='" + u.CLASS.tooltipName + "-" + u.getTargetSelectorSuffix(e[o].id) + "'>", r += "<td class='name'><span style='background-color:" + c + "'></span>" + l + "</td>", r += "<td class='value'>" + s + "</td>", r += "</tr>";
}
return r + "</table>";
}, s.tooltipPosition = function(e, t, n, i) {
var r, o, a, s, l, c = this, u = c.config, d = c.d3, h = c.hasArcType(), f = d.mouse(i);
return h ? (o = (c.width - (c.isLegendRight ? c.getLegendWidth() : 0)) / 2 + f[0], s = c.height / 2 + f[1] + 20) : (r = c.getSvgLeft(!0), u.axis_rotated ? (a = (o = r + f[0] + 100) + t, l = c.currentWidth - c.getCurrentPaddingRight(), s = c.x(e[0].x) + 20) : (a = (o = r + c.getCurrentPaddingLeft(!0) + c.x(e[0].x) + 20) + t, l = r + c.currentWidth - c.getCurrentPaddingRight(), s = f[1] + 15), a > l && (o -= a - l + 20), s + n > c.currentHeight && (s -= n + 30)), s < 0 && (s = 0), {
top: s,
left: o
};
}, s.showTooltip = function(e, t) {
var n, i, r, o = this, a = o.config, l = o.hasArcType(), c = e.filter(function(e) {
return e && u(e.value);
}), d = a.tooltip_position || s.tooltipPosition;
0 !== c.length && a.tooltip_show && (o.tooltip.html(a.tooltip_contents.call(o, e, o.axis.getXAxisTickFormat(), o.getYFormat(l), o.color)).style("display", "block"), n = o.tooltip.property("offsetWidth"), i = o.tooltip.property("offsetHeight"), r = d.call(this, c, n, i, t), o.tooltip.style("top", r.top + "px").style("left", r.left + "px"));
}, s.hideTooltip = function() {
this.tooltip.style("display", "none");
}, s.initLegend = function() {
var e = this;
if (e.legendItemTextBox = {}, e.legendHasRendered = !1, e.legend = e.svg.append("g").attr("transform", e.getTranslate("legend")), !e.config.legend_show) return e.legend.style("visibility", "hidden"), void (e.hiddenLegendIds = e.mapToIds(e.data.targets));
e.updateLegendWithDefaults();
}, s.updateLegendWithDefaults = function() {
var e = this;
e.updateLegend(e.mapToIds(e.data.targets), {
withTransform: !1,
withTransitionForTransform: !1,
withTransition: !1
});
}, s.updateSizeForLegend = function(e, t) {
var n = this, i = n.config, r = {
top: n.isLegendTop ? n.getCurrentPaddingTop() + i.legend_inset_y + 5.5 : n.currentHeight - e - n.getCurrentPaddingBottom() - i.legend_inset_y,
left: n.isLegendLeft ? n.getCurrentPaddingLeft() + i.legend_inset_x + .5 : n.currentWidth - t - n.getCurrentPaddingRight() - i.legend_inset_x + .5
};
n.margin3 = {
top: n.isLegendRight ? 0 : n.isLegendInset ? r.top : n.currentHeight - e,
right: NaN,
bottom: 0,
left: n.isLegendRight ? n.currentWidth - t : n.isLegendInset ? r.left : 0
};
}, s.transformLegend = function(e) {
var t = this;
(e ? t.legend.transition() : t.legend).attr("transform", t.getTranslate("legend"));
}, s.updateLegendStep = function(e) {
this.legendStep = e;
}, s.updateLegendItemWidth = function(e) {
this.legendItemWidth = e;
}, s.updateLegendItemHeight = function(e) {
this.legendItemHeight = e;
}, s.getLegendWidth = function() {
var e = this;
return e.config.legend_show ? e.isLegendRight || e.isLegendInset ? e.legendItemWidth * (e.legendStep + 1) : e.currentWidth : 0;
}, s.getLegendHeight = function() {
var e = this, t = 0;
return e.config.legend_show && (t = e.isLegendRight ? e.currentHeight : Math.max(20, e.legendItemHeight) * (e.legendStep + 1)), t;
}, s.opacityForLegend = function(e) {
return e.classed(c.legendItemHidden) ? null : 1;
}, s.opacityForUnfocusedLegend = function(e) {
return e.classed(c.legendItemHidden) ? null : .3;
}, s.toggleFocusLegend = function(e, t) {
var n = this;
e = n.mapToTargetIds(e), n.legend.selectAll("." + c.legendItem).filter(function(t) {
return e.indexOf(t) >= 0;
}).classed(c.legendItemFocused, t).transition().duration(100).style("opacity", function() {
return (t ? n.opacityForLegend : n.opacityForUnfocusedLegend).call(n, n.d3.select(this));
});
}, s.revertLegend = function() {
var e = this, t = e.d3;
e.legend.selectAll("." + c.legendItem).classed(c.legendItemFocused, !1).transition().duration(100).style("opacity", function() {
return e.opacityForLegend(t.select(this));
});
}, s.showLegend = function(e) {
var t = this, n = t.config;
n.legend_show || (n.legend_show = !0, t.legend.style("visibility", "visible"), t.legendHasRendered || t.updateLegendWithDefaults()), t.removeHiddenLegendIds(e), t.legend.selectAll(t.selectorLegends(e)).style("visibility", "visible").transition().style("opacity", function() {
return t.opacityForLegend(t.d3.select(this));
});
}, s.hideLegend = function(e) {
var t = this, n = t.config;
n.legend_show && y(e) && (n.legend_show = !1, t.legend.style("visibility", "hidden")), t.addHiddenLegendIds(e), t.legend.selectAll(t.selectorLegends(e)).style("opacity", 0).style("visibility", "hidden");
}, s.clearLegendItemTextBoxCache = function() {
this.legendItemTextBox = {};
}, s.updateLegend = function(e, t, n) {
function i(e, t) {
return S.legendItemTextBox[t] || (S.legendItemTextBox[t] = S.getTextRect(e.textContent, c.legendItem, e)), S.legendItemTextBox[t];
}
function r(t, n, r) {
function o(e, t) {
t || (a = (p - M - f) / 2) < E && (a = (p - f) / 2, M = 0, N++), R[e] = N, O[N] = S.isLegendInset ? 10 : a, I[e] = M, M += f;
}
var a, s, l = 0 === r, c = r === e.length - 1, u = i(t, n), d = u.width + F + (!c || S.isLegendRight || S.isLegendInset ? k : 0) + $.legend_padding, h = u.height + A, f = S.isLegendRight || S.isLegendInset ? h : d, p = S.isLegendRight || S.isLegendInset ? S.getLegendHeight() : S.getLegendWidth();
l && (M = 0, N = 0, T = 0, D = 0), !$.legend_show || S.isLegendToShow(n) ? (P[n] = d, L[n] = h, (!T || d >= T) && (T = d), (!D || h >= D) && (D = h), s = S.isLegendRight || S.isLegendInset ? D : T, $.legend_equally ? (Object.keys(P).forEach(function(e) {
P[e] = T;
}), Object.keys(L).forEach(function(e) {
L[e] = D;
}), (a = (p - s * e.length) / 2) < E ? (M = 0, N = 0, e.forEach(function(e) {
o(e);
})) : o(n, !0)) : o(n)) : P[n] = L[n] = R[n] = I[n] = 0;
}
var o, a, s, l, u, d, h, f, g, m, v, y, b, w, C, x, S = this, $ = S.config, A = 4, k = 10, T = 0, D = 0, E = 10, F = $.legend_item_tile_width + 5, M = 0, I = {}, P = {}, L = {}, O = [ 0 ], R = {}, N = 0;
e = e.filter(function(e) {
return !p($.data_names[e]) || null !== $.data_names[e];
}), v = _(t = t || {}, "withTransition", !0), y = _(t, "withTransitionForTransform", !0), S.isLegendInset && (N = $.legend_inset_step ? $.legend_inset_step : e.length, S.updateLegendStep(N)), S.isLegendRight ? (o = function(e) {
return T * R[e];
}, l = function(e) {
return O[R[e]] + I[e];
}) : S.isLegendInset ? (o = function(e) {
return T * R[e] + 10;
}, l = function(e) {
return O[R[e]] + I[e];
}) : (o = function(e) {
return O[R[e]] + I[e];
}, l = function(e) {
return D * R[e];
}), a = function(e, t) {
return o(e, t) + 4 + $.legend_item_tile_width;
}, u = function(e, t) {
return l(e, t) + 9;
}, s = function(e, t) {
return o(e, t);
}, d = function(e, t) {
return l(e, t) - 5;
}, h = function(e, t) {
return o(e, t) - 2;
}, f = function(e, t) {
return o(e, t) - 2 + $.legend_item_tile_width;
}, g = function(e, t) {
return l(e, t) + 4;
}, (m = S.legend.selectAll("." + c.legendItem).data(e).enter().append("g").attr("class", function(e) {
return S.generateClass(c.legendItem, e);
}).style("visibility", function(e) {
return S.isLegendToShow(e) ? "visible" : "hidden";
}).style("cursor", "pointer").on("click", function(e) {
$.legend_item_onclick ? $.legend_item_onclick.call(S, e) : S.d3.event.altKey ? (S.api.hide(), S.api.show(e)) : (S.api.toggle(e), S.isTargetToShow(e) ? S.api.focus(e) : S.api.revert());
}).on("mouseover", function(e) {
$.legend_item_onmouseover ? $.legend_item_onmouseover.call(S, e) : (S.d3.select(this).classed(c.legendItemFocused, !0), !S.transiting && S.isTargetToShow(e) && S.api.focus(e));
}).on("mouseout", function(e) {
$.legend_item_onmouseout ? $.legend_item_onmouseout.call(S, e) : (S.d3.select(this).classed(c.legendItemFocused, !1), S.api.revert());
})).append("text").text(function(e) {
return p($.data_names[e]) ? $.data_names[e] : e;
}).each(function(e, t) {
r(this, e, t);
}).style("pointer-events", "none").attr("x", S.isLegendRight || S.isLegendInset ? a : -200).attr("y", S.isLegendRight || S.isLegendInset ? -200 : u), m.append("rect").attr("class", c.legendItemEvent).style("fill-opacity", 0).attr("x", S.isLegendRight || S.isLegendInset ? s : -200).attr("y", S.isLegendRight || S.isLegendInset ? -200 : d), m.append("line").attr("class", c.legendItemTile).style("stroke", S.color).style("pointer-events", "none").attr("x1", S.isLegendRight || S.isLegendInset ? h : -200).attr("y1", S.isLegendRight || S.isLegendInset ? -200 : g).attr("x2", S.isLegendRight || S.isLegendInset ? f : -200).attr("y2", S.isLegendRight || S.isLegendInset ? -200 : g).attr("stroke-width", $.legend_item_tile_height), x = S.legend.select("." + c.legendBackground + " rect"), S.isLegendInset && T > 0 && 0 === x.size() && (x = S.legend.insert("g", "." + c.legendItem).attr("class", c.legendBackground).append("rect")), b = S.legend.selectAll("text").data(e).text(function(e) {
return p($.data_names[e]) ? $.data_names[e] : e;
}).each(function(e, t) {
r(this, e, t);
}), (v ? b.transition() : b).attr("x", a).attr("y", u), w = S.legend.selectAll("rect." + c.legendItemEvent).data(e), (v ? w.transition() : w).attr("width", function(e) {
return P[e];
}).attr("height", function(e) {
return L[e];
}).attr("x", s).attr("y", d), C = S.legend.selectAll("line." + c.legendItemTile).data(e), (v ? C.transition() : C).style("stroke", S.color).attr("x1", h).attr("y1", g).attr("x2", f).attr("y2", g), x && (v ? x.transition() : x).attr("height", S.getLegendHeight() - 12).attr("width", T * (N + 1) + 10), S.legend.selectAll("." + c.legendItem).classed(c.legendItemHidden, function(e) {
return !S.isTargetToShow(e);
}), S.updateLegendItemWidth(T), S.updateLegendItemHeight(D), S.updateLegendStep(N), S.updateSizes(), S.updateScales(), S.updateSvgSize(), S.transformAll(y, n), S.legendHasRendered = !0;
}, s.initTitle = function() {
var e = this;
e.title = e.svg.append("text").text(e.config.title_text).attr("class", e.CLASS.title);
}, s.redrawTitle = function() {
var e = this;
e.title.attr("x", e.xForTitle.bind(e)).attr("y", e.yForTitle.bind(e));
}, s.xForTitle = function() {
var e = this, t = e.config, n = t.title_position || "left";
return n.indexOf("right") >= 0 ? e.currentWidth - e.getTextRect(e.title.node().textContent, e.CLASS.title, e.title.node()).width - t.title_padding.right : n.indexOf("center") >= 0 ? (e.currentWidth - e.getTextRect(e.title.node().textContent, e.CLASS.title, e.title.node()).width) / 2 : t.title_padding.left;
}, s.yForTitle = function() {
var e = this;
return e.config.title_padding.top + e.getTextRect(e.title.node().textContent, e.CLASS.title, e.title.node()).height;
}, s.getTitlePadding = function() {
var e = this;
return e.yForTitle() + e.config.title_padding.bottom;
}, function(e, t) {
if (Object.create) t.prototype = Object.create(e.prototype); else {
var n = function() {};
n.prototype = e.prototype, t.prototype = new n();
}
t.prototype.constructor = t;
}(t, r), r.prototype.init = function() {
var e = this.owner, t = e.config, n = e.main;
e.axes.x = n.append("g").attr("class", c.axis + " " + c.axisX).attr("clip-path", e.clipPathForXAxis).attr("transform", e.getTranslate("x")).style("visibility", t.axis_x_show ? "visible" : "hidden"), e.axes.x.append("text").attr("class", c.axisXLabel).attr("transform", t.axis_rotated ? "rotate(-90)" : "").style("text-anchor", this.textAnchorForXAxisLabel.bind(this)), e.axes.y = n.append("g").attr("class", c.axis + " " + c.axisY).attr("clip-path", t.axis_y_inner ? "" : e.clipPathForYAxis).attr("transform", e.getTranslate("y")).style("visibility", t.axis_y_show ? "visible" : "hidden"), e.axes.y.append("text").attr("class", c.axisYLabel).attr("transform", t.axis_rotated ? "" : "rotate(-90)").style("text-anchor", this.textAnchorForYAxisLabel.bind(this)), e.axes.y2 = n.append("g").attr("class", c.axis + " " + c.axisY2).attr("transform", e.getTranslate("y2")).style("visibility", t.axis_y2_show ? "visible" : "hidden"), e.axes.y2.append("text").attr("class", c.axisY2Label).attr("transform", t.axis_rotated ? "" : "rotate(-90)").style("text-anchor", this.textAnchorForY2AxisLabel.bind(this));
}, r.prototype.getXAxis = function(e, t, n, i, r, a, s) {
var l = this.owner, c = l.config, u = {
isCategory: l.isCategorized(),
withOuterTick: r,
tickMultiline: c.axis_x_tick_multiline,
tickWidth: c.axis_x_tick_width,
tickTextRotate: s ? 0 : c.axis_x_tick_rotate,
withoutTransition: a
}, d = o(l.d3, u).scale(e).orient(t);
return l.isTimeSeries() && i && "function" != typeof i && (i = i.map(function(e) {
return l.parseDate(e);
})), d.tickFormat(n).tickValues(i), l.isCategorized() && (d.tickCentered(c.axis_x_tick_centered), y(c.axis_x_tick_culling) && (c.axis_x_tick_culling = !1)), d;
}, r.prototype.updateXAxisTickValues = function(e, t) {
var n, i = this.owner, r = i.config;
return (r.axis_x_tick_fit || r.axis_x_tick_count) && (n = this.generateTickValues(i.mapTargetsToUniqueXs(e), r.axis_x_tick_count, i.isTimeSeries())), t ? t.tickValues(n) : (i.xAxis.tickValues(n), i.subXAxis.tickValues(n)), n;
}, r.prototype.getYAxis = function(e, t, n, i, r, a, s) {
var l = this.owner, c = l.config, u = {
withOuterTick: r,
withoutTransition: a,
tickTextRotate: s ? 0 : c.axis_y_tick_rotate
}, d = o(l.d3, u).scale(e).orient(t).tickFormat(n);
return l.isTimeSeriesY() ? d.ticks(l.d3.time[c.axis_y_tick_time_value], c.axis_y_tick_time_interval) : d.tickValues(i), d;
}, r.prototype.getId = function(e) {
var t = this.owner.config;
return e in t.data_axes ? t.data_axes[e] : "y";
}, r.prototype.getXAxisTickFormat = function() {
var e = this.owner, t = e.config, n = e.isTimeSeries() ? e.defaultAxisTimeFormat : e.isCategorized() ? e.categoryName : function(e) {
return e < 0 ? e.toFixed(0) : e;
};
return t.axis_x_tick_format && (d(t.axis_x_tick_format) ? n = t.axis_x_tick_format : e.isTimeSeries() && (n = function(n) {
return n ? e.axisTimeFormat(t.axis_x_tick_format)(n) : "";
})), d(n) ? function(t) {
return n.call(e, t);
} : n;
}, r.prototype.getTickValues = function(e, t) {
return e || (t ? t.tickValues() : void 0);
}, r.prototype.getXAxisTickValues = function() {
return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);
}, r.prototype.getYAxisTickValues = function() {
return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);
}, r.prototype.getY2AxisTickValues = function() {
return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);
}, r.prototype.getLabelOptionByAxisId = function(e) {
var t, n = this.owner.config;
return "y" === e ? t = n.axis_y_label : "y2" === e ? t = n.axis_y2_label : "x" === e && (t = n.axis_x_label), t;
}, r.prototype.getLabelText = function(e) {
var t = this.getLabelOptionByAxisId(e);
return h(t) ? t : t ? t.text : null;
}, r.prototype.setLabelText = function(e, t) {
var n = this.owner.config, i = this.getLabelOptionByAxisId(e);
h(i) ? "y" === e ? n.axis_y_label = t : "y2" === e ? n.axis_y2_label = t : "x" === e && (n.axis_x_label = t) : i && (i.text = t);
}, r.prototype.getLabelPosition = function(e, t) {
var n = this.getLabelOptionByAxisId(e), i = n && "object" == typeof n && n.position ? n.position : t;
return {
isInner: i.indexOf("inner") >= 0,
isOuter: i.indexOf("outer") >= 0,
isLeft: i.indexOf("left") >= 0,
isCenter: i.indexOf("center") >= 0,
isRight: i.indexOf("right") >= 0,
isTop: i.indexOf("top") >= 0,
isMiddle: i.indexOf("middle") >= 0,
isBottom: i.indexOf("bottom") >= 0
};
}, r.prototype.getXAxisLabelPosition = function() {
return this.getLabelPosition("x", this.owner.config.axis_rotated ? "inner-top" : "inner-right");
}, r.prototype.getYAxisLabelPosition = function() {
return this.getLabelPosition("y", this.owner.config.axis_rotated ? "inner-right" : "inner-top");
}, r.prototype.getY2AxisLabelPosition = function() {
return this.getLabelPosition("y2", this.owner.config.axis_rotated ? "inner-right" : "inner-top");
}, r.prototype.getLabelPositionById = function(e) {
return "y2" === e ? this.getY2AxisLabelPosition() : "y" === e ? this.getYAxisLabelPosition() : this.getXAxisLabelPosition();
}, r.prototype.textForXAxisLabel = function() {
return this.getLabelText("x");
}, r.prototype.textForYAxisLabel = function() {
return this.getLabelText("y");
}, r.prototype.textForY2AxisLabel = function() {
return this.getLabelText("y2");
}, r.prototype.xForAxisLabel = function(e, t) {
var n = this.owner;
return e ? t.isLeft ? 0 : t.isCenter ? n.width / 2 : n.width : t.isBottom ? -n.height : t.isMiddle ? -n.height / 2 : 0;
}, r.prototype.dxForAxisLabel = function(e, t) {
return e ? t.isLeft ? "0.5em" : t.isRight ? "-0.5em" : "0" : t.isTop ? "-0.5em" : t.isBottom ? "0.5em" : "0";
}, r.prototype.textAnchorForAxisLabel = function(e, t) {
return e ? t.isLeft ? "start" : t.isCenter ? "middle" : "end" : t.isBottom ? "start" : t.isMiddle ? "middle" : "end";
}, r.prototype.xForXAxisLabel = function() {
return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());
}, r.prototype.xForYAxisLabel = function() {
return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());
}, r.prototype.xForY2AxisLabel = function() {
return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());
}, r.prototype.dxForXAxisLabel = function() {
return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());
}, r.prototype.dxForYAxisLabel = function() {
return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());
}, r.prototype.dxForY2AxisLabel = function() {
return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());
}, r.prototype.dyForXAxisLabel = function() {
var e = this.owner.config, t = this.getXAxisLabelPosition();
return e.axis_rotated ? t.isInner ? "1.2em" : -25 - this.getMaxTickWidth("x") : t.isInner ? "-0.5em" : e.axis_x_height ? e.axis_x_height - 10 : "3em";
}, r.prototype.dyForYAxisLabel = function() {
var e = this.owner, t = this.getYAxisLabelPosition();
return e.config.axis_rotated ? t.isInner ? "-0.5em" : "3em" : t.isInner ? "1.2em" : -10 - (e.config.axis_y_inner ? 0 : this.getMaxTickWidth("y") + 10);
}, r.prototype.dyForY2AxisLabel = function() {
var e = this.owner, t = this.getY2AxisLabelPosition();
return e.config.axis_rotated ? t.isInner ? "1.2em" : "-2.2em" : t.isInner ? "-0.5em" : 15 + (e.config.axis_y2_inner ? 0 : this.getMaxTickWidth("y2") + 15);
}, r.prototype.textAnchorForXAxisLabel = function() {
var e = this.owner;
return this.textAnchorForAxisLabel(!e.config.axis_rotated, this.getXAxisLabelPosition());
}, r.prototype.textAnchorForYAxisLabel = function() {
var e = this.owner;
return this.textAnchorForAxisLabel(e.config.axis_rotated, this.getYAxisLabelPosition());
}, r.prototype.textAnchorForY2AxisLabel = function() {
var e = this.owner;
return this.textAnchorForAxisLabel(e.config.axis_rotated, this.getY2AxisLabelPosition());
}, r.prototype.getMaxTickWidth = function(e, t) {
var n, i, r, o, a = this.owner, s = a.config, l = 0;
return t && a.currentMaxTickWidths[e] ? a.currentMaxTickWidths[e] : (a.svg && (n = a.filterTargetsToShow(a.data.targets), "y" === e ? (i = a.y.copy().domain(a.getYDomain(n, "y")), r = this.getYAxis(i, a.yOrient, s.axis_y_tick_format, a.yAxisTickValues, !1, !0, !0)) : "y2" === e ? (i = a.y2.copy().domain(a.getYDomain(n, "y2")), r = this.getYAxis(i, a.y2Orient, s.axis_y2_tick_format, a.y2AxisTickValues, !1, !0, !0)) : (i = a.x.copy().domain(a.getXDomain(n)), r = this.getXAxis(i, a.xOrient, a.xAxisTickFormat, a.xAxisTickValues, !1, !0, !0), this.updateXAxisTickValues(n, r)), (o = a.d3.select("body").append("div").classed("c3", !0)).append("svg").style("visibility", "hidden").style("position", "fixed").style("top", 0).style("left", 0).append("g").call(r).each(function() {
a.d3.select(this).selectAll("text").each(function() {
var e = this.getBoundingClientRect();
l < e.width && (l = e.width);
}), o.remove();
})), a.currentMaxTickWidths[e] = l <= 0 ? a.currentMaxTickWidths[e] : l, a.currentMaxTickWidths[e]);
}, r.prototype.updateLabels = function(e) {
var t = this.owner, n = t.main.select("." + c.axisX + " ." + c.axisXLabel), i = t.main.select("." + c.axisY + " ." + c.axisYLabel), r = t.main.select("." + c.axisY2 + " ." + c.axisY2Label);
(e ? n.transition() : n).attr("x", this.xForXAxisLabel.bind(this)).attr("dx", this.dxForXAxisLabel.bind(this)).attr("dy", this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)), (e ? i.transition() : i).attr("x", this.xForYAxisLabel.bind(this)).attr("dx", this.dxForYAxisLabel.bind(this)).attr("dy", this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)), (e ? r.transition() : r).attr("x", this.xForY2AxisLabel.bind(this)).attr("dx", this.dxForY2AxisLabel.bind(this)).attr("dy", this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this));
}, r.prototype.getPadding = function(e, t, n, i) {
var r = "number" == typeof e ? e : e[t];
return u(r) ? "ratio" === e.unit ? e[t] * i : this.convertPixelsToAxisPadding(r, i) : n;
}, r.prototype.convertPixelsToAxisPadding = function(e, t) {
var n = this.owner;
return t * (e / (n.config.axis_rotated ? n.width : n.height));
}, r.prototype.generateTickValues = function(e, t, n) {
var i, r, o, a, s, l, c, u = e;
if (t) if (1 === (i = d(t) ? t() : t)) u = [ e[0] ]; else if (2 === i) u = [ e[0], e[e.length - 1] ]; else if (i > 2) {
for (a = i - 2, r = e[0], s = ((o = e[e.length - 1]) - r) / (a + 1), u = [ r ], l = 0; l < a; l++) c = +r + s * (l + 1), u.push(n ? new Date(c) : c);
u.push(o);
}
return n || (u = u.sort(function(e, t) {
return e - t;
})), u;
}, r.prototype.generateTransitions = function(e) {
var t = this.owner.axes;
return {
axisX: e ? t.x.transition().duration(e) : t.x,
axisY: e ? t.y.transition().duration(e) : t.y,
axisY2: e ? t.y2.transition().duration(e) : t.y2,
axisSubX: e ? t.subx.transition().duration(e) : t.subx
};
}, r.prototype.redraw = function(e, t) {
var n = this.owner;
n.axes.x.style("opacity", t ? 0 : 1), n.axes.y.style("opacity", t ? 0 : 1), n.axes.y2.style("opacity", t ? 0 : 1), n.axes.subx.style("opacity", t ? 0 : 1), e.axisX.call(n.xAxis), e.axisY.call(n.yAxis), e.axisY2.call(n.y2Axis), e.axisSubX.call(n.subXAxis);
}, s.getClipPath = function(t) {
return "url(" + (e.navigator.appVersion.toLowerCase().indexOf("msie 9.") >= 0 ? "" : document.URL.split("#")[0]) + "#" + t + ")";
}, s.appendClip = function(e, t) {
return e.append("clipPath").attr("id", t).append("rect");
}, s.getAxisClipX = function(e) {
var t = Math.max(30, this.margin.left);
return e ? -(1 + t) : -(t - 1);
}, s.getAxisClipY = function(e) {
return e ? -20 : -this.margin.top;
}, s.getXAxisClipX = function() {
var e = this;
return e.getAxisClipX(!e.config.axis_rotated);
}, s.getXAxisClipY = function() {
var e = this;
return e.getAxisClipY(!e.config.axis_rotated);
}, s.getYAxisClipX = function() {
var e = this;
return e.config.axis_y_inner ? -1 : e.getAxisClipX(e.config.axis_rotated);
}, s.getYAxisClipY = function() {
var e = this;
return e.getAxisClipY(e.config.axis_rotated);
}, s.getAxisClipWidth = function(e) {
var t = this, n = Math.max(30, t.margin.left), i = Math.max(30, t.margin.right);
return e ? t.width + 2 + n + i : t.margin.left + 20;
}, s.getAxisClipHeight = function(e) {
return (e ? this.margin.bottom : this.margin.top + this.height) + 20;
}, s.getXAxisClipWidth = function() {
var e = this;
return e.getAxisClipWidth(!e.config.axis_rotated);
}, s.getXAxisClipHeight = function() {
var e = this;
return e.getAxisClipHeight(!e.config.axis_rotated);
}, s.getYAxisClipWidth = function() {
var e = this;
return e.getAxisClipWidth(e.config.axis_rotated) + (e.config.axis_y_inner ? 20 : 0);
}, s.getYAxisClipHeight = function() {
var e = this;
return e.getAxisClipHeight(e.config.axis_rotated);
}, s.initPie = function() {
var e = this, t = e.d3, n = e.config;
e.pie = t.layout.pie().value(function(e) {
return e.values.reduce(function(e, t) {
return e + t.value;
}, 0);
}), n.data_order || e.pie.sort(null);
}, s.updateRadius = function() {
var e = this, t = e.config, n = t.gauge_width || t.donut_width;
e.radiusExpanded = Math.min(e.arcWidth, e.arcHeight) / 2, e.radius = .95 * e.radiusExpanded, e.innerRadiusRatio = n ? (e.radius - n) / e.radius : .6, e.innerRadius = e.hasType("donut") || e.hasType("gauge") ? e.radius * e.innerRadiusRatio : 0;
}, s.updateArc = function() {
var e = this;
e.svgArc = e.getSvgArc(), e.svgArcExpanded = e.getSvgArcExpanded(), e.svgArcExpandedSub = e.getSvgArcExpanded(.98);
}, s.updateAngle = function(e) {
var t, n, i, r, o = this, a = o.config, s = !1, l = 0;
return a ? (o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t) {
s || t.data.id !== e.data.id || (s = !0, (e = t).index = l), l++;
}), isNaN(e.startAngle) && (e.startAngle = 0), isNaN(e.endAngle) && (e.endAngle = e.startAngle), o.isGaugeType(e.data) && (t = a.gauge_min, n = a.gauge_max, i = Math.PI * (a.gauge_fullCircle ? 2 : 1) / (n - t), r = e.value < t ? 0 : e.value < n ? e.value - t : n - t, e.startAngle = a.gauge_startingAngle, e.endAngle = e.startAngle + i * r), s ? e : null) : null;
}, s.getSvgArc = function() {
var e = this, t = e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius), n = function(n, i) {
var r;
return i ? t(n) : (r = e.updateAngle(n)) ? t(r) : "M 0 0";
};
return n.centroid = t.centroid, n;
}, s.getSvgArcExpanded = function(e) {
var t = this, n = t.d3.svg.arc().outerRadius(t.radiusExpanded * (e || 1)).innerRadius(t.innerRadius);
return function(e) {
var i = t.updateAngle(e);
return i ? n(i) : "M 0 0";
};
}, s.getArc = function(e, t, n) {
return n || this.isArcType(e.data) ? this.svgArc(e, t) : "M 0 0";
}, s.transformForArcLabel = function(e) {
var t, n, i, r, o, a = this, s = a.config, l = a.updateAngle(e), c = "";
return l && !a.hasType("gauge") && (t = this.svgArc.centroid(l), n = isNaN(t[0]) ? 0 : t[0], i = isNaN(t[1]) ? 0 : t[1], r = Math.sqrt(n * n + i * i), c = "translate(" + n * (o = a.hasType("donut") && s.donut_label_ratio ? d(s.donut_label_ratio) ? s.donut_label_ratio(e, a.radius, r) : s.donut_label_ratio : a.hasType("pie") && s.pie_label_ratio ? d(s.pie_label_ratio) ? s.pie_label_ratio(e, a.radius, r) : s.pie_label_ratio : a.radius && r ? (36 / a.radius > .375 ? 1.175 - 36 / a.radius : .8) * a.radius / r : 0) + "," + i * o + ")"), c;
}, s.getArcRatio = function(e) {
var t = this, n = t.config, i = Math.PI * (t.hasType("gauge") && !n.gauge_fullCircle ? 1 : 2);
return e ? (e.endAngle - e.startAngle) / i : null;
}, s.convertToArcData = function(e) {
return this.addName({
id: e.data.id,
value: e.value,
ratio: this.getArcRatio(e),
index: e.index
});
}, s.textForArcLabel = function(e) {
var t, n, i, r, o, a = this;
return a.shouldShowArcLabel() ? (t = a.updateAngle(e), n = t ? t.value : null, i = a.getArcRatio(t), r = e.data.id, a.hasType("gauge") || a.meetsArcLabelThreshold(i) ? (o = a.getArcLabelFormat()) ? o(n, i, r) : a.defaultArcValueFormat(n, i) : "") : "";
}, s.expandArc = function(t) {
var n, i = this;
i.transiting ? n = e.setInterval(function() {
i.transiting || (e.clearInterval(n), i.legend.selectAll(".c3-legend-item-focused").size() > 0 && i.expandArc(t));
}, 10) : (t = i.mapToTargetIds(t), i.svg.selectAll(i.selectorTargets(t, "." + c.chartArc)).each(function(e) {
i.shouldExpand(e.data.id) && i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(e.data.id)).attr("d", i.svgArcExpanded).transition().duration(2 * i.expandDuration(e.data.id)).attr("d", i.svgArcExpandedSub).each(function(e) {
i.isDonutType(e.data);
});
}));
}, s.unexpandArc = function(e) {
var t = this;
t.transiting || (e = t.mapToTargetIds(e), t.svg.selectAll(t.selectorTargets(e, "." + c.chartArc)).selectAll("path").transition().duration(function(e) {
return t.expandDuration(e.data.id);
}).attr("d", t.svgArc), t.svg.selectAll("." + c.arc).style("opacity", 1));
}, s.expandDuration = function(e) {
var t = this, n = t.config;
return t.isDonutType(e) ? n.donut_expand_duration : t.isGaugeType(e) ? n.gauge_expand_duration : t.isPieType(e) ? n.pie_expand_duration : 50;
}, s.shouldExpand = function(e) {
var t = this, n = t.config;
return t.isDonutType(e) && n.donut_expand || t.isGaugeType(e) && n.gauge_expand || t.isPieType(e) && n.pie_expand;
}, s.shouldShowArcLabel = function() {
var e = this, t = e.config, n = !0;
return e.hasType("donut") ? n = t.donut_label_show : e.hasType("pie") && (n = t.pie_label_show), n;
}, s.meetsArcLabelThreshold = function(e) {
var t = this, n = t.config;
return e >= (t.hasType("donut") ? n.donut_label_threshold : n.pie_label_threshold);
}, s.getArcLabelFormat = function() {
var e = this, t = e.config, n = t.pie_label_format;
return e.hasType("gauge") ? n = t.gauge_label_format : e.hasType("donut") && (n = t.donut_label_format), n;
}, s.getArcTitle = function() {
var e = this;
return e.hasType("donut") ? e.config.donut_title : "";
}, s.updateTargetsForArc = function(e) {
var t, n = this, i = n.main, r = n.classChartArc.bind(n), o = n.classArcs.bind(n), a = n.classFocus.bind(n);
(t = i.select("." + c.chartArcs).selectAll("." + c.chartArc).data(n.pie(e)).attr("class", function(e) {
return r(e) + a(e.data);
}).enter().append("g").attr("class", r)).append("g").attr("class", o), t.append("text").attr("dy", n.hasType("gauge") ? "-.1em" : ".35em").style("opacity", 0).style("text-anchor", "middle").style("pointer-events", "none");
}, s.initArc = function() {
var e = this;
e.arcs = e.main.select("." + c.chart).append("g").attr("class", c.chartArcs).attr("transform", e.getTranslate("arc")), e.arcs.append("text").attr("class", c.chartArcsTitle).style("text-anchor", "middle").text(e.getArcTitle());
}, s.redrawArc = function(e, t, n) {
var i, r = this, o = r.d3, a = r.config, s = r.main;
(i = s.selectAll("." + c.arcs).selectAll("." + c.arc).data(r.arcData.bind(r))).enter().append("path").attr("class", r.classArc.bind(r)).style("fill", function(e) {
return r.color(e.data);
}).style("cursor", function(e) {
return a.interaction_enabled && a.data_selection_isselectable(e) ? "pointer" : null;
}).style("opacity", 0).each(function(e) {
r.isGaugeType(e.data) && (e.startAngle = e.endAngle = a.gauge_startingAngle), this._current = e;
}), i.attr("transform", function(e) {
return !r.isGaugeType(e.data) && n ? "scale(0)" : "";
}).style("opacity", function(e) {
return e === this._current ? 0 : 1;
}).on("mouseover", a.interaction_enabled ? function(e) {
var t, n;
r.transiting || (t = r.updateAngle(e)) && (n = r.convertToArcData(t), r.expandArc(t.data.id), r.api.focus(t.data.id), r.toggleFocusLegend(t.data.id, !0), r.config.data_onmouseover(n, this));
} : null).on("mousemove", a.interaction_enabled ? function(e) {
var t, n = r.updateAngle(e);
n && (t = [ r.convertToArcData(n) ], r.showTooltip(t, this));
} : null).on("mouseout", a.interaction_enabled ? function(e) {
var t, n;
r.transiting || (t = r.updateAngle(e)) && (n = r.convertToArcData(t), r.unexpandArc(t.data.id), r.api.revert(), r.revertLegend(), r.hideTooltip(), r.config.data_onmouseout(n, this));
} : null).on("click", a.interaction_enabled ? function(e, t) {
var n, i = r.updateAngle(e);
i && (n = r.convertToArcData(i), r.toggleShape && r.toggleShape(this, n, t), r.config.data_onclick.call(r.api, n, this));
} : null).each(function() {
r.transiting = !0;
}).transition().duration(e).attrTween("d", function(e) {
var t, n = r.updateAngle(e);
return n ? (isNaN(this._current.startAngle) && (this._current.startAngle = 0), isNaN(this._current.endAngle) && (this._current.endAngle = this._current.startAngle), t = o.interpolate(this._current, n), this._current = t(0), function(n) {
var i = t(n);
return i.data = e.data, r.getArc(i, !0);
}) : function() {
return "M 0 0";
};
}).attr("transform", n ? "scale(1)" : "").style("fill", function(e) {
return r.levelColor ? r.levelColor(e.data.values[0].value) : r.color(e.data.id);
}).style("opacity", 1).call(r.endall, function() {
r.transiting = !1;
}), i.exit().transition().duration(t).style("opacity", 0).remove(), s.selectAll("." + c.chartArc).select("text").style("opacity", 0).attr("class", function(e) {
return r.isGaugeType(e.data) ? c.gaugeValue : "";
}).text(r.textForArcLabel.bind(r)).attr("transform", r.transformForArcLabel.bind(r)).style("font-size", function(e) {
return r.isGaugeType(e.data) ? Math.round(r.radius / 5) + "px" : "";
}).transition().duration(e).style("opacity", function(e) {
return r.isTargetToShow(e.data.id) && r.isArcType(e.data) ? 1 : 0;
}), s.select("." + c.chartArcsTitle).style("opacity", r.hasType("donut") || r.hasType("gauge") ? 1 : 0), r.hasType("gauge") && (r.arcs.select("." + c.chartArcsBackground).attr("d", function() {
var e = {
data: [ {
value: a.gauge_max
} ],
startAngle: a.gauge_startingAngle,
endAngle: -1 * a.gauge_startingAngle
};
return r.getArc(e, !0, !0);
}), r.arcs.select("." + c.chartArcsGaugeUnit).attr("dy", ".75em").text(a.gauge_label_show ? a.gauge_units : ""), r.arcs.select("." + c.chartArcsGaugeMin).attr("dx", -1 * (r.innerRadius + (r.radius - r.innerRadius) / (a.gauge_fullCircle ? 1 : 2)) + "px").attr("dy", "1.2em").text(a.gauge_label_show ? a.gauge_min : ""), r.arcs.select("." + c.chartArcsGaugeMax).attr("dx", r.innerRadius + (r.radius - r.innerRadius) / (a.gauge_fullCircle ? 1 : 2) + "px").attr("dy", "1.2em").text(a.gauge_label_show ? a.gauge_max : ""));
}, s.initGauge = function() {
var e = this.arcs;
this.hasType("gauge") && (e.append("path").attr("class", c.chartArcsBackground), e.append("text").attr("class", c.chartArcsGaugeUnit).style("text-anchor", "middle").style("pointer-events", "none"), e.append("text").attr("class", c.chartArcsGaugeMin).style("text-anchor", "middle").style("pointer-events", "none"), e.append("text").attr("class", c.chartArcsGaugeMax).style("text-anchor", "middle").style("pointer-events", "none"));
}, s.getGaugeLabelHeight = function() {
return this.config.gauge_label_show ? 20 : 0;
}, s.initRegion = function() {
var e = this;
e.region = e.main.append("g").attr("clip-path", e.clipPath).attr("class", c.regions);
}, s.updateRegion = function(e) {
var t = this, n = t.config;
t.region.style("visibility", t.hasArcType() ? "hidden" : "visible"), t.mainRegion = t.main.select("." + c.regions).selectAll("." + c.region).data(n.regions), t.mainRegion.enter().append("g").append("rect").style("fill-opacity", 0), t.mainRegion.attr("class", t.classRegion.bind(t)), t.mainRegion.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawRegion = function(e) {
var t = this, n = t.mainRegion.selectAll("rect").each(function() {
var e = t.d3.select(this.parentNode).datum();
t.d3.select(this).datum(e);
}), i = t.regionX.bind(t), r = t.regionY.bind(t), o = t.regionWidth.bind(t), a = t.regionHeight.bind(t);
return [ (e ? n.transition() : n).attr("x", i).attr("y", r).attr("width", o).attr("height", a).style("fill-opacity", function(e) {
return u(e.opacity) ? e.opacity : .1;
}) ];
}, s.regionX = function(e) {
var t = this, n = t.config, i = "y" === e.axis ? t.y : t.y2;
return "y" === e.axis || "y2" === e.axis ? n.axis_rotated && "start" in e ? i(e.start) : 0 : n.axis_rotated ? 0 : "start" in e ? t.x(t.isTimeSeries() ? t.parseDate(e.start) : e.start) : 0;
}, s.regionY = function(e) {
var t = this, n = t.config, i = "y" === e.axis ? t.y : t.y2;
return "y" === e.axis || "y2" === e.axis ? n.axis_rotated ? 0 : "end" in e ? i(e.end) : 0 : n.axis_rotated && "start" in e ? t.x(t.isTimeSeries() ? t.parseDate(e.start) : e.start) : 0;
}, s.regionWidth = function(e) {
var t, n = this, i = n.config, r = n.regionX(e), o = "y" === e.axis ? n.y : n.y2;
return (t = "y" === e.axis || "y2" === e.axis ? i.axis_rotated && "end" in e ? o(e.end) : n.width : i.axis_rotated ? n.width : "end" in e ? n.x(n.isTimeSeries() ? n.parseDate(e.end) : e.end) : n.width) < r ? 0 : t - r;
}, s.regionHeight = function(e) {
var t, n = this, i = n.config, r = this.regionY(e), o = "y" === e.axis ? n.y : n.y2;
return (t = "y" === e.axis || "y2" === e.axis ? i.axis_rotated ? n.height : "start" in e ? o(e.start) : n.height : i.axis_rotated && "end" in e ? n.x(n.isTimeSeries() ? n.parseDate(e.end) : e.end) : n.height) < r ? 0 : t - r;
}, s.isRegionOnX = function(e) {
return !e.axis || "x" === e.axis;
}, s.drag = function(e) {
var t, n, i, r, o, a, s, l, u = this, d = u.config, h = u.main, f = u.d3;
u.hasArcType() || d.data_selection_enabled && (d.zoom_enabled && !u.zoom.altDomain || d.data_selection_multiple && (t = u.dragStart[0], n = u.dragStart[1], i = e[0], r = e[1], o = Math.min(t, i), a = Math.max(t, i), s = d.data_selection_grouped ? u.margin.top : Math.min(n, r), l = d.data_selection_grouped ? u.height : Math.max(n, r), h.select("." + c.dragarea).attr("x", o).attr("y", s).attr("width", a - o).attr("height", l - s), h.selectAll("." + c.shapes).selectAll("." + c.shape).filter(function(e) {
return d.data_selection_isselectable(e);
}).each(function(e, t) {
var n, i, r, d, h, p, g = f.select(this), m = g.classed(c.SELECTED), v = g.classed(c.INCLUDED), y = !1;
if (g.classed(c.circle)) n = 1 * g.attr("cx"), i = 1 * g.attr("cy"), h = u.togglePoint, y = o < n && n < a && s < i && i < l; else {
if (!g.classed(c.bar)) return;
n = (p = x(this)).x, i = p.y, r = p.width, d = p.height, h = u.togglePath, y = !(a < n || n + r < o || l < i || i + d < s);
}
y ^ v && (g.classed(c.INCLUDED, !v), g.classed(c.SELECTED, !m), h.call(u, !m, g, e, t));
})));
}, s.dragstart = function(e) {
var t = this, n = t.config;
t.hasArcType() || n.data_selection_enabled && (t.dragStart = e, t.main.select("." + c.chart).append("rect").attr("class", c.dragarea).style("opacity", .1), t.dragging = !0);
}, s.dragend = function() {
var e = this, t = e.config;
e.hasArcType() || t.data_selection_enabled && (e.main.select("." + c.dragarea).transition().duration(100).style("opacity", 0).remove(), e.main.selectAll("." + c.shape).classed(c.INCLUDED, !1), e.dragging = !1);
}, s.selectPoint = function(e, t, n) {
var i = this, r = i.config, o = (r.axis_rotated ? i.circleY : i.circleX).bind(i), a = (r.axis_rotated ? i.circleX : i.circleY).bind(i), s = i.pointSelectR.bind(i);
r.data_onselected.call(i.api, t, e.node()), i.main.select("." + c.selectedCircles + i.getTargetSelectorSuffix(t.id)).selectAll("." + c.selectedCircle + "-" + n).data([ t ]).enter().append("circle").attr("class", function() {
return i.generateClass(c.selectedCircle, n);
}).attr("cx", o).attr("cy", a).attr("stroke", function() {
return i.color(t);
}).attr("r", function(e) {
return 1.4 * i.pointSelectR(e);
}).transition().duration(100).attr("r", s);
}, s.unselectPoint = function(e, t, n) {
var i = this;
i.config.data_onunselected.call(i.api, t, e.node()), i.main.select("." + c.selectedCircles + i.getTargetSelectorSuffix(t.id)).selectAll("." + c.selectedCircle + "-" + n).transition().duration(100).attr("r", 0).remove();
}, s.togglePoint = function(e, t, n, i) {
e ? this.selectPoint(t, n, i) : this.unselectPoint(t, n, i);
}, s.selectPath = function(e, t) {
var n = this;
n.config.data_onselected.call(n, t, e.node()), n.config.interaction_brighten && e.transition().duration(100).style("fill", function() {
return n.d3.rgb(n.color(t)).brighter(.75);
});
}, s.unselectPath = function(e, t) {
var n = this;
n.config.data_onunselected.call(n, t, e.node()), n.config.interaction_brighten && e.transition().duration(100).style("fill", function() {
return n.color(t);
});
}, s.togglePath = function(e, t, n, i) {
e ? this.selectPath(t, n, i) : this.unselectPath(t, n, i);
}, s.getToggle = function(e, t) {
var n, i = this;
return "circle" === e.nodeName ? n = i.isStepType(t) ? function() {} : i.togglePoint : "path" === e.nodeName && (n = i.togglePath), n;
}, s.toggleShape = function(e, t, n) {
var i = this, r = i.d3, o = i.config, a = r.select(e), s = a.classed(c.SELECTED), l = i.getToggle(e, t).bind(i);
o.data_selection_enabled && o.data_selection_isselectable(t) && (o.data_selection_multiple || i.main.selectAll("." + c.shapes + (o.data_selection_grouped ? i.getTargetSelectorSuffix(t.id) : "")).selectAll("." + c.shape).each(function(e, t) {
var n = r.select(this);
n.classed(c.SELECTED) && l(!1, n.classed(c.SELECTED, !1), e, t);
}), a.classed(c.SELECTED, !s), l(!s, a, t, n));
}, s.initBrush = function() {
var e = this, t = e.d3;
e.brush = t.svg.brush().on("brush", function() {
e.redrawForBrush();
}), e.brush.update = function() {
return e.context && e.context.select("." + c.brush).call(this), this;
}, e.brush.scale = function(t) {
return e.config.axis_rotated ? this.y(t) : this.x(t);
};
}, s.initSubchart = function() {
var e = this, t = e.config, n = e.context = e.svg.append("g").attr("transform", e.getTranslate("context")), i = t.subchart_show ? "visible" : "hidden";
n.style("visibility", i), n.append("g").attr("clip-path", e.clipPathForSubchart).attr("class", c.chart), n.select("." + c.chart).append("g").attr("class", c.chartBars), n.select("." + c.chart).append("g").attr("class", c.chartLines), n.append("g").attr("clip-path", e.clipPath).attr("class", c.brush).call(e.brush), e.axes.subx = n.append("g").attr("class", c.axisX).attr("transform", e.getTranslate("subx")).attr("clip-path", t.axis_rotated ? "" : e.clipPathForXAxis).style("visibility", t.subchart_axis_x_show ? i : "hidden");
}, s.updateTargetsForSubchart = function(e) {
var t, n = this, i = n.context, r = n.config, o = n.classChartBar.bind(n), a = n.classBars.bind(n), s = n.classChartLine.bind(n), l = n.classLines.bind(n), u = n.classAreas.bind(n);
r.subchart_show && (i.select("." + c.chartBars).selectAll("." + c.chartBar).data(e).attr("class", o).enter().append("g").style("opacity", 0).attr("class", o).append("g").attr("class", a), (t = i.select("." + c.chartLines).selectAll("." + c.chartLine).data(e).attr("class", s).enter().append("g").style("opacity", 0).attr("class", s)).append("g").attr("class", l), t.append("g").attr("class", u), i.selectAll("." + c.brush + " rect").attr(r.axis_rotated ? "width" : "height", r.axis_rotated ? n.width2 : n.height2));
}, s.updateBarForSubchart = function(e) {
var t = this;
t.contextBar = t.context.selectAll("." + c.bars).selectAll("." + c.bar).data(t.barData.bind(t)), t.contextBar.enter().append("path").attr("class", t.classBar.bind(t)).style("stroke", "none").style("fill", t.color), t.contextBar.style("opacity", t.initialOpacity.bind(t)), t.contextBar.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawBarForSubchart = function(e, t, n) {
(t ? this.contextBar.transition(Math.random().toString()).duration(n) : this.contextBar).attr("d", e).style("opacity", 1);
}, s.updateLineForSubchart = function(e) {
var t = this;
t.contextLine = t.context.selectAll("." + c.lines).selectAll("." + c.line).data(t.lineData.bind(t)), t.contextLine.enter().append("path").attr("class", t.classLine.bind(t)).style("stroke", t.color), t.contextLine.style("opacity", t.initialOpacity.bind(t)), t.contextLine.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawLineForSubchart = function(e, t, n) {
(t ? this.contextLine.transition(Math.random().toString()).duration(n) : this.contextLine).attr("d", e).style("opacity", 1);
}, s.updateAreaForSubchart = function(e) {
var t = this, n = t.d3;
t.contextArea = t.context.selectAll("." + c.areas).selectAll("." + c.area).data(t.lineData.bind(t)), t.contextArea.enter().append("path").attr("class", t.classArea.bind(t)).style("fill", t.color).style("opacity", function() {
return t.orgAreaOpacity = +n.select(this).style("opacity"), 0;
}), t.contextArea.style("opacity", 0), t.contextArea.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawAreaForSubchart = function(e, t, n) {
(t ? this.contextArea.transition(Math.random().toString()).duration(n) : this.contextArea).attr("d", e).style("fill", this.color).style("opacity", this.orgAreaOpacity);
}, s.redrawSubchart = function(e, t, n, i, r, o, a) {
var s, l, c, u = this, d = u.d3, h = u.config;
u.context.style("visibility", h.subchart_show ? "visible" : "hidden"), h.subchart_show && (d.event && "zoom" === d.event.type && u.brush.extent(u.x.orgDomain()).update(), e && (u.brush.empty() || u.brush.extent(u.x.orgDomain()).update(), s = u.generateDrawArea(r, !0), l = u.generateDrawBar(o, !0), c = u.generateDrawLine(a, !0), u.updateBarForSubchart(n), u.updateLineForSubchart(n), u.updateAreaForSubchart(n), u.redrawBarForSubchart(l, n, n), u.redrawLineForSubchart(c, n, n), u.redrawAreaForSubchart(s, n, n)));
}, s.redrawForBrush = function() {
var e = this, t = e.x;
e.redraw({
withTransition: !1,
withY: e.config.zoom_rescale,
withSubchart: !1,
withUpdateXDomain: !0,
withDimension: !1
}), e.config.subchart_onbrush.call(e.api, t.orgDomain());
}, s.transformContext = function(e, t) {
var n, i = this;
t && t.axisSubX ? n = t.axisSubX : (n = i.context.select("." + c.axisX), e && (n = n.transition())), i.context.attr("transform", i.getTranslate("context")), n.attr("transform", i.getTranslate("subx"));
}, s.getDefaultExtent = function() {
var e = this, t = e.config, n = d(t.axis_x_extent) ? t.axis_x_extent(e.getXDomain(e.data.targets)) : t.axis_x_extent;
return e.isTimeSeries() && (n = [ e.parseDate(n[0]), e.parseDate(n[1]) ]), n;
}, s.initZoom = function() {
var e, t = this, n = t.d3, i = t.config;
t.zoom = n.behavior.zoom().on("zoomstart", function() {
e = n.event.sourceEvent, t.zoom.altDomain = n.event.sourceEvent.altKey ? t.x.orgDomain() : null, i.zoom_onzoomstart.call(t.api, n.event.sourceEvent);
}).on("zoom", function() {
t.redrawForZoom.call(t);
}).on("zoomend", function() {
var r = n.event.sourceEvent;
r && e.clientX === r.clientX && e.clientY === r.clientY || (t.redrawEventRect(), t.updateZoom(), i.zoom_onzoomend.call(t.api, t.x.orgDomain()));
}), t.zoom.scale = function(e) {
return i.axis_rotated ? this.y(e) : this.x(e);
}, t.zoom.orgScaleExtent = function() {
var e = i.zoom_extent ? i.zoom_extent : [ 1, 10 ];
return [ e[0], Math.max(t.getMaxDataCount() / e[1], e[1]) ];
}, t.zoom.updateScaleExtent = function() {
var e = v(t.x.orgDomain()) / v(t.getZoomDomain()), n = this.orgScaleExtent();
return this.scaleExtent([ n[0] * e, n[1] * e ]), this;
};
}, s.getZoomDomain = function() {
var e = this, t = e.config, n = e.d3;
return [ n.min([ e.orgXDomain[0], t.zoom_x_min ]), n.max([ e.orgXDomain[1], t.zoom_x_max ]) ];
}, s.updateZoom = function() {
var e = this, t = e.config.zoom_enabled ? e.zoom : function() {};
e.main.select("." + c.zoomRect).call(t).on("dblclick.zoom", null), e.main.selectAll("." + c.eventRect).call(t).on("dblclick.zoom", null);
}, s.redrawForZoom = function() {
var e = this, t = e.d3, n = e.config, i = e.zoom, r = e.x;
if (n.zoom_enabled && 0 !== e.filterTargetsToShow(e.data.targets).length) {
if ("mousemove" === t.event.sourceEvent.type && i.altDomain) return r.domain(i.altDomain), void i.scale(r).updateScaleExtent();
e.isCategorized() && r.orgDomain()[0] === e.orgXDomain[0] && r.domain([ e.orgXDomain[0] - 1e-10, r.orgDomain()[1] ]), e.redraw({
withTransition: !1,
withY: n.zoom_rescale,
withSubchart: !1,
withEventRect: !1,
withDimension: !1
}), "mousemove" === t.event.sourceEvent.type && (e.cancelClick = !0), n.zoom_onzoom.call(e.api, r.orgDomain());
}
}, s.generateColor = function() {
var e = this, t = e.config, n = e.d3, i = t.data_colors, r = b(t.color_pattern) ? t.color_pattern : n.scale.category10().range(), o = t.data_color, a = [];
return function(e) {
var t, n = e.id || e.data && e.data.id || e;
return i[n] instanceof Function ? t = i[n](e) : i[n] ? t = i[n] : (a.indexOf(n) < 0 && a.push(n), t = r[a.indexOf(n) % r.length], i[n] = t), o instanceof Function ? o(t, e) : t;
};
}, s.generateLevelColor = function() {
var e = this.config, t = e.color_pattern, n = e.color_threshold, i = "value" === n.unit, r = n.values && n.values.length ? n.values : [], o = n.max || 100;
return b(e.color_threshold) ? function(e) {
var n, a = t[t.length - 1];
for (n = 0; n < r.length; n++) if ((i ? e : 100 * e / o) < r[n]) {
a = t[n];
break;
}
return a;
} : null;
}, s.getYFormat = function(e) {
var t = this, n = e && !t.hasType("gauge") ? t.defaultArcValueFormat : t.yFormat, i = e && !t.hasType("gauge") ? t.defaultArcValueFormat : t.y2Format;
return function(e, r, o) {
return ("y2" === t.axis.getId(o) ? i : n).call(t, e, r);
};
}, s.yFormat = function(e) {
var t = this, n = t.config;
return (n.axis_y_tick_format ? n.axis_y_tick_format : t.defaultValueFormat)(e);
}, s.y2Format = function(e) {
var t = this, n = t.config;
return (n.axis_y2_tick_format ? n.axis_y2_tick_format : t.defaultValueFormat)(e);
}, s.defaultValueFormat = function(e) {
return u(e) ? +e : "";
}, s.defaultArcValueFormat = function(e, t) {
return (100 * t).toFixed(1) + "%";
}, s.dataLabelFormat = function(e) {
var t = this.config.data_labels, n = function(e) {
return u(e) ? +e : "";
};
return "function" == typeof t.format ? t.format : "object" == typeof t.format ? t.format[e] ? !0 === t.format[e] ? n : t.format[e] : function() {
return "";
} : n;
}, s.hasCaches = function(e) {
for (var t = 0; t < e.length; t++) if (!(e[t] in this.cache)) return !1;
return !0;
}, s.addCache = function(e, t) {
this.cache[e] = this.cloneTarget(t);
}, s.getCaches = function(e) {
var t, n = [];
for (t = 0; t < e.length; t++) e[t] in this.cache && n.push(this.cloneTarget(this.cache[e[t]]));
return n;
};
var c = s.CLASS = {
target: "c3-target",
chart: "c3-chart",
chartLine: "c3-chart-line",
chartLines: "c3-chart-lines",
chartBar: "c3-chart-bar",
chartBars: "c3-chart-bars",
chartText: "c3-chart-text",
chartTexts: "c3-chart-texts",
chartArc: "c3-chart-arc",
chartArcs: "c3-chart-arcs",
chartArcsTitle: "c3-chart-arcs-title",
chartArcsBackground: "c3-chart-arcs-background",
chartArcsGaugeUnit: "c3-chart-arcs-gauge-unit",
chartArcsGaugeMax: "c3-chart-arcs-gauge-max",
chartArcsGaugeMin: "c3-chart-arcs-gauge-min",
selectedCircle: "c3-selected-circle",
selectedCircles: "c3-selected-circles",
eventRect: "c3-event-rect",
eventRects: "c3-event-rects",
eventRectsSingle: "c3-event-rects-single",
eventRectsMultiple: "c3-event-rects-multiple",
zoomRect: "c3-zoom-rect",
brush: "c3-brush",
focused: "c3-focused",
defocused: "c3-defocused",
region: "c3-region",
regions: "c3-regions",
title: "c3-title",
tooltipContainer: "c3-tooltip-container",
tooltip: "c3-tooltip",
tooltipName: "c3-tooltip-name",
shape: "c3-shape",
shapes: "c3-shapes",
line: "c3-line",
lines: "c3-lines",
bar: "c3-bar",
bars: "c3-bars",
circle: "c3-circle",
circles: "c3-circles",
arc: "c3-arc",
arcs: "c3-arcs",
area: "c3-area",
areas: "c3-areas",
empty: "c3-empty",
text: "c3-text",
texts: "c3-texts",
gaugeValue: "c3-gauge-value",
grid: "c3-grid",
gridLines: "c3-grid-lines",
xgrid: "c3-xgrid",
xgrids: "c3-xgrids",
xgridLine: "c3-xgrid-line",
xgridLines: "c3-xgrid-lines",
xgridFocus: "c3-xgrid-focus",
ygrid: "c3-ygrid",
ygrids: "c3-ygrids",
ygridLine: "c3-ygrid-line",
ygridLines: "c3-ygrid-lines",
axis: "c3-axis",
axisX: "c3-axis-x",
axisXLabel: "c3-axis-x-label",
axisY: "c3-axis-y",
axisYLabel: "c3-axis-y-label",
axisY2: "c3-axis-y2",
axisY2Label: "c3-axis-y2-label",
legendBackground: "c3-legend-background",
legendItem: "c3-legend-item",
legendItemEvent: "c3-legend-item-event",
legendItemTile: "c3-legend-item-tile",
legendItemHidden: "c3-legend-item-hidden",
legendItemFocused: "c3-legend-item-focused",
dragarea: "c3-dragarea",
EXPANDED: "_expanded_",
SELECTED: "_selected_",
INCLUDED: "_included_"
};
s.generateClass = function(e, t) {
return " " + e + " " + e + this.getTargetSelectorSuffix(t);
}, s.classText = function(e) {
return this.generateClass(c.text, e.index);
}, s.classTexts = function(e) {
return this.generateClass(c.texts, e.id);
}, s.classShape = function(e) {
return this.generateClass(c.shape, e.index);
}, s.classShapes = function(e) {
return this.generateClass(c.shapes, e.id);
}, s.classLine = function(e) {
return this.classShape(e) + this.generateClass(c.line, e.id);
}, s.classLines = function(e) {
return this.classShapes(e) + this.generateClass(c.lines, e.id);
}, s.classCircle = function(e) {
return this.classShape(e) + this.generateClass(c.circle, e.index);
}, s.classCircles = function(e) {
return this.classShapes(e) + this.generateClass(c.circles, e.id);
}, s.classBar = function(e) {
return this.classShape(e) + this.generateClass(c.bar, e.index);
}, s.classBars = function(e) {
return this.classShapes(e) + this.generateClass(c.bars, e.id);
}, s.classArc = function(e) {
return this.classShape(e.data) + this.generateClass(c.arc, e.data.id);
}, s.classArcs = function(e) {
return this.classShapes(e.data) + this.generateClass(c.arcs, e.data.id);
}, s.classArea = function(e) {
return this.classShape(e) + this.generateClass(c.area, e.id);
}, s.classAreas = function(e) {
return this.classShapes(e) + this.generateClass(c.areas, e.id);
}, s.classRegion = function(e, t) {
return this.generateClass(c.region, t) + " " + ("class" in e ? e.class : "");
}, s.classEvent = function(e) {
return this.generateClass(c.eventRect, e.index);
}, s.classTarget = function(e) {
var t = this, n = t.config.data_classes[e], i = "";
return n && (i = " " + c.target + "-" + n), t.generateClass(c.target, e) + i;
}, s.classFocus = function(e) {
return this.classFocused(e) + this.classDefocused(e);
}, s.classFocused = function(e) {
return " " + (this.focusedTargetIds.indexOf(e.id) >= 0 ? c.focused : "");
}, s.classDefocused = function(e) {
return " " + (this.defocusedTargetIds.indexOf(e.id) >= 0 ? c.defocused : "");
}, s.classChartText = function(e) {
return c.chartText + this.classTarget(e.id);
}, s.classChartLine = function(e) {
return c.chartLine + this.classTarget(e.id);
}, s.classChartBar = function(e) {
return c.chartBar + this.classTarget(e.id);
}, s.classChartArc = function(e) {
return c.chartArc + this.classTarget(e.data.id);
}, s.getTargetSelectorSuffix = function(e) {
return e || 0 === e ? ("-" + e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g, "-") : "";
}, s.selectorTarget = function(e, t) {
return (t || "") + "." + c.target + this.getTargetSelectorSuffix(e);
}, s.selectorTargets = function(e, t) {
var n = this;
return (e = e || []).length ? e.map(function(e) {
return n.selectorTarget(e, t);
}) : null;
}, s.selectorLegend = function(e) {
return "." + c.legendItem + this.getTargetSelectorSuffix(e);
}, s.selectorLegends = function(e) {
var t = this;
return e && e.length ? e.map(function(e) {
return t.selectorLegend(e);
}) : null;
};
var u = s.isValue = function(e) {
return e || 0 === e;
}, d = s.isFunction = function(e) {
return "function" == typeof e;
}, h = s.isString = function(e) {
return "string" == typeof e;
}, f = s.isUndefined = function(e) {
return void 0 === e;
}, p = s.isDefined = function(e) {
return void 0 !== e;
}, g = s.ceil10 = function(e) {
return 10 * Math.ceil(e / 10);
}, m = s.asHalfPixel = function(e) {
return Math.ceil(e) + .5;
}, v = s.diffDomain = function(e) {
return e[1] - e[0];
}, y = s.isEmpty = function(e) {
return void 0 === e || null === e || h(e) && 0 === e.length || "object" == typeof e && 0 === Object.keys(e).length;
}, b = s.notEmpty = function(e) {
return !s.isEmpty(e);
}, _ = s.getOption = function(e, t, n) {
return p(e[t]) ? e[t] : n;
}, w = s.hasValue = function(e, t) {
var n = !1;
return Object.keys(e).forEach(function(i) {
e[i] === t && (n = !0);
}), n;
}, C = s.sanitise = function(e) {
return "string" == typeof e ? e.replace(/</g, "&lt;").replace(/>/g, "&gt;") : e;
}, x = s.getPathBox = function(e) {
var t = e.getBoundingClientRect(), n = [ e.pathSegList.getItem(0), e.pathSegList.getItem(1) ];
return {
x: n[0].x,
y: Math.min(n[0].y, n[1].y),
width: t.width,
height: t.height
};
};
a.focus = function(e) {
var t, n = this.internal;
e = n.mapToTargetIds(e), t = n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow, n))), this.revert(), this.defocus(), t.classed(c.focused, !0).classed(c.defocused, !1), n.hasArcType() && n.expandArc(e), n.toggleFocusLegend(e, !0), n.focusedTargetIds = e, n.defocusedTargetIds = n.defocusedTargetIds.filter(function(t) {
return e.indexOf(t) < 0;
});
}, a.defocus = function(e) {
var t = this.internal;
e = t.mapToTargetIds(e), t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow, t))).classed(c.focused, !1).classed(c.defocused, !0), t.hasArcType() && t.unexpandArc(e), t.toggleFocusLegend(e, !1), t.focusedTargetIds = t.focusedTargetIds.filter(function(t) {
return e.indexOf(t) < 0;
}), t.defocusedTargetIds = e;
}, a.revert = function(e) {
var t = this.internal;
e = t.mapToTargetIds(e), t.svg.selectAll(t.selectorTargets(e)).classed(c.focused, !1).classed(c.defocused, !1), t.hasArcType() && t.unexpandArc(e), t.config.legend_show && (t.showLegend(e.filter(t.isLegendToShow.bind(t))), t.legend.selectAll(t.selectorLegends(e)).filter(function() {
return t.d3.select(this).classed(c.legendItemFocused);
}).classed(c.legendItemFocused, !1)), t.focusedTargetIds = [], t.defocusedTargetIds = [];
}, a.show = function(e, t) {
var n, i = this.internal;
e = i.mapToTargetIds(e), t = t || {}, i.removeHiddenTargetIds(e), (n = i.svg.selectAll(i.selectorTargets(e))).transition().style("opacity", 1, "important").call(i.endall, function() {
n.style("opacity", null).style("opacity", 1);
}), t.withLegend && i.showLegend(e), i.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
});
}, a.hide = function(e, t) {
var n, i = this.internal;
e = i.mapToTargetIds(e), t = t || {}, i.addHiddenTargetIds(e), (n = i.svg.selectAll(i.selectorTargets(e))).transition().style("opacity", 0, "important").call(i.endall, function() {
n.style("opacity", null).style("opacity", 0);
}), t.withLegend && i.hideLegend(e), i.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
});
}, a.toggle = function(e, t) {
var n = this, i = this.internal;
i.mapToTargetIds(e).forEach(function(e) {
i.isTargetToShow(e) ? n.hide(e, t) : n.show(e, t);
});
}, a.zoom = function(e) {
var t = this.internal;
return e && (t.isTimeSeries() && (e = e.map(function(e) {
return t.parseDate(e);
})), t.brush.extent(e), t.redraw({
withUpdateXDomain: !0,
withY: t.config.zoom_rescale
}), t.config.zoom_onzoom.call(this, t.x.orgDomain())), t.brush.extent();
}, a.zoom.enable = function(e) {
var t = this.internal;
t.config.zoom_enabled = e, t.updateAndRedraw();
}, a.unzoom = function() {
var e = this.internal;
e.brush.clear().update(), e.redraw({
withUpdateXDomain: !0
});
}, a.zoom.max = function(e) {
var t = this.internal, n = t.config, i = t.d3;
if (0 !== e && !e) return n.zoom_x_max;
n.zoom_x_max = i.max([ t.orgXDomain[1], e ]);
}, a.zoom.min = function(e) {
var t = this.internal, n = t.config, i = t.d3;
if (0 !== e && !e) return n.zoom_x_min;
n.zoom_x_min = i.min([ t.orgXDomain[0], e ]);
}, a.zoom.range = function(e) {
if (!arguments.length) return {
max: this.domain.max(),
min: this.domain.min()
};
p(e.max) && this.domain.max(e.max), p(e.min) && this.domain.min(e.min);
}, a.load = function(e) {
var t = this.internal, n = t.config;
e.xs && t.addXs(e.xs), "names" in e && a.data.names.bind(this)(e.names), "classes" in e && Object.keys(e.classes).forEach(function(t) {
n.data_classes[t] = e.classes[t];
}), "categories" in e && t.isCategorized() && (n.axis_x_categories = e.categories), "axes" in e && Object.keys(e.axes).forEach(function(t) {
n.data_axes[t] = e.axes[t];
}), "colors" in e && Object.keys(e.colors).forEach(function(t) {
n.data_colors[t] = e.colors[t];
}), "cacheIds" in e && t.hasCaches(e.cacheIds) ? t.load(t.getCaches(e.cacheIds), e.done) : "unload" in e ? t.unload(t.mapToTargetIds("boolean" == typeof e.unload && e.unload ? null : e.unload), function() {
t.loadFromArgs(e);
}) : t.loadFromArgs(e);
}, a.unload = function(e) {
var t = this.internal;
(e = e || {}) instanceof Array ? e = {
ids: e
} : "string" == typeof e && (e = {
ids: [ e ]
}), t.unload(t.mapToTargetIds(e.ids), function() {
t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
}), e.done && e.done();
});
}, a.flow = function(e) {
var t, n, i, r, o, a, s, l = this.internal, c = [], d = l.getMaxDataCount(), h = 0, f = 0;
if (e.json) n = l.convertJsonToData(e.json, e.keys); else if (e.rows) n = l.convertRowsToData(e.rows); else {
if (!e.columns) return;
n = l.convertColumnsToData(e.columns);
}
t = l.convertDataToTargets(n, !0), l.data.targets.forEach(function(e) {
var n, i, r = !1;
for (n = 0; n < t.length; n++) if (e.id === t[n].id) {
for (r = !0, e.values[e.values.length - 1] && (f = e.values[e.values.length - 1].index + 1), h = t[n].values.length, i = 0; i < h; i++) t[n].values[i].index = f + i, l.isTimeSeries() || (t[n].values[i].x = f + i);
e.values = e.values.concat(t[n].values), t.splice(n, 1);
break;
}
r || c.push(e.id);
}), l.data.targets.forEach(function(e) {
var t, n;
for (t = 0; t < c.length; t++) if (e.id === c[t]) for (f = e.values[e.values.length - 1].index + 1, n = 0; n < h; n++) e.values.push({
id: e.id,
index: f + n,
x: l.isTimeSeries() ? l.getOtherTargetX(f + n) : f + n,
value: null
});
}), l.data.targets.length && t.forEach(function(e) {
var t, n = [];
for (t = l.data.targets[0].values[0].index; t < f; t++) n.push({
id: e.id,
index: t,
x: l.isTimeSeries() ? l.getOtherTargetX(t) : t,
value: null
});
e.values.forEach(function(e) {
e.index += f, l.isTimeSeries() || (e.x += f);
}), e.values = n.concat(e.values);
}), l.data.targets = l.data.targets.concat(t), l.getMaxDataCount(), o = (r = l.data.targets[0]).values[0], p(e.to) ? (h = 0, s = l.isTimeSeries() ? l.parseDate(e.to) : e.to, r.values.forEach(function(e) {
e.x < s && h++;
})) : p(e.length) && (h = e.length), d ? 1 === d && l.isTimeSeries() && (a = (r.values[r.values.length - 1].x - o.x) / 2, i = [ new Date(+o.x - a), new Date(+o.x + a) ], l.updateXDomain(null, !0, !0, !1, i)) : (a = l.isTimeSeries() ? r.values.length > 1 ? r.values[r.values.length - 1].x - o.x : o.x - l.getXDomain(l.data.targets)[0] : 1, i = [ o.x - a, o.x ], l.updateXDomain(null, !0, !0, !1, i)), l.updateTargets(l.data.targets), l.redraw({
flow: {
index: o.index,
length: h,
duration: u(e.duration) ? e.duration : l.config.transition_duration,
done: e.done,
orgDataCount: d
},
withLegend: !0,
withTransition: d > 1,
withTrimXDomain: !1,
withUpdateXAxis: !0
});
}, s.generateFlow = function(e) {
var t = this, n = t.config, i = t.d3;
return function() {
var r, o, a, s = e.targets, l = e.flow, u = e.drawBar, d = e.drawLine, h = e.drawArea, f = e.cx, p = e.cy, g = e.xv, m = e.xForText, y = e.yForText, b = e.duration, _ = 1, w = l.index, C = l.length, x = t.getValueOnIndex(t.data.targets[0].values, w), S = t.getValueOnIndex(t.data.targets[0].values, w + C), $ = t.x.domain(), A = l.duration || b, k = l.done || function() {}, T = t.generateWait(), D = t.xgrid || i.selectAll([]), E = t.xgridLines || i.selectAll([]), F = t.mainRegion || i.selectAll([]), M = t.mainText || i.selectAll([]), I = t.mainBar || i.selectAll([]), P = t.mainLine || i.selectAll([]), L = t.mainArea || i.selectAll([]), O = t.mainCircle || i.selectAll([]);
t.flowing = !0, t.data.targets.forEach(function(e) {
e.values.splice(0, C);
}), a = t.updateXDomain(s, !0, !0), t.updateXGrid && t.updateXGrid(!0), l.orgDataCount ? r = 1 === l.orgDataCount || (x && x.x) === (S && S.x) ? t.x($[0]) - t.x(a[0]) : t.isTimeSeries() ? t.x($[0]) - t.x(a[0]) : t.x(x.x) - t.x(S.x) : 1 !== t.data.targets[0].values.length ? r = t.x($[0]) - t.x(a[0]) : t.isTimeSeries() ? (x = t.getValueOnIndex(t.data.targets[0].values, 0), S = t.getValueOnIndex(t.data.targets[0].values, t.data.targets[0].values.length - 1), r = t.x(x.x) - t.x(S.x)) : r = v(a) / 2, _ = v($) / v(a), o = "translate(" + r + ",0) scale(" + _ + ",1)", t.hideXGridFocus(), i.transition().ease("linear").duration(A).each(function() {
T.add(t.axes.x.transition().call(t.xAxis)), T.add(I.transition().attr("transform", o)), T.add(P.transition().attr("transform", o)), T.add(L.transition().attr("transform", o)), T.add(O.transition().attr("transform", o)), T.add(M.transition().attr("transform", o)), T.add(F.filter(t.isRegionOnX).transition().attr("transform", o)), T.add(D.transition().attr("transform", o)), T.add(E.transition().attr("transform", o));
}).call(T, function() {
var e, i = [], r = [], o = [];
if (C) {
for (e = 0; e < C; e++) i.push("." + c.shape + "-" + (w + e)), r.push("." + c.text + "-" + (w + e)), o.push("." + c.eventRect + "-" + (w + e));
t.svg.selectAll("." + c.shapes).selectAll(i).remove(), t.svg.selectAll("." + c.texts).selectAll(r).remove(), t.svg.selectAll("." + c.eventRects).selectAll(o).remove(), t.svg.select("." + c.xgrid).remove();
}
D.attr("transform", null).attr(t.xgridAttr), E.attr("transform", null), E.select("line").attr("x1", n.axis_rotated ? 0 : g).attr("x2", n.axis_rotated ? t.width : g), E.select("text").attr("x", n.axis_rotated ? t.width : 0).attr("y", g), I.attr("transform", null).attr("d", u), P.attr("transform", null).attr("d", d), L.attr("transform", null).attr("d", h), O.attr("transform", null).attr("cx", f).attr("cy", p), M.attr("transform", null).attr("x", m).attr("y", y).style("fill-opacity", t.opacityForText.bind(t)), F.attr("transform", null), F.select("rect").filter(t.isRegionOnX).attr("x", t.regionX.bind(t)).attr("width", t.regionWidth.bind(t)), n.interaction_enabled && t.redrawEventRect(), k(), t.flowing = !1;
});
};
}, a.selected = function(e) {
var t = this.internal, n = t.d3;
return n.merge(t.main.selectAll("." + c.shapes + t.getTargetSelectorSuffix(e)).selectAll("." + c.shape).filter(function() {
return n.select(this).classed(c.SELECTED);
}).map(function(e) {
return e.map(function(e) {
var t = e.__data__;
return t.data ? t.data : t;
});
}));
}, a.select = function(e, t, n) {
var i = this.internal, r = i.d3, o = i.config;
o.data_selection_enabled && i.main.selectAll("." + c.shapes).selectAll("." + c.shape).each(function(a, s) {
var l = r.select(this), u = a.data ? a.data.id : a.id, d = i.getToggle(this, a).bind(i), h = o.data_selection_grouped || !e || e.indexOf(u) >= 0, f = !t || t.indexOf(s) >= 0, g = l.classed(c.SELECTED);
l.classed(c.line) || l.classed(c.area) || (h && f ? o.data_selection_isselectable(a) && !g && d(!0, l.classed(c.SELECTED, !0), a, s) : p(n) && n && g && d(!1, l.classed(c.SELECTED, !1), a, s));
});
}, a.unselect = function(e, t) {
var n = this.internal, i = n.d3, r = n.config;
r.data_selection_enabled && n.main.selectAll("." + c.shapes).selectAll("." + c.shape).each(function(o, a) {
var s = i.select(this), l = o.data ? o.data.id : o.id, u = n.getToggle(this, o).bind(n), d = r.data_selection_grouped || !e || e.indexOf(l) >= 0, h = !t || t.indexOf(a) >= 0, f = s.classed(c.SELECTED);
s.classed(c.line) || s.classed(c.area) || d && h && r.data_selection_isselectable(o) && f && u(!1, s.classed(c.SELECTED, !1), o, a);
});
}, a.transform = function(e, t) {
var n = this.internal, i = [ "pie", "donut" ].indexOf(e) >= 0 ? {
withTransform: !0
} : null;
n.transformTo(t, e, i);
}, s.transformTo = function(e, t, n) {
var i = this, r = !i.hasArcType(), o = n || {
withTransitionForAxis: r
};
o.withTransitionForTransform = !1, i.transiting = !1, i.setTargetType(e, t), i.updateTargets(i.data.targets), i.updateAndRedraw(o);
}, a.groups = function(e) {
var t = this.internal, n = t.config;
return f(e) ? n.data_groups : (n.data_groups = e, t.redraw(), n.data_groups);
}, a.xgrids = function(e) {
var t = this.internal, n = t.config;
return e ? (n.grid_x_lines = e, t.redrawWithoutRescale(), n.grid_x_lines) : n.grid_x_lines;
}, a.xgrids.add = function(e) {
var t = this.internal;
return this.xgrids(t.config.grid_x_lines.concat(e || []));
}, a.xgrids.remove = function(e) {
this.internal.removeGridLines(e, !0);
}, a.ygrids = function(e) {
var t = this.internal, n = t.config;
return e ? (n.grid_y_lines = e, t.redrawWithoutRescale(), n.grid_y_lines) : n.grid_y_lines;
}, a.ygrids.add = function(e) {
var t = this.internal;
return this.ygrids(t.config.grid_y_lines.concat(e || []));
}, a.ygrids.remove = function(e) {
this.internal.removeGridLines(e, !1);
}, a.regions = function(e) {
var t = this.internal, n = t.config;
return e ? (n.regions = e, t.redrawWithoutRescale(), n.regions) : n.regions;
}, a.regions.add = function(e) {
var t = this.internal, n = t.config;
return e ? (n.regions = n.regions.concat(e), t.redrawWithoutRescale(), n.regions) : n.regions;
}, a.regions.remove = function(e) {
var t, n, i, r = this.internal, o = r.config;
return e = e || {}, t = r.getOption(e, "duration", o.transition_duration), n = r.getOption(e, "classes", [ c.region ]), i = r.main.select("." + c.regions).selectAll(n.map(function(e) {
return "." + e;
})), (t ? i.transition().duration(t) : i).style("opacity", 0).remove(), o.regions = o.regions.filter(function(e) {
var t = !1;
return !e.class || (e.class.split(" ").forEach(function(e) {
n.indexOf(e) >= 0 && (t = !0);
}), !t);
}), o.regions;
}, a.data = function(e) {
var t = this.internal.data.targets;
return void 0 === e ? t : t.filter(function(t) {
return [].concat(e).indexOf(t.id) >= 0;
});
}, a.data.shown = function(e) {
return this.internal.filterTargetsToShow(this.data(e));
}, a.data.values = function(e) {
var t, n = null;
return e && (n = (t = this.data(e))[0] ? t[0].values.map(function(e) {
return e.value;
}) : null), n;
}, a.data.names = function(e) {
return this.internal.clearLegendItemTextBoxCache(), this.internal.updateDataAttributes("names", e);
}, a.data.colors = function(e) {
return this.internal.updateDataAttributes("colors", e);
}, a.data.axes = function(e) {
return this.internal.updateDataAttributes("axes", e);
}, a.category = function(e, t) {
var n = this.internal, i = n.config;
return arguments.length > 1 && (i.axis_x_categories[e] = t, n.redraw()), i.axis_x_categories[e];
}, a.categories = function(e) {
var t = this.internal, n = t.config;
return arguments.length ? (n.axis_x_categories = e, t.redraw(), n.axis_x_categories) : n.axis_x_categories;
}, a.color = function(e) {
return this.internal.color(e);
}, a.x = function(e) {
var t = this.internal;
return arguments.length && (t.updateTargetX(t.data.targets, e), t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
})), t.data.xs;
}, a.xs = function(e) {
var t = this.internal;
return arguments.length && (t.updateTargetXs(t.data.targets, e), t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
})), t.data.xs;
}, a.axis = function() {}, a.axis.labels = function(e) {
var t = this.internal;
arguments.length && (Object.keys(e).forEach(function(n) {
t.axis.setLabelText(n, e[n]);
}), t.axis.updateLabels());
}, a.axis.max = function(e) {
var t = this.internal, n = t.config;
if (!arguments.length) return {
x: n.axis_x_max,
y: n.axis_y_max,
y2: n.axis_y2_max
};
"object" == typeof e ? (u(e.x) && (n.axis_x_max = e.x), u(e.y) && (n.axis_y_max = e.y), u(e.y2) && (n.axis_y2_max = e.y2)) : n.axis_y_max = n.axis_y2_max = e, t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
});
}, a.axis.min = function(e) {
var t = this.internal, n = t.config;
if (!arguments.length) return {
x: n.axis_x_min,
y: n.axis_y_min,
y2: n.axis_y2_min
};
"object" == typeof e ? (u(e.x) && (n.axis_x_min = e.x), u(e.y) && (n.axis_y_min = e.y), u(e.y2) && (n.axis_y2_min = e.y2)) : n.axis_y_min = n.axis_y2_min = e, t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
});
}, a.axis.range = function(e) {
if (!arguments.length) return {
max: this.axis.max(),
min: this.axis.min()
};
p(e.max) && this.axis.max(e.max), p(e.min) && this.axis.min(e.min);
}, a.legend = function() {}, a.legend.show = function(e) {
var t = this.internal;
t.showLegend(t.mapToTargetIds(e)), t.updateAndRedraw({
withLegend: !0
});
}, a.legend.hide = function(e) {
var t = this.internal;
t.hideLegend(t.mapToTargetIds(e)), t.updateAndRedraw({
withLegend: !0
});
}, a.resize = function(e) {
var t = this.internal.config;
t.size_width = e ? e.width : null, t.size_height = e ? e.height : null, this.flush();
}, a.flush = function() {
this.internal.updateAndRedraw({
withLegend: !0,
withTransition: !1,
withTransitionForTransform: !1
});
}, a.destroy = function() {
var t = this.internal;
if (e.clearInterval(t.intervalForObserveInserted), void 0 !== t.resizeTimeout && e.clearTimeout(t.resizeTimeout), e.detachEvent) e.detachEvent("onresize", t.resizeFunction); else if (e.removeEventListener) e.removeEventListener("resize", t.resizeFunction); else {
var n = e.onresize;
n && n.add && n.remove && n.remove(t.resizeFunction);
}
return t.selectChart.classed("c3", !1).html(""), Object.keys(t).forEach(function(e) {
t[e] = null;
}), null;
}, a.tooltip = function() {}, a.tooltip.show = function(e) {
var t, n, i = this.internal;
e.mouse && (n = e.mouse), e.data ? i.isMultipleX() ? (n = [ i.x(e.data.x), i.getYScale(e.data.id)(e.data.value) ], t = null) : t = u(e.data.index) ? e.data.index : i.getIndexByX(e.data.x) : void 0 !== e.x ? t = i.getIndexByX(e.x) : void 0 !== e.index && (t = e.index), i.dispatchEvent("mouseover", t, n), i.dispatchEvent("mousemove", t, n), i.config.tooltip_onshow.call(i, e.data);
}, a.tooltip.hide = function() {
this.internal.dispatchEvent("mouseout", 0), this.internal.config.tooltip_onhide.call(this);
};
var S;
s.isSafari = function() {
var t = e.navigator.userAgent;
return t.indexOf("Safari") >= 0 && t.indexOf("Chrome") < 0;
}, s.isChrome = function() {
return e.navigator.userAgent.indexOf("Chrome") >= 0;
}, Function.prototype.bind || (Function.prototype.bind = function(e) {
if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
var t = Array.prototype.slice.call(arguments, 1), n = this, i = function() {}, r = function() {
return n.apply(this instanceof i ? this : e, t.concat(Array.prototype.slice.call(arguments)));
};
return i.prototype = this.prototype, r.prototype = new i(), r;
}), "SVGPathSeg" in e || (e.SVGPathSeg = function(e, t, n) {
this.pathSegType = e, this.pathSegTypeAsLetter = t, this._owningPathSegList = n;
}, SVGPathSeg.PATHSEG_UNKNOWN = 0, SVGPathSeg.PATHSEG_CLOSEPATH = 1, SVGPathSeg.PATHSEG_MOVETO_ABS = 2, SVGPathSeg.PATHSEG_MOVETO_REL = 3, SVGPathSeg.PATHSEG_LINETO_ABS = 4, SVGPathSeg.PATHSEG_LINETO_REL = 5, SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6, SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9, SVGPathSeg.PATHSEG_ARC_ABS = 10, SVGPathSeg.PATHSEG_ARC_REL = 11, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13, SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14, SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19, SVGPathSeg.prototype._segmentChanged = function() {
this._owningPathSegList && this._owningPathSegList.segmentChanged(this);
}, e.SVGPathSegClosePath = function(e) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CLOSEPATH, "z", e);
}, SVGPathSegClosePath.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegClosePath.prototype.toString = function() {
return "[object SVGPathSegClosePath]";
}, SVGPathSegClosePath.prototype._asPathString = function() {
return this.pathSegTypeAsLetter;
}, SVGPathSegClosePath.prototype.clone = function() {
return new SVGPathSegClosePath(void 0);
}, e.SVGPathSegMovetoAbs = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_ABS, "M", e), this._x = t, this._y = n;
}, SVGPathSegMovetoAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegMovetoAbs.prototype.toString = function() {
return "[object SVGPathSegMovetoAbs]";
}, SVGPathSegMovetoAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegMovetoAbs.prototype.clone = function() {
return new SVGPathSegMovetoAbs(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegMovetoAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegMovetoAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegMovetoRel = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_REL, "m", e), this._x = t, this._y = n;
}, SVGPathSegMovetoRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegMovetoRel.prototype.toString = function() {
return "[object SVGPathSegMovetoRel]";
}, SVGPathSegMovetoRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegMovetoRel.prototype.clone = function() {
return new SVGPathSegMovetoRel(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegMovetoRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegMovetoRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoAbs = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_ABS, "L", e), this._x = t, this._y = n;
}, SVGPathSegLinetoAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoAbs.prototype.toString = function() {
return "[object SVGPathSegLinetoAbs]";
}, SVGPathSegLinetoAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegLinetoAbs.prototype.clone = function() {
return new SVGPathSegLinetoAbs(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegLinetoAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegLinetoAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoRel = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_REL, "l", e), this._x = t, this._y = n;
}, SVGPathSegLinetoRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoRel.prototype.toString = function() {
return "[object SVGPathSegLinetoRel]";
}, SVGPathSegLinetoRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegLinetoRel.prototype.clone = function() {
return new SVGPathSegLinetoRel(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegLinetoRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegLinetoRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicAbs = function(e, t, n, i, r, o, a) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, "C", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r, this._x2 = o, this._y2 = a;
}, SVGPathSegCurvetoCubicAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicAbs]";
}, SVGPathSegCurvetoCubicAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicAbs.prototype.clone = function() {
return new SVGPathSegCurvetoCubicAbs(void 0, this._x, this._y, this._x1, this._y1, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicRel = function(e, t, n, i, r, o, a) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, "c", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r, this._x2 = o, this._y2 = a;
}, SVGPathSegCurvetoCubicRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicRel]";
}, SVGPathSegCurvetoCubicRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicRel.prototype.clone = function() {
return new SVGPathSegCurvetoCubicRel(void 0, this._x, this._y, this._x1, this._y1, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticAbs = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, "Q", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r;
}, SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticAbs]";
}, SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticAbs.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticAbs(void 0, this._x, this._y, this._x1, this._y1);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticRel = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, "q", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r;
}, SVGPathSegCurvetoQuadraticRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticRel]";
}, SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticRel.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticRel(void 0, this._x, this._y, this._x1, this._y1);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegArcAbs = function(e, t, n, i, r, o, a, s) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_ABS, "A", e), this._x = t, this._y = n, this._r1 = i, this._r2 = r, this._angle = o, this._largeArcFlag = a, this._sweepFlag = s;
}, SVGPathSegArcAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegArcAbs.prototype.toString = function() {
return "[object SVGPathSegArcAbs]";
}, SVGPathSegArcAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y;
}, SVGPathSegArcAbs.prototype.clone = function() {
return new SVGPathSegArcAbs(void 0, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);
}, Object.defineProperty(SVGPathSegArcAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "r1", {
get: function() {
return this._r1;
},
set: function(e) {
this._r1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "r2", {
get: function() {
return this._r2;
},
set: function(e) {
this._r2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "angle", {
get: function() {
return this._angle;
},
set: function(e) {
this._angle = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "largeArcFlag", {
get: function() {
return this._largeArcFlag;
},
set: function(e) {
this._largeArcFlag = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "sweepFlag", {
get: function() {
return this._sweepFlag;
},
set: function(e) {
this._sweepFlag = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegArcRel = function(e, t, n, i, r, o, a, s) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_REL, "a", e), this._x = t, this._y = n, this._r1 = i, this._r2 = r, this._angle = o, this._largeArcFlag = a, this._sweepFlag = s;
}, SVGPathSegArcRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegArcRel.prototype.toString = function() {
return "[object SVGPathSegArcRel]";
}, SVGPathSegArcRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y;
}, SVGPathSegArcRel.prototype.clone = function() {
return new SVGPathSegArcRel(void 0, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);
}, Object.defineProperty(SVGPathSegArcRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "r1", {
get: function() {
return this._r1;
},
set: function(e) {
this._r1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "r2", {
get: function() {
return this._r2;
},
set: function(e) {
this._r2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "angle", {
get: function() {
return this._angle;
},
set: function(e) {
this._angle = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "largeArcFlag", {
get: function() {
return this._largeArcFlag;
},
set: function(e) {
this._largeArcFlag = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "sweepFlag", {
get: function() {
return this._sweepFlag;
},
set: function(e) {
this._sweepFlag = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoHorizontalAbs = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, "H", e), this._x = t;
}, SVGPathSegLinetoHorizontalAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoHorizontalAbs.prototype.toString = function() {
return "[object SVGPathSegLinetoHorizontalAbs]";
}, SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x;
}, SVGPathSegLinetoHorizontalAbs.prototype.clone = function() {
return new SVGPathSegLinetoHorizontalAbs(void 0, this._x);
}, Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoHorizontalRel = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, "h", e), this._x = t;
}, SVGPathSegLinetoHorizontalRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoHorizontalRel.prototype.toString = function() {
return "[object SVGPathSegLinetoHorizontalRel]";
}, SVGPathSegLinetoHorizontalRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x;
}, SVGPathSegLinetoHorizontalRel.prototype.clone = function() {
return new SVGPathSegLinetoHorizontalRel(void 0, this._x);
}, Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoVerticalAbs = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, "V", e), this._y = t;
}, SVGPathSegLinetoVerticalAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoVerticalAbs.prototype.toString = function() {
return "[object SVGPathSegLinetoVerticalAbs]";
}, SVGPathSegLinetoVerticalAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._y;
}, SVGPathSegLinetoVerticalAbs.prototype.clone = function() {
return new SVGPathSegLinetoVerticalAbs(void 0, this._y);
}, Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoVerticalRel = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, "v", e), this._y = t;
}, SVGPathSegLinetoVerticalRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoVerticalRel.prototype.toString = function() {
return "[object SVGPathSegLinetoVerticalRel]";
}, SVGPathSegLinetoVerticalRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._y;
}, SVGPathSegLinetoVerticalRel.prototype.clone = function() {
return new SVGPathSegLinetoVerticalRel(void 0, this._y);
}, Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicSmoothAbs = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, "S", e), this._x = t, this._y = n, this._x2 = i, this._y2 = r;
}, SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicSmoothAbs]";
}, SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function() {
return new SVGPathSegCurvetoCubicSmoothAbs(void 0, this._x, this._y, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicSmoothRel = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, "s", e), this._x = t, this._y = n, this._x2 = i, this._y2 = r;
}, SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicSmoothRel]";
}, SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function() {
return new SVGPathSegCurvetoCubicSmoothRel(void 0, this._x, this._y, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticSmoothAbs = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, "T", e), this._x = t, this._y = n;
}, SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticSmoothAbs]";
}, SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticSmoothRel = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, "t", e), this._x = t, this._y = n;
}, SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticSmoothRel]";
}, SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticSmoothRel(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), SVGPathElement.prototype.createSVGPathSegClosePath = function() {
return new SVGPathSegClosePath(void 0);
}, SVGPathElement.prototype.createSVGPathSegMovetoAbs = function(e, t) {
return new SVGPathSegMovetoAbs(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegMovetoRel = function(e, t) {
return new SVGPathSegMovetoRel(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegLinetoAbs = function(e, t) {
return new SVGPathSegLinetoAbs(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegLinetoRel = function(e, t) {
return new SVGPathSegLinetoRel(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function(e, t, n, i, r, o) {
return new SVGPathSegCurvetoCubicAbs(void 0, e, t, n, i, r, o);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function(e, t, n, i, r, o) {
return new SVGPathSegCurvetoCubicRel(void 0, e, t, n, i, r, o);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function(e, t, n, i) {
return new SVGPathSegCurvetoQuadraticAbs(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function(e, t, n, i) {
return new SVGPathSegCurvetoQuadraticRel(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegArcAbs = function(e, t, n, i, r, o, a) {
return new SVGPathSegArcAbs(void 0, e, t, n, i, r, o, a);
}, SVGPathElement.prototype.createSVGPathSegArcRel = function(e, t, n, i, r, o, a) {
return new SVGPathSegArcRel(void 0, e, t, n, i, r, o, a);
}, SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function(e) {
return new SVGPathSegLinetoHorizontalAbs(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function(e) {
return new SVGPathSegLinetoHorizontalRel(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function(e) {
return new SVGPathSegLinetoVerticalAbs(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function(e) {
return new SVGPathSegLinetoVerticalRel(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function(e, t, n, i) {
return new SVGPathSegCurvetoCubicSmoothAbs(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function(e, t, n, i) {
return new SVGPathSegCurvetoCubicSmoothRel(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function(e, t) {
return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function(e, t) {
return new SVGPathSegCurvetoQuadraticSmoothRel(void 0, e, t);
}), "SVGPathSegList" in e || (e.SVGPathSegList = function(e) {
this._pathElement = e, this._list = this._parsePath(this._pathElement.getAttribute("d")), this._mutationObserverConfig = {
attributes: !0,
attributeFilter: [ "d" ]
}, this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this)), this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
}, Object.defineProperty(SVGPathSegList.prototype, "numberOfItems", {
get: function() {
return this._checkPathSynchronizedToList(), this._list.length;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "pathSegList", {
get: function() {
return this._pathSegList || (this._pathSegList = new SVGPathSegList(this)), this._pathSegList;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "normalizedPathSegList", {
get: function() {
return this.pathSegList;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "animatedPathSegList", {
get: function() {
return this.pathSegList;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "animatedNormalizedPathSegList", {
get: function() {
return this.pathSegList;
},
enumerable: !0
}), SVGPathSegList.prototype._checkPathSynchronizedToList = function() {
this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());
}, SVGPathSegList.prototype._updateListFromPathMutations = function(e) {
if (this._pathElement) {
var t = !1;
e.forEach(function(e) {
"d" == e.attributeName && (t = !0);
}), t && (this._list = this._parsePath(this._pathElement.getAttribute("d")));
}
}, SVGPathSegList.prototype._writeListToPath = function() {
this._pathElementMutationObserver.disconnect(), this._pathElement.setAttribute("d", SVGPathSegList._pathSegArrayAsString(this._list)), this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
}, SVGPathSegList.prototype.segmentChanged = function(e) {
this._writeListToPath();
}, SVGPathSegList.prototype.clear = function() {
this._checkPathSynchronizedToList(), this._list.forEach(function(e) {
e._owningPathSegList = null;
}), this._list = [], this._writeListToPath();
}, SVGPathSegList.prototype.initialize = function(e) {
return this._checkPathSynchronizedToList(), this._list = [ e ], e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList.prototype._checkValidIndex = function(e) {
if (isNaN(e) || e < 0 || e >= this.numberOfItems) throw "INDEX_SIZE_ERR";
}, SVGPathSegList.prototype.getItem = function(e) {
return this._checkPathSynchronizedToList(), this._checkValidIndex(e), this._list[e];
}, SVGPathSegList.prototype.insertItemBefore = function(e, t) {
return this._checkPathSynchronizedToList(), t > this.numberOfItems && (t = this.numberOfItems), e._owningPathSegList && (e = e.clone()), this._list.splice(t, 0, e), e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList.prototype.replaceItem = function(e, t) {
return this._checkPathSynchronizedToList(), e._owningPathSegList && (e = e.clone()), this._checkValidIndex(t), this._list[t] = e, e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList.prototype.removeItem = function(e) {
this._checkPathSynchronizedToList(), this._checkValidIndex(e);
var t = this._list[e];
return this._list.splice(e, 1), this._writeListToPath(), t;
}, SVGPathSegList.prototype.appendItem = function(e) {
return this._checkPathSynchronizedToList(), e._owningPathSegList && (e = e.clone()), this._list.push(e), e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList._pathSegArrayAsString = function(e) {
var t = "", n = !0;
return e.forEach(function(e) {
n ? (n = !1, t += e._asPathString()) : t += " " + e._asPathString();
}), t;
}, SVGPathSegList.prototype._parsePath = function(e) {
if (!e || 0 == e.length) return [];
var t = this, n = function() {
this.pathSegList = [];
};
n.prototype.appendSegment = function(e) {
this.pathSegList.push(e);
};
var i = function(e) {
this._string = e, this._currentIndex = 0, this._endIndex = this._string.length, this._previousCommand = SVGPathSeg.PATHSEG_UNKNOWN, this._skipOptionalSpaces();
};
i.prototype._isCurrentSpace = function() {
var e = this._string[this._currentIndex];
return e <= " " && (" " == e || "\n" == e || "\t" == e || "\r" == e || "\f" == e);
}, i.prototype._skipOptionalSpaces = function() {
for (;this._currentIndex < this._endIndex && this._isCurrentSpace(); ) this._currentIndex++;
return this._currentIndex < this._endIndex;
}, i.prototype._skipOptionalSpacesOrDelimiter = function() {
return !(this._currentIndex < this._endIndex && !this._isCurrentSpace() && "," != this._string.charAt(this._currentIndex)) && (this._skipOptionalSpaces() && this._currentIndex < this._endIndex && "," == this._string.charAt(this._currentIndex) && (this._currentIndex++, this._skipOptionalSpaces()), this._currentIndex < this._endIndex);
}, i.prototype.hasMoreData = function() {
return this._currentIndex < this._endIndex;
}, i.prototype.peekSegmentType = function() {
var e = this._string[this._currentIndex];
return this._pathSegTypeFromChar(e);
}, i.prototype._pathSegTypeFromChar = function(e) {
switch (e) {
case "Z":
case "z":
return SVGPathSeg.PATHSEG_CLOSEPATH;

case "M":
return SVGPathSeg.PATHSEG_MOVETO_ABS;

case "m":
return SVGPathSeg.PATHSEG_MOVETO_REL;

case "L":
return SVGPathSeg.PATHSEG_LINETO_ABS;

case "l":
return SVGPathSeg.PATHSEG_LINETO_REL;

case "C":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;

case "c":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;

case "Q":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;

case "q":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;

case "A":
return SVGPathSeg.PATHSEG_ARC_ABS;

case "a":
return SVGPathSeg.PATHSEG_ARC_REL;

case "H":
return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;

case "h":
return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;

case "V":
return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;

case "v":
return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;

case "S":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;

case "s":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;

case "T":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;

case "t":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;

default:
return SVGPathSeg.PATHSEG_UNKNOWN;
}
}, i.prototype._nextCommandHelper = function(e, t) {
return ("+" == e || "-" == e || "." == e || e >= "0" && e <= "9") && t != SVGPathSeg.PATHSEG_CLOSEPATH ? t == SVGPathSeg.PATHSEG_MOVETO_ABS ? SVGPathSeg.PATHSEG_LINETO_ABS : t == SVGPathSeg.PATHSEG_MOVETO_REL ? SVGPathSeg.PATHSEG_LINETO_REL : t : SVGPathSeg.PATHSEG_UNKNOWN;
}, i.prototype.initialCommandIsMoveTo = function() {
if (!this.hasMoreData()) return !0;
var e = this.peekSegmentType();
return e == SVGPathSeg.PATHSEG_MOVETO_ABS || e == SVGPathSeg.PATHSEG_MOVETO_REL;
}, i.prototype._parseNumber = function() {
var e = 0, t = 0, n = 1, i = 0, r = 1, o = 1, a = this._currentIndex;
if (this._skipOptionalSpaces(), this._currentIndex < this._endIndex && "+" == this._string.charAt(this._currentIndex) ? this._currentIndex++ : this._currentIndex < this._endIndex && "-" == this._string.charAt(this._currentIndex) && (this._currentIndex++, r = -1), !(this._currentIndex == this._endIndex || (this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") && "." != this._string.charAt(this._currentIndex))) {
for (var s = this._currentIndex; this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9"; ) this._currentIndex++;
if (this._currentIndex != s) for (var l = this._currentIndex - 1, c = 1; l >= s; ) t += c * (this._string.charAt(l--) - "0"), c *= 10;
if (this._currentIndex < this._endIndex && "." == this._string.charAt(this._currentIndex)) {
if (++this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") return;
for (;this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9"; ) i += (this._string.charAt(this._currentIndex++) - "0") * (n *= .1);
}
if (this._currentIndex != a && this._currentIndex + 1 < this._endIndex && ("e" == this._string.charAt(this._currentIndex) || "E" == this._string.charAt(this._currentIndex)) && "x" != this._string.charAt(this._currentIndex + 1) && "m" != this._string.charAt(this._currentIndex + 1)) {
if (this._currentIndex++, "+" == this._string.charAt(this._currentIndex) ? this._currentIndex++ : "-" == this._string.charAt(this._currentIndex) && (this._currentIndex++, o = -1), this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") return;
for (;this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9"; ) e *= 10, e += this._string.charAt(this._currentIndex) - "0", this._currentIndex++;
}
var u = t + i;
if (u *= r, e && (u *= Math.pow(10, o * e)), a != this._currentIndex) return this._skipOptionalSpacesOrDelimiter(), u;
}
}, i.prototype._parseArcFlag = function() {
if (!(this._currentIndex >= this._endIndex)) {
var e = !1, t = this._string.charAt(this._currentIndex++);
if ("0" == t) e = !1; else {
if ("1" != t) return;
e = !0;
}
return this._skipOptionalSpacesOrDelimiter(), e;
}
}, i.prototype.parseSegment = function() {
var e = this._string[this._currentIndex], n = this._pathSegTypeFromChar(e);
if (n == SVGPathSeg.PATHSEG_UNKNOWN) {
if (this._previousCommand == SVGPathSeg.PATHSEG_UNKNOWN) return null;
if ((n = this._nextCommandHelper(e, this._previousCommand)) == SVGPathSeg.PATHSEG_UNKNOWN) return null;
} else this._currentIndex++;
switch (this._previousCommand = n, n) {
case SVGPathSeg.PATHSEG_MOVETO_REL:
return new SVGPathSegMovetoRel(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_MOVETO_ABS:
return new SVGPathSegMovetoAbs(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_REL:
return new SVGPathSegLinetoRel(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_ABS:
return new SVGPathSegLinetoAbs(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
return new SVGPathSegLinetoHorizontalRel(t, this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:
return new SVGPathSegLinetoHorizontalAbs(t, this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:
return new SVGPathSegLinetoVerticalRel(t, this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:
return new SVGPathSegLinetoVerticalAbs(t, this._parseNumber());

case SVGPathSeg.PATHSEG_CLOSEPATH:
return this._skipOptionalSpaces(), new SVGPathSegClosePath(t);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicRel(t, i.x, i.y, i.x1, i.y1, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicAbs(t, i.x, i.y, i.x1, i.y1, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:
i = {
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicSmoothRel(t, i.x, i.y, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:
i = {
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicSmoothAbs(t, i.x, i.y, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoQuadraticRel(t, i.x, i.y, i.x1, i.y1);

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoQuadraticAbs(t, i.x, i.y, i.x1, i.y1);

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:
return new SVGPathSegCurvetoQuadraticSmoothRel(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:
return new SVGPathSegCurvetoQuadraticSmoothAbs(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_ARC_REL:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
arcAngle: this._parseNumber(),
arcLarge: this._parseArcFlag(),
arcSweep: this._parseArcFlag(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegArcRel(t, i.x, i.y, i.x1, i.y1, i.arcAngle, i.arcLarge, i.arcSweep);

case SVGPathSeg.PATHSEG_ARC_ABS:
var i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
arcAngle: this._parseNumber(),
arcLarge: this._parseArcFlag(),
arcSweep: this._parseArcFlag(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegArcAbs(t, i.x, i.y, i.x1, i.y1, i.arcAngle, i.arcLarge, i.arcSweep);

default:
throw "Unknown path seg type.";
}
};
var r = new n(), o = new i(e);
if (!o.initialCommandIsMoveTo()) return [];
for (;o.hasMoreData(); ) {
var a = o.parseSegment();
if (!a) return [];
r.appendSegment(a);
}
return r.pathSegList;
}), "function" == typeof define && define.amd ? define("c3", [ "d3" ], function() {
return l;
}) : "undefined" != typeof exports && "undefined" != typeof module ? module.exports = l : e.c3 = l;
}(window), function(e) {
"use strict";
"function" == typeof define && define.amd ? define([ "jquery" ], function(t) {
return e(t, window, document);
}) : "object" == typeof exports ? module.exports = function(t, n) {
return t || (t = window), n || (n = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), e(n, t, t.document);
} : e(jQuery, window, document);
}(function(e, t, n, i) {
"use strict";
function r(t) {
var n, i, o = {};
e.each(t, function(e, a) {
(n = e.match(/^([^A-Z]+?)([A-Z])/)) && -1 !== "a aa ai ao as b fn i m o s ".indexOf(n[1] + " ") && (i = e.replace(n[0], n[2].toLowerCase()), o[i] = e, "o" === n[1] && r(t[e]));
}), t._hungarianMap = o;
}
function o(t, n, a) {
t._hungarianMap || r(t);
var s;
e.each(n, function(r, l) {
(s = t._hungarianMap[r]) === i || !a && n[s] !== i || ("o" === s.charAt(0) ? (n[s] || (n[s] = {}), e.extend(!0, n[s], n[r]), o(t[s], n[s], a)) : n[s] = n[r]);
});
}
function a(e) {
var t = qe.defaults.oLanguage, n = t.sDecimal;
if (n && je(n), e) {
var i = e.sZeroRecords;
!e.sEmptyTable && i && "No data available in table" === t.sEmptyTable && Fe(e, e, "sZeroRecords", "sEmptyTable"), !e.sLoadingRecords && i && "Loading..." === t.sLoadingRecords && Fe(e, e, "sZeroRecords", "sLoadingRecords"), e.sInfoThousands && (e.sThousands = e.sInfoThousands);
var r = e.sDecimal;
r && n !== r && je(r);
}
}
function s(e) {
ht(e, "ordering", "bSort"), ht(e, "orderMulti", "bSortMulti"), ht(e, "orderClasses", "bSortClasses"), ht(e, "orderCellsTop", "bSortCellsTop"), ht(e, "order", "aaSorting"), ht(e, "orderFixed", "aaSortingFixed"), ht(e, "paging", "bPaginate"), ht(e, "pagingType", "sPaginationType"), ht(e, "pageLength", "iDisplayLength"), ht(e, "searching", "bFilter"), "boolean" == typeof e.sScrollX && (e.sScrollX = e.sScrollX ? "100%" : ""), "boolean" == typeof e.scrollX && (e.scrollX = e.scrollX ? "100%" : "");
var t = e.aoSearchCols;
if (t) for (var n = 0, i = t.length; n < i; n++) t[n] && o(qe.models.oSearch, t[n]);
}
function l(t) {
ht(t, "orderable", "bSortable"), ht(t, "orderData", "aDataSort"), ht(t, "orderSequence", "asSorting"), ht(t, "orderDataType", "sortDataType");
var n = t.aDataSort;
"number" != typeof n || e.isArray(n) || (t.aDataSort = [ n ]);
}
function c(n) {
if (!qe.__browser) {
var i = {};
qe.__browser = i;
var r = e("<div/>").css({
position: "fixed",
top: 0,
left: -1 * e(t).scrollLeft(),
height: 1,
width: 1,
overflow: "hidden"
}).append(e("<div/>").css({
position: "absolute",
top: 1,
left: 1,
width: 100,
overflow: "scroll"
}).append(e("<div/>").css({
width: "100%",
height: 10
}))).appendTo("body"), o = r.children(), a = o.children();
i.barWidth = o[0].offsetWidth - o[0].clientWidth, i.bScrollOversize = 100 === a[0].offsetWidth && 100 !== o[0].clientWidth, i.bScrollbarLeft = 1 !== Math.round(a.offset().left), i.bBounding = !!r[0].getBoundingClientRect().width, r.remove();
}
e.extend(n.oBrowser, qe.__browser), n.oScroll.iBarWidth = qe.__browser.barWidth;
}
function u(e, t, n, r, o, a) {
var s, l = r, c = !1;
for (n !== i && (s = n, c = !0); l !== o; ) e.hasOwnProperty(l) && (s = c ? t(s, e[l], l, e) : e[l], c = !0, l += a);
return s;
}
function d(t, i) {
var r = qe.defaults.column, o = t.aoColumns.length, a = e.extend({}, qe.models.oColumn, r, {
nTh: i || n.createElement("th"),
sTitle: r.sTitle ? r.sTitle : i ? i.innerHTML : "",
aDataSort: r.aDataSort ? r.aDataSort : [ o ],
mData: r.mData ? r.mData : o,
idx: o
});
t.aoColumns.push(a);
var s = t.aoPreSearchCols;
s[o] = e.extend({}, qe.models.oSearch, s[o]), h(t, o, e(i).data());
}
function h(t, n, r) {
var a = t.aoColumns[n], s = t.oClasses, c = e(a.nTh);
if (!a.sWidthOrig) {
a.sWidthOrig = c.attr("width") || null;
var u = (c.attr("style") || "").match(/width:\s*(\d+[pxem%]+)/);
u && (a.sWidthOrig = u[1]);
}
r !== i && null !== r && (l(r), o(qe.defaults.column, r), r.mDataProp === i || r.mData || (r.mData = r.mDataProp), r.sType && (a._sManualType = r.sType), r.className && !r.sClass && (r.sClass = r.className), r.sClass && c.addClass(r.sClass), e.extend(a, r), Fe(a, r, "sWidth", "sWidthOrig"), r.iDataSort !== i && (a.aDataSort = [ r.iDataSort ]), Fe(a, r, "aDataSort"));
var d = a.mData, h = $(d), f = a.mRender ? $(a.mRender) : null, p = function(e) {
return "string" == typeof e && -1 !== e.indexOf("@");
};
a._bAttrSrc = e.isPlainObject(d) && (p(d.sort) || p(d.type) || p(d.filter)), a._setter = null, a.fnGetData = function(e, t, n) {
var r = h(e, t, i, n);
return f && t ? f(r, t, e, n) : r;
}, a.fnSetData = function(e, t, n) {
return A(d)(e, t, n);
}, "number" != typeof d && (t._rowReadObject = !0), t.oFeatures.bSort || (a.bSortable = !1, c.addClass(s.sSortableNone));
var g = -1 !== e.inArray("asc", a.asSorting), m = -1 !== e.inArray("desc", a.asSorting);
a.bSortable && (g || m) ? g && !m ? (a.sSortingClass = s.sSortableAsc, a.sSortingClassJUI = s.sSortJUIAscAllowed) : !g && m ? (a.sSortingClass = s.sSortableDesc, a.sSortingClassJUI = s.sSortJUIDescAllowed) : (a.sSortingClass = s.sSortable, a.sSortingClassJUI = s.sSortJUI) : (a.sSortingClass = s.sSortableNone, a.sSortingClassJUI = "");
}
function f(e) {
if (!1 !== e.oFeatures.bAutoWidth) {
var t = e.aoColumns;
ge(e);
for (var n = 0, i = t.length; n < i; n++) t[n].nTh.style.width = t[n].sWidth;
}
var r = e.oScroll;
"" === r.sY && "" === r.sX || fe(e), Le(e, null, "column-sizing", [ e ]);
}
function p(e, t) {
var n = v(e, "bVisible");
return "number" == typeof n[t] ? n[t] : null;
}
function g(t, n) {
var i = v(t, "bVisible"), r = e.inArray(n, i);
return -1 !== r ? r : null;
}
function m(t) {
var n = 0;
return e.each(t.aoColumns, function(t, i) {
i.bVisible && "none" !== e(i.nTh).css("display") && n++;
}), n;
}
function v(t, n) {
var i = [];
return e.map(t.aoColumns, function(e, t) {
e[n] && i.push(t);
}), i;
}
function y(e) {
var t, n, r, o, a, s, l, c, u, d = e.aoColumns, h = e.aoData, f = qe.ext.type.detect;
for (t = 0, n = d.length; t < n; t++) if (l = d[t], u = [], !l.sType && l._sManualType) l.sType = l._sManualType; else if (!l.sType) {
for (r = 0, o = f.length; r < o; r++) {
for (a = 0, s = h.length; a < s && (u[a] === i && (u[a] = C(e, a, t, "type")), (c = f[r](u[a], e)) || r === f.length - 1) && "html" !== c; a++) ;
if (c) {
l.sType = c;
break;
}
}
l.sType || (l.sType = "string");
}
}
function b(t, n, r, o) {
var a, s, l, c, u, h, f, p = t.aoColumns;
if (n) for (a = n.length - 1; a >= 0; a--) {
var g = (f = n[a]).targets !== i ? f.targets : f.aTargets;
for (e.isArray(g) || (g = [ g ]), l = 0, c = g.length; l < c; l++) if ("number" == typeof g[l] && g[l] >= 0) {
for (;p.length <= g[l]; ) d(t);
o(g[l], f);
} else if ("number" == typeof g[l] && g[l] < 0) o(p.length + g[l], f); else if ("string" == typeof g[l]) for (u = 0, h = p.length; u < h; u++) ("_all" == g[l] || e(p[u].nTh).hasClass(g[l])) && o(u, f);
}
if (r) for (a = 0, s = r.length; a < s; a++) o(a, r[a]);
}
function _(t, n, r, o) {
var a = t.aoData.length, s = e.extend(!0, {}, qe.models.oRow, {
src: r ? "dom" : "data",
idx: a
});
s._aData = n, t.aoData.push(s);
for (var l = t.aoColumns, c = 0, u = l.length; c < u; c++) l[c].sType = null;
t.aiDisplayMaster.push(a);
var d = t.rowIdFn(n);
return d !== i && (t.aIds[d] = s), !r && t.oFeatures.bDeferRender || M(t, a, r, o), a;
}
function w(t, n) {
var i;
return n instanceof e || (n = e(n)), n.map(function(e, n) {
return i = F(t, n), _(t, i.data, n, i.cells);
});
}
function C(e, t, n, r) {
var o = e.iDraw, a = e.aoColumns[n], s = e.aoData[t]._aData, l = a.sDefaultContent, c = a.fnGetData(s, r, {
settings: e,
row: t,
col: n
});
if (c === i) return e.iDrawError != o && null === l && (Ee(e, 0, "Requested unknown parameter " + ("function" == typeof a.mData ? "{function}" : "'" + a.mData + "'") + " for row " + t + ", column " + n, 4), e.iDrawError = o), l;
if (c !== s && null !== c || null === l || r === i) {
if ("function" == typeof c) return c.call(s);
} else c = l;
return null === c && "display" == r ? "" : c;
}
function x(e, t, n, i) {
var r = e.aoColumns[n], o = e.aoData[t]._aData;
r.fnSetData(o, i, {
settings: e,
row: t,
col: n
});
}
function S(t) {
return e.map(t.match(/(\\.|[^\.])+/g) || [ "" ], function(e) {
return e.replace(/\\\./g, ".");
});
}
function $(t) {
if (e.isPlainObject(t)) {
var n = {};
return e.each(t, function(e, t) {
t && (n[e] = $(t));
}), function(e, t, r, o) {
var a = n[t] || n._;
return a !== i ? a(e, t, r, o) : e;
};
}
if (null === t) return function(e) {
return e;
};
if ("function" == typeof t) return function(e, n, i, r) {
return t(e, n, i, r);
};
if ("string" != typeof t || -1 === t.indexOf(".") && -1 === t.indexOf("[") && -1 === t.indexOf("(")) return function(e, n) {
return e[t];
};
var r = function(t, n, o) {
var a, s, l, c;
if ("" !== o) for (var u = S(o), d = 0, h = u.length; d < h; d++) {
if (a = u[d].match(ft), s = u[d].match(pt), a) {
if (u[d] = u[d].replace(ft, ""), "" !== u[d] && (t = t[u[d]]), l = [], u.splice(0, d + 1), c = u.join("."), e.isArray(t)) for (var f = 0, p = t.length; f < p; f++) l.push(r(t[f], n, c));
var g = a[0].substring(1, a[0].length - 1);
t = "" === g ? l : l.join(g);
break;
}
if (s) u[d] = u[d].replace(pt, ""), t = t[u[d]](); else {
if (null === t || t[u[d]] === i) return i;
t = t[u[d]];
}
}
return t;
};
return function(e, n) {
return r(e, n, t);
};
}
function A(t) {
if (e.isPlainObject(t)) return A(t._);
if (null === t) return function() {};
if ("function" == typeof t) return function(e, n, i) {
t(e, "set", n, i);
};
if ("string" != typeof t || -1 === t.indexOf(".") && -1 === t.indexOf("[") && -1 === t.indexOf("(")) return function(e, n) {
e[t] = n;
};
var n = function(t, r, o) {
for (var a, s, l, c, u, d = S(o), h = d[d.length - 1], f = 0, p = d.length - 1; f < p; f++) {
if (s = d[f].match(ft), l = d[f].match(pt), s) {
if (d[f] = d[f].replace(ft, ""), t[d[f]] = [], (a = d.slice()).splice(0, f + 1), u = a.join("."), e.isArray(r)) for (var g = 0, m = r.length; g < m; g++) n(c = {}, r[g], u), t[d[f]].push(c); else t[d[f]] = r;
return;
}
l && (d[f] = d[f].replace(pt, ""), t = t[d[f]](r)), null !== t[d[f]] && t[d[f]] !== i || (t[d[f]] = {}), t = t[d[f]];
}
h.match(pt) ? t = t[h.replace(pt, "")](r) : t[h.replace(ft, "")] = r;
};
return function(e, i) {
return n(e, i, t);
};
}
function k(e) {
return ot(e.aoData, "_aData");
}
function T(e) {
e.aoData.length = 0, e.aiDisplayMaster.length = 0, e.aiDisplay.length = 0, e.aIds = {};
}
function D(e, t, n) {
for (var r = -1, o = 0, a = e.length; o < a; o++) e[o] == t ? r = o : e[o] > t && e[o]--;
-1 != r && n === i && e.splice(r, 1);
}
function E(e, t, n, r) {
var o, a, s = e.aoData[t], l = function(n, i) {
for (;n.childNodes.length; ) n.removeChild(n.firstChild);
n.innerHTML = C(e, t, i, "display");
};
if ("dom" !== n && (n && "auto" !== n || "dom" !== s.src)) {
var c = s.anCells;
if (c) if (r !== i) l(c[r], r); else for (o = 0, a = c.length; o < a; o++) l(c[o], o);
} else s._aData = F(e, s, r, r === i ? i : s._aData).data;
s._aSortData = null, s._aFilterData = null;
var u = e.aoColumns;
if (r !== i) u[r].sType = null; else {
for (o = 0, a = u.length; o < a; o++) u[o].sType = null;
I(e, s);
}
}
function F(t, n, r, o) {
var a, s, l, c = [], u = n.firstChild, d = 0, h = t.aoColumns, f = t._rowReadObject;
o = o !== i ? o : f ? {} : [];
var p = function(e, t) {
if ("string" == typeof e) {
var n = e.indexOf("@");
if (-1 !== n) {
var i = e.substring(n + 1);
A(e)(o, t.getAttribute(i));
}
}
}, g = function(t) {
r !== i && r !== d || (s = h[d], l = e.trim(t.innerHTML), s && s._bAttrSrc ? (A(s.mData._)(o, l), p(s.mData.sort, t), p(s.mData.type, t), p(s.mData.filter, t)) : f ? (s._setter || (s._setter = A(s.mData)), s._setter(o, l)) : o[d] = l), d++;
};
if (u) for (;u; ) "TD" != (a = u.nodeName.toUpperCase()) && "TH" != a || (g(u), c.push(u)), u = u.nextSibling; else for (var m = 0, v = (c = n.anCells).length; m < v; m++) g(c[m]);
var y = n.firstChild ? n : n.nTr;
if (y) {
var b = y.getAttribute("id");
b && A(t.rowId)(o, b);
}
return {
data: o,
cells: c
};
}
function M(t, i, r, o) {
var a, s, l, c, u, d = t.aoData[i], h = d._aData, f = [];
if (null === d.nTr) {
for (a = r || n.createElement("tr"), d.nTr = a, d.anCells = f, a._DT_RowIndex = i, I(t, d), c = 0, u = t.aoColumns.length; c < u; c++) l = t.aoColumns[c], (s = r ? o[c] : n.createElement(l.sCellType))._DT_CellIndex = {
row: i,
column: c
}, f.push(s), r && !l.mRender && l.mData === c || e.isPlainObject(l.mData) && l.mData._ === c + ".display" || (s.innerHTML = C(t, i, c, "display")), l.sClass && (s.className += " " + l.sClass), l.bVisible && !r ? a.appendChild(s) : !l.bVisible && r && s.parentNode.removeChild(s), l.fnCreatedCell && l.fnCreatedCell.call(t.oInstance, s, C(t, i, c), h, i, c);
Le(t, "aoRowCreatedCallback", null, [ a, h, i, f ]);
}
d.nTr.setAttribute("role", "row");
}
function I(t, n) {
var i = n.nTr, r = n._aData;
if (i) {
var o = t.rowIdFn(r);
if (o && (i.id = o), r.DT_RowClass) {
var a = r.DT_RowClass.split(" ");
n.__rowc = n.__rowc ? dt(n.__rowc.concat(a)) : a, e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass);
}
r.DT_RowAttr && e(i).attr(r.DT_RowAttr), r.DT_RowData && e(i).data(r.DT_RowData);
}
}
function P(t) {
var n, i, r, o, a, s = t.nTHead, l = t.nTFoot, c = 0 === e("th, td", s).length, u = t.oClasses, d = t.aoColumns;
for (c && (o = e("<tr/>").appendTo(s)), n = 0, i = d.length; n < i; n++) a = d[n], r = e(a.nTh).addClass(a.sClass), c && r.appendTo(o), t.oFeatures.bSort && (r.addClass(a.sSortingClass), !1 !== a.bSortable && (r.attr("tabindex", t.iTabIndex).attr("aria-controls", t.sTableId), Se(t, a.nTh, n))), a.sTitle != r[0].innerHTML && r.html(a.sTitle), Re(t, "header")(t, r, a, u);
if (c && B(t.aoHeader, s), e(s).find(">tr").attr("role", "row"), e(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH), e(l).find(">tr>th, >tr>td").addClass(u.sFooterTH), null !== l) {
var h = t.aoFooter[0];
for (n = 0, i = h.length; n < i; n++) (a = d[n]).nTf = h[n].cell, a.sClass && e(a.nTf).addClass(a.sClass);
}
}
function L(t, n, r) {
var o, a, s, l, c, u, d, h, f, p = [], g = [], m = t.aoColumns.length;
if (n) {
for (r === i && (r = !1), o = 0, a = n.length; o < a; o++) {
for (p[o] = n[o].slice(), p[o].nTr = n[o].nTr, s = m - 1; s >= 0; s--) t.aoColumns[s].bVisible || r || p[o].splice(s, 1);
g.push([]);
}
for (o = 0, a = p.length; o < a; o++) {
if (d = p[o].nTr) for (;u = d.firstChild; ) d.removeChild(u);
for (s = 0, l = p[o].length; s < l; s++) if (h = 1, f = 1, g[o][s] === i) {
for (d.appendChild(p[o][s].cell), g[o][s] = 1; p[o + h] !== i && p[o][s].cell == p[o + h][s].cell; ) g[o + h][s] = 1, h++;
for (;p[o][s + f] !== i && p[o][s].cell == p[o][s + f].cell; ) {
for (c = 0; c < h; c++) g[o + c][s + f] = 1;
f++;
}
e(p[o][s].cell).attr("rowspan", h).attr("colspan", f);
}
}
}
}
function O(t) {
var n = Le(t, "aoPreDrawCallback", "preDraw", [ t ]);
if (-1 === e.inArray(!1, n)) {
var r = [], o = 0, a = t.asStripeClasses, s = a.length, l = (t.aoOpenRows.length, t.oLanguage), c = t.iInitDisplayStart, u = "ssp" == Ne(t), d = t.aiDisplay;
t.bDrawing = !0, c !== i && -1 !== c && (t._iDisplayStart = u ? c : c >= t.fnRecordsDisplay() ? 0 : c, t.iInitDisplayStart = -1);
var h = t._iDisplayStart, f = t.fnDisplayEnd();
if (t.bDeferLoading) t.bDeferLoading = !1, t.iDraw++, de(t, !1); else if (u) {
if (!t.bDestroying && !V(t)) return;
} else t.iDraw++;
if (0 !== d.length) for (var p = u ? 0 : h, g = u ? t.aoData.length : f, v = p; v < g; v++) {
var y = d[v], b = t.aoData[y];
null === b.nTr && M(t, y);
var _ = b.nTr;
if (0 !== s) {
var w = a[o % s];
b._sRowStripe != w && (e(_).removeClass(b._sRowStripe).addClass(w), b._sRowStripe = w);
}
Le(t, "aoRowCallback", null, [ _, b._aData, o, v, y ]), r.push(_), o++;
} else {
var C = l.sZeroRecords;
1 == t.iDraw && "ajax" == Ne(t) ? C = l.sLoadingRecords : l.sEmptyTable && 0 === t.fnRecordsTotal() && (C = l.sEmptyTable), r[0] = e("<tr/>", {
class: s ? a[0] : ""
}).append(e("<td />", {
valign: "top",
colSpan: m(t),
class: t.oClasses.sRowEmpty
}).html(C))[0];
}
Le(t, "aoHeaderCallback", "header", [ e(t.nTHead).children("tr")[0], k(t), h, f, d ]), Le(t, "aoFooterCallback", "footer", [ e(t.nTFoot).children("tr")[0], k(t), h, f, d ]);
var x = e(t.nTBody);
x.children().detach(), x.append(e(r)), Le(t, "aoDrawCallback", "draw", [ t ]), t.bSorted = !1, t.bFiltered = !1, t.bDrawing = !1;
} else de(t, !1);
}
function R(e, t) {
var n = e.oFeatures, i = n.bSort, r = n.bFilter;
i && we(e), r ? G(e, e.oPreviousSearch) : e.aiDisplay = e.aiDisplayMaster.slice(), !0 !== t && (e._iDisplayStart = 0), e._drawHold = t, O(e), e._drawHold = !1;
}
function N(t) {
var n = t.oClasses, i = e(t.nTable), r = e("<div/>").insertBefore(i), o = t.oFeatures, a = e("<div/>", {
id: t.sTableId + "_wrapper",
class: n.sWrapper + (t.nTFoot ? "" : " " + n.sNoFooter)
});
t.nHolding = r[0], t.nTableWrapper = a[0], t.nTableReinsertBefore = t.nTable.nextSibling;
for (var s, l, c, u, d, h, f = t.sDom.split(""), p = 0; p < f.length; p++) {
if (s = null, "<" == (l = f[p])) {
if (c = e("<div/>")[0], "'" == (u = f[p + 1]) || '"' == u) {
for (d = "", h = 2; f[p + h] != u; ) d += f[p + h], h++;
if ("H" == d ? d = n.sJUIHeader : "F" == d && (d = n.sJUIFooter), -1 != d.indexOf(".")) {
var g = d.split(".");
c.id = g[0].substr(1, g[0].length - 1), c.className = g[1];
} else "#" == d.charAt(0) ? c.id = d.substr(1, d.length - 1) : c.className = d;
p += h;
}
a.append(c), a = e(c);
} else if (">" == l) a = a.parent(); else if ("l" == l && o.bPaginate && o.bLengthChange) s = se(t); else if ("f" == l && o.bFilter) s = q(t); else if ("r" == l && o.bProcessing) s = ue(t); else if ("t" == l) s = he(t); else if ("i" == l && o.bInfo) s = te(t); else if ("p" == l && o.bPaginate) s = le(t); else if (0 !== qe.ext.feature.length) for (var m = qe.ext.feature, v = 0, y = m.length; v < y; v++) if (l == m[v].cFeature) {
s = m[v].fnInit(t);
break;
}
if (s) {
var b = t.aanFeatures;
b[l] || (b[l] = []), b[l].push(s), a.append(s);
}
}
r.replaceWith(a), t.nHolding = null;
}
function B(t, n) {
var i, r, o, a, s, l, c, u, d, h, f, p = e(n).children("tr");
for (t.splice(0, t.length), o = 0, l = p.length; o < l; o++) t.push([]);
for (o = 0, l = p.length; o < l; o++) for (u = 0, r = (i = p[o]).firstChild; r; ) {
if ("TD" == r.nodeName.toUpperCase() || "TH" == r.nodeName.toUpperCase()) for (d = 1 * r.getAttribute("colspan"), h = 1 * r.getAttribute("rowspan"), d = d && 0 !== d && 1 !== d ? d : 1, h = h && 0 !== h && 1 !== h ? h : 1, c = function(e, t, n) {
for (var i = e[t]; i[n]; ) n++;
return n;
}(t, o, u), f = 1 === d, s = 0; s < d; s++) for (a = 0; a < h; a++) t[o + a][c + s] = {
cell: r,
unique: f
}, t[o + a].nTr = i;
r = r.nextSibling;
}
}
function j(e, t, n) {
var i = [];
n || (n = e.aoHeader, t && B(n = [], t));
for (var r = 0, o = n.length; r < o; r++) for (var a = 0, s = n[r].length; a < s; a++) !n[r][a].unique || i[a] && e.bSortCellsTop || (i[a] = n[r][a].cell);
return i;
}
function H(t, n, i) {
if (Le(t, "aoServerParams", "serverParams", [ n ]), n && e.isArray(n)) {
var r = {}, o = /(.*?)\[\]$/;
e.each(n, function(e, t) {
var n = t.name.match(o);
if (n) {
var i = n[0];
r[i] || (r[i] = []), r[i].push(t.value);
} else r[t.name] = t.value;
}), n = r;
}
var a, s = t.ajax, l = t.oInstance, c = function(e) {
Le(t, null, "xhr", [ t, e, t.jqXHR ]), i(e);
};
if (e.isPlainObject(s) && s.data) {
var u = "function" == typeof (a = s.data) ? a(n, t) : a;
n = "function" == typeof a && u ? u : e.extend(!0, n, u), delete s.data;
}
var d = {
data: n,
success: function(e) {
var n = e.error || e.sError;
n && Ee(t, 0, n), t.json = e, c(e);
},
dataType: "json",
cache: !1,
type: t.sServerMethod,
error: function(n, i, r) {
var o = Le(t, null, "xhr", [ t, null, t.jqXHR ]);
-1 === e.inArray(!0, o) && ("parsererror" == i ? Ee(t, 0, "Invalid JSON response", 1) : 4 === n.readyState && Ee(t, 0, "Ajax error", 7)), de(t, !1);
}
};
t.oAjaxData = n, Le(t, null, "preXhr", [ t, n ]), t.fnServerData ? t.fnServerData.call(l, t.sAjaxSource, e.map(n, function(e, t) {
return {
name: t,
value: e
};
}), c, t) : t.sAjaxSource || "string" == typeof s ? t.jqXHR = e.ajax(e.extend(d, {
url: s || t.sAjaxSource
})) : "function" == typeof s ? t.jqXHR = s.call(l, n, c, t) : (t.jqXHR = e.ajax(e.extend(d, s)), s.data = a);
}
function V(e) {
return !e.bAjaxDataGet || (e.iDraw++, de(e, !0), H(e, U(e), function(t) {
z(e, t);
}), !1);
}
function U(t) {
var n, i, r, o, a = t.aoColumns, s = a.length, l = t.oFeatures, c = t.oPreviousSearch, u = t.aoPreSearchCols, d = [], h = _e(t), f = t._iDisplayStart, p = !1 !== l.bPaginate ? t._iDisplayLength : -1, g = function(e, t) {
d.push({
name: e,
value: t
});
};
g("sEcho", t.iDraw), g("iColumns", s), g("sColumns", ot(a, "sName").join(",")), g("iDisplayStart", f), g("iDisplayLength", p);
var m = {
draw: t.iDraw,
columns: [],
order: [],
start: f,
length: p,
search: {
value: c.sSearch,
regex: c.bRegex
}
};
for (n = 0; n < s; n++) r = a[n], o = u[n], i = "function" == typeof r.mData ? "function" : r.mData, m.columns.push({
data: i,
name: r.sName,
searchable: r.bSearchable,
orderable: r.bSortable,
search: {
value: o.sSearch,
regex: o.bRegex
}
}), g("mDataProp_" + n, i), l.bFilter && (g("sSearch_" + n, o.sSearch), g("bRegex_" + n, o.bRegex), g("bSearchable_" + n, r.bSearchable)), l.bSort && g("bSortable_" + n, r.bSortable);
l.bFilter && (g("sSearch", c.sSearch), g("bRegex", c.bRegex)), l.bSort && (e.each(h, function(e, t) {
m.order.push({
column: t.col,
dir: t.dir
}), g("iSortCol_" + e, t.col), g("sSortDir_" + e, t.dir);
}), g("iSortingCols", h.length));
var v = qe.ext.legacy.ajax;
return null === v ? t.sAjaxSource ? d : m : v ? d : m;
}
function z(e, t) {
var n = function(e, n) {
return t[e] !== i ? t[e] : t[n];
}, r = W(e, t), o = n("sEcho", "draw"), a = n("iTotalRecords", "recordsTotal"), s = n("iTotalDisplayRecords", "recordsFiltered");
if (o) {
if (1 * o < e.iDraw) return;
e.iDraw = 1 * o;
}
T(e), e._iRecordsTotal = parseInt(a, 10), e._iRecordsDisplay = parseInt(s, 10);
for (var l = 0, c = r.length; l < c; l++) _(e, r[l]);
e.aiDisplay = e.aiDisplayMaster.slice(), e.bAjaxDataGet = !1, O(e), e._bInitComplete || oe(e, t), e.bAjaxDataGet = !0, de(e, !1);
}
function W(t, n) {
var r = e.isPlainObject(t.ajax) && t.ajax.dataSrc !== i ? t.ajax.dataSrc : t.sAjaxDataProp;
return "data" === r ? n.aaData || n[r] : "" !== r ? $(r)(n) : n;
}
function q(t) {
var i = t.oClasses, r = t.sTableId, o = t.oLanguage, a = t.oPreviousSearch, s = t.aanFeatures, l = '<input type="search" class="' + i.sFilterInput + '"/>', c = o.sSearch;
c = c.match(/_INPUT_/) ? c.replace("_INPUT_", l) : c + l;
var u = e("<div/>", {
id: s.f ? null : r + "_filter",
class: i.sFilter
}).append(e("<label/>").append(c)), d = function() {
s.f;
var e = this.value ? this.value : "";
e != a.sSearch && (G(t, {
sSearch: e,
bRegex: a.bRegex,
bSmart: a.bSmart,
bCaseInsensitive: a.bCaseInsensitive
}), t._iDisplayStart = 0, O(t));
}, h = null !== t.searchDelay ? t.searchDelay : "ssp" === Ne(t) ? 400 : 0, f = e("input", u).val(a.sSearch).attr("placeholder", o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT", h ? bt(d, h) : d).on("keypress.DT", function(e) {
if (13 == e.keyCode) return !1;
}).attr("aria-controls", r);
return e(t.nTable).on("search.dt.DT", function(e, i) {
if (t === i) try {
f[0] !== n.activeElement && f.val(a.sSearch);
} catch (e) {}
}), u[0];
}
function G(e, t, n) {
var r = e.oPreviousSearch, o = e.aoPreSearchCols, a = function(e) {
r.sSearch = e.sSearch, r.bRegex = e.bRegex, r.bSmart = e.bSmart, r.bCaseInsensitive = e.bCaseInsensitive;
}, s = function(e) {
return e.bEscapeRegex !== i ? !e.bEscapeRegex : e.bRegex;
};
if (y(e), "ssp" != Ne(e)) {
X(e, t.sSearch, n, s(t), t.bSmart, t.bCaseInsensitive), a(t);
for (var l = 0; l < o.length; l++) K(e, o[l].sSearch, l, s(o[l]), o[l].bSmart, o[l].bCaseInsensitive);
Y(e);
} else a(t);
e.bFiltered = !0, Le(e, null, "search", [ e ]);
}
function Y(t) {
for (var n, i, r = qe.ext.search, o = t.aiDisplay, a = 0, s = r.length; a < s; a++) {
for (var l = [], c = 0, u = o.length; c < u; c++) i = o[c], n = t.aoData[i], r[a](t, n._aFilterData, i, n._aData, c) && l.push(i);
o.length = 0, e.merge(o, l);
}
}
function K(e, t, n, i, r, o) {
if ("" !== t) {
for (var a, s = [], l = e.aiDisplay, c = Q(t, i, r, o), u = 0; u < l.length; u++) a = e.aoData[l[u]]._aFilterData[n], c.test(a) && s.push(l[u]);
e.aiDisplay = s;
}
}
function X(e, t, n, i, r, o) {
var a, s, l, c = Q(t, i, r, o), u = e.oPreviousSearch.sSearch, d = e.aiDisplayMaster, h = [];
if (0 !== qe.ext.search.length && (n = !0), s = J(e), t.length <= 0) e.aiDisplay = d.slice(); else {
for ((s || n || u.length > t.length || 0 !== t.indexOf(u) || e.bSorted) && (e.aiDisplay = d.slice()), a = e.aiDisplay, l = 0; l < a.length; l++) c.test(e.aoData[a[l]]._sFilterRow) && h.push(a[l]);
e.aiDisplay = h;
}
}
function Q(t, n, i, r) {
return t = n ? t : gt(t), i && (t = "^(?=.*?" + e.map(t.match(/"[^"]+"|[^ ]+/g) || [ "" ], function(e) {
if ('"' === e.charAt(0)) {
var t = e.match(/^"(.*)"$/);
e = t ? t[1] : e;
}
return e.replace('"', "");
}).join(")(?=.*?") + ").*$"), new RegExp(t, r ? "i" : "");
}
function J(e) {
var t, n, i, r, o, a, s, l, c = e.aoColumns, u = qe.ext.type.search, d = !1;
for (n = 0, r = e.aoData.length; n < r; n++) if (!(l = e.aoData[n])._aFilterData) {
for (a = [], i = 0, o = c.length; i < o; i++) (t = c[i]).bSearchable ? (s = C(e, n, i, "filter"), u[t.sType] && (s = u[t.sType](s)), null === s && (s = ""), "string" != typeof s && s.toString && (s = s.toString())) : s = "", s.indexOf && -1 !== s.indexOf("&") && (mt.innerHTML = s, s = vt ? mt.textContent : mt.innerText), s.replace && (s = s.replace(/[\r\n]/g, "")), a.push(s);
l._aFilterData = a, l._sFilterRow = a.join("  "), d = !0;
}
return d;
}
function Z(e) {
return {
search: e.sSearch,
smart: e.bSmart,
regex: e.bRegex,
caseInsensitive: e.bCaseInsensitive
};
}
function ee(e) {
return {
sSearch: e.search,
bSmart: e.smart,
bRegex: e.regex,
bCaseInsensitive: e.caseInsensitive
};
}
function te(t) {
var n = t.sTableId, i = t.aanFeatures.i, r = e("<div/>", {
class: t.oClasses.sInfo,
id: i ? null : n + "_info"
});
return i || (t.aoDrawCallback.push({
fn: ne,
sName: "information"
}), r.attr("role", "status").attr("aria-live", "polite"), e(t.nTable).attr("aria-describedby", n + "_info")), r[0];
}
function ne(t) {
var n = t.aanFeatures.i;
if (0 !== n.length) {
var i = t.oLanguage, r = t._iDisplayStart + 1, o = t.fnDisplayEnd(), a = t.fnRecordsTotal(), s = t.fnRecordsDisplay(), l = s ? i.sInfo : i.sInfoEmpty;
s !== a && (l += " " + i.sInfoFiltered), l = ie(t, l += i.sInfoPostFix);
var c = i.fnInfoCallback;
null !== c && (l = c.call(t.oInstance, t, r, o, a, s, l)), e(n).html(l);
}
}
function ie(e, t) {
var n = e.fnFormatNumber, i = e._iDisplayStart + 1, r = e._iDisplayLength, o = e.fnRecordsDisplay(), a = -1 === r;
return t.replace(/_START_/g, n.call(e, i)).replace(/_END_/g, n.call(e, e.fnDisplayEnd())).replace(/_MAX_/g, n.call(e, e.fnRecordsTotal())).replace(/_TOTAL_/g, n.call(e, o)).replace(/_PAGE_/g, n.call(e, a ? 1 : Math.ceil(i / r))).replace(/_PAGES_/g, n.call(e, a ? 1 : Math.ceil(o / r)));
}
function re(e) {
var t, n, i, r = e.iInitDisplayStart, o = e.aoColumns, a = e.oFeatures, s = e.bDeferLoading;
if (e.bInitialised) {
for (N(e), P(e), L(e, e.aoHeader), L(e, e.aoFooter), de(e, !0), a.bAutoWidth && ge(e), t = 0, n = o.length; t < n; t++) (i = o[t]).sWidth && (i.nTh.style.width = be(i.sWidth));
Le(e, null, "preInit", [ e ]), R(e);
var l = Ne(e);
("ssp" != l || s) && ("ajax" == l ? H(e, [], function(n) {
var i = W(e, n);
for (t = 0; t < i.length; t++) _(e, i[t]);
e.iInitDisplayStart = r, R(e), de(e, !1), oe(e, n);
}, e) : (de(e, !1), oe(e)));
} else setTimeout(function() {
re(e);
}, 200);
}
function oe(e, t) {
e._bInitComplete = !0, (t || e.oInit.aaData) && f(e), Le(e, null, "plugin-init", [ e, t ]), Le(e, "aoInitComplete", "init", [ e, t ]);
}
function ae(e, t) {
var n = parseInt(t, 10);
e._iDisplayLength = n, Oe(e), Le(e, null, "length", [ e, n ]);
}
function se(t) {
for (var n = t.oClasses, i = t.sTableId, r = t.aLengthMenu, o = e.isArray(r[0]), a = o ? r[0] : r, s = o ? r[1] : r, l = e("<select/>", {
name: i + "_length",
"aria-controls": i,
class: n.sLengthSelect
}), c = 0, u = a.length; c < u; c++) l[0][c] = new Option("number" == typeof s[c] ? t.fnFormatNumber(s[c]) : s[c], a[c]);
var d = e("<div><label/></div>").addClass(n.sLength);
return t.aanFeatures.l || (d[0].id = i + "_length"), d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_", l[0].outerHTML)), e("select", d).val(t._iDisplayLength).on("change.DT", function(n) {
ae(t, e(this).val()), O(t);
}), e(t.nTable).on("length.dt.DT", function(n, i, r) {
t === i && e("select", d).val(r);
}), d[0];
}
function le(t) {
var n = t.sPaginationType, i = qe.ext.pager[n], r = "function" == typeof i, o = function(e) {
O(e);
}, a = e("<div/>").addClass(t.oClasses.sPaging + n)[0], s = t.aanFeatures;
return r || i.fnInit(t, a, o), s.p || (a.id = t.sTableId + "_paginate", t.aoDrawCallback.push({
fn: function(e) {
if (r) {
var t, n, a = e._iDisplayStart, l = e._iDisplayLength, c = e.fnRecordsDisplay(), u = -1 === l, d = u ? 0 : Math.ceil(a / l), h = u ? 1 : Math.ceil(c / l), f = i(d, h);
for (t = 0, n = s.p.length; t < n; t++) Re(e, "pageButton")(e, s.p[t], t, f, d, h);
} else i.fnUpdate(e, o);
},
sName: "pagination"
})), a;
}
function ce(e, t, n) {
var i = e._iDisplayStart, r = e._iDisplayLength, o = e.fnRecordsDisplay();
0 === o || -1 === r ? i = 0 : "number" == typeof t ? (i = t * r) > o && (i = 0) : "first" == t ? i = 0 : "previous" == t ? (i = r >= 0 ? i - r : 0) < 0 && (i = 0) : "next" == t ? i + r < o && (i += r) : "last" == t ? i = Math.floor((o - 1) / r) * r : Ee(e, 0, "Unknown paging action: " + t, 5);
var a = e._iDisplayStart !== i;
return e._iDisplayStart = i, a && (Le(e, null, "page", [ e ]), n && O(e)), a;
}
function ue(t) {
return e("<div/>", {
id: t.aanFeatures.r ? null : t.sTableId + "_processing",
class: t.oClasses.sProcessing
}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0];
}
function de(t, n) {
t.oFeatures.bProcessing && e(t.aanFeatures.r).css("display", n ? "block" : "none"), Le(t, null, "processing", [ t, n ]);
}
function he(t) {
var n = e(t.nTable);
n.attr("role", "grid");
var i = t.oScroll;
if ("" === i.sX && "" === i.sY) return t.nTable;
var r = i.sX, o = i.sY, a = t.oClasses, s = n.children("caption"), l = s.length ? s[0]._captionSide : null, c = e(n[0].cloneNode(!1)), u = e(n[0].cloneNode(!1)), d = n.children("tfoot"), h = "<div/>", f = function(e) {
return e ? be(e) : null;
};
d.length || (d = null);
var p = e(h, {
class: a.sScrollWrapper
}).append(e(h, {
class: a.sScrollHead
}).css({
overflow: "hidden",
position: "relative",
border: 0,
width: r ? f(r) : "100%"
}).append(e(h, {
class: a.sScrollHeadInner
}).css({
"box-sizing": "content-box",
width: i.sXInner || "100%"
}).append(c.removeAttr("id").css("margin-left", 0).append("top" === l ? s : null).append(n.children("thead"))))).append(e(h, {
class: a.sScrollBody
}).css({
position: "relative",
overflow: "auto",
width: f(r)
}).append(n));
d && p.append(e(h, {
class: a.sScrollFoot
}).css({
overflow: "hidden",
border: 0,
width: r ? f(r) : "100%"
}).append(e(h, {
class: a.sScrollFootInner
}).append(u.removeAttr("id").css("margin-left", 0).append("bottom" === l ? s : null).append(n.children("tfoot")))));
var g = p.children(), m = g[0], v = g[1], y = d ? g[2] : null;
return r && e(v).on("scroll.DT", function(e) {
var t = this.scrollLeft;
m.scrollLeft = t, d && (y.scrollLeft = t);
}), e(v).css(o && i.bCollapse ? "max-height" : "height", o), t.nScrollHead = m, t.nScrollBody = v, t.nScrollFoot = y, t.aoDrawCallback.push({
fn: fe,
sName: "scrolling"
}), p[0];
}
function fe(t) {
var n, r, o, a, s, l, c, u, d, h = t.oScroll, g = h.sX, m = h.sXInner, v = h.sY, y = h.iBarWidth, b = e(t.nScrollHead), _ = b[0].style, w = b.children("div"), C = w[0].style, x = w.children("table"), S = t.nScrollBody, $ = e(S), A = S.style, k = e(t.nScrollFoot).children("div"), T = k.children("table"), D = e(t.nTHead), E = e(t.nTable), F = E[0], M = F.style, I = t.nTFoot ? e(t.nTFoot) : null, P = t.oBrowser, L = P.bScrollOversize, O = ot(t.aoColumns, "nTh"), R = [], N = [], B = [], H = [], V = function(e) {
var t = e.style;
t.paddingTop = "0", t.paddingBottom = "0", t.borderTopWidth = "0", t.borderBottomWidth = "0", t.height = 0;
}, U = S.scrollHeight > S.clientHeight;
if (t.scrollBarVis !== U && t.scrollBarVis !== i) return t.scrollBarVis = U, void f(t);
t.scrollBarVis = U, E.children("thead, tfoot").remove(), I && (l = I.clone().prependTo(E), r = I.find("tr"), a = l.find("tr")), s = D.clone().prependTo(E), n = D.find("tr"), o = s.find("tr"), s.find("th, td").removeAttr("tabindex"), g || (A.width = "100%", b[0].style.width = "100%"), e.each(j(t, s), function(e, n) {
c = p(t, e), n.style.width = t.aoColumns[c].sWidth;
}), I && pe(function(e) {
e.style.width = "";
}, a), d = E.outerWidth(), "" === g ? (M.width = "100%", L && (E.find("tbody").height() > S.offsetHeight || "scroll" == $.css("overflow-y")) && (M.width = be(E.outerWidth() - y)), d = E.outerWidth()) : "" !== m && (M.width = be(m), d = E.outerWidth()), pe(V, o), pe(function(t) {
B.push(t.innerHTML), R.push(be(e(t).css("width")));
}, o), pe(function(t, n) {
-1 !== e.inArray(t, O) && (t.style.width = R[n]);
}, n), e(o).height(0), I && (pe(V, a), pe(function(t) {
H.push(t.innerHTML), N.push(be(e(t).css("width")));
}, a), pe(function(e, t) {
e.style.width = N[t];
}, r), e(a).height(0)), pe(function(e, t) {
e.innerHTML = '<div class="dataTables_sizing">' + B[t] + "</div>", e.childNodes[0].style.height = "0", e.childNodes[0].style.overflow = "hidden", e.style.width = R[t];
}, o), I && pe(function(e, t) {
e.innerHTML = '<div class="dataTables_sizing">' + H[t] + "</div>", e.childNodes[0].style.height = "0", e.childNodes[0].style.overflow = "hidden", e.style.width = N[t];
}, a), E.outerWidth() < d ? (u = S.scrollHeight > S.offsetHeight || "scroll" == $.css("overflow-y") ? d + y : d, L && (S.scrollHeight > S.offsetHeight || "scroll" == $.css("overflow-y")) && (M.width = be(u - y)), "" !== g && "" === m || Ee(t, 1, "Possible column misalignment", 6)) : u = "100%", A.width = be(u), _.width = be(u), I && (t.nScrollFoot.style.width = be(u)), v || L && (A.height = be(F.offsetHeight + y));
var z = E.outerWidth();
x[0].style.width = be(z), C.width = be(z);
var W = E.height() > S.clientHeight || "scroll" == $.css("overflow-y"), q = "padding" + (P.bScrollbarLeft ? "Left" : "Right");
C[q] = W ? y + "px" : "0px", I && (T[0].style.width = be(z), k[0].style.width = be(z), k[0].style[q] = W ? y + "px" : "0px"), E.children("colgroup").insertBefore(E.children("thead")), $.scroll(), !t.bSorted && !t.bFiltered || t._drawHold || (S.scrollTop = 0);
}
function pe(e, t, n) {
for (var i, r, o = 0, a = 0, s = t.length; a < s; ) {
for (i = t[a].firstChild, r = n ? n[a].firstChild : null; i; ) 1 === i.nodeType && (n ? e(i, r, o) : e(i, o), o++), i = i.nextSibling, r = n ? r.nextSibling : null;
a++;
}
}
function ge(n) {
var i, r, o, a = n.nTable, s = n.aoColumns, l = n.oScroll, c = l.sY, u = l.sX, d = l.sXInner, h = s.length, g = v(n, "bVisible"), y = e("th", n.nTHead), b = a.getAttribute("width"), _ = a.parentNode, w = !1, C = n.oBrowser, x = C.bScrollOversize, S = a.style.width;
for (S && -1 !== S.indexOf("%") && (b = S), i = 0; i < g.length; i++) null !== (r = s[g[i]]).sWidth && (r.sWidth = me(r.sWidthOrig, _), w = !0);
if (x || !w && !u && !c && h == m(n) && h == y.length) for (i = 0; i < h; i++) {
var $ = p(n, i);
null !== $ && (s[$].sWidth = be(y.eq(i).width()));
} else {
var A = e(a).clone().css("visibility", "hidden").removeAttr("id");
A.find("tbody tr").remove();
var k = e("<tr/>").appendTo(A.find("tbody"));
for (A.find("thead, tfoot").remove(), A.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()), A.find("tfoot th, tfoot td").css("width", ""), y = j(n, A.find("thead")[0]), i = 0; i < g.length; i++) r = s[g[i]], y[i].style.width = null !== r.sWidthOrig && "" !== r.sWidthOrig ? be(r.sWidthOrig) : "", r.sWidthOrig && u && e(y[i]).append(e("<div/>").css({
width: r.sWidthOrig,
margin: 0,
padding: 0,
border: 0,
height: 1
}));
if (n.aoData.length) for (i = 0; i < g.length; i++) r = s[o = g[i]], e(ve(n, o)).clone(!1).append(r.sContentPadding).appendTo(k);
e("[name]", A).removeAttr("name");
var T = e("<div/>").css(u || c ? {
position: "absolute",
top: 0,
left: 0,
height: 1,
right: 0,
overflow: "hidden"
} : {}).append(A).appendTo(_);
u && d ? A.width(d) : u ? (A.css("width", "auto"), A.removeAttr("width"), A.width() < _.clientWidth && b && A.width(_.clientWidth)) : c ? A.width(_.clientWidth) : b && A.width(b);
var D = 0;
for (i = 0; i < g.length; i++) {
var E = e(y[i]), F = E.outerWidth() - E.width(), M = C.bBounding ? Math.ceil(y[i].getBoundingClientRect().width) : E.outerWidth();
D += M, s[g[i]].sWidth = be(M - F);
}
a.style.width = be(D), T.remove();
}
if (b && (a.style.width = be(b)), (b || u) && !n._reszEvt) {
var I = function() {
e(t).on("resize.DT-" + n.sInstance, bt(function() {
f(n);
}));
};
x ? setTimeout(I, 1e3) : I(), n._reszEvt = !0;
}
}
function me(t, i) {
if (!t) return 0;
var r = e("<div/>").css("width", be(t)).appendTo(i || n.body), o = r[0].offsetWidth;
return r.remove(), o;
}
function ve(t, n) {
var i = ye(t, n);
if (i < 0) return null;
var r = t.aoData[i];
return r.nTr ? r.anCells[n] : e("<td/>").html(C(t, i, n, "display"))[0];
}
function ye(e, t) {
for (var n, i = -1, r = -1, o = 0, a = e.aoData.length; o < a; o++) (n = (n = (n = C(e, o, t, "display") + "").replace(yt, "")).replace(/&nbsp;/g, " ")).length > i && (i = n.length, r = o);
return r;
}
function be(e) {
return null === e ? "0px" : "number" == typeof e ? e < 0 ? "0px" : e + "px" : e.match(/\d$/) ? e + "px" : e;
}
function _e(t) {
var n, r, o, a, s, l, c, u = [], d = t.aoColumns, h = t.aaSortingFixed, f = e.isPlainObject(h), p = [], g = function(t) {
t.length && !e.isArray(t[0]) ? p.push(t) : e.merge(p, t);
};
for (e.isArray(h) && g(h), f && h.pre && g(h.pre), g(t.aaSorting), f && h.post && g(h.post), n = 0; n < p.length; n++) for (r = 0, o = (a = d[c = p[n][0]].aDataSort).length; r < o; r++) l = d[s = a[r]].sType || "string", p[n]._idx === i && (p[n]._idx = e.inArray(p[n][1], d[s].asSorting)), u.push({
src: c,
col: s,
dir: p[n][1],
index: p[n]._idx,
type: l,
formatter: qe.ext.type.order[l + "-pre"]
});
return u;
}
function we(e) {
var t, n, i, r, o, a = [], s = qe.ext.type.order, l = e.aoData, c = (e.aoColumns, 0), u = e.aiDisplayMaster;
for (y(e), t = 0, n = (o = _e(e)).length; t < n; t++) (r = o[t]).formatter && c++, Ae(e, r.col);
if ("ssp" != Ne(e) && 0 !== o.length) {
for (t = 0, i = u.length; t < i; t++) a[u[t]] = t;
c === o.length ? u.sort(function(e, t) {
var n, i, r, s, c, u = o.length, d = l[e]._aSortData, h = l[t]._aSortData;
for (r = 0; r < u; r++) if (c = o[r], n = d[c.col], i = h[c.col], 0 !== (s = n < i ? -1 : n > i ? 1 : 0)) return "asc" === c.dir ? s : -s;
return n = a[e], i = a[t], n < i ? -1 : n > i ? 1 : 0;
}) : u.sort(function(e, t) {
var n, i, r, c, u, d, h = o.length, f = l[e]._aSortData, p = l[t]._aSortData;
for (r = 0; r < h; r++) if (u = o[r], n = f[u.col], i = p[u.col], d = s[u.type + "-" + u.dir] || s["string-" + u.dir], 0 !== (c = d(n, i))) return c;
return n = a[e], i = a[t], n < i ? -1 : n > i ? 1 : 0;
});
}
e.bSorted = !0;
}
function Ce(e) {
for (var t, n, i = e.aoColumns, r = _e(e), o = e.oLanguage.oAria, a = 0, s = i.length; a < s; a++) {
var l = i[a], c = l.asSorting, u = l.sTitle.replace(/<.*?>/g, ""), d = l.nTh;
d.removeAttribute("aria-sort"), l.bSortable ? (r.length > 0 && r[0].col == a ? (d.setAttribute("aria-sort", "asc" == r[0].dir ? "ascending" : "descending"), n = c[r[0].index + 1] || c[0]) : n = c[0], t = u + ("asc" === n ? o.sSortAscending : o.sSortDescending)) : t = u, d.setAttribute("aria-label", t);
}
}
function xe(t, n, r, o) {
var a, s = t.aoColumns[n], l = t.aaSorting, c = s.asSorting, u = function(t, n) {
var r = t._idx;
return r === i && (r = e.inArray(t[1], c)), r + 1 < c.length ? r + 1 : n ? null : 0;
};
if ("number" == typeof l[0] && (l = t.aaSorting = [ l ]), r && t.oFeatures.bSortMulti) {
var d = e.inArray(n, ot(l, "0"));
-1 !== d ? (null === (a = u(l[d], !0)) && 1 === l.length && (a = 0), null === a ? l.splice(d, 1) : (l[d][1] = c[a], l[d]._idx = a)) : (l.push([ n, c[0], 0 ]), l[l.length - 1]._idx = 0);
} else l.length && l[0][0] == n ? (a = u(l[0]), l.length = 1, l[0][1] = c[a], l[0]._idx = a) : (l.length = 0, l.push([ n, c[0] ]), l[0]._idx = 0);
R(t), "function" == typeof o && o(t);
}
function Se(e, t, n, i) {
var r = e.aoColumns[n];
Ie(t, {}, function(t) {
!1 !== r.bSortable && (e.oFeatures.bProcessing ? (de(e, !0), setTimeout(function() {
xe(e, n, t.shiftKey, i), "ssp" !== Ne(e) && de(e, !1);
}, 0)) : xe(e, n, t.shiftKey, i));
});
}
function $e(t) {
var n, i, r, o = t.aLastSort, a = t.oClasses.sSortColumn, s = _e(t), l = t.oFeatures;
if (l.bSort && l.bSortClasses) {
for (n = 0, i = o.length; n < i; n++) r = o[n].src, e(ot(t.aoData, "anCells", r)).removeClass(a + (n < 2 ? n + 1 : 3));
for (n = 0, i = s.length; n < i; n++) r = s[n].src, e(ot(t.aoData, "anCells", r)).addClass(a + (n < 2 ? n + 1 : 3));
}
t.aLastSort = s;
}
function Ae(e, t) {
var n, i = e.aoColumns[t], r = qe.ext.order[i.sSortDataType];
r && (n = r.call(e.oInstance, e, t, g(e, t)));
for (var o, a, s = qe.ext.type.order[i.sType + "-pre"], l = 0, c = e.aoData.length; l < c; l++) (o = e.aoData[l])._aSortData || (o._aSortData = []), o._aSortData[t] && !r || (a = r ? n[l] : C(e, l, t, "sort"), o._aSortData[t] = s ? s(a) : a);
}
function ke(t) {
if (t.oFeatures.bStateSave && !t.bDestroying) {
var n = {
time: +new Date(),
start: t._iDisplayStart,
length: t._iDisplayLength,
order: e.extend(!0, [], t.aaSorting),
search: Z(t.oPreviousSearch),
columns: e.map(t.aoColumns, function(e, n) {
return {
visible: e.bVisible,
search: Z(t.aoPreSearchCols[n])
};
})
};
Le(t, "aoStateSaveParams", "stateSaveParams", [ t, n ]), t.oSavedState = n, t.fnStateSaveCallback.call(t.oInstance, t, n);
}
}
function Te(t, n, r) {
var o, a, s = t.aoColumns, l = function(n) {
if (n && n.time) {
var l = Le(t, "aoStateLoadParams", "stateLoadParams", [ t, n ]);
if (-1 === e.inArray(!1, l)) {
var c = t.iStateDuration;
if (c > 0 && n.time < +new Date() - 1e3 * c) r(); else if (n.columns && s.length !== n.columns.length) r(); else {
if (t.oLoadedState = e.extend(!0, {}, n), n.start !== i && (t._iDisplayStart = n.start, t.iInitDisplayStart = n.start), n.length !== i && (t._iDisplayLength = n.length), n.order !== i && (t.aaSorting = [], e.each(n.order, function(e, n) {
t.aaSorting.push(n[0] >= s.length ? [ 0, n[1] ] : n);
})), n.search !== i && e.extend(t.oPreviousSearch, ee(n.search)), n.columns) for (o = 0, a = n.columns.length; o < a; o++) {
var u = n.columns[o];
u.visible !== i && (s[o].bVisible = u.visible), u.search !== i && e.extend(t.aoPreSearchCols[o], ee(u.search));
}
Le(t, "aoStateLoaded", "stateLoaded", [ t, n ]), r();
}
} else r();
} else r();
};
if (t.oFeatures.bStateSave) {
var c = t.fnStateLoadCallback.call(t.oInstance, t, l);
c !== i && l(c);
} else r();
}
function De(t) {
var n = qe.settings, i = e.inArray(t, ot(n, "nTable"));
return -1 !== i ? n[i] : null;
}
function Ee(e, n, i, r) {
if (i = "DataTables warning: " + (e ? "table id=" + e.sTableId + " - " : "") + i, r && (i += ". For more information about this error, please see http://datatables.net/tn/" + r), n) t.console && console.log && console.log(i); else {
var o = qe.ext, a = o.sErrMode || o.errMode;
if (e && Le(e, null, "error", [ e, r, i ]), "alert" == a) alert(i); else {
if ("throw" == a) throw new Error(i);
"function" == typeof a && a(e, r, i);
}
}
}
function Fe(t, n, r, o) {
e.isArray(r) ? e.each(r, function(i, r) {
e.isArray(r) ? Fe(t, n, r[0], r[1]) : Fe(t, n, r);
}) : (o === i && (o = r), n[r] !== i && (t[o] = n[r]));
}
function Me(t, n, i) {
var r;
for (var o in n) n.hasOwnProperty(o) && (r = n[o], e.isPlainObject(r) ? (e.isPlainObject(t[o]) || (t[o] = {}), e.extend(!0, t[o], r)) : i && "data" !== o && "aaData" !== o && e.isArray(r) ? t[o] = r.slice() : t[o] = r);
return t;
}
function Ie(t, n, i) {
e(t).on("click.DT", n, function(n) {
e(t).blur(), i(n);
}).on("keypress.DT", n, function(e) {
13 === e.which && (e.preventDefault(), i(e));
}).on("selectstart.DT", function() {
return !1;
});
}
function Pe(e, t, n, i) {
n && e[t].push({
fn: n,
sName: i
});
}
function Le(t, n, i, r) {
var o = [];
if (n && (o = e.map(t[n].slice().reverse(), function(e, n) {
return e.fn.apply(t.oInstance, r);
})), null !== i) {
var a = e.Event(i + ".dt");
e(t.nTable).trigger(a, r), o.push(a.result);
}
return o;
}
function Oe(e) {
var t = e._iDisplayStart, n = e.fnDisplayEnd(), i = e._iDisplayLength;
t >= n && (t = n - i), t -= t % i, (-1 === i || t < 0) && (t = 0), e._iDisplayStart = t;
}
function Re(t, n) {
var i = t.renderer, r = qe.ext.renderer[n];
return e.isPlainObject(i) && i[n] ? r[i[n]] || r._ : "string" == typeof i ? r[i] || r._ : r._;
}
function Ne(e) {
return e.oFeatures.bServerSide ? "ssp" : e.ajax || e.sAjaxSource ? "ajax" : "dom";
}
function Be(e, t) {
var n = [], i = Bt.numbers_length, r = Math.floor(i / 2);
return t <= i ? n = st(0, t) : e <= r ? ((n = st(0, i - 2)).push("ellipsis"), n.push(t - 1)) : e >= t - 1 - r ? ((n = st(t - (i - 2), t)).splice(0, 0, "ellipsis"), n.splice(0, 0, 0)) : ((n = st(e - r + 2, e + r - 1)).push("ellipsis"), n.push(t - 1), n.splice(0, 0, "ellipsis"), n.splice(0, 0, 0)), n.DT_el = "span", n;
}
function je(t) {
e.each({
num: function(e) {
return jt(e, t);
},
"num-fmt": function(e) {
return jt(e, t, Je);
},
"html-num": function(e) {
return jt(e, t, Ke);
},
"html-num-fmt": function(e) {
return jt(e, t, Ke, Je);
}
}, function(e, n) {
Ve.type.order[e + t + "-pre"] = n, e.match(/^html\-/) && (Ve.type.search[e + t] = Ve.type.search.html);
});
}
function He(e) {
return function() {
var t = [ De(this[qe.ext.iApiIndex]) ].concat(Array.prototype.slice.call(arguments));
return qe.ext.internal[e].apply(this, t);
};
}
var Ve, Ue, ze, We, qe = function(t) {
this.$ = function(e, t) {
return this.api(!0).$(e, t);
}, this._ = function(e, t) {
return this.api(!0).rows(e, t).data();
}, this.api = function(e) {
return new Ue(e ? De(this[Ve.iApiIndex]) : this);
}, this.fnAddData = function(t, n) {
var r = this.api(!0), o = e.isArray(t) && (e.isArray(t[0]) || e.isPlainObject(t[0])) ? r.rows.add(t) : r.row.add(t);
return (n === i || n) && r.draw(), o.flatten().toArray();
}, this.fnAdjustColumnSizing = function(e) {
var t = this.api(!0).columns.adjust(), n = t.settings()[0], r = n.oScroll;
e === i || e ? t.draw(!1) : "" === r.sX && "" === r.sY || fe(n);
}, this.fnClearTable = function(e) {
var t = this.api(!0).clear();
(e === i || e) && t.draw();
}, this.fnClose = function(e) {
this.api(!0).row(e).child.hide();
}, this.fnDeleteRow = function(e, t, n) {
var r = this.api(!0), o = r.rows(e), a = o.settings()[0], s = a.aoData[o[0][0]];
return o.remove(), t && t.call(this, a, s), (n === i || n) && r.draw(), s;
}, this.fnDestroy = function(e) {
this.api(!0).destroy(e);
}, this.fnDraw = function(e) {
this.api(!0).draw(e);
}, this.fnFilter = function(e, t, n, r, o, a) {
var s = this.api(!0);
null === t || t === i ? s.search(e, n, r, a) : s.column(t).search(e, n, r, a), s.draw();
}, this.fnGetData = function(e, t) {
var n = this.api(!0);
if (e !== i) {
var r = e.nodeName ? e.nodeName.toLowerCase() : "";
return t !== i || "td" == r || "th" == r ? n.cell(e, t).data() : n.row(e).data() || null;
}
return n.data().toArray();
}, this.fnGetNodes = function(e) {
var t = this.api(!0);
return e !== i ? t.row(e).node() : t.rows().nodes().flatten().toArray();
}, this.fnGetPosition = function(e) {
var t = this.api(!0), n = e.nodeName.toUpperCase();
if ("TR" == n) return t.row(e).index();
if ("TD" == n || "TH" == n) {
var i = t.cell(e).index();
return [ i.row, i.columnVisible, i.column ];
}
return null;
}, this.fnIsOpen = function(e) {
return this.api(!0).row(e).child.isShown();
}, this.fnOpen = function(e, t, n) {
return this.api(!0).row(e).child(t, n).show().child()[0];
}, this.fnPageChange = function(e, t) {
var n = this.api(!0).page(e);
(t === i || t) && n.draw(!1);
}, this.fnSetColumnVis = function(e, t, n) {
var r = this.api(!0).column(e).visible(t);
(n === i || n) && r.columns.adjust().draw();
}, this.fnSettings = function() {
return De(this[Ve.iApiIndex]);
}, this.fnSort = function(e) {
this.api(!0).order(e).draw();
}, this.fnSortListener = function(e, t, n) {
this.api(!0).order.listener(e, t, n);
}, this.fnUpdate = function(e, t, n, r, o) {
var a = this.api(!0);
return n === i || null === n ? a.row(t).data(e) : a.cell(t, n).data(e), (o === i || o) && a.columns.adjust(), (r === i || r) && a.draw(), 0;
}, this.fnVersionCheck = Ve.fnVersionCheck;
var n = this, r = t === i, u = this.length;
r && (t = {}), this.oApi = this.internal = Ve.internal;
for (var f in qe.ext.internal) f && (this[f] = He(f));
return this.each(function() {
var f, p = {}, g = u > 1 ? Me(p, t, !0) : t, m = 0, v = this.getAttribute("id"), y = !1, C = qe.defaults, x = e(this);
if ("table" == this.nodeName.toLowerCase()) {
s(C), l(C.column), o(C, C, !0), o(C.column, C.column, !0), o(C, e.extend(g, x.data()));
var S = qe.settings;
for (m = 0, f = S.length; m < f; m++) {
var A = S[m];
if (A.nTable == this || A.nTHead && A.nTHead.parentNode == this || A.nTFoot && A.nTFoot.parentNode == this) {
var k = g.bRetrieve !== i ? g.bRetrieve : C.bRetrieve, T = g.bDestroy !== i ? g.bDestroy : C.bDestroy;
if (r || k) return A.oInstance;
if (T) {
A.oInstance.fnDestroy();
break;
}
return void Ee(A, 0, "Cannot reinitialise DataTable", 3);
}
if (A.sTableId == this.id) {
S.splice(m, 1);
break;
}
}
null !== v && "" !== v || (v = "DataTables_Table_" + qe.ext._unique++, this.id = v);
var D = e.extend(!0, {}, qe.models.oSettings, {
sDestroyWidth: x[0].style.width,
sInstance: v,
sTableId: v
});
D.nTable = this, D.oApi = n.internal, D.oInit = g, S.push(D), D.oInstance = 1 === n.length ? n : x.dataTable(), s(g), a(g.oLanguage), g.aLengthMenu && !g.iDisplayLength && (g.iDisplayLength = e.isArray(g.aLengthMenu[0]) ? g.aLengthMenu[0][0] : g.aLengthMenu[0]), g = Me(e.extend(!0, {}, C), g), Fe(D.oFeatures, g, [ "bPaginate", "bLengthChange", "bFilter", "bSort", "bSortMulti", "bInfo", "bProcessing", "bAutoWidth", "bSortClasses", "bServerSide", "bDeferRender" ]), Fe(D, g, [ "asStripeClasses", "ajax", "fnServerData", "fnFormatNumber", "sServerMethod", "aaSorting", "aaSortingFixed", "aLengthMenu", "sPaginationType", "sAjaxSource", "sAjaxDataProp", "iStateDuration", "sDom", "bSortCellsTop", "iTabIndex", "fnStateLoadCallback", "fnStateSaveCallback", "renderer", "searchDelay", "rowId", [ "iCookieDuration", "iStateDuration" ], [ "oSearch", "oPreviousSearch" ], [ "aoSearchCols", "aoPreSearchCols" ], [ "iDisplayLength", "_iDisplayLength" ] ]), Fe(D.oScroll, g, [ [ "sScrollX", "sX" ], [ "sScrollXInner", "sXInner" ], [ "sScrollY", "sY" ], [ "bScrollCollapse", "bCollapse" ] ]), 
Fe(D.oLanguage, g, "fnInfoCallback"), Pe(D, "aoDrawCallback", g.fnDrawCallback, "user"), Pe(D, "aoServerParams", g.fnServerParams, "user"), Pe(D, "aoStateSaveParams", g.fnStateSaveParams, "user"), Pe(D, "aoStateLoadParams", g.fnStateLoadParams, "user"), Pe(D, "aoStateLoaded", g.fnStateLoaded, "user"), Pe(D, "aoRowCallback", g.fnRowCallback, "user"), Pe(D, "aoRowCreatedCallback", g.fnCreatedRow, "user"), Pe(D, "aoHeaderCallback", g.fnHeaderCallback, "user"), Pe(D, "aoFooterCallback", g.fnFooterCallback, "user"), Pe(D, "aoInitComplete", g.fnInitComplete, "user"), Pe(D, "aoPreDrawCallback", g.fnPreDrawCallback, "user"), D.rowIdFn = $(g.rowId), c(D);
var E = D.oClasses;
if (e.extend(E, qe.ext.classes, g.oClasses), x.addClass(E.sTable), D.iInitDisplayStart === i && (D.iInitDisplayStart = g.iDisplayStart, D._iDisplayStart = g.iDisplayStart), null !== g.iDeferLoading) {
D.bDeferLoading = !0;
var F = e.isArray(g.iDeferLoading);
D._iRecordsDisplay = F ? g.iDeferLoading[0] : g.iDeferLoading, D._iRecordsTotal = F ? g.iDeferLoading[1] : g.iDeferLoading;
}
var M = D.oLanguage;
e.extend(!0, M, g.oLanguage), M.sUrl && (e.ajax({
dataType: "json",
url: M.sUrl,
success: function(t) {
a(t), o(C.oLanguage, t), e.extend(!0, M, t), re(D);
},
error: function() {
re(D);
}
}), y = !0), null === g.asStripeClasses && (D.asStripeClasses = [ E.sStripeOdd, E.sStripeEven ]);
var I = D.asStripeClasses, P = x.children("tbody").find("tr").eq(0);
-1 !== e.inArray(!0, e.map(I, function(e, t) {
return P.hasClass(e);
})) && (e("tbody tr", this).removeClass(I.join(" ")), D.asDestroyStripes = I.slice());
var L, O = [], R = this.getElementsByTagName("thead");
if (0 !== R.length && (B(D.aoHeader, R[0]), O = j(D)), null === g.aoColumns) for (L = [], m = 0, f = O.length; m < f; m++) L.push(null); else L = g.aoColumns;
for (m = 0, f = L.length; m < f; m++) d(D, O ? O[m] : null);
if (b(D, g.aoColumnDefs, L, function(e, t) {
h(D, e, t);
}), P.length) {
var N = function(e, t) {
return null !== e.getAttribute("data-" + t) ? t : null;
};
e(P[0]).children("th, td").each(function(e, t) {
var n = D.aoColumns[e];
if (n.mData === e) {
var r = N(t, "sort") || N(t, "order"), o = N(t, "filter") || N(t, "search");
null === r && null === o || (n.mData = {
_: e + ".display",
sort: null !== r ? e + ".@data-" + r : i,
type: null !== r ? e + ".@data-" + r : i,
filter: null !== o ? e + ".@data-" + o : i
}, h(D, e));
}
});
}
var H = D.oFeatures, V = function() {
if (g.aaSorting === i) {
var t = D.aaSorting;
for (m = 0, f = t.length; m < f; m++) t[m][1] = D.aoColumns[m].asSorting[0];
}
$e(D), H.bSort && Pe(D, "aoDrawCallback", function() {
if (D.bSorted) {
var t = _e(D), n = {};
e.each(t, function(e, t) {
n[t.src] = t.dir;
}), Le(D, null, "order", [ D, t, n ]), Ce(D);
}
}), Pe(D, "aoDrawCallback", function() {
(D.bSorted || "ssp" === Ne(D) || H.bDeferRender) && $e(D);
}, "sc");
var n = x.children("caption").each(function() {
this._captionSide = e(this).css("caption-side");
}), r = x.children("thead");
0 === r.length && (r = e("<thead/>").appendTo(x)), D.nTHead = r[0];
var o = x.children("tbody");
0 === o.length && (o = e("<tbody/>").appendTo(x)), D.nTBody = o[0];
var a = x.children("tfoot");
if (0 === a.length && n.length > 0 && ("" !== D.oScroll.sX || "" !== D.oScroll.sY) && (a = e("<tfoot/>").appendTo(x)), 0 === a.length || 0 === a.children().length ? x.addClass(E.sNoFooter) : a.length > 0 && (D.nTFoot = a[0], B(D.aoFooter, D.nTFoot)), g.aaData) for (m = 0; m < g.aaData.length; m++) _(D, g.aaData[m]); else (D.bDeferLoading || "dom" == Ne(D)) && w(D, e(D.nTBody).children("tr"));
D.aiDisplay = D.aiDisplayMaster.slice(), D.bInitialised = !0, !1 === y && re(D);
};
g.bStateSave ? (H.bStateSave = !0, Pe(D, "aoDrawCallback", ke, "state_save"), Te(D, 0, V)) : V();
} else Ee(null, 0, "Non-table node initialisation (" + this.nodeName + ")", 2);
}), n = null, this;
}, Ge = {}, Ye = /[\r\n]/g, Ke = /<.*?>/g, Xe = /^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/, Qe = new RegExp("(\\" + [ "/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^", "-" ].join("|\\") + ")", "g"), Je = /[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi, Ze = function(e) {
return !e || !0 === e || "-" === e;
}, et = function(e) {
var t = parseInt(e, 10);
return !isNaN(t) && isFinite(e) ? t : null;
}, tt = function(e, t) {
return Ge[t] || (Ge[t] = new RegExp(gt(t), "g")), "string" == typeof e && "." !== t ? e.replace(/\./g, "").replace(Ge[t], ".") : e;
}, nt = function(e, t, n) {
var i = "string" == typeof e;
return !!Ze(e) || (t && i && (e = tt(e, t)), n && i && (e = e.replace(Je, "")), !isNaN(parseFloat(e)) && isFinite(e));
}, it = function(e) {
return Ze(e) || "string" == typeof e;
}, rt = function(e, t, n) {
return !!Ze(e) || (it(e) ? !!nt(ct(e), t, n) || null : null);
}, ot = function(e, t, n) {
var r = [], o = 0, a = e.length;
if (n !== i) for (;o < a; o++) e[o] && e[o][t] && r.push(e[o][t][n]); else for (;o < a; o++) e[o] && r.push(e[o][t]);
return r;
}, at = function(e, t, n, r) {
var o = [], a = 0, s = t.length;
if (r !== i) for (;a < s; a++) e[t[a]][n] && o.push(e[t[a]][n][r]); else for (;a < s; a++) o.push(e[t[a]][n]);
return o;
}, st = function(e, t) {
var n, r = [];
t === i ? (t = 0, n = e) : (n = t, t = e);
for (var o = t; o < n; o++) r.push(o);
return r;
}, lt = function(e) {
for (var t = [], n = 0, i = e.length; n < i; n++) e[n] && t.push(e[n]);
return t;
}, ct = function(e) {
return e.replace(Ke, "");
}, ut = function(e) {
if (e.length < 2) return !0;
for (var t = e.slice().sort(), n = t[0], i = 1, r = t.length; i < r; i++) {
if (t[i] === n) return !1;
n = t[i];
}
return !0;
}, dt = function(e) {
if (ut(e)) return e.slice();
var t, n, i, r = [], o = e.length, a = 0;
e: for (n = 0; n < o; n++) {
for (t = e[n], i = 0; i < a; i++) if (r[i] === t) continue e;
r.push(t), a++;
}
return r;
};
qe.util = {
throttle: function(e, t) {
var n, r, o = t !== i ? t : 200;
return function() {
var t = this, a = +new Date(), s = arguments;
n && a < n + o ? (clearTimeout(r), r = setTimeout(function() {
n = i, e.apply(t, s);
}, o)) : (n = a, e.apply(t, s));
};
},
escapeRegex: function(e) {
return e.replace(Qe, "\\$1");
}
};
var ht = function(e, t, n) {
e[t] !== i && (e[n] = e[t]);
}, ft = /\[.*?\]$/, pt = /\(\)$/, gt = qe.util.escapeRegex, mt = e("<div>")[0], vt = mt.textContent !== i, yt = /<.*?>/g, bt = qe.util.throttle, _t = [], wt = Array.prototype, Ct = function(t) {
var n, i, r = qe.settings, o = e.map(r, function(e, t) {
return e.nTable;
});
return t ? t.nTable && t.oApi ? [ t ] : t.nodeName && "table" === t.nodeName.toLowerCase() ? -1 !== (n = e.inArray(t, o)) ? [ r[n] ] : null : t && "function" == typeof t.settings ? t.settings().toArray() : ("string" == typeof t ? i = e(t) : t instanceof e && (i = t), i ? i.map(function(t) {
return -1 !== (n = e.inArray(this, o)) ? r[n] : null;
}).toArray() : void 0) : [];
};
Ue = function(t, n) {
if (!(this instanceof Ue)) return new Ue(t, n);
var i = [], r = function(e) {
var t = Ct(e);
t && (i = i.concat(t));
};
if (e.isArray(t)) for (var o = 0, a = t.length; o < a; o++) r(t[o]); else r(t);
this.context = dt(i), n && e.merge(this, n), this.selector = {
rows: null,
cols: null,
opts: null
}, Ue.extend(this, this, _t);
}, qe.Api = Ue, e.extend(Ue.prototype, {
any: function() {
return 0 !== this.count();
},
concat: wt.concat,
context: [],
count: function() {
return this.flatten().length;
},
each: function(e) {
for (var t = 0, n = this.length; t < n; t++) e.call(this, this[t], t, this);
return this;
},
eq: function(e) {
var t = this.context;
return t.length > e ? new Ue(t[e], this[e]) : null;
},
filter: function(e) {
var t = [];
if (wt.filter) t = wt.filter.call(this, e, this); else for (var n = 0, i = this.length; n < i; n++) e.call(this, this[n], n, this) && t.push(this[n]);
return new Ue(this.context, t);
},
flatten: function() {
var e = [];
return new Ue(this.context, e.concat.apply(e, this.toArray()));
},
join: wt.join,
indexOf: wt.indexOf || function(e, t) {
for (var n = t || 0, i = this.length; n < i; n++) if (this[n] === e) return n;
return -1;
},
iterator: function(e, t, n, r) {
var o, a, s, l, c, u, d, h, f = [], p = this.context, g = this.selector;
for ("string" == typeof e && (r = n, n = t, t = e, e = !1), a = 0, s = p.length; a < s; a++) {
var m = new Ue(p[a]);
if ("table" === t) (o = n.call(m, p[a], a)) !== i && f.push(o); else if ("columns" === t || "rows" === t) (o = n.call(m, p[a], this[a], a)) !== i && f.push(o); else if ("column" === t || "column-rows" === t || "row" === t || "cell" === t) for (d = this[a], "column-rows" === t && (u = Tt(p[a], g.opts)), l = 0, c = d.length; l < c; l++) h = d[l], (o = "cell" === t ? n.call(m, p[a], h.row, h.column, a, l) : n.call(m, p[a], h, a, l, u)) !== i && f.push(o);
}
if (f.length || r) {
var v = new Ue(p, e ? f.concat.apply([], f) : f), y = v.selector;
return y.rows = g.rows, y.cols = g.cols, y.opts = g.opts, v;
}
return this;
},
lastIndexOf: wt.lastIndexOf || function(e, t) {
return this.indexOf.apply(this.toArray.reverse(), arguments);
},
length: 0,
map: function(e) {
var t = [];
if (wt.map) t = wt.map.call(this, e, this); else for (var n = 0, i = this.length; n < i; n++) t.push(e.call(this, this[n], n));
return new Ue(this.context, t);
},
pluck: function(e) {
return this.map(function(t) {
return t[e];
});
},
pop: wt.pop,
push: wt.push,
reduce: wt.reduce || function(e, t) {
return u(this, e, t, 0, this.length, 1);
},
reduceRight: wt.reduceRight || function(e, t) {
return u(this, e, t, this.length - 1, -1, -1);
},
reverse: wt.reverse,
selector: null,
shift: wt.shift,
slice: function() {
return new Ue(this.context, this);
},
sort: wt.sort,
splice: wt.splice,
toArray: function() {
return wt.slice.call(this);
},
to$: function() {
return e(this);
},
toJQuery: function() {
return e(this);
},
unique: function() {
return new Ue(this.context, dt(this));
},
unshift: wt.unshift
}), Ue.extend = function(t, n, i) {
if (i.length && n && (n instanceof Ue || n.__dt_wrapper)) {
var r, o, a;
for (r = 0, o = i.length; r < o; r++) n[(a = i[r]).name] = "function" == typeof a.val ? function(e, t, n) {
return function() {
var i = t.apply(e, arguments);
return Ue.extend(i, i, n.methodExt), i;
};
}(t, a.val, a) : e.isPlainObject(a.val) ? {} : a.val, n[a.name].__dt_wrapper = !0, Ue.extend(t, n[a.name], a.propExt);
}
}, Ue.register = ze = function(t, n) {
if (e.isArray(t)) for (var i = 0, r = t.length; i < r; i++) Ue.register(t[i], n); else {
var o, a, s, l, c = t.split("."), u = _t;
for (o = 0, a = c.length; o < a; o++) {
var d = function(e, t) {
for (var n = 0, i = e.length; n < i; n++) if (e[n].name === t) return e[n];
return null;
}(u, s = (l = -1 !== c[o].indexOf("()")) ? c[o].replace("()", "") : c[o]);
d || (d = {
name: s,
val: {},
methodExt: [],
propExt: []
}, u.push(d)), o === a - 1 ? d.val = n : u = l ? d.methodExt : d.propExt;
}
}
}, Ue.registerPlural = We = function(t, n, r) {
Ue.register(t, r), Ue.register(n, function() {
var t = r.apply(this, arguments);
return t === this ? this : t instanceof Ue ? t.length ? e.isArray(t[0]) ? new Ue(t.context, t[0]) : t[0] : i : t;
});
};
var xt = function(t, n) {
if ("number" == typeof t) return [ n[t] ];
var i = e.map(n, function(e, t) {
return e.nTable;
});
return e(i).filter(t).map(function(t) {
var r = e.inArray(this, i);
return n[r];
}).toArray();
};
ze("tables()", function(e) {
return e ? new Ue(xt(e, this.context)) : this;
}), ze("table()", function(e) {
var t = this.tables(e), n = t.context;
return n.length ? new Ue(n[0]) : t;
}), We("tables().nodes()", "table().node()", function() {
return this.iterator("table", function(e) {
return e.nTable;
}, 1);
}), We("tables().body()", "table().body()", function() {
return this.iterator("table", function(e) {
return e.nTBody;
}, 1);
}), We("tables().header()", "table().header()", function() {
return this.iterator("table", function(e) {
return e.nTHead;
}, 1);
}), We("tables().footer()", "table().footer()", function() {
return this.iterator("table", function(e) {
return e.nTFoot;
}, 1);
}), We("tables().containers()", "table().container()", function() {
return this.iterator("table", function(e) {
return e.nTableWrapper;
}, 1);
}), ze("draw()", function(e) {
return this.iterator("table", function(t) {
"page" === e ? O(t) : ("string" == typeof e && (e = "full-hold" !== e), R(t, !1 === e));
});
}), ze("page()", function(e) {
return e === i ? this.page.info().page : this.iterator("table", function(t) {
ce(t, e);
});
}), ze("page.info()", function(e) {
if (0 === this.context.length) return i;
var t = this.context[0], n = t._iDisplayStart, r = t.oFeatures.bPaginate ? t._iDisplayLength : -1, o = t.fnRecordsDisplay(), a = -1 === r;
return {
page: a ? 0 : Math.floor(n / r),
pages: a ? 1 : Math.ceil(o / r),
start: n,
end: t.fnDisplayEnd(),
length: r,
recordsTotal: t.fnRecordsTotal(),
recordsDisplay: o,
serverSide: "ssp" === Ne(t)
};
}), ze("page.len()", function(e) {
return e === i ? 0 !== this.context.length ? this.context[0]._iDisplayLength : i : this.iterator("table", function(t) {
ae(t, e);
});
});
var St = function(e, t, n) {
if (n) {
var i = new Ue(e);
i.one("draw", function() {
n(i.ajax.json());
});
}
if ("ssp" == Ne(e)) R(e, t); else {
de(e, !0);
var r = e.jqXHR;
r && 4 !== r.readyState && r.abort(), H(e, [], function(n) {
T(e);
for (var i = W(e, n), r = 0, o = i.length; r < o; r++) _(e, i[r]);
R(e, t), de(e, !1);
});
}
};
ze("ajax.json()", function() {
var e = this.context;
if (e.length > 0) return e[0].json;
}), ze("ajax.params()", function() {
var e = this.context;
if (e.length > 0) return e[0].oAjaxData;
}), ze("ajax.reload()", function(e, t) {
return this.iterator("table", function(n) {
St(n, !1 === t, e);
});
}), ze("ajax.url()", function(t) {
var n = this.context;
return t === i ? 0 === n.length ? i : (n = n[0]).ajax ? e.isPlainObject(n.ajax) ? n.ajax.url : n.ajax : n.sAjaxSource : this.iterator("table", function(n) {
e.isPlainObject(n.ajax) ? n.ajax.url = t : n.ajax = t;
});
}), ze("ajax.url().load()", function(e, t) {
return this.iterator("table", function(n) {
St(n, !1 === t, e);
});
});
var $t = function(t, n, r, o, a) {
var s, l, c, u, d, h, f = [], p = typeof n;
for (n && "string" !== p && "function" !== p && n.length !== i || (n = [ n ]), c = 0, u = n.length; c < u; c++) for (d = 0, h = (l = n[c] && n[c].split && !n[c].match(/[\[\(:]/) ? n[c].split(",") : [ n[c] ]).length; d < h; d++) (s = r("string" == typeof l[d] ? e.trim(l[d]) : l[d])) && s.length && (f = f.concat(s));
var g = Ve.selector[t];
if (g.length) for (c = 0, u = g.length; c < u; c++) f = g[c](o, a, f);
return dt(f);
}, At = function(t) {
return t || (t = {}), t.filter && t.search === i && (t.search = t.filter), e.extend({
search: "none",
order: "current",
page: "all"
}, t);
}, kt = function(e) {
for (var t = 0, n = e.length; t < n; t++) if (e[t].length > 0) return e[0] = e[t], e[0].length = 1, e.length = 1, e.context = [ e.context[t] ], e;
return e.length = 0, e;
}, Tt = function(t, n) {
var i, r = [], o = t.aiDisplay, a = t.aiDisplayMaster, s = n.search, l = n.order, c = n.page;
if ("ssp" == Ne(t)) return "removed" === s ? [] : st(0, a.length);
if ("current" == c) for (d = t._iDisplayStart, h = t.fnDisplayEnd(); d < h; d++) r.push(o[d]); else if ("current" == l || "applied" == l) {
if ("none" == s) r = a.slice(); else if ("applied" == s) r = o.slice(); else if ("removed" == s) {
for (var u = {}, d = 0, h = o.length; d < h; d++) u[o[d]] = null;
r = e.map(a, function(e) {
return u.hasOwnProperty(e) ? null : e;
});
}
} else if ("index" == l || "original" == l) for (d = 0, h = t.aoData.length; d < h; d++) "none" == s ? r.push(d) : (-1 === (i = e.inArray(d, o)) && "removed" == s || i >= 0 && "applied" == s) && r.push(d);
return r;
}, Dt = function(t, n, r) {
var o;
return $t("row", n, function(n) {
var a = et(n), s = t.aoData;
if (null !== a && !r) return [ a ];
if (o || (o = Tt(t, r)), null !== a && -1 !== e.inArray(a, o)) return [ a ];
if (null === n || n === i || "" === n) return o;
if ("function" == typeof n) return e.map(o, function(e) {
var t = s[e];
return n(e, t._aData, t.nTr) ? e : null;
});
if (n.nodeName) {
var l = n._DT_RowIndex, c = n._DT_CellIndex;
if (l !== i) return s[l] && s[l].nTr === n ? [ l ] : [];
if (c) return s[c.row] && s[c.row].nTr === n ? [ c.row ] : [];
var u = e(n).closest("*[data-dt-row]");
return u.length ? [ u.data("dt-row") ] : [];
}
if ("string" == typeof n && "#" === n.charAt(0)) {
var d = t.aIds[n.replace(/^#/, "")];
if (d !== i) return [ d.idx ];
}
var h = lt(at(t.aoData, o, "nTr"));
return e(h).filter(n).map(function() {
return this._DT_RowIndex;
}).toArray();
}, t, r);
};
ze("rows()", function(t, n) {
t === i ? t = "" : e.isPlainObject(t) && (n = t, t = ""), n = At(n);
var r = this.iterator("table", function(e) {
return Dt(e, t, n);
}, 1);
return r.selector.rows = t, r.selector.opts = n, r;
}), ze("rows().nodes()", function() {
return this.iterator("row", function(e, t) {
return e.aoData[t].nTr || i;
}, 1);
}), ze("rows().data()", function() {
return this.iterator(!0, "rows", function(e, t) {
return at(e.aoData, t, "_aData");
}, 1);
}), We("rows().cache()", "row().cache()", function(e) {
return this.iterator("row", function(t, n) {
var i = t.aoData[n];
return "search" === e ? i._aFilterData : i._aSortData;
}, 1);
}), We("rows().invalidate()", "row().invalidate()", function(e) {
return this.iterator("row", function(t, n) {
E(t, n, e);
});
}), We("rows().indexes()", "row().index()", function() {
return this.iterator("row", function(e, t) {
return t;
}, 1);
}), We("rows().ids()", "row().id()", function(e) {
for (var t = [], n = this.context, i = 0, r = n.length; i < r; i++) for (var o = 0, a = this[i].length; o < a; o++) {
var s = n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);
t.push((!0 === e ? "#" : "") + s);
}
return new Ue(n, t);
}), We("rows().remove()", "row().remove()", function() {
var e = this;
return this.iterator("row", function(t, n, r) {
var o, a, s, l, c, u, d = t.aoData, h = d[n];
for (d.splice(n, 1), o = 0, a = d.length; o < a; o++) if (c = d[o], u = c.anCells, null !== c.nTr && (c.nTr._DT_RowIndex = o), null !== u) for (s = 0, l = u.length; s < l; s++) u[s]._DT_CellIndex.row = o;
D(t.aiDisplayMaster, n), D(t.aiDisplay, n), D(e[r], n, !1), t._iRecordsDisplay > 0 && t._iRecordsDisplay--, Oe(t);
var f = t.rowIdFn(h._aData);
f !== i && delete t.aIds[f];
}), this.iterator("table", function(e) {
for (var t = 0, n = e.aoData.length; t < n; t++) e.aoData[t].idx = t;
}), this;
}), ze("rows.add()", function(t) {
var n = this.iterator("table", function(e) {
var n, i, r, o = [];
for (i = 0, r = t.length; i < r; i++) (n = t[i]).nodeName && "TR" === n.nodeName.toUpperCase() ? o.push(w(e, n)[0]) : o.push(_(e, n));
return o;
}, 1), i = this.rows(-1);
return i.pop(), e.merge(i, n), i;
}), ze("row()", function(e, t) {
return kt(this.rows(e, t));
}), ze("row().data()", function(t) {
var n = this.context;
if (t === i) return n.length && this.length ? n[0].aoData[this[0]]._aData : i;
var r = n[0].aoData[this[0]];
return r._aData = t, e.isArray(t) && r.nTr.id && A(n[0].rowId)(t, r.nTr.id), E(n[0], this[0], "data"), this;
}), ze("row().node()", function() {
var e = this.context;
return e.length && this.length ? e[0].aoData[this[0]].nTr || null : null;
}), ze("row.add()", function(t) {
t instanceof e && t.length && (t = t[0]);
var n = this.iterator("table", function(e) {
return t.nodeName && "TR" === t.nodeName.toUpperCase() ? w(e, t)[0] : _(e, t);
});
return this.row(n[0]);
});
var Et = function(t, n, i, r) {
var o = [], a = function(n, i) {
if (e.isArray(n) || n instanceof e) for (var r = 0, s = n.length; r < s; r++) a(n[r], i); else if (n.nodeName && "tr" === n.nodeName.toLowerCase()) o.push(n); else {
var l = e("<tr><td/></tr>").addClass(i);
e("td", l).addClass(i).html(n)[0].colSpan = m(t), o.push(l[0]);
}
};
a(i, r), n._details && n._details.detach(), n._details = e(o), n._detailsShow && n._details.insertAfter(n.nTr);
}, Ft = function(e, t) {
var n = e.context;
if (n.length) {
var r = n[0].aoData[t !== i ? t : e[0]];
r && r._details && (r._details.remove(), r._detailsShow = i, r._details = i);
}
}, Mt = function(e, t) {
var n = e.context;
if (n.length && e.length) {
var i = n[0].aoData[e[0]];
i._details && (i._detailsShow = t, t ? i._details.insertAfter(i.nTr) : i._details.detach(), It(n[0]));
}
}, It = function(e) {
var t = new Ue(e), n = e.aoData;
t.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"), ot(n, "_details").length > 0 && (t.on("draw.dt.DT_details", function(i, r) {
e === r && t.rows({
page: "current"
}).eq(0).each(function(e) {
var t = n[e];
t._detailsShow && t._details.insertAfter(t.nTr);
});
}), t.on("column-visibility.dt.DT_details", function(t, i, r, o) {
if (e === i) for (var a, s = m(i), l = 0, c = n.length; l < c; l++) (a = n[l])._details && a._details.children("td[colspan]").attr("colspan", s);
}), t.on("destroy.dt.DT_details", function(i, r) {
if (e === r) for (var o = 0, a = n.length; o < a; o++) n[o]._details && Ft(t, o);
}));
};
ze("row().child()", function(e, t) {
var n = this.context;
return e === i ? n.length && this.length ? n[0].aoData[this[0]]._details : i : (!0 === e ? this.child.show() : !1 === e ? Ft(this) : n.length && this.length && Et(n[0], n[0].aoData[this[0]], e, t), this);
}), ze([ "row().child.show()", "row().child().show()" ], function(e) {
return Mt(this, !0), this;
}), ze([ "row().child.hide()", "row().child().hide()" ], function() {
return Mt(this, !1), this;
}), ze([ "row().child.remove()", "row().child().remove()" ], function() {
return Ft(this), this;
}), ze("row().child.isShown()", function() {
var e = this.context;
return !(!e.length || !this.length) && (e[0].aoData[this[0]]._detailsShow || !1);
});
var Pt = /^([^:]+):(name|visIdx|visible)$/, Lt = function(e, t, n, i, r) {
for (var o = [], a = 0, s = r.length; a < s; a++) o.push(C(e, r[a], t));
return o;
}, Ot = function(t, n, i) {
var r = t.aoColumns, o = ot(r, "sName"), a = ot(r, "nTh");
return $t("column", n, function(n) {
var s = et(n);
if ("" === n) return st(r.length);
if (null !== s) return [ s >= 0 ? s : r.length + s ];
if ("function" == typeof n) {
var l = Tt(t, i);
return e.map(r, function(e, i) {
return n(i, Lt(t, i, 0, 0, l), a[i]) ? i : null;
});
}
var c = "string" == typeof n ? n.match(Pt) : "";
if (c) switch (c[2]) {
case "visIdx":
case "visible":
var u = parseInt(c[1], 10);
if (u < 0) {
var d = e.map(r, function(e, t) {
return e.bVisible ? t : null;
});
return [ d[d.length + u] ];
}
return [ p(t, u) ];

case "name":
return e.map(o, function(e, t) {
return e === c[1] ? t : null;
});

default:
return [];
}
if (n.nodeName && n._DT_CellIndex) return [ n._DT_CellIndex.column ];
var h = e(a).filter(n).map(function() {
return e.inArray(this, a);
}).toArray();
if (h.length || !n.nodeName) return h;
var f = e(n).closest("*[data-dt-column]");
return f.length ? [ f.data("dt-column") ] : [];
}, t, i);
}, Rt = function(t, n, r) {
var o, a, s, l, c = t.aoColumns, u = c[n], d = t.aoData;
if (r === i) return u.bVisible;
if (u.bVisible !== r) {
if (r) {
var h = e.inArray(!0, ot(c, "bVisible"), n + 1);
for (a = 0, s = d.length; a < s; a++) l = d[a].nTr, o = d[a].anCells, l && l.insertBefore(o[n], o[h] || null);
} else e(ot(t.aoData, "anCells", n)).detach();
u.bVisible = r, L(t, t.aoHeader), L(t, t.aoFooter), t.aiDisplay.length || e(t.nTBody).find("td[colspan]").attr("colspan", m(t)), ke(t);
}
};
ze("columns()", function(t, n) {
t === i ? t = "" : e.isPlainObject(t) && (n = t, t = ""), n = At(n);
var r = this.iterator("table", function(e) {
return Ot(e, t, n);
}, 1);
return r.selector.cols = t, r.selector.opts = n, r;
}), We("columns().header()", "column().header()", function(e, t) {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].nTh;
}, 1);
}), We("columns().footer()", "column().footer()", function(e, t) {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].nTf;
}, 1);
}), We("columns().data()", "column().data()", function() {
return this.iterator("column-rows", Lt, 1);
}), We("columns().dataSrc()", "column().dataSrc()", function() {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].mData;
}, 1);
}), We("columns().cache()", "column().cache()", function(e) {
return this.iterator("column-rows", function(t, n, i, r, o) {
return at(t.aoData, o, "search" === e ? "_aFilterData" : "_aSortData", n);
}, 1);
}), We("columns().nodes()", "column().nodes()", function() {
return this.iterator("column-rows", function(e, t, n, i, r) {
return at(e.aoData, r, "anCells", t);
}, 1);
}), We("columns().visible()", "column().visible()", function(e, t) {
var n = this.iterator("column", function(t, n) {
if (e === i) return t.aoColumns[n].bVisible;
Rt(t, n, e);
});
return e !== i && (this.iterator("column", function(n, i) {
Le(n, null, "column-visibility", [ n, i, e, t ]);
}), (t === i || t) && this.columns.adjust()), n;
}), We("columns().indexes()", "column().index()", function(e) {
return this.iterator("column", function(t, n) {
return "visible" === e ? g(t, n) : n;
}, 1);
}), ze("columns.adjust()", function() {
return this.iterator("table", function(e) {
f(e);
}, 1);
}), ze("column.index()", function(e, t) {
if (0 !== this.context.length) {
var n = this.context[0];
if ("fromVisible" === e || "toData" === e) return p(n, t);
if ("fromData" === e || "toVisible" === e) return g(n, t);
}
}), ze("column()", function(e, t) {
return kt(this.columns(e, t));
});
var Nt = function(t, n, r) {
var o, a, s, l, c, u, d, h = t.aoData, f = Tt(t, r), p = lt(at(h, f, "anCells")), g = e([].concat.apply([], p)), m = t.aoColumns.length;
return $t("cell", n, function(n) {
var r = "function" == typeof n;
if (null === n || n === i || r) {
for (a = [], s = 0, l = f.length; s < l; s++) for (o = f[s], c = 0; c < m; c++) u = {
row: o,
column: c
}, r ? (d = h[o], n(u, C(t, o, c), d.anCells ? d.anCells[c] : null) && a.push(u)) : a.push(u);
return a;
}
if (e.isPlainObject(n)) return n.column !== i && n.row !== i && -1 !== e.inArray(n.row, f) ? [ n ] : [];
var p = g.filter(n).map(function(e, t) {
return {
row: t._DT_CellIndex.row,
column: t._DT_CellIndex.column
};
}).toArray();
return p.length || !n.nodeName ? p : (d = e(n).closest("*[data-dt-row]")).length ? [ {
row: d.data("dt-row"),
column: d.data("dt-column")
} ] : [];
}, t, r);
};
ze("cells()", function(t, n, r) {
if (e.isPlainObject(t) && (t.row === i ? (r = t, t = null) : (r = n, n = null)), e.isPlainObject(n) && (r = n, n = null), null === n || n === i) return this.iterator("table", function(e) {
return Nt(e, t, At(r));
});
var o, a, s, l, c, u = this.columns(n), d = this.rows(t);
this.iterator("table", function(e, t) {
for (o = [], a = 0, s = d[t].length; a < s; a++) for (l = 0, c = u[t].length; l < c; l++) o.push({
row: d[t][a],
column: u[t][l]
});
}, 1);
var h = this.cells(o, r);
return e.extend(h.selector, {
cols: n,
rows: t,
opts: r
}), h;
}), We("cells().nodes()", "cell().node()", function() {
return this.iterator("cell", function(e, t, n) {
var r = e.aoData[t];
return r && r.anCells ? r.anCells[n] : i;
}, 1);
}), ze("cells().data()", function() {
return this.iterator("cell", function(e, t, n) {
return C(e, t, n);
}, 1);
}), We("cells().cache()", "cell().cache()", function(e) {
return e = "search" === e ? "_aFilterData" : "_aSortData", this.iterator("cell", function(t, n, i) {
return t.aoData[n][e][i];
}, 1);
}), We("cells().render()", "cell().render()", function(e) {
return this.iterator("cell", function(t, n, i) {
return C(t, n, i, e);
}, 1);
}), We("cells().indexes()", "cell().index()", function() {
return this.iterator("cell", function(e, t, n) {
return {
row: t,
column: n,
columnVisible: g(e, n)
};
}, 1);
}), We("cells().invalidate()", "cell().invalidate()", function(e) {
return this.iterator("cell", function(t, n, i) {
E(t, n, e, i);
});
}), ze("cell()", function(e, t, n) {
return kt(this.cells(e, t, n));
}), ze("cell().data()", function(e) {
var t = this.context, n = this[0];
return e === i ? t.length && n.length ? C(t[0], n[0].row, n[0].column) : i : (x(t[0], n[0].row, n[0].column, e), E(t[0], n[0].row, "data", n[0].column), this);
}), ze("order()", function(t, n) {
var r = this.context;
return t === i ? 0 !== r.length ? r[0].aaSorting : i : ("number" == typeof t ? t = [ [ t, n ] ] : t.length && !e.isArray(t[0]) && (t = Array.prototype.slice.call(arguments)), this.iterator("table", function(e) {
e.aaSorting = t.slice();
}));
}), ze("order.listener()", function(e, t, n) {
return this.iterator("table", function(i) {
Se(i, e, t, n);
});
}), ze("order.fixed()", function(t) {
if (!t) {
var n = this.context, r = n.length ? n[0].aaSortingFixed : i;
return e.isArray(r) ? {
pre: r
} : r;
}
return this.iterator("table", function(n) {
n.aaSortingFixed = e.extend(!0, {}, t);
});
}), ze([ "columns().order()", "column().order()" ], function(t) {
var n = this;
return this.iterator("table", function(i, r) {
var o = [];
e.each(n[r], function(e, n) {
o.push([ n, t ]);
}), i.aaSorting = o;
});
}), ze("search()", function(t, n, r, o) {
var a = this.context;
return t === i ? 0 !== a.length ? a[0].oPreviousSearch.sSearch : i : this.iterator("table", function(i) {
i.oFeatures.bFilter && G(i, e.extend({}, i.oPreviousSearch, {
sSearch: t + "",
bRegex: null !== n && n,
bSmart: null === r || r,
bCaseInsensitive: null === o || o
}), 1);
});
}), We("columns().search()", "column().search()", function(t, n, r, o) {
return this.iterator("column", function(a, s) {
var l = a.aoPreSearchCols;
if (t === i) return l[s].sSearch;
a.oFeatures.bFilter && (e.extend(l[s], {
sSearch: t + "",
bRegex: null !== n && n,
bSmart: null === r || r,
bCaseInsensitive: null === o || o
}), G(a, a.oPreviousSearch, 1));
});
}), ze("state()", function() {
return this.context.length ? this.context[0].oSavedState : null;
}), ze("state.clear()", function() {
return this.iterator("table", function(e) {
e.fnStateSaveCallback.call(e.oInstance, e, {});
});
}), ze("state.loaded()", function() {
return this.context.length ? this.context[0].oLoadedState : null;
}), ze("state.save()", function() {
return this.iterator("table", function(e) {
ke(e);
});
}), qe.versionCheck = qe.fnVersionCheck = function(e) {
for (var t, n, i = qe.version.split("."), r = e.split("."), o = 0, a = r.length; o < a; o++) if (t = parseInt(i[o], 10) || 0, n = parseInt(r[o], 10) || 0, t !== n) return t > n;
return !0;
}, qe.isDataTable = qe.fnIsDataTable = function(t) {
var n = e(t).get(0), i = !1;
return t instanceof qe.Api || (e.each(qe.settings, function(t, r) {
var o = r.nScrollHead ? e("table", r.nScrollHead)[0] : null, a = r.nScrollFoot ? e("table", r.nScrollFoot)[0] : null;
r.nTable !== n && o !== n && a !== n || (i = !0);
}), i);
}, qe.tables = qe.fnTables = function(t) {
var n = !1;
e.isPlainObject(t) && (n = t.api, t = t.visible);
var i = e.map(qe.settings, function(n) {
if (!t || t && e(n.nTable).is(":visible")) return n.nTable;
});
return n ? new Ue(i) : i;
}, qe.camelToHungarian = o, ze("$()", function(t, n) {
var i = this.rows(n).nodes(), r = e(i);
return e([].concat(r.filter(t).toArray(), r.find(t).toArray()));
}), e.each([ "on", "one", "off" ], function(t, n) {
ze(n + "()", function() {
var t = Array.prototype.slice.call(arguments);
t[0] = e.map(t[0].split(/\s/), function(e) {
return e.match(/\.dt\b/) ? e : e + ".dt";
}).join(" ");
var i = e(this.tables().nodes());
return i[n].apply(i, t), this;
});
}), ze("clear()", function() {
return this.iterator("table", function(e) {
T(e);
});
}), ze("settings()", function() {
return new Ue(this.context, this.context);
}), ze("init()", function() {
var e = this.context;
return e.length ? e[0].oInit : null;
}), ze("data()", function() {
return this.iterator("table", function(e) {
return ot(e.aoData, "_aData");
}).flatten();
}), ze("destroy()", function(n) {
return n = n || !1, this.iterator("table", function(i) {
var r, o = i.nTableWrapper.parentNode, a = i.oClasses, s = i.nTable, l = i.nTBody, c = i.nTHead, u = i.nTFoot, d = e(s), h = e(l), f = e(i.nTableWrapper), p = e.map(i.aoData, function(e) {
return e.nTr;
});
i.bDestroying = !0, Le(i, "aoDestroyCallback", "destroy", [ i ]), n || new Ue(i).columns().visible(!0), f.off(".DT").find(":not(tbody *)").off(".DT"), e(t).off(".DT-" + i.sInstance), s != c.parentNode && (d.children("thead").detach(), d.append(c)), u && s != u.parentNode && (d.children("tfoot").detach(), d.append(u)), i.aaSorting = [], i.aaSortingFixed = [], $e(i), e(p).removeClass(i.asStripeClasses.join(" ")), e("th, td", c).removeClass(a.sSortable + " " + a.sSortableAsc + " " + a.sSortableDesc + " " + a.sSortableNone), h.children().detach(), h.append(p);
var g = n ? "remove" : "detach";
d[g](), f[g](), !n && o && (o.insertBefore(s, i.nTableReinsertBefore), d.css("width", i.sDestroyWidth).removeClass(a.sTable), (r = i.asDestroyStripes.length) && h.children().each(function(t) {
e(this).addClass(i.asDestroyStripes[t % r]);
}));
var m = e.inArray(i, qe.settings);
-1 !== m && qe.settings.splice(m, 1);
});
}), e.each([ "column", "row", "cell" ], function(e, t) {
ze(t + "s().every()", function(e) {
var n = this.selector.opts, r = this;
return this.iterator(t, function(o, a, s, l, c) {
e.call(r[t](a, "cell" === t ? s : n, "cell" === t ? n : i), a, s, l, c);
});
});
}), ze("i18n()", function(t, n, r) {
var o = this.context[0], a = $(t)(o.oLanguage);
return a === i && (a = n), r !== i && e.isPlainObject(a) && (a = a[r] !== i ? a[r] : a._), a.replace("%d", r);
}), qe.version = "1.10.19", qe.settings = [], qe.models = {}, qe.models.oSearch = {
bCaseInsensitive: !0,
sSearch: "",
bRegex: !1,
bSmart: !0
}, qe.models.oRow = {
nTr: null,
anCells: null,
_aData: [],
_aSortData: null,
_aFilterData: null,
_sFilterRow: null,
_sRowStripe: "",
src: null,
idx: -1
}, qe.models.oColumn = {
idx: null,
aDataSort: null,
asSorting: null,
bSearchable: null,
bSortable: null,
bVisible: null,
_sManualType: null,
_bAttrSrc: !1,
fnCreatedCell: null,
fnGetData: null,
fnSetData: null,
mData: null,
mRender: null,
nTh: null,
nTf: null,
sClass: null,
sContentPadding: null,
sDefaultContent: null,
sName: null,
sSortDataType: "std",
sSortingClass: null,
sSortingClassJUI: null,
sTitle: null,
sType: null,
sWidth: null,
sWidthOrig: null
}, qe.defaults = {
aaData: null,
aaSorting: [ [ 0, "asc" ] ],
aaSortingFixed: [],
ajax: null,
aLengthMenu: [ 10, 25, 50, 100 ],
aoColumns: null,
aoColumnDefs: null,
aoSearchCols: [],
asStripeClasses: null,
bAutoWidth: !0,
bDeferRender: !1,
bDestroy: !1,
bFilter: !0,
bInfo: !0,
bLengthChange: !0,
bPaginate: !0,
bProcessing: !1,
bRetrieve: !1,
bScrollCollapse: !1,
bServerSide: !1,
bSort: !0,
bSortMulti: !0,
bSortCellsTop: !1,
bSortClasses: !0,
bStateSave: !1,
fnCreatedRow: null,
fnDrawCallback: null,
fnFooterCallback: null,
fnFormatNumber: function(e) {
return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.oLanguage.sThousands);
},
fnHeaderCallback: null,
fnInfoCallback: null,
fnInitComplete: null,
fnPreDrawCallback: null,
fnRowCallback: null,
fnServerData: null,
fnServerParams: null,
fnStateLoadCallback: function(e) {
try {
return JSON.parse((-1 === e.iStateDuration ? sessionStorage : localStorage).getItem("DataTables_" + e.sInstance + "_" + location.pathname));
} catch (e) {}
},
fnStateLoadParams: null,
fnStateLoaded: null,
fnStateSaveCallback: function(e, t) {
try {
(-1 === e.iStateDuration ? sessionStorage : localStorage).setItem("DataTables_" + e.sInstance + "_" + location.pathname, JSON.stringify(t));
} catch (e) {}
},
fnStateSaveParams: null,
iStateDuration: 7200,
iDeferLoading: null,
iDisplayLength: 10,
iDisplayStart: 0,
iTabIndex: 0,
oClasses: {},
oLanguage: {
oAria: {
sSortAscending: ": activate to sort column ascending",
sSortDescending: ": activate to sort column descending"
},
oPaginate: {
sFirst: "First",
sLast: "Last",
sNext: "Next",
sPrevious: "Previous"
},
sEmptyTable: "No data available in table",
sInfo: "Showing _START_ to _END_ of _TOTAL_ entries",
sInfoEmpty: "Showing 0 to 0 of 0 entries",
sInfoFiltered: "(filtered from _MAX_ total entries)",
sInfoPostFix: "",
sDecimal: "",
sThousands: ",",
sLengthMenu: "Show _MENU_ entries",
sLoadingRecords: "Loading...",
sProcessing: "Processing...",
sSearch: "Search:",
sSearchPlaceholder: "",
sUrl: "",
sZeroRecords: "No matching records found"
},
oSearch: e.extend({}, qe.models.oSearch),
sAjaxDataProp: "data",
sAjaxSource: null,
sDom: "lfrtip",
searchDelay: null,
sPaginationType: "simple_numbers",
sScrollX: "",
sScrollXInner: "",
sScrollY: "",
sServerMethod: "GET",
renderer: null,
rowId: "DT_RowId"
}, r(qe.defaults), qe.defaults.column = {
aDataSort: null,
iDataSort: -1,
asSorting: [ "asc", "desc" ],
bSearchable: !0,
bSortable: !0,
bVisible: !0,
fnCreatedCell: null,
mData: null,
mRender: null,
sCellType: "td",
sClass: "",
sContentPadding: "",
sDefaultContent: null,
sName: "",
sSortDataType: "std",
sTitle: null,
sType: null,
sWidth: null
}, r(qe.defaults.column), qe.models.oSettings = {
oFeatures: {
bAutoWidth: null,
bDeferRender: null,
bFilter: null,
bInfo: null,
bLengthChange: null,
bPaginate: null,
bProcessing: null,
bServerSide: null,
bSort: null,
bSortMulti: null,
bSortClasses: null,
bStateSave: null
},
oScroll: {
bCollapse: null,
iBarWidth: 0,
sX: null,
sXInner: null,
sY: null
},
oLanguage: {
fnInfoCallback: null
},
oBrowser: {
bScrollOversize: !1,
bScrollbarLeft: !1,
bBounding: !1,
barWidth: 0
},
ajax: null,
aanFeatures: [],
aoData: [],
aiDisplay: [],
aiDisplayMaster: [],
aIds: {},
aoColumns: [],
aoHeader: [],
aoFooter: [],
oPreviousSearch: {},
aoPreSearchCols: [],
aaSorting: null,
aaSortingFixed: [],
asStripeClasses: null,
asDestroyStripes: [],
sDestroyWidth: 0,
aoRowCallback: [],
aoHeaderCallback: [],
aoFooterCallback: [],
aoDrawCallback: [],
aoRowCreatedCallback: [],
aoPreDrawCallback: [],
aoInitComplete: [],
aoStateSaveParams: [],
aoStateLoadParams: [],
aoStateLoaded: [],
sTableId: "",
nTable: null,
nTHead: null,
nTFoot: null,
nTBody: null,
nTableWrapper: null,
bDeferLoading: !1,
bInitialised: !1,
aoOpenRows: [],
sDom: null,
searchDelay: null,
sPaginationType: "two_button",
iStateDuration: 0,
aoStateSave: [],
aoStateLoad: [],
oSavedState: null,
oLoadedState: null,
sAjaxSource: null,
sAjaxDataProp: null,
bAjaxDataGet: !0,
jqXHR: null,
json: i,
oAjaxData: i,
fnServerData: null,
aoServerParams: [],
sServerMethod: null,
fnFormatNumber: null,
aLengthMenu: null,
iDraw: 0,
bDrawing: !1,
iDrawError: -1,
_iDisplayLength: 10,
_iDisplayStart: 0,
_iRecordsTotal: 0,
_iRecordsDisplay: 0,
oClasses: {},
bFiltered: !1,
bSorted: !1,
bSortCellsTop: null,
oInit: null,
aoDestroyCallback: [],
fnRecordsTotal: function() {
return "ssp" == Ne(this) ? 1 * this._iRecordsTotal : this.aiDisplayMaster.length;
},
fnRecordsDisplay: function() {
return "ssp" == Ne(this) ? 1 * this._iRecordsDisplay : this.aiDisplay.length;
},
fnDisplayEnd: function() {
var e = this._iDisplayLength, t = this._iDisplayStart, n = t + e, i = this.aiDisplay.length, r = this.oFeatures, o = r.bPaginate;
return r.bServerSide ? !1 === o || -1 === e ? t + i : Math.min(t + e, this._iRecordsDisplay) : !o || n > i || -1 === e ? i : n;
},
oInstance: null,
sInstance: null,
iTabIndex: 0,
nScrollHead: null,
nScrollFoot: null,
aLastSort: [],
oPlugins: {},
rowIdFn: null,
rowId: null
}, qe.ext = Ve = {
buttons: {},
classes: {},
builder: "-source-",
errMode: "alert",
feature: [],
search: [],
selector: {
cell: [],
column: [],
row: []
},
internal: {},
legacy: {
ajax: null
},
pager: {},
renderer: {
pageButton: {},
header: {}
},
order: {},
type: {
detect: [],
search: {},
order: {}
},
_unique: 0,
fnVersionCheck: qe.fnVersionCheck,
iApiIndex: 0,
oJUIClasses: {},
sVersion: qe.version
}, e.extend(Ve, {
afnFiltering: Ve.search,
aTypes: Ve.type.detect,
ofnSearch: Ve.type.search,
oSort: Ve.type.order,
afnSortData: Ve.order,
aoFeatures: Ve.feature,
oApi: Ve.internal,
oStdClasses: Ve.classes,
oPagination: Ve.pager
}), e.extend(qe.ext.classes, {
sTable: "dataTable",
sNoFooter: "no-footer",
sPageButton: "paginate_button",
sPageButtonActive: "current",
sPageButtonDisabled: "disabled",
sStripeOdd: "odd",
sStripeEven: "even",
sRowEmpty: "dataTables_empty",
sWrapper: "dataTables_wrapper",
sFilter: "dataTables_filter",
sInfo: "dataTables_info",
sPaging: "dataTables_paginate paging_",
sLength: "dataTables_length",
sProcessing: "dataTables_processing",
sSortAsc: "sorting_asc",
sSortDesc: "sorting_desc",
sSortable: "sorting",
sSortableAsc: "sorting_asc_disabled",
sSortableDesc: "sorting_desc_disabled",
sSortableNone: "sorting_disabled",
sSortColumn: "sorting_",
sFilterInput: "",
sLengthSelect: "",
sScrollWrapper: "dataTables_scroll",
sScrollHead: "dataTables_scrollHead",
sScrollHeadInner: "dataTables_scrollHeadInner",
sScrollBody: "dataTables_scrollBody",
sScrollFoot: "dataTables_scrollFoot",
sScrollFootInner: "dataTables_scrollFootInner",
sHeaderTH: "",
sFooterTH: "",
sSortJUIAsc: "",
sSortJUIDesc: "",
sSortJUI: "",
sSortJUIAscAllowed: "",
sSortJUIDescAllowed: "",
sSortJUIWrapper: "",
sSortIcon: "",
sJUIHeader: "",
sJUIFooter: ""
});
var Bt = qe.ext.pager;
e.extend(Bt, {
simple: function(e, t) {
return [ "previous", "next" ];
},
full: function(e, t) {
return [ "first", "previous", "next", "last" ];
},
numbers: function(e, t) {
return [ Be(e, t) ];
},
simple_numbers: function(e, t) {
return [ "previous", Be(e, t), "next" ];
},
full_numbers: function(e, t) {
return [ "first", "previous", Be(e, t), "next", "last" ];
},
first_last_numbers: function(e, t) {
return [ "first", Be(e, t), "last" ];
},
_numbers: Be,
numbers_length: 7
}), e.extend(!0, qe.ext.renderer, {
pageButton: {
_: function(t, r, o, a, s, l) {
var c, u, d, h = t.oClasses, f = t.oLanguage.oPaginate, p = t.oLanguage.oAria.paginate || {}, g = 0, m = function(n, i) {
var r, a, d;
for (r = 0, a = i.length; r < a; r++) if (d = i[r], e.isArray(d)) {
var v = e("<" + (d.DT_el || "div") + "/>").appendTo(n);
m(v, d);
} else {
switch (c = null, u = "", d) {
case "ellipsis":
n.append('<span class="ellipsis">&#x2026;</span>');
break;

case "first":
c = f.sFirst, u = d + (s > 0 ? "" : " " + h.sPageButtonDisabled);
break;

case "previous":
c = f.sPrevious, u = d + (s > 0 ? "" : " " + h.sPageButtonDisabled);
break;

case "next":
c = f.sNext, u = d + (s < l - 1 ? "" : " " + h.sPageButtonDisabled);
break;

case "last":
c = f.sLast, u = d + (s < l - 1 ? "" : " " + h.sPageButtonDisabled);
break;

default:
c = d + 1, u = s === d ? h.sPageButtonActive : "";
}
null !== c && (Ie(e("<a>", {
class: h.sPageButton + " " + u,
"aria-controls": t.sTableId,
"aria-label": p[d],
"data-dt-idx": g,
tabindex: t.iTabIndex,
id: 0 === o && "string" == typeof d ? t.sTableId + "_" + d : null
}).html(c).appendTo(n), {
action: d
}, function(e) {
ce(t, e.data.action, !0);
}), g++);
}
};
try {
d = e(r).find(n.activeElement).data("dt-idx");
} catch (e) {}
m(e(r).empty(), a), d !== i && e(r).find("[data-dt-idx=" + d + "]").focus();
}
}
}), e.extend(qe.ext.type.detect, [ function(e, t) {
var n = t.oLanguage.sDecimal;
return nt(e, n) ? "num" + n : null;
}, function(e, t) {
if (e && !(e instanceof Date) && !Xe.test(e)) return null;
var n = Date.parse(e);
return null !== n && !isNaN(n) || Ze(e) ? "date" : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return nt(e, n, !0) ? "num-fmt" + n : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return rt(e, n) ? "html-num" + n : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return rt(e, n, !0) ? "html-num-fmt" + n : null;
}, function(e, t) {
return Ze(e) || "string" == typeof e && -1 !== e.indexOf("<") ? "html" : null;
} ]), e.extend(qe.ext.type.search, {
html: function(e) {
return Ze(e) ? e : "string" == typeof e ? e.replace(Ye, " ").replace(Ke, "") : "";
},
string: function(e) {
return Ze(e) ? e : "string" == typeof e ? e.replace(Ye, " ") : e;
}
});
var jt = function(e, t, n, i) {
return 0 === e || e && "-" !== e ? (t && (e = tt(e, t)), e.replace && (n && (e = e.replace(n, "")), i && (e = e.replace(i, ""))), 1 * e) : -1 / 0;
};
e.extend(Ve.type.order, {
"date-pre": function(e) {
var t = Date.parse(e);
return isNaN(t) ? -1 / 0 : t;
},
"html-pre": function(e) {
return Ze(e) ? "" : e.replace ? e.replace(/<.*?>/g, "").toLowerCase() : e + "";
},
"string-pre": function(e) {
return Ze(e) ? "" : "string" == typeof e ? e.toLowerCase() : e.toString ? e.toString() : "";
},
"string-asc": function(e, t) {
return e < t ? -1 : e > t ? 1 : 0;
},
"string-desc": function(e, t) {
return e < t ? 1 : e > t ? -1 : 0;
}
}), je(""), e.extend(!0, qe.ext.renderer, {
header: {
_: function(t, n, i, r) {
e(t.nTable).on("order.dt.DT", function(e, o, a, s) {
if (t === o) {
var l = i.idx;
n.removeClass(i.sSortingClass + " " + r.sSortAsc + " " + r.sSortDesc).addClass("asc" == s[l] ? r.sSortAsc : "desc" == s[l] ? r.sSortDesc : i.sSortingClass);
}
});
},
jqueryui: function(t, n, i, r) {
e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon + " " + i.sSortingClassJUI)).appendTo(n), e(t.nTable).on("order.dt.DT", function(e, o, a, s) {
if (t === o) {
var l = i.idx;
n.removeClass(r.sSortAsc + " " + r.sSortDesc).addClass("asc" == s[l] ? r.sSortAsc : "desc" == s[l] ? r.sSortDesc : i.sSortingClass), n.find("span." + r.sSortIcon).removeClass(r.sSortJUIAsc + " " + r.sSortJUIDesc + " " + r.sSortJUI + " " + r.sSortJUIAscAllowed + " " + r.sSortJUIDescAllowed).addClass("asc" == s[l] ? r.sSortJUIAsc : "desc" == s[l] ? r.sSortJUIDesc : i.sSortingClassJUI);
}
});
}
}
});
var Ht = function(e) {
return "string" == typeof e ? e.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;") : e;
};
return qe.render = {
number: function(e, t, n, i, r) {
return {
display: function(o) {
if ("number" != typeof o && "string" != typeof o) return o;
var a = o < 0 ? "-" : "", s = parseFloat(o);
if (isNaN(s)) return Ht(o);
s = s.toFixed(n), o = Math.abs(s);
var l = parseInt(o, 10), c = n ? t + (o - l).toFixed(n).substring(2) : "";
return a + (i || "") + l.toString().replace(/\B(?=(\d{3})+(?!\d))/g, e) + c + (r || "");
}
};
},
text: function() {
return {
display: Ht,
filter: Ht
};
}
}, e.extend(qe.ext.internal, {
_fnExternApiFunc: He,
_fnBuildAjax: H,
_fnAjaxUpdate: V,
_fnAjaxParameters: U,
_fnAjaxUpdateDraw: z,
_fnAjaxDataSrc: W,
_fnAddColumn: d,
_fnColumnOptions: h,
_fnAdjustColumnSizing: f,
_fnVisibleToColumnIndex: p,
_fnColumnIndexToVisible: g,
_fnVisbleColumns: m,
_fnGetColumns: v,
_fnColumnTypes: y,
_fnApplyColumnDefs: b,
_fnHungarianMap: r,
_fnCamelToHungarian: o,
_fnLanguageCompat: a,
_fnBrowserDetect: c,
_fnAddData: _,
_fnAddTr: w,
_fnNodeToDataIndex: function(e, t) {
return t._DT_RowIndex !== i ? t._DT_RowIndex : null;
},
_fnNodeToColumnIndex: function(t, n, i) {
return e.inArray(i, t.aoData[n].anCells);
},
_fnGetCellData: C,
_fnSetCellData: x,
_fnSplitObjNotation: S,
_fnGetObjectDataFn: $,
_fnSetObjectDataFn: A,
_fnGetDataMaster: k,
_fnClearTable: T,
_fnDeleteIndex: D,
_fnInvalidate: E,
_fnGetRowElements: F,
_fnCreateTr: M,
_fnBuildHead: P,
_fnDrawHead: L,
_fnDraw: O,
_fnReDraw: R,
_fnAddOptionsHtml: N,
_fnDetectHeader: B,
_fnGetUniqueThs: j,
_fnFeatureHtmlFilter: q,
_fnFilterComplete: G,
_fnFilterCustom: Y,
_fnFilterColumn: K,
_fnFilter: X,
_fnFilterCreateSearch: Q,
_fnEscapeRegex: gt,
_fnFilterData: J,
_fnFeatureHtmlInfo: te,
_fnUpdateInfo: ne,
_fnInfoMacros: ie,
_fnInitialise: re,
_fnInitComplete: oe,
_fnLengthChange: ae,
_fnFeatureHtmlLength: se,
_fnFeatureHtmlPaginate: le,
_fnPageChange: ce,
_fnFeatureHtmlProcessing: ue,
_fnProcessingDisplay: de,
_fnFeatureHtmlTable: he,
_fnScrollDraw: fe,
_fnApplyToChildren: pe,
_fnCalculateColumnWidths: ge,
_fnThrottle: bt,
_fnConvertToWidth: me,
_fnGetWidestNode: ve,
_fnGetMaxLenString: ye,
_fnStringToCss: be,
_fnSortFlatten: _e,
_fnSort: we,
_fnSortAria: Ce,
_fnSortListener: xe,
_fnSortAttachListener: Se,
_fnSortingClasses: $e,
_fnSortData: Ae,
_fnSaveState: ke,
_fnLoadState: Te,
_fnSettingsFromNode: De,
_fnLog: Ee,
_fnMap: Fe,
_fnBindAction: Ie,
_fnCallbackReg: Pe,
_fnCallbackFire: Le,
_fnLengthOverflow: Oe,
_fnRenderer: Re,
_fnDataSource: Ne,
_fnRowAttributes: I,
_fnExtend: Me,
_fnCalculateEnd: function() {}
}), e.fn.dataTable = qe, qe.$ = e, e.fn.dataTableSettings = qe.settings, e.fn.dataTableExt = qe.ext, e.fn.DataTable = function(t) {
return e(this).dataTable(t).api();
}, e.each(qe, function(t, n) {
e.fn.DataTable[t] = n;
}), e.fn.dataTable;
}), function(e) {
"function" == typeof define && define.amd ? define([ "jquery", "datatables.net" ], function(t) {
return e(t, window, document);
}) : "object" == typeof exports ? module.exports = function(t, n) {
return t || (t = window), n && n.fn.dataTable || (n = require("datatables.net")(t, n).$), e(n, t, t.document);
} : e(jQuery, window, document);
}(function(e, t, n, i) {
"use strict";
function r(e) {
for (var t = [], n = 0, i = e.length; n < i; n++) t[e[n]] = n;
return t;
}
function o(e, t, n) {
var i = e.splice(t, 1)[0];
e.splice(n, 0, i);
}
function a(e, t, n) {
for (var i = [], r = 0, o = e.childNodes.length; r < o; r++) 1 == e.childNodes[r].nodeType && i.push(e.childNodes[r]);
var a = i[t];
null !== n ? e.insertBefore(a, i[n]) : e.appendChild(a);
}
var s = e.fn.dataTable;
e.fn.dataTableExt.oApi.fnColReorder = function(t, n, s, l, c) {
var u, d, h, f, p, g, m, v = t.aoColumns.length, y = function(e, t, n) {
if (e[t] && "function" != typeof e[t]) {
var i = e[t].split("."), r = i.shift();
isNaN(1 * r) || (e[t] = n[1 * r] + "." + i.join("."));
}
};
if (n != s) if (n < 0 || n >= v) this.oApi._fnLog(t, 1, "ColReorder 'from' index is out of bounds: " + n); else if (s < 0 || s >= v) this.oApi._fnLog(t, 1, "ColReorder 'to' index is out of bounds: " + s); else {
var b = [];
for (u = 0, d = v; u < d; u++) b[u] = u;
o(b, n, s);
var _ = r(b);
for (u = 0, d = t.aaSorting.length; u < d; u++) t.aaSorting[u][0] = _[t.aaSorting[u][0]];
if (null !== t.aaSortingFixed) for (u = 0, d = t.aaSortingFixed.length; u < d; u++) t.aaSortingFixed[u][0] = _[t.aaSortingFixed[u][0]];
for (u = 0, d = v; u < d; u++) {
for (h = 0, f = (m = t.aoColumns[u]).aDataSort.length; h < f; h++) m.aDataSort[h] = _[m.aDataSort[h]];
m.idx = _[m.idx];
}
for (e.each(t.aLastSort, function(e, n) {
t.aLastSort[e].src = _[n.src];
}), u = 0, d = v; u < d; u++) "number" == typeof (m = t.aoColumns[u]).mData ? m.mData = _[m.mData] : e.isPlainObject(m.mData) && (y(m.mData, "_", _), y(m.mData, "filter", _), y(m.mData, "sort", _), y(m.mData, "type", _));
if (t.aoColumns[n].bVisible) {
var w = this.oApi._fnColumnIndexToVisible(t, n), C = null;
for (u = s < n ? s : s + 1; null === C && u < v; ) C = this.oApi._fnColumnIndexToVisible(t, u), u++;
for (u = 0, d = (g = t.nTHead.getElementsByTagName("tr")).length; u < d; u++) a(g[u], w, C);
if (null !== t.nTFoot) for (u = 0, d = (g = t.nTFoot.getElementsByTagName("tr")).length; u < d; u++) a(g[u], w, C);
for (u = 0, d = t.aoData.length; u < d; u++) null !== t.aoData[u].nTr && a(t.aoData[u].nTr, w, C);
}
for (o(t.aoColumns, n, s), u = 0, d = v; u < d; u++) t.oApi._fnColumnOptions(t, u, {});
for (o(t.aoPreSearchCols, n, s), u = 0, d = t.aoData.length; u < d; u++) {
var x = t.aoData[u], S = x.anCells;
if (S) for (o(S, n, s), h = 0, p = S.length; h < p; h++) S[h] && S[h]._DT_CellIndex && (S[h]._DT_CellIndex.column = h);
"dom" !== x.src && e.isArray(x._aData) && o(x._aData, n, s);
}
for (u = 0, d = t.aoHeader.length; u < d; u++) o(t.aoHeader[u], n, s);
if (null !== t.aoFooter) for (u = 0, d = t.aoFooter.length; u < d; u++) o(t.aoFooter[u], n, s);
for ((c || c === i) && e.fn.dataTable.Api(t).rows().invalidate(), u = 0, d = v; u < d; u++) e(t.aoColumns[u].nTh).off(".DT"), this.oApi._fnSortAttachListener(t, t.aoColumns[u].nTh, u);
e(t.oInstance).trigger("column-reorder.dt", [ t, {
from: n,
to: s,
mapping: _,
drop: l,
iFrom: n,
iTo: s,
aiInvertMapping: _
} ]);
}
};
var l = function(t, n) {
var i = new e.fn.dataTable.Api(t).settings()[0];
if (i._colReorder) return i._colReorder;
!0 === n && (n = {});
var r = e.fn.dataTable.camelToHungarian;
return r && (r(l.defaults, l.defaults, !0), r(l.defaults, n || {})), this.s = {
dt: null,
enable: null,
init: e.extend(!0, {}, l.defaults, n),
fixed: 0,
fixedRight: 0,
reorderCallback: null,
mouse: {
startX: -1,
startY: -1,
offsetX: -1,
offsetY: -1,
target: -1,
targetIndex: -1,
fromIndex: -1
},
aoTargets: []
}, this.dom = {
drag: null,
pointer: null
}, this.s.enable = this.s.init.bEnable, this.s.dt = i, this.s.dt._colReorder = this, this._fnConstruct(), this;
};
return e.extend(l.prototype, {
fnEnable: function(e) {
if (!1 === e) return fnDisable();
this.s.enable = !0;
},
fnDisable: function() {
this.s.enable = !1;
},
fnReset: function() {
return this._fnOrderColumns(this.fnOrder()), this;
},
fnGetCurrentOrder: function() {
return this.fnOrder();
},
fnOrder: function(t, n) {
var o, a, s = [], l = this.s.dt.aoColumns;
if (t === i) {
for (o = 0, a = l.length; o < a; o++) s.push(l[o]._ColReorder_iOrigCol);
return s;
}
if (n) {
var c = this.fnOrder();
for (o = 0, a = t.length; o < a; o++) s.push(e.inArray(t[o], c));
t = s;
}
return this._fnOrderColumns(r(t)), this;
},
fnTranspose: function(t, n) {
n || (n = "toCurrent");
var i = this.fnOrder(), r = this.s.dt.aoColumns;
return "toCurrent" === n ? e.isArray(t) ? e.map(t, function(t) {
return e.inArray(t, i);
}) : e.inArray(t, i) : e.isArray(t) ? e.map(t, function(e) {
return r[e]._ColReorder_iOrigCol;
}) : r[t]._ColReorder_iOrigCol;
},
_fnConstruct: function() {
var t, n = this, i = this.s.dt.aoColumns.length, o = this.s.dt.nTable;
for (this.s.init.iFixedColumns && (this.s.fixed = this.s.init.iFixedColumns), this.s.init.iFixedColumnsLeft && (this.s.fixed = this.s.init.iFixedColumnsLeft), this.s.fixedRight = this.s.init.iFixedColumnsRight ? this.s.init.iFixedColumnsRight : 0, this.s.init.fnReorderCallback && (this.s.reorderCallback = this.s.init.fnReorderCallback), t = 0; t < i; t++) t > this.s.fixed - 1 && t < i - this.s.fixedRight && this._fnMouseListener(t, this.s.dt.aoColumns[t].nTh), this.s.dt.aoColumns[t]._ColReorder_iOrigCol = t;
this.s.dt.oApi._fnCallbackReg(this.s.dt, "aoStateSaveParams", function(e, t) {
n._fnStateSave.call(n, t);
}, "ColReorder_State");
var a = null;
if (this.s.init.aiOrder && (a = this.s.init.aiOrder.slice()), this.s.dt.oLoadedState && void 0 !== this.s.dt.oLoadedState.ColReorder && this.s.dt.oLoadedState.ColReorder.length == this.s.dt.aoColumns.length && (a = this.s.dt.oLoadedState.ColReorder), a) if (n.s.dt._bInitComplete) {
var s = r(a);
n._fnOrderColumns.call(n, s);
} else {
var l = !1;
e(o).on("draw.dt.colReorder", function() {
if (!n.s.dt._bInitComplete && !l) {
l = !0;
var e = r(a);
n._fnOrderColumns.call(n, e);
}
});
} else this._fnSetColumnIndexes();
e(o).on("destroy.dt.colReorder", function() {
e(o).off("destroy.dt.colReorder draw.dt.colReorder"), e.each(n.s.dt.aoColumns, function(t, n) {
e(n.nTh).off(".ColReorder"), e(n.nTh).removeAttr("data-column-index");
}), n.s.dt._colReorder = null, n.s = null;
});
},
_fnOrderColumns: function(t) {
var n = !1;
if (t.length == this.s.dt.aoColumns.length) {
for (var i = 0, r = t.length; i < r; i++) {
var a = e.inArray(i, t);
i != a && (o(t, a, i), this.s.dt.oInstance.fnColReorder(a, i, !0, !1), n = !0);
}
this._fnSetColumnIndexes(), n && (e.fn.dataTable.Api(this.s.dt).rows().invalidate(), "" === this.s.dt.oScroll.sX && "" === this.s.dt.oScroll.sY || this.s.dt.oInstance.fnAdjustColumnSizing(!1), this.s.dt.oInstance.oApi._fnSaveState(this.s.dt), null !== this.s.reorderCallback && this.s.reorderCallback.call(this));
} else this.s.dt.oInstance.oApi._fnLog(this.s.dt, 1, "ColReorder - array reorder does not match known number of columns. Skipping.");
},
_fnStateSave: function(t) {
var n, i, r, o = this.s.dt.aoColumns;
if (t.ColReorder = [], t.aaSorting) {
for (n = 0; n < t.aaSorting.length; n++) t.aaSorting[n][0] = o[t.aaSorting[n][0]]._ColReorder_iOrigCol;
var a = e.extend(!0, [], t.aoSearchCols);
for (n = 0, i = o.length; n < i; n++) r = o[n]._ColReorder_iOrigCol, t.aoSearchCols[r] = a[n], t.abVisCols[r] = o[n].bVisible, t.ColReorder.push(r);
} else if (t.order) {
for (n = 0; n < t.order.length; n++) t.order[n][0] = o[t.order[n][0]]._ColReorder_iOrigCol;
var s = e.extend(!0, [], t.columns);
for (n = 0, i = o.length; n < i; n++) r = o[n]._ColReorder_iOrigCol, t.columns[r] = s[n], t.ColReorder.push(r);
}
},
_fnMouseListener: function(t, n) {
var i = this;
e(n).on("mousedown.ColReorder", function(e) {
i.s.enable && 1 === e.which && i._fnMouseDown.call(i, e, n);
}).on("touchstart.ColReorder", function(e) {
i.s.enable && i._fnMouseDown.call(i, e, n);
});
},
_fnMouseDown: function(t, r) {
var o = this, a = e(t.target).closest("th, td").offset(), s = parseInt(e(r).attr("data-column-index"), 10);
s !== i && (this.s.mouse.startX = this._fnCursorPosition(t, "pageX"), this.s.mouse.startY = this._fnCursorPosition(t, "pageY"), this.s.mouse.offsetX = this._fnCursorPosition(t, "pageX") - a.left, this.s.mouse.offsetY = this._fnCursorPosition(t, "pageY") - a.top, this.s.mouse.target = this.s.dt.aoColumns[s].nTh, this.s.mouse.targetIndex = s, this.s.mouse.fromIndex = s, this._fnRegions(), e(n).on("mousemove.ColReorder touchmove.ColReorder", function(e) {
o._fnMouseMove.call(o, e);
}).on("mouseup.ColReorder touchend.ColReorder", function(e) {
o._fnMouseUp.call(o, e);
}));
},
_fnMouseMove: function(e) {
var t = this;
if (null === this.dom.drag) {
if (Math.pow(Math.pow(this._fnCursorPosition(e, "pageX") - this.s.mouse.startX, 2) + Math.pow(this._fnCursorPosition(e, "pageY") - this.s.mouse.startY, 2), .5) < 5) return;
this._fnCreateDragNode();
}
this.dom.drag.css({
left: this._fnCursorPosition(e, "pageX") - this.s.mouse.offsetX,
top: this._fnCursorPosition(e, "pageY") - this.s.mouse.offsetY
});
for (var n, i = this.s.mouse.toIndex, r = this._fnCursorPosition(e, "pageX"), o = function() {
for (var e = t.s.aoTargets.length - 1; e > 0; e--) if (t.s.aoTargets[e].x !== t.s.aoTargets[e - 1].x) return t.s.aoTargets[e];
}, a = 1; a < this.s.aoTargets.length; a++) {
var s = function(e) {
for (;e >= 0; ) {
if (--e <= 0) return null;
if (t.s.aoTargets[e + 1].x !== t.s.aoTargets[e].x) return t.s.aoTargets[e];
}
}(a);
s || (s = function() {
for (var e = 0; e < t.s.aoTargets.length - 1; e++) if (t.s.aoTargets[e].x !== t.s.aoTargets[e + 1].x) return t.s.aoTargets[e];
}());
var l = s.x + (this.s.aoTargets[a].x - s.x) / 2;
if (this._fnIsLtr()) {
if (r < l) {
n = s;
break;
}
} else if (r > l) {
n = s;
break;
}
}
n ? (this.dom.pointer.css("left", n.x), this.s.mouse.toIndex = n.to) : (this.dom.pointer.css("left", o().x), this.s.mouse.toIndex = o().to), this.s.init.bRealtime && i !== this.s.mouse.toIndex && (this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex, this.s.mouse.toIndex), this.s.mouse.fromIndex = this.s.mouse.toIndex, "" === this.s.dt.oScroll.sX && "" === this.s.dt.oScroll.sY || this.s.dt.oInstance.fnAdjustColumnSizing(!1), this._fnRegions());
},
_fnMouseUp: function(t) {
e(n).off(".ColReorder"), null !== this.dom.drag && (this.dom.drag.remove(), this.dom.pointer.remove(), this.dom.drag = null, this.dom.pointer = null, this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex, this.s.mouse.toIndex, !0), this._fnSetColumnIndexes(), "" === this.s.dt.oScroll.sX && "" === this.s.dt.oScroll.sY || this.s.dt.oInstance.fnAdjustColumnSizing(!1), this.s.dt.oInstance.oApi._fnSaveState(this.s.dt), null !== this.s.reorderCallback && this.s.reorderCallback.call(this));
},
_fnRegions: function() {
var t = this.s.dt.aoColumns, n = this._fnIsLtr();
this.s.aoTargets.splice(0, this.s.aoTargets.length);
var i = e(this.s.dt.nTable).offset().left, r = [];
e.each(t, function(t, o) {
if (o.bVisible && "none" !== o.nTh.style.display) {
var a = e(o.nTh), s = a.offset().left;
n && (s += a.outerWidth()), r.push({
index: t,
bound: s
}), i = s;
} else r.push({
index: t,
bound: i
});
});
var o = r[0], a = e(t[o.index].nTh).outerWidth();
this.s.aoTargets.push({
to: 0,
x: o.bound - a
});
for (var s = 0; s < r.length; s++) {
var l = r[s], c = l.index;
l.index < this.s.mouse.fromIndex && c++, this.s.aoTargets.push({
to: c,
x: l.bound
});
}
0 !== this.s.fixedRight && this.s.aoTargets.splice(this.s.aoTargets.length - this.s.fixedRight), 0 !== this.s.fixed && this.s.aoTargets.splice(0, this.s.fixed);
},
_fnCreateDragNode: function() {
var t = "" !== this.s.dt.oScroll.sX || "" !== this.s.dt.oScroll.sY, n = this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh, i = n.parentNode, r = i.parentNode, o = r.parentNode, a = e(n).clone();
this.dom.drag = e(o.cloneNode(!1)).addClass("DTCR_clonedTable").append(e(r.cloneNode(!1)).append(e(i.cloneNode(!1)).append(a[0]))).css({
position: "absolute",
top: 0,
left: 0,
width: e(n).outerWidth(),
height: e(n).outerHeight()
}).appendTo("body"), this.dom.pointer = e("<div></div>").addClass("DTCR_pointer").css({
position: "absolute",
top: t ? e("div.dataTables_scroll", this.s.dt.nTableWrapper).offset().top : e(this.s.dt.nTable).offset().top,
height: t ? e("div.dataTables_scroll", this.s.dt.nTableWrapper).height() : e(this.s.dt.nTable).height()
}).appendTo("body");
},
_fnSetColumnIndexes: function() {
e.each(this.s.dt.aoColumns, function(t, n) {
e(n.nTh).attr("data-column-index", t);
});
},
_fnCursorPosition: function(e, t) {
return -1 !== e.type.indexOf("touch") ? e.originalEvent.touches[0][t] : e[t];
},
_fnIsLtr: function() {
return "rtl" !== e(this.s.dt.nTable).css("direction");
}
}), l.defaults = {
aiOrder: null,
bEnable: !0,
bRealtime: !0,
iFixedColumnsLeft: 0,
iFixedColumnsRight: 0,
fnReorderCallback: null
}, l.version = "1.5.2", e.fn.dataTable.ColReorder = l, e.fn.DataTable.ColReorder = l, "function" == typeof e.fn.dataTable && "function" == typeof e.fn.dataTableExt.fnVersionCheck && e.fn.dataTableExt.fnVersionCheck("1.10.8") ? e.fn.dataTableExt.aoFeatures.push({
fnInit: function(e) {
var t = e.oInstance;
if (e._colReorder) t.oApi._fnLog(e, 1, "ColReorder attempted to initialise twice. Ignoring second"); else {
var n = e.oInit, i = n.colReorder || n.oColReorder || {};
new l(e, i);
}
return null;
},
cFeature: "R",
sFeature: "ColReorder"
}) : alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download"), e(n).on("preInit.dt.colReorder", function(t, n) {
if ("dt" === t.namespace) {
var i = n.oInit.colReorder, r = s.defaults.colReorder;
if (i || r) {
var o = e.extend({}, i, r);
!1 !== i && new l(n, o);
}
}
}), e.fn.dataTable.Api.register("colReorder.reset()", function() {
return this.iterator("table", function(e) {
e._colReorder.fnReset();
});
}), e.fn.dataTable.Api.register("colReorder.order()", function(e, t) {
return e ? this.iterator("table", function(n) {
n._colReorder.fnOrder(e, t);
}) : this.context.length ? this.context[0]._colReorder.fnOrder() : null;
}), e.fn.dataTable.Api.register("colReorder.transpose()", function(e, t) {
return this.context.length && this.context[0]._colReorder ? this.context[0]._colReorder.fnTranspose(e, t) : e;
}), e.fn.dataTable.Api.register("colReorder.move()", function(e, t, n, i) {
return this.context.length && (this.context[0]._colReorder.s.dt.oInstance.fnColReorder(e, t, n, i), this.context[0]._colReorder._fnSetColumnIndexes()), this;
}), e.fn.dataTable.Api.register("colReorder.enable()", function(e) {
return this.iterator("table", function(t) {
t._colReorder && t._colReorder.fnEnable(e);
});
}), e.fn.dataTable.Api.register("colReorder.disable()", function() {
return this.iterator("table", function(e) {
e._colReorder && e._colReorder.fnDisable();
});
}), l;
}), function(e, t, n) {
var i = function(e, n) {
"use strict";
var i = function(t, n) {
this.CLASS && "ColVis" == this.CLASS || alert("Warning: ColVis must be initialised with the keyword 'new'"), void 0 === n && (n = {});
var r = e.fn.dataTable.camelToHungarian;
return r && (r(i.defaults, i.defaults, !0), r(i.defaults, n)), this.s = {
dt: null,
oInit: n,
hidden: !0,
abOriginal: []
}, this.dom = {
wrapper: null,
button: null,
collection: null,
background: null,
catcher: null,
buttons: [],
groupButtons: [],
restore: null
}, i.aInstances.push(this), this.s.dt = e.fn.dataTable.Api ? new e.fn.dataTable.Api(t).settings()[0] : t, this._fnConstruct(n), this;
};
return i.prototype = {
button: function() {
return this.dom.wrapper;
},
fnRebuild: function() {
this.rebuild();
},
rebuild: function() {
for (var e = this.dom.buttons.length - 1; e >= 0; e--) this.dom.collection.removeChild(this.dom.buttons[e]);
this.dom.buttons.splice(0, this.dom.buttons.length), this.dom.groupButtons.splice(0, this.dom.groupButtons.length), this.dom.restore && this.dom.restore.parentNode(this.dom.restore), this._fnAddGroups(), this._fnAddButtons(), this._fnDrawCallback();
},
_fnConstruct: function(n) {
this._fnApplyCustomisation(n);
var i, r, o = this;
for (this.dom.wrapper = t.createElement("div"), this.dom.wrapper.className = "ColVis", this.dom.button = e("<button />", {
class: this.s.dt.bJUI ? "ColVis_Button ColVis_MasterButton ui-button ui-state-default" : "ColVis_Button ColVis_MasterButton"
}).append("<span>" + this.s.buttonText + "</span>").bind("mouseover" == this.s.activate ? "mouseover" : "click", function(e) {
e.preventDefault(), o._fnCollectionShow();
}).appendTo(this.dom.wrapper)[0], this.dom.catcher = this._fnDomCatcher(), this.dom.collection = this._fnDomCollection(), this.dom.background = this._fnDomBackground(), this._fnAddGroups(), this._fnAddButtons(), i = 0, r = this.s.dt.aoColumns.length; i < r; i++) this.s.abOriginal.push(this.s.dt.aoColumns[i].bVisible);
this.s.dt.aoDrawCallback.push({
fn: function() {
o._fnDrawCallback.call(o);
},
sName: "ColVis"
}), e(this.s.dt.oInstance).bind("column-reorder.dt", function(e, t, n) {
for (i = 0, r = o.s.aiExclude.length; i < r; i++) o.s.aiExclude[i] = n.aiInvertMapping[o.s.aiExclude[i]];
var a = o.s.abOriginal.splice(n.iFrom, 1)[0];
o.s.abOriginal.splice(n.iTo, 0, a), o.fnRebuild();
}), e(this.s.dt.oInstance).bind("destroy.dt", function() {
e(o.dom.wrapper).remove();
}), this._fnDrawCallback();
},
_fnApplyCustomisation: function(t) {
e.extend(!0, this.s, i.defaults, t), !this.s.showAll && this.s.bShowAll && (this.s.showAll = this.s.sShowAll), !this.s.restore && this.s.bRestore && (this.s.restore = this.s.sRestore);
var n = this.s.groups, r = this.s.aoGroups;
if (n) for (var o = 0, a = n.length; o < a; o++) n[o].title && (r[o].sTitle = n[o].title), n[o].columns && (r[o].aiColumns = n[o].columns);
},
_fnDrawCallback: function() {
for (var t, n = this.s.dt.aoColumns, i = this.dom.buttons, r = this.s.aoGroups, o = 0, a = i.length; o < a; o++) void 0 !== (t = i[o]).__columnIdx && e("input", t).prop("checked", n[t.__columnIdx].bVisible);
for (var s = 0, l = r.length; s < l; s++) !function(e) {
for (var t = 0, i = e.length; t < i; t++) if (!1 === n[e[t]].bVisible) return !1;
return !0;
}(r[s].aiColumns) ? !function(e) {
for (var t = 0, i = e.length; t < i; t++) if (!0 === n[e[t]].bVisible) return !1;
return !0;
}(r[s].aiColumns) ? e("input", this.dom.groupButtons[s]).prop("indeterminate", !0) : (e("input", this.dom.groupButtons[s]).prop("checked", !1), e("input", this.dom.groupButtons[s]).prop("indeterminate", !1)) : (e("input", this.dom.groupButtons[s]).prop("checked", !0), e("input", this.dom.groupButtons[s]).prop("indeterminate", !1));
},
_fnAddGroups: function() {
var e;
if (void 0 !== this.s.aoGroups) for (var t = 0, n = this.s.aoGroups.length; t < n; t++) e = this._fnDomGroupButton(t), this.dom.groupButtons.push(e), this.dom.buttons.push(e), this.dom.collection.appendChild(e);
},
_fnAddButtons: function() {
var t, n = this.s.dt.aoColumns;
if (-1 === e.inArray("all", this.s.aiExclude)) for (var i = 0, r = n.length; i < r; i++) -1 === e.inArray(i, this.s.aiExclude) && ((t = this._fnDomColumnButton(i)).__columnIdx = i, this.dom.buttons.push(t));
"alpha" === this.s.order && this.dom.buttons.sort(function(e, t) {
var i = n[e.__columnIdx].sTitle, r = n[t.__columnIdx].sTitle;
return i === r ? 0 : i < r ? -1 : 1;
}), this.s.restore && ((t = this._fnDomRestoreButton()).className += " ColVis_Restore", this.dom.buttons.push(t)), this.s.showAll && ((t = this._fnDomShowXButton(this.s.showAll, !0)).className += " ColVis_ShowAll", this.dom.buttons.push(t)), this.s.showNone && ((t = this._fnDomShowXButton(this.s.showNone, !1)).className += " ColVis_ShowNone", this.dom.buttons.push(t)), e(this.dom.collection).append(this.dom.buttons);
},
_fnDomRestoreButton: function() {
var t = this, n = this.s.dt;
return e('<li class="ColVis_Special ' + (n.bJUI ? "ui-button ui-state-default" : "") + '">' + this.s.restore + "</li>").click(function(e) {
for (var n = 0, i = t.s.abOriginal.length; n < i; n++) t.s.dt.oInstance.fnSetColumnVis(n, t.s.abOriginal[n], !1);
t._fnAdjustOpenRows(), t.s.dt.oInstance.fnAdjustColumnSizing(!1), t.s.dt.oInstance.fnDraw(!1);
})[0];
},
_fnDomShowXButton: function(t, n) {
var i = this, r = this.s.dt;
return e('<li class="ColVis_Special ' + (r.bJUI ? "ui-button ui-state-default" : "") + '">' + t + "</li>").click(function(e) {
for (var t = 0, r = i.s.abOriginal.length; t < r; t++) -1 === i.s.aiExclude.indexOf(t) && i.s.dt.oInstance.fnSetColumnVis(t, n, !1);
i._fnAdjustOpenRows(), i.s.dt.oInstance.fnAdjustColumnSizing(!1), i.s.dt.oInstance.fnDraw(!1);
})[0];
},
_fnDomGroupButton: function(t) {
var n = this, i = this.s.dt, r = this.s.aoGroups[t];
return e('<li class="ColVis_Special ' + (i.bJUI ? "ui-button ui-state-default" : "") + '"><label><input type="checkbox" /><span>' + r.sTitle + "</span></label></li>").click(function(t) {
var i = !e("input", this).is(":checked");
"li" !== t.target.nodeName.toLowerCase() && (i = !i);
for (var o = 0; o < r.aiColumns.length; o++) n.s.dt.oInstance.fnSetColumnVis(r.aiColumns[o], i);
})[0];
},
_fnDomColumnButton: function(t) {
var n = this, i = this.s.dt.aoColumns[t], r = this.s.dt, o = null === this.s.fnLabel ? i.sTitle : this.s.fnLabel(t, i.sTitle, i.nTh);
return e("<li " + (r.bJUI ? 'class="ui-button ui-state-default"' : "") + '><label><input type="checkbox" /><span>' + o + "</span></label></li>").click(function(i) {
var o = !e("input", this).is(":checked");
"li" !== i.target.nodeName.toLowerCase() && ("input" != i.target.nodeName.toLowerCase() && null !== n.s.fnStateChange || (o = !o));
var a = e.fn.dataTableExt.iApiIndex;
e.fn.dataTableExt.iApiIndex = n._fnDataTablesApiIndex.call(n), r.oFeatures.bServerSide ? (n.s.dt.oInstance.fnSetColumnVis(t, o, !1), n.s.dt.oInstance.fnAdjustColumnSizing(!1), "" === r.oScroll.sX && "" === r.oScroll.sY || n.s.dt.oInstance.oApi._fnScrollDraw(n.s.dt), n._fnDrawCallback()) : n.s.dt.oInstance.fnSetColumnVis(t, o), e.fn.dataTableExt.iApiIndex = a, null !== n.s.fnStateChange && ("span" == i.target.nodeName.toLowerCase() && i.preventDefault(), n.s.fnStateChange.call(n, t, o));
})[0];
},
_fnDataTablesApiIndex: function() {
for (var e = 0, t = this.s.dt.oInstance.length; e < t; e++) if (this.s.dt.oInstance[e] == this.s.dt.nTable) return e;
return 0;
},
_fnDomCollection: function() {
return e("<ul />", {
class: this.s.dt.bJUI ? "ColVis_collection ui-buttonset ui-buttonset-multi" : "ColVis_collection"
}).css({
display: "none",
opacity: 0,
position: this.s.bCssPosition ? "" : "absolute"
})[0];
},
_fnDomCatcher: function() {
var n = this, i = t.createElement("div");
return i.className = "ColVis_catcher", e(i).click(function() {
n._fnCollectionHide.call(n, null, null);
}), i;
},
_fnDomBackground: function() {
var t = this, n = e("<div></div>").addClass("ColVis_collectionBackground").css("opacity", 0).click(function() {
t._fnCollectionHide.call(t, null, null);
});
return "mouseover" == this.s.activate && n.mouseover(function() {
t.s.overcollection = !1, t._fnCollectionHide.call(t, null, null);
}), n[0];
},
_fnCollectionShow: function() {
var n, i = this, r = e(this.dom.button).offset(), o = this.dom.collection, a = this.dom.background, s = parseInt(r.left, 10), l = parseInt(r.top + e(this.dom.button).outerHeight(), 10);
this.s.bCssPosition || (o.style.top = l + "px", o.style.left = s + "px"), e(o).css({
display: "block",
opacity: 0
}), a.style.bottom = "0px", a.style.right = "0px";
var c = this.dom.catcher.style;
if (c.height = e(this.dom.button).outerHeight() + "px", c.width = e(this.dom.button).outerWidth() + "px", c.top = r.top + "px", c.left = s + "px", t.body.appendChild(a), t.body.appendChild(o), t.body.appendChild(this.dom.catcher), e(o).animate({
opacity: 1
}, i.s.iOverlayFade), e(a).animate({
opacity: .1
}, i.s.iOverlayFade, "linear", function() {
e.browser && e.browser.msie && "6.0" == e.browser.version && i._fnDrawCallback();
}), !this.s.bCssPosition) {
n = "left" == this.s.sAlign ? s : s - e(o).outerWidth() + e(this.dom.button).outerWidth(), o.style.left = n + "px";
var u = e(o).outerWidth(), d = (e(o).outerHeight(), e(t).width());
n + u > d && (o.style.left = d - u + "px");
}
this.s.hidden = !1;
},
_fnCollectionHide: function() {
var n = this;
this.s.hidden || null === this.dom.collection || (this.s.hidden = !0, e(this.dom.collection).animate({
opacity: 0
}, n.s.iOverlayFade, function(e) {
this.style.display = "none";
}), e(this.dom.background).animate({
opacity: 0
}, n.s.iOverlayFade, function(e) {
t.body.removeChild(n.dom.background), t.body.removeChild(n.dom.catcher);
}));
},
_fnAdjustOpenRows: function() {
for (var e = this.s.dt.aoOpenRows, t = this.s.dt.oApi._fnVisbleColumns(this.s.dt), n = 0, i = e.length; n < i; n++) e[n].nTr.getElementsByTagName("td")[0].colSpan = t;
}
}, i.fnRebuild = function(t) {
var n = null;
void 0 !== t && (n = e.fn.dataTable.Api ? new e.fn.dataTable.Api(t).table().node() : t.fnSettings().nTable);
for (var r = 0, o = i.aInstances.length; r < o; r++) void 0 !== t && n != i.aInstances[r].s.dt.nTable || i.aInstances[r].fnRebuild();
}, i.defaults = {
active: "click",
buttonText: "Show / hide columns",
aiExclude: [],
bRestore: !1,
sRestore: "Restore original",
bShowAll: !1,
sShowAll: "Show All",
sAlign: "left",
fnStateChange: null,
iOverlayFade: 500,
fnLabel: null,
bCssPosition: !1,
aoGroups: [],
order: "column"
}, i.aInstances = [], i.prototype.CLASS = "ColVis", i.VERSION = "1.1.2", i.prototype.VERSION = i.VERSION, "function" == typeof e.fn.dataTable && "function" == typeof e.fn.dataTableExt.fnVersionCheck && e.fn.dataTableExt.fnVersionCheck("1.7.0") ? e.fn.dataTableExt.aoFeatures.push({
fnInit: function(e) {
var t = e.oInit;
return new i(e, t.colVis || t.oColVis || {}).button();
},
cFeature: "C",
sFeature: "ColVis"
}) : alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download"), e.fn.dataTable.ColVis = i, e.fn.DataTable.ColVis = i, i;
};
"function" == typeof define && define.amd ? define([ "jquery", "datatables" ], i) : "object" == typeof exports ? i(require("jquery"), require("datatables")) : jQuery && !jQuery.fn.dataTable.ColVis && i(jQuery, jQuery.fn.dataTable);
}(window, document), function(e, t) {
"object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t();
}(this, function() {
"use strict";
function e() {
return $t.apply(null, arguments);
}
function t(e) {
return e instanceof Array || "[object Array]" === Object.prototype.toString.call(e);
}
function n(e) {
return null != e && "[object Object]" === Object.prototype.toString.call(e);
}
function i(e) {
if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(e).length;
var t;
for (t in e) if (e.hasOwnProperty(t)) return !1;
return !0;
}
function r(e) {
return void 0 === e;
}
function o(e) {
return "number" == typeof e || "[object Number]" === Object.prototype.toString.call(e);
}
function a(e) {
return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e);
}
function s(e, t) {
var n, i = [];
for (n = 0; n < e.length; ++n) i.push(t(e[n], n));
return i;
}
function l(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}
function c(e, t) {
for (var n in t) l(t, n) && (e[n] = t[n]);
return l(t, "toString") && (e.toString = t.toString), l(t, "valueOf") && (e.valueOf = t.valueOf), e;
}
function u(e, t, n, i) {
return He(e, t, n, i, !0).utc();
}
function d() {
return {
empty: !1,
unusedTokens: [],
unusedInput: [],
overflow: -2,
charsLeftOver: 0,
nullInput: !1,
invalidMonth: null,
invalidFormat: !1,
userInvalidated: !1,
iso: !1,
parsedDateParts: [],
meridiem: null,
rfc2822: !1,
weekdayMismatch: !1
};
}
function h(e) {
return null == e._pf && (e._pf = d()), e._pf;
}
function f(e) {
if (null == e._isValid) {
var t = h(e), n = At.call(t.parsedDateParts, function(e) {
return null != e;
}), i = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.invalidWeekday && !t.weekdayMismatch && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && n);
if (e._strict && (i = i && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour), null != Object.isFrozen && Object.isFrozen(e)) return i;
e._isValid = i;
}
return e._isValid;
}
function p(e) {
var t = u(NaN);
return null != e ? c(h(t), e) : h(t).userInvalidated = !0, t;
}
function g(e, t) {
var n, i, o;
if (r(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject), r(t._i) || (e._i = t._i), r(t._f) || (e._f = t._f), r(t._l) || (e._l = t._l), r(t._strict) || (e._strict = t._strict), r(t._tzm) || (e._tzm = t._tzm), r(t._isUTC) || (e._isUTC = t._isUTC), r(t._offset) || (e._offset = t._offset), r(t._pf) || (e._pf = h(t)), r(t._locale) || (e._locale = t._locale), kt.length > 0) for (n = 0; n < kt.length; n++) r(o = t[i = kt[n]]) || (e[i] = o);
return e;
}
function m(t) {
g(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === Tt && (Tt = !0, e.updateOffset(this), Tt = !1);
}
function v(e) {
return e instanceof m || null != e && null != e._isAMomentObject;
}
function y(e) {
return e < 0 ? Math.ceil(e) || 0 : Math.floor(e);
}
function b(e) {
var t = +e, n = 0;
return 0 !== t && isFinite(t) && (n = y(t)), n;
}
function _(e, t, n) {
var i, r = Math.min(e.length, t.length), o = Math.abs(e.length - t.length), a = 0;
for (i = 0; i < r; i++) (n && e[i] !== t[i] || !n && b(e[i]) !== b(t[i])) && a++;
return a + o;
}
function w(t) {
!1 === e.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t);
}
function C(t, n) {
var i = !0;
return c(function() {
if (null != e.deprecationHandler && e.deprecationHandler(null, t), i) {
for (var r, o = [], a = 0; a < arguments.length; a++) {
if (r = "", "object" == typeof arguments[a]) {
r += "\n[" + a + "] ";
for (var s in arguments[0]) r += s + ": " + arguments[0][s] + ", ";
r = r.slice(0, -2);
} else r = arguments[a];
o.push(r);
}
w(t + "\nArguments: " + Array.prototype.slice.call(o).join("") + "\n" + new Error().stack), i = !1;
}
return n.apply(this, arguments);
}, n);
}
function x(t, n) {
null != e.deprecationHandler && e.deprecationHandler(t, n), Dt[t] || (w(n), Dt[t] = !0);
}
function S(e) {
return e instanceof Function || "[object Function]" === Object.prototype.toString.call(e);
}
function $(e, t) {
var i, r = c({}, e);
for (i in t) l(t, i) && (n(e[i]) && n(t[i]) ? (r[i] = {}, c(r[i], e[i]), c(r[i], t[i])) : null != t[i] ? r[i] = t[i] : delete r[i]);
for (i in e) l(e, i) && !l(t, i) && n(e[i]) && (r[i] = c({}, r[i]));
return r;
}
function A(e) {
null != e && this.set(e);
}
function k(e, t) {
var n = e.toLowerCase();
Lt[n] = Lt[n + "s"] = Lt[t] = e;
}
function T(e) {
return "string" == typeof e ? Lt[e] || Lt[e.toLowerCase()] : void 0;
}
function D(e) {
var t, n, i = {};
for (n in e) l(e, n) && (t = T(n)) && (i[t] = e[n]);
return i;
}
function E(e, t) {
Ot[e] = t;
}
function F(e) {
var t = [];
for (var n in e) t.push({
unit: n,
priority: Ot[n]
});
return t.sort(function(e, t) {
return e.priority - t.priority;
}), t;
}
function M(e, t, n) {
var i = "" + Math.abs(e), r = t - i.length;
return (e >= 0 ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, r)).toString().substr(1) + i;
}
function I(e, t, n, i) {
var r = i;
"string" == typeof i && (r = function() {
return this[i]();
}), e && (jt[e] = r), t && (jt[t[0]] = function() {
return M(r.apply(this, arguments), t[1], t[2]);
}), n && (jt[n] = function() {
return this.localeData().ordinal(r.apply(this, arguments), e);
});
}
function P(e) {
return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "");
}
function L(e) {
var t, n, i = e.match(Rt);
for (t = 0, n = i.length; t < n; t++) jt[i[t]] ? i[t] = jt[i[t]] : i[t] = P(i[t]);
return function(t) {
var r, o = "";
for (r = 0; r < n; r++) o += S(i[r]) ? i[r].call(t, e) : i[r];
return o;
};
}
function O(e, t) {
return e.isValid() ? (t = R(t, e.localeData()), Bt[t] = Bt[t] || L(t), Bt[t](e)) : e.localeData().invalidDate();
}
function R(e, t) {
var n = 5;
for (Nt.lastIndex = 0; n >= 0 && Nt.test(e); ) e = e.replace(Nt, function(e) {
return t.longDateFormat(e) || e;
}), Nt.lastIndex = 0, n -= 1;
return e;
}
function N(e, t, n) {
on[e] = S(t) ? t : function(e, i) {
return e && n ? n : t;
};
}
function B(e, t) {
return l(on, e) ? on[e](t._strict, t._locale) : new RegExp(j(e));
}
function j(e) {
return H(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, n, i, r) {
return t || n || i || r;
}));
}
function H(e) {
return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
}
function V(e, t) {
var n, i = t;
for ("string" == typeof e && (e = [ e ]), o(t) && (i = function(e, n) {
n[t] = b(e);
}), n = 0; n < e.length; n++) an[e[n]] = i;
}
function U(e, t) {
V(e, function(e, n, i, r) {
i._w = i._w || {}, t(e, i._w, i, r);
});
}
function z(e, t, n) {
null != t && l(an, e) && an[e](t, n._a, n, e);
}
function W(e) {
return q(e) ? 366 : 365;
}
function q(e) {
return e % 4 == 0 && e % 100 != 0 || e % 400 == 0;
}
function G(t, n) {
return function(i) {
return null != i ? (K(this, t, i), e.updateOffset(this, n), this) : Y(this, t);
};
}
function Y(e, t) {
return e.isValid() ? e._d["get" + (e._isUTC ? "UTC" : "") + t]() : NaN;
}
function K(e, t, n) {
e.isValid() && !isNaN(n) && ("FullYear" === t && q(e.year()) && 1 === e.month() && 29 === e.date() ? e._d["set" + (e._isUTC ? "UTC" : "") + t](n, e.month(), Q(n, e.month())) : e._d["set" + (e._isUTC ? "UTC" : "") + t](n));
}
function X(e, t) {
return (e % t + t) % t;
}
function Q(e, t) {
if (isNaN(e) || isNaN(t)) return NaN;
var n = X(t, 12);
return e += (t - n) / 12, 1 === n ? q(e) ? 29 : 28 : 31 - n % 7 % 2;
}
function J(e, t, n) {
var i, r, o, a = e.toLocaleLowerCase();
if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], i = 0; i < 12; ++i) o = u([ 2e3, i ]), this._shortMonthsParse[i] = this.monthsShort(o, "").toLocaleLowerCase(), this._longMonthsParse[i] = this.months(o, "").toLocaleLowerCase();
return n ? "MMM" === t ? -1 !== (r = mn.call(this._shortMonthsParse, a)) ? r : null : -1 !== (r = mn.call(this._longMonthsParse, a)) ? r : null : "MMM" === t ? -1 !== (r = mn.call(this._shortMonthsParse, a)) ? r : -1 !== (r = mn.call(this._longMonthsParse, a)) ? r : null : -1 !== (r = mn.call(this._longMonthsParse, a)) ? r : -1 !== (r = mn.call(this._shortMonthsParse, a)) ? r : null;
}
function Z(e, t) {
var n;
if (!e.isValid()) return e;
if ("string" == typeof t) if (/^\d+$/.test(t)) t = b(t); else if (t = e.localeData().monthsParse(t), !o(t)) return e;
return n = Math.min(e.date(), Q(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e;
}
function ee(t) {
return null != t ? (Z(this, t), e.updateOffset(this, !0), this) : Y(this, "Month");
}
function te() {
function e(e, t) {
return t.length - e.length;
}
var t, n, i = [], r = [], o = [];
for (t = 0; t < 12; t++) n = u([ 2e3, t ]), i.push(this.monthsShort(n, "")), r.push(this.months(n, "")), o.push(this.months(n, "")), o.push(this.monthsShort(n, ""));
for (i.sort(e), r.sort(e), o.sort(e), t = 0; t < 12; t++) i[t] = H(i[t]), r[t] = H(r[t]);
for (t = 0; t < 24; t++) o[t] = H(o[t]);
this._monthsRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + i.join("|") + ")", "i");
}
function ne(e, t, n, i, r, o, a) {
var s = new Date(e, t, n, i, r, o, a);
return e < 100 && e >= 0 && isFinite(s.getFullYear()) && s.setFullYear(e), s;
}
function ie(e) {
var t = new Date(Date.UTC.apply(null, arguments));
return e < 100 && e >= 0 && isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e), t;
}
function re(e, t, n) {
var i = 7 + t - n;
return -((7 + ie(e, 0, i).getUTCDay() - t) % 7) + i - 1;
}
function oe(e, t, n, i, r) {
var o, a, s = 1 + 7 * (t - 1) + (7 + n - i) % 7 + re(e, i, r);
return s <= 0 ? a = W(o = e - 1) + s : s > W(e) ? (o = e + 1, a = s - W(e)) : (o = e, a = s), {
year: o,
dayOfYear: a
};
}
function ae(e, t, n) {
var i, r, o = re(e.year(), t, n), a = Math.floor((e.dayOfYear() - o - 1) / 7) + 1;
return a < 1 ? i = a + se(r = e.year() - 1, t, n) : a > se(e.year(), t, n) ? (i = a - se(e.year(), t, n), r = e.year() + 1) : (r = e.year(), i = a), {
week: i,
year: r
};
}
function se(e, t, n) {
var i = re(e, t, n), r = re(e + 1, t, n);
return (W(e) - i + r) / 7;
}
function le(e, t) {
return "string" != typeof e ? e : isNaN(e) ? "number" == typeof (e = t.weekdaysParse(e)) ? e : null : parseInt(e, 10);
}
function ce(e, t) {
return "string" == typeof e ? t.weekdaysParse(e) % 7 || 7 : isNaN(e) ? null : e;
}
function ue(e, t, n) {
var i, r, o, a = e.toLocaleLowerCase();
if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], i = 0; i < 7; ++i) o = u([ 2e3, 1 ]).day(i), this._minWeekdaysParse[i] = this.weekdaysMin(o, "").toLocaleLowerCase(), this._shortWeekdaysParse[i] = this.weekdaysShort(o, "").toLocaleLowerCase(), this._weekdaysParse[i] = this.weekdays(o, "").toLocaleLowerCase();
return n ? "dddd" === t ? -1 !== (r = mn.call(this._weekdaysParse, a)) ? r : null : "ddd" === t ? -1 !== (r = mn.call(this._shortWeekdaysParse, a)) ? r : null : -1 !== (r = mn.call(this._minWeekdaysParse, a)) ? r : null : "dddd" === t ? -1 !== (r = mn.call(this._weekdaysParse, a)) ? r : -1 !== (r = mn.call(this._shortWeekdaysParse, a)) ? r : -1 !== (r = mn.call(this._minWeekdaysParse, a)) ? r : null : "ddd" === t ? -1 !== (r = mn.call(this._shortWeekdaysParse, a)) ? r : -1 !== (r = mn.call(this._weekdaysParse, a)) ? r : -1 !== (r = mn.call(this._minWeekdaysParse, a)) ? r : null : -1 !== (r = mn.call(this._minWeekdaysParse, a)) ? r : -1 !== (r = mn.call(this._weekdaysParse, a)) ? r : -1 !== (r = mn.call(this._shortWeekdaysParse, a)) ? r : null;
}
function de() {
function e(e, t) {
return t.length - e.length;
}
var t, n, i, r, o, a = [], s = [], l = [], c = [];
for (t = 0; t < 7; t++) n = u([ 2e3, 1 ]).day(t), i = this.weekdaysMin(n, ""), r = this.weekdaysShort(n, ""), o = this.weekdays(n, ""), a.push(i), s.push(r), l.push(o), c.push(i), c.push(r), c.push(o);
for (a.sort(e), s.sort(e), l.sort(e), c.sort(e), t = 0; t < 7; t++) s[t] = H(s[t]), l[t] = H(l[t]), c[t] = H(c[t]);
this._weekdaysRegex = new RegExp("^(" + c.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + l.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + a.join("|") + ")", "i");
}
function he() {
return this.hours() % 12 || 12;
}
function fe(e, t) {
I(e, 0, 0, function() {
return this.localeData().meridiem(this.hours(), this.minutes(), t);
});
}
function pe(e, t) {
return t._meridiemParse;
}
function ge(e) {
return e ? e.toLowerCase().replace("_", "-") : e;
}
function me(e) {
for (var t, n, i, r, o = 0; o < e.length; ) {
for (t = (r = ge(e[o]).split("-")).length, n = (n = ge(e[o + 1])) ? n.split("-") : null; t > 0; ) {
if (i = ve(r.slice(0, t).join("-"))) return i;
if (n && n.length >= t && _(r, n, !0) >= t - 1) break;
t--;
}
o++;
}
return null;
}
function ve(e) {
var t = null;
if (!Pn[e] && "undefined" != typeof module && module && module.exports) try {
t = En._abbr, require("./locale/" + e), ye(t);
} catch (e) {}
return Pn[e];
}
function ye(e, t) {
var n;
return e && (n = r(t) ? _e(e) : be(e, t)) && (En = n), En._abbr;
}
function be(e, t) {
if (null !== t) {
var n = In;
if (t.abbr = e, null != Pn[e]) x("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), n = Pn[e]._config; else if (null != t.parentLocale) {
if (null == Pn[t.parentLocale]) return Ln[t.parentLocale] || (Ln[t.parentLocale] = []), Ln[t.parentLocale].push({
name: e,
config: t
}), null;
n = Pn[t.parentLocale]._config;
}
return Pn[e] = new A($(n, t)), Ln[e] && Ln[e].forEach(function(e) {
be(e.name, e.config);
}), ye(e), Pn[e];
}
return delete Pn[e], null;
}
function _e(e) {
var n;
if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e) return En;
if (!t(e)) {
if (n = ve(e)) return n;
e = [ e ];
}
return me(e);
}
function we(e) {
var t, n = e._a;
return n && -2 === h(e).overflow && (t = n[ln] < 0 || n[ln] > 11 ? ln : n[cn] < 1 || n[cn] > Q(n[sn], n[ln]) ? cn : n[un] < 0 || n[un] > 24 || 24 === n[un] && (0 !== n[dn] || 0 !== n[hn] || 0 !== n[fn]) ? un : n[dn] < 0 || n[dn] > 59 ? dn : n[hn] < 0 || n[hn] > 59 ? hn : n[fn] < 0 || n[fn] > 999 ? fn : -1, h(e)._overflowDayOfYear && (t < sn || t > cn) && (t = cn), h(e)._overflowWeeks && -1 === t && (t = pn), h(e)._overflowWeekday && -1 === t && (t = gn), h(e).overflow = t), e;
}
function Ce(e, t, n) {
return null != e ? e : null != t ? t : n;
}
function xe(t) {
var n = new Date(e.now());
return t._useUTC ? [ n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate() ] : [ n.getFullYear(), n.getMonth(), n.getDate() ];
}
function Se(e) {
var t, n, i, r, o = [];
if (!e._d) {
for (i = xe(e), e._w && null == e._a[cn] && null == e._a[ln] && $e(e), null != e._dayOfYear && (r = Ce(e._a[sn], i[sn]), (e._dayOfYear > W(r) || 0 === e._dayOfYear) && (h(e)._overflowDayOfYear = !0), n = ie(r, 0, e._dayOfYear), e._a[ln] = n.getUTCMonth(), e._a[cn] = n.getUTCDate()), t = 0; t < 3 && null == e._a[t]; ++t) e._a[t] = o[t] = i[t];
for (;t < 7; t++) e._a[t] = o[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
24 === e._a[un] && 0 === e._a[dn] && 0 === e._a[hn] && 0 === e._a[fn] && (e._nextDay = !0, e._a[un] = 0), e._d = (e._useUTC ? ie : ne).apply(null, o), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[un] = 24), e._w && void 0 !== e._w.d && e._w.d !== e._d.getDay() && (h(e).weekdayMismatch = !0);
}
}
function $e(e) {
var t, n, i, r, o, a, s, l;
if (null != (t = e._w).GG || null != t.W || null != t.E) o = 1, a = 4, n = Ce(t.GG, e._a[sn], ae(Ve(), 1, 4).year), i = Ce(t.W, 1), ((r = Ce(t.E, 1)) < 1 || r > 7) && (l = !0); else {
o = e._locale._week.dow, a = e._locale._week.doy;
var c = ae(Ve(), o, a);
n = Ce(t.gg, e._a[sn], c.year), i = Ce(t.w, c.week), null != t.d ? ((r = t.d) < 0 || r > 6) && (l = !0) : null != t.e ? (r = t.e + o, (t.e < 0 || t.e > 6) && (l = !0)) : r = o;
}
i < 1 || i > se(n, o, a) ? h(e)._overflowWeeks = !0 : null != l ? h(e)._overflowWeekday = !0 : (s = oe(n, i, r, o, a), e._a[sn] = s.year, e._dayOfYear = s.dayOfYear);
}
function Ae(e) {
var t, n, i, r, o, a, s = e._i, l = On.exec(s) || Rn.exec(s);
if (l) {
for (h(e).iso = !0, t = 0, n = Bn.length; t < n; t++) if (Bn[t][1].exec(l[1])) {
r = Bn[t][0], i = !1 !== Bn[t][2];
break;
}
if (null == r) return void (e._isValid = !1);
if (l[3]) {
for (t = 0, n = jn.length; t < n; t++) if (jn[t][1].exec(l[3])) {
o = (l[2] || " ") + jn[t][0];
break;
}
if (null == o) return void (e._isValid = !1);
}
if (!i && null != o) return void (e._isValid = !1);
if (l[4]) {
if (!Nn.exec(l[4])) return void (e._isValid = !1);
a = "Z";
}
e._f = r + (o || "") + (a || ""), Pe(e);
} else e._isValid = !1;
}
function ke(e, t, n, i, r, o) {
var a = [ Te(e), _n.indexOf(t), parseInt(n, 10), parseInt(i, 10), parseInt(r, 10) ];
return o && a.push(parseInt(o, 10)), a;
}
function Te(e) {
var t = parseInt(e, 10);
return t <= 49 ? 2e3 + t : t <= 999 ? 1900 + t : t;
}
function De(e) {
return e.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").trim();
}
function Ee(e, t, n) {
return !e || $n.indexOf(e) === new Date(t[0], t[1], t[2]).getDay() || (h(n).weekdayMismatch = !0, n._isValid = !1, !1);
}
function Fe(e, t, n) {
if (e) return Un[e];
if (t) return 0;
var i = parseInt(n, 10), r = i % 100;
return 60 * ((i - r) / 100) + r;
}
function Me(e) {
var t = Vn.exec(De(e._i));
if (t) {
var n = ke(t[4], t[3], t[2], t[5], t[6], t[7]);
if (!Ee(t[1], n, e)) return;
e._a = n, e._tzm = Fe(t[8], t[9], t[10]), e._d = ie.apply(null, e._a), e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), h(e).rfc2822 = !0;
} else e._isValid = !1;
}
function Ie(t) {
var n = Hn.exec(t._i);
null === n ? (Ae(t), !1 === t._isValid && (delete t._isValid, Me(t), !1 === t._isValid && (delete t._isValid, e.createFromInputFallback(t)))) : t._d = new Date(+n[1]);
}
function Pe(t) {
if (t._f !== e.ISO_8601) if (t._f !== e.RFC_2822) {
t._a = [], h(t).empty = !0;
var n, i, r, o, a, s = "" + t._i, l = s.length, c = 0;
for (r = R(t._f, t._locale).match(Rt) || [], n = 0; n < r.length; n++) o = r[n], (i = (s.match(B(o, t)) || [])[0]) && ((a = s.substr(0, s.indexOf(i))).length > 0 && h(t).unusedInput.push(a), s = s.slice(s.indexOf(i) + i.length), c += i.length), jt[o] ? (i ? h(t).empty = !1 : h(t).unusedTokens.push(o), z(o, i, t)) : t._strict && !i && h(t).unusedTokens.push(o);
h(t).charsLeftOver = l - c, s.length > 0 && h(t).unusedInput.push(s), t._a[un] <= 12 && !0 === h(t).bigHour && t._a[un] > 0 && (h(t).bigHour = void 0), h(t).parsedDateParts = t._a.slice(0), h(t).meridiem = t._meridiem, t._a[un] = Le(t._locale, t._a[un], t._meridiem), Se(t), we(t);
} else Me(t); else Ae(t);
}
function Le(e, t, n) {
var i;
return null == n ? t : null != e.meridiemHour ? e.meridiemHour(t, n) : null != e.isPM ? ((i = e.isPM(n)) && t < 12 && (t += 12), i || 12 !== t || (t = 0), t) : t;
}
function Oe(e) {
var t, n, i, r, o;
if (0 === e._f.length) return h(e).invalidFormat = !0, void (e._d = new Date(NaN));
for (r = 0; r < e._f.length; r++) o = 0, t = g({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._f = e._f[r], Pe(t), f(t) && (o += h(t).charsLeftOver, o += 10 * h(t).unusedTokens.length, h(t).score = o, (null == i || o < i) && (i = o, n = t));
c(e, n || t);
}
function Re(e) {
if (!e._d) {
var t = D(e._i);
e._a = s([ t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond ], function(e) {
return e && parseInt(e, 10);
}), Se(e);
}
}
function Ne(e) {
var t = new m(we(Be(e)));
return t._nextDay && (t.add(1, "d"), t._nextDay = void 0), t;
}
function Be(e) {
var n = e._i, i = e._f;
return e._locale = e._locale || _e(e._l), null === n || void 0 === i && "" === n ? p({
nullInput: !0
}) : ("string" == typeof n && (e._i = n = e._locale.preparse(n)), v(n) ? new m(we(n)) : (a(n) ? e._d = n : t(i) ? Oe(e) : i ? Pe(e) : je(e), f(e) || (e._d = null), e));
}
function je(i) {
var l = i._i;
r(l) ? i._d = new Date(e.now()) : a(l) ? i._d = new Date(l.valueOf()) : "string" == typeof l ? Ie(i) : t(l) ? (i._a = s(l.slice(0), function(e) {
return parseInt(e, 10);
}), Se(i)) : n(l) ? Re(i) : o(l) ? i._d = new Date(l) : e.createFromInputFallback(i);
}
function He(e, r, o, a, s) {
var l = {};
return !0 !== o && !1 !== o || (a = o, o = void 0), (n(e) && i(e) || t(e) && 0 === e.length) && (e = void 0), l._isAMomentObject = !0, l._useUTC = l._isUTC = s, l._l = o, l._i = e, l._f = r, l._strict = a, Ne(l);
}
function Ve(e, t, n, i) {
return He(e, t, n, i, !1);
}
function Ue(e, n) {
var i, r;
if (1 === n.length && t(n[0]) && (n = n[0]), !n.length) return Ve();
for (i = n[0], r = 1; r < n.length; ++r) n[r].isValid() && !n[r][e](i) || (i = n[r]);
return i;
}
function ze(e) {
for (var t in e) if (-1 === mn.call(qn, t) || null != e[t] && isNaN(e[t])) return !1;
for (var n = !1, i = 0; i < qn.length; ++i) if (e[qn[i]]) {
if (n) return !1;
parseFloat(e[qn[i]]) !== b(e[qn[i]]) && (n = !0);
}
return !0;
}
function We(e) {
var t = D(e), n = t.year || 0, i = t.quarter || 0, r = t.month || 0, o = t.week || 0, a = t.day || 0, s = t.hour || 0, l = t.minute || 0, c = t.second || 0, u = t.millisecond || 0;
this._isValid = ze(t), this._milliseconds = +u + 1e3 * c + 6e4 * l + 1e3 * s * 60 * 60, this._days = +a + 7 * o, this._months = +r + 3 * i + 12 * n, this._data = {}, this._locale = _e(), this._bubble();
}
function qe(e) {
return e instanceof We;
}
function Ge(e) {
return e < 0 ? -1 * Math.round(-1 * e) : Math.round(e);
}
function Ye(e, t) {
I(e, 0, 0, function() {
var e = this.utcOffset(), n = "+";
return e < 0 && (e = -e, n = "-"), n + M(~~(e / 60), 2) + t + M(~~e % 60, 2);
});
}
function Ke(e, t) {
var n = (t || "").match(e);
if (null === n) return null;
var i = ((n[n.length - 1] || []) + "").match(Gn) || [ "-", 0, 0 ], r = 60 * i[1] + b(i[2]);
return 0 === r ? 0 : "+" === i[0] ? r : -r;
}
function Xe(t, n) {
var i, r;
return n._isUTC ? (i = n.clone(), r = (v(t) || a(t) ? t.valueOf() : Ve(t).valueOf()) - i.valueOf(), i._d.setTime(i._d.valueOf() + r), e.updateOffset(i, !1), i) : Ve(t).local();
}
function Qe(e) {
return 15 * -Math.round(e._d.getTimezoneOffset() / 15);
}
function Je() {
return !!this.isValid() && (this._isUTC && 0 === this._offset);
}
function Ze(e, t) {
var n, i, r, a = e, s = null;
return qe(e) ? a = {
ms: e._milliseconds,
d: e._days,
M: e._months
} : o(e) ? (a = {}, t ? a[t] = e : a.milliseconds = e) : (s = Yn.exec(e)) ? (n = "-" === s[1] ? -1 : 1, a = {
y: 0,
d: b(s[cn]) * n,
h: b(s[un]) * n,
m: b(s[dn]) * n,
s: b(s[hn]) * n,
ms: b(Ge(1e3 * s[fn])) * n
}) : (s = Kn.exec(e)) ? (n = "-" === s[1] ? -1 : (s[1], 1), a = {
y: et(s[2], n),
M: et(s[3], n),
w: et(s[4], n),
d: et(s[5], n),
h: et(s[6], n),
m: et(s[7], n),
s: et(s[8], n)
}) : null == a ? a = {} : "object" == typeof a && ("from" in a || "to" in a) && (r = nt(Ve(a.from), Ve(a.to)), (a = {}).ms = r.milliseconds, a.M = r.months), i = new We(a), qe(e) && l(e, "_locale") && (i._locale = e._locale), i;
}
function et(e, t) {
var n = e && parseFloat(e.replace(",", "."));
return (isNaN(n) ? 0 : n) * t;
}
function tt(e, t) {
var n = {
milliseconds: 0,
months: 0
};
return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n;
}
function nt(e, t) {
var n;
return e.isValid() && t.isValid() ? (t = Xe(t, e), e.isBefore(t) ? n = tt(e, t) : ((n = tt(t, e)).milliseconds = -n.milliseconds, n.months = -n.months), n) : {
milliseconds: 0,
months: 0
};
}
function it(e, t) {
return function(n, i) {
var r, o;
return null === i || isNaN(+i) || (x(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), o = n, n = i, i = o), n = "string" == typeof n ? +n : n, r = Ze(n, i), rt(this, r, e), this;
};
}
function rt(t, n, i, r) {
var o = n._milliseconds, a = Ge(n._days), s = Ge(n._months);
t.isValid() && (r = null == r || r, s && Z(t, Y(t, "Month") + s * i), a && K(t, "Date", Y(t, "Date") + a * i), o && t._d.setTime(t._d.valueOf() + o * i), r && e.updateOffset(t, a || s));
}
function ot(e, t) {
var n, i = 12 * (t.year() - e.year()) + (t.month() - e.month()), r = e.clone().add(i, "months");
return n = t - r < 0 ? (t - r) / (r - e.clone().add(i - 1, "months")) : (t - r) / (e.clone().add(i + 1, "months") - r), -(i + n) || 0;
}
function at(e) {
var t;
return void 0 === e ? this._locale._abbr : (null != (t = _e(e)) && (this._locale = t), this);
}
function st() {
return this._locale;
}
function lt(e, t) {
I(0, [ e, e.length ], 0, t);
}
function ct(e, t, n, i, r) {
var o;
return null == e ? ae(this, i, r).year : (o = se(e, i, r), t > o && (t = o), ut.call(this, e, t, n, i, r));
}
function ut(e, t, n, i, r) {
var o = oe(e, t, n, i, r), a = ie(o.year, 0, o.dayOfYear);
return this.year(a.getUTCFullYear()), this.month(a.getUTCMonth()), this.date(a.getUTCDate()), this;
}
function dt(e) {
return e;
}
function ht(e, t, n, i) {
var r = _e(), o = u().set(i, t);
return r[n](o, e);
}
function ft(e, t, n) {
if (o(e) && (t = e, e = void 0), e = e || "", null != t) return ht(e, t, n, "month");
var i, r = [];
for (i = 0; i < 12; i++) r[i] = ht(e, i, n, "month");
return r;
}
function pt(e, t, n, i) {
"boolean" == typeof e ? (o(t) && (n = t, t = void 0), t = t || "") : (n = t = e, e = !1, o(t) && (n = t, t = void 0), t = t || "");
var r = _e(), a = e ? r._week.dow : 0;
if (null != n) return ht(t, (n + a) % 7, i, "day");
var s, l = [];
for (s = 0; s < 7; s++) l[s] = ht(t, (s + a) % 7, i, "day");
return l;
}
function gt(e, t, n, i) {
var r = Ze(t, n);
return e._milliseconds += i * r._milliseconds, e._days += i * r._days, e._months += i * r._months, e._bubble();
}
function mt(e) {
return e < 0 ? Math.floor(e) : Math.ceil(e);
}
function vt(e) {
return 4800 * e / 146097;
}
function yt(e) {
return 146097 * e / 4800;
}
function bt(e) {
return function() {
return this.as(e);
};
}
function _t(e) {
return function() {
return this.isValid() ? this._data[e] : NaN;
};
}
function wt(e, t, n, i, r) {
return r.relativeTime(t || 1, !!n, e, i);
}
function Ct(e, t, n) {
var i = Ze(e).abs(), r = Ci(i.as("s")), o = Ci(i.as("m")), a = Ci(i.as("h")), s = Ci(i.as("d")), l = Ci(i.as("M")), c = Ci(i.as("y")), u = r <= xi.ss && [ "s", r ] || r < xi.s && [ "ss", r ] || o <= 1 && [ "m" ] || o < xi.m && [ "mm", o ] || a <= 1 && [ "h" ] || a < xi.h && [ "hh", a ] || s <= 1 && [ "d" ] || s < xi.d && [ "dd", s ] || l <= 1 && [ "M" ] || l < xi.M && [ "MM", l ] || c <= 1 && [ "y" ] || [ "yy", c ];
return u[2] = t, u[3] = +e > 0, u[4] = n, wt.apply(null, u);
}
function xt(e) {
return (e > 0) - (e < 0) || +e;
}
function St() {
if (!this.isValid()) return this.localeData().invalidDate();
var e, t, n, i = Si(this._milliseconds) / 1e3, r = Si(this._days), o = Si(this._months);
t = y((e = y(i / 60)) / 60), i %= 60, e %= 60;
var a = n = y(o / 12), s = o %= 12, l = r, c = t, u = e, d = i ? i.toFixed(3).replace(/\.?0+$/, "") : "", h = this.asSeconds();
if (!h) return "P0D";
var f = h < 0 ? "-" : "", p = xt(this._months) !== xt(h) ? "-" : "", g = xt(this._days) !== xt(h) ? "-" : "", m = xt(this._milliseconds) !== xt(h) ? "-" : "";
return f + "P" + (a ? p + a + "Y" : "") + (s ? p + s + "M" : "") + (l ? g + l + "D" : "") + (c || u || d ? "T" : "") + (c ? m + c + "H" : "") + (u ? m + u + "M" : "") + (d ? m + d + "S" : "");
}
var $t, At;
At = Array.prototype.some ? Array.prototype.some : function(e) {
for (var t = Object(this), n = t.length >>> 0, i = 0; i < n; i++) if (i in t && e.call(this, t[i], i, t)) return !0;
return !1;
};
var kt = e.momentProperties = [], Tt = !1, Dt = {};
e.suppressDeprecationWarnings = !1, e.deprecationHandler = null;
var Et;
Et = Object.keys ? Object.keys : function(e) {
var t, n = [];
for (t in e) l(e, t) && n.push(t);
return n;
};
var Ft = {
sameDay: "[Today at] LT",
nextDay: "[Tomorrow at] LT",
nextWeek: "dddd [at] LT",
lastDay: "[Yesterday at] LT",
lastWeek: "[Last] dddd [at] LT",
sameElse: "L"
}, Mt = {
LTS: "h:mm:ss A",
LT: "h:mm A",
L: "MM/DD/YYYY",
LL: "MMMM D, YYYY",
LLL: "MMMM D, YYYY h:mm A",
LLLL: "dddd, MMMM D, YYYY h:mm A"
}, It = /\d{1,2}/, Pt = {
future: "in %s",
past: "%s ago",
s: "a few seconds",
ss: "%d seconds",
m: "a minute",
mm: "%d minutes",
h: "an hour",
hh: "%d hours",
d: "a day",
dd: "%d days",
M: "a month",
MM: "%d months",
y: "a year",
yy: "%d years"
}, Lt = {}, Ot = {}, Rt = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Nt = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Bt = {}, jt = {}, Ht = /\d/, Vt = /\d\d/, Ut = /\d{3}/, zt = /\d{4}/, Wt = /[+-]?\d{6}/, qt = /\d\d?/, Gt = /\d\d\d\d?/, Yt = /\d\d\d\d\d\d?/, Kt = /\d{1,3}/, Xt = /\d{1,4}/, Qt = /[+-]?\d{1,6}/, Jt = /\d+/, Zt = /[+-]?\d+/, en = /Z|[+-]\d\d:?\d\d/gi, tn = /Z|[+-]\d\d(?::?\d\d)?/gi, nn = /[+-]?\d+(\.\d{1,3})?/, rn = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, on = {}, an = {}, sn = 0, ln = 1, cn = 2, un = 3, dn = 4, hn = 5, fn = 6, pn = 7, gn = 8;
I("Y", 0, 0, function() {
var e = this.year();
return e <= 9999 ? "" + e : "+" + e;
}), I(0, [ "YY", 2 ], 0, function() {
return this.year() % 100;
}), I(0, [ "YYYY", 4 ], 0, "year"), I(0, [ "YYYYY", 5 ], 0, "year"), I(0, [ "YYYYYY", 6, !0 ], 0, "year"), k("year", "y"), E("year", 1), N("Y", Zt), N("YY", qt, Vt), N("YYYY", Xt, zt), N("YYYYY", Qt, Wt), N("YYYYYY", Qt, Wt), V([ "YYYYY", "YYYYYY" ], sn), V("YYYY", function(t, n) {
n[sn] = 2 === t.length ? e.parseTwoDigitYear(t) : b(t);
}), V("YY", function(t, n) {
n[sn] = e.parseTwoDigitYear(t);
}), V("Y", function(e, t) {
t[sn] = parseInt(e, 10);
}), e.parseTwoDigitYear = function(e) {
return b(e) + (b(e) > 68 ? 1900 : 2e3);
};
var mn, vn = G("FullYear", !0);
mn = Array.prototype.indexOf ? Array.prototype.indexOf : function(e) {
var t;
for (t = 0; t < this.length; ++t) if (this[t] === e) return t;
return -1;
}, I("M", [ "MM", 2 ], "Mo", function() {
return this.month() + 1;
}), I("MMM", 0, 0, function(e) {
return this.localeData().monthsShort(this, e);
}), I("MMMM", 0, 0, function(e) {
return this.localeData().months(this, e);
}), k("month", "M"), E("month", 8), N("M", qt), N("MM", qt, Vt), N("MMM", function(e, t) {
return t.monthsShortRegex(e);
}), N("MMMM", function(e, t) {
return t.monthsRegex(e);
}), V([ "M", "MM" ], function(e, t) {
t[ln] = b(e) - 1;
}), V([ "MMM", "MMMM" ], function(e, t, n, i) {
var r = n._locale.monthsParse(e, i, n._strict);
null != r ? t[ln] = r : h(n).invalidMonth = e;
});
var yn = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, bn = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), _n = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), wn = rn, Cn = rn;
I("w", [ "ww", 2 ], "wo", "week"), I("W", [ "WW", 2 ], "Wo", "isoWeek"), k("week", "w"), k("isoWeek", "W"), E("week", 5), E("isoWeek", 5), N("w", qt), N("ww", qt, Vt), N("W", qt), N("WW", qt, Vt), U([ "w", "ww", "W", "WW" ], function(e, t, n, i) {
t[i.substr(0, 1)] = b(e);
});
var xn = {
dow: 0,
doy: 6
};
I("d", 0, "do", "day"), I("dd", 0, 0, function(e) {
return this.localeData().weekdaysMin(this, e);
}), I("ddd", 0, 0, function(e) {
return this.localeData().weekdaysShort(this, e);
}), I("dddd", 0, 0, function(e) {
return this.localeData().weekdays(this, e);
}), I("e", 0, 0, "weekday"), I("E", 0, 0, "isoWeekday"), k("day", "d"), k("weekday", "e"), k("isoWeekday", "E"), E("day", 11), E("weekday", 11), E("isoWeekday", 11), N("d", qt), N("e", qt), N("E", qt), N("dd", function(e, t) {
return t.weekdaysMinRegex(e);
}), N("ddd", function(e, t) {
return t.weekdaysShortRegex(e);
}), N("dddd", function(e, t) {
return t.weekdaysRegex(e);
}), U([ "dd", "ddd", "dddd" ], function(e, t, n, i) {
var r = n._locale.weekdaysParse(e, i, n._strict);
null != r ? t.d = r : h(n).invalidWeekday = e;
}), U([ "d", "e", "E" ], function(e, t, n, i) {
t[i] = b(e);
});
var Sn = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), $n = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), An = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), kn = rn, Tn = rn, Dn = rn;
I("H", [ "HH", 2 ], 0, "hour"), I("h", [ "hh", 2 ], 0, he), I("k", [ "kk", 2 ], 0, function() {
return this.hours() || 24;
}), I("hmm", 0, 0, function() {
return "" + he.apply(this) + M(this.minutes(), 2);
}), I("hmmss", 0, 0, function() {
return "" + he.apply(this) + M(this.minutes(), 2) + M(this.seconds(), 2);
}), I("Hmm", 0, 0, function() {
return "" + this.hours() + M(this.minutes(), 2);
}), I("Hmmss", 0, 0, function() {
return "" + this.hours() + M(this.minutes(), 2) + M(this.seconds(), 2);
}), fe("a", !0), fe("A", !1), k("hour", "h"), E("hour", 13), N("a", pe), N("A", pe), N("H", qt), N("h", qt), N("k", qt), N("HH", qt, Vt), N("hh", qt, Vt), N("kk", qt, Vt), N("hmm", Gt), N("hmmss", Yt), N("Hmm", Gt), N("Hmmss", Yt), V([ "H", "HH" ], un), V([ "k", "kk" ], function(e, t, n) {
var i = b(e);
t[un] = 24 === i ? 0 : i;
}), V([ "a", "A" ], function(e, t, n) {
n._isPm = n._locale.isPM(e), n._meridiem = e;
}), V([ "h", "hh" ], function(e, t, n) {
t[un] = b(e), h(n).bigHour = !0;
}), V("hmm", function(e, t, n) {
var i = e.length - 2;
t[un] = b(e.substr(0, i)), t[dn] = b(e.substr(i)), h(n).bigHour = !0;
}), V("hmmss", function(e, t, n) {
var i = e.length - 4, r = e.length - 2;
t[un] = b(e.substr(0, i)), t[dn] = b(e.substr(i, 2)), t[hn] = b(e.substr(r)), h(n).bigHour = !0;
}), V("Hmm", function(e, t, n) {
var i = e.length - 2;
t[un] = b(e.substr(0, i)), t[dn] = b(e.substr(i));
}), V("Hmmss", function(e, t, n) {
var i = e.length - 4, r = e.length - 2;
t[un] = b(e.substr(0, i)), t[dn] = b(e.substr(i, 2)), t[hn] = b(e.substr(r));
});
var En, Fn = /[ap]\.?m?\.?/i, Mn = G("Hours", !0), In = {
calendar: Ft,
longDateFormat: Mt,
invalidDate: "Invalid date",
ordinal: "%d",
dayOfMonthOrdinalParse: It,
relativeTime: Pt,
months: bn,
monthsShort: _n,
week: xn,
weekdays: Sn,
weekdaysMin: An,
weekdaysShort: $n,
meridiemParse: Fn
}, Pn = {}, Ln = {}, On = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Rn = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Nn = /Z|[+-]\d\d(?::?\d\d)?/, Bn = [ [ "YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/ ], [ "YYYY-MM-DD", /\d{4}-\d\d-\d\d/ ], [ "GGGG-[W]WW-E", /\d{4}-W\d\d-\d/ ], [ "GGGG-[W]WW", /\d{4}-W\d\d/, !1 ], [ "YYYY-DDD", /\d{4}-\d{3}/ ], [ "YYYY-MM", /\d{4}-\d\d/, !1 ], [ "YYYYYYMMDD", /[+-]\d{10}/ ], [ "YYYYMMDD", /\d{8}/ ], [ "GGGG[W]WWE", /\d{4}W\d{3}/ ], [ "GGGG[W]WW", /\d{4}W\d{2}/, !1 ], [ "YYYYDDD", /\d{7}/ ] ], jn = [ [ "HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/ ], [ "HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/ ], [ "HH:mm:ss", /\d\d:\d\d:\d\d/ ], [ "HH:mm", /\d\d:\d\d/ ], [ "HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/ ], [ "HHmmss,SSSS", /\d\d\d\d\d\d,\d+/ ], [ "HHmmss", /\d\d\d\d\d\d/ ], [ "HHmm", /\d\d\d\d/ ], [ "HH", /\d\d/ ] ], Hn = /^\/?Date\((\-?\d+)/i, Vn = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, Un = {
UT: 0,
GMT: 0,
EDT: -240,
EST: -300,
CDT: -300,
CST: -360,
MDT: -360,
MST: -420,
PDT: -420,
PST: -480
};
e.createFromInputFallback = C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(e) {
e._d = new Date(e._i + (e._useUTC ? " UTC" : ""));
}), e.ISO_8601 = function() {}, e.RFC_2822 = function() {};
var zn = C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
var e = Ve.apply(null, arguments);
return this.isValid() && e.isValid() ? e < this ? this : e : p();
}), Wn = C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
var e = Ve.apply(null, arguments);
return this.isValid() && e.isValid() ? e > this ? this : e : p();
}), qn = [ "year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond" ];
Ye("Z", ":"), Ye("ZZ", ""), N("Z", tn), N("ZZ", tn), V([ "Z", "ZZ" ], function(e, t, n) {
n._useUTC = !0, n._tzm = Ke(tn, e);
});
var Gn = /([\+\-]|\d\d)/gi;
e.updateOffset = function() {};
var Yn = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, Kn = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
Ze.fn = We.prototype, Ze.invalid = function() {
return Ze(NaN);
};
var Xn = it(1, "add"), Qn = it(-1, "subtract");
e.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", e.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
var Jn = C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
return void 0 === e ? this.localeData() : this.locale(e);
});
I(0, [ "gg", 2 ], 0, function() {
return this.weekYear() % 100;
}), I(0, [ "GG", 2 ], 0, function() {
return this.isoWeekYear() % 100;
}), lt("gggg", "weekYear"), lt("ggggg", "weekYear"), lt("GGGG", "isoWeekYear"), lt("GGGGG", "isoWeekYear"), k("weekYear", "gg"), k("isoWeekYear", "GG"), E("weekYear", 1), E("isoWeekYear", 1), N("G", Zt), N("g", Zt), N("GG", qt, Vt), N("gg", qt, Vt), N("GGGG", Xt, zt), N("gggg", Xt, zt), N("GGGGG", Qt, Wt), N("ggggg", Qt, Wt), U([ "gggg", "ggggg", "GGGG", "GGGGG" ], function(e, t, n, i) {
t[i.substr(0, 2)] = b(e);
}), U([ "gg", "GG" ], function(t, n, i, r) {
n[r] = e.parseTwoDigitYear(t);
}), I("Q", 0, "Qo", "quarter"), k("quarter", "Q"), E("quarter", 7), N("Q", Ht), V("Q", function(e, t) {
t[ln] = 3 * (b(e) - 1);
}), I("D", [ "DD", 2 ], "Do", "date"), k("date", "D"), E("date", 9), N("D", qt), N("DD", qt, Vt), N("Do", function(e, t) {
return e ? t._dayOfMonthOrdinalParse || t._ordinalParse : t._dayOfMonthOrdinalParseLenient;
}), V([ "D", "DD" ], cn), V("Do", function(e, t) {
t[cn] = b(e.match(qt)[0], 10);
});
var Zn = G("Date", !0);
I("DDD", [ "DDDD", 3 ], "DDDo", "dayOfYear"), k("dayOfYear", "DDD"), E("dayOfYear", 4), N("DDD", Kt), N("DDDD", Ut), V([ "DDD", "DDDD" ], function(e, t, n) {
n._dayOfYear = b(e);
}), I("m", [ "mm", 2 ], 0, "minute"), k("minute", "m"), E("minute", 14), N("m", qt), N("mm", qt, Vt), V([ "m", "mm" ], dn);
var ei = G("Minutes", !1);
I("s", [ "ss", 2 ], 0, "second"), k("second", "s"), E("second", 15), N("s", qt), N("ss", qt, Vt), V([ "s", "ss" ], hn);
var ti = G("Seconds", !1);
I("S", 0, 0, function() {
return ~~(this.millisecond() / 100);
}), I(0, [ "SS", 2 ], 0, function() {
return ~~(this.millisecond() / 10);
}), I(0, [ "SSS", 3 ], 0, "millisecond"), I(0, [ "SSSS", 4 ], 0, function() {
return 10 * this.millisecond();
}), I(0, [ "SSSSS", 5 ], 0, function() {
return 100 * this.millisecond();
}), I(0, [ "SSSSSS", 6 ], 0, function() {
return 1e3 * this.millisecond();
}), I(0, [ "SSSSSSS", 7 ], 0, function() {
return 1e4 * this.millisecond();
}), I(0, [ "SSSSSSSS", 8 ], 0, function() {
return 1e5 * this.millisecond();
}), I(0, [ "SSSSSSSSS", 9 ], 0, function() {
return 1e6 * this.millisecond();
}), k("millisecond", "ms"), E("millisecond", 16), N("S", Kt, Ht), N("SS", Kt, Vt), N("SSS", Kt, Ut);
var ni;
for (ni = "SSSS"; ni.length <= 9; ni += "S") N(ni, Jt);
for (ni = "S"; ni.length <= 9; ni += "S") V(ni, function(e, t) {
t[fn] = b(1e3 * ("0." + e));
});
var ii = G("Milliseconds", !1);
I("z", 0, 0, "zoneAbbr"), I("zz", 0, 0, "zoneName");
var ri = m.prototype;
ri.add = Xn, ri.calendar = function(t, n) {
var i = t || Ve(), r = Xe(i, this).startOf("day"), o = e.calendarFormat(this, r) || "sameElse", a = n && (S(n[o]) ? n[o].call(this, i) : n[o]);
return this.format(a || this.localeData().calendar(o, this, Ve(i)));
}, ri.clone = function() {
return new m(this);
}, ri.diff = function(e, t, n) {
var i, r, o;
if (!this.isValid()) return NaN;
if (!(i = Xe(e, this)).isValid()) return NaN;
switch (r = 6e4 * (i.utcOffset() - this.utcOffset()), t = T(t)) {
case "year":
o = ot(this, i) / 12;
break;

case "month":
o = ot(this, i);
break;

case "quarter":
o = ot(this, i) / 3;
break;

case "second":
o = (this - i) / 1e3;
break;

case "minute":
o = (this - i) / 6e4;
break;

case "hour":
o = (this - i) / 36e5;
break;

case "day":
o = (this - i - r) / 864e5;
break;

case "week":
o = (this - i - r) / 6048e5;
break;

default:
o = this - i;
}
return n ? o : y(o);
}, ri.endOf = function(e) {
return void 0 === (e = T(e)) || "millisecond" === e ? this : ("date" === e && (e = "day"), this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms"));
}, ri.format = function(t) {
t || (t = this.isUtc() ? e.defaultFormatUtc : e.defaultFormat);
var n = O(this, t);
return this.localeData().postformat(n);
}, ri.from = function(e, t) {
return this.isValid() && (v(e) && e.isValid() || Ve(e).isValid()) ? Ze({
to: this,
from: e
}).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();
}, ri.fromNow = function(e) {
return this.from(Ve(), e);
}, ri.to = function(e, t) {
return this.isValid() && (v(e) && e.isValid() || Ve(e).isValid()) ? Ze({
from: this,
to: e
}).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();
}, ri.toNow = function(e) {
return this.to(Ve(), e);
}, ri.get = function(e) {
return e = T(e), S(this[e]) ? this[e]() : this;
}, ri.invalidAt = function() {
return h(this).overflow;
}, ri.isAfter = function(e, t) {
var n = v(e) ? e : Ve(e);
return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = T(r(t) ? "millisecond" : t)) ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(t).valueOf());
}, ri.isBefore = function(e, t) {
var n = v(e) ? e : Ve(e);
return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = T(r(t) ? "millisecond" : t)) ? this.valueOf() < n.valueOf() : this.clone().endOf(t).valueOf() < n.valueOf());
}, ri.isBetween = function(e, t, n, i) {
return ("(" === (i = i || "()")[0] ? this.isAfter(e, n) : !this.isBefore(e, n)) && (")" === i[1] ? this.isBefore(t, n) : !this.isAfter(t, n));
}, ri.isSame = function(e, t) {
var n, i = v(e) ? e : Ve(e);
return !(!this.isValid() || !i.isValid()) && ("millisecond" === (t = T(t || "millisecond")) ? this.valueOf() === i.valueOf() : (n = i.valueOf(), this.clone().startOf(t).valueOf() <= n && n <= this.clone().endOf(t).valueOf()));
}, ri.isSameOrAfter = function(e, t) {
return this.isSame(e, t) || this.isAfter(e, t);
}, ri.isSameOrBefore = function(e, t) {
return this.isSame(e, t) || this.isBefore(e, t);
}, ri.isValid = function() {
return f(this);
}, ri.lang = Jn, ri.locale = at, ri.localeData = st, ri.max = Wn, ri.min = zn, ri.parsingFlags = function() {
return c({}, h(this));
}, ri.set = function(e, t) {
if ("object" == typeof e) for (var n = F(e = D(e)), i = 0; i < n.length; i++) this[n[i].unit](e[n[i].unit]); else if (e = T(e), S(this[e])) return this[e](t);
return this;
}, ri.startOf = function(e) {
switch (e = T(e)) {
case "year":
this.month(0);

case "quarter":
case "month":
this.date(1);

case "week":
case "isoWeek":
case "day":
case "date":
this.hours(0);

case "hour":
this.minutes(0);

case "minute":
this.seconds(0);

case "second":
this.milliseconds(0);
}
return "week" === e && this.weekday(0), "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this;
}, ri.subtract = Qn, ri.toArray = function() {
var e = this;
return [ e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond() ];
}, ri.toObject = function() {
var e = this;
return {
years: e.year(),
months: e.month(),
date: e.date(),
hours: e.hours(),
minutes: e.minutes(),
seconds: e.seconds(),
milliseconds: e.milliseconds()
};
}, ri.toDate = function() {
return new Date(this.valueOf());
}, ri.toISOString = function() {
if (!this.isValid()) return null;
var e = this.clone().utc();
return e.year() < 0 || e.year() > 9999 ? O(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : S(Date.prototype.toISOString) ? this.toDate().toISOString() : O(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
}, ri.inspect = function() {
if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)";
var e = "moment", t = "";
this.isLocal() || (e = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", t = "Z");
var n = "[" + e + '("]', i = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", r = t + '[")]';
return this.format(n + i + "-MM-DD[T]HH:mm:ss.SSS" + r);
}, ri.toJSON = function() {
return this.isValid() ? this.toISOString() : null;
}, ri.toString = function() {
return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
}, ri.unix = function() {
return Math.floor(this.valueOf() / 1e3);
}, ri.valueOf = function() {
return this._d.valueOf() - 6e4 * (this._offset || 0);
}, ri.creationData = function() {
return {
input: this._i,
format: this._f,
locale: this._locale,
isUTC: this._isUTC,
strict: this._strict
};
}, ri.year = vn, ri.isLeapYear = function() {
return q(this.year());
}, ri.weekYear = function(e) {
return ct.call(this, e, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
}, ri.isoWeekYear = function(e) {
return ct.call(this, e, this.isoWeek(), this.isoWeekday(), 1, 4);
}, ri.quarter = ri.quarters = function(e) {
return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3);
}, ri.month = ee, ri.daysInMonth = function() {
return Q(this.year(), this.month());
}, ri.week = ri.weeks = function(e) {
var t = this.localeData().week(this);
return null == e ? t : this.add(7 * (e - t), "d");
}, ri.isoWeek = ri.isoWeeks = function(e) {
var t = ae(this, 1, 4).week;
return null == e ? t : this.add(7 * (e - t), "d");
}, ri.weeksInYear = function() {
var e = this.localeData()._week;
return se(this.year(), e.dow, e.doy);
}, ri.isoWeeksInYear = function() {
return se(this.year(), 1, 4);
}, ri.date = Zn, ri.day = ri.days = function(e) {
if (!this.isValid()) return null != e ? this : NaN;
var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
return null != e ? (e = le(e, this.localeData()), this.add(e - t, "d")) : t;
}, ri.weekday = function(e) {
if (!this.isValid()) return null != e ? this : NaN;
var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
return null == e ? t : this.add(e - t, "d");
}, ri.isoWeekday = function(e) {
if (!this.isValid()) return null != e ? this : NaN;
if (null != e) {
var t = ce(e, this.localeData());
return this.day(this.day() % 7 ? t : t - 7);
}
return this.day() || 7;
}, ri.dayOfYear = function(e) {
var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
return null == e ? t : this.add(e - t, "d");
}, ri.hour = ri.hours = Mn, ri.minute = ri.minutes = ei, ri.second = ri.seconds = ti, ri.millisecond = ri.milliseconds = ii, ri.utcOffset = function(t, n, i) {
var r, o = this._offset || 0;
if (!this.isValid()) return null != t ? this : NaN;
if (null != t) {
if ("string" == typeof t) {
if (null === (t = Ke(tn, t))) return this;
} else Math.abs(t) < 16 && !i && (t *= 60);
return !this._isUTC && n && (r = Qe(this)), this._offset = t, this._isUTC = !0, null != r && this.add(r, "m"), o !== t && (!n || this._changeInProgress ? rt(this, Ze(t - o, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, e.updateOffset(this, !0), this._changeInProgress = null)), this;
}
return this._isUTC ? o : Qe(this);
}, ri.utc = function(e) {
return this.utcOffset(0, e);
}, ri.local = function(e) {
return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(Qe(this), "m")), this;
}, ri.parseZone = function() {
if (null != this._tzm) this.utcOffset(this._tzm, !1, !0); else if ("string" == typeof this._i) {
var e = Ke(en, this._i);
null != e ? this.utcOffset(e) : this.utcOffset(0, !0);
}
return this;
}, ri.hasAlignedHourOffset = function(e) {
return !!this.isValid() && (e = e ? Ve(e).utcOffset() : 0, (this.utcOffset() - e) % 60 == 0);
}, ri.isDST = function() {
return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
}, ri.isLocal = function() {
return !!this.isValid() && !this._isUTC;
}, ri.isUtcOffset = function() {
return !!this.isValid() && this._isUTC;
}, ri.isUtc = Je, ri.isUTC = Je, ri.zoneAbbr = function() {
return this._isUTC ? "UTC" : "";
}, ri.zoneName = function() {
return this._isUTC ? "Coordinated Universal Time" : "";
}, ri.dates = C("dates accessor is deprecated. Use date instead.", Zn), ri.months = C("months accessor is deprecated. Use month instead", ee), ri.years = C("years accessor is deprecated. Use year instead", vn), ri.zone = C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function(e, t) {
return null != e ? ("string" != typeof e && (e = -e), this.utcOffset(e, t), this) : -this.utcOffset();
}), ri.isDSTShifted = C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function() {
if (!r(this._isDSTShifted)) return this._isDSTShifted;
var e = {};
if (g(e, this), (e = Be(e))._a) {
var t = e._isUTC ? u(e._a) : Ve(e._a);
this._isDSTShifted = this.isValid() && _(e._a, t.toArray()) > 0;
} else this._isDSTShifted = !1;
return this._isDSTShifted;
});
var oi = A.prototype;
oi.calendar = function(e, t, n) {
var i = this._calendar[e] || this._calendar.sameElse;
return S(i) ? i.call(t, n) : i;
}, oi.longDateFormat = function(e) {
var t = this._longDateFormat[e], n = this._longDateFormat[e.toUpperCase()];
return t || !n ? t : (this._longDateFormat[e] = n.replace(/MMMM|MM|DD|dddd/g, function(e) {
return e.slice(1);
}), this._longDateFormat[e]);
}, oi.invalidDate = function() {
return this._invalidDate;
}, oi.ordinal = function(e) {
return this._ordinal.replace("%d", e);
}, oi.preparse = dt, oi.postformat = dt, oi.relativeTime = function(e, t, n, i) {
var r = this._relativeTime[n];
return S(r) ? r(e, t, n, i) : r.replace(/%d/i, e);
}, oi.pastFuture = function(e, t) {
var n = this._relativeTime[e > 0 ? "future" : "past"];
return S(n) ? n(t) : n.replace(/%s/i, t);
}, oi.set = function(e) {
var t, n;
for (n in e) S(t = e[n]) ? this[n] = t : this["_" + n] = t;
this._config = e, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source);
}, oi.months = function(e, n) {
return e ? t(this._months) ? this._months[e.month()] : this._months[(this._months.isFormat || yn).test(n) ? "format" : "standalone"][e.month()] : t(this._months) ? this._months : this._months.standalone;
}, oi.monthsShort = function(e, n) {
return e ? t(this._monthsShort) ? this._monthsShort[e.month()] : this._monthsShort[yn.test(n) ? "format" : "standalone"][e.month()] : t(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;
}, oi.monthsParse = function(e, t, n) {
var i, r, o;
if (this._monthsParseExact) return J.call(this, e, t, n);
for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) {
if (r = u([ 2e3, i ]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(r, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(r, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (o = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""), this._monthsParse[i] = new RegExp(o.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[i].test(e)) return i;
if (n && "MMM" === t && this._shortMonthsParse[i].test(e)) return i;
if (!n && this._monthsParse[i].test(e)) return i;
}
}, oi.monthsRegex = function(e) {
return this._monthsParseExact ? (l(this, "_monthsRegex") || te.call(this), e ? this._monthsStrictRegex : this._monthsRegex) : (l(this, "_monthsRegex") || (this._monthsRegex = Cn), this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex);
}, oi.monthsShortRegex = function(e) {
return this._monthsParseExact ? (l(this, "_monthsRegex") || te.call(this), e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (l(this, "_monthsShortRegex") || (this._monthsShortRegex = wn), this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex);
}, oi.week = function(e) {
return ae(e, this._week.dow, this._week.doy).week;
}, oi.firstDayOfYear = function() {
return this._week.doy;
}, oi.firstDayOfWeek = function() {
return this._week.dow;
}, oi.weekdays = function(e, n) {
return e ? t(this._weekdays) ? this._weekdays[e.day()] : this._weekdays[this._weekdays.isFormat.test(n) ? "format" : "standalone"][e.day()] : t(this._weekdays) ? this._weekdays : this._weekdays.standalone;
}, oi.weekdaysMin = function(e) {
return e ? this._weekdaysMin[e.day()] : this._weekdaysMin;
}, oi.weekdaysShort = function(e) {
return e ? this._weekdaysShort[e.day()] : this._weekdaysShort;
}, oi.weekdaysParse = function(e, t, n) {
var i, r, o;
if (this._weekdaysParseExact) return ue.call(this, e, t, n);
for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), i = 0; i < 7; i++) {
if (r = u([ 2e3, 1 ]).day(i), n && !this._fullWeekdaysParse[i] && (this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(r, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(r, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(r, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[i] || (o = "^" + this.weekdays(r, "") + "|^" + this.weekdaysShort(r, "") + "|^" + this.weekdaysMin(r, ""), this._weekdaysParse[i] = new RegExp(o.replace(".", ""), "i")), n && "dddd" === t && this._fullWeekdaysParse[i].test(e)) return i;
if (n && "ddd" === t && this._shortWeekdaysParse[i].test(e)) return i;
if (n && "dd" === t && this._minWeekdaysParse[i].test(e)) return i;
if (!n && this._weekdaysParse[i].test(e)) return i;
}
}, oi.weekdaysRegex = function(e) {
return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || de.call(this), e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (l(this, "_weekdaysRegex") || (this._weekdaysRegex = kn), this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex);
}, oi.weekdaysShortRegex = function(e) {
return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || de.call(this), e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (l(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Tn), this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
}, oi.weekdaysMinRegex = function(e) {
return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || de.call(this), e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (l(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Dn), this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
}, oi.isPM = function(e) {
return "p" === (e + "").toLowerCase().charAt(0);
}, oi.meridiem = function(e, t, n) {
return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM";
}, ye("en", {
dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
ordinal: function(e) {
var t = e % 10;
return e + (1 === b(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th");
}
}), e.lang = C("moment.lang is deprecated. Use moment.locale instead.", ye), e.langData = C("moment.langData is deprecated. Use moment.localeData instead.", _e);
var ai = Math.abs, si = bt("ms"), li = bt("s"), ci = bt("m"), ui = bt("h"), di = bt("d"), hi = bt("w"), fi = bt("M"), pi = bt("y"), gi = _t("milliseconds"), mi = _t("seconds"), vi = _t("minutes"), yi = _t("hours"), bi = _t("days"), _i = _t("months"), wi = _t("years"), Ci = Math.round, xi = {
ss: 44,
s: 45,
m: 45,
h: 22,
d: 26,
M: 11
}, Si = Math.abs, $i = We.prototype;
return $i.isValid = function() {
return this._isValid;
}, $i.abs = function() {
var e = this._data;
return this._milliseconds = ai(this._milliseconds), this._days = ai(this._days), this._months = ai(this._months), e.milliseconds = ai(e.milliseconds), e.seconds = ai(e.seconds), e.minutes = ai(e.minutes), e.hours = ai(e.hours), e.months = ai(e.months), e.years = ai(e.years), this;
}, $i.add = function(e, t) {
return gt(this, e, t, 1);
}, $i.subtract = function(e, t) {
return gt(this, e, t, -1);
}, $i.as = function(e) {
if (!this.isValid()) return NaN;
var t, n, i = this._milliseconds;
if ("month" === (e = T(e)) || "year" === e) return t = this._days + i / 864e5, n = this._months + vt(t), "month" === e ? n : n / 12;
switch (t = this._days + Math.round(yt(this._months)), e) {
case "week":
return t / 7 + i / 6048e5;

case "day":
return t + i / 864e5;

case "hour":
return 24 * t + i / 36e5;

case "minute":
return 1440 * t + i / 6e4;

case "second":
return 86400 * t + i / 1e3;

case "millisecond":
return Math.floor(864e5 * t) + i;

default:
throw new Error("Unknown unit " + e);
}
}, $i.asMilliseconds = si, $i.asSeconds = li, $i.asMinutes = ci, $i.asHours = ui, $i.asDays = di, $i.asWeeks = hi, $i.asMonths = fi, $i.asYears = pi, $i.valueOf = function() {
return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * b(this._months / 12) : NaN;
}, $i._bubble = function() {
var e, t, n, i, r, o = this._milliseconds, a = this._days, s = this._months, l = this._data;
return o >= 0 && a >= 0 && s >= 0 || o <= 0 && a <= 0 && s <= 0 || (o += 864e5 * mt(yt(s) + a), a = 0, s = 0), l.milliseconds = o % 1e3, e = y(o / 1e3), l.seconds = e % 60, t = y(e / 60), l.minutes = t % 60, n = y(t / 60), l.hours = n % 24, a += y(n / 24), r = y(vt(a)), s += r, a -= mt(yt(r)), i = y(s / 12), s %= 12, l.days = a, l.months = s, l.years = i, this;
}, $i.clone = function() {
return Ze(this);
}, $i.get = function(e) {
return e = T(e), this.isValid() ? this[e + "s"]() : NaN;
}, $i.milliseconds = gi, $i.seconds = mi, $i.minutes = vi, $i.hours = yi, $i.days = bi, $i.weeks = function() {
return y(this.days() / 7);
}, $i.months = _i, $i.years = wi, $i.humanize = function(e) {
if (!this.isValid()) return this.localeData().invalidDate();
var t = this.localeData(), n = Ct(this, !e, t);
return e && (n = t.pastFuture(+this, n)), t.postformat(n);
}, $i.toISOString = St, $i.toString = St, $i.toJSON = St, $i.locale = at, $i.localeData = st, $i.toIsoString = C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", St), $i.lang = Jn, I("X", 0, 0, "unix"), I("x", 0, 0, "valueOf"), N("x", Zt), N("X", nn), V("X", function(e, t, n) {
n._d = new Date(1e3 * parseFloat(e, 10));
}), V("x", function(e, t, n) {
n._d = new Date(b(e));
}), e.version = "2.19.3", function(e) {
$t = e;
}(Ve), e.fn = ri, e.min = function() {
return Ue("isBefore", [].slice.call(arguments, 0));
}, e.max = function() {
return Ue("isAfter", [].slice.call(arguments, 0));
}, e.now = function() {
return Date.now ? Date.now() : +new Date();
}, e.utc = u, e.unix = function(e) {
return Ve(1e3 * e);
}, e.months = function(e, t) {
return ft(e, t, "months");
}, e.isDate = a, e.locale = ye, e.invalid = p, e.duration = Ze, e.isMoment = v, e.weekdays = function(e, t, n) {
return pt(e, t, n, "weekdays");
}, e.parseZone = function() {
return Ve.apply(null, arguments).parseZone();
}, e.localeData = _e, e.isDuration = qe, e.monthsShort = function(e, t) {
return ft(e, t, "monthsShort");
}, e.weekdaysMin = function(e, t, n) {
return pt(e, t, n, "weekdaysMin");
}, e.defineLocale = be, e.updateLocale = function(e, t) {
if (null != t) {
var n, i, r = In;
null != (i = ve(e)) && (r = i._config), (n = new A(t = $(r, t))).parentLocale = Pn[e], Pn[e] = n, ye(e);
} else null != Pn[e] && (null != Pn[e].parentLocale ? Pn[e] = Pn[e].parentLocale : null != Pn[e] && delete Pn[e]);
return Pn[e];
}, e.locales = function() {
return Et(Pn);
}, e.weekdaysShort = function(e, t, n) {
return pt(e, t, n, "weekdaysShort");
}, e.normalizeUnits = T, e.relativeTimeRounding = function(e) {
return void 0 === e ? Ci : "function" == typeof e && (Ci = e, !0);
}, e.relativeTimeThreshold = function(e, t) {
return void 0 !== xi[e] && (void 0 === t ? xi[e] : (xi[e] = t, "s" === e && (xi.ss = t - 1), !0));
}, e.calendarFormat = function(e, t) {
var n = e.diff(t, "days", !0);
return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse";
}, e.prototype = ri, e;
}), function(e) {
"use strict";
"function" == typeof define && define.amd ? define([ "jquery" ], e) : "undefined" != typeof module && module.exports ? module.exports = e(require("jquery")) : e(jQuery);
}(function(e) {
var t = -1, n = -1, i = function(e) {
return parseFloat(e) || 0;
}, r = function(t) {
var n = null, r = [];
return e(t).each(function() {
var t = e(this), o = t.offset().top - i(t.css("margin-top")), a = r.length > 0 ? r[r.length - 1] : null;
null === a ? r.push(t) : Math.floor(Math.abs(n - o)) <= 1 ? r[r.length - 1] = a.add(t) : r.push(t), n = o;
}), r;
}, o = function(t) {
var n = {
byRow: !0,
property: "height",
target: null,
remove: !1
};
return "object" == typeof t ? e.extend(n, t) : ("boolean" == typeof t ? n.byRow = t : "remove" === t && (n.remove = !0), n);
}, a = e.fn.matchHeight = function(t) {
var n = o(t);
if (n.remove) {
var i = this;
return this.css(n.property, ""), e.each(a._groups, function(e, t) {
t.elements = t.elements.not(i);
}), this;
}
return this.length <= 1 && !n.target ? this : (a._groups.push({
elements: this,
options: n
}), a._apply(this, n), this);
};
a.version = "0.7.2", a._groups = [], a._throttle = 80, a._maintainScroll = !1, a._beforeUpdate = null, a._afterUpdate = null, a._rows = r, a._parse = i, a._parseOptions = o, a._apply = function(t, n) {
var s = o(n), l = e(t), c = [ l ], u = e(window).scrollTop(), d = e("html").outerHeight(!0), h = l.parents().filter(":hidden");
return h.each(function() {
var t = e(this);
t.data("style-cache", t.attr("style"));
}), h.css("display", "block"), s.byRow && !s.target && (l.each(function() {
var t = e(this), n = t.css("display");
"inline-block" !== n && "flex" !== n && "inline-flex" !== n && (n = "block"), t.data("style-cache", t.attr("style")), t.css({
display: n,
"padding-top": "0",
"padding-bottom": "0",
"margin-top": "0",
"margin-bottom": "0",
"border-top-width": "0",
"border-bottom-width": "0",
height: "100px",
overflow: "hidden"
});
}), c = r(l), l.each(function() {
var t = e(this);
t.attr("style", t.data("style-cache") || "");
})), e.each(c, function(t, n) {
var r = e(n), o = 0;
if (s.target) o = s.target.outerHeight(!1); else {
if (s.byRow && r.length <= 1) return void r.css(s.property, "");
r.each(function() {
var t = e(this), n = t.attr("style"), i = t.css("display");
"inline-block" !== i && "flex" !== i && "inline-flex" !== i && (i = "block");
var r = {
display: i
};
r[s.property] = "", t.css(r), t.outerHeight(!1) > o && (o = t.outerHeight(!1)), n ? t.attr("style", n) : t.css("display", "");
});
}
r.each(function() {
var t = e(this), n = 0;
s.target && t.is(s.target) || ("border-box" !== t.css("box-sizing") && (n += i(t.css("border-top-width")) + i(t.css("border-bottom-width")), n += i(t.css("padding-top")) + i(t.css("padding-bottom"))), t.css(s.property, o - n + "px"));
});
}), h.each(function() {
var t = e(this);
t.attr("style", t.data("style-cache") || null);
}), a._maintainScroll && e(window).scrollTop(u / d * e("html").outerHeight(!0)), this;
}, a._applyDataApi = function() {
var t = {};
e("[data-match-height], [data-mh]").each(function() {
var n = e(this), i = n.attr("data-mh") || n.attr("data-match-height");
t[i] = i in t ? t[i].add(n) : n;
}), e.each(t, function() {
this.matchHeight(!0);
});
};
var s = function(t) {
a._beforeUpdate && a._beforeUpdate(t, a._groups), e.each(a._groups, function() {
a._apply(this.elements, this.options);
}), a._afterUpdate && a._afterUpdate(t, a._groups);
};
a._update = function(i, r) {
if (r && "resize" === r.type) {
var o = e(window).width();
if (o === t) return;
t = o;
}
i ? -1 === n && (n = setTimeout(function() {
s(r), n = -1;
}, a._throttle)) : s(r);
}, e(a._applyDataApi);
var l = e.fn.on ? "on" : "bind";
e(window)[l]("load", function(e) {
a._update(!1, e);
}), e(window)[l]("resize orientationchange", function(e) {
a._update(!0, e);
});
}), function(e) {
"use strict";
var t = function(t, n) {
this.options = e.extend({}, e.fn.combobox.defaults, n), this.template = this.options.template || this.template, this.$source = e(t), this.$container = this.setup(), this.$element = this.$container.find("input[type=text]"), this.$target = this.$container.find("input[type=hidden]"), this.$button = this.$container.find(".dropdown-toggle"), this.$menu = e(this.options.menu).appendTo("body"), this.matcher = this.options.matcher || this.matcher, this.sorter = this.options.sorter || this.sorter, this.highlighter = this.options.highlighter || this.highlighter, this.shown = !1, this.selected = !1, this.refresh(), this.transferAttributes(), this.listen();
};
t.prototype = {
constructor: t,
setup: function() {
var t = e(this.template());
return this.$source.before(t), this.$source.hide(), t;
},
disable: function() {
this.$element.prop("disabled", !0), this.$button.attr("disabled", !0), this.disabled = !0, this.$container.addClass("combobox-disabled");
},
enable: function() {
this.$element.prop("disabled", !1), this.$button.attr("disabled", !1), this.disabled = !1, this.$container.removeClass("combobox-disabled");
},
parse: function() {
var t = this, n = {}, i = [], r = !1, o = "";
return this.$source.find("option").each(function() {
var a = e(this);
"" !== a.val() ? (n[a.text()] = a.val(), i.push(a.text()), a.prop("selected") && (r = a.text(), o = a.val())) : t.options.placeholder = a.text();
}), this.map = n, r && (this.$element.val(r), this.$target.val(o), this.$container.addClass("combobox-selected"), this.selected = !0), i;
},
transferAttributes: function() {
this.options.placeholder = this.$source.attr("data-placeholder") || this.options.placeholder, "undefined" !== this.options.appendId && this.$element.attr("id", this.$source.attr("id") + this.options.appendId), this.$element.attr("placeholder", this.options.placeholder), this.$target.prop("name", this.$source.prop("name")), this.$target.val(this.$source.val()), this.$source.removeAttr("name"), this.$element.attr("required", this.$source.attr("required")), this.$element.attr("rel", this.$source.attr("rel")), this.$element.attr("title", this.$source.attr("title")), this.$element.attr("class", this.$source.attr("class")), this.$element.attr("tabindex", this.$source.attr("tabindex")), this.$source.removeAttr("tabindex"), void 0 !== this.$source.attr("disabled") && this.disable();
},
select: function() {
var e = this.$menu.find(".active").attr("data-value");
return this.$element.val(this.updater(e)).trigger("change"), this.$target.val(this.map[e]).trigger("change"), this.$source.val(this.map[e]).trigger("change"), this.$container.addClass("combobox-selected"), this.selected = !0, this.hide();
},
updater: function(e) {
return e;
},
show: function() {
var t = e.extend({}, this.$element.position(), {
height: this.$element[0].offsetHeight
});
return this.$menu.insertAfter(this.$element).css({
top: t.top + t.height,
left: t.left
}).show(), e(".dropdown-menu").on("mousedown", e.proxy(this.scrollSafety, this)), this.shown = !0, this;
},
hide: function() {
return this.$menu.hide(), e(".dropdown-menu").off("mousedown", e.proxy(this.scrollSafety, this)), this.$element.on("blur", e.proxy(this.blur, this)), this.shown = !1, this;
},
lookup: function(e) {
return this.query = this.$element.val(), this.process(this.source);
},
process: function(t) {
var n = this;
return t = e.grep(t, function(e) {
return n.matcher(e);
}), (t = this.sorter(t)).length ? this.render(t.slice(0, this.options.items)).show() : this.shown ? this.hide() : this;
},
template: function() {
return "2" == this.options.bsVersion ? '<div class="combobox-container"><input type="hidden" /> <div class="input-append"> <input type="text" autocomplete="false" /> <span class="add-on dropdown-toggle" data-dropdown="dropdown"> <span class="caret"/> <i class="icon-remove"/> </span> </div> </div>' : '<div class="combobox-container"> <input type="hidden" /> <div class="input-group"> <input type="text" autocomplete="false" /> <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown"> <span class="caret" /> <span class="glyphicon glyphicon-remove" /> </span> </div> </div>';
},
matcher: function(e) {
return ~e.toLowerCase().indexOf(this.query.toLowerCase());
},
sorter: function(e) {
for (var t, n = [], i = [], r = []; t = e.shift(); ) t.toLowerCase().indexOf(this.query.toLowerCase()) ? ~t.indexOf(this.query) ? i.push(t) : r.push(t) : n.push(t);
return n.concat(i, r);
},
highlighter: function(e) {
var t = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
return e.replace(new RegExp("(" + t + ")", "ig"), function(e, t) {
return "<strong>" + t + "</strong>";
});
},
render: function(t) {
var n = this;
return (t = e(t).map(function(t, i) {
return (t = e(n.options.item).attr("data-value", i)).find("a").html(n.highlighter(i)), t[0];
})).first().addClass("active"), this.$menu.html(t), this;
},
next: function(t) {
var n = this.$menu.find(".active").removeClass("active").next();
n.length || (n = e(this.$menu.find("li")[0])), n.addClass("active");
},
prev: function(e) {
var t = this.$menu.find(".active").removeClass("active").prev();
t.length || (t = this.$menu.find("li").last()), t.addClass("active");
},
toggle: function() {
this.disabled || (this.$container.hasClass("combobox-selected") ? (this.clearTarget(), this.triggerChange(), this.clearElement()) : this.shown ? this.hide() : (this.clearElement(), this.lookup()));
},
scrollSafety: function(e) {
"UL" == e.target.tagName && this.$element.off("blur");
},
clearElement: function() {
this.$element.val("").focus();
},
clearTarget: function() {
this.$source.val(""), this.$target.val(""), this.$container.removeClass("combobox-selected"), this.selected = !1;
},
triggerChange: function() {
this.$source.trigger("change");
},
refresh: function() {
this.source = this.parse(), this.options.items = this.source.length;
},
listen: function() {
this.$element.on("focus", e.proxy(this.focus, this)).on("blur", e.proxy(this.blur, this)).on("keypress", e.proxy(this.keypress, this)).on("keyup", e.proxy(this.keyup, this)), this.eventSupported("keydown") && this.$element.on("keydown", e.proxy(this.keydown, this)), this.$menu.on("click", e.proxy(this.click, this)).on("mouseenter", "li", e.proxy(this.mouseenter, this)).on("mouseleave", "li", e.proxy(this.mouseleave, this)), this.$button.on("click", e.proxy(this.toggle, this));
},
eventSupported: function(e) {
var t = e in this.$element;
return t || (this.$element.setAttribute(e, "return;"), t = "function" == typeof this.$element[e]), t;
},
move: function(e) {
if (this.shown) {
switch (e.keyCode) {
case 9:
case 13:
case 27:
e.preventDefault();
break;

case 38:
e.preventDefault(), this.prev(), this.fixMenuScroll();
break;

case 40:
e.preventDefault(), this.next(), this.fixMenuScroll();
}
e.stopPropagation();
}
},
fixMenuScroll: function() {
var e = this.$menu.find(".active");
if (e.length) {
var t = e.position().top, n = t + e.height(), i = this.$menu.scrollTop(), r = this.$menu.height();
n > r ? this.$menu.scrollTop(i + n - r) : t < 0 && this.$menu.scrollTop(i + t);
}
},
keydown: function(t) {
this.suppressKeyPressRepeat = ~e.inArray(t.keyCode, [ 40, 38, 9, 13, 27 ]), this.move(t);
},
keypress: function(e) {
this.suppressKeyPressRepeat || this.move(e);
},
keyup: function(e) {
switch (e.keyCode) {
case 40:
this.shown || this.toggle();
break;

case 39:
case 38:
case 37:
case 36:
case 35:
case 16:
case 17:
case 18:
break;

case 9:
case 13:
if (!this.shown) return;
this.select();
break;

case 27:
if (!this.shown) return;
this.hide();
break;

default:
this.clearTarget(), this.lookup();
}
e.stopPropagation(), e.preventDefault();
},
focus: function(e) {
this.focused = !0;
},
blur: function(e) {
var t = this;
this.focused = !1;
var n = this.$element.val();
this.selected || "" === n || (this.$element.val(""), this.$source.val("").trigger("change"), this.$target.val("").trigger("change")), !this.mousedover && this.shown && setTimeout(function() {
t.hide();
}, 200);
},
click: function(e) {
e.stopPropagation(), e.preventDefault(), this.select(), this.$element.focus();
},
mouseenter: function(t) {
this.mousedover = !0, this.$menu.find(".active").removeClass("active"), e(t.currentTarget).addClass("active");
},
mouseleave: function(e) {
this.mousedover = !1;
}
}, e.fn.combobox = function(n) {
return this.each(function() {
var i = e(this), r = i.data("combobox"), o = "object" == typeof n && n;
r || i.data("combobox", r = new t(this, o)), "string" == typeof n && r[n]();
});
}, e.fn.combobox.defaults = {
bsVersion: "3",
menu: '<ul class="typeahead typeahead-long dropdown-menu"></ul>',
item: '<li><a href="#"></a></li>'
}, e.fn.combobox.Constructor = t;
}(window.jQuery), function(e, t, n, i) {
"use strict";
var r = {};
r.settings = {
injectStyle: !0,
levels: 2,
expandIcon: "glyphicon glyphicon-plus",
collapseIcon: "glyphicon glyphicon-minus",
loadingIcon: "glyphicon glyphicon-hourglass",
emptyIcon: "glyphicon",
nodeIcon: "",
selectedIcon: "",
checkedIcon: "glyphicon glyphicon-check",
partiallyCheckedIcon: "glyphicon glyphicon-expand",
uncheckedIcon: "glyphicon glyphicon-unchecked",
tagsClass: "badge",
color: void 0,
backColor: void 0,
borderColor: void 0,
changedNodeColor: "#39A5DC",
onhoverColor: "#F5F5F5",
selectedColor: "#FFFFFF",
selectedBackColor: "#428bca",
searchResultColor: "#D9534F",
searchResultBackColor: void 0,
highlightSelected: !0,
highlightSearchResults: !0,
showBorder: !0,
showIcon: !0,
showImage: !1,
showCheckbox: !1,
checkboxFirst: !1,
highlightChanges: !1,
showTags: !1,
multiSelect: !1,
preventUnselect: !1,
allowReselect: !1,
hierarchicalCheck: !1,
propagateCheckEvent: !1,
wrapNodeText: !1,
onLoading: void 0,
onLoadingFailed: void 0,
onInitialized: void 0,
onNodeRendered: void 0,
onRendered: void 0,
onDestroyed: void 0,
onNodeChecked: void 0,
onNodeCollapsed: void 0,
onNodeDisabled: void 0,
onNodeEnabled: void 0,
onNodeExpanded: void 0,
onNodeChanged: void 0,
onNodeSelected: void 0,
onNodeUnchecked: void 0,
onNodeUnselected: void 0,
onSearchComplete: void 0,
onSearchCleared: void 0
}, r.options = {
silent: !1,
ignoreChildren: !1
}, r.searchOptions = {
ignoreCase: !0,
exactMatch: !1,
revealResults: !0
}, r.dataUrl = {
method: "GET",
dataType: "json",
cache: !1
};
var o = function(t, n) {
return this.$element = e(t), this._elementId = t.id, this._styleId = this._elementId + "-style", this._init(n), {
options: this._options,
init: e.proxy(this._init, this),
remove: e.proxy(this._remove, this),
findNodes: e.proxy(this.findNodes, this),
getNodes: e.proxy(this.getNodes, this),
getParents: e.proxy(this.getParents, this),
getSiblings: e.proxy(this.getSiblings, this),
getSelected: e.proxy(this.getSelected, this),
getUnselected: e.proxy(this.getUnselected, this),
getExpanded: e.proxy(this.getExpanded, this),
getCollapsed: e.proxy(this.getCollapsed, this),
getChecked: e.proxy(this.getChecked, this),
getUnchecked: e.proxy(this.getUnchecked, this),
getDisabled: e.proxy(this.getDisabled, this),
getEnabled: e.proxy(this.getEnabled, this),
addNode: e.proxy(this.addNode, this),
addNodeAfter: e.proxy(this.addNodeAfter, this),
addNodeBefore: e.proxy(this.addNodeBefore, this),
removeNode: e.proxy(this.removeNode, this),
updateNode: e.proxy(this.updateNode, this),
selectNode: e.proxy(this.selectNode, this),
unselectNode: e.proxy(this.unselectNode, this),
toggleNodeSelected: e.proxy(this.toggleNodeSelected, this),
collapseAll: e.proxy(this.collapseAll, this),
collapseNode: e.proxy(this.collapseNode, this),
expandAll: e.proxy(this.expandAll, this),
expandNode: e.proxy(this.expandNode, this),
toggleNodeExpanded: e.proxy(this.toggleNodeExpanded, this),
revealNode: e.proxy(this.revealNode, this),
checkAll: e.proxy(this.checkAll, this),
checkNode: e.proxy(this.checkNode, this),
uncheckAll: e.proxy(this.uncheckAll, this),
uncheckNode: e.proxy(this.uncheckNode, this),
toggleNodeChecked: e.proxy(this.toggleNodeChecked, this),
unmarkCheckboxChanges: e.proxy(this.unmarkCheckboxChanges, this),
disableAll: e.proxy(this.disableAll, this),
disableNode: e.proxy(this.disableNode, this),
enableAll: e.proxy(this.enableAll, this),
enableNode: e.proxy(this.enableNode, this),
toggleNodeDisabled: e.proxy(this.toggleNodeDisabled, this),
search: e.proxy(this.search, this),
clearSearch: e.proxy(this.clearSearch, this)
};
};
o.prototype._init = function(t) {
this._tree = [], this._initialized = !1, this._options = e.extend({}, r.settings, t), this._template.icon.empty.addClass(this._options.emptyIcon), this._destroy(), this._subscribeEvents(), this._triggerEvent("loading", null, r.options), this._load(t).then(e.proxy(function(t) {
return this._tree = e.extend(!0, [], t);
}, this), e.proxy(function(e) {
this._triggerEvent("loadingFailed", e, r.options);
}, this)).then(e.proxy(function(e) {
return this._setInitialStates({
nodes: e
}, 0);
}, this)).then(e.proxy(function() {
this._render();
}, this));
}, o.prototype._load = function(t) {
var n = new e.Deferred();
return t.data ? this._loadLocalData(t, n) : t.dataUrl && this._loadRemoteData(t, n), n.promise();
}, o.prototype._loadRemoteData = function(t, n) {
e.ajax(e.extend(!0, {}, r.dataUrl, t.dataUrl)).done(function(e) {
n.resolve(e);
}).fail(function(e, t, i) {
n.reject(i);
});
}, o.prototype._loadLocalData = function(t, n) {
n.resolve("string" == typeof t.data ? JSON.parse(t.data) : e.extend(!0, [], t.data));
}, o.prototype._remove = function() {
this._destroy(), e.removeData(this, "treeview"), e("#" + this._styleId).remove();
}, o.prototype._destroy = function() {
this._initialized && (this._initialized = !1, this._triggerEvent("destroyed", null, r.options), this._unsubscribeEvents(), this.$wrapper.remove(), this.$wrapper = null);
}, o.prototype._unsubscribeEvents = function() {
this.$element.off("loading"), this.$element.off("loadingFailed"), this.$element.off("initialized"), this.$element.off("nodeRendered"), this.$element.off("rendered"), this.$element.off("destroyed"), this.$element.off("click"), this.$element.off("nodeChecked"), this.$element.off("nodeCollapsed"), this.$element.off("nodeDisabled"), this.$element.off("nodeEnabled"), this.$element.off("nodeExpanded"), this.$element.off("nodeChanged"), this.$element.off("nodeSelected"), this.$element.off("nodeUnchecked"), this.$element.off("nodeUnselected"), this.$element.off("searchComplete"), this.$element.off("searchCleared");
}, o.prototype._subscribeEvents = function() {
this._unsubscribeEvents(), "function" == typeof this._options.onLoading && this.$element.on("loading", this._options.onLoading), "function" == typeof this._options.onLoadingFailed && this.$element.on("loadingFailed", this._options.onLoadingFailed), "function" == typeof this._options.onInitialized && this.$element.on("initialized", this._options.onInitialized), "function" == typeof this._options.onNodeRendered && this.$element.on("nodeRendered", this._options.onNodeRendered), "function" == typeof this._options.onRendered && this.$element.on("rendered", this._options.onRendered), "function" == typeof this._options.onDestroyed && this.$element.on("destroyed", this._options.onDestroyed), this.$element.on("click", e.proxy(this._clickHandler, this)), "function" == typeof this._options.onNodeChecked && this.$element.on("nodeChecked", this._options.onNodeChecked), "function" == typeof this._options.onNodeCollapsed && this.$element.on("nodeCollapsed", this._options.onNodeCollapsed), "function" == typeof this._options.onNodeDisabled && this.$element.on("nodeDisabled", this._options.onNodeDisabled), 
"function" == typeof this._options.onNodeEnabled && this.$element.on("nodeEnabled", this._options.onNodeEnabled), "function" == typeof this._options.onNodeExpanded && this.$element.on("nodeExpanded", this._options.onNodeExpanded), "function" == typeof this._options.onNodeChanged && this.$element.on("nodeChanged", this._options.onNodeChanged), "function" == typeof this._options.onNodeSelected && this.$element.on("nodeSelected", this._options.onNodeSelected), "function" == typeof this._options.onNodeUnchecked && this.$element.on("nodeUnchecked", this._options.onNodeUnchecked), "function" == typeof this._options.onNodeUnselected && this.$element.on("nodeUnselected", this._options.onNodeUnselected), "function" == typeof this._options.onSearchComplete && this.$element.on("searchComplete", this._options.onSearchComplete), "function" == typeof this._options.onSearchCleared && this.$element.on("searchCleared", this._options.onSearchCleared);
}, o.prototype._triggerEvent = function(t, n, i) {
i && !i.silent && this.$element.trigger(t, e.extend(!0, {}, n));
}, o.prototype._setInitialStates = function(t, n) {
return this._nodes = {}, e.when.apply(this, this._setInitialState(t, n)).done(e.proxy(function() {
this._orderedNodes = this._sortNodes(), this._inheritCheckboxChanges(), this._triggerEvent("initialized", this._orderedNodes, r.options);
}, this));
}, o.prototype._setInitialState = function(t, n, i) {
if (t.nodes) {
n += 1, i = i || [];
var r = t;
return e.each(t.nodes, e.proxy(function(t, o) {
var a = new e.Deferred();
i.push(a.promise()), o.level = n, o.index = t, o.nodeId = r && r.nodeId ? r.nodeId + "." + o.index : n - 1 + "." + o.index, o.parentId = r.nodeId, o.hasOwnProperty("selectable") || (o.selectable = !0), o.hasOwnProperty("checkable") || (o.checkable = !0), o.state = o.state || {}, o.state.hasOwnProperty("checked") || (o.state.checked = !1), this._options.hierarchicalCheck && "undefined" === o.state.checked && (o.state.checked = void 0), o.state.hasOwnProperty("disabled") || (o.state.disabled = !1), o.state.hasOwnProperty("expanded") || (!o.state.disabled && n < this._options.levels && o.nodes && o.nodes.length > 0 ? o.state.expanded = !0 : o.state.expanded = !1), o.state.hasOwnProperty("selected") || (o.state.selected = !1), r && r.state && r.state.expanded || n <= this._options.levels ? o.state.visible = !0 : o.state.visible = !1, o.nodes && (o.nodes.length > 0 ? this._setInitialState(o, n, i) : delete o.nodes), this._nodes[o.nodeId] = o, a.resolve();
}, this)), i;
}
}, o.prototype._sortNodes = function() {
return e.map(Object.keys(this._nodes).sort(function(e, t) {
if (e === t) return 0;
for (var e = e.split(".").map(function(e) {
return parseInt(e);
}), t = t.split(".").map(function(e) {
return parseInt(e);
}), n = Math.max(e.length, t.length), i = 0; i < n; i++) {
if (void 0 === e[i]) return -1;
if (void 0 === t[i]) return 1;
if (e[i] - t[i] > 0) return 1;
if (e[i] - t[i] < 0) return -1;
}
}), e.proxy(function(e, t) {
return this._nodes[e];
}, this));
}, o.prototype._clickHandler = function(t) {
var n = e(t.target), i = this.targetNode(n);
if (i && !i.state.disabled) {
var o = n.attr("class") ? n.attr("class").split(" ") : [];
-1 !== o.indexOf("expand-icon") ? this._toggleExpanded(i, e.extend({}, r.options)) : -1 !== o.indexOf("check-icon") ? i.checkable && this._toggleChecked(i, e.extend({}, r.options)) : i.selectable ? this._toggleSelected(i, e.extend({}, r.options)) : this._toggleExpanded(i, e.extend({}, r.options));
}
}, o.prototype.targetNode = function(e) {
var t = e.closest("li.list-group-item").attr("data-nodeId"), n = this._nodes[t];
return n || console.log("Error: node does not exist"), n;
}, o.prototype._toggleExpanded = function(e, t) {
e && ("function" == typeof this._options.lazyLoad && e.lazyLoad ? this._lazyLoad(e) : this._setExpanded(e, !e.state.expanded, t));
}, o.prototype._lazyLoad = function(e) {
e.$el.children("span.expand-icon").removeClass(this._options.expandIcon).addClass(this._options.loadingIcon);
var t = this;
this._options.lazyLoad(e, function(n) {
t.addNode(n, e);
}), delete e.lazyLoad;
}, o.prototype._setExpanded = function(t, n, i) {
i && n === t.state.expanded || (n && t.nodes ? (t.state.expanded = !0, t.$el && t.$el.children("span.expand-icon").removeClass(this._options.expandIcon).removeClass(this._options.loadingIcon).addClass(this._options.collapseIcon), t.nodes && i && e.each(t.nodes, e.proxy(function(e, t) {
this._setVisible(t, !0, i);
}, this)), this._triggerEvent("nodeExpanded", t, i)) : n || (t.state.expanded = !1, t.$el && t.$el.children("span.expand-icon").removeClass(this._options.collapseIcon).addClass(this._options.expandIcon), t.nodes && i && e.each(t.nodes, e.proxy(function(e, t) {
this._setVisible(t, !1, i), this._setExpanded(t, !1, i);
}, this)), this._triggerEvent("nodeCollapsed", t, i)));
}, o.prototype._setVisible = function(e, t, n) {
n && t === e.state.visible || (t ? (e.state.visible = !0, e.$el && e.$el.removeClass("node-hidden")) : (e.state.visible = !1, e.$el && e.$el.addClass("node-hidden")));
}, o.prototype._toggleSelected = function(e, t) {
if (e) return this._setSelected(e, !e.state.selected, t), this;
}, o.prototype._setSelected = function(t, n, i, r) {
if (!i || n !== t.state.selected) {
if (n) this._options.multiSelect || e.each(this._findNodes("true", "state.selected"), e.proxy(function(t, n) {
this._setSelected(n, !1, e.extend(i, {
unselecting: !0
}), !0);
}, this)), t.state.selected = !0, t.$el && (t.$el.addClass("node-selected"), (t.selectedIcon || this._options.selectedIcon) && t.$el.children("span.node-icon").removeClass(t.icon || this._options.nodeIcon).addClass(t.selectedIcon || this._options.selectedIcon)), this._triggerEvent("nodeSelected", t, i), this._triggerEvent("nodeChanged", t, i); else {
if (this._options.preventUnselect && i && !i.unselecting && 1 === this._findNodes("true", "state.selected").length) return this._options.allowReselect && (this._triggerEvent("nodeSelected", t, i), this._triggerEvent("nodeChanged", t, i)), this;
t.state.selected = !1, t.$el && (t.$el.removeClass("node-selected"), (t.selectedIcon || this._options.selectedIcon) && t.$el.children("span.node-icon").removeClass(t.selectedIcon || this._options.selectedIcon).addClass(t.icon || this._options.nodeIcon)), this._triggerEvent("nodeUnselected", t, i), r || this._triggerEvent("nodeChanged", t, i);
}
return this;
}
}, o.prototype._inheritCheckboxChanges = function() {
this._options.showCheckbox && this._options.highlightChanges && (this._checkedNodes = e.grep(this._orderedNodes, function(e) {
return e.state.checked;
}));
}, o.prototype._toggleChecked = function(t, n) {
if (t) {
if (this._options.hierarchicalCheck) {
var i, r = e.extend({}, n, {
silent: n.silent || !this._options.propagateCheckEvent
}), o = t;
for (t.state.checked = !t.state.checked; o = this._nodes[o.parentId]; ) i = o.nodes.reduce(function(e, t) {
return e === t.state.checked ? e : void 0;
}, o.nodes[0].state.checked), this._setChecked(o, i, r);
if (t.nodes && t.nodes.length > 0) for (var a, s = t.nodes.slice(); s && s.length > 0; ) a = s.pop(), this._setChecked(a, t.state.checked, r), a.nodes && a.nodes.length > 0 && (s = s.concat(a.nodes.slice()));
t.state.checked = !t.state.checked;
}
this._setChecked(t, !t.state.checked, n);
}
}, o.prototype._setChecked = function(e, t, n) {
n && t === e.state.checked || (this._options.highlightChanges && e.$el.toggleClass("node-check-changed", -1 == this._checkedNodes.indexOf(e) == t), t ? (e.state.checked = !0, e.$el && (e.$el.addClass("node-checked").removeClass("node-checked-partial"), e.$el.children("span.check-icon").removeClass(this._options.uncheckedIcon).removeClass(this._options.partiallyCheckedIcon).addClass(this._options.checkedIcon)), this._triggerEvent("nodeChecked", e, n)) : void 0 === t && this._options.hierarchicalCheck ? (e.state.checked = void 0, e.$el && (e.$el.addClass("node-checked-partial").removeClass("node-checked"), e.$el.children("span.check-icon").removeClass(this._options.uncheckedIcon).removeClass(this._options.checkedIcon).addClass(this._options.partiallyCheckedIcon)), this._triggerEvent("nodeUnchecked", e, n)) : (e.state.checked = !1, e.$el && (e.$el.removeClass("node-checked node-checked-partial"), e.$el.children("span.check-icon").removeClass(this._options.checkedIcon).removeClass(this._options.partiallyCheckedIcon).addClass(this._options.uncheckedIcon)), 
this._triggerEvent("nodeUnchecked", e, n)));
}, o.prototype._setDisabled = function(e, t, n) {
n && t === e.state.disabled || (t ? (e.state.disabled = !0, n && !n.keepState && (this._setSelected(e, !1, n), this._setChecked(e, !1, n), this._setExpanded(e, !1, n)), e.$el && e.$el.addClass("node-disabled"), this._triggerEvent("nodeDisabled", e, n)) : (e.state.disabled = !1, e.$el && e.$el.removeClass("node-disabled"), this._triggerEvent("nodeEnabled", e, n)));
}, o.prototype._setSearchResult = function(e, t, n) {
n && t === e.searchResult || (t ? (e.searchResult = !0, e.$el && e.$el.addClass("node-result")) : (e.searchResult = !1, e.$el && e.$el.removeClass("node-result")));
}, o.prototype._render = function() {
this._initialized || (this.$wrapper = this._template.tree.clone(), this.$element.empty().addClass("treeview").append(this.$wrapper), this._injectStyle(), this._initialized = !0);
var t;
e.each(this._orderedNodes, e.proxy(function(e, n) {
this._renderNode(n, t), t = n;
}, this)), this._triggerEvent("rendered", this._orderedNodes, r.options);
}, o.prototype._renderNode = function(t, n) {
if (t) {
t.$el ? t.$el.empty() : t.$el = this._newNodeEl(t, n).addClass("node-" + this._elementId), t.$el.addClass(t.class), t.id && t.$el.attr("id", t.id), t.dataAttr && e.each(t.dataAttr, function(e, n) {
t.$el.attr("data-" + e, n);
}), t.$el.attr("data-nodeId", t.nodeId), t.tooltip && t.$el.attr("title", t.tooltip);
for (var i = 0; i < t.level - 1; i++) t.$el.append(this._template.indent.clone());
if (t.$el.append(t.nodes || t.lazyLoad ? this._template.icon.expand.clone() : this._template.icon.empty.clone()), this._options.checkboxFirst ? (this._addCheckbox(t), this._addIcon(t), this._addImage(t)) : (this._addIcon(t), this._addImage(t), this._addCheckbox(t)), this._options.wrapNodeText) {
var o = this._template.text.clone();
t.$el.append(o), o.append(t.text);
} else t.$el.append(t.text);
this._options.showTags && t.tags && e.each(t.tags, e.proxy(function(e, n) {
t.$el.append(this._template.badge.clone().addClass(("object" == typeof n ? n.class : void 0) || t.tagsClass || this._options.tagsClass).append(("object" == typeof n ? n.text : void 0) || n));
}, this)), this._setSelected(t, t.state.selected), this._setChecked(t, t.state.checked), this._setSearchResult(t, t.searchResult), this._setExpanded(t, t.state.expanded), this._setDisabled(t, t.state.disabled), this._setVisible(t, t.state.visible), this._triggerEvent("nodeRendered", t, r.options);
}
}, o.prototype._addCheckbox = function(e) {
!this._options.showCheckbox || void 0 !== e.hideCheckbox && !1 !== e.hideCheckbox || e.$el.append(this._template.icon.check.clone());
}, o.prototype._addIcon = function(e) {
if (this._options.showIcon && (!this._options.showImage || !e.image)) {
var t = this._template.icon.node.clone().addClass(e.icon || this._options.nodeIcon);
e.iconColor && t.css("color", e.iconColor), e.iconBackground && (t.addClass("node-icon-background"), t.css("background", e.iconBackground)), e.$el.append(t);
}
}, o.prototype._addImage = function(e) {
this._options.showImage && e.image && e.$el.append(this._template.image.clone().addClass("node-image").css("background-image", "url('" + e.image + "')"));
}, o.prototype._newNodeEl = function(e, t) {
var n = this._template.node.clone();
return t ? t.$el.after(n) : this.$wrapper.prepend(n), n;
}, o.prototype._removeNodeEl = function(t) {
t && (t.nodes && e.each(t.nodes, e.proxy(function(e, t) {
this._removeNodeEl(t);
}, this)), t.$el.remove());
}, o.prototype._expandNode = function(t) {
t.nodes && e.each(t.nodes.slice(0).reverse(), e.proxy(function(e, n) {
n.level = t.level + 1, this._renderNode(n, t.$el);
}, this));
}, o.prototype._injectStyle = function() {
this._options.injectStyle && !n.getElementById(this._styleId) && e('<style type="text/css" id="' + this._styleId + '"> ' + this._buildStyle() + " </style>").appendTo("head");
}, o.prototype._buildStyle = function() {
var t = ".node-" + this._elementId + "{";
if (this._options.color && (t += "color:" + this._options.color + ";"), this._options.backColor && (t += "background-color:" + this._options.backColor + ";"), this._options.showBorder ? this._options.borderColor && (t += "border:1px solid " + this._options.borderColor + ";") : t += "border:none;", t += "}", this._options.onhoverColor && (t += ".node-" + this._elementId + ":not(.node-disabled):hover{background-color:" + this._options.onhoverColor + ";}"), this._options.highlightSearchResults && (this._options.searchResultColor || this._options.searchResultBackColor)) {
n = "";
this._options.searchResultColor && (n += "color:" + this._options.searchResultColor + ";"), this._options.searchResultBackColor && (n += "background-color:" + this._options.searchResultBackColor + ";"), t += ".node-" + this._elementId + ".node-result{" + n + "}", t += ".node-" + this._elementId + ".node-result:hover{" + n + "}";
}
if (this._options.highlightSelected && (this._options.selectedColor || this._options.selectedBackColor)) {
n = "";
this._options.selectedColor && (n += "color:" + this._options.selectedColor + ";"), this._options.selectedBackColor && (n += "background-color:" + this._options.selectedBackColor + ";"), t += ".node-" + this._elementId + ".node-selected{" + n + "}", t += ".node-" + this._elementId + ".node-selected:hover{" + n + "}";
}
if (this._options.highlightChanges) {
var n = "color: " + this._options.changedNodeColor + ";";
t += ".node-" + this._elementId + ".node-check-changed{" + n + "}";
}
return e.each(this._orderedNodes, e.proxy(function(e, n) {
if (n.color || n.backColor) {
var i = "";
n.color && (i += "color:" + n.color + ";"), n.backColor && (i += "background-color:" + n.backColor + ";"), t += ".node-" + this._elementId + '[data-nodeId="' + n.nodeId + '"]{' + i + "}";
}
}, this)), this._css + t;
}, o.prototype._template = {
tree: e('<ul class="list-group"></ul>'),
node: e('<li class="list-group-item"></li>'),
indent: e('<span class="indent"></span>'),
icon: {
node: e('<span class="icon node-icon"></span>'),
expand: e('<span class="icon expand-icon"></span>'),
check: e('<span class="icon check-icon"></span>'),
empty: e('<span class="icon"></span>')
},
image: e('<span class="image"></span>'),
badge: e("<span></span>"),
text: e('<span class="text"></span>')
}, o.prototype._css = ".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}", o.prototype.findNodes = function(e, t, n) {
return this._findNodes(e, t, n);
}, o.prototype.getNodes = function() {
return this._orderedNodes;
}, o.prototype.getParents = function(t) {
t instanceof Array || (t = [ t ]);
var n = [];
return e.each(t, e.proxy(function(e, t) {
var i = !!t.parentId && this._nodes[t.parentId];
i && n.push(i);
}, this)), n;
}, o.prototype.getSiblings = function(t) {
t instanceof Array || (t = [ t ]);
var n = [];
return e.each(t, e.proxy(function(e, t) {
var i = this.getParents([ t ]), r = i[0] ? i[0].nodes : this._tree;
n = r.filter(function(e) {
return e.nodeId !== t.nodeId;
});
}, this)), e.map(n, function(e) {
return e;
});
}, o.prototype.getSelected = function() {
return this._findNodes("true", "state.selected");
}, o.prototype.getUnselected = function() {
return this._findNodes("false", "state.selected");
}, o.prototype.getExpanded = function() {
return this._findNodes("true", "state.expanded");
}, o.prototype.getCollapsed = function() {
return this._findNodes("false", "state.expanded");
}, o.prototype.getChecked = function() {
return this._findNodes("true", "state.checked");
}, o.prototype.getUnchecked = function() {
return this._findNodes("false", "state.checked");
}, o.prototype.getDisabled = function() {
return this._findNodes("true", "state.disabled");
}, o.prototype.getEnabled = function() {
return this._findNodes("false", "state.disabled");
}, o.prototype.addNode = function(t, n, i, o) {
t instanceof Array || (t = [ t ]), n instanceof Array && (n = n[0]), o = e.extend({}, r.options, o);
var a;
a = n && n.nodes ? n.nodes : n ? n.nodes = [] : this._tree, e.each(t, e.proxy(function(e, t) {
var n = "number" == typeof i ? i + e : a.length + 1;
a.splice(n, 0, t);
}, this)), this._setInitialStates({
nodes: this._tree
}, 0).done(e.proxy(function() {
n && !n.state.expanded && this._setExpanded(n, !0, o), this._render();
}, this));
}, o.prototype.addNodeAfter = function(t, n, i) {
t instanceof Array || (t = [ t ]), n instanceof Array && (n = n[0]), i = e.extend({}, r.options, i), this.addNode(t, this.getParents(n)[0], n.index + 1, i);
}, o.prototype.addNodeBefore = function(t, n, i) {
t instanceof Array || (t = [ t ]), n instanceof Array && (n = n[0]), i = e.extend({}, r.options, i), this.addNode(t, this.getParents(n)[0], n.index, i);
}, o.prototype.removeNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n);
var i, o;
e.each(t, e.proxy(function(e, t) {
o = this._nodes[t.parentId], (i = o ? o.nodes : this._tree).splice(t.index, 1), this._removeNodeEl(t);
}, this)), this._setInitialStates({
nodes: this._tree
}, 0).done(this._render.bind(this));
}, o.prototype.updateNode = function(t, n, i) {
t instanceof Array && (t = t[0]), i = e.extend({}, r.options, i);
var o = this._nodes[t.parentId];
(o ? o.nodes : this._tree).splice(t.index, 1, n), this._removeNodeEl(t), this._setInitialStates({
nodes: this._tree
}, 0).done(this._render.bind(this));
}, o.prototype.selectNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setSelected(t, !0, n);
}, this));
}, o.prototype.unselectNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setSelected(t, !1, n);
}, this));
}, o.prototype.toggleNodeSelected = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._toggleSelected(t, n);
}, this));
}, o.prototype.collapseAll = function(t) {
(t = e.extend({}, r.options, t)).levels = t.levels || 999, this.collapseNode(this._tree, t);
}, o.prototype.collapseNode = function(t, n) {
n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setExpanded(t, !1, n);
}, this));
}, o.prototype.expandAll = function(t) {
(t = e.extend({}, r.options, t)).levels = t.levels || 999, this.expandNode(this._tree, t);
}, o.prototype.expandNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
t.state.expanded || ("function" == typeof this._options.lazyLoad && t.lazyLoad && this._lazyLoad(t), this._setExpanded(t, !0, n), t.nodes && this._expandLevels(t.nodes, n.levels - 1, n));
}, this));
}, o.prototype._expandLevels = function(t, n, i) {
t instanceof Array || (t = [ t ]), i = e.extend({}, r.options, i), e.each(t, e.proxy(function(e, t) {
this._setExpanded(t, n > 0, i), t.nodes && this._expandLevels(t.nodes, n - 1, i);
}, this));
}, o.prototype.revealNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
for (var i, r = t; i = this.getParents([ r ])[0]; ) r = i, this._setExpanded(r, !0, n);
}, this));
}, o.prototype.toggleNodeExpanded = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._toggleExpanded(t, n);
}, this));
}, o.prototype.checkAll = function(t) {
t = e.extend({}, r.options, t);
var n = e.grep(this._orderedNodes, function(e) {
return !e.state.checked;
});
e.each(n, e.proxy(function(e, n) {
this._setChecked(n, !0, t);
}, this));
}, o.prototype.checkNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setChecked(t, !0, n);
}, this));
}, o.prototype.uncheckAll = function(t) {
t = e.extend({}, r.options, t);
var n = e.grep(this._orderedNodes, function(e) {
return e.state.checked || void 0 === e.state.checked;
});
e.each(n, e.proxy(function(e, n) {
this._setChecked(n, !1, t);
}, this));
}, o.prototype.uncheckNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setChecked(t, !1, n);
}, this));
}, o.prototype.toggleNodeChecked = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._toggleChecked(t, n);
}, this));
}, o.prototype.unmarkCheckboxChanges = function() {
this._inheritCheckboxChanges(), e.each(this._nodes, function(e, t) {
t.$el.removeClass("node-check-changed");
});
}, o.prototype.disableAll = function(t) {
t = e.extend({}, r.options, t);
var n = this._findNodes("false", "state.disabled");
e.each(n, e.proxy(function(e, n) {
this._setDisabled(n, !0, t);
}, this));
}, o.prototype.disableNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setDisabled(t, !0, n);
}, this));
}, o.prototype.enableAll = function(t) {
t = e.extend({}, r.options, t);
var n = this._findNodes("true", "state.disabled");
e.each(n, e.proxy(function(e, n) {
this._setDisabled(n, !1, t);
}, this));
}, o.prototype.enableNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setDisabled(t, !1, n);
}, this));
}, o.prototype.toggleNodeDisabled = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setDisabled(t, !t.state.disabled, n);
}, this));
}, o.prototype.search = function(t, n) {
n = e.extend({}, r.searchOptions, n);
var i = this._getSearchResults(), o = [];
if (t && t.length > 0) {
n.exactMatch && (t = "^" + t + "$");
var a = "g";
n.ignoreCase && (a += "i"), o = this._findNodes(t, "text", a);
}
return e.each(this._diffArray(o, i), e.proxy(function(e, t) {
this._setSearchResult(t, !1, n);
}, this)), e.each(this._diffArray(i, o), e.proxy(function(e, t) {
this._setSearchResult(t, !0, n);
}, this)), o && n.revealResults && this.revealNode(o), this._triggerEvent("searchComplete", o, n), o;
}, o.prototype.clearSearch = function(t) {
t = e.extend({}, {
render: !0
}, t);
var n = e.each(this._getSearchResults(), e.proxy(function(e, n) {
this._setSearchResult(n, !1, t);
}, this));
this._triggerEvent("searchCleared", n, t);
}, o.prototype._getSearchResults = function() {
return this._findNodes("true", "searchResult");
}, o.prototype._diffArray = function(t, n) {
var i = [];
return e.grep(n, function(n) {
-1 === e.inArray(n, t) && i.push(n);
}), i;
}, o.prototype._findNodes = function(t, n, i) {
return n = n || "text", i = i || "g", e.grep(this._orderedNodes, e.proxy(function(e) {
var r = this._getNodeValue(e, n);
if ("string" == typeof r) return r.match(new RegExp(t, i));
}, this));
}, o.prototype._getNodeValue = function(e, t) {
var n = t.indexOf(".");
if (n > 0) {
var i = e[t.substring(0, n)], r = t.substring(n + 1, t.length);
return this._getNodeValue(i, r);
}
return e.hasOwnProperty(t) && void 0 !== e[t] ? e[t].toString() : void 0;
};
var a = function(e) {
t.console && t.console.error(e);
};
e.fn.treeview = function(t, n) {
var i;
if (0 == this.length) throw "No element has been found!";
return this.each(function() {
var r = e.data(this, "treeview");
"string" == typeof t ? r ? e.isFunction(r[t]) && "_" !== t.charAt(0) ? (n instanceof Array || (n = [ n ]), i = r[t].apply(r, n)) : a("No such method : " + t) : a("Not initialized, can not call method : " + t) : "boolean" == typeof t ? i = r : e.data(this, "treeview", new o(this, e.extend(!0, {}, t)));
}), i || this;
};
}(jQuery, window, document), function(e) {
"use strict";
var t = {
version: "0.0.0-semantically-released"
};
t.pfBreakpoints = {
tablet: 768,
desktop: 1200
}, e.patternfly = t;
}("undefined" != typeof window ? window : global), function(e) {
"use strict";
e.patternfly.pfPaletteColors = {
black: "#030303",
black100: "#fafafa",
black200: "#ededed",
black300: "#d1d1d1",
black400: "#bbbbbb",
black500: "#8b8d8f",
black600: "#72767b",
black700: "#4d5258",
black800: "#393f44",
black900: "#292e34",
blue: "#0088ce",
blue100: "#bee1f4",
blue200: "#7dc3e8",
blue300: "#39a5dc",
blue400: "#0088ce",
blue500: "#00659c",
blue600: "#004368",
blue700: "#002235",
gold: "#f0ab00",
gold100: "#fbeabc",
gold200: "#f9d67a",
gold300: "#f5c12e",
gold400: "#f0ab00",
gold500: "#b58100",
gold600: "#795600",
gold700: "#3d2c00",
orange: "#ec7a08",
orange100: "#fbdebf",
orange200: "#f7bd7f",
orange300: "#f39d3c",
orange400: "#ec7a08",
orange500: "#b35c00",
orange600: "#773d00",
orange700: "#3b1f00",
lightBlue: "#00b9e4",
lightBlue100: "#beedf9",
lightBlue200: "#7cdbf3",
lightBlue300: "#35caed",
lightBlue400: "#00b9e4",
lightBlue500: "#008bad",
lightBlue600: "#005c73",
lightBlue700: "#002d39",
green: "#3f9c35",
green100: "#cfe7cd",
green200: "#9ecf99",
green300: "#6ec664",
green400: "#3f9c35",
green500: "#2d7623",
green600: "#1e4f18",
green700: "#0f280d",
lightGreen: "#92d400",
lightGreen100: "#e4f5bc",
lightGreen200: "#c8eb79",
lightGreen300: "#ace12e",
lightGreen400: "#92d400",
lightGreen500: "#6ca100",
lightGreen600: "#486b00",
lightGreen700: "#253600",
cyan: "#007a87",
cyan100: "#bedee1",
cyan200: "#7dbdc3",
cyan300: "#3a9ca6",
cyan400: "#007a87",
cyan500: "#005c66",
cyan600: "#003d44",
cyan700: "#001f22",
purple: "#703fec",
purple100: "#c7bfff",
purple200: "#a18fff",
purple300: "#8461f7",
purple400: "#703fec",
purple500: "#582fc0",
purple600: "#40199a",
purple700: "#1f0066",
red: "#cc0000",
red100: "#cc0000",
red200: "#a30000",
red300: "#8b0000",
red400: "#470000",
red500: "#2c0000"
};
}("undefined" != typeof window ? window : global), function(e) {
"use strict";
var t = e.patternfly;
t.pfSetDonutChartTitle = function(t, n, i) {
var r = e.d3.select(t).select("text.c3-chart-arcs-title");
r.text(""), r.insert("tspan").text(n).classed("donut-title-big-pf", !0).attr("dy", 0).attr("x", 0), r.insert("tspan").text(i).classed("donut-title-small-pf", !0).attr("dy", 20).attr("x", 0);
}, t.pfDonutTooltipContents = function(e, t, n, i) {
return '<table class="c3-tooltip">  <tr>    <td><span style="background-color:' + i(e[0].id) + '"></span><strong>' + e[0].value + "</strong> " + e[0].name + "</td>    <td>" + Math.round(1e3 * e[0].ratio) / 10 + "%</td>  </tr></table>";
}, t.pfGetUtilizationDonutTooltipContentsFn = function(e) {
return function(t) {
return '<span class="donut-tooltip-pf" style="white-space: nowrap;">' + Math.round(1e3 * t[0].ratio) / 10 + "% " + e + " " + t[0].name + "</span>";
};
}, t.pfGetBarChartTooltipContentsFn = function(e) {
return function(t) {
return '<table class="c3-tooltip">  <tr>    <td><strong>' + (e ? e[t[0].index] : t[0].index) + ":</td>    <td>" + t[0].value + "</td>  </tr></table>";
};
}, t.pfSingleLineChartTooltipContentsFn = function(e) {
return function(t) {
return '<table class="c3-tooltip">  <tr>    <td><strong>' + (e ? e[t[0].index] : t[0].index) + ":</td>    <td>" + t[0].value + "</td>  </tr></table>";
};
}, t.pfPieTooltipContents = function(e, n, i, r) {
return t.pfDonutTooltipContents(e, n, i, r);
}, t.c3ChartDefaults = function() {
var e = function() {
return {
pattern: [ t.pfPaletteColors.blue, t.pfPaletteColors.blue300, t.pfPaletteColors.green, t.pfPaletteColors.orange, t.pfPaletteColors.red ]
};
}, n = function() {
return {
zerobased: !0
};
}, i = function() {
return {
height: 60
};
}, r = function() {
return {
x: {
show: !1
},
y: {
show: !1
}
};
}, o = function() {
return {
show: !1
};
}, a = function() {
return {
r: 1,
focus: {
expand: {
r: 4
}
}
};
}, s = function() {
return {
contents: function(e) {
return '<span class="c3-tooltip-sparkline">' + e[0].value + " " + e[0].name + "</span>";
}
};
}, l = function() {
return {
x: {
show: !0
},
y: {
show: !0
}
};
}, c = function() {
return {
x: {
show: !1
},
y: {
show: !0
}
};
}, u = function() {
return {
show: !0
};
}, d = function() {
return {
r: 3,
focus: {
expand: {
r: 5
}
}
};
}, h = function() {
return {
contents: t.pfGetBarChartTooltipContentsFn()
};
}, f = function() {
return {
x: {
show: !0
},
y: {
show: !0
}
};
}, p = function() {
return {
x: {
show: !1
},
y: {
show: !0
}
};
}, g = function() {
return {
show: !0
};
}, m = function() {
return {
r: 3,
focus: {
expand: {
r: 5
}
}
};
}, v = function() {
return {
contents: t.pfGetBarChartTooltipContentsFn()
};
};
return {
getDefaultColors: e,
getDefaultBarGrid: function() {
return {
y: {
show: !0
}
};
},
getDefaultBarTooltip: function(e) {
return {
contents: t.pfGetBarChartTooltipContentsFn(e)
};
},
getDefaultBarLegend: function() {
return {
show: !1
};
},
getDefaultBarConfig: function(e) {
return {
color: this.getDefaultColors(),
grid: this.getDefaultBarGrid(),
tooltip: this.getDefaultBarTooltip(e),
legend: this.getDefaultBarLegend()
};
},
getDefaultGroupedBarGrid: function() {
return {
y: {
show: !0
}
};
},
getDefaultGroupedBarLegend: function() {
return {
show: !0,
position: "bottom"
};
},
getDefaultGroupedBarConfig: function() {
return {
color: this.getDefaultColors(),
grid: this.getDefaultGroupedBarGrid(),
legend: this.getDefaultGroupedBarLegend()
};
},
getDefaultStackedBarGrid: function() {
return {
y: {
show: !0
}
};
},
getDefaultStackedBarLegend: function() {
return {
show: !0,
position: "bottom"
};
},
getDefaultStackedBarConfig: function() {
return {
color: this.getDefaultColors(),
grid: this.getDefaultStackedBarGrid(),
legend: this.getDefaultStackedBarLegend()
};
},
getDefaultDonut: function(e) {
return {
title: e,
label: {
show: !1
},
width: 11
};
},
getDefaultDonutSize: function() {
return {
height: 171
};
},
getDefaultDonutColors: function() {
return {
pattern: [ t.pfPaletteColors.blue, t.pfPaletteColors.black300 ]
};
},
getDefaultDonutTooltip: function() {
return {
show: !1
};
},
getDefaultDonutLegend: function() {
return {
show: !1
};
},
getDefaultDonutConfig: function(e) {
return {
donut: this.getDefaultDonut(e),
size: this.getDefaultDonutSize(),
legend: this.getDefaultDonutLegend(),
color: this.getDefaultDonutColors(),
tooltip: this.getDefaultDonutTooltip()
};
},
getDefaultRelationshipDonutConfig: function(e) {
return {
donut: this.getDefaultDonut(e),
size: this.getDefaultDonutSize(),
legend: this.getDefaultDonutLegend(),
color: this.getDefaultRelationshipDonutColors(),
tooltip: this.getDefaultDonutTooltip()
};
},
getDefaultPie: function() {
return {
expand: !0,
label: {
show: !1
}
};
},
getDefaultPieSize: function() {
return {
height: 171
};
},
getDefaultPieColors: function() {
return {
pattern: [ t.pfPaletteColors.blue, t.pfPaletteColors.black300 ]
};
},
getDefaultRelationshipDonutColors: function() {
return {
pattern: [ t.pfPaletteColors.blue, t.pfPaletteColors.red100, t.pfPaletteColors.orange400, t.pfPaletteColors.green400, t.pfPaletteColors.cyan500, t.pfPaletteColors.gold200 ]
};
},
getDefaultPieTooltip: function() {
return {
contents: t.pfPieTooltipContents
};
},
getDefaultPieLegend: function() {
return {
show: !1
};
},
getDefaultPieConfig: function() {
return {
pie: this.getDefaultPie(),
size: this.getDefaultPieSize(),
legend: this.getDefaultPieLegend(),
color: this.getDefaultPieColors(),
tooltip: this.getDefaultPieTooltip()
};
},
getDefaultSparklineArea: n,
getDefaultSparklineSize: i,
getDefaultSparklineAxis: r,
getDefaultSparklineLegend: o,
getDefaultSparklinePoint: a,
getDefaultSparklineTooltip: s,
getDefaultSparklineConfig: function() {
return {
area: {
zerobased: !0
},
size: {
height: 60
},
axis: {
x: {
show: !1
},
y: {
show: !1
}
},
color: e(),
legend: {
show: !1
},
point: {
r: 1,
focus: {
expand: {
r: 4
}
}
},
tooltip: s()
};
},
getDefaultLineAxis: l,
getDefaultLineGrid: c,
getDefaultLineLegend: u,
getDefaultLinePoint: d,
getDefaultLineConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !0
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
}
};
},
getDefaultSingleLineTooltip: h,
getDefaultSingleLineConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !1
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
},
tooltip: h()
};
},
getDefaultAreaAxis: f,
getDefaultAreaGrid: p,
getDefaultAreaLegend: g,
getDefaultAreaPoint: m,
getDefaultAreaConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !0
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
}
};
},
getDefaultSingleAreaTooltip: v,
getDefaultSingleAreaConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !1
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
},
tooltip: v()
};
}
};
};
}("undefined" != typeof window ? window : global), function(e) {
"use strict";
void 0 !== patternfly && (e.pfBreakpoints = patternfly.pfBreakpoints);
}(jQuery), function(e) {
"use strict";
e.fn.pfList = function() {
function t(t) {
var r, o, a, s;
(o = (r = e(t)).parentsUntil(".list-pf", "[data-list=expansion]").first()).length || (o = r.closest(".list-pf-item, .list-pf-expansion")), (a = o.find(".collapse").first()).toggleClass("in"), i(o, a.hasClass("in")), n(s = o.closest(".list-pf-item"), s.find(".collapse").first().hasClass("in"));
}
function n(e, t) {
t ? e.addClass("active") : e.removeClass("active");
}
function i(e, t) {
var n = e.find(".list-pf-chevron .fa").first();
t ? (n.removeClass("fa-angle-right"), n.addClass("fa-angle-down")) : (n.addClass("fa-angle-right"), n.removeClass("fa-angle-down"));
}
return function(r) {
r.find("[data-list=expansion], .list-pf-item, .list-pf-expansion").each(function(t, r) {
var o = e(r), a = o.find(".collapse").first().hasClass("in");
i(o, a), o.hasClass("list-pf-item") && n(o, a);
}), r.find(".list-pf-container").each(function(n, i) {
var r = e(i), o = r.find("[data-list=toggle]");
o.length || (o = r), o.on("keydown", function(e) {
13 !== e.keyCode && 32 !== e.keyCode || (t(this), e.stopPropagation(), e.preventDefault());
}), o.on("click", function(e) {
t(this), e.stopPropagation(), e.preventDefault();
});
});
}(this), this;
};
}(jQuery), function(e) {
"use strict";
e.fn.sidebar = function() {
var t = 0;
e(".navbar-pf .navbar-toggle").is(":hidden") && (t = e(document).height() - e(".navbar-pf").outerHeight()), e(".sidebar-pf").parent(".row").children('[class*="col-"]').css({
"min-height": t
});
}, e(document).ready(function() {
e(".sidebar-pf").length > 0 && 0 === e(".datatable").length && e.fn.sidebar();
}), e(window).on("resize", function() {
e(".sidebar-pf").length > 0 && e.fn.sidebar();
});
}(jQuery), function(e) {
"use strict";
e.fn.popovers = function() {
return this.popover(), this.filter("[data-close=true]").each(function(t, n) {
var i = e(n), r = i.attr("data-original-title") + '<button type="button" class="close" aria-hidden="true"><span class="pficon pficon-close"></span></button>';
i.attr("data-original-title", r);
}), this.on("click", function(t) {
var n = e(this), i = n.next(".popover").find(".popover-title");
i.find(".close").parent(".popover-title").addClass("closable"), i.find(".close").on("click", function() {
n.popover("hide");
}), t.preventDefault();
}), this;
};
}(jQuery), function(e) {
"use strict";
e.fn.dataTableExt && (e.extend(!0, e.fn.dataTable.defaults, {
bDestroy: !0,
bAutoWidth: !1,
iDisplayLength: 20,
sDom: "<'dataTables_header' f i r ><'table-responsive'  t ><'dataTables_footer' p >",
oLanguage: {
sInfo: "Showing <b>_START_</b> to <b>_END_</b> of <b>_TOTAL_</b> Items",
sInfoFiltered: "(of <b>_MAX_</b>)",
sInfoEmpty: "Showing <b>0</b> Results",
sZeroRecords: "<p>Suggestions</p><ul><li>Check the javascript regular expression syntax of the search term.</li><li>Check that the correct menu option is chosen (token ID vs. user ID).</li><li>Use wildcards (* to match 0 or more characters, + to match 1 or more characters, ? to match 0 or 1 character).</li><li>Clear the search field, then click Search to return to the 20 most recent records.</li></ul>",
sSearch: ""
},
sPaginationType: "bootstrap_input",
oSearch: {
sSearch: "",
bRegex: !0,
bSmart: !1
}
}), e.extend(e.fn.dataTableExt.oStdClasses, {
sWrapper: "dataTables_wrapper"
}), e.fn.dataTableExt.oApi.fnPagingInfo = function(e) {
return {
iStart: e._iDisplayStart,
iEnd: e.fnDisplayEnd(),
iLength: e._iDisplayLength,
iTotal: e.fnRecordsTotal(),
iFilteredTotal: e.fnRecordsDisplay(),
iPage: -1 === e._iDisplayLength ? 0 : Math.ceil(e._iDisplayStart / e._iDisplayLength),
iTotalPages: -1 === e._iDisplayLength ? 0 : Math.ceil(e.fnRecordsDisplay() / e._iDisplayLength)
};
}, e.extend(e.fn.dataTableExt.oPagination, {
bootstrap_input: {
fnInit: function(t, n, i) {
var r, o, a = function(e) {
e.preventDefault(), t.oApi._fnPageChange(t, e.data.action) && i(t);
};
e(n).append('<ul class="pagination">  <li class="first disabled"><span class="i fa fa-angle-double-left"></span></li>  <li class="prev disabled"><span class="i fa fa-angle-left"></span></li></ul><div class="pagination-input">  <input type="text" class="paginate_input">  <span class="paginate_of">of <b>3</b></span></div><ul class="pagination">  <li class="next disabled"><span class="i fa fa-angle-right"></span></li>  <li class="last disabled"><span class="i fa fa-angle-double-right"></span></li></ul>'), r = e("li", n), e(r[0]).bind("click.DT", {
action: "first"
}, a), e(r[1]).bind("click.DT", {
action: "previous"
}, a), e(r[2]).bind("click.DT", {
action: "next"
}, a), e(r[3]).bind("click.DT", {
action: "last"
}, a), o = e("input", n), e(o).keyup(function(e) {
var n;
if (38 === e.which || 39 === e.which ? this.value += 1 : (37 === e.which || 40 === e.which) && this.value > 1 && (this.value -= 1), "" !== this.value && this.value.match(/[0-9]/)) {
if ((n = t._iDisplayLength * (this.value - 1)) >= t.fnRecordsDisplay()) return t._iDisplayStart = (Math.ceil((t.fnRecordsDisplay() - 1) / t._iDisplayLength) - 1) * t._iDisplayLength, void i(t);
t._iDisplayStart = n, i(t);
}
});
},
fnUpdate: function(t, n) {
var i, r = t.oInstance.fnPagingInfo(), o = t.aanFeatures.p, a = o.length, s = Math.ceil(t.fnRecordsDisplay() / t._iDisplayLength), l = Math.ceil(t._iDisplayStart / t._iDisplayLength) + 1;
for (i = 0; i < a; i += 1) e(".paginate_input", o[i]).val(l).siblings(".paginate_of").find("b").html(s), 0 === r.iPage ? (e("li.first", o[i]).addClass("disabled"), e("li.prev", o[i]).addClass("disabled")) : (e("li.first", o[i]).removeClass("disabled"), e("li.prev", o[i]).removeClass("disabled")), r.iPage === r.iTotalPages - 1 || 0 === r.iTotalPages ? (e("li.next", o[i]).addClass("disabled"), e("li.last", o[i]).addClass("disabled")) : (e("li.next", o[i]).removeClass("disabled"), e("li.last", o[i]).removeClass("disabled"));
}
}
}));
}(jQuery), function(e) {
"use strict";
e.fn.navigation = function() {
var t = e(".layout-pf-alt-fixed .nav-pf-vertical-alt"), n = e(".container-pf-alt-nav-pf-vertical-alt"), i = e(".navbar-toggle"), r = !1, o = function() {
var i = e(window).width();
t.removeClass("hidden show-mobile-nav collapsed"), n.removeClass("collapsed-nav hidden-nav"), (i < e.pfBreakpoints.desktop || r) && (t.addClass("collapsed"), n.addClass("collapsed-nav")), i < e.pfBreakpoints.tablet && (t.addClass("hidden"), t.removeClass("collapsed"), n.removeClass("collapsed-nav"), n.addClass("hidden-nav"));
}, a = function() {
t.addClass("collapsed"), n.addClass("collapsed-nav"), r = !0;
}, s = function() {
e("html").addClass("transitions");
}, l = function() {
t.removeClass("collapsed"), n.removeClass("collapsed-nav"), r = !1;
}, c = function() {
i.on("click", function(e) {
var i = n.hasClass("hidden-nav");
s(), i && t.hasClass("show-mobile-nav") ? t.removeClass("show-mobile-nav") : i ? t.addClass("show-mobile-nav") : t.hasClass("collapsed") ? l() : a();
});
}, u = function() {
e('.nav-pf-vertical-alt [data-toggle="tooltip"]').tooltip({
container: "body",
delay: {
show: "500",
hide: "200"
}
}), e(".nav-pf-vertical-alt").on("show.bs.tooltip", function(t) {
return e(this).hasClass("collapsed");
});
};
e(window).on("resize", function() {
o(), s();
}), o(), c(), u();
}, e(document).ready(function() {
e(".nav-pf-vertical-alt").length > 0 && e.fn.navigation();
});
}(jQuery), function(e) {
"use strict";
e.fn.countRemainingChars = function(t) {
var n = e.extend({
charsMaxLimit: 100,
charsWarnRemaining: 5,
blockInputAtMaxLimit: !1
}, t), i = this, r = e("#" + n.countFld).text(n.charsMaxLimit), o = function(e) {
var t = n.charsMaxLimit - e;
r.text(t), r.toggleClass("chars-warn-remaining-pf", t <= n.charsWarnRemaining), t < 0 ? i.trigger("overCharsMaxLimitEvent", i.attr("id")) : i.trigger("underCharsMaxLimitEvent", i.attr("id"));
};
return this.on("paste", function(e) {
setTimeout(function() {
var e, t = i.val().length;
n.blockInputAtMaxLimit && t > n.charsMaxLimit && (e = (e = i.val()).substring(0, n.charsMaxLimit), i.val(e), t = i.val().length), o(t);
}, 100);
}), this.keyup(function(e) {
o(i.val().length);
}), this.keydown(function(e) {
var t = i.val().length;
n.blockInputAtMaxLimit && t >= n.charsMaxLimit && 8 !== e.keyCode && e.preventDefault();
}), this;
};
}(jQuery), function(e) {
"use strict";
void 0 !== patternfly && (e.pfPaletteColors = patternfly.pfPaletteColors);
}(jQuery), function(e) {
"use strict";
void 0 !== patternfly && (e.fn.pfSetDonutChartTitle = patternfly.pfSetDonutChartTitle, e.fn.pfDonutTooltipContents = patternfly.pfDonutTooltipContents, e.fn.pfGetUtilizationDonutTooltipContentsFn = patternfly.pfGetUtilizationDonutTooltipContentsFn, e.fn.pfGetBarChartTooltipContentsFn = patternfly.pfGetBarChartTooltipContentsFn, e.fn.pfSingleLineChartTooltipContentsFn = patternfly.pfSingleLineChartTooltipContentsFn, e.fn.pfPieTooltipContents = patternfly.pfPieTooltipContents, e.fn.c3ChartDefaults = patternfly.c3ChartDefaults);
}(jQuery), function(e) {
"use strict";
e.fn.initCollapseHeights = function(t) {
var n, i = this, r = t;
(n = function() {
var t, n, o, a, s = "hidden";
t = i.height(), (n = i.find(".collapse.in")) && n.length > 0 && n.removeClass("in"), o = 0, i.children().each(e.proxy(function(t, n) {
var i = e(n);
o += i.outerHeight(!0);
}, i)).end(), (a = t - o) < 25 && (a = 25, s = "auto"), n && n.length > 0 && n.addClass("in"), setTimeout(function() {
i.find('[data-toggle="collapse"]').each(e.proxy(function(t, n) {
var i, o, s, l, c = 0;
(o = (i = e(n)).attr("data-target")) || (o = i.attr("href")), s = e(o), l = s, r && (1 === (l = s.find(r)).length ? (c = 0, s.children().each(e.proxy(function(t, n) {
var i = e(n);
n !== l[0] && (c += i.outerHeight(!0));
}, s)).end(), a -= c) : l = s), l.css({
"max-height": a - c + "px",
"overflow-y": "auto"
});
}, i)).end(), i.css({
"overflow-y": s
});
}, 100);
})(), e(window).on("resize", n);
}, e.fn.initFixedAccordion = function() {
var t, n = this;
n.on("show.bs.collapse", ".collapse", function(t) {
e(t.target.parentNode).addClass("panel-open");
}), n.on("hide.bs.collapse", ".collapse", function(t) {
e(t.target.parentNode).removeClass("panel-open");
}), n.find(".panel").each(function(t, n) {
e(n).removeClass("panel-open");
}), (t = e(n.find(".collapse.in"))[0]) && e(t.parentNode).addClass("panel-open");
};
}(jQuery), function(e) {
"use strict";
function t(t, n) {
var i = n.attr("data-parent");
if ("string" == typeof i) return isNaN(i) ? (i = e(i)).length > 1 && (i = t.closest(i)) : i = e(t[parseInt(i, 10)]), i;
}
function n(e, t) {
t && (t.find(".treegrid-node > span.expand-icon").toggleClass("fa-angle-right", t.hasClass("collapsed")).toggleClass("fa-angle-down", !t.hasClass("collapsed")), e.toggleClass("hidden", t.hasClass("collapsed")), t.hasClass("collapsed") && e.addClass("collapsed"));
}
function i(e) {
e.find("tbody > tr").removeClass("odd"), e.find("tbody > tr:not(.hidden):odd").addClass("odd");
}
e.fn.treegrid = function(r) {
var o, a, s;
a = this.find("tbody > tr"), s = this, e.each(a, function() {
var l, c;
if (l = e(this), c = t(a, l), l.children(".treegrid-node").prepend('<span class="icon expand-icon fa"/>'), l.children(".treegrid-node").on("click", function(o) {
var c = l.find("span.expand-icon");
r && "function" == typeof r.callback && r.callback(o), c.hasClass("fa-angle-right") && l.removeClass("collapsed"), c.hasClass("fa-angle-down") && l.addClass("collapsed"), e.each(a.slice(a.index(l) + 1), function() {
n(e(this), t(a, e(this)));
}), i(s);
}), c) {
for (o = c.find(".treegrid-node > span.indent").length + 1; o > 0; o -= 1) l.children(".treegrid-node").prepend('<span class="indent"/>');
n(l, c);
}
}), i(s);
};
}(jQuery), function(e) {
"use strict";
e.fn.setupVerticalNavigation = function(t, n, i) {
var r = e.extend({
hoverDelay: 500,
hideDelay: 700,
rememberOpenState: !0,
storage: "localStorage"
}, i || {}), o = e(".nav-pf-vertical"), a = e(".container-pf-nav-pf-vertical"), s = e(".navbar-toggle"), l = !0, c = !1, u = !1, d = "sessionStorage" === r.storage ? "sessionStorage" : "localStorage", h = function() {
return a.hasClass("hidden-nav");
}, f = function(t) {
setTimeout(function() {
e(window).trigger("resize");
}, t);
}, p = function() {
!h() && u || (o.addClass("secondary-visible-pf"), a.addClass("secondary-visible-pf")), u || f(100);
}, g = function() {
o.removeClass("secondary-visible-pf"), a.removeClass("secondary-visible-pf"), o.find(".secondary-nav-item-pf.is-hover").length <= 1 && o.removeClass("hover-secondary-nav-pf"), o.find(".mobile-nav-item-pf").each(function(t, n) {
e(n).removeClass("mobile-nav-item-pf");
}), o.find(".is-hover").each(function(t, n) {
e(n).removeClass("is-hover");
});
}, m = function() {
o.removeClass("tertiary-visible-pf"), a.removeClass("tertiary-visible-pf"), o.find(".tertiary-nav-item-pf.is-hover").length <= 1 && o.removeClass("hover-tertiary-nav-pf"), o.find(".mobile-nav-item-pf").each(function(t, n) {
e(n).removeClass("mobile-nav-item-pf");
}), o.find(".is-hover").each(function(t, n) {
e(n).removeClass("is-hover");
});
}, v = function(t) {
e(".nav-pf-vertical .list-group-item.active").removeClass("active"), t.addClass("active").parents(".list-group-item").addClass("active");
}, y = function() {
h() ? (o.removeClass("show-mobile-nav"), g(), o.find(".mobile-nav-item-pf").each(function(t, n) {
e(n).removeClass("mobile-nav-item-pf");
})) : p();
}, b = function(t, n) {
t ? (n.addClass("collapsed"), o.addClass("collapsed-secondary-nav-pf"), a.addClass("collapsed-secondary-nav-pf")) : (n ? n.removeClass("collapsed") : o.find('[data-toggle="collapse-secondary-nav"]').each(function(t, n) {
e(n).removeClass("collapsed");
}), o.removeClass("collapsed-secondary-nav-pf"), a.removeClass("collapsed-secondary-nav-pf"));
}, _ = function(t, n) {
t ? (n.addClass("collapsed"), o.addClass("collapsed-tertiary-nav-pf"), a.addClass("collapsed-tertiary-nav-pf"), b(!1)) : (n ? n.removeClass("collapsed") : o.find('[data-toggle="collapse-tertiary-nav"]').each(function(t, n) {
e(n).removeClass("collapsed");
}), o.removeClass("collapsed-tertiary-nav-pf"), a.removeClass("collapsed-tertiary-nav-pf"));
}, w = function(t, n) {
e(document).find(".list-group-item.mobile-nav-item-pf").each(function(t, n) {
e(n).removeClass("mobile-nav-item-pf");
}), e(document).find(".list-group-item.mobile-secondary-item-pf").each(function(t, n) {
e(n).removeClass("mobile-secondary-item-pf");
}), t ? (t.addClass("mobile-nav-item-pf"), n ? (n.addClass("mobile-secondary-item-pf"), o.removeClass("show-mobile-secondary"), o.addClass("show-mobile-tertiary")) : (o.addClass("show-mobile-secondary"), o.removeClass("show-mobile-tertiary"))) : (o.removeClass("show-mobile-secondary"), o.removeClass("show-mobile-tertiary"));
}, C = function() {
o.hasClass("hidden") || (o.addClass("hidden"), o.removeClass("collapsed"), a.removeClass("collapsed-nav"), a.addClass("hidden-nav"), b(!1), _(!1), c = !1);
}, x = function() {
o.removeClass("hidden show-mobile-nav"), a.removeClass("hidden-nav");
}, S = function() {
var t, n = e(window).width();
l && (n < e.pfBreakpoints.tablet && !c ? C() : o.hasClass("hidden") && x(), n < e.pfBreakpoints.desktop ? (u || (o.addClass("collapsed"), a.addClass("collapsed-nav")), n >= e.pfBreakpoints.tablet && g(), u = !0) : (t = u && o.find(".secondary-nav-item-pf.active").length > 0, u = !1, t && p()), c ? (o.addClass("collapsed"), a.addClass("collapsed-nav")) : (o.removeClass("collapsed"), a.removeClass("collapsed-nav")));
}, $ = function() {
o.addClass("collapsed"), a.addClass("collapsed-nav"), u && g(), c = !0;
}, A = function() {
e("html").addClass("transitions");
}, k = function() {
o.removeClass("collapsed"), a.removeClass("collapsed-nav"), c = !1, u || f(100);
}, T = function() {
s.on("click", function(t) {
var i;
A(), h() ? o.hasClass("show-mobile-nav") ? o.removeClass("show-mobile-nav") : (w(), o.addClass("show-mobile-nav"), n || (i = e(".drawer-pf")).length && (e(".drawer-pf-trigger").removeClass("open"), i.addClass("hide"))) : o.hasClass("collapsed") ? (r.rememberOpenState && window[d].setItem("patternfly-navigation-primary", "expanded"), k()) : (r.rememberOpenState && window[d].setItem("patternfly-navigation-primary", "collapsed"), $());
});
}, D = function() {
o.addClass("force-hide-secondary-nav-pf"), setTimeout(function() {
o.removeClass("force-hide-secondary-nav-pf");
}, 500);
}, E = function(t) {
e(document).find(".nav-pf-vertical .list-group-item").each(function(n, i) {
var r, a = e(i), s = a.closest('[class*="nav-pf-"]');
s.hasClass("nav-pf-vertical") ? r = function(n) {
var i, r, s = e(this);
s.hasClass("secondary-nav-item-pf") ? h() ? w(s) : t && (r = i = a.find(".nav-pf-secondary-nav > .list-group > .list-group-item").eq(0), i.hasClass("tertiary-nav-item-pf") && (r = i.find(".nav-pf-tertiary-nav > .list-group > .list-group-item").eq(0)), v(r), n.stopImmediatePropagation()) : (g(), h() && (w(), o.removeClass("show-mobile-nav")), t && (v(s), n.stopImmediatePropagation()));
} : s.hasClass("nav-pf-secondary-nav") ? r = function(n) {
var i, r, s = e(this);
s.hasClass("tertiary-nav-item-pf") ? h() ? (r = a.parents(".list-group-item"), w(s, r), n.stopImmediatePropagation()) : t && (i = a.find(".nav-pf-tertiary-nav > .list-group > .list-group-item").eq(0), v(i), n.stopImmediatePropagation()) : (h() && (w(), o.removeClass("show-mobile-nav")), y(), t && (v(a), g(), n.stopImmediatePropagation()));
} : s.hasClass("nav-pf-tertiary-nav") && (r = function(e) {
h() && (w(), o.removeClass("show-mobile-nav")), y(), t && (v(a), m(), g(), e.stopImmediatePropagation());
}), a.on("click.pf.secondarynav.data-api", r);
}), e(document).find(".secondary-nav-item-pf").each(function(n, i) {
var a = e(i);
a.on("click.pf.secondarynav.data-api", '[data-toggle="collapse-secondary-nav"]', function(n) {
var i = e(this);
h() ? (w(), n.stopImmediatePropagation()) : i.hasClass("collapsed") ? (r.rememberOpenState && (window[d].setItem("patternfly-navigation-secondary", "expanded"), window[d].setItem("patternfly-navigation-tertiary", "expanded")), b(!1, i), D()) : (r.rememberOpenState && window[d].setItem("patternfly-navigation-secondary", "collapsed"), b(!0, i)), o.removeClass("hover-secondary-nav-pf"), t && n.stopImmediatePropagation();
}), a.find(".tertiary-nav-item-pf").each(function(n, i) {
e(i).on("click.pf.tertiarynav.data-api", '[data-toggle="collapse-tertiary-nav"]', function(n) {
var i = e(this);
h() ? (w(a), n.stopImmediatePropagation()) : i.hasClass("collapsed") ? (r.rememberOpenState && (window[d].setItem("patternfly-navigation-secondary", "expanded"), window[d].setItem("patternfly-navigation-tertiary", "expanded")), _(!1, i), D()) : (r.rememberOpenState && window[d].setItem("patternfly-navigation-tertiary", "collapsed"), _(!0, i)), o.removeClass("hover-secondary-nav-pf"), o.removeClass("hover-tertiary-nav-pf"), t && n.stopImmediatePropagation();
});
});
}), e(document).on("mouseenter.pf.tertiarynav.data-api", ".secondary-nav-item-pf", function(t) {
var n = e(this);
h() || (void 0 !== n[0].navUnHoverTimeout ? (clearTimeout(n[0].navUnHoverTimeout), n[0].navUnHoverTimeout = void 0) : void 0 === n[0].navHoverTimeout && (n[0].navHoverTimeout = setTimeout(function() {
o.addClass("hover-secondary-nav-pf"), n.addClass("is-hover"), n[0].navHoverTimeout = void 0;
}, r.hoverDelay)));
}), e(document).on("mouseleave.pf.tertiarynav.data-api", ".secondary-nav-item-pf", function(t) {
var n = e(this);
void 0 !== n[0].navHoverTimeout ? (clearTimeout(n[0].navHoverTimeout), n[0].navHoverTimeout = void 0) : void 0 === n[0].navUnHoverTimeout && o.find(".secondary-nav-item-pf.is-hover").length > 0 && (n[0].navUnHoverTimeout = setTimeout(function() {
o.find(".secondary-nav-item-pf.is-hover").length <= 1 && o.removeClass("hover-secondary-nav-pf"), n.removeClass("is-hover"), n[0].navUnHoverTimeout = void 0;
}, r.hideDelay));
}), e(document).on("mouseover.pf.tertiarynav.data-api", ".tertiary-nav-item-pf", function(t) {
var n = e(this);
h() || (void 0 !== n[0].navUnHoverTimeout ? (clearTimeout(n[0].navUnHoverTimeout), n[0].navUnHoverTimeout = void 0) : void 0 === n[0].navHoverTimeout && (n[0].navHoverTimeout = setTimeout(function() {
o.addClass("hover-tertiary-nav-pf"), n.addClass("is-hover"), n[0].navHoverTimeout = void 0;
}, r.hoverDelay)));
}), e(document).on("mouseout.pf.tertiarynav.data-api", ".tertiary-nav-item-pf", function(t) {
var n = e(this);
void 0 !== n[0].navHoverTimeout ? (clearTimeout(n[0].navHoverTimeout), n[0].navHoverTimeout = void 0) : void 0 === n[0].navUnHoverTimeout && (n[0].navUnHoverTimeout = setTimeout(function() {
o.find(".tertiary-nav-item-pf.is-hover").length <= 1 && o.removeClass("hover-tertiary-nav-pf"), n.removeClass("is-hover"), n[0].navUnHoverTimeout = void 0;
}, r.hideDelay));
});
}, F = function() {
h() || ("collapsed" === window[d].getItem("patternfly-navigation-primary") && $(), e(".nav-pf-vertical.nav-pf-vertical-collapsible-menus").length > 0 && ("collapsed" === window[d].getItem("patternfly-navigation-secondary") && b(!0, e(".secondary-nav-item-pf.active [data-toggle=collapse-secondary-nav]")), "collapsed" === window[d].getItem("patternfly-navigation-tertiary") && _(!0, e(".tertiary-nav-item-pf.active [data-toggle=collapse-tertiary-nav]"))));
}, M = function() {
var t = {
container: "body",
placement: "bottom",
delay: {
show: "500",
hide: "200"
},
template: '<div class="nav-pf-vertical-tooltip tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'
};
e('.nav-pf-vertical [data-toggle="tooltip"]').tooltip(t), e(".nav-pf-vertical").on("show.bs.tooltip", function(t) {
return e(this).hasClass("collapsed");
});
}, I = {
hideMenu: function() {
l = !1, C();
},
showMenu: function() {
l = !0, x();
},
isVisible: function() {
return l;
}
};
return e.fn.setupVerticalNavigation.self || (e.fn.setupVerticalNavigation.self = I, e(window).on("resize", function() {
S(), A();
}), function(e) {
o.addClass("hide-nav-pf"), a.addClass("hide-nav-pf"), S(), T(), E(e), M(), r.rememberOpenState && F(), o.removeClass("hide-nav-pf"), a.removeClass("hide-nav-pf"), f(250);
}(t)), e.fn.setupVerticalNavigation.self;
};
}(jQuery), angular.module("patternfly.canvas", [ "dragging", "ngDragDrop", "ui.bootstrap" ]), angular.module("patternfly.card", [ "ui.bootstrap" ]), angular.module("patternfly.charts", [ "patternfly.utils", "ui.bootstrap", "ngSanitize" ]), angular.module("patternfly.filters", [ "ui.bootstrap" ]), angular.module("patternfly.form", []), angular.module("patternfly.modals", [ "ui.bootstrap.modal", "ui.bootstrap.tpls" ]), angular.module("patternfly.navigation", [ "ui.bootstrap" ]), angular.module("patternfly.notification", [ "patternfly.utils", "ui.bootstrap" ]), angular.module("patternfly.pagination", [ "ui.bootstrap" ]).filter("startFrom", function() {
"use strict";
return function(e, t) {
return t = parseInt(t, 10), e.slice(t);
};
}), angular.module("patternfly", [ "patternfly.autofocus", "patternfly.card", "patternfly.filters", "patternfly.form", "patternfly.modals", "patternfly.navigation", "patternfly.notification", "patternfly.pagination", "patternfly.select", "patternfly.sort", "patternfly.toolbars", "patternfly.utils", "patternfly.validation", "patternfly.views", "patternfly.wizard" ]), angular.module("patternfly.select", [ "ui.bootstrap" ]), angular.module("patternfly.sort", [ "ui.bootstrap" ]), angular.module("patternfly.table", [ "datatables", "patternfly.pagination", "patternfly.utils", "patternfly.filters", "patternfly.sort" ]), angular.module("patternfly.toolbars", [ "patternfly.utils", "patternfly.filters", "patternfly.sort", "patternfly.views" ]), angular.module("patternfly.utils", [ "ui.bootstrap" ]), angular.module("patternfly.views", [ "patternfly.utils", "patternfly.filters", "patternfly.sort", "patternfly.charts", "dndLists", "patternfly.pagination" ]), angular.module("patternfly.wizard", [ "ui.bootstrap.modal", "ui.bootstrap", "patternfly.form" ]), 
angular.module("patternfly.autofocus", []).directive("pfFocused", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
link: function(t, n, i) {
t.$watch(i.pfFocused, function(t) {
e(function() {
t && (n[0].focus(), n[0].select && n[0].select());
});
});
}
};
} ]), function() {
"use strict";
angular.module("patternfly.canvas").component("pfCanvasEditor", {
bindings: {
chartDataModel: "=",
chartViewModel: "=?",
toolboxTabs: "=",
readOnly: "<?"
},
transclude: !0,
templateUrl: "canvas-view/canvas-editor/canvas-editor.html",
controller: [ "$timeout", function(e) {
var t, n, i = this, r = 0;
i.$onInit = function() {
i.toolboxVisible = !1, i.hideConnectors = !1, i.draggedItem = null;
}, e(function() {
t = i.chartViewModel.clickedOnChart, n = i.chartViewModel.inConnectingMode;
}), i.$doCheck = function() {
angular.isDefined(t) && angular.isDefined(n) && (angular.equals(i.chartViewModel.clickedOnChart, t) || (i.chartViewModel.clickedOnChart && (i.chartViewModel.clickedOnChart = !1, i.hideToolbox()), t = i.chartViewModel.clickedOnChart), angular.equals(i.chartViewModel.inConnectingMode, n) || (i.chartViewModel.inConnectingMode && (i.hideConnectors = !1, i.hideToolbox()), n = i.chartViewModel.inConnectingMode));
}, i.addNodeToCanvas = function(e) {
i.chartViewModel.addNode(e);
}, i.showToolbox = function() {
i.toolboxVisible = !0, e(function() {
angular.element(".subtabs>u").addClass("nav-tabs-pf"), angular.element("#filterFld").focus();
});
}, i.hideToolbox = function() {
i.toolboxVisible = !1;
}, i.toggleToolbox = function() {
i.readOnly || i.chartViewModel.inConnectingMode || (!0 === i.toolboxVisible ? i.hideToolbox() : i.showToolbox());
}, i.tabClicked = function() {
angular.element("#filterFld").focus();
}, i.startCallback = function(e, t, n) {
i.draggedItem = n;
}, i.dropCallback = function(e, t) {
var n = angular.copy(i.draggedItem);
r++, n.x = e.clientX - 600, n.y = e.clientY - 200, n.backgroundColor = n.backgroundColor ? n.backgroundColor : "#fff", i.chartViewModel.addNode(n);
}, i.addNodeByClick = function(e) {
var t = angular.copy(e);
r++, t.x = 4 * r + 160 + 250, t.y = 4 * r + 160 + 200, t.backgroundColor = t.backgroundColor ? t.backgroundColor : "#fff", i.chartViewModel.addNode(t);
}, i.tabClicked = function() {
angular.element("#filterFld").focus();
}, i.activeTab = function() {
return i.toolboxTabs.filter(function(e) {
return e.active;
})[0];
}, i.activeSubTab = function() {
var e = i.activeTab();
if (e && e.subtabs) return e.subtabs.filter(function(e) {
return e.active;
})[0];
}, i.activeSubSubTab = function() {
var e = i.activeSubTab();
if (e && e.subtabs) return e.subtabs.filter(function(e) {
return e.active;
})[0];
}, i.maxZoom = function() {
return !(!i.chartViewModel || !i.chartViewModel.zoom) && i.chartViewModel.zoom.isMax();
}, i.minZoom = function() {
return !(!i.chartViewModel || !i.chartViewModel.zoom) && i.chartViewModel.zoom.isMin();
}, i.zoomIn = function() {
i.chartViewModel.zoom.in();
}, i.zoomOut = function() {
i.chartViewModel.zoom.out();
};
} ]
});
}(), function() {
"use strict";
angular.module("patternfly.canvas").component("toolboxItems", {
templateUrl: "canvas-view/canvas-editor/toolbox-items.html",
bindings: {
items: "=",
startDragCallback: "<",
clickCallback: "<",
searchText: "="
},
controller: function() {
var e = this;
e.itemClicked = function(t) {
angular.isFunction(e.clickCallback) && !t.disableInToolbox && e.clickCallback(t);
}, e.startItemDrag = function(t, n, i) {
angular.isFunction(e.startDragCallback) && e.startDragCallback(t, n, i);
};
}
});
}(), function() {
"use strict";
angular.module("patternfly.canvas").filter("trustAsResourceUrl", [ "$sce", function(e) {
return function(t) {
return e.trustAsResourceUrl(t);
};
} ]).component("pfCanvas", {
templateUrl: "canvas-view/canvas/canvas.html",
bindings: {
chartDataModel: "=",
chartViewModel: "=?",
readOnly: "<?",
hideConnectors: "=?"
},
controller: [ "$scope", "dragging", "$element", "$document", function(e, t, n, i) {
var r = this;
r.chart = new pfCanvas.ChartViewModel(r.chartDataModel), r.chartViewModel = r.chart, r.draggingConnection = !1, r.connectorSize = 6, r.dragSelecting = !1, r.mouseOverConnector = null, r.mouseOverConnection = null, r.mouseOverNode = null, this.translateCoordinates = function(e, t, i) {
var o = n.get(0).children[0], a = o.getScreenCTM(), s = o.createSVGPoint();
return s.x = (e - i.view.pageXOffset) / r.zoomLevel(), s.y = (t - i.view.pageYOffset) / r.zoomLevel(), s.matrixTransform(a.inverse());
}, r.hideConnectors = r.hideConnectors || !1, r.isConnectorConnected = function(e) {
return e && e.connected();
}, r.isConnectorUnconnectedAndValid = function(e) {
return e && !e.connected() && !e.invalid() && e.parentNode() !== r.connectingModeSourceNode;
}, r.isConnectedTo = function(e, t) {
var n, i, o = r.chart.connections;
for (n = 0; n < o.length; n++) if ((i = o[n]).dest === e && i.source.parentNode() === t) return !0;
return !1;
}, r.availableConnections = function() {
return r.chart.validConnections;
}, r.foreignObjectSupported = function() {
return i[0].implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility", "1.1");
}, r.addNodeToCanvas = function(e) {
r.chart.addNode(e);
}, e.$on("selectAll", function() {
r.selectAll();
}), r.selectAll = function() {
r.chart.selectAll();
}, e.$on("deselectAll", function() {
r.deselectAll();
}), r.deselectAll = function() {
r.chart.deselectAll();
}, e.$on("deleteSelected", function() {
r.deleteSelected();
}), r.deleteSelected = function() {
r.chart.deleteSelected();
}, r.mouseDown = function(e) {
r.readOnly || (r.chart.inConnectingMode && r.cancelConnectingMode(), r.chart.deselectAll(), r.chart.clickedOnChart = !0, t.startDrag(e, {
dragStarted: function(t, n) {
var i;
r.dragSelecting = !0, i = r.translateCoordinates(t, n, e), r.dragSelectionStartPoint = i, r.dragSelectionRect = {
x: i.x,
y: i.y,
width: 0,
height: 0
};
},
dragging: function(t, n) {
var i = r.dragSelectionStartPoint, o = r.translateCoordinates(t, n, e);
r.dragSelectionRect = {
x: o.x > i.x ? i.x : o.x,
y: o.y > i.y ? i.y : o.y,
width: o.x > i.x ? o.x - i.x : i.x - o.x,
height: o.y > i.y ? o.y - i.y : i.y - o.y
};
},
dragEnded: function() {
r.dragSelecting = !1, r.chart.applySelectionRect(r.dragSelectionRect), delete r.dragSelectionStartPoint, delete r.dragSelectionRect;
}
}));
}, r.nodeMouseOver = function(e, t) {
r.readOnly || (r.mouseOverNode = t);
}, r.nodeMouseLeave = function() {
r.mouseOverNode = null;
}, r.nodeMouseDown = function(e, n) {
var i, o = r.chart;
r.readOnly || t.startDrag(e, {
dragStarted: function(t, a) {
i = r.translateCoordinates(t, a, e), n.selected() || (o.deselectAll(), n.select());
},
dragging: function(t, n) {
var a = r.translateCoordinates(t, n, e), s = a.x - i.x, l = a.y - i.y;
o.updateSelectedNodesLocation(s, l), i = a;
},
clicked: function() {
o.handleNodeClicked(n, e.ctrlKey);
}
});
}, r.nodeClickHandler = function(e, t) {
"nodeActionConnect" === e && r.startConnectingMode(t);
}, r.nodeCloseHandler = function() {
r.mouseOverNode = null;
}, r.connectingModeOutputConnector = null, r.connectingModeSourceNode = null, r.startConnectingMode = function(e) {
r.chart.inConnectingMode = !0, r.hideConnectors = !1, r.connectingModeSourceNode = e, r.connectingModeSourceNode.select(), r.connectingModeOutputConnector = e.getOutputConnector(), r.chart.updateValidNodesAndConnectors(r.connectingModeSourceNode);
}, r.cancelConnectingMode = function() {
r.connectingModeOutputConnector.connected() || r.chart.removeOutputConnector(r.connectingModeOutputConnector), r.stopConnectingMode();
}, r.stopConnectingMode = function() {
r.chart.inConnectingMode = !1, r.chart.resetValidNodesAndConnectors();
}, r.connectionMouseOver = function(e, t) {
r.draggingConnection || r.readOnly || (r.mouseOverConnection = t);
}, r.connectionMouseLeave = function() {
r.mouseOverConnection = null;
}, r.connectionMouseDown = function(e, t) {
var n = r.chart;
r.readOnly || n.handleConnectionMouseDown(t, e.ctrlKey), e.stopPropagation(), e.preventDefault();
}, r.connectorMouseOver = function(e, t, n) {
r.readOnly || (r.mouseOverConnector = n);
}, r.connectorMouseLeave = function() {
r.mouseOverConnector = null;
}, r.connectorMouseDown = function(e, t) {
r.chart.inConnectingMode && t !== r.connectingModeSourceNode && (r.chart.createNewConnection(r.connectingModeOutputConnector, r.mouseOverConnector), r.stopConnectingMode());
}, e.$on("zoomIn", function() {
r.chart.zoom.in();
}), e.$on("zoomOut", function() {
r.chart.zoom.out();
}), e.maxZoom = function() {
return !(!r.chart.chartViewModel || !r.chart.chartViewModel.zoom) && r.chart.chartViewModel.zoom.isMax();
}, e.minZoom = function() {
return !(!r.chart.chartViewModel || !r.chart.chartViewModel.zoom) && r.chart.chartViewModel.zoom.isMin();
}, r.zoomLevel = function() {
return r.chart.zoom.getLevel();
}, r.$onInit = function() {
i.find("body").keydown(function(t) {
65 === t.keyCode && !0 === t.ctrlKey && (r.selectAll(), e.$digest(), t.stopPropagation(), t.preventDefault()), 46 !== t.keyCode && 8 !== t.keyCode || (r.deleteSelected(), e.$digest()), 27 === t.keyCode && (r.deselectAll(), e.$digest());
});
};
} ]
});
}();

var pfCanvas = {};

!function() {
pfCanvas.defaultHeight = 756, pfCanvas.defaultWidth = 1396, pfCanvas.defaultBgImageSize = 24, pfCanvas.defaultNodeWidth = 150, pfCanvas.defaultNodeHeight = 150, pfCanvas.nodeNameHeight = 40, pfCanvas.connectorHeight = 25, pfCanvas.computeConnectorY = function(e) {
return pfCanvas.defaultNodeHeight / 2 + e * pfCanvas.connectorHeight;
}, pfCanvas.computeConnectorPos = function(e, t, n) {
return {
x: e.x() + (n ? 0 : e.width ? e.width() : pfCanvas.defaultNodeWidth),
y: e.y() + pfCanvas.computeConnectorY(t)
};
}, pfCanvas.ConnectorViewModel = function(e, t, n, i) {
this.data = e, this._parentNode = i, this._x = t, this._y = n, this.name = function() {
return this.data.name;
}, this.x = function() {
return this._x;
}, this.y = function() {
return this._y;
}, this.parentNode = function() {
return this._parentNode;
}, this.connected = function() {
return this.data.connected;
}, this.setConnected = function(e) {
this.data.connected = e;
}, this.invalid = function() {
return this.data.invalid;
}, this.setInvalid = function(e) {
this.data.invalid = e;
}, this.fontFamily = function() {
return this.data.fontFamily || "";
}, this.fontContent = function() {
return this.data.fontContent || "";
};
};
var e = function(e, t, n) {
var i = [];
if (e) for (var r = 0; r < e.length; ++r) {
var o = new pfCanvas.ConnectorViewModel(e[r], t, pfCanvas.computeConnectorY(r), n);
i.push(o);
}
return i;
};
pfCanvas.NodeViewModel = function(t) {
this.data = t, (!this.data.width || this.data.width < 0) && (this.data.width = pfCanvas.defaultNodeWidth), this.inputConnectors = e(this.data.inputConnectors, 0, this), this.outputConnectors = e(this.data.outputConnectors, this.data.width, this), this._selected = !1, this.name = function() {
return this.data.name || "";
}, this.id = function() {
return this.data.id || -1;
}, this.image = function() {
return this.data.image || "";
}, this.icon = function() {
return this.data.icon || "";
}, this.bundle = function() {
return this.data.bundle || "";
}, this.backgroundColor = function() {
return this.data.backgroundColor;
}, this.x = function() {
return this.data.x;
}, this.y = function() {
return this.data.y;
}, this.width = function() {
return this.data.width;
}, this.fontFamily = function() {
return this.data.fontFamily || "";
}, this.fontSize = function() {
return this.data.fontSize || "";
}, this.fontContent = function() {
return this.data.fontContent || "";
}, this.validConnectionTypes = function() {
return this.data.validConnectionTypes || [];
}, this.invalid = function() {
return this.data.invalid;
}, this.setInvalid = function(e) {
this.data.invalid = e;
}, this.height = function() {
return pfCanvas.defaultNodeHeight;
}, this.select = function() {
this._selected = !0;
}, this.deselect = function() {
this._selected = !1;
}, this.toggleSelected = function() {
this._selected = !this._selected;
}, this.selected = function() {
return this._selected;
}, this._addConnector = function(e, t, n, i) {
var r = new pfCanvas.ConnectorViewModel(e, t, pfCanvas.computeConnectorY(i.length), this);
return n.push(e), i.push(r), r;
}, this._removeConnector = function(e, t, n) {
var i = t.indexOf(e);
t.splice(i, 1), n.splice(i, 1);
}, this.addInputConnector = function(e) {
this.data.inputConnectors || (this.data.inputConnectors = []), this._addConnector(e, 0, this.data.inputConnectors, this.inputConnectors);
}, this.getOutputConnector = function() {
if (this.data.outputConnectors || (this.data.outputConnectors = []), 0 === this.data.outputConnectors.length) {
var e = {
name: "out"
};
return this._addConnector(e, this.data.width, this.data.outputConnectors, this.outputConnectors);
}
return this.outputConnectors[0];
}, this.removeOutputConnector = function(e) {
this.data.outputConnectors && this._removeConnector(e, this.data.outputConnectors, this.outputConnectors);
}, this.tags = function() {
return this.data.tags;
};
};
var t = function(e) {
var t = [];
if (e) for (var n = 0; n < e.length; ++n) t.push(new pfCanvas.NodeViewModel(e[n]));
return t;
};
pfCanvas.NodeActionViewModel = function(e) {
this.data = e, this.id = function() {
return this.data.id || "";
}, this.name = function() {
return this.data.name || "";
}, this.iconClass = function() {
return this.data.iconClass || "";
}, this.action = function() {
return this.data.action || "";
};
};
var n = function(e) {
var t = [];
if (e) for (var n = 0; n < e.length; ++n) t.push(new pfCanvas.NodeActionViewModel(e[n]));
return t;
};
pfCanvas.ConnectionViewModel = function(e, t, n) {
this.data = e, this.source = t, this.dest = n, this._selected = !1, this.name = function() {
return n.name() || "";
}, this.sourceCoordX = function() {
return this.source.parentNode().x() + this.source.x();
}, this.sourceCoordY = function() {
return this.source.parentNode().y() + this.source.y();
}, this.sourceCoord = function() {
return {
x: this.sourceCoordX(),
y: this.sourceCoordY()
};
}, this.sourceTangentX = function() {
return pfCanvas.computeConnectionSourceTangentX(this.sourceCoord(), this.destCoord());
}, this.sourceTangentY = function() {
return pfCanvas.computeConnectionSourceTangentY(this.sourceCoord(), this.destCoord());
}, this.destCoordX = function() {
return this.dest.parentNode().x() + this.dest.x();
}, this.destCoordY = function() {
return this.dest.parentNode().y() + this.dest.y();
}, this.destCoord = function() {
return {
x: this.destCoordX(),
y: this.destCoordY()
};
}, this.destTangentX = function() {
return pfCanvas.computeConnectionDestTangentX(this.sourceCoord(), this.destCoord());
}, this.destTangentY = function() {
return pfCanvas.computeConnectionDestTangentY(this.sourceCoord(), this.destCoord());
}, this.middleX = function(e) {
return angular.isUndefined(e) && (e = .5), this.sourceCoordX() * (1 - e) + this.destCoordX() * e;
}, this.middleY = function(e) {
return angular.isUndefined(e) && (e = .5), this.sourceCoordY() * (1 - e) + this.destCoordY() * e;
}, this.select = function() {
this._selected = !0;
}, this.deselect = function() {
this._selected = !1;
}, this.toggleSelected = function() {
this._selected = !this._selected;
}, this.selected = function() {
return this._selected;
};
};
var i = function(e, t) {
return (t.x - e.x) / 2;
};
pfCanvas.computeConnectionSourceTangentX = function(e, t) {
return e.x + i(e, t);
}, pfCanvas.computeConnectionSourceTangentY = function(e, t) {
return e.y;
}, pfCanvas.computeConnectionSourceTangent = function(e, t) {
return {
x: pfCanvas.computeConnectionSourceTangentX(e, t),
y: pfCanvas.computeConnectionSourceTangentY(e, t)
};
}, pfCanvas.computeConnectionDestTangentX = function(e, t) {
return t.x - i(e, t);
}, pfCanvas.computeConnectionDestTangentY = function(e, t) {
return t.y;
}, pfCanvas.computeConnectionDestTangent = function(e, t) {
return {
x: pfCanvas.computeConnectionDestTangentX(e, t),
y: pfCanvas.computeConnectionDestTangentY(e, t)
};
}, pfCanvas.ChartViewModel = function(e) {
this.findNode = function(e) {
for (var t = 0; t < this.nodes.length; ++t) {
var n = this.nodes[t];
if (n.data.id === e) return n;
}
throw new Error("Failed to find node " + e);
}, this.findInputConnector = function(e, t) {
var n = this.findNode(e);
if (!n.inputConnectors || n.inputConnectors.length <= t) throw new Error("Node " + e + " has invalid input connectors.");
return n.inputConnectors[t];
}, this.findOutputConnector = function(e, t) {
return this.findNode(e).getOutputConnector();
}, this._createConnectionViewModel = function(e) {
var t = this.findOutputConnector(e.source.nodeID, e.source.connectorIndex), n = this.findInputConnector(e.dest.nodeID, e.dest.connectorIndex);
return t.setConnected(!0), n.setConnected(!0), new pfCanvas.ConnectionViewModel(e, t, n);
}, this._createConnectionsViewModel = function(e) {
var t = [];
if (e) for (var n = 0; n < e.length; ++n) t.push(this._createConnectionViewModel(e[n]));
return t;
}, this.data = e, this.nodes = t(this.data.nodes), this.nodeActions = n(this.data.nodeActions), this.connections = this._createConnectionsViewModel(this.data.connections), this.validConnections = !0, this.zoom = new pfCanvas.ZoomViewModel(), this.inConnectingMode = !1, this.clickedOnChart = !1, this.createNewConnection = function(e, t) {
var n = this.data.connections;
n || (n = this.data.connections = []);
var i = this.connections;
i || (i = this.connections = []);
var r = e.parentNode(), o = r.outputConnectors.indexOf(e);
e = r.outputConnectors[o];
var a = "output";
if (-1 === o && (o = r.inputConnectors.indexOf(e), a = "input", -1 === o)) throw new Error("Failed to find source connector within either inputConnectors or outputConnectors of source node.");
var s = t.parentNode(), l = s.inputConnectors.indexOf(t);
t = s.inputConnectors[l];
var c = "input";
if (-1 === l && (l = s.outputConnectors.indexOf(t), c = "output", -1 === l)) throw new Error("Failed to find dest connector within inputConnectors or outputConnectors of dest node.");
if (a === c) throw new Error("Failed to create connection. Only output to input connections are allowed.");
if (r === s) throw new Error("Failed to create connection. Cannot link a node with itself.");
r = {
nodeID: r.data.id,
connectorIndex: o
}, s = {
nodeID: s.data.id,
connectorIndex: l
};
var u = {
source: "output" === a ? r : s,
dest: "output" === a ? s : r
};
n.push(u);
var d = "output" === a ? e : t, h = "output" === a ? t : e, f = new pfCanvas.ConnectionViewModel(u, d, h);
i.push(f), e.setConnected(!0), t.setConnected(!0);
}, this.addNode = function(e) {
this.data.nodes || (this.data.nodes = []), this.data.nodes.push(e), this.nodes.push(new pfCanvas.NodeViewModel(e));
}, this.selectAll = function() {
for (var e = this.nodes, t = 0; t < e.length; ++t) e[t].select();
var n = this.connections;
for (t = 0; t < n.length; ++t) n[t].select();
}, this.deselectAll = function() {
for (var e = this.nodes, t = 0; t < e.length; ++t) {
var n = e[t];
n.deselect(), n.toolbarDlgOpen = !1;
}
var i = this.connections;
for (t = 0; t < i.length; ++t) i[t].deselect();
}, this.updateValidNodesAndConnectors = function(e) {
this.validConnections = !1;
for (var t = e.validConnectionTypes(), n = 0; n < this.nodes.length; ++n) {
var i = this.nodes[n];
i.setInvalid(!0);
for (var r = 0; r < i.inputConnectors.length; r++) {
var o = i.inputConnectors[r];
o.setInvalid(-1 === t.indexOf(o.data.type)), o.invalid() || i === e || o.connected() || (i.setInvalid(!1), this.validConnections = !0);
}
}
}, this.resetValidNodesAndConnectors = function() {
for (var e = 0; e < this.nodes.length; ++e) {
var t = this.nodes[e];
t.setInvalid(!1);
for (var n = 0; n < t.inputConnectors.length; n++) t.inputConnectors[n].setInvalid(!1);
}
}, this.removeOutputConnector = function(e) {
e.parentNode().removeOutputConnector(e.data);
}, this.updateSelectedNodesLocation = function(e, t) {
for (var n = this.getSelectedNodes(), i = 0; i < n.length; ++i) {
var r = n[i];
r.data.x += e, r.data.y += t;
}
}, this.handleNodeClicked = function(e, t) {
t ? e.toggleSelected() : (this.deselectAll(), e.select());
var n = this.nodes.indexOf(e);
if (-1 === n) throw new Error("Failed to find node in view model!");
this.nodes.splice(n, 1), this.nodes.push(e);
}, this.handleConnectionMouseDown = function(e, t) {
t ? e.toggleSelected() : (this.deselectAll(), e.select());
}, this.duplicateSelectedNode = function() {
var e = angular.copy(this.getSelectedNodes()[0]);
return delete e.data.outputConnectors, e.data;
}, this.deleteSelected = function() {
for (var e = [], t = [], n = [], i = 0; i < this.nodes.length; ++i) {
var r = this.nodes[i];
r.selected() ? n.push(r.data.id) : (e.push(r), t.push(r.data));
}
for (var o = [], a = [], s = 0; s < this.connections.length; ++s) {
var l = this.connections[s];
if (l.selected()) {
if (-1 === n.indexOf(l.data.source.nodeID)) {
var c = l.source;
if (!c) throw new Error("Failed to find source node of deleted connection!");
c._parentNode.removeOutputConnector(c.data);
var u = l.dest;
if (!u) throw new Error("Failed to find dest node of deleted connection!");
u.setConnected(!1);
}
} else -1 === n.indexOf(l.data.source.nodeID) && -1 === n.indexOf(l.data.dest.nodeID) && (o.push(l), a.push(l.data));
}
this.nodes = e, this.data.nodes = t, this.connections = o, this.data.connections = a;
}, this.applySelectionRect = function(e) {
this.deselectAll();
for (var t = 0; t < this.nodes.length; ++t) {
var n = this.nodes[t];
n.x() >= e.x && n.y() >= e.y && n.x() + n.width() <= e.x + e.width && n.y() + n.height() <= e.y + e.height && n.select();
}
for (t = 0; t < this.connections.length; ++t) {
var i = this.connections[t];
i.source.parentNode().selected() && i.dest.parentNode().selected() && i.select();
}
}, this.getSelectedNodes = function() {
for (var e = [], t = 0; t < this.nodes.length; ++t) {
var n = this.nodes[t];
n.selected() && e.push(n);
}
return e;
}, this.isOnlyOneNodeSelected = function() {
return 1 === this.getSelectedNodes().length;
}, this.areAnyNodesSelected = function() {
return this.getSelectedNodes().length > 0;
}, this.getSelectedConnections = function() {
for (var e = [], t = 0; t < this.connections.length; ++t) {
var n = this.connections[t];
n.selected() && e.push(n);
}
return e;
};
}, pfCanvas.ZoomViewModel = function() {
this.max = 1, this.min = parseFloat(".5"), this.inc = parseFloat(".25"), this.level = this.max, this.isMax = function() {
return this.level === this.max;
}, this.isMin = function() {
return this.level === this.min;
}, this.getBackgroundSize = function() {
return pfCanvas.defaultBgImageSize * this.getLevel();
}, this.getChartHeight = function() {
return pfCanvas.defaultHeight / this.min * this.getLevel();
}, this.getChartWidth = function() {
return pfCanvas.defaultWidth / this.min * this.getLevel();
}, this.getLevel = function() {
return this.level;
}, this.in = function() {
this.isMax() || (this.level = (10 * this.level + 10 * this.inc) / 10);
}, this.out = function() {
this.isMin() || (this.level = (10 * this.level - 10 * this.inc) / 10);
};
};
}(), function() {
"use strict";
angular.module("dragging", [ "mouseCapture" ]).factory("dragging", [ "mouseCapture", function(e) {
return {
startDrag: function(t, n) {
var i = !1, r = t.pageX, o = t.pageY;
e.acquire(t, {
mouseMove: function(e) {
i ? (n.dragging && n.dragging(e.pageX, e.pageY, e), r = e.pageX, o = e.pageY) : (Math.abs(e.pageX - r) > 5 || Math.abs(e.pageY - o) > 5) && (i = !0, n.dragStarted && n.dragStarted(r, o, e), n.dragging && n.dragging(e.pageX, e.pageY, e));
},
mouseUp: function(t) {
e.release(), t.stopPropagation(), t.preventDefault();
},
released: function() {
i ? n.dragEnded && n.dragEnded() : n.clicked && n.clicked();
}
}), t.stopPropagation(), t.preventDefault();
}
};
} ]);
}(), function() {
"use strict";
angular.module("mouseCapture", []).factory("mouseCapture", [ "$rootScope", function(e) {
var t = document, n = null, i = function(t) {
n && n.mouseMove && (n.mouseMove(t), e.$digest());
}, r = function(t) {
n && n.mouseUp && (n.mouseUp(t), e.$digest());
};
return {
registerElement: function(e) {
t = e;
},
acquire: function(e, o) {
this.release(), n = o, t.mousemove(i), t.mouseup(r);
},
release: function() {
n && (n.released && n.released(), n = null), t.unbind("mousemove", i), t.unbind("mouseup", r);
}
};
} ]).directive("mouseCapture", [ function() {
return {
restrict: "A",
controller: [ "$scope", "$element", "$attrs", "mouseCapture", function(e, t, n, i) {
i.registerElement(t);
} ]
};
} ]);
}(), function() {
"use strict";
angular.module("patternfly.canvas").component("nodeToolbar", {
templateUrl: "canvas-view/canvas/node-toolbar.html",
bindings: {
node: "=",
nodeActions: "=",
nodeClickHandler: "<",
nodeCloseHandler: "<"
},
controller: [ "$scope", function(e) {
var t = this;
t.selectedAction = "none", t.actionIconClicked = function(n) {
t.selectedAction = n, e.$emit("nodeActionClicked", {
action: n,
node: t.node
}), angular.isFunction(t.nodeClickHandler) && t.nodeClickHandler(n, t.node);
}, t.close = function() {
t.selectedAction = "none", e.$emit("nodeActionClosed"), angular.isFunction(t.nodeCloseHandler) && t.nodeCloseHandler();
};
} ]
});
}(), angular.module("patternfly.card").component("pfAggregateStatusCard", {
bindings: {
status: "=",
showTopBorder: "@?",
showSpinner: "<?",
spinnerText: "@?",
spinnerCardHeight: "@?",
altLayout: "@?",
layout: "@?"
},
templateUrl: "card/aggregate-status/aggregate-status-card.html",
controller: function() {
"use strict";
var e = this;
e.$onInit = function() {
e.shouldShowTopBorder = "true" === e.showTopBorder, e.isAltLayout = "true" === e.altLayout || "tall" === e.layout, e.isMiniLayout = "mini" === e.layout, e.showSpinner = !0 === e.showSpinner, e.spinnerCardHeight && (e.spinnerHeight = {
height: e.spinnerCardHeight
});
};
}
}), angular.module("patternfly.card").component("pfCard", {
transclude: !0,
templateUrl: "card/basic/card.html",
bindings: {
headTitle: "@",
subTitle: "@?",
showTopBorder: "@?",
showTitlesSeparator: "@?",
showSpinner: "<?",
spinnerText: "@?",
footer: "=?",
filter: "=?"
},
controller: function() {
"use strict";
var e = this;
e.filter && !e.currentFilter && (e.filter.defaultFilter ? e.currentFilter = e.filter.filters[e.filter.defaultFilter] : e.currentFilter = e.filter.filters[0]), e.footerCallBackFn = function() {
e.footerCallBackResult = e.footer.callBackFn();
}, e.filterCallBackFn = function(t) {
e.currentFilter = t, e.filter.callBackFn && (e.filterCallBackResult = e.filter.callBackFn(t));
}, e.showHeader = function() {
return e.headTitle || e.showFilterInHeader();
}, e.showFilterInHeader = function() {
return e.filter && e.filter.filters && e.filter.position && "header" === e.filter.position;
}, e.showFilterInFooter = function() {
return e.filter && e.filter.filters && (!e.filter.position || "footer" === e.filter.position);
}, e.$onInit = function() {
e.shouldShowTitlesSeparator = !e.showTitlesSeparator || "true" === e.showTitlesSeparator, e.showSpinner = !0 === e.showSpinner;
};
}
}), angular.module("patternfly.card").component("pfInfoStatusCard", {
bindings: {
status: "=",
showTopBorder: "@?",
showSpinner: "<?",
spinnerText: "@?",
spinnerCardHeight: "@?",
htmlContent: "@?"
},
templateUrl: "card/info-status/info-status-card.html",
controller: [ "$sce", function(e) {
"use strict";
var t = this;
t.$onInit = function() {
t.shouldShowTopBorder = "true" === t.showTopBorder, t.shouldShowHtmlContent = "true" === t.htmlContent, t.showSpinner = !0 === t.showSpinner, t.trustAsHtml = function(t) {
return e.trustAsHtml(t);
}, t.spinnerCardHeight && (t.spinnerHeight = {
height: t.spinnerCardHeight
});
};
} ]
}), function() {
"use strict";
var e = patternfly.c3ChartDefaults();
angular.module("patternfly.charts").constant("c3ChartDefaults", {
getDefaultColors: e.getDefaultColors,
getDefaultDonut: e.getDefaultDonut,
getDefaultDonutSize: e.getDefaultDonutSize,
getDefaultDonutColor: e.getDefaultDonutColors,
getDefaultDonutLegend: e.getDefaultDonutLegend,
getDefaultDonutConfig: e.getDefaultDonutConfig,
getDefaultSparklineArea: e.getDefaultSparklineArea,
getDefaultSparklineSize: e.getDefaultSparklineSize,
getDefaultSparklineAxis: e.getDefaultSparklineAxis,
getDefaultSparklineColor: e.getDefaultColors,
getDefaultSparklineLegend: e.getDefaultSparklineLegend,
getDefaultSparklinePoint: e.getDefaultSparklinePoint,
getDefaultSparklineTooltip: e.getDefaultSparklineTooltip,
getDefaultSparklineConfig: e.getDefaultSparklineConfig,
getDefaultLineConfig: e.getDefaultLineConfig
});
}(), function() {
"use strict";
angular.module("patternfly.charts").component("pfC3Chart", {
bindings: {
config: "<",
getChartCallback: "<"
},
template: '<div id=""></div>',
controller: [ "$timeout", "$attrs", function(e, t) {
var n, i, r = this;
r.generateChart = function() {
var o;
n = angular.copy(r.config), e(function() {
(o = r.config) && (o.bindto = "#" + t.id, !i || -1 !== t.id.indexOf("donutPctChart") && o.thresholds ? i = c3.generate(o) : i.load(r.config.data), r.getChartCallback && r.getChartCallback(i), n = angular.copy(r.config));
});
}, r.$doCheck = function() {
angular.equals(r.config, n) || r.generateChart();
};
} ]
});
}(), angular.module("patternfly.charts").component("pfDonutChart", {
bindings: {
config: "<",
data: "<",
chartHeight: "<?"
},
templateUrl: "charts/donut/donut-chart.html",
controller: [ "pfUtils", "$element", "$timeout", "$log", function(e, t, n, i) {
"use strict";
var r, o = this;
o.$onInit = function() {
o.donutChartId = "donutChart", o.config.chartId && (o.donutChartId = o.config.chartId + o.donutChartId), o.updateAll();
}, o.getDonutData = function() {
return {
type: "donut",
columns: o.data,
order: null,
colors: o.config.colors
};
}, o.updateAll = function() {
r = angular.copy(o.data), o.config = e.merge(patternfly.c3ChartDefaults().getDefaultDonutConfig(), o.config), o.config.tooltip = {
contents: patternfly.pfDonutTooltipContents
}, o.config.data = o.getDonutData(), o.config.data.onclick = o.config.onClickFn;
}, o.getTotal = function() {
var e = 0;
return angular.forEach(o.data, function(t) {
angular.forEach(t, function(t) {
isNaN(t) || (e += Number(t));
});
}), e;
}, o.getCenterLabelText = function() {
var e;
return e = {
bigText: o.getTotal(),
smText: o.config.donut.title
}, o.config.centerLabelFn && (e.bigText = o.config.centerLabelFn(), e.smText = ""), e;
}, o.setupDonutChartTitle = function() {
var e, t;
angular.isUndefined(o.chart) || (e = d3.select(o.chart.element).select("text.c3-chart-arcs-title")) && (t = o.getCenterLabelText(), e.text(""), t.bigText && !t.smText ? e.text(t.bigText) : (e.insert("tspan").text(t.bigText).classed("donut-title-big-pf", !0).attr("dy", 0).attr("x", 0), e.insert("tspan").text(t.smText).classed("donut-title-small-pf", !0).attr("dy", 20).attr("x", 0)));
}, o.setChart = function(e) {
o.chart = e, o.setupDonutChartTitle();
}, o.$onChanges = function(e) {
(e.config || e.data) && o.updateAll(), e.chartHeight && (o.config.size.height = e.chartHeight.currentValue);
}, o.$doCheck = function() {
angular.equals(o.data, r) || o.updateAll();
};
} ]
}), angular.module("patternfly.charts").component("pfDonutPctChart", {
bindings: {
config: "<",
data: "<",
tooltip: "<",
chartHeight: "<?",
centerLabel: "<?",
onThresholdChange: "&"
},
templateUrl: "charts/donut/donut-pct-chart.html",
controller: [ "pfUtils", "$scope", function(e, t) {
"use strict";
var n, i = this;
i.$id = t.$id, i.$onInit = function() {
i.donutChartId = "donutPctChart" + i.$id, i.config.chartId && (i.donutChartId = i.config.chartId + i.donutChartId), i.updateAll();
}, i.updateAvailable = function() {
i.data.available = i.data.total - i.data.used;
}, i.updatePercentage = function() {
i.data.percent = Math.round(i.data.used / i.data.total * 100);
}, i.getStatusColor = function(t, n) {
var r = "none", o = e.colorPalette.blue;
return n && (r = "ok", o = e.colorPalette.green, t >= n.error ? (r = "error", o = e.colorPalette.red) : t >= n.warning && (r = "warning", o = e.colorPalette.orange)), i.threshold && i.threshold === r || (i.threshold = r, i.onThresholdChange({
threshold: i.threshold
})), o;
}, i.statusDonutColor = function() {
var t, n;
return t = {
pattern: []
}, n = i.data.used / i.data.total * 100, t.pattern[0] = i.getStatusColor(n, i.config.thresholds), t.pattern[1] = e.colorPalette.black300, t;
}, i.donutTooltip = function() {
return {
contents: function(e) {
var t = '<span class="donut-tooltip-pf" style="white-space: nowrap;">' + Math.round(100 * e[0].ratio) + "% " + e[0].name + "</span>";
return i.config.tooltipFn ? t = '<span class="donut-tooltip-pf" style="white-space: nowrap;">' + i.config.tooltipFn(e) + "</span>" : "amount" === i.tooltip ? t = '<span class="donut-tooltip-pf" style="white-space: nowrap;">' + e[0].value + " " + i.config.units + " " + e[0].name + "</span>" : "both" === i.tooltip && (t = '<table class="c3-tooltip"><tbody><tr><td>' + e[0].value + " " + i.config.units + " " + e[0].name + "</td><td>" + Math.round(100 * e[0].ratio) + "%</td></tr></tbody></table>"), t;
}
};
}, i.getDonutData = function() {
return {
columns: [ [ "Used", i.data.used ], [ "Available", i.data.available ] ],
type: "donut",
donut: {
label: {
show: !1
}
},
groups: [ [ "used", "available" ] ],
order: null
};
}, i.getCenterLabelText = function() {
var e;
return e = {
bigText: i.data.used,
smText: i.config.units + " Used"
}, i.config.centerLabelFn ? (e.bigText = i.config.centerLabelFn(), e.smText = "") : "none" === i.centerLabel ? (e.bigText = "", e.smText = "") : "available" === i.centerLabel ? (e.bigText = i.data.available, e.smText = i.config.units + " Available") : "percent" === i.centerLabel && (e.bigText = Math.round(i.data.used / i.data.total * 100) + "%", e.smText = "of " + i.data.total + " " + i.config.units), e;
}, i.updateAll = function() {
n = angular.copy(i.data), i.config = e.merge(patternfly.c3ChartDefaults().getDefaultDonutConfig(), i.config), i.updateAvailable(), i.updatePercentage(), i.config.data = e.merge(i.config.data, i.getDonutData()), i.config.color = i.statusDonutColor(i), i.config.tooltip = i.donutTooltip(), i.config.data.onclick = i.config.onClickFn;
}, i.setupDonutChartTitle = function() {
var e, t;
angular.isUndefined(i.chart) || (e = d3.select(i.chart.element).select("text.c3-chart-arcs-title")) && (t = i.getCenterLabelText(), e.selectAll("*").remove(), t.bigText && !t.smText ? e.text(t.bigText) : (e.insert("tspan").text(t.bigText).classed("donut-title-big-pf", !0).attr("dy", 0).attr("x", 0), e.insert("tspan").text(t.smText).classed("donut-title-small-pf", !0).attr("dy", 20).attr("x", 0)));
}, i.setChart = function(e) {
i.chart = e, i.setupDonutChartTitle();
}, i.$onChanges = function(e) {
(e.config || e.data) && i.updateAll(), e.chartHeight && (i.config.size.height = e.chartHeight.currentValue), e.centerLabel && i.setupDonutChartTitle();
}, i.$doCheck = function() {
angular.equals(i.data, n) || i.updateAll();
};
} ]
}), angular.module("patternfly.charts").component("pfEmptyChart", {
bindings: {
chartHeight: "<?"
},
templateUrl: "charts/empty-chart.html",
controller: function() {
"use strict";
var e = this;
e.setSizeStyles = function() {
var t = e.chartHeight || 40, n = Math.min(Math.round((t - 40) / 2), 20);
e.sizeStyles = {
height: t + "px",
"padding-top": n + "px"
};
}, e.setSizeStyles(), e.$onChanges = function(t) {
t.chartHeight && e.setSizeStyles();
};
}
}), angular.module("patternfly.charts").component("pfHeatmapLegend", {
bindings: {
legend: "<?",
legendColors: "<?"
},
templateUrl: "charts/heatmap/heatmap-legend.html",
controller: function() {
"use strict";
var e = this, t = [ "#d4f0fa", "#F9D67A", "#EC7A08", "#CE0000" ], n = [ "< 70%", "70-80%", "80-90%", "> 90%" ];
e.$onInit = function() {
e.updateAll();
}, e.updateAll = function() {
var i, r = [];
for (e.legendColors || (e.legendColors = t), e.legend || (e.legend = n), i = e.legend.length - 1; i >= 0; i--) r.push({
text: e.legend[i],
color: e.legendColors[i]
});
e.legendItems = r;
}, e.$onChanges = function(t) {
t.legend && !t.legend.isFirstChange() && e.updateAll(), t.legendColors && !t.legendColors.isFirstChange() && e.updateAll();
};
}
}), angular.module("patternfly.charts").component("pfHeatmap", {
bindings: {
data: "<",
chartDataAvailable: "<?",
height: "<?",
chartTitle: "<?",
showLegend: "<?",
legendLabels: "<?",
maxBlockSize: "@",
minBlockSize: "@",
blockPadding: "@",
thresholds: "<?",
heatmapColorPattern: "<?",
clickAction: "<?",
rangeOnHover: "<?",
rangeHoverSize: "@",
rangeTooltips: "<?"
},
templateUrl: "charts/heatmap/heatmap.html",
controller: [ "$element", "$window", "$compile", "$scope", "$timeout", function(e, t, n, i, r) {
"use strict";
var o, a, s, l, c, u = this, d = [ .7, .8, .9 ], h = [ "#d4f0fa", "#F9D67A", "#EC7A08", "#CE0000" ], f = [ "< 70%", "70-80%", "80-90%", "> 90%" ], p = [ "< 70%", "70-80%", "80-90%", "> 90%" ], g = function() {
u.containerStyles = {
height: u.height + "px",
display: !1 === u.chartDataAvailable ? "none" : "block"
};
}, m = function() {
var t = e[0].querySelector(".heatmap-container");
a = t.clientWidth, s = t.clientHeight, (l = v()) - u.padding > u.maxSize ? (l = u.padding + u.maxSize, c = Math.ceil(Math.sqrt(u.data.length)), (l * c > a || l * c > s) && (c = 0 === l ? 0 : Math.floor(s / l))) : l - u.padding < u.minSize ? (l = u.padding + u.minSize, c = Math.ceil(Math.sqrt(u.data.length)), (l * c > a || l * c > s) && (c = 0 === l ? 0 : Math.floor(s / l))) : c = 0 === l ? 0 : Math.floor(s / l);
}, v = function() {
var e, t, n = a, i = s, r = u.data ? u.data.length : 0, o = Math.ceil(Math.sqrt(r * n / i)), l = Math.ceil(Math.sqrt(r * i / n));
return e = Math.floor(o * i / n) * o < r ? i / Math.ceil(o * i / n) : n / o, t = Math.floor(l * n / i) * l < r ? n / Math.ceil(n * l / i) : i / l, Math.max(e, t);
}, y = function() {
var e, t = u.data, r = d3.scale.threshold().domain(u.thresholds).range(u.heatmapColorPattern), o = d3.scale.threshold().domain(u.thresholds).range(u.rangeTooltips), a = l - u.padding, s = function(e, t) {
e.style("fill-opacity", t ? 1 : .4);
}, d = function(e, t) {
r(e.map(function(e) {
return e[0].__data__.value;
})) === t && e.style("fill-opacity", 1);
}, h = window.d3.select(u.thisComponent);
h.selectAll("*").remove(), (e = h.selectAll("rect").data(t).enter().append("rect")).attr("x", function(e, t) {
return Math.floor(t / c) * l;
}).attr("y", function(e, t) {
return t % c * l;
}).attr("width", a).attr("height", a).style("fill", function(e) {
return r(e.value);
}).attr("uib-tooltip-html", function(e, t) {
return u.rangeOnHover && a <= u.rangeHoverSize ? '"' + o(e.value) + '"' : "'" + e.tooltip + "'";
}).attr("tooltip-append-to-body", function(e, t) {
return !0;
}).attr("tooltip-animation", function(e, t) {
return !1;
}), e.on("mouseover", function() {
var t;
e.call(s, !1), u.rangeOnHover && a <= u.rangeHoverSize ? (t = r(d3.select(this).map(function(e) {
return e[0].__data__.value;
})), e[0].forEach(function(e) {
d(d3.select(e), t);
})) : d3.select(this).call(s, !0);
}), e.on("click", function(e) {
u.clickAction && u.clickAction(e);
}), angular.forEach(angular.element(e), function(e) {
var t = angular.element(e);
n(t)(i);
}), h.on("mouseleave", function() {
e.call(s, !0);
});
}, b = function() {
g(), !1 !== u.chartDataAvailable && u.data && (u.loadingDone = !0, r(function() {
m(), y();
}));
}, w = function() {
o = angular.copy(u.data), b();
}, C = _.debounce(function() {
b();
}, 250, 500), x = function() {
void 0 === u.maxBlockSize || isNaN(u.maxBlockSize) ? u.maxSize = 64 : (u.maxSize = parseInt(u.maxBlockSize), u.maxSize < 5 ? u.maxSize = 5 : u.maxSize > 50 && (u.maxSize = 50)), void 0 === u.minBlockSize || isNaN(u.minBlockSize) ? u.minSize = 2 : u.minSize = parseInt(u.minBlockSize), void 0 === u.blockPadding || isNaN(u.blockPadding) ? u.padding = 2 : u.padding = parseInt(u.blockPadding), void 0 === u.rangeHoverSize || isNaN(u.rangeHoverSize) ? u.rangeHoverSize = 15 : u.rangeHoverSize = parseInt(u.rangeHoverSize), u.rangeOnHover = !(void 0 !== u.rangeOnHover && !u.rangeOnHover), u.rangeTooltips || (u.rangeTooltips = p), u.thresholds || (u.thresholds = d), u.heatmapColorPattern || (u.heatmapColorPattern = h), u.legendLabels || (u.legendLabels = f), u.height = u.height || 200, u.showLegend = u.showLegend || void 0 === u.showLegend;
};
u.loadingDone = !1, u.$onChanges = function(e) {
e.chartDataAvailable && !e.chartDataAvailable.isFirstChange() ? g() : e.data || (x(), b());
}, u.$doCheck = function() {
angular.equals(u.data, o) || w();
}, u.$postLink = function() {
u.thisComponent = e[0].querySelector(".heatmap-pf-svg"), x(), w(), angular.element(t).on("resize", C);
}, u.$onDestroy = function() {
angular.element(t).off("resize", C);
};
} ]
}), angular.module("patternfly.charts").component("pfLineChart", {
bindings: {
config: "<",
chartData: "<",
showXAxis: "<?",
showYAxis: "<?",
setAreaChart: "<?"
},
templateUrl: "charts/line/line-chart.html",
controller: [ "pfUtils", function(e) {
"use strict";
var t, n = this;
n.updateAll = function() {
t = angular.copy(n.chartData), void 0 === n.lineChartId && (n.lineChartId = "lineChart", n.config.chartId && (n.lineChartId = n.config.chartId + n.lineChartId)), void 0 === n.showXAxis && (n.showXAxis = void 0 !== n.config.showAxis && n.config.showAxis), void 0 === n.showYAxis && (n.showYAxis = void 0 !== n.config.showAxis && n.config.showAxis), n.defaultConfig = patternfly.c3ChartDefaults().getDefaultLineConfig(), n.defaultConfig.axis = {
x: {
show: !0 === n.showXAxis,
type: "timeseries",
tick: {
format: function() {
return "";
}
}
},
y: {
show: !0 === n.showYAxis,
tick: {
format: function() {
return "";
}
}
}
}, void 0 === n.setAreaChart && (n.setAreaChart = void 0 !== n.config.setAreaChart && n.config.setAreaChart), n.config.data = n.getLineData(n.chartData), n.defaultConfig = e.merge(n.defaultConfig, n.config), n.chartConfig = e.merge(n.defaultConfig, n.config);
}, n.getLineData = function(e) {
var t = {
type: n.setAreaChart ? "area" : "line"
};
return e && !1 !== e.dataAvailable && e.xData && (t.x = e.xData[0], t.columns = Object.keys(e).map(function(t) {
return e[t];
})), t;
}, n.$onChanges = function(e) {
n.updateAll();
}, n.$doCheck = function() {
angular.equals(n.chartData, t) || n.updateAll();
};
} ]
}), angular.module("patternfly.charts").component("pfSparklineChart", {
bindings: {
config: "<",
chartData: "<",
chartHeight: "<?",
showXAxis: "<?",
showYAxis: "<?"
},
templateUrl: "charts/sparkline/sparkline-chart.html",
controller: [ "pfUtils", function(e) {
"use strict";
var t, n = this;
n.updateAll = function() {
t = angular.copy(n.chartData), void 0 === n.sparklineChartId && (n.sparklineChartId = "sparklineChart", n.config.chartId && (n.sparklineChartId = n.config.chartId + n.sparklineChartId)), void 0 === n.showXAxis && (n.showXAxis = void 0 !== n.config.showAxis && n.config.showAxis), void 0 === n.showYAxis && (n.showYAxis = void 0 !== n.config.showAxis && n.config.showAxis), n.defaultConfig = patternfly.c3ChartDefaults().getDefaultSparklineConfig(), n.defaultConfig.axis = {
x: {
show: !0 === n.showXAxis,
type: "timeseries",
tick: {
format: function() {
return "";
}
}
},
y: {
show: !0 === n.showYAxis,
tick: {
format: function() {
return "";
}
}
}
}, n.defaultConfig.tooltip = n.sparklineTooltip(), n.chartHeight && (n.defaultConfig.size.height = n.chartHeight), n.defaultConfig.units = "", n.config.data = e.merge(n.config.data, n.getSparklineData(n.chartData)), n.chartConfig = e.merge(n.defaultConfig, n.config);
}, n.getSparklineData = function(e) {
var t = {
type: "area"
};
return e && !1 !== e.dataAvailable && e.xData && e.yData && (t.x = e.xData[0], t.columns = [ e.xData, e.yData ]), t;
}, n.getTooltipTableHTML = function(e) {
return '<div class="module-triangle-bottom">  <table class="c3-tooltip">    <tbody>' + e + "    </tbody>  </table></div>";
}, n.sparklineTooltip = function() {
return {
contents: function(e) {
var t, i = 0;
if (n.config.tooltipFn) t = n.config.tooltipFn(e); else switch (n.config.tooltipType) {
case "usagePerDay":
!1 !== n.chartData.dataAvailable && n.chartData.total > 0 && (i = Math.round(e[0].value / n.chartData.total * 100)), t = '<tr>  <th colspan="2">' + e[0].x.toLocaleDateString() + '</th></tr><tr>  <td class="name">' + i + '%:</td>  <td class="value text-nowrap">' + e[0].value + " " + (n.config.units ? n.config.units + " " : "") + e[0].name + "</td></tr>";
break;

case "valuePerDay":
t = '<tr>  <td class="value">' + e[0].x.toLocaleDateString() + '</td>  <td class="value text-nowrap">' + e[0].value + " " + e[0].name + "</td></tr>";
break;

case "percentage":
t = '<tr>  <td class="name">' + (i = Math.round(e[0].value / n.chartData.total * 100)) + "%</td></tr>";
break;

default:
t = patternfly.c3ChartDefaults().getDefaultSparklineTooltip().contents(e);
}
return n.getTooltipTableHTML(t);
},
position: function(e, t, i, r) {
var o, a, s, l, c;
try {
return o = parseInt(r.getAttribute("x")), a = parseInt(r.getAttribute("y")), s = document.querySelector("#" + n.sparklineChartId).getBoundingClientRect(), l = document.querySelector("#" + n.sparklineChartId + " g.c3-axis-y").getBoundingClientRect().right, c = Math.max(0, o + l - s.left - Math.floor(t / 2)), {
top: a - i,
left: Math.min(c, s.width - t)
};
} catch (e) {}
}
};
}, n.$onChanges = function(e) {
n.updateAll();
}, n.$doCheck = function() {
angular.equals(n.chartData, t) || n.updateAll();
};
} ]
}), angular.module("patternfly.charts").component("pfTopology", {
bindings: {
items: "<",
relations: "<",
kinds: "<",
icons: "<",
selection: "<",
force: "<",
radius: "<",
nodes: "<",
searchText: "<?",
chartRendered: "&?",
itemSelected: "&?",
showLabels: "<?",
tooltipFunction: "&?"
},
controller: [ "$element", "$attrs", function(e, t) {
"use strict";
function n(e, t, n) {
function i(e) {
void 0 !== e && (x = e), h.selectAll("g").classed("selected", function(e) {
return e.item === x;
});
}
function r() {
u = null, l = g.node().clientWidth, c = g.node().clientHeight, $.size([ l, c ]), h.attr("viewBox", "0 0 " + l + " " + c), o();
}
function o() {
var e;
return (p = h.selectAll("line").data(w)).exit().remove(), p.enter().insert("line", ":first-child"), p.attr("class", function(e) {
return e.kinds;
}), (f = h.selectAll("g").data(_, function(e) {
return e.id;
})).exit().remove(), e = f.enter().append("g").call(d), i(x), $.nodes(_).links(w).start(), e;
}
function a() {
var e, t, n, i, r, a, s, u, d, h = _, f = C;
_ = [], w = [], C = {};
for (t in v) if (t) {
if (e = v[t], n = e.kind, m && !m[n]) continue;
(i = h[f[t]]) || (i = S[t], delete S[t], i || (i = {})), i.id = t, i.item = e, C[t] = _.length, _.push(i);
}
for (r = 0, a = y.length; r < a; r++) s = y[r], u = C[s.source], d = C[s.target], void 0 !== u && void 0 !== d && w.push({
source: u,
target: d,
kinds: _[u].item.kind + _[d].item.kind
});
return l && c ? o() : d3.select();
}
function s() {
window.clearTimeout(u), u = window.setTimeout(r, 1);
}
var l, c, u, d, h, f, p, g = d3.select(e), m = null, v = {}, y = [], b = 20, _ = [], w = [], C = {}, x = null, $ = n.force;
return n.radius && (b = n.radius), $ || ($ = d3.layout.force().charge(-800).gravity(.2).linkDistance(80)), d = $.drag(), h = g.append("svg").attr("viewBox", "0 0 1600 1200").attr("preserveAspectRatio", "xMidYMid meet").attr("class", "pf-topology-svg"), f = d3.select(), p = d3.select(), $.on("tick", function() {
p.attr("x1", function(e) {
return e.source.x;
}).attr("y1", function(e) {
return e.source.y;
}).attr("x2", function(e) {
return e.target.x;
}).attr("y2", function(e) {
return e.target.y;
}), f.attr("cx", function(e) {
return e.x = e.fixed ? e.x : Math.max(b, Math.min(l - b, e.x)), e.x;
}).attr("cy", function(e) {
return e.y = e.fixed ? e.y : Math.max(b, Math.min(c - b, e.y)), e.y;
}).attr("transform", function(e) {
return "translate(" + e.x + "," + e.y + ")";
});
}), d.on("dragstart", function(e) {
t(e.item), !0 !== e.fixed && (e.floatpoint = [ e.x, e.y ]), e.fixed = !0, d3.select(this).classed("fixed", !0);
}).on("dragend", function(e) {
var t = !0;
e.floatpoint && (t = e.x < e.floatpoint[0] - 5 || e.x > e.floatpoint[0] + 5 || e.y < e.floatpoint[1] - 5 || e.y > e.floatpoint[1] + 5, delete e.floatpoint), e.fixed = t && e.x > 3 && e.x < l - 3 && e.y >= 3 && e.y < c - 3, d3.select(this).classed("fixed", e.fixed);
}), h.on("dblclick", function() {
h.selectAll("g").classed("fixed", !1).each(function(e) {
e.fixed = !1;
}), $.start();
}).on("click", function(e) {
d3.select(d3.event.target).datum() || t(null);
}), window.addEventListener("resize", s), r(), s(), {
select: i,
kinds: function(e) {
var t;
return m = e, t = a(), [ f, t ];
},
data: function(e, t) {
var n;
return v = e || {}, y = t || [], n = a(), [ f, n ];
},
close: function() {
var e, t;
window.removeEventListener("resize", s), window.clearTimeout(u), S = {};
for (e in C) e && (delete (t = _[C[e]]).item, S[e] = t);
_ = [], C = {};
}
};
}
function i(e) {
var t = o(), n = t.selectAll("g");
"" !== e && (n.filter(function(t) {
return -1 === t.item.name.indexOf(e);
}).style("opacity", "0.2"), t.selectAll("line").style("opacity", "0.2"));
}
function r() {
x.showLabels ? C.selectAll("text.attached-label").classed("visible", !0) : C.selectAll("text.attached-label").classed("visible", !1);
}
function o() {
return d3.select("pf-topology").select("svg");
}
function a(e) {
x.itemSelected({
item: e
}), void 0 === t.selection && v.select(e);
}
function s(e) {
var t, n = e[0], i = e[1];
angular.isFunction(x.chartRendered) && (t = x.chartRendered({
vertices: n,
added: i
})), t && t.defaultPrevented || (i.attr("class", function(e) {
return e.item.kind;
}), i.append("circle").attr("r", function(e) {
return p(e).r;
}).attr("class", function(e) {
return g(e);
}).on("contextmenu", function(e) {
u(x, e);
}), i.append("title"), i.on("dblclick", function(e) {
return h(e);
}), i.append("image").attr("xlink:href", function(e) {
var t = x.icons[e.item.kind];
switch (t.type) {
case "image":
return t.icon;

case "glyph":
return null;
}
}).attr("height", function(e) {
return "image" !== x.icons[e.item.kind].type ? 0 : 40;
}).attr("width", function(e) {
return "image" !== x.icons[e.item.kind].type ? 0 : 40;
}).attr("y", function(e) {
return p(e).y;
}).attr("x", function(e) {
return p(e).x;
}).on("contextmenu", function(e) {
u(x, e);
}), i.append("text").each(function(e) {
var t = x.icons[e.item.kind];
"glyph" === t.type && d3.select(this).text(t.icon).attr("class", "glyph").attr("font-family", t.fontfamily);
}).attr("y", function(e) {
return p(e).y;
}).attr("x", function(e) {
return p(e).x;
}).on("contextmenu", function(e) {
u(this, e);
}), i.append("text").attr("x", 26).attr("y", 24).text(function(e) {
return e.item.name;
}).attr("class", function() {
return x.showLabels ? "attached-label visible" : "attached-label";
}), i.selectAll("title").text(function(e) {
return l(e).join("\n");
}), C = n), v.select();
}
function l(e) {
return x.tooltipFunction ? x.tooltipFunction({
node: e
}) : "Name: " + e.item.name;
}
function c() {
d3.event.preventDefault(), d3.select(".popup").remove(), w = !1;
}
function u(e, t) {
var n, i, r, o, a;
w ? c() : (d3.event.preventDefault(), r = d3.select("pf-topology"), o = d3.mouse(r.node()), (a = r.append("div").attr("class", "popup").style("left", o[0] + "px").style("top", o[1] + "px")).append("h5").text("Actions on " + t.item.kind), d(a, t), n = [ r.node().offsetWidth, r.node().offsetHeight ], (i = [ a.node().offsetWidth, a.node().offsetHeight ])[0] + o[0] > n[0] && (a.style("left", "auto"), a.style("right", 0)), i[1] + o[1] > n[1] && (a.style("top", "auto"), a.style("bottom", 0)), w = !w);
}
function d(e, t) {
if ("Tag" === t.item.kind) return !1;
f(e, "Go to summary page", t, h);
}
function h(e) {
window.location.assign(e.url);
}
function f(e, t, n, i) {
e.append("p").text(t).on("click", function() {
i(n);
});
}
function p(e) {
var t = x.nodes[e.item.kind], n = {
x: 0,
y: 9,
r: 17
};
return t && (t.textX && (n.x = t.textX), t.textY && (n.y = t.textY), t.radius && (n.r = t.radius)), n;
}
function g(e) {
switch (e.item.status.toLowerCase()) {
case "ok":
case "active":
case "available":
case "on":
case "ready":
case "running":
case "succeeded":
case "valid":
return "success";

case "notready":
case "failed":
case "error":
case "unreachable":
return "error";

case "warning":
case "waiting":
case "pending":
return "warning";

case "unknown":
case "terminated":
return "unknown";
}
}
var m, v, y, b, _, w, C, x = this, S = {};
x.$onInit = function() {
e.css("display", "block"), m = {
force: x.force,
radius: x.radius
}, x.showLabels = !1, e.on("$destroy", function() {
v.close();
}), d3.select("body").on("click", function() {
w && c();
});
}, x.$onChanges = function(e) {
e.searchText && v && i(e.searchText.currentValue), e.showLabels && C && r(), e.selection && v && v.select(e.selection.currentValue || null);
}, x.$doCheck = function() {
v && (angular.equals(x.kinds, _) || (_ = angular.copy(x.kinds), s(v.kinds(x.kinds))), angular.equals(x.items, y) && angular.equals(x.relations, b) || (y = angular.copy(x.items), b = angular.copy(x.relations), s(v.data(x.items, x.relations))));
}, x.$postLink = function() {
m = {
force: x.force,
radius: x.radius
}, v = n(e[0], a, m);
};
} ]
}), angular.module("patternfly.charts").component("pfTrendsChart", {
bindings: {
config: "<",
chartData: "<",
chartHeight: "<?",
showXAxis: "<?",
showYAxis: "<?"
},
templateUrl: "charts/trends/trends-chart.html",
controller: [ "pfUtils", function(e) {
"use strict";
var t, n, i = this;
i.updateAll = function() {
t = angular.copy(i.chartData), n = angular.copy(i.config), i.showLargeCardLayout = !i.config.layout || "large" === i.config.layout, i.showSmallCardLayout = "small" === i.config.layout, i.showActualValue = !i.config.valueType || "actual" === i.config.valueType, i.showPercentageValue = "percentage" === i.config.valueType;
}, i.getPercentageValue = function() {
var e = 0;
return !1 !== i.chartData.dataAvailable && i.chartData.total > 0 && (e = Math.round(i.getLatestValue() / i.chartData.total * 100)), e;
}, i.getLatestValue = function() {
var e = 0;
return i.chartData.yData && i.chartData.yData.length > 0 && (e = i.chartData.yData[i.chartData.yData.length - 1]), e;
}, i.getChartHeight = function() {
var e = 60;
return i.chartHeight ? e = i.chartHeight : "small" === i.config.layout && (e = 30), e;
}, i.$onChanges = function(e) {
i.updateAll();
}, i.$doCheck = function() {
angular.equals(i.chartData, t) && angular.equals(i.config, n) || i.updateAll();
};
} ]
}), angular.module("patternfly.charts").component("pfUtilizationBarChart", {
bindings: {
chartData: "=",
chartTitle: "=",
chartFooter: "=",
units: "=",
thresholdError: "=?",
thresholdWarning: "=?",
footerLabelFormat: "@?",
layout: "=?",
usedTooltipFunction: "&?",
availableTooltipFunction: "&?"
},
templateUrl: "charts/utilization-bar/utilization-bar-chart.html",
controller: [ "$timeout", function(e) {
"use strict";
var t, n, i = this;
i.updateAll = function() {
t = angular.copy(i.chartData), n = angular.copy(i.layout), i.chartData && (!isNaN(i.chartData.used) && !isNaN(i.chartData.total) && i.chartData.total > 0 ? i.chartData.percentageUsed = Math.round(i.chartData.used / i.chartData.total * 100) : i.chartData.percentageUsed = 0, (i.thresholdError || i.thresholdWarning) && (i.isError = i.chartData.percentageUsed >= i.thresholdError, i.isWarn = i.chartData.percentageUsed >= i.thresholdWarning && i.chartData.percentageUsed < i.thresholdError, i.isOk = i.chartData.percentageUsed < i.thresholdWarning), i.animate = !0, e(function() {
i.animate = !1;
}, 0));
}, i.$onChanges = function(e) {
i.updateAll();
}, i.$doCheck = function() {
angular.equals(i.chartData, t) && angular.equals(i.layout, n) || i.updateAll();
}, i.usedTooltipMessage = function() {
return i.usedTooltipFunction ? i.usedTooltipFunction() : _.get(i.chartData, "percentageUsed", "N/A") + "% Used";
}, i.availableTooltipMessage = function() {
return i.availableTooltipFunction ? i.availableTooltipFunction() : 100 - _.get(i.chartData, "percentageUsed", 0) + "% Available";
};
} ]
}), angular.module("patternfly.charts").component("pfUtilizationTrendChart", {
bindings: {
chartData: "<",
config: "<",
centerLabel: "<?",
donutConfig: "<",
sparklineConfig: "<",
sparklineChartHeight: "<?",
showSparklineXAxis: "<?",
showSparklineYAxis: "<?"
},
templateUrl: "charts/utilization-trend/utilization-trend-chart.html",
controller: [ "pfUtils", function(e) {
"use strict";
var t, n, i = this;
i.updateAll = function() {
t = angular.copy(i.chartData), n = angular.copy(i.config), void 0 === i.centerLabel && (i.centerLabel = "used"), void 0 === i.donutConfig.units && (i.donutConfig.units = i.config.units), void 0 === i.chartData.available && (i.chartData.available = i.chartData.total - i.chartData.used), i.config.units = i.config.units || i.units, "available" === i.centerLabel ? (i.currentValue = i.chartData.used, i.currentText = "Used") : (i.currentValue = i.chartData.total - i.chartData.used, i.currentText = "Available");
}, i.$onChanges = function(e) {
i.updateAll();
}, i.$doCheck = function() {
angular.equals(i.chartData, t) && angular.equals(i.config, n) || i.updateAll();
};
} ]
}), angular.module("patternfly.filters").component("pfFilterPanel", {
bindings: {
config: "="
},
transclude: !0,
templateUrl: "filters/filter-panel/filter-panel.html",
controller: function() {
"use strict";
}
}), angular.module("patternfly.filters").component("pfFilterPanelResults", {
bindings: {
config: "="
},
templateUrl: "filters/filter-panel/filter-panel-results.html",
controller: function() {
"use strict";
function e() {
i.config.appliedFilters || (i.config.appliedFilters = []), void 0 === i.config.resultsCount && (i.config.resultsCount = 0);
}
function t(e, t) {
var n = e.id;
_.pull(e.values, t), 0 === e.values.length && _.pull(i.config.appliedFilters, e), i.config.onFilterChange && i.config.onFilterChange(i.config.appliedFilters, n, t);
}
function n() {
i.config.appliedFilters = [], i.config.onFilterChange && i.config.onFilterChange(i.config.appliedFilters);
}
var i = this;
i.$onInit = function() {
angular.extend(i, {
clearFilter: t,
clearAllFilters: n
});
}, i.$onChanges = function() {
e();
};
}
}), angular.module("patternfly.filters").component("pfFilter", {
bindings: {
config: "="
},
templateUrl: "filters/simple-filter/filter.html",
controller: function() {
"use strict";
function e(e) {
return angular.isDefined(_.find(r.config.appliedFilters, {
title: e.title,
value: e.value
}));
}
function t(e) {
return e.value.filterCategory;
}
function n(e) {
_.remove(r.config.appliedFilters, {
title: e.title
});
}
function i(i, o) {
var a = {
id: i.id,
title: i.title,
type: i.filterType,
value: o
};
e(a) || ("select" === a.type && n(a), "complex-select" !== i.filterType || i.filterMultiselect || _.remove(r.config.appliedFilters, t), r.config.appliedFilters.push(a), r.config.onFilterChange && r.config.onFilterChange(r.config.appliedFilters));
}
var r = this;
r.$onInit = function() {
angular.extend(r, {
addFilter: i
});
};
}
}), angular.module("patternfly.filters").component("pfFilterFields", {
bindings: {
config: "=",
addFilterFn: "<"
},
templateUrl: "filters/simple-filter/filter-fields.html",
controller: function() {
"use strict";
function e(e) {
o.currentField = e, o.currentField.filterDelimiter = o.currentField.filterDelimiter || " ", o.currentValue = null;
}
function t(e, t) {
if (angular.isDefined(e)) if ("complex-select" === o.currentField.filterType) {
switch (t) {
case "filter-category":
o.filterCategory = e, o.filterValue = null;
break;

case "filter-value":
o.filterValue = e;
}
o.filterCategory && o.filterValue && o.addFilterFn(o.currentField, {
filterCategory: o.filterCategory,
filterDelimiter: o.currentField.filterDelimiter,
filterValue: o.filterValue
});
} else o.addFilterFn(o.currentField, e), o.currentValue = e;
}
function n(e) {
13 === e.which && o.currentValue && o.currentValue.length > 0 && (o.addFilterFn(o.currentField, o.currentValue), o.currentValue = void 0, e.stopPropagation(), e.preventDefault());
}
function i() {
var e = !1;
r = angular.copy(o.config), void 0 === o.config.fields && (o.config.fields = []), o.currentField && (e = _.find(o.config.fields, function(e) {
return e.id === o.currentField.id;
})), e || (o.currentField = o.config.fields[0], o.currentValue = null), void 0 === o.currentValue && (o.currentValue = null);
}
var r, o = this;
o.$onInit = function() {
angular.extend(o, {
selectField: e,
selectValue: t,
onValueKeyPress: n
});
}, o.$onChanges = function() {
i();
}, o.$doCheck = function() {
angular.equals(o.config, r) || i();
};
}
}), angular.module("patternfly.filters").component("pfFilterResults", {
bindings: {
config: "="
},
templateUrl: "filters/simple-filter/filter-results.html",
controller: function() {
"use strict";
function e() {
i = angular.copy(r.config), r.config.appliedFilters || (r.config.appliedFilters = []), void 0 === r.config.resultsCount && (r.config.resultsCount = 0), r.config.itemsLabel = r.config.itemsLabel || "Result", r.config.itemsLabelPlural = r.config.itemsLabelPlural || "Results";
}
function t(e) {
var t = [];
r.config.appliedFilters.forEach(function(n) {
e.title === n.title && e.value === n.value || t.push(n);
}), r.config.appliedFilters = t, r.config.onFilterChange && r.config.onFilterChange(r.config.appliedFilters);
}
function n() {
r.config.appliedFilters = [], r.config.onFilterChange && r.config.onFilterChange(r.config.appliedFilters);
}
var i, r = this;
r.$onInit = function() {
angular.extend(r, {
clearFilter: t,
clearAllFilters: n
});
}, r.$onChanges = function() {
e();
}, r.$doCheck = function() {
angular.equals(r.config, i) || e();
};
}
}), angular.module("patternfly.form").component("pfFormButtons", {
bindings: {
pfHandleCancel: "&pfOnCancel",
pfHandleSave: "&pfOnSave",
pfWorking: "=",
pfButtonContainerClass: "@"
},
require: {
form: "^form"
},
templateUrl: "form/form-buttons/form-buttons.html",
controller: function() {
"use strict";
function e() {
var e = t.form.$invalid;
return t.form && t.form.name && t.form.name.$error && t.form.name.$error.server && (e = !1), e;
}
var t = this;
t.$onInit = function() {
void 0 === t.pfWorking && (t.pfWorking = !1), angular.extend(t, {
isInvalid: e
});
};
}
}), angular.module("patternfly.form").component("pfFormGroup", {
bindings: {
pfLabel: "@",
pfField: "@",
pfLabelClass: "@",
pfInputClass: "@"
},
require: {
form: "^form"
},
transclude: !0,
templateUrl: "form/form-group/form-group.html",
controller: [ "$element", function(e) {
"use strict";
function t() {
return i.form[i.pfField] && i.form[i.pfField].$invalid && i.form[i.pfField].$dirty;
}
function n(e) {
var t = e.find("table");
return 0 === t.length && 0 === (t = e.find("input")).length && 0 === (t = e.find("select")).length && (t = e.find("textarea")), t;
}
var i = this;
i.$onInit = function() {
angular.extend(i, {
hasErrors: t
});
}, i.$postLink = function() {
var t = n(e), r = t.attr("type");
-1 === [ "checkbox", "radio", "time" ].indexOf(r) && t.addClass("form-control"), i.pfField || (i.pfField = t.attr("id")), t.attr("required") && e.addClass("required"), i.form[i.pfField] && (i.error = i.form[i.pfField].$error);
};
} ]
}), angular.module("patternfly.form").directive("pfRemainingCharsCount", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
require: "ngModel",
scope: {
ngModel: "="
},
link: function(e, t, n) {
var i = n.charsMaxLimit, r = n.charsWarnRemaining, o = angular.element(document.getElementById(n.countFld)), a = "true" === n.blockInputAtMaxLimit, s = function() {
var t = e.ngModel.length, s = i - t;
a && t > i && (e.ngModel = e.ngModel.substring(0, i), t = e.ngModel.length, s = i - t), e.remainingChars = s, e.remainingCharsWarning = s <= r, o.text(s), o.toggleClass("chars-warn-remaining-pf", s <= r), s < 0 ? e.$emit("overCharsMaxLimit", n.id) : e.$emit("underCharsMaxLimit", n.id);
};
e.$watch("ngModel", function() {
s();
}), t.on("keypress", function(e) {
a && t.val().length >= i && 8 !== e.keyCode && e.preventDefault();
});
}
};
} ]), angular.module("patternfly.modals").directive("pfAboutModalTransclude", [ "$parse", function(e) {
"use strict";
return {
link: function(t, n, i) {
n.append(e(i.pfAboutModalTransclude)(t));
}
};
} ]).component("pfModalContent", {
templateUrl: "about-modal-template.html",
bindings: {
resolve: "<",
close: "&",
dismiss: "&"
},
controller: function() {
"use strict";
var e = this;
e.$onInit = function() {
e.additionalInfo = e.resolve.additionalInfo, e.copyright = e.resolve.copyright, e.imgAlt = e.resolve.imgAlt, e.imgSrc = e.resolve.imgSrc, e.isOpen = e.resolve.isOpen, e.productInfo = e.resolve.productInfo, e.title = e.resolve.title, e.template = e.resolve.content;
};
}
}).component("pfAboutModal", {
bindings: {
additionalInfo: "=?",
copyright: "=?",
close: "&onClose",
imgAlt: "=?",
imgSrc: "=?",
isOpen: "<?",
productInfo: "=",
title: "=?"
},
templateUrl: "modals/about-modal.html",
transclude: !0,
controller: [ "$uibModal", "$transclude", function(e, t) {
"use strict";
var n = this;
n.openModal = function() {
e.open({
component: "pfModalContent",
resolve: {
content: function() {
var e;
return t(function(t) {
e = t;
}), e;
},
additionalInfo: function() {
return n.additionalInfo;
},
copyright: function() {
return n.copyright;
},
close: function() {
return n.close;
},
imgAlt: function() {
return n.imgAlt;
},
imgSrc: function() {
return n.imgSrc;
},
isOpen: function() {
return n.isOpen;
},
productInfo: function() {
return n.productInfo;
},
title: function() {
return n.title;
}
}
}).result.then(function() {
n.close();
}, function() {
n.close();
});
}, n.$onInit = function() {
void 0 === n.isOpen && (n.isOpen = !1);
}, n.$onChanges = function(e) {
e.isOpen && !0 === e.isOpen.currentValue && n.openModal();
};
} ]
}), angular.module("patternfly.navigation").component("pfApplicationLauncher", {
bindings: {
items: "<",
label: "@?",
isDisabled: "<?",
isList: "<?",
hiddenIcons: "<?"
},
templateUrl: "navigation/application-launcher.html",
controller: [ "$scope", function(e) {
"use strict";
this.$id = e.$id;
} ]
}), angular.module("patternfly.navigation").component("pfVerticalNavigation", {
bindings: {
brandSrc: "@",
brandAlt: "@",
showBadges: "@",
persistentSecondary: "@",
pinnableMenus: "@",
hiddenIcons: "@",
items: "=",
navigateCallback: "=?",
itemClickCallback: "=?",
updateActiveItemsOnClick: "@",
ignoreMobile: "@"
},
templateUrl: "navigation/vertical-navigation.html",
transclude: !0,
controller: [ "$window", "$timeout", "$injector", "$location", "$rootScope", function(e, t, n, i, r) {
"use strict";
var o, a, s = this, l = !1, c = function() {
return angular.element(document.querySelector(".container-pf-nav-pf-vertical"));
}, u = function() {
var e = c();
s.showBadges && e.addClass("nav-pf-vertical-with-badges"), s.persistentSecondary && e.addClass("nav-pf-persistent-secondary"), s.hiddenIcons && e.addClass("hidden-icons-pf");
}, d = function(e, t) {
s.items.forEach(function(e) {
e.isMobileItem = !1, e.children && e.children.forEach(function(e) {
e.isMobileItem = !1;
});
}), e ? (e.isMobileItem = !0, t ? (t.isMobileItem = !0, s.showMobileSecondary = !1, s.showMobileTertiary = !0) : (s.showMobileSecondary = !0, s.showMobileTertiary = !1)) : (s.showMobileSecondary = !1, s.showMobileTertiary = !1);
}, h = function() {
var t = e.innerWidth, n = c();
!s.ignoreMobile && t < patternfly.pfBreakpoints.tablet ? s.inMobileState || (s.inMobileState = !0, n.removeClass("collapsed-nav"), n.addClass("hidden-nav"), x(!1), S(!1), l = !1) : (s.inMobileState = !1, s.showMobileNav = !1, n.removeClass("hidden-nav")), l ? (s.navCollapsed = !0, n.addClass("collapsed-nav")) : (s.navCollapsed = !1, n.removeClass("collapsed-nav"));
}, f = function() {
var e = c();
s.navCollapsed = !0, e.addClass("collapsed-nav"), l = !0;
}, p = function() {
var t = c();
s.navCollapsed = !1, t.removeClass("collapsed-nav"), l = !1, angular.element(e).triggerHandler("resize");
}, g = function() {
s.forceHidden = !0, t(function() {
s.forceHidden = !1;
}, 500);
}, m = function(e) {
s.items.forEach(function(t) {
t.children && t.children.forEach(function(n) {
n === e && (t.isActive = !0), n.children && n.children.forEach(function(i) {
i === e && (t.isActive = !0, n.isActive = !0);
});
});
});
}, v = function(e) {
return !e.children || e.children.length < 1 ? e : v(e.children[0]);
}, y = function() {
var e = c();
s.activeSecondary = !1, s.persistentSecondary && !s.inMobileState && (s.items.forEach(function(e) {
e.children && e.children.forEach(function(e) {
e.isActive && (s.activeSecondary = !0);
});
}), s.activeSecondary ? e.addClass("secondary-visible-pf") : e.removeClass("secondary-visible-pf"));
}, b = function(e) {
var t, n = v(e);
if (n) {
if (s.showMobileNav = !1, n.uiSref && n.href) throw new Error("Using both uiSref and href on an item is not supported.");
if (n.uiSref) {
if (void 0 === a) throw new Error('uiSref is defined on item, but no $state has been injected. Did you declare a dependency on "ui.router" module in your app?');
a.go(n.uiSref, n.uiSrefOptions);
} else (t = n.href) && (t.startsWith("#/") && (t = t.substring(2)), i.path(t));
s.navigateCallback && s.navigateCallback(n);
}
s.itemClickCallback && s.itemClickCallback(e), s.updateActiveItemsOnClick && (s.clearActiveItems(), n.isActive = !0, m(n), y()), y();
}, w = function() {
var e = !1;
return s.items.forEach(function(t) {
t.isHover && (e = !0);
}), e;
}, C = function() {
var e = !1;
return s.items.forEach(function(t) {
t.children && t.children.length > 0 && t.children.forEach(function(t) {
t.isHover && (e = !0);
});
}), e;
}, x = function(e, t) {
var n = c();
t && (t.secondaryCollapsed = e), e ? (s.collapsedSecondaryNav = !0, n.addClass("collapsed-secondary-nav-pf")) : (s.items && s.items.forEach(function(e) {
e.secondaryCollasped = !1;
}), s.collapsedSecondaryNav = !1, n.removeClass("collapsed-secondary-nav-pf"));
}, S = function(e, t) {
var n = c();
t && (t.tertiaryCollapsed = e), e ? (s.collapsedTertiaryNav = !0, n.addClass("collapsed-tertiary-nav-pf"), x(!1)) : (s.items && s.items.forEach(function(e) {
e.children && e.children.length > 0 && e.children.forEach(function(e) {
e.tertiaryCollasped = !1;
});
}), s.collapsedTertiaryNav = !1, n.removeClass("collapsed-tertiary-nav-pf"));
};
s.showBadges = "true" === s.showBadges, s.persistentSecondary = "true" === s.persistentSecondary, s.pinnableMenus = "true" === s.pinnableMenus, s.hiddenIcons = "true" === s.hiddenIcons, s.updateActiveItemsOnClick = "true" === s.updateActiveItemsOnClick, s.ignoreMobile = "true" === s.ignoreMobile, s.activeSecondary = !1, s.showMobileNav = !1, s.showMobileSecondary = !1, s.showMobileTertiary = !1, s.hoverSecondaryNav = !1, s.hoverTertiaryNav = !1, s.collapsedSecondaryNav = !1, s.collapsedTertiaryNav = !1, s.navCollapsed = !1, s.forceHidden = !1, s.clearActiveItems = function() {
s.items.forEach(function(e) {
e.isActive = !1, e.children && e.children.forEach(function(e) {
e.isActive = !1, e.children && e.children.forEach(function(e) {
e.isActive = !1;
});
});
});
}, s.setActiveItems = function() {
var e = "#" + i.path();
s.items.forEach(function(t) {
e.indexOf(t.href) > -1 && (t.isActive = !0), t.children && t.children.forEach(function(n) {
e.indexOf(n.href) > -1 && (n.isActive = !0, t.isActive = !0), n.children && n.children.forEach(function(i) {
e.indexOf(i.href) > -1 && (i.isActive = !0, n.isActive = !0, t.isActive = !0);
});
});
});
}, s.handleNavBarToggleClick = function() {
s.inMobileState ? s.showMobileNav ? s.showMobileNav = !1 : (d(), s.showMobileNav = !0) : s.navCollapsed ? p() : f();
}, s.handlePrimaryClick = function(e, t) {
s.inMobileState ? e.children && e.children.length > 0 ? d(e) : (d(), b(e)) : b(e);
}, s.handleSecondaryClick = function(e, t, n) {
s.inMobileState ? t.children && t.children.length > 0 ? d(e, t) : (d(), b(t)) : b(t);
}, s.handleTertiaryClick = function(e, t, n, i) {
s.inMobileState && d(), b(n);
}, s.handlePrimaryHover = function(e) {
e.children && e.children.length > 0 && (s.inMobileState || (void 0 !== e.navUnHoverTimeout ? (t.cancel(e.navUnHoverTimeout), e.navUnHoverTimeout = void 0) : void 0 !== s.navHoverTimeout || e.isHover || (e.navHoverTimeout = t(function() {
s.hoverSecondaryNav = !0, e.isHover = !0, e.navHoverTimeout = void 0;
}, 500))));
}, s.handlePrimaryUnHover = function(e) {
e.children && e.children.length > 0 && (void 0 !== e.navHoverTimeout ? (t.cancel(e.navHoverTimeout), e.navHoverTimeout = void 0) : void 0 === e.navUnHoverTimeout && e.isHover && (e.navUnHoverTimeout = t(function() {
e.isHover = !1, w() || (s.hoverSecondaryNav = !1), e.navUnHoverTimeout = void 0;
}, 700)));
}, s.handleSecondaryHover = function(e) {
e.children && e.children.length > 0 && (s.inMobileState || (void 0 !== e.navUnHoverTimeout ? (t.cancel(e.navUnHoverTimeout), e.navUnHoverTimeout = void 0) : void 0 === s.navHoverTimeout && (e.navHoverTimeout = t(function() {
s.hoverTertiaryNav = !0, e.isHover = !0, e.navHoverTimeout = void 0;
}, 500))));
}, s.handleSecondaryUnHover = function(e) {
e.children && e.children.length > 0 && (void 0 !== e.navHoverTimeout ? (t.cancel(e.navHoverTimeout), e.navHoverTimeout = void 0) : void 0 === e.navUnHoverTimeout && (e.navUnHoverTimeout = t(function() {
e.isHover = !1, C() || (s.hoverTertiaryNav = !1), e.navUnHoverTimeout = void 0;
}, 700)));
}, s.collapseSecondaryNav = function(e, t) {
s.inMobileState ? d() : e.secondaryCollapsed ? (x(!1, e), g()) : x(!0, e), s.hoverSecondaryNav = !1, t.stopImmediatePropagation();
}, s.collapseTertiaryNav = function(e, t) {
s.inMobileState ? s.items.forEach(function(t) {
t.children && t.children.forEach(function(n) {
n === e && d(t);
});
}) : e.tertiaryCollapsed ? (S(!1, e), g()) : S(!0, e), s.hoverSecondaryNav = !1, s.hoverTertiaryNav = !1, t.stopImmediatePropagation();
}, s.$onInit = function() {
n.has("$state") && (a = n.get("$state")), s.updateActiveItemsOnClick || r && (o = r.$on("$routeChangeSuccess", function(e, t, n) {
s.clearActiveItems(), s.setActiveItems();
})), u(), h(), angular.element(e).on("resize", function() {
h();
});
}, s.$onDestroy = function() {
_.isFunction(o) && o();
};
} ]
}), angular.module("patternfly.notification").component("pfInlineNotification", {
bindings: {
pfNotificationType: "=",
pfNotificationMessage: "=",
pfNotificationHeader: "=",
pfNotificationPersistent: "=",
pfNotificationIndex: "=",
pfNotificationRemove: "&?"
},
templateUrl: "notification/inline-notification.html"
}), angular.module("patternfly.notification").component("pfNotificationDrawer", {
bindings: {
drawerHidden: "<",
allowExpand: "=?",
drawerExpanded: "=?",
drawerTitle: "@",
notificationGroups: "<",
notificationTrackField: "@",
onClose: "=?",
showMarkAllRead: "<?",
onMarkAllRead: "=?",
showClearAll: "<?",
onClearAll: "=?",
actionButtonTitle: "@",
actionButtonCallback: "=?",
titleInclude: "@",
headingInclude: "@",
subheadingInclude: "@",
notificationBodyInclude: "@",
notificationFooterInclude: "@",
noNotificationsText: "@",
customScope: "=?"
},
templateUrl: "notification/notification-drawer.html",
controller: [ "$window", "$timeout", "$element", function(e, t, n) {
"use strict";
var i = this, r = function() {
var e = !1;
angular.isDefined(_.get(i.notificationGroups, "notifications")) && (i.notificationGroups = [ i.notificationGroups ]), i.singleGroup = _.size(i.notificationGroups) < 2, angular.forEach(i.notificationGroups, function(e) {
e.emptyStateConfig = {
icon: "pficon-info",
title: e.noNotificationsText || i.noNotificationsText || "There are no notifications to display."
};
}), angular.forEach(i.notificationGroups, function(t) {
t.open && (e ? t.open = !1 : e = !0);
});
}, o = function() {
t(function() {
angular.element(e).triggerHandler("resize");
}, 100);
};
i.toggleCollapse = function(e) {
e.open ? e.open = !1 : (angular.forEach(i.notificationGroups, function(e) {
e.open = !1;
}), e.open = !0, o());
}, i.toggleExpandDrawer = function() {
i.drawerExpanded = !i.drawerExpanded;
}, i.$onInit = function() {
i.allowExpand && !angular.isUndefined(i.drawerExpanded) || (i.drawerExpanded = !1), i.emptyStateConfig = {
icon: "pficon-info",
title: i.noNotificationsText || "There are no notifications to display."
}, r();
}, i.$onChanges = function(e) {
e.notificationGroups && (r(), o()), !i.drawerHidden && (e.drawerHidden || e.showMarkAllRead || e.showClearAll || e.actionButtonTitle || e.titleInclude || e.headingInclude || e.subheadingInclude || e.notificationBodyInclude || e.notificationFooterInclude) && o();
}, i.$postLink = function() {
i.groupHeight && n.find(".panel-group").css("height", i.groupHeight), i.groupClass && n.find(".panel-group").addClass(i.groupClass);
}, i.hasNotifications = function(e) {
return _.size(_.get(e, "notifications")) > 0;
}, i.hasUnread = function(e) {
return _.size(_.filter(_.get(e, "notifications"), {
unread: !0
})) > 0;
};
} ]
}), angular.module("patternfly.notification").provider("Notifications", function() {
"use strict";
this.delay = 8e3, this.verbose = !0, this.notifications = {}, this.notifications.data = [], this.persist = {
error: !0,
httpError: !0
}, this.setDelay = function(e) {
return this.delay = e, this;
}, this.setVerbose = function(e) {
return this.verbose = e, this;
}, this.setPersist = function(e) {
this.persist = e;
}, this.$get = [ "$timeout", "$log", function(e, t) {
function n(e) {
return function(n, i, l, c, u, d, h) {
angular.isUndefined(i) && (i = s[e].header), angular.isUndefined(l) && (l = a[e]), r.message(s[e].type, i, n, l, c, u, d, h), o && t[s[e].log](n);
};
}
var i = this.delay, r = this.notifications, o = this.verbose, a = this.persist, s = {
info: {
type: "info",
header: "Info!",
log: "info"
},
success: {
type: "success",
header: "Success!",
log: "info"
},
error: {
type: "danger",
header: "Error!",
log: "error"
},
warn: {
type: "warning",
header: "Warning!",
log: "warn"
}
};
return r || (r.data = []), r.message = function(t, n, o, a, s, l, c, u) {
var d = {
type: t,
header: n,
message: o,
isPersistent: a,
closeCallback: s,
actionTitle: l,
actionCallback: c,
menuActions: u
};
d.show = !0, r.data.push(d), d.isPersistent || (d.viewing = !1, e(function() {
d.show = !1, d.viewing || r.remove(d);
}, i));
}, angular.forEach(s, function(e, t) {
r[t] = n(t);
}), r.httpError = function(e, n) {
e += " (" + (n.data.message || n.data.cause || n.data.cause || n.data.errorMessage) + ")", r.message("danger", "Error!", e, a.httpError), o && t.error(e);
}, r.remove = function(e) {
var t = r.data.indexOf(e);
-1 !== t && r.removeIndex(t);
}, r.removeIndex = function(e) {
r.data.splice(e, 1);
}, r.setViewing = function(e, t) {
e.viewing = t, t || e.show || r.remove(e);
}, r;
} ];
}), angular.module("patternfly.notification").component("pfNotificationList", {
templateUrl: "notification/notification-list.html",
controller: [ "Notifications", function(e) {
"use strict";
var t = this;
t.$onInit = function() {
t.notifications = e;
};
} ]
}), angular.module("patternfly.notification").component("pfToastNotificationList", {
bindings: {
notifications: "=",
showClose: "=?",
htmlContent: "<?",
closeCallback: "=?",
updateViewing: "=?"
},
templateUrl: "notification/toast-notification-list.html",
controller: function() {
"use strict";
var e = this;
e.handleClose = function(t) {
angular.isFunction(e.closeCallback) && e.closeCallback(t);
}, e.handleViewingChange = function(t, n) {
angular.isFunction(e.updateViewing) && e.updateViewing(t, n);
};
}
}), angular.module("patternfly.notification").component("pfToastNotification", {
bindings: {
notificationType: "@",
message: "@",
header: "@",
showClose: "@",
htmlContent: "<?",
closeCallback: "=?",
actionTitle: "@",
actionCallback: "=?",
menuActions: "<?",
updateViewing: "=?",
data: "=?"
},
templateUrl: "notification/toast-notification.html",
controller: [ "$sce", function(e) {
"use strict";
var t, n = this;
Object.defineProperty(n, "showClose", {
get: function() {
return t;
},
set: function(e) {
t = e, n.updateShowClose();
}
}), n.notificationType = n.notificationType || "info", n.updateShowClose = function() {
n.showCloseButton = "true" === n.showClose && (angular.isUndefined(n.menuActions) || n.menuActions.length < 1);
}, n.handleClose = function() {
angular.isFunction(n.closeCallback) && n.closeCallback(n.data);
}, n.handleAction = function() {
angular.isFunction(n.actionCallback) && n.actionCallback(n.data);
}, n.handleMenuAction = function(e) {
e && angular.isFunction(e.actionFn) && !0 !== e.isDisabled && e.actionFn(e, n.data);
}, n.handleEnter = function() {
angular.isFunction(n.updateViewing) && n.updateViewing(!0, n.data);
}, n.handleLeave = function() {
angular.isFunction(n.updateViewing) && n.updateViewing(!1, n.data);
}, n.$onInit = function() {
n.updateShowClose();
}, n.$onChanges = function(e) {
e.menuActions && n.updateShowClose();
}, n.trustAsHtml = function(t) {
return e.trustAsHtml(t);
};
} ]
}), angular.module("patternfly.pagination").component("pfPagination", {
transclude: !0,
templateUrl: "pagination/pagination.html",
bindings: {
pageNumber: "=?",
numTotalItems: "<",
pageSizeIncrements: "<?",
pageSize: "=?",
updatePageSize: "&",
updatePageNumber: "&"
},
controller: [ "$scope", "$log", function(e, t) {
"use strict";
function n(e) {
o.pageNumber = e, o.updatePageNumber && o.updatePageNumber({
$event: {
pageNumber: o.pageNumber
}
});
}
function i() {
return Math.ceil(o.numTotalItems / o.pageSize);
}
function r() {
return o.pageNumber === o.lastPageNumber;
}
var o = this, a = [ 5, 10, 20, 40, 80, 100 ];
o.$onInit = function() {
angular.isUndefined(o.pageNumber) && (o.pageNumber = 1), angular.isUndefined(o.pageSizeIncrements) && (o.pageSizeIncrements = a), angular.isUndefined(o.pageSize) && (o.pageSize = o.pageSizeIncrements[0]), o.lastPageNumber = i();
}, o.$onChanges = function(e) {
e.numTotalItems && !e.numTotalItems.isFirstChange() && (o.lastPageNumber = i(), o.gotoFirstPage());
}, o.onPageSizeChange = function(e) {
o.pageSize = e, o.lastPageNumber = i(), o.gotoFirstPage(), o.updatePageSize && o.updatePageSize({
$event: {
pageSize: e
}
});
}, o.onPageNumberChange = function() {
var e = parseInt(o.pageNumber, 10);
n(e > o.lastPageNumber ? o.lastPageNumber : e < 1 || isNaN(o.pageNumber) ? 1 : e);
}, o.gotoFirstPage = function() {
1 !== o.pageNumber && n(1);
}, o.gotoPreviousPage = function() {
1 !== o.pageNumber && n(o.pageNumber - 1);
}, o.gotoNextPage = function() {
o.pageNumber < o.lastPageNumber && n(o.pageNumber + 1);
}, o.gotoLastPage = function() {
o.pageNumber < o.lastPageNumber && n(o.lastPageNumber);
}, o.getStartIndex = function() {
return o.numTotalItems ? o.pageSize * (o.pageNumber - 1) + 1 : 0;
}, o.getEndIndex = function() {
var e = Math.floor(o.numTotalItems / o.pageSize), t = o.numTotalItems - e * o.pageSize || o.pageSize, n = r() ? t : o.pageSize;
return o.numTotalItems ? o.getStartIndex() + n - 1 : 0;
};
} ]
}), angular.module("patternfly.select").directive("pfBootstrapSelect", function() {
"use strict";
return {
restrict: "A",
require: "?ngModel",
scope: {
selectPickerOptions: "=pfBootstrapSelect"
},
link: function(e, t, n, i) {
var r, o, a = i.$render, s = function(n) {
e.$applyAsync(function() {
t.selectpicker("refresh");
});
};
t.selectpicker(e.selectPickerOptions), i.$render = function() {
a.apply(this, arguments), s();
}, n.ngOptions && (o = (r = n.ngOptions.split("in "))[r.length - 1].split(/track by|\|/)[0], e.$parent.$watchCollection(o, s)), n.ngModel && e.$parent.$watch(n.ngModel, s), n.$observe("disabled", s), e.$on("$destroy", function() {
t.selectpicker("destroy");
});
}
};
}), angular.module("patternfly.select").component("pfSelect", {
bindings: {
selected: "=",
options: "<",
displayField: "@",
emptyValue: "@",
onSelect: "<"
},
templateUrl: "select/select.html",
controller: function() {
"use strict";
function e(e) {
return e !== n.emptyValue && angular.isString(n.displayField) ? e[n.displayField] : e;
}
function t(e) {
n.selected = e, angular.isFunction(n.onSelect) && n.onSelect(e);
}
var n = this;
n.$onInit = function() {
angular.extend(n, {
showEmpty: angular.isDefined(n.emptyValue),
getDisplayValue: e,
selectItem: t
});
};
}
}), angular.module("patternfly.sort").component("pfSort", {
bindings: {
config: "="
},
templateUrl: "sort/sort.html",
controller: function() {
"use strict";
function e() {
var e = !1;
r = angular.copy(o.config), void 0 === o.config.fields && (o.config.fields = []), o.config.fields.length > 0 && (void 0 === o.config.currentField && (o.config.currentField = o.config.fields[0], e = !0), void 0 === o.config.isAscending && (o.config.isAscending = !0, e = !0)), !0 === e && o.config.onSortChange && o.config.onSortChange(o.config.currentField, o.config.isAscending);
}
function t(e) {
o.config.currentField = e, o.config.onSortChange && o.config.onSortChange(o.config.currentField, o.config.isAscending);
}
function n() {
o.config.isAscending = !o.config.isAscending, o.config.onSortChange && o.config.onSortChange(o.config.currentField, o.config.isAscending);
}
function i() {
return "numeric" === o.config.currentField.sortType ? o.config.isAscending ? "fa fa-sort-numeric-asc" : "fa fa-sort-numeric-desc" : o.config.isAscending ? "fa fa-sort-alpha-asc" : "fa fa-sort-alpha-desc";
}
var r, o = this;
o.$onInit = function() {
angular.isDefined(o.config) && angular.isUndefined(o.config.show) && (o.config.show = !0), angular.extend(o, {
selectField: t,
changeDirection: n,
getSortIconClass: i
});
}, o.$onChanges = function() {
e();
}, o.$doCheck = function() {
angular.equals(o.config, r) || e();
};
}
}), angular.module("patternfly.table").component("pfTableView", {
bindings: {
config: "<?",
dtOptions: "<?",
colummns: "<?",
columns: "<?",
items: "<",
actionButtons: "<?",
menuActions: "<?",
pageConfig: "=?",
emptyStateConfig: "=?",
emptyStateActionButtons: "=?"
},
templateUrl: "table/tableview/table-view.html",
controller: [ "DTOptionsBuilder", "DTColumnDefBuilder", "$element", "pfUtils", "$log", "$filter", "$timeout", "$sce", function(e, t, n, i, r, o, a, s) {
"use strict";
function l() {
angular.isUndefined(w.dtOptions) ? w.dtOptions = {} : (angular.isDefined(w.dtOptions.paginationType) && (w.dtOptions.paging = !0, angular.isUndefined(w.pageConfig) && (w.pageConfig = {}), angular.isNumber(w.pageConfig.pageNumber) || (w.pageConfig.pageNumber = 1)), angular.isNumber(w.dtOptions.displayLength) && (w.dtOptions.paging = !0, angular.isUndefined(w.pageConfig) && (w.pageConfig = {}), angular.isNumber(w.pageConfig.pageSize) || (w.pageConfig.pageSize = w.dtOptions.displayLength)), angular.isDefined(w.dtOptions.dom) && -1 !== w.dtOptions.dom.indexOf("p") && (w.dtOptions.dom = w.dtOptions.dom.replace(/p/gi, ""))), angular.isDefined(w.pageConfig) && (w.dtOptions.paging = !0, w.pageConfig.numTotalItems = w.items.length, angular.isUndefined(w.pageConfig.pageSize) && (w.pageConfig.pageSize = 10), w.dtOptions.displayLength = w.pageConfig.pageSize, angular.isUndefined(w.pageConfig.pageNumber) && (w.pageConfig.pageNumber = 1));
}
function c() {
var e, n = 0, i = 1;
if (w.dtColumnDefs = [], w.config.showCheckboxes && w.dtColumnDefs.push(t.newColumnDef(n++).notSortable()), _.forEach(w.columns, function(e) {
w.dtColumnDefs.push(t.newColumnDef(n++));
}), e = w.config.showCheckboxes ? 1 : 0, w.selectionMatchPropColNum = _.findIndex(w.columns, [ "itemField", w.config.selectionMatchProp ]) + e, w.actionButtons && w.actionButtons.length > 0) for (i = 1; i <= w.actionButtons.length; i++) w.dtColumnDefs.push(t.newColumnDef(n++).notSortable());
w.menuActions && w.menuActions.length > 0 && w.dtColumnDefs.push(t.newColumnDef(n++).notSortable());
}
function u() {
var e, t = w.dtInstance;
t && t.dataTable && (e = t.dataTable, angular.isDefined(w.pageConfig) && angular.isDefined(w.pageConfig.pageNumber) && e.fnPageChange(w.pageConfig.pageNumber - 1), w.tableId = e[0].id, e.off("draw.dt"), e.on("draw.dt", function() {
w.debug && r.debug("--\x3e redraw"), f();
}));
}
function d() {
return void 0 !== _.find(w.columns, [ "itemField", w.config.selectionMatchProp ]);
}
function h(e) {
return _.find(w.items, function(t) {
return _.toString(t[w.config.selectionMatchProp]) === _.toString(e);
});
}
function f() {
w.config.showCheckboxes && a(function() {
var e, t, n;
e = w.dtInstance.DataTable, w.debug && r.debug("  selectRowsByChecked"), angular.isUndefined(e) || (w.debug && r.debug("  ...oTable defined"), (t = e.rows()).deselect(), t = e.rows(function(e, t, i) {
return n = i.children[0].children[0].checked;
}), w.debug && r.debug("   ... #checkedRows = " + t[0].length), t[0].length > 0 && t.select(), p());
});
}
function p() {
var e, t;
w.debug && r.debug("  setSelectAllCheckbox"), e = g().length, t = document.querySelectorAll("#" + w.tableId + " tbody tr.even.selected").length + document.querySelectorAll("#" + w.tableId + " tbody tr.odd.selected").length, w.selectAll = e === t;
}
function g() {
var e, t, n = [], i = document.querySelectorAll("#" + w.tableId + "  tbody tr");
for (e = 0; e < i.length; ++e) null !== (t = i[e].cells) && t.length > w.selectionMatchPropColNum && n.push(_.trim(t[w.selectionMatchPropColNum].innerText));
return w.debug && r.debug("    getVisibleRows (" + n.length + ")"), n;
}
function m(e) {
var t = e.querySelector(".dropdown-toggle"), i = e.querySelector(".dropdown-menu"), r = n[0].getBoundingClientRect(), o = t.getBoundingClientRect(), a = i.getBoundingClientRect(), s = o.top - a.height;
o.top + o.height + a.height <= r.top + r.height || s < r.top ? w.dropdownClass = "dropdown" : w.dropdownClass = "dropup";
}
var v, y, b, w = this;
w.debug = !1, w.selectAll = !1, w.dtInstance = {}, w.defaultDtOptions = {
autoWidth: !1,
destroy: !0,
order: [ [ 1, "asc" ] ],
dom: "t",
paging: !1,
select: {
selector: 'td:first-child input[type="checkbox"]',
style: "multi"
}
}, w.defaultConfig = {
selectionMatchProp: "uuid",
onCheckBoxChange: null,
showCheckboxes: !0
}, w.$onInit = function() {
w.debug && r.debug("$onInit"), angular.isDefined(w.colummns) && angular.isUndefined(w.columns) && (w.columns = w.colummns), angular.isUndefined(w.config) && (w.config = {}), w.updateConfigOptions(), c();
}, w.updateConfigOptions = function() {
var e = "";
if (w.debug && r.debug("  updateConfigOptions"), l(), angular.isDefined(w.dtOptions) && angular.isDefined(w.dtOptions.displayLength) && (w.dtOptions.displayLength = Number(w.dtOptions.displayLength)), v = angular.copy(w.dtOptions), y = angular.copy(w.items), b = angular.copy(w.pageConfig), _.defaults(w.dtOptions, w.defaultDtOptions), _.defaults(w.config, w.defaultConfig), !d()) throw angular.forEach(w.columns, function(t) {
0 === e.length ? e = t.itemField : e += ", " + t.itemField;
}), new Error("pfTableView - config.selectionMatchProp '" + w.config.selectionMatchProp + "' does not match any property in 'config.columns'! Please set config.selectionMatchProp to one of these properties: " + e);
}, w.dtInstanceCallback = function(e) {
w.debug && r.debug("--\x3e dtInstanceCallback"), w.dtInstance = e, u(), f();
}, w.$onChanges = function(e) {
w.debug && r.debug("$onChanges"), e.config && !e.config.isFirstChange() && (w.debug && r.debug("...updateConfigOptions"), w.updateConfigOptions()), e.items && e.items.currentValue && (w.config.itemsAvailable = e.items.currentValue.length > 0);
}, w.updatePageSize = function(e) {
w.pageConfig.pageSize = e.pageSize, w.dtOptions.displayLength = w.pageConfig.pageSize, w.pageConfig.pageNumber = 1;
}, w.updatePageNumber = function(e) {
w.dtInstance && (w.pageConfig.pageNumber = e.pageNumber, w.dtInstance && w.dtInstance.dataTable && w.dtInstance.dataTable.fnPageChange(w.pageConfig.pageNumber - 1));
}, w.$doCheck = function() {
w.debug && r.debug("$doCheck"), angular.equals(w.dtOptions, v) && angular.equals(w.pageConfig, b) || (w.debug && r.debug("  dtOptions !== prevDtOptions"), w.updateConfigOptions()), angular.equals(w.items, y) || (w.debug && r.debug("  items !== prevItems"), w.items && (w.config.itemsAvailable = w.items.length > 0), angular.isDefined(w.pageConfig) && angular.isDefined(w.pageConfig.numTotalItems) && (w.pageConfig.numTotalItems = w.items.length), y = angular.copy(w.items));
}, w.$postLink = function() {
w.debug && r.debug(" $postLink");
}, w.$onDestroy = function() {
w.debug && r.debug(" $onDestroy"), w.dtInstance = {};
}, w.toggleAll = function() {
var e, t = g();
angular.forEach(t, function(t) {
(e = h(t)).selected !== w.selectAll && (e.selected = w.selectAll, w.config && w.config.onCheckBoxChange && w.config.onCheckBoxChange(e));
}), f();
}, w.toggleOne = function(e) {
w.config && w.config.onCheckBoxChange && w.config.onCheckBoxChange(e);
}, w.handleButtonAction = function(e, t) {
e && e.actionFn && e.actionFn(e, t);
}, w.handleColAction = function(e, t) {
var n = o("filter")(w.columns, {
itemField: e
});
n && 1 === n.length && n[0].hasOwnProperty("colActionFn") && n[0].colActionFn(t);
}, w.areActions = function() {
return w.actionButtons && w.actionButtons.length > 0 || w.menuActions && w.menuActions.length > 0;
}, w.calcActionsColspan = function() {
var e = 0;
return w.actionButtons && w.actionButtons.length > 0 && (e += w.actionButtons.length), w.menuActions && w.menuActions.length > 0 && (e += 1), e;
}, w.handleMenuAction = function(e, t) {
!w.checkDisabled(t) && e && e.actionFn && !0 !== e.isDisabled && e.actionFn(e, t);
}, w.setupActions = function(e, t) {
a(function() {
var e, n = void 0;
for (e = t.target; e && !n; ) -1 !== e.className.indexOf("dropdown-kebab-pf") && (n = e, -1 !== e.className.indexOf("open") && m(n)), e = e.parentElement;
});
}, w.checkDisabled = function() {
return !1;
}, w.trustAsHtml = function(e) {
return s.trustAsHtml(e);
};
} ]
}), angular.module("patternfly.toolbars").component("pfToolbar", {
bindings: {
config: "="
},
transclude: {
actions: "?"
},
templateUrl: "toolbars/toolbar.html",
controller: function() {
"use strict";
function e() {
c = angular.copy(u.config), u.config && u.config.viewsConfig && u.config.viewsConfig.views && (u.config.viewsConfig.viewsList = angular.copy(u.config.viewsConfig.views), u.config.viewsConfig.currentView || (u.config.viewsConfig.currentView = u.config.viewsConfig.viewsList[0].id));
}
function t(e) {
u.config.viewsConfig.currentView = e, u.config.viewsConfig.onViewSelect && !u.checkViewDisabled(e) && u.config.viewsConfig.onViewSelect(e);
}
function n(e) {
return u.config.viewsConfig && u.config.viewsConfig.currentView === e;
}
function i() {
return u.config.viewsConfig ? "tableView" === u.config.viewsConfig.currentView : u.config.isTableView;
}
function r(e) {
return u.config.viewsConfig.checkViewDisabled && u.config.viewsConfig.checkViewDisabled(e);
}
function o(e) {
return void 0 !== _.find(u.config.filterConfig.appliedFilters, {
title: e.title,
value: e.value
});
}
function a(e) {
_.remove(u.config.filterConfig.appliedFilters, {
title: e.title
});
}
function s(e, t) {
var n = {
id: e.id,
title: e.title,
value: t
};
o(n) || ("select" === e.filterType && a(n), u.config.filterConfig.appliedFilters.push(n), u.config.filterConfig.onFilterChange && u.config.filterConfig.onFilterChange(u.config.filterConfig.appliedFilters));
}
function l(e) {
e && e.actionFn && !0 !== e.isDisabled && e.actionFn(e);
}
var c, u = this;
u.$onInit = function() {
angular.isDefined(u.config.sortConfig) && angular.isUndefined(u.config.sortConfig.show) && (u.config.sortConfig.show = !0), angular.extend(u, {
viewSelected: t,
isViewSelected: n,
isTableViewSelected: i,
checkViewDisabled: r,
addFilter: s,
handleAction: l
});
}, u.$onChanges = function() {
e();
}, u.$doCheck = function() {
angular.equals(u.config, c) || e();
};
}
}), angular.module("patternfly.utils").directive("pfFixedAccordion", [ "$window", "$timeout", function(e, t) {
"use strict";
return {
restrict: "A",
scope: {
scrollSelector: "@",
groupHeight: "@",
groupClass: "@"
},
link: function(n, i, r) {
var o = function(e) {
var t = e.offsetHeight;
return t += parseInt(getComputedStyle(e).marginTop), t += parseInt(getComputedStyle(e).marginBottom);
}, a = function(e, t) {
var i, r, a, s, l, c = e[0].querySelectorAll(".panel-collapse");
angular.forEach(c, function(e) {
i = angular.element(e), r = i, s = 0, angular.isDefined(n.scrollSelector) && (l = angular.element(i[0].querySelector(n.scrollSelector))).length && (r = angular.element(l[0]), a = i.children(), angular.forEach(a, function(e) {
e !== r[0] && (s += o(e));
})), angular.element(r).css("max-height", Math.max(t - s, 25) + "px"), angular.element(r).css("overflow-y", "auto");
});
}, s = function() {
var e, n, r, s, l = "hidden", c = angular.element(i[0].querySelector(".panel-group")), u = angular.element(c).children();
e = c[0].clientHeight, (n = c[0].querySelectorAll(".collapse.in")) && n.length > 0 && angular.element(n).removeClass("in"), r = 0, angular.forEach(u, function(e) {
r += o(e);
}), (s = e - r) < 25 && (s = 25, l = "auto"), n && n.length > 0 && angular.element(n).addClass("in"), angular.element(c).css("overflow-y", l), t(function() {
a(c, s);
});
}, l = _.debounce(s, 150, {
maxWait: 250
});
n.groupHeight && angular.element(i[0].querySelector(".panel-group")).css("height", n.groupHeight), n.groupClass && angular.element(i[0].querySelector(".panel-group")).addClass(n.groupClass), t(function() {
s();
}, 100), i.on("resize", function() {
l();
}), angular.element(e).on("resize", function() {
l();
});
}
};
} ]), angular.module("patternfly.utils").directive("pfTransclude", function() {
"use strict";
return {
restrict: "A",
link: function(e, t, n, i, r) {
var o;
if (!r) throw new Error("pfTransclude - Illegal use of pfTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}");
switch (n.pfTransclude || "sibling") {
case "sibling":
r(function(e) {
t.empty(), t.append(e);
});
break;

case "parent":
r(e, function(e) {
t.empty(), t.append(e);
});
break;

case "child":
r(o = e.$new(), function(e) {
t.empty(), t.append(e), t.on("$destroy", function() {
o.$destroy();
});
});
}
}
};
}), function() {
"use strict";
angular.module("patternfly.utils").constant("pfUtils", {
merge: function(e, t) {
return "function" == typeof angular.merge ? this.angularMerge(e, t) : "function" == typeof _.merge ? this._merge(e, t) : "function" == typeof $.extend ? this.$extend(e, t) : this.mergeDeep(e, t);
},
angularMerge: function(e, t) {
return angular.merge({}, e, t);
},
_merge: function(e, t) {
return _.merge({}, e, t);
},
$extend: function(e, t) {
return $.extend(!0, angular.copy(e), t);
},
mergeDeep: function(e, t) {
return mergeDeep({}, angular.copy(e), angular.copy(t));
},
colorPalette: patternfly.pfPaletteColors
});
}(), angular.module("patternfly.validation", []).directive("pfValidation", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
require: "ngModel",
scope: {
pfValidation: "&",
pfValidationDisabled: "="
},
link: function(t, n, i, r) {
function o() {
var e, n = t.inputCtrl.$modelValue, r = t.pfValidation({
input: n
});
i.pfValidation || (r = !0), e = !n || r || "" === n, a(t.valEnabled && !e ? !0 : !1);
}
function a(e) {
var i = n.next(), r = n.parent(), o = r.hasClass("has-error"), a = i.hasClass("ng-hide");
t.inputCtrl.$setValidity("pf-validation", !e), e && (o || r.addClass("has-error"), a && i.removeClass("ng-hide")), e || (o && r.removeClass("has-error"), a || i.addClass("ng-hide"));
}
t.inputCtrl = r, t.valEnabled = !i.pfValidationDisabled, t.$watch("pfValidationDisabled", function(e) {
t.valEnabled = !e, e ? (t.inputCtrl.$setValidity("pfValidation", !0), a(!1)) : o();
}), i.pfValidation ? e(function() {
o();
}, 0) : !t.inputCtrl.$valid && t.inputCtrl.$dirty && a(!0), t.$watch("inputCtrl.$valid", function(e) {
a(e ? !1 : !0);
}), t.$watch("inputCtrl.$modelValue", function() {
o();
});
}
};
} ]), angular.module("patternfly.views").component("pfCardView", {
bindings: {
config: "=?",
pageConfig: "=?",
emptyStateConfig: "=?",
emptyStateActionButtons: "=?",
items: "=",
eventId: "@id"
},
transclude: !0,
templateUrl: "views/cardview/card-view.html",
controller: function() {
"use strict";
function e() {
angular.isUndefined(i.pageConfig) ? i.pageConfig = {
pageNumber: 1,
pageSize: i.items.length,
numTotalItems: i.items.length,
showPaginationControls: !1
} : (angular.isUndefined(i.pageConfig.showPaginationControls) && (i.pageConfig.showPaginationControls = !0), angular.isNumber(i.pageConfig.pageNumber) || (i.pageConfig.pageNumber = 1), angular.isNumber(i.pageConfig.pageSize) || (i.pageConfig.pageSize = 10), angular.isNumber(i.pageConfig.numTotalItems) || (i.pageConfig.numTotalItems = i.items.length), i.pageConfig.showPaginationControls || (i.pageConfig.pageSize = i.pageConfig.numTotalItems)), t = angular.copy(i.pageConfig);
}
var t, n, i = this;
i.defaultConfig = {
selectItems: !1,
multiSelect: !1,
dblClick: !1,
selectionMatchProp: "uuid",
selectedItems: [],
checkDisabled: !1,
showSelectBox: !0,
onSelect: null,
onSelectionChange: null,
onCheckBoxChange: null,
onClick: null,
onDblClick: null,
itemsAvailable: !0
}, i.itemClick = function(e, t) {
var n = !1, r = !0;
return i.checkDisabled(t) ? r : (i.config && i.config.selectItems && t && (i.config.multiSelect && !i.config.dblClick ? _.find(i.config.selectedItems, function(e) {
return e === t;
}) ? i.config.selectedItems = _.without(i.config.selectedItems, t) : (i.config.selectedItems.push(t), n = !0) : i.config.selectedItems[0] === t ? (i.config.dblClick || (i.config.selectedItems = [], n = !0), r = !1) : (i.config.selectedItems = [ t ], n = !0), n && i.config.onSelect && i.config.onSelect(t, e), n && i.config.onSelectionChange && i.config.onSelectionChange(i.config.selectedItems, e)), i.config.onClick && i.config.onClick(t, e), r);
}, i.dblClick = function(e, t) {
i.config.onDblClick && i.config.onDblClick(t, e);
}, i.checkBoxChange = function(e) {
i.config.onCheckBoxChange && i.config.onCheckBoxChange(e);
}, i.isSelected = function(e) {
var t = i.config.selectionMatchProp, n = !1;
if (i.config.showSelectBox) n = e.selected; else if (i.config.selectedItems.length) return _.find(i.config.selectedItems, function(n) {
return n[t] === e[t];
});
return n;
}, i.checkDisabled = function(e) {
return i.config.checkDisabled && i.config.checkDisabled(e);
}, i.$onInit = function() {
if (_.defaults(i.config, i.defaultConfig), i.config.selectItems && i.config.showSelectBox) throw new Error("pfCardView - Illegal use of pfCardView component! Cannot allow both select box and click selection in the same card view.");
n = angular.copy(i.items), e();
}, i.$doCheck = function() {
angular.equals(i.pageConfig, t) || e(), angular.equals(i.items, n) || (i.items && (i.config.itemsAvailable = i.items.length > 0), angular.isDefined(i.pageConfig) && (i.pageConfig.numTotalItems = i.items.length), n = angular.copy(i.items));
};
}
}), angular.module("patternfly.views").component("pfEmptyState", {
bindings: {
config: "<?",
actionButtons: "<?"
},
templateUrl: "views/empty-state.html",
controller: [ "$filter", function(e) {
"use strict";
var t, n = this;
n.defaultConfig = {
title: "No Items Available"
}, n.$onInit = function() {
angular.isUndefined(n.config) && (n.config = {}), n.updateConfig();
}, n.updateConfig = function() {
t = angular.copy(n.config), _.defaults(n.config, n.defaultConfig);
}, n.$onChanges = function(e) {
e.config && !e.config.isFirstChange() && n.updateConfig();
}, n.$doCheck = function() {
angular.equals(n.config, t) || n.updateConfig();
}, n.hasMainActions = function() {
return !!n.actionButtons && e("filter")(n.actionButtons, {
type: "main"
}).length;
}, n.hasSecondaryActions = function() {
return !!n.actionButtons && e("filter")(n.actionButtons, {
type: void 0
}).length;
}, n.filterMainActions = function(e) {
return "main" === e.type;
}, n.filterSecondaryActions = function(e) {
return "main" !== e.type;
}, n.handleButtonAction = function(e) {
e && e.actionFn && e.actionFn(e);
};
} ]
}), angular.module("patternfly.views").component("pfListView", {
bindings: {
config: "=?",
pageConfig: "=?",
items: "=",
actionButtons: "=?",
enableButtonForItemFn: "=?",
menuActions: "=?",
hideMenuForItemFn: "=?",
menuClassForItemFn: "=?",
updateMenuActionForItemFn: "=?",
actions: "=?",
updateActionForItemFn: "=?",
customScope: "=?",
emptyStateConfig: "=?",
emptyStateActionButtons: "=?"
},
transclude: {
expandedContent: "?listExpandedContent"
},
templateUrl: "views/listview/list-view.html",
controller: [ "$window", "$element", "$timeout", function(e, t, n) {
"use strict";
function i() {
angular.isUndefined(a.pageConfig) ? a.pageConfig = {
pageNumber: 1,
pageSize: a.items.length,
numTotalItems: a.items.length,
showPaginationControls: !1
} : (angular.isUndefined(a.pageConfig.showPaginationControls) && (a.pageConfig.showPaginationControls = !0), angular.isNumber(a.pageConfig.pageNumber) || (a.pageConfig.pageNumber = 1), angular.isNumber(a.pageConfig.pageSize) || (a.pageConfig.pageSize = 10), angular.isNumber(a.pageConfig.numTotalItems) || (a.pageConfig.numTotalItems = a.items.length), a.pageConfig.showPaginationControls || (a.pageConfig.pageSize = a.pageConfig.numTotalItems)), r = angular.copy(a.pageConfig);
}
var r, o, a = this, s = function(e) {
var n = e.querySelector(".dropdown-toggle"), i = e.querySelector(".dropdown-menu"), r = t[0].querySelector(".list-view-pf.list-view-pf-view").getBoundingClientRect(), o = n.getBoundingClientRect(), s = i.getBoundingClientRect(), l = o.top - r.top, c = l + o.height, u = l - s.height;
c + s.height <= r.height || u < 0 ? a.dropdownClass = "dropdown" : a.dropdownClass = "dropup", a.kebabMenuReady = !0;
};
a.defaultConfig = {
selectItems: !1,
multiSelect: !1,
dblClick: !1,
dragEnabled: !1,
dragEnd: null,
dragMoved: null,
dragStart: null,
selectionMatchProp: "uuid",
selectedItems: [],
checkDisabled: !1,
useExpandingRows: !1,
showSelectBox: !0,
onSelect: null,
onSelectionChange: null,
onCheckBoxChange: null,
onClick: null,
onDblClick: null,
itemsAvailable: !0
}, a.dropdownClass = "dropdown", a.handleButtonAction = function(e, t) {
!a.checkDisabled(t) && e && e.actionFn && a.enableButtonForItem(e, t) && e.actionFn(e, t);
}, a.handleMenuAction = function(e, t) {
!a.checkDisabled(t) && e && e.actionFn && !0 !== e.isDisabled && e.actionFn(e, t);
}, a.enableButtonForItem = function(e, t) {
return "function" != typeof a.enableButtonForItemFn || a.enableButtonForItemFn(e, t);
}, a.updateActions = function(e) {
"function" == typeof a.updateMenuActionForItemFn && a.menuActions.forEach(function(t) {
a.updateMenuActionForItemFn(t, e);
});
}, a.getMenuClassForItem = function(e) {
var t = "";
return angular.isFunction(a.menuClassForItemFn) && (t = a.menuClassForItemFn(e)), t;
}, a.hideMenuForItem = function(e) {
var t = !1;
return angular.isFunction(a.hideMenuForItemFn) && (t = a.hideMenuForItemFn(e)), t;
}, a.toggleItemExpansion = function(e) {
e.isExpanded = !e.isExpanded;
}, a.setupActions = function(e, t) {
a.checkDisabled(e) || (a.updateActions(e), a.kebabMenuReady = !1, n(function() {
var e, n = void 0;
for (e = t.target; e && !n; ) -1 !== e.className.indexOf("dropdown-kebab-pf") && (n = e, -1 !== e.className.indexOf("open") && s(n)), e = e.parentElement;
}));
}, a.itemClick = function(e, t) {
var n = !1, i = !0, r = a.config && a.config.useExpandingRows && !a.config.compoundExpansionOnly && t && !t.disableRowExpansion;
return a.checkDisabled(t) ? i : (a.config && a.config.selectItems && t && (a.config.multiSelect && !a.config.dblClick ? _.find(a.config.selectedItems, function(e) {
return e === t;
}) ? a.config.selectedItems = _.without(a.config.selectedItems, t) : (a.config.selectedItems.push(t), n = !0) : a.config.selectedItems[0] === t ? (a.config.dblClick || (a.config.selectedItems = [], n = !0), i = !1) : (a.config.selectedItems = [ t ], n = !0), n && a.config.onSelect && a.config.onSelect(t, e), n && a.config.onSelectionChange && a.config.onSelectionChange(a.config.selectedItems, e)), a.config.onClick ? !1 !== a.config.onClick(t, e) && r && a.toggleItemExpansion(t) : r && a.toggleItemExpansion(t), i);
}, a.dblClick = function(e, t) {
if (a.checkDisabled(t)) return continueEvent;
a.config.onDblClick && a.config.onDblClick(t, e);
}, a.checkBoxChange = function(e) {
a.config.onCheckBoxChange && a.config.onCheckBoxChange(e);
}, a.isSelected = function(e) {
var t = a.config.selectionMatchProp, n = !1;
return a.config.showSelectBox ? n = e.selected : a.config.selectItems && a.config.selectedItems.length && (n = _.find(a.config.selectedItems, function(n) {
return n[t] === e[t];
})), n;
}, a.checkDisabled = function(e) {
return a.config.checkDisabled && a.config.checkDisabled(e);
}, a.$onInit = function() {
if (angular.isUndefined(a.config) && (a.config = {}), _.defaults(a.config, a.defaultConfig), a.config.selectItems || (a.config.selectedItems = []), !a.config.multiSelect && a.config.selectedItems && a.config.selectedItems.length > 0 && (a.config.selectedItems = [ a.config.selectedItems[0] ]), a.config.selectItems && a.config.showSelectBox) throw new Error("pfListView - Illegal use of pListView component! Cannot allow both select box and click selection in the same list view.");
o = angular.copy(a.items), i();
}, a.$doCheck = function() {
angular.equals(a.pageConfig, r) || i(), angular.equals(a.items, o) || (a.items && (a.config.itemsAvailable = a.items.length > 0), angular.isDefined(a.pageConfig) && (a.pageConfig.numTotalItems = a.items.length), o = angular.copy(a.items));
}, a.dragEnd = function() {
angular.isFunction(a.config.dragEnd) && a.config.dragEnd();
}, a.dragMoved = function() {
angular.isFunction(a.config.dragMoved) && a.config.dragMoved();
}, a.isDragOriginal = function(e) {
return e === a.dragItem;
}, a.dragStart = function(e) {
a.dragItem = e, angular.isFunction(a.config.dragStart) && a.config.dragStart(e);
};
} ]
}), function() {
"use strict";
angular.module("patternfly.views").constant("pfViewUtils", {
getDashboardView: function(e) {
return {
id: "dashboardView",
title: e || "Dashboard View",
iconClass: "fa fa-dashboard"
};
},
getCardView: function(e) {
return {
id: "cardView",
title: e || "Card View",
iconClass: "fa fa-th"
};
},
getListView: function(e) {
return {
id: "listView",
title: e || "List View",
iconClass: "fa fa-th-list"
};
},
getTableView: function(e) {
return {
id: "tableView",
title: e || "Table View",
iconClass: "fa fa-table"
};
},
getTopologyView: function(e) {
return {
id: "topologyView",
title: e || "Topology View",
iconClass: "fa fa-sitemap"
};
}
});
}(), function() {
"use strict";
var e = function(t) {
var n;
return t && (n = angular.isDefined(t.wizard) ? t.wizard : e(t.$parent)), n;
}, t = function(e, t, n, i) {
t.on("click", function(t) {
t.preventDefault(), e.$apply(function() {
e.wizard[n](i);
});
});
};
angular.module("patternfly.wizard").component("pfWizNext", {
bindings: {
callback: "=?"
},
controller: [ "$element", "$scope", function(n, i) {
var r = this;
r.$onInit = function() {
i.wizard = e(i);
}, r.$postLink = function() {
t(i, n, "next", r.callback);
};
} ]
}), angular.module("patternfly.wizard").component("pfWizPrevious", {
bindings: {
callback: "=?"
},
controller: [ "$element", "$scope", function(n, i) {
var r = this;
r.$onInit = function() {
i.wizard = e(i);
}, r.$postLink = function() {
t(i, n, "previous", r.callback);
};
} ]
}), angular.module("patternfly.wizard").component("pfWizFinish", {
bindings: {
callback: "=?"
},
controller: [ "$element", "$scope", function(n, i) {
var r = this;
r.$onInit = function() {
i.wizard = e(i);
}, r.$postLink = function() {
t(i, n, "finish", r.callback);
};
} ]
}), angular.module("patternfly.wizard").component("pfWizCancel", {
bindings: {
callback: "=?"
},
controller: [ "$element", "$scope", function(n, i) {
var r = this;
r.$onInit = function() {
i.wizard = e(i);
}, r.$postLink = function() {
t(i, n, "cancel", r.callback);
};
} ]
}), angular.module("patternfly.wizard").component("pfWizReset", {
bindings: {
callback: "=?"
},
controller: [ "$element", "$scope", function(n, i) {
var r = this;
r.$onInit = function() {
i.wizard = e(i);
}, r.$postLink = function() {
t(i, n, "reset", r.callback);
};
} ]
});
}(), angular.module("patternfly.wizard").component("pfWizardReviewPage", {
bindings: {
shown: "<",
wizardData: "<"
},
templateUrl: "wizard/wizard-review-page.html",
controller: [ "$scope", function(e) {
"use strict";
var t = this, n = function(e) {
var t;
return e && (t = angular.isDefined(e.wizard) ? e.wizard : n(e.$parent)), t;
};
t.$onInit = function() {
t.reviewSteps = [], t.wizard = n(e.$parent);
}, t.$onChanges = function(e) {
e.shown && e.shown.currentValue && t.updateReviewSteps();
}, t.toggleShowReviewDetails = function(e) {
!0 === e.showReviewDetails ? e.showReviewDetails = !1 : e.showReviewDetails = !0;
}, t.getSubStepNumber = function(e, t) {
return e.getStepDisplayNumber(t);
}, t.getReviewSubSteps = function(e) {
return e.getReviewSteps();
}, t.updateReviewSteps = function() {
t.reviewSteps = t.wizard.getReviewSteps();
};
} ]
}), angular.module("patternfly.wizard").component("pfWizardStep", {
transclude: !0,
bindings: {
stepTitle: "@",
stepId: "@",
stepPriority: "@",
substeps: "=?",
nextEnabled: "<?",
prevEnabled: "<?",
nextTooltip: "<?",
prevTooltip: "<?",
disabled: "@?wzDisabled",
okToNavAway: "<?",
allowClickNav: "<?",
description: "@",
wizardData: "=",
onShow: "=?",
showReview: "@?",
showReviewDetails: "@?",
reviewTemplate: "@?"
},
templateUrl: "wizard/wizard-step.html",
controller: [ "$timeout", "$scope", function(e, t) {
"use strict";
var n, i = this, r = function(e) {
var t = 0, n = -1;
return angular.forEach(i.getEnabledSteps(), function(i) {
i === e && (n = t), t++;
}), n;
}, o = function() {
angular.forEach(i.getEnabledSteps(), function(e) {
e.selected = !1;
}), i.selectedStep = null;
}, a = function(e) {
var t;
return e && (t = angular.isDefined(e.wizard) ? e.wizard : a(e.$parent)), t;
};
i.$onInit = function() {
n = !0, i.steps = [], i.context = {}, i.title = i.stepTitle, i.wizard = a(t.$parent), i.contentStyle = i.wizard.contentStyle, t.wizardStep = this, i.wizard.addStep(i), i.pageNumber = i.wizard.getStepNumber(i), angular.isUndefined(i.nextEnabled) && (i.nextEnabled = !0), angular.isUndefined(i.prevEnabled) && (i.prevEnabled = !0), angular.isUndefined(i.showReview) && (i.showReview = !1), angular.isUndefined(i.showReviewDetails) && (i.showReviewDetails = !1), angular.isUndefined(i.stepPriority) ? i.stepPriority = 999 : i.stepPriority = parseInt(i.stepPriority), angular.isUndefined(i.okToNavAway) && (i.okToNavAway = !0), angular.isUndefined(i.allowClickNav) && (i.allowClickNav = !0), i.substeps && !i.onShow && (i.onShow = function() {
e(function() {
i.selectedStep || i.goTo(i.getEnabledSteps()[0]);
}, 10);
});
}, i.$onChanges = function(e) {
e.nextTooltip && _.get(i.wizard, "selectedStep") === i && (i.wizard.nextTooltip = e.nextTooltip.currentValue), e.prevTooltip && _.get(i.wizard, "selectedStep") === i && (i.wizard.prevTooltip = e.prevTooltip.currentValue);
}, i.getEnabledSteps = function() {
return i.steps.filter(function(e) {
return "true" !== e.disabled;
});
}, i.getReviewSteps = function() {
return i.getEnabledSteps().filter(function(e) {
return !angular.isUndefined(e.reviewTemplate);
});
}, i.resetNav = function() {
i.goTo(i.getEnabledSteps()[0]);
}, i.currentStepNumber = function() {
return r(i.selectedStep) + 1;
}, i.getStepNumber = function(e) {
return r(e) + 1;
}, i.isNextEnabled = function() {
var e = angular.isUndefined(i.nextEnabled) || i.nextEnabled;
return i.substeps && i.selectedStep && (e = e && i.selectedStep.isNextEnabled()), e;
}, i.isPrevEnabled = function() {
var e = angular.isUndefined(i.prevEnabled) || i.prevEnabled;
return i.substeps && i.selectedStep && (e = e && i.selectedStep.isPrevEnabled()), e;
}, i.getStepDisplayNumber = function(e) {
return i.pageNumber + String.fromCharCode(65 + r(e)) + ".";
}, i.prevStepsComplete = function(e) {
var t = r(e), n = !0;
return angular.forEach(i.getEnabledSteps(), function(e, i) {
i < t && (n = n && e.nextEnabled);
}), n;
}, i.goTo = function(e) {
!i.wizard.isWizardDone() && e.okToNavAway && e !== i.selectedStep && (n || i.getStepNumber(e) < i.currentStepNumber() && i.selectedStep.prevEnabled || i.prevStepsComplete(e)) && (o(), i.selectedStep = e, e && (e.selected = !0, i.wizard.setPageSelected(e), angular.isFunction(i.selectedStep.onShow) && i.selectedStep.onShow(), i.currentStep = e.stepTitle, n = !1), i.wizard.updateSubStepNumber(r(i.selectedStep)));
}, i.stepClick = function(e) {
e.allowClickNav && i.goTo(e);
}, i.addStep = function(e) {
var t = _.find(i.steps, function(t) {
return t.stepPriority > e.stepPriority;
});
t ? i.steps.splice(i.steps.indexOf(t), 0, e) : i.steps.push(e);
}, i.currentStepTitle = function() {
return i.selectedStep.stepTitle;
}, i.currentStepDescription = function() {
return i.selectedStep.description;
}, i.currentStep = function() {
return i.selectedStep;
}, i.totalStepCount = function() {
return i.getEnabledSteps().length;
}, i.next = function(e) {
var t = i.getEnabledSteps(), n = r(i.selectedStep);
return angular.isFunction(e) ? !e(i.selectedStep) || n !== t.length - 1 && (i.goTo(t[n + 1]), !0) : (i.selectedStep.completed = !0, n !== t.length - 1 && (i.goTo(t[n + 1]), !0));
}, i.previous = function(e) {
var t = r(i.selectedStep), n = !1;
return angular.isFunction(e) && !e(i.selectedStep) || 0 !== t && (i.goTo(i.getEnabledSteps()[t - 1]), n = !0), n;
};
} ]
}), angular.module("patternfly.wizard").component("pfWizardSubstep", {
transclude: !0,
bindings: {
stepTitle: "@",
stepId: "@",
stepPriority: "@",
nextEnabled: "<?",
prevEnabled: "<?",
okToNavAway: "<?",
allowClickNav: "<?",
disabled: "@?wzDisabled",
description: "@",
wizardData: "=",
onShow: "=?",
showReviewDetails: "@?",
reviewTemplate: "@?"
},
templateUrl: "wizard/wizard-substep.html",
controller: [ "$scope", function(e) {
"use strict";
var t = this;
t.$onInit = function() {
var n = function(e) {
var t;
return e && (t = angular.isDefined(e.wizardStep) ? e.wizardStep : n(e.$parent)), t;
};
t.step = n(e), angular.isUndefined(t.nextEnabled) && (t.nextEnabled = !0), angular.isUndefined(t.prevEnabled) && (t.prevEnabled = !0), angular.isUndefined(t.showReviewDetails) && (t.showReviewDetails = !1), angular.isUndefined(t.stepPriority) ? t.stepPriority = 999 : t.stepPriority = parseInt(t.stepPriority), angular.isUndefined(t.okToNavAway) && (t.okToNavAway = !0), angular.isUndefined(t.allowClickNav) && (t.allowClickNav = !0), t.step.okToNavAway = t.okToNavAway, t.step.allowClickNav = t.allowClickNav, t.title = t.stepTitle, t.step.addStep(t);
}, t.$onChanges = function(e) {
t.step && (e.okToNavAway && (t.step.okToNavAway = e.okToNavAway.currentValue), e.allowClickNav && (t.step.allowClickNav = e.allowClickNav.currentValue));
}, t.isNextEnabled = function() {
return angular.isUndefined(t.nextEnabled) || t.nextEnabled;
}, t.isPrevEnabled = function() {
return angular.isUndefined(t.prevEnabled) || t.prevEnabled;
};
} ]
}), angular.module("patternfly.wizard").component("pfWizard", {
transclude: !0,
bindings: {
title: "@",
wizardTitle: "@",
hideIndicators: "<?",
activeStepTitleOnly: "<?",
hideSidebar: "@",
hideHeader: "@",
hideBackButton: "@",
sidebarClass: "@",
stepClass: "@",
contentHeight: "<?",
currentStep: "<?",
cancelTitle: "<?",
backTitle: "<?",
nextTitle: "<?",
backCallback: "<?",
nextCallback: "<?",
onFinish: "&",
onCancel: "&",
wizardReady: "<?",
wizardDone: "<?",
loadingWizardTitle: "<?",
loadingSecondaryInformation: "<?",
embedInPage: "<?",
onStepChanged: "&?"
},
templateUrl: "wizard/wizard.html",
controller: [ "$timeout", "$scope", function(e, t) {
"use strict";
var n, i = this, r = function(e) {
var t = 0, n = -1;
return angular.forEach(i.getEnabledSteps(), function(i) {
i === e && (n = t), t++;
}), n;
}, o = function() {
angular.forEach(i.getEnabledSteps(), function(e) {
e.selected = !1;
}), i.selectedStep = null;
}, a = function(e) {
var t = null;
return angular.forEach(i.getEnabledSteps(), function(n) {
n.title === e && (t = n);
}), t;
};
i.$onInit = function() {
n = !0, i.steps = [], i.context = {}, i.hideHeader = "true" === i.hideHeader, i.hideSidebar = "true" === i.hideSidebar, i.hideBackButton = "true" === i.hideBackButton, i.activeStepTitleOnly = !0 === i.activeStepTitleOnly, i.wizardTitle = i.wizardTitle || i.title, angular.isDefined(i.stepClass) ? angular.isUndefined(i.sidebarClass) && (i.sidebarClass = i.stepClass) : (angular.isUndefined(i.contentHeight) && (i.contentHeight = "300px"), i.contentStyle = {
height: i.contentHeight,
"max-height": i.contentHeight,
"overflow-y": "auto"
}), angular.isUndefined(i.wizardReady) && (i.wizardReady = !0), i.cancelTitle || (i.cancelTitle = "Cancel"), i.backTitle || (i.backTitle = "< Back"), i.nextTitle || (i.nextTitle = "Next >");
}, i.$onChanges = function(e) {
var t;
if (e.hideHeader && (i.hideHeader = "true" === i.hideHeader), e.hideSidebar && (i.hideSidebar = "true" === i.hideSidebar), e.hideBackButton && (i.hideBackButton = "true" === i.hideBackButton), e.wizardReady && e.wizardReady.currentValue && i.goTo(i.getEnabledSteps()[0]), e.currentStep) {
if (!(t = e.currentStep.currentValue)) return;
i.selectedStep && i.selectedStep.title !== t && i.goTo(a(t));
}
}, i.getEnabledSteps = function() {
return i.steps.filter(function(e) {
return "true" !== e.disabled;
});
}, i.getReviewSteps = function() {
return i.steps.filter(function(e) {
return !e.disabled && (!angular.isUndefined(e.reviewTemplate) || e.getReviewSteps().length > 0);
});
}, i.currentStepNumber = function() {
return r(i.selectedStep) + 1;
}, i.getStepNumber = function(e) {
return r(e) + 1;
}, i.goTo = function(t, a) {
i.wizardDone || i.selectedStep && !i.selectedStep.okToNavAway || t === i.selectedStep || ((n || i.getStepNumber(t) < i.currentStepNumber() && i.selectedStep.isPrevEnabled() || i.selectedStep.isNextEnabled()) && (o(), !n && a && t.substeps && t.resetNav(), i.selectedStep = t, t.selected = !0, e(function() {
angular.isFunction(t.onShow) && t.onShow();
}, 100), i.currentStep = t.title, i.nextTooltip = t.nextTooltip, i.prevTooltip = t.prevTooltip, t.substeps || i.setPageSelected(t), n = !1), i.selectedStep.substeps ? i.firstStep = 0 === r(i.selectedStep) && 1 === i.selectedStep.currentStepNumber() : i.firstStep = 0 === r(i.selectedStep));
}, i.allowStepIndicatorClick = function(e) {
return e.allowClickNav && !i.wizardDone && i.selectedStep && i.selectedStep.okToNavAway && (i.selectedStep.nextEnabled || e.stepPriority < i.selectedStep.stepPriority) && (i.selectedStep.prevEnabled || e.stepPriority > i.selectedStep.stepPriority);
}, i.stepClick = function(e) {
e.allowClickNav && i.selectedStep && !i.wizardDone && i.selectedStep.okToNavAway && (i.selectedStep.nextEnabled || e.stepPriority < i.selectedStep.stepPriority) && (i.selectedStep.prevEnabled || e.stepPriority > i.selectedStep.stepPriority) && i.goTo(e, !0);
}, i.setPageSelected = function(e) {
angular.isFunction(i.onStepChanged) && i.onStepChanged({
step: e,
index: r(e)
});
}, i.addStep = function(e) {
var t = _.find(i.steps, function(t) {
return t.stepPriority > e.stepPriority;
});
t ? i.steps.splice(i.steps.indexOf(t), 0, e) : i.steps.push(e), i.wizardReady && i.getEnabledSteps().length > 0 && e === i.getEnabledSteps()[0] && i.goTo(i.getEnabledSteps()[0]);
}, i.isWizardDone = function() {
return i.wizardDone;
}, i.updateSubStepNumber = function(e) {
i.firstStep = 0 === r(i.selectedStep) && 0 === e;
}, i.currentStepTitle = function() {
return i.selectedStep.title;
}, i.currentStepDescription = function() {
return i.selectedStep.description;
}, i.currentStep = function() {
return i.selectedStep;
}, i.totalStepCount = function() {
return i.getEnabledSteps().length;
}, i.goToStep = function(e, t) {
var n, r = i.getEnabledSteps();
n = angular.isNumber(e) ? r[e] : a(e), i.goTo(n, t);
}, i.next = function(e) {
var t = i.getEnabledSteps(), n = r(i.selectedStep);
if (e = e || i.nextCallback, !i.selectedStep.substeps || !i.selectedStep.next(e)) {
if (angular.isFunction(e)) {
if (!e(i.selectedStep)) return;
n < t.length - 1 ? t[n + 1].substeps && t[n + 1].resetNav() : i.finish();
}
i.selectedStep.completed = !0, n === t.length - 1 ? i.finish() : i.goTo(t[n + 1]);
}
}, i.previous = function(e) {
var t = r(i.selectedStep);
if (e = e || i.backCallback, (!i.selectedStep.substeps || !i.selectedStep.previous(e)) && (!angular.isFunction(e) || e(i.selectedStep))) {
if (0 === t) throw new Error("Can't go back. It's already in step 0");
i.goTo(i.getEnabledSteps()[t - 1]);
}
}, i.finish = function() {
i.onFinish && !1 !== i.onFinish() && i.reset();
}, i.cancel = function() {
i.onCancel && !1 !== i.onCancel() && i.reset();
}, i.reset = function() {
angular.forEach(i.getEnabledSteps(), function(e) {
e.completed = !1;
}), i.goToStep(0);
}, t.wizard = this;
} ]
}), angular.module("patternfly.canvas").run([ "$templateCache", function(e) {
"use strict";
e.put("canvas-view/canvas-editor/canvas-editor.html", '<div class=canvas-editor-container><div class=canvas-editor-toolbar><button id=toggleToolbox class="btn btn-primary" ng-class="{\'disabled\': $ctrl.chartViewModel.inConnectingMode || $ctrl.readOnly}" type=button ng-click=$ctrl.toggleToolbox() tooltip-placement=bottom-left uib-tooltip="{{\'Add Item To Canvas\'}}">Add Item <span class=fa ng-class="{\'fa-angle-double-up\': $ctrl.toolboxVisible, \'fa-angle-double-down\': !$ctrl.toolboxVisible}"></span></button>\x3c!-- user defined more actions --\x3e <span ng-transclude></span> <span class=right-aligned-controls><input ng-class="{\'disabled\': $ctrl.chartViewModel.inConnectingMode}" ng-model=$ctrl.hideConnectors ng-change=$ctrl.toggleshowHideConnectors() type=checkbox ng-checked="$ctrl.hideConnectors"> <span class=show-hide-connectors-label>Hide Connectors</span> <a id=zoomOut ng-click=$ctrl.zoomOut() ng-class="{\'disabled\': $ctrl.minZoom()}"><span class="pficon fa fa-minus" tooltip-append-to-body=true tooltip-placement=bottom uib-tooltip="{{\'Zoom Out\'}}"></span></a> <a id=zoomIn ng-click=$ctrl.zoomIn() ng-class="{\'disabled\': $ctrl.maxZoom()}"><span class="pficon fa fa-plus" tooltip-append-to-body=true tooltip-placement=bottom-right uib-tooltip="{{\'Zoom In\'}}"></span></a></span></div><div class=canvas-editor-toolbox-container><div class=canvas-editor-toolbox id=toolbox ng-if=$ctrl.toolboxVisible><a ng-click="$ctrl.toolboxVisible = false" class=close-toolbox><span class="pficon pficon-close"></span></a><div class=toolbox-filter><input ng-model=$ctrl.searchText id=filterFld class=search-text placeholder="{{\'Filter by name\'}}"> <a ng-click="$ctrl.searchText = \'\'"><span class="pficon pficon-close clear-search-text"></span></a></div><uib-tabset><uib-tab ng-repeat="tab in $ctrl.toolboxTabs" heading="" active=tab.active><uib-tab-heading ng-click=$ctrl.tabClicked()><div class=tab-pre-title>{{tab.preTitle}}</div><div class=tab-title ng-class="{\'tab-single-line\':tab.preTitle == null}">{{tab.title}}</div></uib-tab-heading><uib-tabset class=subtabs ng-if=tab.subtabs><uib-tab ng-repeat="subtab in tab.subtabs" heading={{subtab.title}} active=subtab.active ng-click=$ctrl.tabClicked()><uib-tabset class=subtabs ng-if=subtab.subtabs><uib-tab ng-repeat="subsubtab in subtab.subtabs" heading={{subsubtab.title}} active=subsubtab.active ng-click=$ctrl.tabClicked()><toolbox-items items=subsubtab.items start-drag-callback=$ctrl.startCallback click-callback=$ctrl.addNodeByClick search-text="$ctrl.searchText"></uib-tab></uib-tabset>\x3c!-- SubTabs without Sub-Sub Tabs --\x3e<toolbox-items ng-if=!subtab.subtabs items=subtab.items start-drag-callback=$ctrl.startCallback click-callback=$ctrl.addNodeByClick search-text="$ctrl.searchText"></uib-tab></uib-tabset>\x3c!-- Primary Tabs without SubTabs --\x3e<toolbox-items ng-if=!tab.subtabs items=tab.items start-drag-callback=$ctrl.startCallback click-callback=$ctrl.addNodeByClick search-text="$ctrl.searchText"></uib-tab></uib-tabset></div><div class=canvas-container data-drop=true data-jqyoui-options jqyoui-droppable="{onDrop:\'$ctrl.dropCallback\'}"><pf-canvas chart-data-model=$ctrl.chartDataModel chart-view-model=$ctrl.chartViewModel read-only=$ctrl.readOnly hide-connectors=$ctrl.hideConnectors></pf-canvas></div></div></div>'), 
e.put("canvas-view/canvas-editor/toolbox-items.html", '<ul class=toolbox-items-list><li class=toolbox-item ng-repeat="item in $ctrl.items | filter:$ctrl.searchText" data-drag={{!item.disableInToolbox}} jqyoui-draggable="{onStart:\'$ctrl.startItemDrag(item)\'}" ng-class="{\'not-draggable\': item.disableInToolbox}" data-jqyoui-options="{revert: \'invalid\', helper: \'clone\'}" ng-click=$ctrl.itemClicked(item) uib-tooltip="{{(item.disableInToolbox ? \'Items cannot be added to the canvas more than once.\' : \'\')}}"><img ng-if=item.image src={{item.image}} alt="{{item.name}}"> <i ng-if="item.icon && !item.image" class="draggable-item-icon {{item.icon}}"></i> <span>{{ item.name }}</span></li></ul>'), e.put("canvas-view/canvas/canvas.html", '<svg class="canvas draggable-container" xmlns=http://www.w3.org/2000/svg ng-mousedown=$ctrl.mouseDown($event) ng-mousemove=mouseMove($event) ng-class="{\'read-only\': $ctrl.readOnly, \'canvas-in-connection-mode\': $ctrl.chart.inConnectingMode}" ng-style="{\'height\': $ctrl.chart.zoom.getChartHeight() + \'px\', \'width\': $ctrl.chart.zoom.getChartWidth() + \'px\', \'background-size\': $ctrl.chart.zoom.getBackgroundSize() + \'px \'+  chart.zoom.getBackgroundSize() + \'px\'}" mouse-capture>\x3c!-- Zoom --\x3e<g ng-attr-transform=scale({{$ctrl.zoomLevel()}})>\x3c!-- Connection Mode Notification --\x3e<g ng-if=$ctrl.chart.inConnectingMode><rect class=connecting-mode-rec ry=1 rx=1 x=0 y=0 width=640 height=32></rect><text class=connecting-mode-label x=12 y=22 ng-if=$ctrl.availableConnections()>Select a second item to complete the connection or click on the canvas to cancel</text><text class=connecting-mode-label-warning x=12 y=22 ng-if=!$ctrl.availableConnections()>No available connections! Click on the canvas to cancel</text></g>\x3c!-- Main Node Loop --\x3e<g ng-repeat="node in $ctrl.chart.nodes" ng-mousedown="$ctrl.nodeMouseDown($event, node)" ng-mouseover="$ctrl.nodeMouseOver($event, node)" ng-mouseleave="$ctrl.nodeMouseLeave($event, node)" ng-attr-transform="translate({{node.x()}}, {{node.y()}})">\x3c!-- Node --\x3e<rect ng-class="{\'invalid-node-rect\': node.invalid(), \'selected-node-rect\': node.selected(), \'mouseover-node-rect\': node == $ctrl.mouseOverNode, \'node-rect\': node != $ctrl.mouseOverNode}" ry=0 rx=0 x=0 y=0 ng-attr-width={{node.width()}} ng-attr-height={{node.height()}} fill={{node.backgroundColor()}} fill-opacity=1.0></rect>\x3c!-- Node Title: no-wrap --\x3e<text ng-if=!$ctrl.foreignObjectSupported() class=node-header ng-class="{\'invalid-node-header\': node.invalid()}" ng-attr-x={{node.width()/2}} ng-attr-y="{{node.height() - 24}}" text-anchor=middle alignment-baseline=middle>{{node.name()}}</text>\x3c!-- Node Title: text wrap --\x3e<foreignobject ng-if=$ctrl.foreignObjectSupported() x=0 ng-attr-y="{{node.height() - 42}}" ng-attr-width={{node.width()}} ng-attr-height="{{node.height() - 42}}"><body><div class=node-header ng-attr-width={{node.width()}} ng-attr-height="{{node.height() - 42}}"><p ng-class="{\'invalid-node-header\': node.invalid()}" ng-style="{width: node.width()}">{{node.name()}}</p></div></body></foreignobject>\x3c!-- Node Image --\x3e<image ng-if=node.image() class=node-center-img ng-class="{\'invalid-node-img\': node.invalid()}" ng-href="{{node.image() | trustAsResourceUrl}}" xlink:href="" ng-attr-x="{{(node.width()/2) - 40}}" ng-attr-y={{20}} height=80px width=80px></image>\x3c!-- Node Icon: icon class --\x3e<foreignobject ng-if="node.icon() && !node.image() && $ctrl.foreignObjectSupported()" ng-attr-x="{{(node.width()/2) - 44}}" ng-attr-y="{{(node.height()/2) - 54}}" ng-attr-height={{node.height()}}px ng-attr-width={{node.width()}}px class=node-center-img-icon ng-class="{\'invalid-node-header\': node.invalid()}"><body><i class={{node.icon()}} ng-style="{\'font-size\': node.fontSize() ? node.fontSize() : \'76px\'}"></i></body></foreignobject>\x3c!-- Node Icon: fontContent --\x3e<text ng-if="node.fontFamily() && !node.image()" class=node-center-icon ng-class="{\'invalid-node-header\': node.invalid()}" font-family={{node.fontFamily()}} ng-attr-x="{{(node.width()/2) - 34 + ((node.bundle()) ? 4 : 0) }}" ng-attr-y={{90}}>{{node.fontContent()}}</text>\x3c!-- Sm. Top Left Bundle Icon --\x3e<text ng-if=node.bundle() class=bundle-icon x=6 y=22 font-family=PatternFlyIcons-webfont font-size=20>{{\'\\ue918\'}}</text>\x3c!-- Bottom Node Toolbar --\x3e<g id=nodeToolBar ng-if="node == $ctrl.mouseOverNode && !$ctrl.chart.inConnectingMode"><g class=svg-triangle><polyline points="4,152 14,140 24,152"></polyline></g><foreignobject ng-attr-x={{node.x}} ng-attr-y={{node.height()+1}} ng-mousedown=$event.stopPropagation() height=100% width=100%><body><node-toolbar node=node node-actions=$ctrl.chart.nodeActions node-click-handler=$ctrl.nodeClickHandler node-close-handler=$ctrl.nodeCloseHandler></node-toolbar></body></foreignobject></g>\x3c!-- Connected Input Connectors --\x3e<g ng-if=!$ctrl.hideConnectors ng-repeat="connector in node.inputConnectors | filter: $ctrl.isConnectorConnected" ng-mousedown="$ctrl.connectorMouseDown($event, node, connector, $index, true)" ng-mouseover="$ctrl.connectorMouseOver($event, node, connector, $index, true)" ng-mouseleave="$ctrl.connectorMouseLeave($event, node, connector, $index, true)" class="connector input-connector"><circle ng-if="!$ctrl.chart.inConnectingMode || $ctrl.isConnectedTo(connector, connectingModeSourceNode)" ng-class="{\'mouseover-connector-circle\': connector == $ctrl.mouseOverConnector,\n                   \'connector-circle\': connector != $ctrl.mouseOverConnector}" ng-attr-r={{$ctrl.connectorSize}} ng-attr-cx={{connector.x()}} ng-attr-cy={{connector.y()}}></circle></g>\x3c!-- Unconnected Input Connectors --\x3e<g ng-if=$ctrl.chart.inConnectingMode ng-repeat="connector in node.inputConnectors | filter: $ctrl.isConnectorUnconnectedAndValid" ng-mousedown="$ctrl.connectorMouseDown($event, node, connector, $index, true)" ng-mouseover="$ctrl.connectorMouseOver($event, node, connector, $index, true)" ng-mouseleave="$ctrl.connectorMouseLeave($event, node, connector, $index, true)" class="connector input-connector"><text ng-if=connector.fontFamily() class=connector-icons font-family={{connector.fontFamily()}} ng-attr-x="{{connector.x() - 28}}" ng-attr-y="{{connector.y() + 7}}">{{connector.fontContent()}}</text><circle ng-class="{\'unconnected-circle\': connector != $ctrl.mouseOverConnector,\n                         \'mouseover-unconnected-circle\': connector == $ctrl.mouseOverConnector}" ng-attr-r={{$ctrl.connectorSize}} ng-attr-cx={{connector.x()}} ng-attr-cy={{connector.y()}}></circle><g ng-if="connector == $ctrl.mouseOverConnector"><rect class=connector-tooltip ry=1 rx=1 ng-attr-x="{{connector.x() - 4}}" ng-attr-y="{{connector.y() + 12}}" ng-attr-width={{80}} height=20></rect><text class=connector-tooltip-text ng-attr-x="{{connector.x() + 2}}" ng-attr-y="{{connector.y() + 26}}" text-anchor=start alignment-baseline=top>{{connector.name()}}</text></g></g>\x3c!-- Output Connector --\x3e<g ng-if=!$ctrl.hideConnectors ng-repeat="connector in node.outputConnectors" ng-mousedown="$ctrl.connectorMouseDown($event, node, connector, $index, false)" ng-mouseover="$ctrl.connectorMouseOver($event, node, connector, $index, false)" ng-mouseleave="$ctrl.connectorMouseLeave($event, node, connector, $index, false)" class="connector output-connector"><circle ng-if="!$ctrl.chart.inConnectingMode || ($ctrl.connectingModeSourceNode === connector.parentNode())" ng-class="{\'connector-circle\': connector != $ctrl.mouseOverConnector,\n                   \'mouseover-connector-circle\': connector == $ctrl.mouseOverConnector}" ng-attr-r={{$ctrl.connectorSize}} ng-attr-r={{$ctrl.connectorSize}} ng-attr-cx={{connector.x()}} ng-attr-cy={{connector.y()}}></circle></g></g>\x3c!--  End Nodes Loop --\x3e\x3c!-- Connections --\x3e<g ng-if=!$ctrl.hideConnectors ng-repeat="connection in $ctrl.chart.connections" class=connection ng-mousedown="$ctrl.connectionMouseDown($event, connection)" ng-mouseover="$ctrl.connectionMouseOver($event, connection)" ng-mouseleave="$ctrl.connectionMouseLeave($event, connection)"><g ng-if="!$ctrl.chart.inConnectingMode || connectingModeSourceNode === connection.source.parentNode()"><path ng-class="{\'selected-connection-line\': connection.selected(),\n                     \'mouseover-connection-line\': connection == $ctrl.mouseOverConnection,\n                     \'connection-line\': connection != $ctrl.mouseOverConnection}" ng-attr-d="M {{connection.sourceCoordX()}}, {{connection.sourceCoordY()}}\n                     C {{connection.sourceTangentX()}}, {{connection.sourceTangentY()}}\n                       {{connection.destTangentX()}}, {{connection.destTangentY()}}\n                       {{connection.destCoordX()}}, {{connection.destCoordY()}}"></path><text ng-if="connection == $ctrl.mouseOverConnection" ng-class="{\'selected-connection-name\': connection.selected(),\n                     \'mouseover-connection-name\': connection == $ctrl.mouseOverConnection && !connection.selected(),\n                     \'connection-name\': connection != $ctrl.mouseOverConnection && !connection.selected()}" ng-attr-x={{connection.middleX()}} ng-attr-y={{connection.middleY()}} text-anchor=middle alignment-baseline=middle>{{connection.name()}}</text><circle ng-class="{\'selected-connection-endpoint\': connection.selected(),\n                       \'mouseover-connection-endpoint\': connection == $ctrl.mouseOverConnection && !connection.selected(),\n                       \'connection-endpoint\': connection != $ctrl.mouseOverConnection && !connection.selected()}" r=5 ng-attr-cx={{connection.sourceCoordX()}} ng-attr-cy={{connection.sourceCoordY()}}></circle><circle ng-class="{\'selected-connection-endpoint\': connection.selected(),\n                       \'mouseover-connection-endpoint\': connection == $ctrl.mouseOverConnection && !connection.selected(),\n                       \'connection-endpoint\': connection != $ctrl.mouseOverConnection && !connection.selected()}" r=5 ng-attr-cx={{connection.destCoordX()}} ng-attr-cy={{connection.destCoordY()}}></circle></g></g><rect ng-if=$ctrl.dragSelecting class=drag-selection-rect ng-attr-x={{$ctrl.dragSelectionRect.x}} ng-attr-y={{$ctrl.dragSelectionRect.y}} ng-attr-width={{$ctrl.dragSelectionRect.width}} ng-attr-height={{$ctrl.dragSelectionRect.height}}></rect></g></svg>'), 
e.put("canvas-view/canvas/node-toolbar.html", '<div class=node-toolbar ng-style="{width: $ctrl.node.width()}"><span ng-repeat="nodeAction in $ctrl.nodeActions" class="{{nodeAction.iconClass()}} node-toolbar-icons" ng-click=$ctrl.actionIconClicked(nodeAction.action())></span></div>');
} ]), angular.module("patternfly.card").run([ "$templateCache", function(e) {
"use strict";
e.put("card/aggregate-status/aggregate-status-card.html", '<div ng-if=!$ctrl.isMiniLayout class="card-pf card-pf-aggregate-status" ng-class="{\'card-pf-accented\': $ctrl.shouldShowTopBorder, \'card-pf-aggregate-status-alt\': $ctrl.isAltLayout}" ng-style="$ctrl.showSpinner ? $ctrl.spinnerHeight : {}"><h2 class=card-pf-title><a href={{$ctrl.status.href}} ng-if=$ctrl.status.href><image ng-if=$ctrl.status.iconImage ng-src={{$ctrl.status.iconImage}} alt="" class=card-pf-icon-image></image><span class={{$ctrl.status.iconClass}}></span> <span class=card-pf-aggregate-status-count>{{$ctrl.status.count}}</span> <span class=card-pf-aggregate-status-title>{{$ctrl.status.title}}</span></a> <span ng-if=!$ctrl.status.href><image ng-if=$ctrl.status.iconImage ng-src={{$ctrl.status.iconImage}} alt="" class=card-pf-icon-image></image><span class={{$ctrl.status.iconClass}}></span> <span class=card-pf-aggregate-status-count>{{$ctrl.status.count}}</span> <span class=card-pf-aggregate-status-title>{{$ctrl.status.title}}</span></span></h2><div class=card-pf-body ng-class="{\'show-spinner\': $ctrl.showSpinner}"><div ng-if=$ctrl.showSpinner class=spinner-container><div class=loading-indicator><span class="spinner spinner-lg" aria-hidden=true></span> <span ng-if=$ctrl.spinnerText class=loading-text>{{$ctrl.spinnerText}}</span><label ng-if=!$ctrl.spinnerText class=sr-only>Loading</label></div></div><p class=card-pf-aggregate-status-notifications ng-class="{\'hide-for-spinner\': $ctrl.showSpinner}"><span class=card-pf-aggregate-status-notification ng-repeat="notification in $ctrl.status.notifications"><a href={{notification.href}} ng-if=notification.href><image ng-if=notification.iconImage ng-src={{notification.iconImage}} alt="" class=card-pf-icon-image></image><span class={{notification.iconClass}}></span>{{ notification.count }}</a> <span ng-if=!notification.href><image ng-if=notification.iconImage ng-src={{notification.iconImage}} alt="" class=card-pf-icon-image></image><span class={{notification.iconClass}}></span>{{ notification.count }}</span></span></p></div></div><div ng-if=$ctrl.isMiniLayout class="card-pf card-pf-aggregate-status card-pf-aggregate-status-mini" ng-class="{\'card-pf-accented\': $ctrl.shouldShowTopBorder}" ng-style="$ctrl.showSpinner ? $ctrl.spinnerHeight : {}"><h2 class=card-pf-title><a ng-if=$ctrl.status.href href={{$ctrl.status.href}}><image ng-if=$ctrl.status.iconImage ng-src={{$ctrl.status.iconImage}} alt="" class=card-pf-icon-image></image><span ng-if=$ctrl.status.iconClass class={{$ctrl.status.iconClass}}></span> <span class=card-pf-aggregate-status-count>{{$ctrl.status.count}}</span> {{$ctrl.status.title}}</a> <span ng-if=!$ctrl.status.href><span class=card-pf-aggregate-status-count>{{$ctrl.status.count}}</span> {{$ctrl.status.title}}</span></h2><div class=card-pf-body ng-class="{\'show-spinner\': $ctrl.showSpinner}"><div ng-if=$ctrl.showSpinner class=spinner-container><div class=loading-indicator><span class="spinner spinner-lg" aria-hidden=true></span> <span ng-if=$ctrl.spinnerText class=loading-text>{{$ctrl.spinnerText}}</span><label ng-if=!$ctrl.spinnerText class=sr-only>Loading</label></div></div><p ng-if="$ctrl.status.notification.iconImage || $ctrl.status.notification.iconClass || $ctrl.status.notification.count" class=card-pf-aggregate-status-notifications><span class=card-pf-aggregate-status-notification><a ng-if=$ctrl.status.notification.href href={{$ctrl.status.notification.href}}><image ng-if=$ctrl.status.notification.iconImage ng-src={{$ctrl.status.notification.iconImage}} alt="" class=card-pf-icon-image></image><span ng-if=$ctrl.status.notification.iconClass class={{$ctrl.status.notification.iconClass}}></span><span ng-if=$ctrl.status.notification.count>{{$ctrl.status.notification.count}}</span></a> <span ng-if=!$ctrl.status.notification.href><image ng-if=$ctrl.status.notification.iconImage ng-src={{$ctrl.status.notification.iconImage}} alt="" class=card-pf-icon-image></image><span ng-if=$ctrl.status.notification.iconClass class={{$ctrl.status.notification.iconClass}}></span><span ng-if=$ctrl.status.notification.count>{{$ctrl.status.notification.count}}</span></span></span></p></div></div>'), 
e.put("card/basic/card-filter.html", '<div uib-dropdown class=card-pf-time-frame-filter><button type=button uib-dropdown-toggle class="btn btn-default">{{$ctrl.currentFilter.label}} <span class=caret></span></button><ul uib-dropdown-menu class=dropdown-menu-right role=menu><li ng-repeat="item in $ctrl.filter.filters" ng-class="{\'selected\': item === $ctrl.currentFilter}"><a role=menuitem tabindex=-1 ng-click=$ctrl.filterCallBackFn(item)>{{item.label}}</a></li></ul></div>'), e.put("card/basic/card.html", '<div class=card-pf ng-class="{\'card-pf-accented\': $ctrl.showTopBorder === \'true\'}"><div ng-if=$ctrl.showHeader() ng-class="$ctrl.shouldShowTitlesSeparator ? \'card-pf-heading\' : \'card-pf-heading-no-bottom\'"><div ng-if=$ctrl.showFilterInHeader() class=card-pf-footer-in-header ng-class="{\'hide-for-spinner\': $ctrl.showSpinner}" ng-include="\'card/basic/card-filter.html\'"></div><h2 class=card-pf-title>{{$ctrl.headTitle}}</h2></div><span ng-if=$ctrl.subTitle class=card-pf-subtitle>{{$ctrl.subTitle}}</span><div class=card-pf-body ng-class="{\'show-spinner\': $ctrl.showSpinner}"><div ng-class="{\'hide-for-spinner\': $ctrl.showSpinner}" ng-transclude></div><div ng-if=$ctrl.showSpinner class=spinner-container><div class=loading-indicator><span class="spinner spinner-lg" aria-hidden=true></span> <span ng-if=$ctrl.spinnerText class=loading-text>{{$ctrl.spinnerText}}</span><label ng-if=!$ctrl.spinnerText class=sr-only>Loading</label></div></div></div><div ng-if=$ctrl.footer class=card-pf-footer ng-class="{\'hide-for-spinner\': $ctrl.showSpinner}"><div ng-if=$ctrl.showFilterInFooter() ng-include="\'card/basic/card-filter.html\'"></div><p><a ng-if=$ctrl.footer.href href={{$ctrl.footer.href}} ng-class="{\'card-pf-link-with-icon\':$ctrl.footer.iconClass,\'card-pf-link\':!$ctrl.footer.iconClass}"><span ng-if=$ctrl.footer.iconClass class="{{$ctrl.footer.iconClass}} card-pf-footer-text"></span> <span ng-if=$ctrl.footer.text class=card-pf-footer-text>{{$ctrl.footer.text}}</span></a> <a ng-if="$ctrl.footer.callBackFn && !$ctrl.footer.href" ng-click=$ctrl.footerCallBackFn() ng-class="{\'card-pf-link-with-icon\':$ctrl.footer.iconClass,\'card-pf-link\':!$ctrl.footer.iconClass}"><span class="{{$ctrl.footer.iconClass}} card-pf-footer-text" ng-if=$ctrl.footer.iconClass></span> <span class=card-pf-footer-text ng-if=$ctrl.footer.text>{{$ctrl.footer.text}}</span></a> <span ng-if="!$ctrl.footer.href && !$ctrl.footer.callBackFn"><span ng-if=$ctrl.footer.iconClass class="{{$ctrl.footer.iconClass}} card-pf-footer-text" ng-class="{\'card-pf-link-with-icon\':$ctrl.footer.iconClass,\'card-pf-link\':!$ctrl.footer.iconClass}"></span> <span ng-if=$ctrl.footer.text class=card-pf-footer-text>{{$ctrl.footer.text}}</span></span></p></div></div>'), 
e.put("card/info-status/info-status-card.html", '<div class="card-pf card-pf-info-status" ng-class="{\'card-pf-accented\': $ctrl.shouldShowTopBorder}" ng-style="$ctrl.showSpinner ? $ctrl.spinnerHeight : {}"><div class=card-pf-info-image ng-if="$ctrl.status.iconImage || $ctrl.status.iconClass"><img ng-if=$ctrl.status.iconImage ng-src={{$ctrl.status.iconImage}} alt="" class="info-img"> <span class="info-icon {{$ctrl.status.iconClass}}"></span></div><div class="card-pf-info-content card-pf-body" ng-class="{\'show-spinner\': $ctrl.showSpinner}"><h2 class=card-pf-title ng-if=$ctrl.status.title><a href={{$ctrl.status.href}} ng-if=$ctrl.status.href><span>{{$ctrl.status.title}}</span></a> <span ng-if=!$ctrl.status.href><span>{{$ctrl.status.title}}</span></span></h2><div ng-if=$ctrl.showSpinner class=spinner-container ng-class="{\'with-title\' : $ctrl.status.title}"><div class=loading-indicator><span class="spinner spinner-lg" aria-hidden=true></span> <span ng-if=$ctrl.spinnerText class=loading-text>{{$ctrl.spinnerText}}</span><label ng-if=!$ctrl.spinnerText class=sr-only>Loading</label></div></div><span ng-if=!$ctrl.showSpinner><div ng-if=$ctrl.shouldShowHtmlContent class=card-pf-info-item ng-bind-html=$ctrl.trustAsHtml(item) ng-repeat="item in $ctrl.status.info track by $index"></div><div ng-if=!$ctrl.shouldShowHtmlContent class=card-pf-info-item ng-bind=item ng-repeat="item in $ctrl.status.info track by $index"></div></span></div></div>');
} ]), angular.module("patternfly.charts").run([ "$templateCache", function(e) {
"use strict";
e.put("charts/donut/donut-chart.html", '<span><pf-c3-chart ng-if="$ctrl.data.dataAvailable !== false" id={{$ctrl.donutChartId}} config=$ctrl.config get-chart-callback=$ctrl.setChart></pf-c3-chart><pf-empty-chart ng-if="$ctrl.data.dataAvailable === false" chart-height=$ctrl.chartHeight></pf-empty-chart></span>'), e.put("charts/donut/donut-pct-chart.html", '<span class=pct-donut-chart-pf><span ng-class="{\'pct-donut-chart-pf-left\': $ctrl.config.labelConfig.orientation === \'left\', \'pct-donut-chart-pf-right\': $ctrl.config.labelConfig.orientation === \'right\'}"><span class=pct-donut-chart-pf-chart><pf-c3-chart ng-if="$ctrl.data.dataAvailable !== false" id={{$ctrl.donutChartId}} config=$ctrl.config get-chart-callback=$ctrl.setChart></pf-c3-chart><pf-empty-chart ng-if="$ctrl.data.dataAvailable === false" chart-height=$ctrl.chartHeight></pf-empty-chart></span> <span ng-if="$ctrl.data.dataAvailable !== false && $ctrl.config.labelConfig && !$ctrl.config.labelConfig.labelFn()" class=pct-donut-chart-pf-label>{{$ctrl.config.labelConfig.title}} <span ng-if=$ctrl.data ng-switch=$ctrl.config.labelConfig.label><span ng-switch-when=none></span> <span ng-switch-when=available>{{$ctrl.data.available}} {{$ctrl.config.labelConfig.units}} available</span> <span ng-switch-when=percent>{{$ctrl.data.percent}}&#37; used</span> <span ng-switch-default="">{{$ctrl.data.used}} {{$ctrl.config.labelConfig.units}} of {{$ctrl.data.total}} {{$ctrl.config.labelConfig.units}} used</span></span></span> <span ng-if="$ctrl.data.dataAvailable !== false && $ctrl.config.labelConfig && $ctrl.config.labelConfig.labelFn()" class=pct-donut-chart-pf-label ng-bind-html=$ctrl.config.labelConfig.labelFn()></span></span></span>'), 
e.put("charts/empty-chart.html", '<div class=empty-chart-content ng-style=$ctrl.sizeStyles><span class="pficon pficon-info"></span> <span>No data available</span></div>'), e.put("charts/heatmap/heatmap-legend.html", '<ul class=heatmap-pf-legend-container><li ng-repeat="item in $ctrl.legendItems" class=heatmap-pf-legend-items><span class=legend-pf-color-box ng-style="{background: item.color}"></span> <span class=legend-pf-text>{{item.text}}</span></li></ul>'), e.put("charts/heatmap/heatmap.html", '<div class=heatmap-pf-container><h3>{{$ctrl.chartTitle}}</h3><div class=heatmap-container ng-style=$ctrl.containerStyles><svg class=heatmap-pf-svg></svg></div><pf-empty-chart ng-if="$ctrl.chartDataAvailable === false" chart-height=$ctrl.height></pf-empty-chart><div ng-if=!$ctrl.loadingDone class="spinner spinner-lg loading"></div><pf-heatmap-legend ng-if=$ctrl.showLegend legend=$ctrl.legendLabels legend-colors=$ctrl.heatmapColorPattern></pf-heatmap-legend></div>'), e.put("charts/line/line-chart.html", '<span><pf-c3-chart id={{$ctrl.lineChartId}} ng-if="$ctrl.chartData.dataAvailable !== false" config=$ctrl.chartConfig></pf-c3-chart><pf-empty-chart ng-if="$ctrl.chartData.dataAvailable === false" chart-height=$ctrl.chartConfig.size.height></pf-empty-chart></span>'), 
e.put("charts/sparkline/sparkline-chart.html", '<span><pf-c3-chart ng-if="$ctrl.chartData.dataAvailable !== false" id={{$ctrl.sparklineChartId}} config=$ctrl.chartConfig></pf-c3-chart><pf-empty-chart ng-if="$ctrl.chartData.dataAvailable === false" chart-height=$ctrl.chartHeight></pf-empty-chart></span>'), e.put("charts/trends/trends-chart.html", '<span ng-switch on=$ctrl.config.layout ng-class="{\'data-unavailable-pf\': $ctrl.chartData.dataAvailable === false}"><div ng-switch-default ng-class="{\'trend-card-large-pf\': $ctrl.showLargeCardLayout,\'trend-card-small-pf\': $ctrl.showSmallCardLayout}"><span class=trend-header-pf ng-if=$ctrl.config.title>{{$ctrl.config.title}}</span> <span ng-if=$ctrl.showActualValue><span class=trend-title-big-pf>{{$ctrl.getLatestValue()}}</span> <span class=trend-title-small-pf>{{$ctrl.config.units}}</span></span> <span ng-if=$ctrl.showPercentageValue><span class=trend-title-big-pf>{{$ctrl.getPercentageValue() + \'%\'}}</span> <span class=trend-title-small-pf>of {{$ctrl.chartData.total + \' \' + $ctrl.config.units}}</span></span><pf-sparkline-chart ng-if="$ctrl.chartData.dataAvailable !== false" config=$ctrl.config chart-data=$ctrl.chartData chart-height=$ctrl.getChartHeight() show-x-axis=$ctrl.showXAxis show-y-axis=$ctrl.showYAxis></pf-sparkline-chart><pf-empty-chart ng-if="$ctrl.chartData.dataAvailable === false" chart-height=$ctrl.getChartHeight()></pf-empty-chart><span class=trend-footer-pf ng-if=$ctrl.config.timeFrame>{{$ctrl.config.timeFrame}}</span></div><div ng-switch-when=compact class=trend-card-compact-pf><div class="row trend-row"><div class=col-sm-2 ng-class="{\'col-sm-push-10\': $ctrl.config.compactLabelPosition === \'right\'}"><div class=trend-compact-details><span ng-if=$ctrl.showActualValue><span class=trend-title-compact-big-pf>{{$ctrl.getLatestValue()}}</span> <span class=trend-title-compact-small-pf>{{$ctrl.config.units}}</span></span> <span ng-if=$ctrl.showPercentageValue><span class=trend-title-compact-big-pf>{{$ctrl.getPercentageValue() + \'%\'}}</span> <span class=trend-title-compact-small-pf>of {{$ctrl.chartData.total + \' \' + $ctrl.config.units}}</span></span> <span class=trend-header-compact-pf ng-if=$ctrl.config.title>{{$ctrl.config.title}}</span></div></div><div class=col-sm-10 ng-class="{\'col-sm-pull-2\': $ctrl.config.compactLabelPosition === \'right\'}"><pf-sparkline-chart ng-if="$ctrl.chartData.dataAvailable !== false" config=$ctrl.config chart-data=$ctrl.chartData chart-height=$ctrl.getChartHeight() show-x-axis=$ctrl.showXAxis show-y-axis=$ctrl.showYAxis></pf-sparkline-chart><pf-empty-chart ng-if="$ctrl.chartData.dataAvailable === false" chart-height=$ctrl.getChartHeight()></pf-empty-chart></div></div></div><div ng-switch-when=inline class=trend-card-inline-pf><div class="row trend-row"><div class="col-sm-8 trend-flat-col"><pf-sparkline-chart ng-if="$ctrl.chartData.dataAvailable !== false" config=$ctrl.config chart-data=$ctrl.chartData chart-height=$ctrl.getChartHeight() show-x-axis=$ctrl.showXAxis show-y-axis=$ctrl.showYAxis></pf-sparkline-chart><pf-empty-chart ng-if="$ctrl.chartData.dataAvailable === false" chart-height=$ctrl.getChartHeight()></pf-empty-chart></div><div class="col-sm-4 trend-flat-col"><div class=trend-flat-details><div class=trend-flat-details-cell><span class=trend-title-flat-big-pf>{{$ctrl.getPercentageValue() + \'%\'}}</span></div><div class=trend-flat-details-cell><span class=trend-label-flat-strong-pf>{{$ctrl.config.trendLabel}}</span> <span class=trend-label-flat-pf>{{$ctrl.getLatestValue()}} of {{$ctrl.chartData.total + \' \' + $ctrl.config.units}}</span></div></div></div></div></div></span>'), 
e.put("charts/utilization-bar/utilization-bar-chart.html", "<div class=utilization-bar-chart-pf ng-class=\"{'data-unavailable-pf': $ctrl.chartData.dataAvailable === false}\"><span ng-if=\"!$ctrl.layout || $ctrl.layout.type === 'regular'\"><div ng-if=$ctrl.chartTitle class=progress-description>{{$ctrl.chartTitle}}</div><div class=\"progress progress-label-top-right\" ng-if=\"$ctrl.chartData.dataAvailable !== false\"><div class=progress-bar aria-valuenow={{$ctrl.chartData.percentageUsed}} aria-valuemin=0 aria-valuemax=100 ng-class=\"{'animate': animate,\n           'progress-bar-success': $ctrl.isOk, 'progress-bar-danger': $ctrl.isError, 'progress-bar-warning': $ctrl.isWarn}\" ng-style=\"{width:$ctrl.chartData.percentageUsed + '%'}\" uib-tooltip-html=\"'{{$ctrl.usedTooltipMessage()}}'\"><span ng-if=$ctrl.chartFooter ng-bind-html=$ctrl.chartFooter></span> <span ng-if=\"!$ctrl.chartFooter && (!$ctrl.footerLabelFormat || $ctrl.footerLabelFormat === 'actual')\"><strong>{{$ctrl.chartData.used}} of {{$ctrl.chartData.total}} {{$ctrl.units}}</strong> Used</span> <span ng-if=\"!$ctrl.chartFooter && $ctrl.footerLabelFormat === 'percent'\"><strong>{{$ctrl.chartData.percentageUsed}}%</strong> Used</span></div><div class=\"progress-bar progress-bar-remaining\" ng-style=\"{width:(100 - $ctrl.chartData.percentageUsed) + '%'}\" uib-tooltip-html=\"'{{$ctrl.availableTooltipMessage()}}'\"></div></div></span> <span ng-if=\"$ctrl.layout && $ctrl.layout.type === 'inline'\"><div class=\"progress-container progress-description-left progress-label-right\" ng-style=\"{'padding-left':$ctrl.layout.titleLabelWidth, 'padding-right':$ctrl.layout.footerLabelWidth}\"><div ng-if=$ctrl.chartTitle class=progress-description ng-style=\"{'max-width':$ctrl.layout.titleLabelWidth}\">{{$ctrl.chartTitle}}</div><div class=progress ng-if=\"$ctrl.chartData.dataAvailable !== false\"><div class=progress-bar aria-valuenow={{$ctrl.chartData.percentageUsed}} aria-valuemin=0 aria-valuemax=100 ng-class=\"{'animate': $ctrl.animate, 'progress-bar-success': $ctrl.isOk, 'progress-bar-danger': $ctrl.isError, 'progress-bar-warning': $ctrl.isWarn}\" ng-style=\"{width:$ctrl.chartData.percentageUsed + '%'}\" uib-tooltip-html=\"'{{$ctrl.usedTooltipMessage()}}'\"><span ng-if=$ctrl.chartFooter ng-bind-html=$ctrl.chartFooter></span> <span ng-if=\"(!$ctrl.chartFooter) && (!$ctrl.footerLabelFormat || $ctrl.footerLabelFormat === 'actual')\" ng-style=\"{'max-width':$ctrl.layout.footerLabelWidth}\"><strong>{{$ctrl.chartData.used}} {{$ctrl.units}}</strong> Used</span> <span ng-if=\"(!$ctrl.chartFooter) && $ctrl.footerLabelFormat === 'percent'\" ng-style=\"{'max-width':$ctrl.layout.footerLabelWidth}\"><strong>{{$ctrl.chartData.percentageUsed}}%</strong> Used</span></div><div class=\"progress-bar progress-bar-remaining\" ng-style=\"{width:(100 - $ctrl.chartData.percentageUsed) + '%'}\" uib-tooltip-html=\"'{{$ctrl.availableTooltipMessage()}}'\"></div></div></div></span><pf-empty-chart ng-if=\"$ctrl.chartData.dataAvailable === false\" chart-height=45></pf-empty-chart></div>"), 
e.put("charts/utilization-trend/utilization-trend-chart.html", '<div class=utilization-trend-chart-pf ng-class="{\'data-unavailable-pf\': $ctrl.chartData.dataAvailable === false}"><h3>{{$ctrl.config.title}}</h3><div class=current-values><h1 class="available-count pull-left">{{$ctrl.currentValue}}</h1><div class="available-text pull-left"><div><span>{{$ctrl.currentText}}</span></div><div><span>of {{$ctrl.chartData.total}} {{$ctrl.config.units}}</span></div></div></div><div class=donut-chart-pf><pf-donut-pct-chart ng-if="$ctrl.chartData.dataAvailable !== false" config=$ctrl.donutConfig data=$ctrl.chartData center-label=$ctrl.centerLabel></pf-donut-pct-chart><pf-empty-chart ng-if="$ctrl.chartData.dataAvailable === false" chart-height=231></pf-empty-chart></div><div ng-if="$ctrl.chartData.dataAvailable !== false" class=sparkline-chart><pf-sparkline-chart config=$ctrl.sparklineConfig chart-data=$ctrl.chartData chart-height=$ctrl.sparklineChartHeight show-x-axis=$ctrl.showSparklineXAxis show-y-axis=$ctrl.showSparklineYAxis></pf-sparkline-chart></div><span class="pull-left legend-text">{{$ctrl.legendLeftText}}</span> <span class="pull-right legend-text">{{$ctrl.legendRightText}}</span></div>');
} ]), angular.module("patternfly.filters").run([ "$templateCache", function(e) {
"use strict";
e.put("filters/filter-panel/filter-panel-results.html", '<div class=filter-pf><div class=toolbar-pf-results><h5>{{$ctrl.config.resultsCount}} <span ng-if=$ctrl.config.appliedFilters.length>of {{$ctrl.config.totalCount}}</span> {{$ctrl.config.resultsLabel === undefined ? "Results" : $ctrl.config.resultsLabel}}</h5><p class=filter-pf-active-label ng-if=$ctrl.config.appliedFilters.length>Active filters:</p><ul class=list-inline ng-if=$ctrl.config.appliedFilters.length><li ng-repeat="filter in $ctrl.config.appliedFilters" class=filter-pf-category-item><span class="label pf-filter-category-label" ng-class="{\'label-info\': filter.values.length === 1, \'multiples\': filter.values.length > 1}">{{filter.title}}:<ul class="list-inline filter-pf-category-values"><li ng-repeat="value in filter.values"><span class="label label-info">{{value}} <a href=javascript:void(0);><span ng-click="$ctrl.clearFilter(filter, value)" class="pficon pficon-close"></span></a></span></li></ul></span></li></ul><p><a href=javascript:void(0); ng-click=$ctrl.clearAllFilters() ng-if="$ctrl.config.appliedFilters.length > 0">Clear All Filters</a></p></div></div>'), 
e.put("filters/filter-panel/filter-panel.html", '<div class="filter-pf inline-filter-pf"><span class="dropdown primary-action" uib-dropdown><button class="btn btn-default dropdown-toggle" uib-dropdown-toggle type=button>Filter <span class=caret></span></button><div ng-transclude class=dropdown-menu ng-click=$event.stopPropagation()></div></span><pf-filter-panel-results config=$ctrl.config></pf-filter-panel-results></div>'), e.put("filters/simple-filter/filter-fields.html", '<div class="filter-pf filter-fields"><div class="input-group form-group"><div uib-dropdown class=input-group-btn><button ng-if="$ctrl.config.fields.length > 1" uib-dropdown-toggle type=button class="btn btn-default filter-fields" uib-tooltip="Filter by" tooltip-placement=top tooltip-append-to-body=true>{{$ctrl.currentField.title}} <span class=caret></span></button><ul uib-dropdown-menu><li ng-repeat="item in $ctrl.config.fields" ng-class="{\'selected\': item === $ctrl.currentField}"><a class=filter-field role=menuitem tabindex=-1 ng-click=$ctrl.selectField(item)>{{item.title}}</a></li></ul></div><div ng-if="$ctrl.currentField.filterType !== \'select\' && $ctrl.currentField.filterType !== \'complex-select\'"><input class=form-control type={{$ctrl.currentField.filterType}} ng-model=$ctrl.currentValue placeholder={{$ctrl.currentField.placeholder}} ng-keypress="$ctrl.onValueKeyPress($event)"></div><div ng-if="$ctrl.currentField.filterType === \'select\'"><div class="btn-group bootstrap-select form-control filter-select" uib-dropdown><button type=button uib-dropdown-toggle class="btn btn-default dropdown-toggle"><span class="filter-option pull-left">{{$ctrl.currentValue.title || $ctrl.currentValue || $ctrl.currentField.placeholder}}</span> <span class=caret></span></button><ul uib-dropdown-menu class=dropdown-menu-right role=menu><li ng-if=$ctrl.currentField.placeholder><a role=menuitem tabindex=-1 ng-click=$ctrl.selectValue()>{{$ctrl.currentField.placeholder}}</a></li><li ng-repeat="filterValue in $ctrl.currentField.filterValues" ng-class="{\'selected\': (filterValue === $ctrl.currentValue)}"><a role=menuitem tabindex=-1 ng-click=$ctrl.selectValue(filterValue)>{{filterValue.title || filterValue}}</a></li></ul></div></div><div ng-if="$ctrl.currentField.filterType === \'complex-select\'" class=category-select><div class="btn-group bootstrap-select form-control filter-select" uib-dropdown><button type=button uib-dropdown-toggle class="btn btn-default dropdown-toggle"><span class="filter-option pull-left">{{$ctrl.filterCategory.title || $ctrl.filterCategory || $ctrl.currentField.placeholder}}</span> <span class=caret></span></button><ul uib-dropdown-menu class=dropdown-menu-right role=menu><li ng-if=$ctrl.currentField.placeholder><a role=menuitem tabindex=-1 ng-click=$ctrl.selectValue()>{{$ctrl.currentField.placeholder}}</a></li><li ng-repeat="filterCategory in $ctrl.currentField.filterValues" ng-class="{\'selected\': (filterCategory == $ctrl.filterCategory)}"><a role=menuitem tabindex=-1 ng-click="$ctrl.selectValue(filterCategory, \'filter-category\')">{{filterCategory.title ||filterCategory}}</a></li></ul></div><div class="btn-group bootstrap-select form-control filter-select" uib-dropdown><button type=button uib-dropdown-toggle class="btn btn-default dropdown-toggle category-select-value"><span class="filter-option pull-left">{{$ctrl.filterValue.title || $ctrl.filterValue || $ctrl.currentField.filterCategoriesPlaceholder}}</span> <span class=caret></span></button><ul uib-dropdown-menu class=dropdown-menu-right role=menu><li ng-if=$ctrl.currentField.placeholder><a role=menuitem tabindex=-1 ng-click=$ctrl.selectValue()>{{$ctrl.currentField.filterCategoriesPlaceholder}}</a></li><li ng-repeat="filterValue in $ctrl.currentField.filterCategories[$ctrl.filterCategory.id.toLowerCase() || $ctrl.filterCategory.toLowerCase() ].filterValues" ng-class="{\'selected\': filterValue === $ctrl.filterValue}"><a role=menuitem tabindex=-1 ng-click="$ctrl.selectValue(filterValue, \'filter-value\')">{{filterValue.title || filterValue}}</a></li></ul></div></div></div></div>'), 
e.put("filters/simple-filter/filter-results.html", '<div class=filter-pf><div class=toolbar-pf-results><span ng-if="$ctrl.config.showTotalCountResults !== true || $ctrl.config.totalCount === undefined || $ctrl.config.appliedFilters.length === 0"><h5 ng-if="$ctrl.config.resultsCount === 1">{{$ctrl.config.resultsCount}} {{$ctrl.config.itemsLabel}}</h5><h5 ng-if="$ctrl.config.resultsCount !== 1">{{$ctrl.config.resultsCount}} {{$ctrl.config.itemsLabelPlural}}</h5></span> <span ng-if="$ctrl.config.showTotalCountResults === true && $ctrl.config.totalCount !== undefined && $ctrl.config.appliedFilters.length > 0"><h5 ng-if="$ctrl.config.totalCount === 1">{{$ctrl.config.resultsCount}} of {{$ctrl.config.totalCount}} {{$ctrl.config.itemsLabel}}</h5><h5 ng-if="$ctrl.config.totalCount !== 1">{{$ctrl.config.resultsCount}} of {{$ctrl.config.totalCount}} {{$ctrl.config.itemsLabelPlural}}</h5></span><p class=filter-pf-active-label ng-if="$ctrl.config.appliedFilters.length > 0">Active Filters:</p><ul class=list-inline ng-if="$ctrl.config.appliedFilters.length > 0"><li ng-repeat="filter in $ctrl.config.appliedFilters"><span class="active-filter label label-info">{{filter.title}}: {{((filter.value.filterCategory.title || filter.value.filterCategory) + filter.value.filterDelimiter + (filter.value.filterValue.title || filter.value.filterValue)) || filter.value.title || filter.value}} <a href=javascript:void(0);><span class="pficon pficon-close" ng-click=$ctrl.clearFilter(filter)></span></a></span></li></ul><p><a href=javascript:void(0); class=clear-filters ng-click=$ctrl.clearAllFilters() ng-if="$ctrl.config.appliedFilters.length > 0">Clear All Filters</a></p><div ng-if="$ctrl.config.selectedCount !== undefined && $ctrl.config.totalCount !== undefined" class=pf-table-view-selected-label><strong>{{$ctrl.config.selectedCount}}</strong> of <strong>{{$ctrl.config.totalCount}}</strong> selected</div></div></div>'), 
e.put("filters/simple-filter/filter.html", "<div class=filter-pf ng-class=\"{'inline-filter-pf': $ctrl.config.inlineResults === true}\"><pf-filter-fields config=$ctrl.config add-filter-fn=$ctrl.addFilter></pf-filter-fields><pf-filter-results config=$ctrl.config></pf-filter-results></div>");
} ]), angular.module("patternfly.form").run([ "$templateCache", function(e) {
"use strict";
e.put("form/form-buttons/form-buttons.html", '<div class=form-group><div class={{$ctrl.pfButtonContainerClass}}><div class="control-group buttons"><button class="btn btn-default" type=button ng-click=$ctrl.pfHandleCancel() ng-disabled=$ctrl.pfWorking translate>Cancel</button> <button class="btn btn-primary" ng-click="$ctrl.pfHandleSave(); $ctrl.pfWorking = true" ng-disabled="$ctrl.isInvalid() || $ctrl.pfWorking"><i class="icon-spinner icon-spin" ng-show=$ctrl.pfWorking></i> <span ng-show=$ctrl.pfWorking translate>Saving...</span> <span ng-hide=$ctrl.pfWorking translate>Save</span></button></div></div></div>'), e.put("form/form-group/form-group.html", '<div class=form-group ng-class="{ \'has-error\' : $ctrl.hasErrors() }"><label for="{{ $ctrl.pfField }}" class="control-label {{ $ctrl.pfLabelClass }}">{{ $ctrl.pfLabel }}</label><div class="{{ $ctrl.pfInputClass }}"><span ng-transclude></span> <span class=help-block ng-show=$ctrl.error.messages><ul><li ng-repeat="message in $ctrl.error.messages">{{ message }}</li></ul></span></div></div>');
} ]), angular.module("patternfly.modals").run([ "$templateCache", function(e) {
"use strict";
e.put("modals/about-modal.html", '<script type=text/ng-template id=about-modal-template.html><div class="about-modal-pf">\n    <div class="modal-header">\n      <button type="button" class="close" ng-click="$ctrl.close()" aria-hidden="true">\n        <span class="pficon pficon-close"></span>\n      </button>\n    </div>\n    <div class="modal-body">\n      <h1 ng-if="$ctrl.title">{{$ctrl.title}}</h1>\n      <div ng-if="$ctrl.productInfo && $ctrl.productInfo.length > 0" class="product-versions-pf">\n        <ul class="list-unstyled">\n          <li ng-repeat="info in $ctrl.productInfo"><strong>{{info.name}}</strong> {{info.value}}</li>\n        </ul>\n      </div>\n      <div pf-about-modal-transclude="$ctrl.template" class="product-versions-pf"></div>\n      <div ng-if="$ctrl.additionalInfo" class="product-versions-pf">{{$ctrl.additionalInfo}}</div>\n      <div ng-if="$ctrl.copyright" class="trademark-pf">{{$ctrl.copyright}}</div>\n    </div>\n    <div class="modal-footer">\n      <img ng-if="$ctrl.imgSrc" ng-src="{{$ctrl.imgSrc}}" alt="{{$ctrl.imgAlt}}"/>\n    </div>\n  </div><\/script>');
} ]), angular.module("patternfly.navigation").run([ "$templateCache", function(e) {
"use strict";
e.put("navigation/application-launcher.html", '<div><div class="applauncher-pf dropdown dropdown-kebab-pf" ng-class="{\'applauncher-pf-block-list\': !$ctrl.isList}" uib-dropdown uib-keyboard-nav=true><a id=domain-switcher-{{$ctrl.$id}} class="dropdown-toggle drawer-pf-trigger-icon" uib-dropdown-toggle ng-class="{\'disabled\': $ctrl.isDisabled || !$ctrl.items.length}" href><i class="fa fa-th applauncher-pf-icon" aria-hidden=true></i> <span class=applauncher-pf-title>{{$ctrl.label || \'Application Launcher\'}} <span class=caret aria-hidden=true></span></span></a><ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu role=menu aria-labelledby=domain-switcher-{{$ctrl.$id}}><li class=applauncher-pf-item role=menuitem ng-repeat="item in $ctrl.items"><a class=applauncher-pf-link ng-href={{item.href}} target="{{item.target || \'_blank\'}}" title={{item.tooltip}}><i class="applauncher-pf-link-icon pficon" ng-class=item.iconClass ng-if=!$ctrl.hiddenIcons aria-hidden=true></i> <span class=applauncher-pf-link-title>{{item.title}}</span></a></li></ul></div></div>'), 
e.put("navigation/vertical-navigation.html", "<div><nav class=\"navbar navbar-pf-vertical\"><div class=navbar-header><button type=button class=navbar-toggle ng-click=$ctrl.handleNavBarToggleClick()><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <span class=navbar-brand><img class=navbar-brand-icon ng-if=$ctrl.brandSrc ng-src={{$ctrl.brandSrc}} alt=\"{{$ctrl.brandAlt}}\"> <span class=navbar-brand-txt ng-if=!$ctrl.brandSrc>{{$ctrl.brandAlt}}</span></span></div><nav class=\"collapse navbar-collapse\" ng-transclude></nav><div class=nav-pf-vertical ng-class=\"{'nav-pf-persistent-secondary': $ctrl.persistentSecondary,\n                    'nav-pf-vertical-collapsible-menus': $ctrl.pinnableMenus,\n                    'hidden-icons-pf': $ctrl.hiddenIcons,\n                    'nav-pf-vertical-with-badges': $ctrl.showBadges,\n                    'secondary-visible-pf': $ctrl.activeSecondary,\n                    'show-mobile-secondary': $ctrl.showMobileSecondary,\n                    'show-mobile-tertiary': $ctrl.showMobileTertiary,\n                    'hover-secondary-nav-pf': $ctrl.hoverSecondaryNav,\n                    'hover-tertiary-nav-pf': $ctrl.hoverTertiaryNav,\n                    'collapsed-secondary-nav-pf': $ctrl.collapsedSecondaryNav,\n                    'collapsed-tertiary-nav-pf': $ctrl.collapsedTertiaryNav,\n                    'hidden': $ctrl.inMobileState,\n                    'collapsed': $ctrl.navCollapsed,\n                    'force-hide-secondary-nav-pf': $ctrl.forceHidden,\n                    'show-mobile-nav': $ctrl.showMobileNav}\"><ul class=list-group><li ng-repeat=\"item in $ctrl.items\" class=list-group-item ng-class=\"{'secondary-nav-item-pf': item.children && item.children.length > 0,\n                       'active': item.isActive,\n                       'is-hover': item.isHover,\n                       'mobile-nav-item-pf': item.isMobileItem && $ctrl.showMobileSecondary,\n" + '                       \'mobile-secondary-item-pf\': item.isMobileItem && $ctrl.showMobileTertiary}" ng-mouseenter=$ctrl.handlePrimaryHover(item) ng-mouseleave=$ctrl.handlePrimaryUnHover(item)><a ng-click="$ctrl.handlePrimaryClick(item, $event)"><span class={{item.iconClass}} ng-if=item.iconClass ng-class="{hidden: $ctrl.hiddenIcons}" uib-tooltip={{item.title}} tooltip-append-to-body=true tooltip-enable={{$ctrl.navCollapsed}} tooltip-placement=bottom tooltip-class=nav-pf-vertical-tooltip></span> <span class=list-group-item-value>{{item.title}}</span><div ng-if="$ctrl.showBadges && item.badges" class=badge-container-pf><div class="badge {{badge.badgeClass}}" ng-repeat="badge in item.badges" uib-tooltip={{badge.tooltip}} tooltip-append-to-body=true tooltip-placement=right><span ng-if="badge.count && badge.iconClass" class={{badge.iconClass}}></span> <span ng-if=badge.count>{{badge.count}}</span></div></div></a><div ng-if="item.children && item.children.length > 0" class=nav-pf-secondary-nav><div class=nav-item-pf-header><a class=secondary-collapse-toggle-pf ng-click="$ctrl.collapseSecondaryNav(item, $event)" ng-class="{\'collapsed\': item.secondaryCollapsed}"></a> <span>{{item.title}}</span></div><ul class=list-group><li ng-repeat="secondaryItem in item.children" class=list-group-item ng-class="{\'tertiary-nav-item-pf\': secondaryItem.children && secondaryItem.children.length > 0,\n                             \'active\': secondaryItem.isActive,\n                             \'is-hover\': secondaryItem.isHover,\n                             \'mobile-nav-item-pf\': secondaryItem.isMobileItem}" ng-mouseenter=$ctrl.handleSecondaryHover(secondaryItem) ng-mouseleave=$ctrl.handleSecondaryUnHover(secondaryItem)><a ng-click="$ctrl.handleSecondaryClick(item, secondaryItem, $event)"><span class=list-group-item-value>{{secondaryItem.title}}</span><div ng-if="$ctrl.showBadges && secondaryItem.badges" class=badge-container-pf><div class="badge {{badge.badgeClass}}" ng-repeat="badge in secondaryItem.badges" uib-tooltip={{badge.tooltip}} tooltip-append-to-body=true tooltip-placement=right><span ng-if="badge.count && badge.iconClass" class={{badge.iconClass}}></span> <span ng-if=badge.count>{{badge.count}}</span></div></div></a><div ng-if="secondaryItem.children && secondaryItem.children.length > 0" class=nav-pf-tertiary-nav><div class=nav-item-pf-header><a class=tertiary-collapse-toggle-pf ng-click="$ctrl.collapseTertiaryNav(secondaryItem, $event)" ng-class="{\'collapsed\': secondaryItem.tertiaryCollapsed}"></a> <span>{{secondaryItem.title}}</span></div><ul class=list-group><li ng-repeat="tertiaryItem in secondaryItem.children" class=list-group-item ng-class="{\'active\': tertiaryItem.isActive}"><a ng-click="$ctrl.handleTertiaryClick(item, secondaryItem, tertiaryItem, $event)"><span class=list-group-item-value>{{tertiaryItem.title}}</span><div ng-if="$ctrl.showBadges && tertiaryItem.badges" class=badge-container-pf><div class="badge {{badge.badgeClass}}" ng-repeat="badge in tertiaryItem.badges" uib-tooltip={{badge.tooltip}} tooltip-append-to-body=true tooltip-placement=right><span ng-if="badge.count && badge.iconClass" class={{badge.iconClass}}></span> <span ng-if=badge.count>{{badge.count}}</span></div></div></a></li></ul></div></li></ul></div></li></ul></div></nav></div>');
} ]), angular.module("patternfly.notification").run([ "$templateCache", function(e) {
"use strict";
e.put("notification/inline-notification.html", '<div class="alert alert-{{$ctrl.pfNotificationType}}" ng-class="{\'alert-dismissable\': $ctrl.pfNotificationPersistent === true}"><button ng-show=$ctrl.pfNotificationPersistent ng-click=$ctrl.pfNotificationRemove() type=button class=close data-dismiss=alert aria-hidden=true><span class="pficon pficon-close"></span></button> <span class="pficon pficon-ok" ng-show="$ctrl.pfNotificationType === \'success\'"></span> <span class="pficon pficon-info" ng-show="$ctrl.pfNotificationType === \'info\'"></span> <span class="pficon pficon-error-circle-o" ng-show="$ctrl.pfNotificationType === \'danger\'"></span> <span class="pficon pficon-warning-triangle-o" ng-show="$ctrl.pfNotificationType === \'warning\'"></span> <strong>{{$ctrl.pfNotificationHeader}}</strong> {{$ctrl.pfNotificationMessage}}</div>'), e.put("notification/notification-drawer.html", '<div class=drawer-pf ng-class="{\'hide\': $ctrl.drawerHidden, \'drawer-pf-expanded\': $ctrl.drawerExpanded}"><div ng-if=$ctrl.drawerTitle class=drawer-pf-title><a href="" ng-if=$ctrl.allowExpand class="drawer-pf-toggle-expand fa fa-angle-double-left hidden-xs" ng-click=$ctrl.toggleExpandDrawer()></a> <a href="" ng-if=$ctrl.onClose class="drawer-pf-close pficon pficon-close" ng-click=$ctrl.onClose()></a><h3 class=text-center>{{$ctrl.drawerTitle}}</h3></div><div ng-if=$ctrl.titleInclude class=drawer-pf-title ng-include src=$ctrl.titleInclude></div><div ng-if=!$ctrl.notificationGroups class=apf-blank-notification-groups><pf-empty-state config=$ctrl.emptyStateConfig></pf-empty-state></div><div ng-if=$ctrl.notificationGroups pf-fixed-accordion scroll-selector=.panel-body><div class=panel-group><div class="panel panel-default" ng-repeat="notificationGroup in $ctrl.notificationGroups track by $index"><div class=panel-heading><h4 class=panel-title><a ng-if=!$ctrl.singleGroup ng-click=$ctrl.toggleCollapse(notificationGroup) ng-class="{collapsed: !notificationGroup.open}" ng-include src=$ctrl.headingInclude></a> <span ng-if=$ctrl.singleGroup ng-include src=$ctrl.headingInclude></span></h4><span class=panel-counter ng-include src=$ctrl.subheadingInclude></span></div><div class="panel-collapse collapse" ng-class="{in: notificationGroup.open || $ctrl.notificationGroups.length === 1}"><div ng-if=$ctrl.hasNotifications(notificationGroup) class=panel-body><div class=drawer-pf-notification ng-class="{unread: notification.unread, \'expanded-notification\': $ctrl.drawerExpanded}" ng-repeat="notification in notificationGroup.notifications track by $ctrl.notificationTrackField ? notification[$ctrl.notificationTrackField] || $index : $index" ng-include src=$ctrl.notificationBodyInclude></div><div ng-if=notificationGroup.isLoading class="drawer-pf-loading text-center"><span class="spinner spinner-xs spinner-inline"></span> Loading More</div></div><div ng-if="($ctrl.showClearAll || $ctrl.showMarkAllRead) && $ctrl.hasNotifications(notificationGroup)" class=drawer-pf-action><span class=drawer-pf-action-link ng-if="$ctrl.showMarkAllRead && $ctrl.hasUnread(notificationGroup)"><button class="btn btn-link" ng-click=$ctrl.onMarkAllRead(notificationGroup)>Mark All Read</button></span> <span class=drawer-pf-action-link><button class="btn btn-link" ng-if=$ctrl.showClearAll ng-click=$ctrl.onClearAll(notificationGroup)><span class="pficon pficon-close"></span> Clear All</button></span></div><div ng-if="$ctrl.actionButtonTitle && $ctrl.hasNotifications(notificationGroup)" class=drawer-pf-action><a class="btn btn-link btn-block" ng-click=$ctrl.actionButtonCallback(notificationGroup)>{{$ctrl.actionButtonTitle}}</a></div><div ng-if=!$ctrl.hasNotifications(notificationGroup)><div class=panel-body><pf-empty-state config=notificationGroup.emptyStateConfig></pf-empty-state></div></div><div ng-if=$ctrl.notificationFooterInclude ng-include src=$ctrl.notificationFooterInclude></div></div></div></div></div></div>'), 
e.put("notification/notification-list.html", '<div data-ng-show="$ctrl.notifications.data.length > 0"><div ng-repeat="notification in $ctrl.notifications.data"><pf-inline-notification pf-notification-type=notification.type pf-notification-header=notification.header pf-notification-message=notification.message pf-notification-persistent=notification.isPersistent pf-notification-index=$index></pf-inline-notification></div></div>'), e.put("notification/toast-notification-list.html", '<div class=toast-notifications-list-pf data-ng-show="$ctrl.notifications.length > 0"><div ng-repeat="notification in $ctrl.notifications"><pf-toast-notification notification-type={{notification.type}} header={{notification.header}} message={{notification.message}} show-close="{{($ctrl.showClose || notification.isPersistent === true) && !(notification.menuActions && notification.menuActions.length > 0)}}" html-content=$ctrl.htmlContent close-callback=$ctrl.handleClose action-title={{notification.actionTitle}} action-callback=notification.actionCallback menu-actions=notification.menuActions update-viewing=$ctrl.handleViewingChange data=notification></pf-toast-notification></div></div>'), 
e.put("notification/toast-notification.html", '<div class="toast-pf alert alert-{{$ctrl.notificationType}}" ng-class="{\'alert-dismissable\': $ctrl.showCloseButton}" ng-mouseenter=$ctrl.handleEnter() ng-mouseleave=$ctrl.handleLeave()><div uib-dropdown class="pull-right dropdown-kebab-pf" ng-if="$ctrl.menuActions && $ctrl.menuActions.length > 0"><button uib-dropdown-toggle class="btn btn-link" type=button id=dropdownKebabRight><span class="fa fa-ellipsis-v"></span></button><ul uib-dropdown-menu class=dropdown-menu-right aria-labelledby=dropdownKebabRight><li ng-repeat="menuAction in $ctrl.menuActions" role="{{menuAction.isSeparator === true ? \'separator\' : \'menuitem\'}}" ng-class="{\'divider\': menuAction.isSeparator === true, \'disabled\': menuAction.isDisabled === true}"><a ng-if="menuAction.isSeparator !== true" class=secondary-action title={{menuAction.title}} ng-click=$ctrl.handleMenuAction(menuAction)>{{menuAction.name}}</a></li></ul></div><button ng-if=$ctrl.showCloseButton type=button class=close aria-hidden=true ng-click=$ctrl.handleClose()><span class="pficon pficon-close"></span></button><div class="pull-right toast-pf-action" ng-if=$ctrl.actionTitle><a ng-click=$ctrl.handleAction()>{{$ctrl.actionTitle}}</a></div><span class="pficon pficon-ok" ng-if="$ctrl.notificationType === \'success\'"></span> <span class="pficon pficon-info" ng-if="$ctrl.notificationType === \'info\'"></span> <span class="pficon pficon-error-circle-o" ng-if="$ctrl.notificationType === \'danger\'"></span> <span class="pficon pficon-warning-triangle-o" ng-if="$ctrl.notificationType === \'warning\'"></span> <span ng-if=!$ctrl.htmlContent><strong ng-if=$ctrl.header ng-bind=$ctrl.header></strong> <span ng-bind=$ctrl.message></span></span> <span ng-if=$ctrl.htmlContent><strong ng-if=$ctrl.header ng-bind-html=$ctrl.trustAsHtml($ctrl.header)></strong> <span ng-bind-html=$ctrl.trustAsHtml($ctrl.message)></span></span></div>');
} ]), angular.module("patternfly.pagination").run([ "$templateCache", function(e) {
"use strict";
e.put("pagination/pagination.html", '<form class="content-view-pf-pagination list-view-pf-pagination clearfix" id=form1><div class=form-group><div uib-dropdown class=btn-group><button uib-dropdown-toggle type=button class="btn btn-default">{{$ctrl.pageSize}} <span class=caret></span></button><ul uib-dropdown-menu class=dropdown-menu><li ng-repeat="increment in $ctrl.pageSizeIncrements track by $index" ng-class="{\'selected\': increment === $ctrl.pageSize}" class=display-length-increment><a role=menuitem ng-click=$ctrl.onPageSizeChange(increment)>{{increment}}</a></li></ul></div><span class=per-page-label>per page</span></div><div class=form-group><span><span class=pagination-pf-items-current>{{$ctrl.getStartIndex()}}-{{$ctrl.getEndIndex()}}</span> of <span class=pagination-pf-items-total>{{$ctrl.numTotalItems}}</span></span><ul class="pagination pagination-pf-back"><li ng-class="{\'disabled\': $ctrl.pageNumber === 1}"><a title="First Page" ng-click=$ctrl.gotoFirstPage() class=goto-first-page><span class="i fa fa-angle-double-left"></span></a></li><li ng-class="{\'disabled\': $ctrl.pageNumber === 1}"><a title="Previous Page" ng-click=$ctrl.gotoPreviousPage() class=goto-prev-page><span class="i fa fa-angle-left"></span></a></li></ul><input class=pagination-pf-page ng-model=$ctrl.pageNumber ng-model-options="{ updateOn: \'blur\' }" ng-change="$ctrl.onPageNumberChange()"> <span>of <span class=pagination-pf-pages>{{$ctrl.lastPageNumber}}</span></span><ul class="pagination pagination-pf-forward"><li ng-class="{\'disabled\': $ctrl.pageNumber === $ctrl.lastPageNumber}"><a title="Next Page" ng-click=$ctrl.gotoNextPage() class=goto-next-page><span class="i fa fa-angle-right"></span></a></li><li ng-class="{\'disabled\': $ctrl.pageNumber === $ctrl.lastPageNumber}"><a title="Last Page" ng-click=$ctrl.gotoLastPage() class=goto-last-page><span class="i fa fa-angle-double-right"></span></a></li></ul></div></form>');
} ]), angular.module("patternfly.select").run([ "$templateCache", function(e) {
"use strict";
e.put("select/select.html", '<div uib-dropdown class=btn-group><button uib-dropdown-toggle type=button class="btn btn-default">{{$ctrl.getDisplayValue($ctrl.selected || $ctrl.emptyValue)}} <span class=caret></span></button><ul uib-dropdown-menu><li ng-if=$ctrl.emptyValue ng-class="{\'selected\': !$ctrl.selected}"><a href=javascript:void(0); role=menuitem tabindex=-1 ng-click=$ctrl.selectItem()>{{$ctrl.emptyValue}}</a></li><li ng-repeat="item in $ctrl.options" ng-class="{\'selected\': item === $ctrl.selected}"><a href=javascript:void(0); role=menuitem tabindex=-1 ng-click=$ctrl.selectItem(item)>{{$ctrl.getDisplayValue(item)}}</a></li></ul></div>');
} ]), angular.module("patternfly.sort").run([ "$templateCache", function(e) {
"use strict";
e.put("sort/sort.html", '<div class=sort-pf><div uib-dropdown class=btn-group><button uib-dropdown-toggle type=button class="btn btn-default">{{$ctrl.config.currentField.title}} <span class=caret></span></button><ul uib-dropdown-menu><li ng-repeat="item in $ctrl.config.fields" ng-class="{\'selected\': item === $ctrl.config.currentField}"><a href=javascript:void(0); class=sort-field role=menuitem tabindex=-1 ng-click=$ctrl.selectField(item)>{{item.title}}</a></li></ul></div><button class="btn btn-link" type=button ng-click=$ctrl.changeDirection()><span class=sort-direction ng-class=$ctrl.getSortIconClass()></span></button></div>');
} ]), angular.module("patternfly.table").run([ "$templateCache", function(e) {
"use strict";
e.put("table/tableview/table-view.html", '<div class=container-fluid><table ng-if="$ctrl.config.itemsAvailable !== false" datatable=ng dt-options=$ctrl.dtOptions dt-column-defs=$ctrl.dtColumnDefs dt-instance=$ctrl.dtInstanceCallback class="table-view-container table table-striped table-bordered table-hover dataTable"><thead><tr role=row><th class=table-view-pf-select ng-if=$ctrl.config.showCheckboxes><input type=checkbox value=$ctrl.selectAll ng-model=$ctrl.selectAll ng-change="$ctrl.toggleAll()"></th><th ng-repeat="col in $ctrl.columns">{{col.header}}</th><th ng-if=$ctrl.areActions() colspan={{$ctrl.calcActionsColspan()}}>Actions</th></tr></thead><tbody><tr role=row ng-repeat="item in $ctrl.items track by $index"><td class=table-view-pf-select ng-if=$ctrl.config.showCheckboxes><input type=checkbox value=item.selected ng-model=item.selected ng-change="$ctrl.toggleOne(item)"></td><td ng-repeat="col in $ctrl.columns" ng-init="key = col.itemField; value = item[key]"><span ng-if="!col.htmlTemplate && !col.templateFn">{{value}}</span> <span ng-if=col.htmlTemplate ng-include=col.htmlTemplate></span> <span ng-if=col.templateFn ng-bind-html="$ctrl.trustAsHtml(col.templateFn(value, item))"></span></td><td ng-if="$ctrl.actionButtons && $ctrl.actionButtons.length > 0" class=table-view-pf-actions ng-repeat="actionButton in $ctrl.actionButtons"><div class=table-view-pf-btn><button class="btn btn-default" title={{actionButton.title}} ng-click="$ctrl.handleButtonAction(actionButton, item)"><span ng-if=!actionButton.include>{{actionButton.name}}</span></button></div></td><td ng-if="$ctrl.menuActions && $ctrl.menuActions.length > 0" class="table-view-pf-actions list-group-item-header"><div uib-dropdown class="{{$ctrl.dropdownClass}} dropdown-kebab-pf" id=kebab_{{$index}} ng-if="$ctrl.menuActions && $ctrl.menuActions.length > 0"><button uib-dropdown-toggle class="btn btn-default dropdown-toggle" type=button id=dropdownKebabRight_{{$index}} ng-click="$ctrl.setupActions(item, $event)"><span class="fa fa-ellipsis-v"></span></button><ul uib-dropdown-menu class="dropdown-menu dropdown-menu-right {{$index}}" aria-labelledby=dropdownKebabRight_{{$index}}><li ng-repeat="menuAction in $ctrl.menuActions" ng-if="menuAction.isVisible !== false" role="{{menuAction.isSeparator === true ? \'separator\' : \'menuitem\'}}" ng-class="{\'divider\': (menuAction.isSeparator === true), \'disabled\': (menuAction.isDisabled === true)}"><a ng-if="menuAction.isSeparator !== true" title={{menuAction.title}} ng-click="$ctrl.handleMenuAction(menuAction, item)">{{menuAction.name}}</a></li></ul></div></td></tr></tbody></table><pf-pagination ng-if="$ctrl.dtOptions.paging && $ctrl.config.itemsAvailable === true" page-size=$ctrl.pageConfig.pageSize page-number=$ctrl.pageConfig.pageNumber num-total-items=$ctrl.pageConfig.numTotalItems page-size-increments=$ctrl.pageConfig.pageSizeIncrements update-page-size=$ctrl.updatePageSize($event) update-page-number=$ctrl.updatePageNumber($event)></pf-pagination><pf-empty-state ng-if="$ctrl.config.itemsAvailable === false" config=$ctrl.emptyStateConfig action-buttons=$ctrl.emptyStateActionButtons></pf-empty-state></div>');
} ]), angular.module("patternfly.toolbars").run([ "$templateCache", function(e) {
"use strict";
e.put("toolbars/toolbar.html", '<div class=container-fluid><div class="row toolbar-pf" ng-class="{\'table-view-pf-toolbar\': $ctrl.isTableViewSelected()}"><div class=col-sm-12><form class=toolbar-pf-actions ng-class="{\'no-filter\': !$ctrl.config.filterConfig}"><div class="form-group toolbar-apf-filter"><pf-filter-fields config=$ctrl.config.filterConfig ng-if=$ctrl.config.filterConfig add-filter-fn=$ctrl.addFilter></pf-filter-fields></div><div class=form-group><pf-sort config=$ctrl.config.sortConfig ng-if="$ctrl.config.sortConfig && $ctrl.config.sortConfig.show"></pf-sort></div><div class="form-group toolbar-actions" ng-if="$ctrl.config.actionsConfig &&\n                   (($ctrl.config.actionsConfig.primaryActions && $ctrl.config.actionsConfig.primaryActions.length > 0) ||\n                    ($ctrl.config.actionsConfig.moreActions && $ctrl.config.actionsConfig.moreActions.length > 0) ||\n                    $ctrl.config.actionsConfig.actionsInclude)"><button class="btn btn-default primary-action" type=button ng-repeat="action in $ctrl.config.actionsConfig.primaryActions" title={{action.title}} ng-click=$ctrl.handleAction(action) ng-disabled="action.isDisabled === true">{{action.name}}</button><div ng-if=$ctrl.config.actionsConfig.actionsInclude pf-transclude class=toolbar-pf-include-actions ng-tranclude=actions></div><div uib-dropdown class=dropdown-kebab-pf ng-if="$ctrl.config.actionsConfig.moreActions && $ctrl.config.actionsConfig.moreActions.length > 0"><button uib-dropdown-toggle class="btn btn-link" type=button><span class="fa fa-ellipsis-v"></span></button><ul uib-dropdown-menu aria-labelledby=dropdownKebab><li ng-repeat="action in $ctrl.config.actionsConfig.moreActions" role="{{action.isSeparator === true ? \'separator\' : \'menuitem\'}}" ng-class="{\'divider\': action.isSeparator === true, \'disabled\': action.isDisabled === true}"><a ng-if="action.isSeparator !== true" class=secondary-action title={{action.title}} ng-click=$ctrl.handleAction(action)>{{action.name}}</a></li></ul></div></div><div class=toolbar-pf-action-right><div class="form-group toolbar-pf-view-selector" ng-if="$ctrl.config.viewsConfig && $ctrl.config.viewsConfig.views"><button ng-repeat="view in $ctrl.config.viewsConfig.viewsList" class="btn btn-link" ng-class="{\'active\': $ctrl.isViewSelected(view.id), \'disabled\': $ctrl.checkViewDisabled(view)}" title={{view.title}} ng-click=$ctrl.viewSelected(view.id)><i class={{view.iconClass}}></i></button></div></div></form><pf-filter-results config=$ctrl.config.filterConfig ng-if=$ctrl.config.filterConfig></pf-filter-results></div></div></div>');
} ]), angular.module("patternfly.views").run([ "$templateCache", function(e) {
"use strict";
e.put("views/cardview/card-view.html", '<span><div ng-if="$ctrl.config.itemsAvailable !== false" class=card-view-pf><div class=card ng-repeat="item in $ctrl.items | startFrom:($ctrl.pageConfig.pageNumber - 1)*$ctrl.pageConfig.pageSize | limitTo:$ctrl.pageConfig.pageSize" ng-class="{\'pf-selectable\': $ctrl.selectItems, \'active\': $ctrl.isSelected(item), \'disabled\': $ctrl.checkDisabled(item)}"><div class=card-content ng-click="$ctrl.itemClick($event, item)" ng-dblclick="$ctrl.dblClick($event, item)"><div pf-transclude=parent></div></div><div class=card-check-box ng-if=$ctrl.config.showSelectBox><input type=checkbox value=item.selected ng-model=item.selected ng-disabled=$ctrl.checkDisabled(item) ng-change="$ctrl.checkBoxChange(item)"></div></div></div><pf-pagination ng-if="$ctrl.pageConfig.showPaginationControls && $ctrl.config.itemsAvailable === true" page-size=$ctrl.pageConfig.pageSize page-size-increments=$ctrl.pageConfig.pageSizeIncrements page-number=$ctrl.pageConfig.pageNumber num-total-items=$ctrl.pageConfig.numTotalItems></pf-pagination><pf-empty-state ng-if="$ctrl.config.itemsAvailable === false" config=$ctrl.emptyStateConfig action-buttons=$ctrl.emptyStateActionButtons></pf-empty-state></span>'), 
e.put("views/empty-state.html", '<div class=blank-slate-pf><div ng-if=$ctrl.config.icon class=blank-slate-pf-icon><span class={{$ctrl.config.icon}}></span></div><h4 id=blank-state-pf-title-{{$id}} class="h1 blank-state-pf-title">{{$ctrl.config.title}}</h4><p id=blank-state-pf-info-{{$id}} class=blank-state-pf-info ng-if=$ctrl.config.info>{{$ctrl.config.info}}</p><p id=blank-state-pf-helpLink-{{$id}} class=blank-state-pf-helpLink-label ng-if=$ctrl.config.helpLink>{{$ctrl.config.helpLink.label}} <a ng-if=$ctrl.config.helpLink.url class=blank-state-pf-helpLink ng-click=$ctrl.config.helpLink.urlAction() href={{$ctrl.config.helpLink.url}}>{{$ctrl.config.helpLink.urlLabel}}</a> <button ng-if=!$ctrl.config.helpLink.url class="btn blank-state-pf-helpbutton btn-link" ng-click=$ctrl.config.helpLink.urlAction()>{{$ctrl.config.helpLink.urlLabel}}</button></p><div ng-if=$ctrl.hasMainActions() class=blank-slate-pf-main-action><button class="btn btn-primary btn-lg" ng-repeat="actionButton in $ctrl.actionButtons | filter:$ctrl.filterMainActions" title={{actionButton.title}} ng-click=$ctrl.handleButtonAction(actionButton)>{{actionButton.name}}</button></div><div ng-if=$ctrl.hasSecondaryActions() class=blank-slate-pf-secondary-action><button class="btn btn-default" ng-repeat="actionButton in $ctrl.actionButtons | filter:$ctrl.filterSecondaryActions" title={{actionButton.title}} ng-click=$ctrl.handleButtonAction(actionButton)>{{actionButton.name}}</button></div></div>'), 
e.put("views/listview/examples/clusters-content.html", "<div class=row><div class=col-md-12>Clusters for {{$ctrl.item.name}}</div><div class=col-md-3><ul><li>Cluster 1</li><li>Cluster 2</li><li>Cluster 3</li><li>Cluster 4</li><li>Cluster 5</li><li>Cluster 6</li></ul></div><div class=col-md-9><dl class=dl-horizontal><dt>Host Name</dt><dd>file1.nay.redhat.com</dd><dt>Device Path</dt><dd>/dev/disk/pci-0000.05:00-sas-0.2-part1</dd><dt>Time</dt><dd>January 15, 2016 10:45:11 AM</dd><dt>Severity</dt><dd>Warning</dd><dt>Cluster</dt><dd>Cluster 1</dd></dl><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p></div></div>"), 
e.put("views/listview/examples/hosts-content.html", "<div class=row><div class=col-md-12>Hosts for {{$ctrl.item.name}}</div><div class=col-md-3><ul><li>Host 1</li><li>Host 2</li><li>Host 3</li><li>Host 4</li><li>Host 5</li><li>Host 6</li><li>Host 7</li><li>Host 8</li></ul></div><div class=col-md-9><dl class=dl-horizontal><dt>Host Name</dt><dd>file1.nay.redhat.com</dd><dt>Device Path</dt><dd>/dev/disk/pci-0000.05:00-sas-0.2-part1</dd><dt>Time</dt><dd>January 15, 2016 10:45:11 AM</dd><dt>Severity</dt><dd>Warning</dd><dt>Cluster</dt><dd>Cluster 1</dd></dl><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p></div></div>"), 
e.put("views/listview/examples/images-content.html", "<div class=row><div class=col-md-12>Images for {{$ctrl.item.name}}</div><div class=col-md-3><ul><li>Image 1</li><li>Image 2</li><li>Image 3</li><li>Image 4</li><li>Image 5</li><li>Image 6</li><li>Image 7</li><li>Image 8</li></ul></div><div class=col-md-9><dl class=dl-horizontal><dt>Host Name</dt><dd>file1.nay.redhat.com</dd><dt>Device Path</dt><dd>/dev/disk/pci-0000.05:00-sas-0.2-part1</dd><dt>Time</dt><dd>January 15, 2016 10:45:11 AM</dd><dt>Severity</dt><dd>Warning</dd><dt>Cluster</dt><dd>Cluster 1</dd></dl><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p></div></div>"), 
e.put("views/listview/examples/nodes-content.html", "<div class=row><div class=col-md-12>Nodes for {{$ctrl.item.name}}</div><div class=col-md-3><ul><li>Node 1</li><li>Node 2</li><li>Node 3</li><li>Node 4</li><li>Node 5</li><li>Node 6</li><li>Node 7</li><li>Node 8</li><li>Node 9</li><li>Node 10</li></ul></div><div class=col-md-9><dl class=dl-horizontal><dt>Host Name</dt><dd>file1.nay.redhat.com</dd><dt>Device Path</dt><dd>/dev/disk/pci-0000.05:00-sas-0.2-part1</dd><dt>Time</dt><dd>January 15, 2016 10:45:11 AM</dd><dt>Severity</dt><dd>Warning</dd><dt>Cluster</dt><dd>Cluster 1</dd></dl><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p></div></div>"), 
e.put("views/listview/list-view.html", '<span><div class="list-group list-view-pf list-view-pf-view" dnd-list=$ctrl.items ng-class="{\'list-view-pf-dnd\': $ctrl.config.dragEnabled === true}" ng-if="$ctrl.config.itemsAvailable !== false"><div class=dndPlaceholder></div><div class="list-group-item {{item.rowClass}}" ng-repeat="item in $ctrl.items | startFrom:($ctrl.pageConfig.pageNumber - 1)*$ctrl.pageConfig.pageSize | limitTo:$ctrl.pageConfig.pageSize track by $index" dnd-draggable=item dnd-effect-allowed=move dnd-disable-if="$ctrl.config.dragEnabled !== true" dnd-dragstart=$ctrl.dragStart(item) dnd-moved=$ctrl.dragMoved() dnd-dragend=$ctrl.dragEnd() ng-class="{\'drag-original\': $ctrl.isDragOriginal(item), \'pf-selectable\': $ctrl.selectItems, \'active\': $ctrl.isSelected(item), \'disabled\': $ctrl.checkDisabled(item), \'list-view-pf-expand-active\': item.isExpanded}"><div class=list-group-item-header ng-class="{\'list-group-item-not-selectable\' : !$ctrl.config.selectItems && (!$ctrl.config.useExpandingRows || $ctrl.config.compoundExpansionOnly)}"><div class=list-view-pf-dnd-drag-items ng-if="$ctrl.config.dragEnabled === true"><div pf-transclude=parent class=list-view-pf-main-info></div></div><div ng-class="{\'list-view-pf-dnd-original-items\': $ctrl.config.dragEnabled === true}"><div class=list-view-pf-expand ng-if="$ctrl.config.useExpandingRows && !$ctrl.config.compoundExpansionOnly"><span class="fa fa-angle-right" ng-show=!item.disableRowExpansion ng-click=$ctrl.toggleItemExpansion(item) ng-class="{\'fa-angle-down\': item.isExpanded}"></span> <span class=pf-expand-placeholder ng-show=item.disableRowExpansion></span></div><div class=list-view-pf-checkbox ng-if=$ctrl.config.showSelectBox><input type=checkbox value=item.selected ng-model=item.selected ng-disabled=$ctrl.checkDisabled(item) ng-change="$ctrl.checkBoxChange(item)"></div><div class=list-view-pf-actions ng-if="($ctrl.actionButtons && $ctrl.actionButtons.length > 0) || ($ctrl.menuActions && $ctrl.menuActions.length > 0)"><button class="btn {{actionButton.class || \'btn-default\'}}" ng-repeat="actionButton in $ctrl.actionButtons" title={{actionButton.title}} ng-class="{\'disabled\' : $ctrl.checkDisabled(item) || !$ctrl.enableButtonForItem(actionButton, item)}" ng-click="$ctrl.handleButtonAction(actionButton, item)"><div ng-if=actionButton.include class=actionButton.includeClass ng-include src=actionButton.include></div><span ng-if=!actionButton.include>{{actionButton.name}}</span></button><div uib-dropdown class="{{$ctrl.dropdownClass}} pull-right dropdown-kebab-pf {{$ctrl.getMenuClassForItem(item)}} {{$ctrl.hideMenuForItem(item) ? \'invisible\' : \'\'}}" id=kebab_{{$index}} ng-if="$ctrl.menuActions && $ctrl.menuActions.length > 0"><button uib-dropdown-toggle class="btn btn-link" type=button id=dropdownKebabRight_{{$index}} ng-class="{\'disabled\': $ctrl.checkDisabled(item)}" ng-click="$ctrl.setupActions(item, $event)"><span class="fa fa-ellipsis-v"></span></button><ul uib-dropdown-menu class="dropdown-menu dropdown-menu-right {{$index}}" ng-class="{\'invisible\': !$ctrl.kebabMenuReady}" aria-labelledby=dropdownKebabRight_{{$index}}><li ng-repeat="menuAction in $ctrl.menuActions" ng-if="menuAction.isVisible !== false" role="{{menuAction.isSeparator === true ? \'separator\' : \'menuitem\'}}" ng-class="{\'divider\': (menuAction.isSeparator === true), \'disabled\': (menuAction.isDisabled === true)}"><a ng-if="menuAction.isSeparator !== true" title={{menuAction.title}} ng-click="$ctrl.handleMenuAction(menuAction, item)">{{menuAction.name}}</a></li></ul></div></div><div pf-transclude=parent class=list-view-pf-main-info ng-click="$ctrl.itemClick($event, item)" ng-dblclick="$ctrl.dblClick($event, item)"></div></div></div><div class="list-group-item-container container-fluid" ng-transclude=expandedContent ng-if="$ctrl.config.useExpandingRows && item.isExpanded"></div></div><pf-pagination ng-if="$ctrl.pageConfig.showPaginationControls && $ctrl.config.itemsAvailable === true" page-size=$ctrl.pageConfig.pageSize page-size-increments=$ctrl.pageConfig.pageSizeIncrements page-number=$ctrl.pageConfig.pageNumber num-total-items=$ctrl.pageConfig.numTotalItems></pf-pagination></div><pf-empty-state ng-if="$ctrl.config.itemsAvailable === false" config=$ctrl.emptyStateConfig action-buttons=$ctrl.emptyStateActionButtons></pf-empty-state></span>');
} ]), angular.module("patternfly.wizard").run([ "$templateCache", function(e) {
"use strict";
e.put("wizard/wizard-review-page.html", '<div class=wizard-pf-review-page><div class=wizard-pf-review-steps><ul class=list-group><li class=list-group-item ng-repeat="reviewStep in $ctrl.reviewSteps track by $index"><a class=apf-form-collapse ng-class="{\'collapsed\': !reviewStep.showReviewDetails}" ng-click=$ctrl.toggleShowReviewDetails(reviewStep)>{{reviewStep.stepTitle}}</a><div class=wizard-pf-review-substeps ng-class="{\'collapse\': !reviewStep.showReviewDetails}"><ul class=list-group ng-if=reviewStep.substeps><li class=list-group-item ng-repeat="substep in reviewStep.getReviewSteps()"><a class=apf-form-collapse ng-class="{\'collapsed\': !substep.showReviewDetails}" ng-click=$ctrl.toggleShowReviewDetails(substep)><span class=wizard-pf-substep-number>{{$ctrl.getSubStepNumber(reviewStep, substep)}}</span> <span class=wizard-pf-substep-title>{{substep.stepTitle}}</span></a><div class=wizard-pf-review-content ng-class="{\'collapse\': !substep.showReviewDetails}"><div ng-include=substep.reviewTemplate></div></div></li></ul><div class=wizard-pf-review-content ng-if=reviewStep.reviewTemplate ng-class="{\'collapse\': !reviewStep.showReviewDetails}"><div ng-include=reviewStep.reviewTemplate></div></div></div></li></ul></div></div>'), 
e.put("wizard/wizard-step.html", '<section ng-show=$ctrl.selected class=wizard-pf-row ng-class="{current: $ctrl.selected, done: $ctrl.completed}" style="height: inherit"><div ng-if=!$ctrl.wizard.hideSidebar class=wizard-pf-sidebar ng-style=$ctrl.contentStyle ng-class=$ctrl.wizard.sidebarClass ng-if="$ctrl.substeps === true"><ul class=list-group><li class=list-group-item ng-class="{active: step.selected}" ng-repeat="step in $ctrl.getEnabledSteps()"><a ng-click=$ctrl.stepClick(step)><span class=wizard-pf-substep-number>{{$ctrl.getStepDisplayNumber(step)}}</span> <span class=wizard-pf-substep-title>{{step.title}}</span></a></li></ul></div><div class="wizard-pf-main {{$ctrl.wizard.stepClass}}" ng-class="{\'wizard-pf-singlestep\': !$ctrl.substeps || $ctrl.wizard.hideSidebar}" ng-style=$ctrl.contentStyle><div class=wizard-pf-contents ng-transclude></div></div></section>'), e.put("wizard/wizard-substep.html", '<subsection ng-show=$ctrl.selected ng-class="{current: $ctrl.selected, done: $ctrl.completed}" class=wizard-pf-step ng-transclude></subsection>'), 
e.put("wizard/wizard.html", '<div><div class=modal-header ng-if=!$ctrl.hideHeader><button type=button class="close wizard-pf-dismiss" aria-hidden=true aria-label=Close ng-click=$ctrl.onCancel() ng-if=!$ctrl.embedInPage><span class="pficon pficon-close"></span></button><h4 class=modal-title>{{$ctrl.wizardTitle}}</h4></div><div class="modal-body wizard-pf-body clearfix">\x3c!-- step area --\x3e<div class=wizard-pf-steps ng-class="{\'invisible\': !$ctrl.wizardReady}"><ul class=wizard-pf-steps-indicator ng-if=!$ctrl.hideIndicators ng-class="{\'invisible\': !$ctrl.wizardReady}"><li class=wizard-pf-step ng-class="{active: step.selected}" ng-repeat="step in $ctrl.getEnabledSteps()" data-tabgroup="{{$index }}"><a ng-click=$ctrl.stepClick(step) ng-class="{\'disabled\': !$ctrl.allowStepIndicatorClick(step)}"><span class=wizard-pf-step-number>{{$index + 1}}</span> <span ng-if="!$ctrl.activeStepTitleOnly || step.selected" class=wizard-pf-step-title>{{step.title}}</span> <span class=wizard-pf-step-title-substep ng-repeat="substep in step.steps track by $index" ng-class="{\'active\': substep.selected}">{{substep.title}}</span></a></li></ul></div>\x3c!-- loading wizard placeholder --\x3e<div ng-if=!$ctrl.wizardReady class=wizard-pf-main style="margin-left: 0px"><div class="wizard-pf-loading blank-slate-pf"><div class="spinner spinner-lg blank-slate-pf-icon"></div><h3 class=blank-slate-pf-main-action>{{$ctrl.loadingWizardTitle}}</h3><p class=blank-slate-pf-secondary-action>{{$ctrl.loadingSecondaryInformation}}</p></div></div><div class=wizard-pf-position-override ng-transclude></div></div><div class="modal-footer wizard-pf-footer wizard-pf-position-override" ng-class="{\'wizard-pf-footer-inline\': $ctrl.embedInPage}"><button ng-if=!$ctrl.embedInPage class="btn btn-default btn-cancel wizard-pf-cancel" ng-class="{\'wizard-pf-cancel-no-back\': $ctrl.hideBackButton}" ng-disabled=$ctrl.wizardDone ng-click=$ctrl.onCancel()>{{$ctrl.cancelTitle}}</button> <button id=backButton class="btn btn-default" ng-if=!$ctrl.hideBackButton tooltip-append-to-body=true uib-tooltip={{$ctrl.prevTooltip}} tooltip-placement=left ng-disabled="!$ctrl.wizardReady || $ctrl.wizardDone || !$ctrl.selectedStep.isPrevEnabled() || $ctrl.firstStep" ng-click=$ctrl.previous()>{{$ctrl.backTitle}}</button> <button id=nextButton class="btn btn-primary wizard-pf-next" uib-tooltip={{$ctrl.nextTooltip}} tooltip-append-to-body=true tooltip-placement=left ng-disabled="!$ctrl.wizardReady || !$ctrl.selectedStep.isNextEnabled()" ng-click=$ctrl.next()>{{$ctrl.nextTitle}}</button> <button ng-if=$ctrl.embedInPage class="btn btn-default btn-cancel wizard-pf-cancel wizard-pf-cancel-inline" ng-disabled=$ctrl.wizardDone ng-click=$ctrl.onCancel()>{{$ctrl.cancelTitle}}</button></div></div>');
} ]), angular.module("gettext", []), angular.module("gettext").constant("gettext", function(e) {
return e;
}), angular.module("gettext").factory("gettextCatalog", [ "gettextPlurals", "gettextFallbackLanguage", "$http", "$cacheFactory", "$interpolate", "$rootScope", function(e, t, n, i, r, o) {
function a() {
o.$broadcast("gettextLanguageChanged");
}
var s, l = '<span id="test" title="test" class="tested">test</span>', c = angular.element("<span>" + l + "</span>").html() !== l, u = function(e) {
return s.debug && s.currentLanguage !== s.baseLanguage ? s.debugPrefix + e : e;
}, d = function(e) {
return s.showTranslatedMarkers ? s.translatedMarkerPrefix + e + s.translatedMarkerSuffix : e;
};
return s = {
debug: !1,
debugPrefix: "[MISSING]: ",
showTranslatedMarkers: !1,
translatedMarkerPrefix: "[",
translatedMarkerSuffix: "]",
strings: {},
baseLanguage: "en",
currentLanguage: "en",
cache: i("strings"),
setCurrentLanguage: function(e) {
this.currentLanguage = e, a();
},
getCurrentLanguage: function() {
return this.currentLanguage;
},
setStrings: function(t, n) {
this.strings[t] || (this.strings[t] = {});
var i = e(t, 1);
for (var r in n) {
var o = n[r];
if (c && (r = angular.element("<span>" + r + "</span>").html()), angular.isString(o) || angular.isArray(o)) {
var s = {};
s.$$noContext = o, o = s;
}
this.strings[t][r] || (this.strings[t][r] = {});
for (var l in o) {
var u = o[l];
angular.isArray(u) ? this.strings[t][r][l] = u : (this.strings[t][r][l] = [], this.strings[t][r][l][i] = u);
}
}
a();
},
getStringFormFor: function(t, n, i, r) {
return t ? (((this.strings[t] || {})[n] || {})[r || "$$noContext"] || [])[e(t, i)] : null;
},
getString: function(e, n, i) {
var o = t(this.currentLanguage);
return e = this.getStringFormFor(this.currentLanguage, e, 1, i) || this.getStringFormFor(o, e, 1, i) || u(e), e = n ? r(e)(n) : e, d(e);
},
getPlural: function(e, n, i, o, a) {
var s = t(this.currentLanguage);
return n = this.getStringFormFor(this.currentLanguage, n, e, a) || this.getStringFormFor(s, n, e, a) || u(1 === e ? n : i), o && (o.$count = e, n = r(n)(o)), d(n);
},
loadRemote: function(e) {
return n({
method: "GET",
url: e,
cache: s.cache
}).then(function(e) {
var t = e.data;
for (var n in t) s.setStrings(n, t[n]);
return e;
});
}
};
} ]), angular.module("gettext").directive("translate", [ "gettextCatalog", "$parse", "$animate", "$compile", "$window", "gettextUtil", function(e, t, n, i, r, o) {
function a(e) {
return o.lcFirst(e.replace(c, ""));
}
function s(e, t, n) {
var i = Object.keys(t).filter(function(e) {
return o.startsWith(e, c) && e !== c;
});
if (!i.length) return null;
var r = angular.extend({}, e), s = [];
return i.forEach(function(i) {
var o = e.$watch(t[i], function(e) {
var t = a(i);
r[t] = e, n(r);
});
s.push(o);
}), e.$on("$destroy", function() {
s.forEach(function(e) {
e();
});
}), r;
}
var l = parseInt((/msie (\d+)/.exec(angular.lowercase(r.navigator.userAgent)) || [])[1], 10), c = "translateParams";
return {
restrict: "AE",
terminal: !0,
compile: function(r, a) {
o.assert(!a.translatePlural || a.translateN, "translate-n", "translate-plural"), o.assert(!a.translateN || a.translatePlural, "translate-plural", "translate-n");
var c = o.trim(r.html()), u = a.translatePlural, d = a.translateContext;
return l <= 8 && "\x3c!--IE fix--\x3e" === c.slice(-13) && (c = c.slice(0, -13)), {
post: function(r, a, l) {
function h(t) {
t = t || null;
var s;
u ? ((r = p || (p = r.$new())).$count = f(r), s = e.getPlural(r.$count, c, u, t, d)) : s = e.getString(c, t, d);
var l = a.contents();
if (0 !== l.length) if (s !== o.trim(l.html())) {
var h = angular.element("<span>" + s + "</span>");
i(h.contents())(r);
var m = h.contents();
n.enter(m, a), n.leave(l);
} else g && i(l)(r);
}
var f = t(l.translateN), p = null, g = !0, m = s(r, l, h);
h(m), g = !1, l.translateN && r.$watch(l.translateN, function() {
h(m);
}), r.$on("gettextLanguageChanged", function() {
h(m);
});
}
};
}
};
} ]), angular.module("gettext").factory("gettextFallbackLanguage", function() {
var e = {}, t = /([^_]+)_[^_]+$/;
return function(n) {
if (e[n]) return e[n];
var i = t.exec(n);
return i ? (e[n] = i[1], i[1]) : null;
};
}), angular.module("gettext").filter("translate", [ "gettextCatalog", function(e) {
function t(t, n) {
return e.getString(t, null, n);
}
return t.$stateful = !0, t;
} ]), angular.module("gettext").factory("gettextPlurals", function() {
function e(e) {
return t[e] || (t[e] = e.split(/\-|_/).shift()), t[e];
}
var t = {
pt_BR: "pt_BR",
"pt-BR": "pt_BR"
};
return function(t, n) {
switch (e(t)) {
case "ay":
case "bo":
case "cgg":
case "dz":
case "fa":
case "id":
case "ja":
case "jbo":
case "ka":
case "kk":
case "km":
case "ko":
case "ky":
case "lo":
case "ms":
case "my":
case "sah":
case "su":
case "th":
case "tt":
case "ug":
case "vi":
case "wo":
case "zh":
return 0;

case "is":
return n % 10 != 1 || n % 100 == 11 ? 1 : 0;

case "jv":
return 0 != n ? 1 : 0;

case "mk":
return 1 == n || n % 10 == 1 ? 0 : 1;

case "ach":
case "ak":
case "am":
case "arn":
case "br":
case "fil":
case "fr":
case "gun":
case "ln":
case "mfe":
case "mg":
case "mi":
case "oc":
case "pt_BR":
case "tg":
case "ti":
case "tr":
case "uz":
case "wa":
case "zh":
return n > 1 ? 1 : 0;

case "lv":
return n % 10 == 1 && n % 100 != 11 ? 0 : 0 != n ? 1 : 2;

case "lt":
return n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;

case "be":
case "bs":
case "hr":
case "ru":
case "sr":
case "uk":
return n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;

case "mnk":
return 0 == n ? 0 : 1 == n ? 1 : 2;

case "ro":
return 1 == n ? 0 : 0 == n || n % 100 > 0 && n % 100 < 20 ? 1 : 2;

case "pl":
return 1 == n ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;

case "cs":
case "sk":
return 1 == n ? 0 : n >= 2 && n <= 4 ? 1 : 2;

case "sl":
return n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0;

case "mt":
return 1 == n ? 0 : 0 == n || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3;

case "gd":
return 1 == n || 11 == n ? 0 : 2 == n || 12 == n ? 1 : n > 2 && n < 20 ? 2 : 3;

case "cy":
return 1 == n ? 0 : 2 == n ? 1 : 8 != n && 11 != n ? 2 : 3;

case "kw":
return 1 == n ? 0 : 2 == n ? 1 : 3 == n ? 2 : 3;

case "ga":
return 1 == n ? 0 : 2 == n ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4;

case "ar":
return 0 == n ? 0 : 1 == n ? 1 : 2 == n ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5;

default:
return 1 != n ? 1 : 0;
}
};
}), angular.module("gettext").factory("gettextUtil", function() {
return {
trim: String.prototype.trim ? function(e) {
return "string" == typeof e ? e.trim() : e;
} : function(e) {
return "string" == typeof e ? e.replace(/^\s*/, "").replace(/\s*$/, "") : e;
},
assert: function(e, t, n) {
if (!e) throw new Error("You should add a " + t + " attribute whenever you add a " + n + " attribute.");
},
startsWith: function(e, t) {
return 0 === e.indexOf(t);
},
lcFirst: function(e) {
return e.charAt(0).toLowerCase() + e.substr(1);
}
};
}), function(e, t) {
"use strict";
"object" == typeof module && module.exports ? module.exports = t(require("./punycode"), require("./IPv6"), require("./SecondLevelDomains")) : "function" == typeof define && define.amd ? define([ "./punycode", "./IPv6", "./SecondLevelDomains" ], t) : e.URI = t(e.punycode, e.IPv6, e.SecondLevelDomains, e);
}(this, function(e, t, n, i) {
"use strict";
function r(e, t) {
var n = arguments.length >= 1, i = arguments.length >= 2;
if (!(this instanceof r)) return n ? i ? new r(e, t) : new r(e) : new r();
if (void 0 === e) {
if (n) throw new TypeError("undefined is not a valid argument for URI");
e = "undefined" != typeof location ? location.href + "" : "";
}
if (null === e && n) throw new TypeError("null is not a valid argument for URI");
return this.href(e), void 0 !== t ? this.absoluteTo(t) : this;
}
function o(e) {
return /^[0-9]+$/.test(e);
}
function a(e) {
return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1");
}
function s(e) {
return void 0 === e ? "Undefined" : String(Object.prototype.toString.call(e)).slice(8, -1);
}
function l(e) {
return "Array" === s(e);
}
function c(e, t) {
var n, i, r = {};
if ("RegExp" === s(t)) r = null; else if (l(t)) for (n = 0, i = t.length; n < i; n++) r[t[n]] = !0; else r[t] = !0;
for (n = 0, i = e.length; n < i; n++) (r && void 0 !== r[e[n]] || !r && t.test(e[n])) && (e.splice(n, 1), i--, n--);
return e;
}
function u(e, t) {
var n, i;
if (l(t)) {
for (n = 0, i = t.length; n < i; n++) if (!u(e, t[n])) return !1;
return !0;
}
var r = s(t);
for (n = 0, i = e.length; n < i; n++) if ("RegExp" === r) {
if ("string" == typeof e[n] && e[n].match(t)) return !0;
} else if (e[n] === t) return !0;
return !1;
}
function d(e, t) {
if (!l(e) || !l(t)) return !1;
if (e.length !== t.length) return !1;
e.sort(), t.sort();
for (var n = 0, i = e.length; n < i; n++) if (e[n] !== t[n]) return !1;
return !0;
}
function h(e) {
var t = /^\/+|\/+$/g;
return e.replace(t, "");
}
function f(e) {
return escape(e);
}
function p(e) {
return encodeURIComponent(e).replace(/[!'()*]/g, f).replace(/\*/g, "%2A");
}
function g(e) {
return function(t, n) {
return void 0 === t ? this._parts[e] || "" : (this._parts[e] = t || null, this.build(!n), this);
};
}
function m(e, t) {
return function(n, i) {
return void 0 === n ? this._parts[e] || "" : (null !== n && (n += "").charAt(0) === t && (n = n.substring(1)), this._parts[e] = n, this.build(!i), this);
};
}
var v = i && i.URI;
r.version = "1.18.12";
var y = r.prototype, b = Object.prototype.hasOwnProperty;
r._parts = function() {
return {
protocol: null,
username: null,
password: null,
hostname: null,
urn: null,
port: null,
path: null,
query: null,
fragment: null,
duplicateQueryParameters: r.duplicateQueryParameters,
escapeQuerySpace: r.escapeQuerySpace
};
}, r.duplicateQueryParameters = !1, r.escapeQuerySpace = !0, r.protocol_expression = /^[a-z][a-z0-9.+-]*$/i, r.idn_expression = /[^a-z0-9\._-]/i, r.punycode_expression = /(xn--)/i, r.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/, r.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/, 
r.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi, r.findUri = {
start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
end: /[\s\r\n]|$/,
trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,
parens: /(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g
}, r.defaultPorts = {
http: "80",
https: "443",
ftp: "21",
gopher: "70",
ws: "80",
wss: "443"
}, r.hostProtocols = [ "http", "https" ], r.invalid_hostname_characters = /[^a-zA-Z0-9\.\-:_]/, r.domAttributes = {
a: "href",
blockquote: "cite",
link: "href",
base: "href",
script: "src",
form: "action",
img: "src",
area: "href",
iframe: "src",
embed: "src",
source: "src",
track: "src",
input: "src",
audio: "src",
video: "src"
}, r.getDomAttribute = function(e) {
if (e && e.nodeName) {
var t = e.nodeName.toLowerCase();
if ("input" !== t || "image" === e.type) return r.domAttributes[t];
}
}, r.encode = p, r.decode = decodeURIComponent, r.iso8859 = function() {
r.encode = escape, r.decode = unescape;
}, r.unicode = function() {
r.encode = p, r.decode = decodeURIComponent;
}, r.characters = {
pathname: {
encode: {
expression: /%(24|26|2B|2C|3B|3D|3A|40)/gi,
map: {
"%24": "$",
"%26": "&",
"%2B": "+",
"%2C": ",",
"%3B": ";",
"%3D": "=",
"%3A": ":",
"%40": "@"
}
},
decode: {
expression: /[\/\?#]/g,
map: {
"/": "%2F",
"?": "%3F",
"#": "%23"
}
}
},
reserved: {
encode: {
expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,
map: {
"%3A": ":",
"%2F": "/",
"%3F": "?",
"%23": "#",
"%5B": "[",
"%5D": "]",
"%40": "@",
"%21": "!",
"%24": "$",
"%26": "&",
"%27": "'",
"%28": "(",
"%29": ")",
"%2A": "*",
"%2B": "+",
"%2C": ",",
"%3B": ";",
"%3D": "="
}
}
},
urnpath: {
encode: {
expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,
map: {
"%21": "!",
"%24": "$",
"%27": "'",
"%28": "(",
"%29": ")",
"%2A": "*",
"%2B": "+",
"%2C": ",",
"%3B": ";",
"%3D": "=",
"%40": "@"
}
},
decode: {
expression: /[\/\?#:]/g,
map: {
"/": "%2F",
"?": "%3F",
"#": "%23",
":": "%3A"
}
}
}
}, r.encodeQuery = function(e, t) {
var n = r.encode(e + "");
return void 0 === t && (t = r.escapeQuerySpace), t ? n.replace(/%20/g, "+") : n;
}, r.decodeQuery = function(e, t) {
e += "", void 0 === t && (t = r.escapeQuerySpace);
try {
return r.decode(t ? e.replace(/\+/g, "%20") : e);
} catch (t) {
return e;
}
};
var _, w = {
encode: "encode",
decode: "decode"
}, C = function(e, t) {
return function(n) {
try {
return r[t](n + "").replace(r.characters[e][t].expression, function(n) {
return r.characters[e][t].map[n];
});
} catch (e) {
return n;
}
};
};
for (_ in w) r[_ + "PathSegment"] = C("pathname", w[_]), r[_ + "UrnPathSegment"] = C("urnpath", w[_]);
var x = function(e, t, n) {
return function(i) {
var o;
o = n ? function(e) {
return r[t](r[n](e));
} : r[t];
for (var a = (i + "").split(e), s = 0, l = a.length; s < l; s++) a[s] = o(a[s]);
return a.join(e);
};
};
r.decodePath = x("/", "decodePathSegment"), r.decodeUrnPath = x(":", "decodeUrnPathSegment"), r.recodePath = x("/", "encodePathSegment", "decode"), r.recodeUrnPath = x(":", "encodeUrnPathSegment", "decode"), r.encodeReserved = C("reserved", "encode"), r.parse = function(e, t) {
var n;
return t || (t = {}), (n = e.indexOf("#")) > -1 && (t.fragment = e.substring(n + 1) || null, e = e.substring(0, n)), (n = e.indexOf("?")) > -1 && (t.query = e.substring(n + 1) || null, e = e.substring(0, n)), "//" === e.substring(0, 2) ? (t.protocol = null, e = e.substring(2), e = r.parseAuthority(e, t)) : (n = e.indexOf(":")) > -1 && (t.protocol = e.substring(0, n) || null, t.protocol && !t.protocol.match(r.protocol_expression) ? t.protocol = void 0 : "//" === e.substring(n + 1, n + 3) ? (e = e.substring(n + 3), e = r.parseAuthority(e, t)) : (e = e.substring(n + 1), t.urn = !0)), t.path = e, t;
}, r.parseHost = function(e, t) {
var n, i, o = (e = e.replace(/\\/g, "/")).indexOf("/");
if (-1 === o && (o = e.length), "[" === e.charAt(0)) n = e.indexOf("]"), t.hostname = e.substring(1, n) || null, t.port = e.substring(n + 2, o) || null, "/" === t.port && (t.port = null); else {
var a = e.indexOf(":"), s = e.indexOf("/"), l = e.indexOf(":", a + 1);
-1 !== l && (-1 === s || l < s) ? (t.hostname = e.substring(0, o) || null, t.port = null) : (i = e.substring(0, o).split(":"), t.hostname = i[0] || null, t.port = i[1] || null);
}
return t.hostname && "/" !== e.substring(o).charAt(0) && (o++, e = "/" + e), r.ensureValidHostname(t.hostname, t.protocol), t.port && r.ensureValidPort(t.port), e.substring(o) || "/";
}, r.parseAuthority = function(e, t) {
return e = r.parseUserinfo(e, t), r.parseHost(e, t);
}, r.parseUserinfo = function(e, t) {
var n, i = e.indexOf("/"), o = e.lastIndexOf("@", i > -1 ? i : e.length - 1);
return o > -1 && (-1 === i || o < i) ? (n = e.substring(0, o).split(":"), t.username = n[0] ? r.decode(n[0]) : null, n.shift(), t.password = n[0] ? r.decode(n.join(":")) : null, e = e.substring(o + 1)) : (t.username = null, t.password = null), e;
}, r.parseQuery = function(e, t) {
if (!e) return {};
if (!(e = e.replace(/&+/g, "&").replace(/^\?*&*|&+$/g, ""))) return {};
for (var n, i, o, a = {}, s = e.split("&"), l = s.length, c = 0; c < l; c++) n = s[c].split("="), i = r.decodeQuery(n.shift(), t), o = n.length ? r.decodeQuery(n.join("="), t) : null, b.call(a, i) ? ("string" != typeof a[i] && null !== a[i] || (a[i] = [ a[i] ]), a[i].push(o)) : a[i] = o;
return a;
}, r.build = function(e) {
var t = "";
return e.protocol && (t += e.protocol + ":"), e.urn || !t && !e.hostname || (t += "//"), t += r.buildAuthority(e) || "", "string" == typeof e.path && ("/" !== e.path.charAt(0) && "string" == typeof e.hostname && (t += "/"), t += e.path), "string" == typeof e.query && e.query && (t += "?" + e.query), "string" == typeof e.fragment && e.fragment && (t += "#" + e.fragment), t;
}, r.buildHost = function(e) {
var t = "";
return e.hostname ? (r.ip6_expression.test(e.hostname) ? t += "[" + e.hostname + "]" : t += e.hostname, e.port && (t += ":" + e.port), t) : "";
}, r.buildAuthority = function(e) {
return r.buildUserinfo(e) + r.buildHost(e);
}, r.buildUserinfo = function(e) {
var t = "";
return e.username && (t += r.encode(e.username)), e.password && (t += ":" + r.encode(e.password)), t && (t += "@"), t;
}, r.buildQuery = function(e, t, n) {
var i, o, a, s, c = "";
for (o in e) if (b.call(e, o) && o) if (l(e[o])) for (i = {}, a = 0, s = e[o].length; a < s; a++) void 0 !== e[o][a] && void 0 === i[e[o][a] + ""] && (c += "&" + r.buildQueryParameter(o, e[o][a], n), !0 !== t && (i[e[o][a] + ""] = !0)); else void 0 !== e[o] && (c += "&" + r.buildQueryParameter(o, e[o], n));
return c.substring(1);
}, r.buildQueryParameter = function(e, t, n) {
return r.encodeQuery(e, n) + (null !== t ? "=" + r.encodeQuery(t, n) : "");
}, r.addQuery = function(e, t, n) {
if ("object" == typeof t) for (var i in t) b.call(t, i) && r.addQuery(e, i, t[i]); else {
if ("string" != typeof t) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
if (void 0 === e[t]) return void (e[t] = n);
"string" == typeof e[t] && (e[t] = [ e[t] ]), l(n) || (n = [ n ]), e[t] = (e[t] || []).concat(n);
}
}, r.removeQuery = function(e, t, n) {
var i, o, a;
if (l(t)) for (i = 0, o = t.length; i < o; i++) e[t[i]] = void 0; else if ("RegExp" === s(t)) for (a in e) t.test(a) && (e[a] = void 0); else if ("object" == typeof t) for (a in t) b.call(t, a) && r.removeQuery(e, a, t[a]); else {
if ("string" != typeof t) throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");
void 0 !== n ? "RegExp" === s(n) ? !l(e[t]) && n.test(e[t]) ? e[t] = void 0 : e[t] = c(e[t], n) : e[t] !== String(n) || l(n) && 1 !== n.length ? l(e[t]) && (e[t] = c(e[t], n)) : e[t] = void 0 : e[t] = void 0;
}
}, r.hasQuery = function(e, t, n, i) {
switch (s(t)) {
case "String":
break;

case "RegExp":
for (var o in e) if (b.call(e, o) && t.test(o) && (void 0 === n || r.hasQuery(e, o, n))) return !0;
return !1;

case "Object":
for (var a in t) if (b.call(t, a) && !r.hasQuery(e, a, t[a])) return !1;
return !0;

default:
throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter");
}
switch (s(n)) {
case "Undefined":
return t in e;

case "Boolean":
return n === Boolean(l(e[t]) ? e[t].length : e[t]);

case "Function":
return !!n(e[t], t, e);

case "Array":
return !!l(e[t]) && (i ? u : d)(e[t], n);

case "RegExp":
return l(e[t]) ? !!i && u(e[t], n) : Boolean(e[t] && e[t].match(n));

case "Number":
n = String(n);

case "String":
return l(e[t]) ? !!i && u(e[t], n) : e[t] === n;

default:
throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");
}
}, r.joinPaths = function() {
for (var e = [], t = [], n = 0, i = 0; i < arguments.length; i++) {
var o = new r(arguments[i]);
e.push(o);
for (var a = o.segment(), s = 0; s < a.length; s++) "string" == typeof a[s] && t.push(a[s]), a[s] && n++;
}
if (!t.length || !n) return new r("");
var l = new r("").segment(t);
return "" !== e[0].path() && "/" !== e[0].path().slice(0, 1) || l.path("/" + l.path()), l.normalize();
}, r.commonPath = function(e, t) {
var n, i = Math.min(e.length, t.length);
for (n = 0; n < i; n++) if (e.charAt(n) !== t.charAt(n)) {
n--;
break;
}
return n < 1 ? e.charAt(0) === t.charAt(0) && "/" === e.charAt(0) ? "/" : "" : ("/" === e.charAt(n) && "/" === t.charAt(n) || (n = e.substring(0, n).lastIndexOf("/")), e.substring(0, n + 1));
}, r.withinString = function(e, t, n) {
n || (n = {});
var i = n.start || r.findUri.start, o = n.end || r.findUri.end, a = n.trim || r.findUri.trim, s = n.parens || r.findUri.parens, l = /[a-z0-9-]=["']?$/i;
for (i.lastIndex = 0; ;) {
var c = i.exec(e);
if (!c) break;
var u = c.index;
if (n.ignoreHtml) {
var d = e.slice(Math.max(u - 3, 0), u);
if (d && l.test(d)) continue;
}
for (var h = u + e.slice(u).search(o), f = e.slice(u, h), p = -1; ;) {
var g = s.exec(f);
if (!g) break;
var m = g.index + g[0].length;
p = Math.max(p, m);
}
if (!((f = p > -1 ? f.slice(0, p) + f.slice(p).replace(a, "") : f.replace(a, "")).length <= c[0].length || n.ignore && n.ignore.test(f))) {
var v = t(f, u, h = u + f.length, e);
void 0 !== v ? (v = String(v), e = e.slice(0, u) + v + e.slice(h), i.lastIndex = u + v.length) : i.lastIndex = h;
}
}
return i.lastIndex = 0, e;
}, r.ensureValidHostname = function(t, n) {
var i = !!t, o = !1;
if (!!n && (o = u(r.hostProtocols, n)), o && !i) throw new TypeError("Hostname cannot be empty, if protocol is " + n);
if (t && t.match(r.invalid_hostname_characters)) {
if (!e) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');
if (e.toASCII(t).match(r.invalid_hostname_characters)) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-:_]');
}
}, r.ensureValidPort = function(e) {
if (e) {
var t = Number(e);
if (!(o(t) && t > 0 && t < 65536)) throw new TypeError('Port "' + e + '" is not a valid port');
}
}, r.noConflict = function(e) {
if (e) {
var t = {
URI: this.noConflict()
};
return i.URITemplate && "function" == typeof i.URITemplate.noConflict && (t.URITemplate = i.URITemplate.noConflict()), i.IPv6 && "function" == typeof i.IPv6.noConflict && (t.IPv6 = i.IPv6.noConflict()), i.SecondLevelDomains && "function" == typeof i.SecondLevelDomains.noConflict && (t.SecondLevelDomains = i.SecondLevelDomains.noConflict()), t;
}
return i.URI === this && (i.URI = v), this;
}, y.build = function(e) {
return !0 === e ? this._deferred_build = !0 : (void 0 === e || this._deferred_build) && (this._string = r.build(this._parts), this._deferred_build = !1), this;
}, y.clone = function() {
return new r(this);
}, y.valueOf = y.toString = function() {
return this.build(!1)._string;
}, y.protocol = g("protocol"), y.username = g("username"), y.password = g("password"), y.hostname = g("hostname"), y.port = g("port"), y.query = m("query", "?"), y.fragment = m("fragment", "#"), y.search = function(e, t) {
var n = this.query(e, t);
return "string" == typeof n && n.length ? "?" + n : n;
}, y.hash = function(e, t) {
var n = this.fragment(e, t);
return "string" == typeof n && n.length ? "#" + n : n;
}, y.pathname = function(e, t) {
if (void 0 === e || !0 === e) {
var n = this._parts.path || (this._parts.hostname ? "/" : "");
return e ? (this._parts.urn ? r.decodeUrnPath : r.decodePath)(n) : n;
}
return this._parts.urn ? this._parts.path = e ? r.recodeUrnPath(e) : "" : this._parts.path = e ? r.recodePath(e) : "/", this.build(!t), this;
}, y.path = y.pathname, y.href = function(e, t) {
var n;
if (void 0 === e) return this.toString();
this._string = "", this._parts = r._parts();
var i = e instanceof r, o = "object" == typeof e && (e.hostname || e.path || e.pathname);
if (e.nodeName && (e = e[r.getDomAttribute(e)] || "", o = !1), !i && o && void 0 !== e.pathname && (e = e.toString()), "string" == typeof e || e instanceof String) this._parts = r.parse(String(e), this._parts); else {
if (!i && !o) throw new TypeError("invalid input");
var a = i ? e._parts : e;
for (n in a) b.call(this._parts, n) && (this._parts[n] = a[n]);
}
return this.build(!t), this;
}, y.is = function(e) {
var t = !1, i = !1, o = !1, a = !1, s = !1, l = !1, c = !1, u = !this._parts.urn;
switch (this._parts.hostname && (u = !1, i = r.ip4_expression.test(this._parts.hostname), o = r.ip6_expression.test(this._parts.hostname), s = (a = !(t = i || o)) && n && n.has(this._parts.hostname), l = a && r.idn_expression.test(this._parts.hostname), c = a && r.punycode_expression.test(this._parts.hostname)), e.toLowerCase()) {
case "relative":
return u;

case "absolute":
return !u;

case "domain":
case "name":
return a;

case "sld":
return s;

case "ip":
return t;

case "ip4":
case "ipv4":
case "inet4":
return i;

case "ip6":
case "ipv6":
case "inet6":
return o;

case "idn":
return l;

case "url":
return !this._parts.urn;

case "urn":
return !!this._parts.urn;

case "punycode":
return c;
}
return null;
};
var S = y.protocol, $ = y.port, A = y.hostname;
y.protocol = function(e, t) {
if (void 0 !== e && e && !(e = e.replace(/:(\/\/)?$/, "")).match(r.protocol_expression)) throw new TypeError('Protocol "' + e + "\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");
return S.call(this, e, t);
}, y.scheme = y.protocol, y.port = function(e, t) {
return this._parts.urn ? void 0 === e ? "" : this : (void 0 !== e && (0 === e && (e = null), e && (":" === (e += "").charAt(0) && (e = e.substring(1)), r.ensureValidPort(e))), $.call(this, e, t));
}, y.hostname = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 !== e) {
var n = {};
if ("/" !== r.parseHost(e, n)) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-]');
e = n.hostname, r.ensureValidHostname(e, this._parts.protocol);
}
return A.call(this, e, t);
}, y.origin = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) {
var n = this.protocol();
return this.authority() ? (n ? n + "://" : "") + this.authority() : "";
}
var i = r(e);
return this.protocol(i.protocol()).authority(i.authority()).build(!t), this;
}, y.host = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) return this._parts.hostname ? r.buildHost(this._parts) : "";
if ("/" !== r.parseHost(e, this._parts)) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-]');
return this.build(!t), this;
}, y.authority = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) return this._parts.hostname ? r.buildAuthority(this._parts) : "";
if ("/" !== r.parseAuthority(e, this._parts)) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-]');
return this.build(!t), this;
}, y.userinfo = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) {
var n = r.buildUserinfo(this._parts);
return n ? n.substring(0, n.length - 1) : n;
}
return "@" !== e[e.length - 1] && (e += "@"), r.parseUserinfo(e, this._parts), this.build(!t), this;
}, y.resource = function(e, t) {
var n;
return void 0 === e ? this.path() + this.search() + this.hash() : (n = r.parse(e), this._parts.path = n.path, this._parts.query = n.query, this._parts.fragment = n.fragment, this.build(!t), this);
}, y.subdomain = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) {
if (!this._parts.hostname || this.is("IP")) return "";
var n = this._parts.hostname.length - this.domain().length - 1;
return this._parts.hostname.substring(0, n) || "";
}
var i = this._parts.hostname.length - this.domain().length, o = this._parts.hostname.substring(0, i), s = new RegExp("^" + a(o));
if (e && "." !== e.charAt(e.length - 1) && (e += "."), -1 !== e.indexOf(":")) throw new TypeError("Domains cannot contain colons");
return e && r.ensureValidHostname(e, this._parts.protocol), this._parts.hostname = this._parts.hostname.replace(s, e), this.build(!t), this;
}, y.domain = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if ("boolean" == typeof e && (t = e, e = void 0), void 0 === e) {
if (!this._parts.hostname || this.is("IP")) return "";
var n = this._parts.hostname.match(/\./g);
if (n && n.length < 2) return this._parts.hostname;
var i = this._parts.hostname.length - this.tld(t).length - 1;
return i = this._parts.hostname.lastIndexOf(".", i - 1) + 1, this._parts.hostname.substring(i) || "";
}
if (!e) throw new TypeError("cannot set domain empty");
if (-1 !== e.indexOf(":")) throw new TypeError("Domains cannot contain colons");
if (r.ensureValidHostname(e, this._parts.protocol), !this._parts.hostname || this.is("IP")) this._parts.hostname = e; else {
var o = new RegExp(a(this.domain()) + "$");
this._parts.hostname = this._parts.hostname.replace(o, e);
}
return this.build(!t), this;
}, y.tld = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if ("boolean" == typeof e && (t = e, e = void 0), void 0 === e) {
if (!this._parts.hostname || this.is("IP")) return "";
var i = this._parts.hostname.lastIndexOf("."), r = this._parts.hostname.substring(i + 1);
return !0 !== t && n && n.list[r.toLowerCase()] ? n.get(this._parts.hostname) || r : r;
}
var o;
if (!e) throw new TypeError("cannot set TLD empty");
if (e.match(/[^a-zA-Z0-9-]/)) {
if (!n || !n.is(e)) throw new TypeError('TLD "' + e + '" contains characters other than [A-Z0-9]');
o = new RegExp(a(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(o, e);
} else {
if (!this._parts.hostname || this.is("IP")) throw new ReferenceError("cannot set TLD on non-domain host");
o = new RegExp(a(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(o, e);
}
return this.build(!t), this;
}, y.directory = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e || !0 === e) {
if (!this._parts.path && !this._parts.hostname) return "";
if ("/" === this._parts.path) return "/";
var n = this._parts.path.length - this.filename().length - 1, i = this._parts.path.substring(0, n) || (this._parts.hostname ? "/" : "");
return e ? r.decodePath(i) : i;
}
var o = this._parts.path.length - this.filename().length, s = this._parts.path.substring(0, o), l = new RegExp("^" + a(s));
return this.is("relative") || (e || (e = "/"), "/" !== e.charAt(0) && (e = "/" + e)), e && "/" !== e.charAt(e.length - 1) && (e += "/"), e = r.recodePath(e), this._parts.path = this._parts.path.replace(l, e), this.build(!t), this;
}, y.filename = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if ("string" != typeof e) {
if (!this._parts.path || "/" === this._parts.path) return "";
var n = this._parts.path.lastIndexOf("/"), i = this._parts.path.substring(n + 1);
return e ? r.decodePathSegment(i) : i;
}
var o = !1;
"/" === e.charAt(0) && (e = e.substring(1)), e.match(/\.?\//) && (o = !0);
var s = new RegExp(a(this.filename()) + "$");
return e = r.recodePath(e), this._parts.path = this._parts.path.replace(s, e), o ? this.normalizePath(t) : this.build(!t), this;
}, y.suffix = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e || !0 === e) {
if (!this._parts.path || "/" === this._parts.path) return "";
var n, i, o = this.filename(), s = o.lastIndexOf(".");
return -1 === s ? "" : (n = o.substring(s + 1), i = /^[a-z0-9%]+$/i.test(n) ? n : "", e ? r.decodePathSegment(i) : i);
}
"." === e.charAt(0) && (e = e.substring(1));
var l, c = this.suffix();
if (c) l = e ? new RegExp(a(c) + "$") : new RegExp(a("." + c) + "$"); else {
if (!e) return this;
this._parts.path += "." + r.recodePath(e);
}
return l && (e = r.recodePath(e), this._parts.path = this._parts.path.replace(l, e)), this.build(!t), this;
}, y.segment = function(e, t, n) {
var i = this._parts.urn ? ":" : "/", r = this.path(), o = "/" === r.substring(0, 1), a = r.split(i);
if (void 0 !== e && "number" != typeof e && (n = t, t = e, e = void 0), void 0 !== e && "number" != typeof e) throw new Error('Bad segment "' + e + '", must be 0-based integer');
if (o && a.shift(), e < 0 && (e = Math.max(a.length + e, 0)), void 0 === t) return void 0 === e ? a : a[e];
if (null === e || void 0 === a[e]) if (l(t)) {
a = [];
for (var s = 0, c = t.length; s < c; s++) (t[s].length || a.length && a[a.length - 1].length) && (a.length && !a[a.length - 1].length && a.pop(), a.push(h(t[s])));
} else (t || "string" == typeof t) && (t = h(t), "" === a[a.length - 1] ? a[a.length - 1] = t : a.push(t)); else t ? a[e] = h(t) : a.splice(e, 1);
return o && a.unshift(""), this.path(a.join(i), n);
}, y.segmentCoded = function(e, t, n) {
var i, o, a;
if ("number" != typeof e && (n = t, t = e, e = void 0), void 0 === t) {
if (i = this.segment(e, t, n), l(i)) for (o = 0, a = i.length; o < a; o++) i[o] = r.decode(i[o]); else i = void 0 !== i ? r.decode(i) : void 0;
return i;
}
if (l(t)) for (o = 0, a = t.length; o < a; o++) t[o] = r.encode(t[o]); else t = "string" == typeof t || t instanceof String ? r.encode(t) : t;
return this.segment(e, t, n);
};
var k = y.query;
return y.query = function(e, t) {
if (!0 === e) return r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
if ("function" == typeof e) {
var n = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace), i = e.call(this, n);
return this._parts.query = r.buildQuery(i || n, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this;
}
return void 0 !== e && "string" != typeof e ? (this._parts.query = r.buildQuery(e, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this) : k.call(this, e, t);
}, y.setQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
if ("string" == typeof e || e instanceof String) i[e] = void 0 !== t ? t : null; else {
if ("object" != typeof e) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
for (var o in e) b.call(e, o) && (i[o] = e[o]);
}
return this._parts.query = r.buildQuery(i, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (n = t), this.build(!n), this;
}, y.addQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
return r.addQuery(i, e, void 0 === t ? null : t), this._parts.query = r.buildQuery(i, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (n = t), this.build(!n), this;
}, y.removeQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
return r.removeQuery(i, e, t), this._parts.query = r.buildQuery(i, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (n = t), this.build(!n), this;
}, y.hasQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
return r.hasQuery(i, e, t, n);
}, y.setSearch = y.setQuery, y.addSearch = y.addQuery, y.removeSearch = y.removeQuery, y.hasSearch = y.hasQuery, y.normalize = function() {
return this._parts.urn ? this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build() : this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build();
}, y.normalizeProtocol = function(e) {
return "string" == typeof this._parts.protocol && (this._parts.protocol = this._parts.protocol.toLowerCase(), this.build(!e)), this;
}, y.normalizeHostname = function(n) {
return this._parts.hostname && (this.is("IDN") && e ? this._parts.hostname = e.toASCII(this._parts.hostname) : this.is("IPv6") && t && (this._parts.hostname = t.best(this._parts.hostname)), this._parts.hostname = this._parts.hostname.toLowerCase(), this.build(!n)), this;
}, y.normalizePort = function(e) {
return "string" == typeof this._parts.protocol && this._parts.port === r.defaultPorts[this._parts.protocol] && (this._parts.port = null, this.build(!e)), this;
}, y.normalizePath = function(e) {
var t = this._parts.path;
if (!t) return this;
if (this._parts.urn) return this._parts.path = r.recodeUrnPath(this._parts.path), this.build(!e), this;
if ("/" === this._parts.path) return this;
var n, i, o, a = "";
for ("/" !== (t = r.recodePath(t)).charAt(0) && (n = !0, t = "/" + t), "/.." !== t.slice(-3) && "/." !== t.slice(-2) || (t += "/"), t = t.replace(/(\/(\.\/)+)|(\/\.$)/g, "/").replace(/\/{2,}/g, "/"), n && (a = t.substring(1).match(/^(\.\.\/)+/) || "") && (a = a[0]); ;) {
if (-1 === (i = t.search(/\/\.\.(\/|$)/))) break;
0 !== i ? (-1 === (o = t.substring(0, i).lastIndexOf("/")) && (o = i), t = t.substring(0, o) + t.substring(i + 3)) : t = t.substring(3);
}
return n && this.is("relative") && (t = a + t.substring(1)), this._parts.path = t, this.build(!e), this;
}, y.normalizePathname = y.normalizePath, y.normalizeQuery = function(e) {
return "string" == typeof this._parts.query && (this._parts.query.length ? this.query(r.parseQuery(this._parts.query, this._parts.escapeQuerySpace)) : this._parts.query = null, this.build(!e)), this;
}, y.normalizeFragment = function(e) {
return this._parts.fragment || (this._parts.fragment = null, this.build(!e)), this;
}, y.normalizeSearch = y.normalizeQuery, y.normalizeHash = y.normalizeFragment, y.iso8859 = function() {
var e = r.encode, t = r.decode;
r.encode = escape, r.decode = decodeURIComponent;
try {
this.normalize();
} finally {
r.encode = e, r.decode = t;
}
return this;
}, y.unicode = function() {
var e = r.encode, t = r.decode;
r.encode = p, r.decode = unescape;
try {
this.normalize();
} finally {
r.encode = e, r.decode = t;
}
return this;
}, y.readable = function() {
var t = this.clone();
t.username("").password("").normalize();
var n = "";
if (t._parts.protocol && (n += t._parts.protocol + "://"), t._parts.hostname && (t.is("punycode") && e ? (n += e.toUnicode(t._parts.hostname), t._parts.port && (n += ":" + t._parts.port)) : n += t.host()), t._parts.hostname && t._parts.path && "/" !== t._parts.path.charAt(0) && (n += "/"), n += t.path(!0), t._parts.query) {
for (var i = "", o = 0, a = t._parts.query.split("&"), s = a.length; o < s; o++) {
var l = (a[o] || "").split("=");
i += "&" + r.decodeQuery(l[0], this._parts.escapeQuerySpace).replace(/&/g, "%26"), void 0 !== l[1] && (i += "=" + r.decodeQuery(l[1], this._parts.escapeQuerySpace).replace(/&/g, "%26"));
}
n += "?" + i.substring(1);
}
return n += r.decodeQuery(t.hash(), !0);
}, y.absoluteTo = function(e) {
var t, n, i, o = this.clone(), a = [ "protocol", "username", "password", "hostname", "port" ];
if (this._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
if (e instanceof r || (e = new r(e)), o._parts.protocol) return o;
if (o._parts.protocol = e._parts.protocol, this._parts.hostname) return o;
for (n = 0; i = a[n]; n++) o._parts[i] = e._parts[i];
return o._parts.path ? (".." === o._parts.path.substring(-2) && (o._parts.path += "/"), "/" !== o.path().charAt(0) && (t = (t = e.directory()) || (0 === e.path().indexOf("/") ? "/" : ""), o._parts.path = (t ? t + "/" : "") + o._parts.path, o.normalizePath())) : (o._parts.path = e._parts.path, o._parts.query || (o._parts.query = e._parts.query)), o.build(), o;
}, y.relativeTo = function(e) {
var t, n, i, o, a, s = this.clone().normalize();
if (s._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
if (e = new r(e).normalize(), t = s._parts, n = e._parts, o = s.path(), a = e.path(), "/" !== o.charAt(0)) throw new Error("URI is already relative");
if ("/" !== a.charAt(0)) throw new Error("Cannot calculate a URI relative to another relative URI");
if (t.protocol === n.protocol && (t.protocol = null), t.username !== n.username || t.password !== n.password) return s.build();
if (null !== t.protocol || null !== t.username || null !== t.password) return s.build();
if (t.hostname !== n.hostname || t.port !== n.port) return s.build();
if (t.hostname = null, t.port = null, o === a) return t.path = "", s.build();
if (!(i = r.commonPath(o, a))) return s.build();
var l = n.path.substring(i.length).replace(/[^\/]*$/, "").replace(/.*?\//g, "../");
return t.path = l + t.path.substring(i.length) || "./", s.build();
}, y.equals = function(e) {
var t, n, i, o = this.clone(), a = new r(e), s = {}, c = {}, u = {};
if (o.normalize(), a.normalize(), o.toString() === a.toString()) return !0;
if (t = o.query(), n = a.query(), o.query(""), a.query(""), o.toString() !== a.toString()) return !1;
if (t.length !== n.length) return !1;
s = r.parseQuery(t, this._parts.escapeQuerySpace), c = r.parseQuery(n, this._parts.escapeQuerySpace);
for (i in s) if (b.call(s, i)) {
if (l(s[i])) {
if (!d(s[i], c[i])) return !1;
} else if (s[i] !== c[i]) return !1;
u[i] = !0;
}
for (i in c) if (b.call(c, i) && !u[i]) return !1;
return !0;
}, y.duplicateQueryParameters = function(e) {
return this._parts.duplicateQueryParameters = !!e, this;
}, y.escapeQuerySpace = function(e) {
return this._parts.escapeQuerySpace = !!e, this;
}, r;
}), function(e, t) {
"use strict";
"object" == typeof module && module.exports ? module.exports = t(require("./URI")) : "function" == typeof define && define.amd ? define([ "./URI" ], t) : e.URITemplate = t(e.URI, e);
}(this, function(e, t) {
"use strict";
function n(e) {
return n._cache[e] ? n._cache[e] : this instanceof n ? (this.expression = e, n._cache[e] = this, this) : new n(e);
}
function i(e) {
this.data = e, this.cache = {};
}
var r = t && t.URITemplate, o = Object.prototype.hasOwnProperty, a = n.prototype, s = {
"": {
prefix: "",
separator: ",",
named: !1,
empty_name_separator: !1,
encode: "encode"
},
"+": {
prefix: "",
separator: ",",
named: !1,
empty_name_separator: !1,
encode: "encodeReserved"
},
"#": {
prefix: "#",
separator: ",",
named: !1,
empty_name_separator: !1,
encode: "encodeReserved"
},
".": {
prefix: ".",
separator: ".",
named: !1,
empty_name_separator: !1,
encode: "encode"
},
"/": {
prefix: "/",
separator: "/",
named: !1,
empty_name_separator: !1,
encode: "encode"
},
";": {
prefix: ";",
separator: ";",
named: !0,
empty_name_separator: !1,
encode: "encode"
},
"?": {
prefix: "?",
separator: "&",
named: !0,
empty_name_separator: !0,
encode: "encode"
},
"&": {
prefix: "&",
separator: "&",
named: !0,
empty_name_separator: !0,
encode: "encode"
}
};
return n._cache = {}, n.EXPRESSION_PATTERN = /\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g, n.VARIABLE_PATTERN = /^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/, n.VARIABLE_NAME_PATTERN = /[^a-zA-Z0-9%_.]/, n.LITERAL_PATTERN = /[<>{}"`^| \\]/, n.expand = function(e, t, i) {
var r, o, a, l = s[e.operator], c = l.named ? "Named" : "Unnamed", u = e.variables, d = [];
for (a = 0; o = u[a]; a++) {
if (0 === (r = t.get(o.name)).type && i && i.strict) throw new Error('Missing expansion value for variable "' + o.name + '"');
if (r.val.length) {
if (r.type > 1 && o.maxlength) throw new Error('Invalid expression: Prefix modifier not applicable to variable "' + o.name + '"');
d.push(n["expand" + c](r, l, o.explode, o.explode && l.separator || ",", o.maxlength, o.name));
} else r.type && d.push("");
}
return d.length ? l.prefix + d.join(l.separator) : "";
}, n.expandNamed = function(t, n, i, r, o, a) {
var s, l, c, u = "", d = n.encode, h = n.empty_name_separator, f = !t[d].length, p = 2 === t.type ? "" : e[d](a);
for (l = 0, c = t.val.length; l < c; l++) o ? (s = e[d](t.val[l][1].substring(0, o)), 2 === t.type && (p = e[d](t.val[l][0].substring(0, o)))) : f ? (s = e[d](t.val[l][1]), 2 === t.type ? (p = e[d](t.val[l][0]), t[d].push([ p, s ])) : t[d].push([ void 0, s ])) : (s = t[d][l][1], 2 === t.type && (p = t[d][l][0])), u && (u += r), i ? u += p + (h || s ? "=" : "") + s : (l || (u += e[d](a) + (h || s ? "=" : "")), 2 === t.type && (u += p + ","), u += s);
return u;
}, n.expandUnnamed = function(t, n, i, r, o) {
var a, s, l, c = "", u = n.encode, d = n.empty_name_separator, h = !t[u].length;
for (s = 0, l = t.val.length; s < l; s++) o ? a = e[u](t.val[s][1].substring(0, o)) : h ? (a = e[u](t.val[s][1]), t[u].push([ 2 === t.type ? e[u](t.val[s][0]) : void 0, a ])) : a = t[u][s][1], c && (c += r), 2 === t.type && (c += o ? e[u](t.val[s][0].substring(0, o)) : t[u][s][0], c += i ? d || a ? "=" : "" : ","), c += a;
return c;
}, n.noConflict = function() {
return t.URITemplate === n && (t.URITemplate = r), n;
}, a.expand = function(e, t) {
var r = "";
this.parts && this.parts.length || this.parse(), e instanceof i || (e = new i(e));
for (var o = 0, a = this.parts.length; o < a; o++) r += "string" == typeof this.parts[o] ? this.parts[o] : n.expand(this.parts[o], e, t);
return r;
}, a.parse = function() {
var e, t, i, r = this.expression, o = n.EXPRESSION_PATTERN, a = n.VARIABLE_PATTERN, l = n.VARIABLE_NAME_PATTERN, c = n.LITERAL_PATTERN, u = [], d = 0, h = function(e) {
if (e.match(c)) throw new Error('Invalid Literal "' + e + '"');
return e;
};
for (o.lastIndex = 0; ;) {
if (null === (t = o.exec(r))) {
u.push(h(r.substring(d)));
break;
}
if (u.push(h(r.substring(d, t.index))), d = t.index + t[0].length, !s[t[1]]) throw new Error('Unknown Operator "' + t[1] + '" in "' + t[0] + '"');
if (!t[3]) throw new Error('Unclosed Expression "' + t[0] + '"');
for (var f = 0, p = (e = t[2].split(",")).length; f < p; f++) {
if (null === (i = e[f].match(a))) throw new Error('Invalid Variable "' + e[f] + '" in "' + t[0] + '"');
if (i[1].match(l)) throw new Error('Invalid Variable Name "' + i[1] + '" in "' + t[0] + '"');
e[f] = {
name: i[1],
explode: !!i[3],
maxlength: i[4] && parseInt(i[4], 10)
};
}
if (!e.length) throw new Error('Expression Missing Variable(s) "' + t[0] + '"');
u.push({
expression: t[0],
operator: t[1],
variables: e
});
}
return u.length || u.push(h(r)), this.parts = u, this;
}, i.prototype.get = function(e) {
var t, n, i, r = this.data, a = {
type: 0,
val: [],
encode: [],
encodeReserved: []
};
if (void 0 !== this.cache[e]) return this.cache[e];
if (this.cache[e] = a, void 0 === (i = "[object Function]" === String(Object.prototype.toString.call(r)) ? r(e) : "[object Function]" === String(Object.prototype.toString.call(r[e])) ? r[e](e) : r[e]) || null === i) return a;
if ("[object Array]" === String(Object.prototype.toString.call(i))) {
for (t = 0, n = i.length; t < n; t++) void 0 !== i[t] && null !== i[t] && a.val.push([ void 0, String(i[t]) ]);
a.val.length && (a.type = 3);
} else if ("[object Object]" === String(Object.prototype.toString.call(i))) {
for (t in i) o.call(i, t) && void 0 !== i[t] && null !== i[t] && a.val.push([ t, String(i[t]) ]);
a.val.length && (a.type = 2);
} else a.type = 1, a.val.push([ void 0, String(i) ]);
return a;
}, e.expand = function(t, i) {
var r = new n(t).expand(i);
return new e(r);
}, n;
}), function(e, t) {
"use strict";
"object" == typeof module && module.exports ? module.exports = t(require("jquery"), require("./URI")) : "function" == typeof define && define.amd ? define([ "jquery", "./URI" ], t) : t(e.jQuery, e.URI);
}(this, function(e, t) {
"use strict";
function n(e) {
return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1");
}
function i(e) {
var n = e.nodeName.toLowerCase(), i = t.domAttributes[n];
if ("input" !== n || "image" === e.type) return i;
}
function r(t) {
return {
get: function(n) {
return e(n).uri()[t]();
},
set: function(n, i) {
return e(n).uri()[t](i), i;
}
};
}
function o(t, n) {
var r, o, l;
return !(!i(t) || !n) && (!(!(r = n.match(u)) || !r[5] && ":" !== r[2] && !s[r[2]]) && (l = e(t).uri(), r[5] ? l.is(r[5]) : ":" === r[2] ? (o = r[1].toLowerCase() + ":", !!s[o] && s[o](l, r[4])) : (o = r[1].toLowerCase(), !!a[o] && s[r[2]](l[o](), r[4], o))));
}
var a = {}, s = {
"=": function(e, t) {
return e === t;
},
"^=": function(e, t) {
return !!(e + "").match(new RegExp("^" + n(t), "i"));
},
"$=": function(e, t) {
return !!(e + "").match(new RegExp(n(t) + "$", "i"));
},
"*=": function(e, t, i) {
return "directory" === i && (e += "/"), !!(e + "").match(new RegExp(n(t), "i"));
},
"equals:": function(e, t) {
return e.equals(t);
},
"is:": function(e, t) {
return e.is(t);
}
};
e.each("origin authority directory domain filename fragment hash host hostname href password path pathname port protocol query resource scheme search subdomain suffix tld username".split(" "), function(t, n) {
a[n] = !0, e.attrHooks["uri:" + n] = r(n);
});
var l = {
get: function(t) {
return e(t).uri();
},
set: function(t, n) {
return e(t).uri().href(n).toString();
}
};
e.each([ "src", "href", "action", "uri", "cite" ], function(t, n) {
e.attrHooks[n] = {
set: l.set
};
}), e.attrHooks.uri.get = l.get, e.fn.uri = function(e) {
var n = this.first(), r = n.get(0), o = i(r);
if (!o) throw new Error('Element "' + r.nodeName + '" does not have either property: href, src, action, cite');
if (void 0 !== e) {
var a = n.data("uri");
if (a) return a.href(e);
e instanceof t || (e = t(e || ""));
} else {
if (e = n.data("uri")) return e;
e = t(n.attr(o) || "");
}
return e._dom_element = r, e._dom_attribute = o, e.normalize(), n.data("uri", e), e;
}, t.prototype.build = function(e) {
return this._dom_element ? (this._string = t.build(this._parts), this._deferred_build = !1, this._dom_element.setAttribute(this._dom_attribute, this._string), this._dom_element[this._dom_attribute] = this._string) : !0 === e ? this._deferred_build = !0 : (void 0 === e || this._deferred_build) && (this._string = t.build(this._parts), this._deferred_build = !1), this;
};
var c, u = /^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/;
return c = e.expr.createPseudo ? e.expr.createPseudo(function(e) {
return function(t) {
return o(t, e);
};
}) : function(e, t, n) {
return o(e, n[3]);
}, e.expr[":"].uri = c, e;
}), function(e, t) {
"use strict";
"object" == typeof module && module.exports ? module.exports = t(require("./URI")) : "function" == typeof define && define.amd ? define([ "./URI" ], t) : t(e.URI);
}(this, function(e) {
"use strict";
var t = e.prototype, n = t.fragment, i = t.build;
e.fragmentPrefix = "!";
var r = e._parts;
return e._parts = function() {
var t = r();
return t.fragmentPrefix = e.fragmentPrefix, t;
}, t.fragmentPrefix = function(e) {
return this._parts.fragmentPrefix = e, this;
}, t.fragment = function(t, i) {
var r, o = this._parts.fragmentPrefix, a = this._parts.fragment || "";
return !0 === t ? (r = a.substring(0, o.length) !== o ? e("") : new e(a.substring(o.length)), this._fragmentURI = r, r._parentURI = this, r) : void 0 !== t && "string" != typeof t ? (this._fragmentURI = t, t._parentURI = t, this._parts.fragment = o + t.toString(), this.build(!i), this) : ("string" == typeof t && (this._fragmentURI = void 0), n.call(this, t, i));
}, t.build = function(e) {
var t = i.call(this, e);
return !1 !== e && this._parentURI && this._parentURI.fragment(this), t;
}, e;
}), function(e, t) {
"function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t() : e.Sifter = t();
}(this, function() {
var e = function(e, t) {
this.items = e, this.settings = t || {
diacritics: !0
};
};
e.prototype.tokenize = function(e) {
if (!(e = i(String(e || "").toLowerCase())) || !e.length) return [];
var t, n, o, s, l = [], c = e.split(/ +/);
for (t = 0, n = c.length; t < n; t++) {
if (o = r(c[t]), this.settings.diacritics) for (s in a) a.hasOwnProperty(s) && (o = o.replace(new RegExp(s, "g"), a[s]));
l.push({
string: c[t],
regex: new RegExp(o, "i")
});
}
return l;
}, e.prototype.iterator = function(e, t) {
(o(e) ? Array.prototype.forEach || function(e) {
for (var t = 0, n = this.length; t < n; t++) e(this[t], t, this);
} : function(e) {
for (var t in this) this.hasOwnProperty(t) && e(this[t], t, this);
}).apply(e, [ t ]);
}, e.prototype.getScoreFunction = function(e, t) {
var n, i, r;
e = this.prepareSearch(e, t), i = e.tokens, n = e.options.fields, r = i.length;
var o = function(e, t) {
var n, i;
return e ? (e = String(e || ""), -1 === (i = e.search(t.regex)) ? 0 : (n = t.string.length / e.length, 0 === i && (n += .5), n)) : 0;
}, a = function() {
var e = n.length;
return e ? 1 === e ? function(e, t) {
return o(t[n[0]], e);
} : function(t, i) {
for (var r = 0, a = 0; r < e; r++) a += o(i[n[r]], t);
return a / e;
} : function() {
return 0;
};
}();
return r ? 1 === r ? function(e) {
return a(i[0], e);
} : "and" === e.options.conjunction ? function(e) {
for (var t, n = 0, o = 0; n < r; n++) {
if ((t = a(i[n], e)) <= 0) return 0;
o += t;
}
return o / r;
} : function(e) {
for (var t = 0, n = 0; t < r; t++) n += a(i[t], e);
return n / r;
} : function() {
return 0;
};
}, e.prototype.getSortFunction = function(e, n) {
var i, r, o, a, s, l, c, u, d, h, f;
if (o = this, e = o.prepareSearch(e, n), f = !e.query && n.sort_empty || n.sort, d = function(e, t) {
return "$score" === e ? t.score : o.items[t.id][e];
}, s = [], f) for (i = 0, r = f.length; i < r; i++) (e.query || "$score" !== f[i].field) && s.push(f[i]);
if (e.query) {
for (h = !0, i = 0, r = s.length; i < r; i++) if ("$score" === s[i].field) {
h = !1;
break;
}
h && s.unshift({
field: "$score",
direction: "desc"
});
} else for (i = 0, r = s.length; i < r; i++) if ("$score" === s[i].field) {
s.splice(i, 1);
break;
}
for (u = [], i = 0, r = s.length; i < r; i++) u.push("desc" === s[i].direction ? -1 : 1);
return (l = s.length) ? 1 === l ? (a = s[0].field, c = u[0], function(e, n) {
return c * t(d(a, e), d(a, n));
}) : function(e, n) {
var i, r, o;
for (i = 0; i < l; i++) if (o = s[i].field, r = u[i] * t(d(o, e), d(o, n))) return r;
return 0;
} : null;
}, e.prototype.prepareSearch = function(e, t) {
if ("object" == typeof e) return e;
var i = (t = n({}, t)).fields, r = t.sort, a = t.sort_empty;
return i && !o(i) && (t.fields = [ i ]), r && !o(r) && (t.sort = [ r ]), a && !o(a) && (t.sort_empty = [ a ]), {
options: t,
query: String(e || "").toLowerCase(),
tokens: this.tokenize(e),
total: 0,
items: []
};
}, e.prototype.search = function(e, t) {
var n, i, r, o, a = this;
return i = this.prepareSearch(e, t), t = i.options, e = i.query, o = t.score || a.getScoreFunction(i), e.length ? a.iterator(a.items, function(e, r) {
n = o(e), (!1 === t.filter || n > 0) && i.items.push({
score: n,
id: r
});
}) : a.iterator(a.items, function(e, t) {
i.items.push({
score: 1,
id: t
});
}), (r = a.getSortFunction(i, t)) && i.items.sort(r), i.total = i.items.length, "number" == typeof t.limit && (i.items = i.items.slice(0, t.limit)), i;
};
var t = function(e, t) {
return "number" == typeof e && "number" == typeof t ? e > t ? 1 : e < t ? -1 : 0 : (e = s(String(e || "")), t = s(String(t || "")), e > t ? 1 : t > e ? -1 : 0);
}, n = function(e, t) {
var n, i, r, o;
for (n = 1, i = arguments.length; n < i; n++) if (o = arguments[n]) for (r in o) o.hasOwnProperty(r) && (e[r] = o[r]);
return e;
}, i = function(e) {
return (e + "").replace(/^\s+|\s+$|/g, "");
}, r = function(e) {
return (e + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}, o = Array.isArray || $ && $.isArray || function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}, a = {
a: "[aÀÁÂÃÄÅàáâãäåĀāąĄ]",
c: "[cÇçćĆčČ]",
d: "[dđĐďĎ]",
e: "[eÈÉÊËèéêëěĚĒēęĘ]",
i: "[iÌÍÎÏìíîïĪī]",
l: "[lłŁ]",
n: "[nÑñňŇńŃ]",
o: "[oÒÓÔÕÕÖØòóôõöøŌō]",
r: "[rřŘ]",
s: "[sŠšśŚ]",
t: "[tťŤ]",
u: "[uÙÚÛÜùúûüůŮŪū]",
y: "[yŸÿýÝ]",
z: "[zŽžżŻźŹ]"
}, s = function() {
var e, t, n, i, r = "", o = {};
for (n in a) if (a.hasOwnProperty(n)) for (r += i = a[n].substring(2, a[n].length - 1), e = 0, t = i.length; e < t; e++) o[i.charAt(e)] = n;
var s = new RegExp("[" + r + "]", "g");
return function(e) {
return e.replace(s, function(e) {
return o[e];
}).toLowerCase();
};
}();
return e;
}), function(e, t) {
"function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t() : e.MicroPlugin = t();
}(this, function() {
var e = {};
e.mixin = function(e) {
e.plugins = {}, e.prototype.initializePlugins = function(e) {
var n, i, r, o = this, a = [];
if (o.plugins = {
names: [],
settings: {},
requested: {},
loaded: {}
}, t.isArray(e)) for (n = 0, i = e.length; n < i; n++) "string" == typeof e[n] ? a.push(e[n]) : (o.plugins.settings[e[n].name] = e[n].options, a.push(e[n].name)); else if (e) for (r in e) e.hasOwnProperty(r) && (o.plugins.settings[r] = e[r], a.push(r));
for (;a.length; ) o.require(a.shift());
}, e.prototype.loadPlugin = function(t) {
var n = this, i = n.plugins, r = e.plugins[t];
if (!e.plugins.hasOwnProperty(t)) throw new Error('Unable to find "' + t + '" plugin');
i.requested[t] = !0, i.loaded[t] = r.fn.apply(n, [ n.plugins.settings[t] || {} ]), i.names.push(t);
}, e.prototype.require = function(e) {
var t = this, n = t.plugins;
if (!t.plugins.loaded.hasOwnProperty(e)) {
if (n.requested[e]) throw new Error('Plugin has circular dependency ("' + e + '")');
t.loadPlugin(e);
}
return n.loaded[e];
}, e.define = function(t, n) {
e.plugins[t] = {
name: t,
fn: n
};
};
};
var t = {
isArray: Array.isArray || function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}
};
return e;
}), function(e, t) {
"function" == typeof define && define.amd ? define([ "jquery", "sifter", "microplugin" ], t) : "object" == typeof exports ? module.exports = t(require("jquery"), require("sifter"), require("microplugin")) : e.Selectize = t(e.jQuery, e.Sifter, e.MicroPlugin);
}(this, function(e, t, n) {
"use strict";
var i = function(e, t) {
if ("string" != typeof t || t.length) {
var n = "string" == typeof t ? new RegExp(t, "i") : t, i = function(e) {
var t = 0;
if (3 === e.nodeType) {
var r = e.data.search(n);
if (r >= 0 && e.data.length > 0) {
var o = e.data.match(n), a = document.createElement("span");
a.className = "highlight";
var s = e.splitText(r), l = (s.splitText(o[0].length), s.cloneNode(!0));
a.appendChild(l), s.parentNode.replaceChild(a, s), t = 1;
}
} else if (1 === e.nodeType && e.childNodes && !/(script|style)/i.test(e.tagName)) for (var c = 0; c < e.childNodes.length; ++c) c += i(e.childNodes[c]);
return t;
};
return e.each(function() {
i(this);
});
}
}, r = function() {};
r.prototype = {
on: function(e, t) {
this._events = this._events || {}, this._events[e] = this._events[e] || [], this._events[e].push(t);
},
off: function(e, t) {
var n = arguments.length;
return 0 === n ? delete this._events : 1 === n ? delete this._events[e] : (this._events = this._events || {}, void (e in this._events != !1 && this._events[e].splice(this._events[e].indexOf(t), 1)));
},
trigger: function(e) {
if (this._events = this._events || {}, e in this._events != !1) for (var t = 0; t < this._events[e].length; t++) this._events[e][t].apply(this, Array.prototype.slice.call(arguments, 1));
}
}, r.mixin = function(e) {
for (var t = [ "on", "off", "trigger" ], n = 0; n < t.length; n++) e.prototype[t[n]] = r.prototype[t[n]];
};
var o = /Mac/.test(navigator.userAgent), a = o ? 91 : 17, s = o ? 18 : 17, l = !/android/i.test(window.navigator.userAgent) && !!document.createElement("form").validity, c = function(e) {
return void 0 !== e;
}, u = function(e) {
return void 0 === e || null === e ? null : "boolean" == typeof e ? e ? "1" : "0" : e + "";
}, d = function(e) {
return (e + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
}, h = function(e) {
return (e + "").replace(/\$/g, "$$$$");
}, f = {};
f.before = function(e, t, n) {
var i = e[t];
e[t] = function() {
return n.apply(e, arguments), i.apply(e, arguments);
};
}, f.after = function(e, t, n) {
var i = e[t];
e[t] = function() {
var t = i.apply(e, arguments);
return n.apply(e, arguments), t;
};
};
var p = function(e) {
var t = !1;
return function() {
t || (t = !0, e.apply(this, arguments));
};
}, g = function(e, t) {
var n;
return function() {
var i = this, r = arguments;
window.clearTimeout(n), n = window.setTimeout(function() {
e.apply(i, r);
}, t);
};
}, m = function(e, t, n) {
var i, r = e.trigger, o = {};
e.trigger = function() {
var n = arguments[0];
if (-1 === t.indexOf(n)) return r.apply(e, arguments);
o[n] = arguments;
}, n.apply(e, []), e.trigger = r;
for (i in o) o.hasOwnProperty(i) && r.apply(e, o[i]);
}, v = function(e, t, n, i) {
e.on(t, n, function(t) {
for (var n = t.target; n && n.parentNode !== e[0]; ) n = n.parentNode;
return t.currentTarget = n, i.apply(this, [ t ]);
});
}, y = function(e) {
var t = {};
if ("selectionStart" in e) t.start = e.selectionStart, t.length = e.selectionEnd - t.start; else if (document.selection) {
e.focus();
var n = document.selection.createRange(), i = document.selection.createRange().text.length;
n.moveStart("character", -e.value.length), t.start = n.text.length - i, t.length = i;
}
return t;
}, b = function(e, t, n) {
var i, r, o = {};
if (n) for (i = 0, r = n.length; i < r; i++) o[n[i]] = e.css(n[i]); else o = e.css();
t.css(o);
}, _ = function(t, n) {
if (!t) return 0;
var i = e("<test>").css({
position: "absolute",
top: -99999,
left: -99999,
width: "auto",
padding: 0,
whiteSpace: "pre"
}).text(t).appendTo("body");
b(n, i, [ "letterSpacing", "fontSize", "fontFamily", "fontWeight", "textTransform" ]);
var r = i.width();
return i.remove(), r;
}, w = function(e) {
var t = null, n = function(n, i) {
var r, o, a, s, l, c, u, d;
n = n || window.event || {}, i = i || {}, n.metaKey || n.altKey || (i.force || !1 !== e.data("grow")) && (r = e.val(), n.type && "keydown" === n.type.toLowerCase() && (a = (o = n.keyCode) >= 97 && o <= 122 || o >= 65 && o <= 90 || o >= 48 && o <= 57 || 32 === o, 46 === o || 8 === o ? (d = y(e[0])).length ? r = r.substring(0, d.start) + r.substring(d.start + d.length) : 8 === o && d.start ? r = r.substring(0, d.start - 1) + r.substring(d.start + 1) : 46 === o && void 0 !== d.start && (r = r.substring(0, d.start) + r.substring(d.start + 1)) : a && (c = n.shiftKey, u = String.fromCharCode(n.keyCode), r += u = c ? u.toUpperCase() : u.toLowerCase())), s = e.attr("placeholder"), !r && s && (r = s), (l = _(r, e) + 4) !== t && (t = l, e.width(l), e.triggerHandler("resize")));
};
e.on("keydown keyup update blur", n), n();
}, C = function(n, i) {
var r, o, a, s, l = this;
(s = n[0]).selectize = l;
var c = window.getComputedStyle && window.getComputedStyle(s, null);
if (a = c ? c.getPropertyValue("direction") : s.currentStyle && s.currentStyle.direction, a = a || n.parents("[dir]:first").attr("dir") || "", e.extend(l, {
order: 0,
settings: i,
$input: n,
tabIndex: n.attr("tabindex") || "",
tagType: "select" === s.tagName.toLowerCase() ? 1 : 2,
rtl: /rtl/i.test(a),
eventNS: ".selectize" + ++C.count,
highlightedValue: null,
isOpen: !1,
isDisabled: !1,
isRequired: n.is("[required]"),
isInvalid: !1,
isLocked: !1,
isFocused: !1,
isInputHidden: !1,
isSetup: !1,
isShiftDown: !1,
isCmdDown: !1,
isCtrlDown: !1,
ignoreFocus: !1,
ignoreBlur: !1,
ignoreHover: !1,
hasOptions: !1,
currentResults: null,
lastValue: "",
caretPos: 0,
loading: 0,
loadedSearches: {},
$activeOption: null,
$activeItems: [],
optgroups: {},
options: {},
userOptions: {},
items: [],
renderCache: {},
onSearchChange: null === i.loadThrottle ? l.onSearchChange : g(l.onSearchChange, i.loadThrottle)
}), l.sifter = new t(this.options, {
diacritics: i.diacritics
}), l.settings.options) {
for (r = 0, o = l.settings.options.length; r < o; r++) l.registerOption(l.settings.options[r]);
delete l.settings.options;
}
if (l.settings.optgroups) {
for (r = 0, o = l.settings.optgroups.length; r < o; r++) l.registerOptionGroup(l.settings.optgroups[r]);
delete l.settings.optgroups;
}
l.settings.mode = l.settings.mode || (1 === l.settings.maxItems ? "single" : "multi"), "boolean" != typeof l.settings.hideSelected && (l.settings.hideSelected = "multi" === l.settings.mode), l.initializePlugins(l.settings.plugins), l.setupCallbacks(), l.setupTemplates(), l.setup();
};
return r.mixin(C), n.mixin(C), e.extend(C.prototype, {
setup: function() {
var t, n, i, r, c, u, d, h, f, p = this, g = p.settings, m = p.eventNS, y = e(window), b = e(document), _ = p.$input;
if (d = p.settings.mode, h = _.attr("class") || "", t = e("<div>").addClass(g.wrapperClass).addClass(h).addClass(d), n = e("<div>").addClass(g.inputClass).addClass("items").appendTo(t), i = e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex", _.is(":disabled") ? "-1" : p.tabIndex), u = e(g.dropdownParent || t), r = e("<div>").addClass(g.dropdownClass).addClass(d).hide().appendTo(u), c = e("<div>").addClass(g.dropdownContentClass).appendTo(r), p.settings.copyClassesToDropdown && r.addClass(h), t.css({
width: _[0].style.width
}), p.plugins.names.length && (f = "plugin-" + p.plugins.names.join(" plugin-"), t.addClass(f), r.addClass(f)), (null === g.maxItems || g.maxItems > 1) && 1 === p.tagType && _.attr("multiple", "multiple"), p.settings.placeholder && i.attr("placeholder", g.placeholder), !p.settings.splitOn && p.settings.delimiter) {
var C = p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
p.settings.splitOn = new RegExp("\\s*" + C + "+\\s*");
}
_.attr("autocorrect") && i.attr("autocorrect", _.attr("autocorrect")), _.attr("autocapitalize") && i.attr("autocapitalize", _.attr("autocapitalize")), p.$wrapper = t, p.$control = n, p.$control_input = i, p.$dropdown = r, p.$dropdown_content = c, r.on("mouseenter", "[data-selectable]", function() {
return p.onOptionHover.apply(p, arguments);
}), r.on("mousedown click", "[data-selectable]", function() {
return p.onOptionSelect.apply(p, arguments);
}), v(n, "mousedown", "*:not(input)", function() {
return p.onItemSelect.apply(p, arguments);
}), w(i), n.on({
mousedown: function() {
return p.onMouseDown.apply(p, arguments);
},
click: function() {
return p.onClick.apply(p, arguments);
}
}), i.on({
mousedown: function(e) {
e.stopPropagation();
},
keydown: function() {
return p.onKeyDown.apply(p, arguments);
},
keyup: function() {
return p.onKeyUp.apply(p, arguments);
},
keypress: function() {
return p.onKeyPress.apply(p, arguments);
},
resize: function() {
p.positionDropdown.apply(p, []);
},
blur: function() {
return p.onBlur.apply(p, arguments);
},
focus: function() {
return p.ignoreBlur = !1, p.onFocus.apply(p, arguments);
},
paste: function() {
return p.onPaste.apply(p, arguments);
}
}), b.on("keydown" + m, function(e) {
p.isCmdDown = e[o ? "metaKey" : "ctrlKey"], p.isCtrlDown = e[o ? "altKey" : "ctrlKey"], p.isShiftDown = e.shiftKey;
}), b.on("keyup" + m, function(e) {
e.keyCode === s && (p.isCtrlDown = !1), 16 === e.keyCode && (p.isShiftDown = !1), e.keyCode === a && (p.isCmdDown = !1);
}), b.on("mousedown" + m, function(e) {
if (p.isFocused) {
if (e.target === p.$dropdown[0] || e.target.parentNode === p.$dropdown[0]) return !1;
p.$control.has(e.target).length || e.target === p.$control[0] || p.blur(e.target);
}
}), y.on([ "scroll" + m, "resize" + m ].join(" "), function() {
p.isOpen && p.positionDropdown.apply(p, arguments);
}), y.on("mousemove" + m, function() {
p.ignoreHover = !1;
}), this.revertSettings = {
$children: _.children().detach(),
tabindex: _.attr("tabindex")
}, _.attr("tabindex", -1).hide().after(p.$wrapper), e.isArray(g.items) && (p.setValue(g.items), delete g.items), l && _.on("invalid" + m, function(e) {
e.preventDefault(), p.isInvalid = !0, p.refreshState();
}), p.updateOriginalInput(), p.refreshItems(), p.refreshState(), p.updatePlaceholder(), p.isSetup = !0, _.is(":disabled") && p.disable(), p.on("change", this.onChange), _.data("selectize", p), _.addClass("selectized"), p.trigger("initialize"), !0 === g.preload && p.onSearchChange("");
},
setupTemplates: function() {
var t = this, n = t.settings.labelField, i = t.settings.optgroupLabelField, r = {
optgroup: function(e) {
return '<div class="optgroup">' + e.html + "</div>";
},
optgroup_header: function(e, t) {
return '<div class="optgroup-header">' + t(e[i]) + "</div>";
},
option: function(e, t) {
return '<div class="option">' + t(e[n]) + "</div>";
},
item: function(e, t) {
return '<div class="item">' + t(e[n]) + "</div>";
},
option_create: function(e, t) {
return '<div class="create">Add <strong>' + t(e.input) + "</strong>&hellip;</div>";
}
};
t.settings.render = e.extend({}, r, t.settings.render);
},
setupCallbacks: function() {
var e, t, n = {
initialize: "onInitialize",
change: "onChange",
item_add: "onItemAdd",
item_remove: "onItemRemove",
clear: "onClear",
option_add: "onOptionAdd",
option_remove: "onOptionRemove",
option_clear: "onOptionClear",
optgroup_add: "onOptionGroupAdd",
optgroup_remove: "onOptionGroupRemove",
optgroup_clear: "onOptionGroupClear",
dropdown_open: "onDropdownOpen",
dropdown_close: "onDropdownClose",
type: "onType",
load: "onLoad",
focus: "onFocus",
blur: "onBlur"
};
for (e in n) n.hasOwnProperty(e) && (t = this.settings[n[e]]) && this.on(e, t);
},
onClick: function(e) {
var t = this;
t.isFocused || (t.focus(), e.preventDefault());
},
onMouseDown: function(t) {
var n = this, i = t.isDefaultPrevented();
e(t.target);
if (n.isFocused) {
if (t.target !== n.$control_input[0]) return "single" === n.settings.mode ? n.isOpen ? n.close() : n.open() : i || n.setActiveItem(null), !1;
} else i || window.setTimeout(function() {
n.focus();
}, 0);
},
onChange: function() {
this.$input.trigger("change");
},
onPaste: function(t) {
var n = this;
n.isFull() || n.isInputHidden || n.isLocked ? t.preventDefault() : n.settings.splitOn && setTimeout(function() {
for (var t = e.trim(n.$control_input.val() || "").split(n.settings.splitOn), i = 0, r = t.length; i < r; i++) n.createItem(t[i]);
}, 0);
},
onKeyPress: function(e) {
if (this.isLocked) return e && e.preventDefault();
var t = String.fromCharCode(e.keyCode || e.which);
return this.settings.create && "multi" === this.settings.mode && t === this.settings.delimiter ? (this.createItem(), e.preventDefault(), !1) : void 0;
},
onKeyDown: function(e) {
e.target, this.$control_input[0];
var t = this;
if (t.isLocked) 9 !== e.keyCode && e.preventDefault(); else {
switch (e.keyCode) {
case 65:
if (t.isCmdDown) return void t.selectAll();
break;

case 27:
return void (t.isOpen && (e.preventDefault(), e.stopPropagation(), t.close()));

case 78:
if (!e.ctrlKey || e.altKey) break;

case 40:
if (!t.isOpen && t.hasOptions) t.open(); else if (t.$activeOption) {
t.ignoreHover = !0;
var n = t.getAdjacentOption(t.$activeOption, 1);
n.length && t.setActiveOption(n, !0, !0);
}
return void e.preventDefault();

case 80:
if (!e.ctrlKey || e.altKey) break;

case 38:
if (t.$activeOption) {
t.ignoreHover = !0;
var i = t.getAdjacentOption(t.$activeOption, -1);
i.length && t.setActiveOption(i, !0, !0);
}
return void e.preventDefault();

case 13:
return void (t.isOpen && t.$activeOption && (t.onOptionSelect({
currentTarget: t.$activeOption
}), e.preventDefault()));

case 37:
return void t.advanceSelection(-1, e);

case 39:
return void t.advanceSelection(1, e);

case 9:
return t.settings.selectOnTab && t.isOpen && t.$activeOption && (t.onOptionSelect({
currentTarget: t.$activeOption
}), t.isFull() || e.preventDefault()), void (t.settings.create && t.createItem() && e.preventDefault());

case 8:
case 46:
return void t.deleteSelection(e);
}
!t.isFull() && !t.isInputHidden || (o ? e.metaKey : e.ctrlKey) || e.preventDefault();
}
},
onKeyUp: function(e) {
var t = this;
if (t.isLocked) return e && e.preventDefault();
var n = t.$control_input.val() || "";
t.lastValue !== n && (t.lastValue = n, t.onSearchChange(n), t.refreshOptions(), t.trigger("type", n));
},
onSearchChange: function(e) {
var t = this, n = t.settings.load;
n && (t.loadedSearches.hasOwnProperty(e) || (t.loadedSearches[e] = !0, t.load(function(i) {
n.apply(t, [ e, i ]);
})));
},
onFocus: function(e) {
var t = this, n = t.isFocused;
if (t.isDisabled) return t.blur(), e && e.preventDefault(), !1;
t.ignoreFocus || (t.isFocused = !0, "focus" === t.settings.preload && t.onSearchChange(""), n || t.trigger("focus"), t.$activeItems.length || (t.showInput(), t.setActiveItem(null), t.refreshOptions(!!t.settings.openOnFocus)), t.refreshState());
},
onBlur: function(e, t) {
var n = this;
if (n.isFocused && (n.isFocused = !1, !n.ignoreFocus)) {
if (!n.ignoreBlur && document.activeElement === n.$dropdown_content[0]) return n.ignoreBlur = !0, void n.onFocus(e);
var i = function() {
n.close(), n.setTextboxValue(""), n.setActiveItem(null), n.setActiveOption(null), n.setCaret(n.items.length), n.refreshState(), (t || document.body).focus(), n.ignoreFocus = !1, n.trigger("blur");
};
n.ignoreFocus = !0, n.settings.create && n.settings.createOnBlur ? n.createItem(null, !1, i) : i();
}
},
onOptionHover: function(e) {
this.ignoreHover || this.setActiveOption(e.currentTarget, !1);
},
onOptionSelect: function(t) {
var n, i, r = this;
t.preventDefault && (t.preventDefault(), t.stopPropagation()), (i = e(t.currentTarget)).hasClass("create") ? r.createItem(null, function() {
r.settings.closeAfterSelect && r.close();
}) : void 0 !== (n = i.attr("data-value")) && (r.lastQuery = null, r.setTextboxValue(""), r.addItem(n), r.settings.closeAfterSelect ? r.close() : !r.settings.hideSelected && t.type && /mouse/.test(t.type) && r.setActiveOption(r.getOption(n)));
},
onItemSelect: function(e) {
var t = this;
t.isLocked || "multi" === t.settings.mode && (e.preventDefault(), t.setActiveItem(e.currentTarget, e));
},
load: function(e) {
var t = this, n = t.$wrapper.addClass(t.settings.loadingClass);
t.loading++, e.apply(t, [ function(e) {
t.loading = Math.max(t.loading - 1, 0), e && e.length && (t.addOption(e), t.refreshOptions(t.isFocused && !t.isInputHidden)), t.loading || n.removeClass(t.settings.loadingClass), t.trigger("load", e);
} ]);
},
setTextboxValue: function(e) {
var t = this.$control_input;
t.val() !== e && (t.val(e).triggerHandler("update"), this.lastValue = e);
},
getValue: function() {
return 1 === this.tagType && this.$input.attr("multiple") ? this.items : this.items.join(this.settings.delimiter);
},
setValue: function(e, t) {
m(this, t ? [] : [ "change" ], function() {
this.clear(t), this.addItems(e, t);
});
},
setActiveItem: function(t, n) {
var i, r, o, a, s, l, c, u, d = this;
if ("single" !== d.settings.mode) {
if (!(t = e(t)).length) return e(d.$activeItems).removeClass("active"), d.$activeItems = [], void (d.isFocused && d.showInput());
if ("mousedown" === (i = n && n.type.toLowerCase()) && d.isShiftDown && d.$activeItems.length) {
for (u = d.$control.children(".active:last"), (a = Array.prototype.indexOf.apply(d.$control[0].childNodes, [ u[0] ])) > (s = Array.prototype.indexOf.apply(d.$control[0].childNodes, [ t[0] ])) && (c = a, a = s, s = c), r = a; r <= s; r++) l = d.$control[0].childNodes[r], -1 === d.$activeItems.indexOf(l) && (e(l).addClass("active"), d.$activeItems.push(l));
n.preventDefault();
} else "mousedown" === i && d.isCtrlDown || "keydown" === i && this.isShiftDown ? t.hasClass("active") ? (o = d.$activeItems.indexOf(t[0]), d.$activeItems.splice(o, 1), t.removeClass("active")) : d.$activeItems.push(t.addClass("active")[0]) : (e(d.$activeItems).removeClass("active"), d.$activeItems = [ t.addClass("active")[0] ]);
d.hideInput(), this.isFocused || d.focus();
}
},
setActiveOption: function(t, n, i) {
var r, o, a, s, l, u = this;
u.$activeOption && u.$activeOption.removeClass("active"), u.$activeOption = null, (t = e(t)).length && (u.$activeOption = t.addClass("active"), !n && c(n) || (r = u.$dropdown_content.height(), o = u.$activeOption.outerHeight(!0), n = u.$dropdown_content.scrollTop() || 0, s = a = u.$activeOption.offset().top - u.$dropdown_content.offset().top + n, l = a - r + o, a + o > r + n ? u.$dropdown_content.stop().animate({
scrollTop: l
}, i ? u.settings.scrollDuration : 0) : a < n && u.$dropdown_content.stop().animate({
scrollTop: s
}, i ? u.settings.scrollDuration : 0)));
},
selectAll: function() {
var e = this;
"single" !== e.settings.mode && (e.$activeItems = Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")), e.$activeItems.length && (e.hideInput(), e.close()), e.focus());
},
hideInput: function() {
var e = this;
e.setTextboxValue(""), e.$control_input.css({
opacity: 0,
position: "absolute",
left: e.rtl ? 1e4 : -1e4
}), e.isInputHidden = !0;
},
showInput: function() {
this.$control_input.css({
opacity: 1,
position: "relative",
left: 0
}), this.isInputHidden = !1;
},
focus: function() {
var e = this;
e.isDisabled || (e.ignoreFocus = !0, e.$control_input[0].focus(), window.setTimeout(function() {
e.ignoreFocus = !1, e.onFocus();
}, 0));
},
blur: function(e) {
this.$control_input[0].blur(), this.onBlur(null, e);
},
getScoreFunction: function(e) {
return this.sifter.getScoreFunction(e, this.getSearchOptions());
},
getSearchOptions: function() {
var e = this.settings, t = e.sortField;
return "string" == typeof t && (t = [ {
field: t
} ]), {
fields: e.searchField,
conjunction: e.searchConjunction,
sort: t
};
},
search: function(t) {
var n, i, r, o = this, a = o.settings, s = this.getSearchOptions();
if (a.score && "function" != typeof (r = o.settings.score.apply(this, [ t ]))) throw new Error('Selectize "score" setting must be a function that returns a function');
if (t !== o.lastQuery ? (o.lastQuery = t, i = o.sifter.search(t, e.extend(s, {
score: r
})), o.currentResults = i) : i = e.extend(!0, {}, o.currentResults), a.hideSelected) for (n = i.items.length - 1; n >= 0; n--) -1 !== o.items.indexOf(u(i.items[n].id)) && i.items.splice(n, 1);
return i;
},
refreshOptions: function(t) {
var n, r, o, a, s, l, c, d, h, f, p, g, m, v, y, b;
void 0 === t && (t = !0);
var _ = this, w = e.trim(_.$control_input.val()), C = _.search(w), x = _.$dropdown_content, S = _.$activeOption && u(_.$activeOption.attr("data-value"));
for (a = C.items.length, "number" == typeof _.settings.maxOptions && (a = Math.min(a, _.settings.maxOptions)), s = {}, l = [], n = 0; n < a; n++) for (c = _.options[C.items[n].id], d = _.render("option", c), h = c[_.settings.optgroupField] || "", r = 0, o = (f = e.isArray(h) ? h : [ h ]) && f.length; r < o; r++) h = f[r], _.optgroups.hasOwnProperty(h) || (h = ""), s.hasOwnProperty(h) || (s[h] = [], l.push(h)), s[h].push(d);
for (this.settings.lockOptgroupOrder && l.sort(function(e, t) {
return (_.optgroups[e].$order || 0) - (_.optgroups[t].$order || 0);
}), p = [], n = 0, a = l.length; n < a; n++) h = l[n], _.optgroups.hasOwnProperty(h) && s[h].length ? (g = _.render("optgroup_header", _.optgroups[h]) || "", g += s[h].join(""), p.push(_.render("optgroup", e.extend({}, _.optgroups[h], {
html: g
})))) : p.push(s[h].join(""));
if (x.html(p.join("")), _.settings.highlight && C.query.length && C.tokens.length) for (n = 0, a = C.tokens.length; n < a; n++) i(x, C.tokens[n].regex);
if (!_.settings.hideSelected) for (n = 0, a = _.items.length; n < a; n++) _.getOption(_.items[n]).addClass("selected");
(m = _.canCreate(w)) && (x.prepend(_.render("option_create", {
input: w
})), b = e(x[0].childNodes[0])), _.hasOptions = C.items.length > 0 || m, _.hasOptions ? (C.items.length > 0 ? ((y = S && _.getOption(S)) && y.length ? v = y : "single" === _.settings.mode && _.items.length && (v = _.getOption(_.items[0])), v && v.length || (v = b && !_.settings.addPrecedence ? _.getAdjacentOption(b, 1) : x.find("[data-selectable]:first"))) : v = b, _.setActiveOption(v), t && !_.isOpen && _.open()) : (_.setActiveOption(null), t && _.isOpen && _.close());
},
addOption: function(t) {
var n, i, r, o = this;
if (e.isArray(t)) for (n = 0, i = t.length; n < i; n++) o.addOption(t[n]); else (r = o.registerOption(t)) && (o.userOptions[r] = !0, o.lastQuery = null, o.trigger("option_add", r, t));
},
registerOption: function(e) {
var t = u(e[this.settings.valueField]);
return !(!t || this.options.hasOwnProperty(t)) && (e.$order = e.$order || ++this.order, this.options[t] = e, t);
},
registerOptionGroup: function(e) {
var t = u(e[this.settings.optgroupValueField]);
return !!t && (e.$order = e.$order || ++this.order, this.optgroups[t] = e, t);
},
addOptionGroup: function(e, t) {
t[this.settings.optgroupValueField] = e, (e = this.registerOptionGroup(t)) && this.trigger("optgroup_add", e, t);
},
removeOptionGroup: function(e) {
this.optgroups.hasOwnProperty(e) && (delete this.optgroups[e], this.renderCache = {}, this.trigger("optgroup_remove", e));
},
clearOptionGroups: function() {
this.optgroups = {}, this.renderCache = {}, this.trigger("optgroup_clear");
},
updateOption: function(t, n) {
var i, r, o, a, s, l, c, d = this;
if (t = u(t), o = u(n[d.settings.valueField]), null !== t && d.options.hasOwnProperty(t)) {
if ("string" != typeof o) throw new Error("Value must be set in option data");
c = d.options[t].$order, o !== t && (delete d.options[t], -1 !== (a = d.items.indexOf(t)) && d.items.splice(a, 1, o)), n.$order = n.$order || c, d.options[o] = n, s = d.renderCache.item, l = d.renderCache.option, s && (delete s[t], delete s[o]), l && (delete l[t], delete l[o]), -1 !== d.items.indexOf(o) && (i = d.getItem(t), r = e(d.render("item", n)), i.hasClass("active") && r.addClass("active"), i.replaceWith(r)), d.lastQuery = null, d.isOpen && d.refreshOptions(!1);
}
},
removeOption: function(e, t) {
var n = this;
e = u(e);
var i = n.renderCache.item, r = n.renderCache.option;
i && delete i[e], r && delete r[e], delete n.userOptions[e], delete n.options[e], n.lastQuery = null, n.trigger("option_remove", e), n.removeItem(e, t);
},
clearOptions: function() {
var e = this;
e.loadedSearches = {}, e.userOptions = {}, e.renderCache = {}, e.options = e.sifter.items = {}, e.lastQuery = null, e.trigger("option_clear"), e.clear();
},
getOption: function(e) {
return this.getElementWithValue(e, this.$dropdown_content.find("[data-selectable]"));
},
getAdjacentOption: function(t, n) {
var i = this.$dropdown.find("[data-selectable]"), r = i.index(t) + n;
return r >= 0 && r < i.length ? i.eq(r) : e();
},
getElementWithValue: function(t, n) {
if (void 0 !== (t = u(t)) && null !== t) for (var i = 0, r = n.length; i < r; i++) if (n[i].getAttribute("data-value") === t) return e(n[i]);
return e();
},
getItem: function(e) {
return this.getElementWithValue(e, this.$control.children());
},
addItems: function(t, n) {
for (var i = e.isArray(t) ? t : [ t ], r = 0, o = i.length; r < o; r++) this.isPending = r < o - 1, this.addItem(i[r], n);
},
addItem: function(t, n) {
m(this, n ? [] : [ "change" ], function() {
var i, r, o, a, s, l = this, c = l.settings.mode;
t = u(t), -1 === l.items.indexOf(t) ? l.options.hasOwnProperty(t) && ("single" === c && l.clear(n), "multi" === c && l.isFull() || (i = e(l.render("item", l.options[t])), s = l.isFull(), l.items.splice(l.caretPos, 0, t), l.insertAtCaret(i), (!l.isPending || !s && l.isFull()) && l.refreshState(), l.isSetup && (o = l.$dropdown_content.find("[data-selectable]"), l.isPending || (r = l.getOption(t), a = l.getAdjacentOption(r, 1).attr("data-value"), l.refreshOptions(l.isFocused && "single" !== c), a && l.setActiveOption(l.getOption(a))), !o.length || l.isFull() ? l.close() : l.positionDropdown(), l.updatePlaceholder(), l.trigger("item_add", t, i), l.updateOriginalInput({
silent: n
})))) : "single" === c && l.close();
});
},
removeItem: function(e, t) {
var n, i, r, o = this;
n = "object" == typeof e ? e : o.getItem(e), e = u(n.attr("data-value")), -1 !== (i = o.items.indexOf(e)) && (n.remove(), n.hasClass("active") && (r = o.$activeItems.indexOf(n[0]), o.$activeItems.splice(r, 1)), o.items.splice(i, 1), o.lastQuery = null, !o.settings.persist && o.userOptions.hasOwnProperty(e) && o.removeOption(e, t), i < o.caretPos && o.setCaret(o.caretPos - 1), o.refreshState(), o.updatePlaceholder(), o.updateOriginalInput({
silent: t
}), o.positionDropdown(), o.trigger("item_remove", e, n));
},
createItem: function(t, n) {
var i = this, r = i.caretPos;
t = t || e.trim(i.$control_input.val() || "");
var o = arguments[arguments.length - 1];
if ("function" != typeof o && (o = function() {}), "boolean" != typeof n && (n = !0), !i.canCreate(t)) return o(), !1;
i.lock();
var a = "function" == typeof i.settings.create ? this.settings.create : function(e) {
var t = {};
return t[i.settings.labelField] = e, t[i.settings.valueField] = e, t;
}, s = p(function(e) {
if (i.unlock(), !e || "object" != typeof e) return o();
var t = u(e[i.settings.valueField]);
if ("string" != typeof t) return o();
i.setTextboxValue(""), i.addOption(e), i.setCaret(r), i.addItem(t), i.refreshOptions(n && "single" !== i.settings.mode), o(e);
}), l = a.apply(this, [ t, s ]);
return void 0 !== l && s(l), !0;
},
refreshItems: function() {
this.lastQuery = null, this.isSetup && this.addItem(this.items), this.refreshState(), this.updateOriginalInput();
},
refreshState: function() {
var e = this;
e.isRequired && (e.items.length && (e.isInvalid = !1), e.$control_input.prop("required", void 0)), e.refreshClasses();
},
refreshClasses: function() {
var t = this, n = t.isFull(), i = t.isLocked;
t.$wrapper.toggleClass("rtl", t.rtl), t.$control.toggleClass("focus", t.isFocused).toggleClass("disabled", t.isDisabled).toggleClass("required", t.isRequired).toggleClass("invalid", t.isInvalid).toggleClass("locked", i).toggleClass("full", n).toggleClass("not-full", !n).toggleClass("input-active", t.isFocused && !t.isInputHidden).toggleClass("dropdown-active", t.isOpen).toggleClass("has-options", !e.isEmptyObject(t.options)).toggleClass("has-items", t.items.length > 0), t.$control_input.data("grow", !n && !i);
},
isFull: function() {
return null !== this.settings.maxItems && this.items.length >= this.settings.maxItems;
},
updateOriginalInput: function(e) {
var t, n, i, r, o = this;
if (e = e || {}, 1 === o.tagType) {
for (i = [], t = 0, n = o.items.length; t < n; t++) r = o.options[o.items[t]][o.settings.labelField] || "", i.push('<option value="' + d(o.items[t]) + '" selected="selected">' + d(r) + "</option>");
i.length || this.$input.attr("multiple") || i.push('<option value="" selected="selected"></option>'), o.$input.html(i.join(""));
} else o.$input.val(o.getValue()), o.$input.attr("value", o.$input.val());
o.isSetup && (e.silent || o.trigger("change", o.$input.val()));
},
updatePlaceholder: function() {
if (this.settings.placeholder) {
var e = this.$control_input;
this.items.length ? e.removeAttr("placeholder") : e.attr("placeholder", this.settings.placeholder), e.triggerHandler("update", {
force: !0
});
}
},
open: function() {
var e = this;
e.isLocked || e.isOpen || "multi" === e.settings.mode && e.isFull() || (e.focus(), e.isOpen = !0, e.refreshState(), e.$dropdown.css({
visibility: "hidden",
display: "block"
}), e.positionDropdown(), e.$dropdown.css({
visibility: "visible"
}), e.trigger("dropdown_open", e.$dropdown));
},
close: function() {
var e = this, t = e.isOpen;
"single" === e.settings.mode && e.items.length && e.hideInput(), e.isOpen = !1, e.$dropdown.hide(), e.setActiveOption(null), e.refreshState(), t && e.trigger("dropdown_close", e.$dropdown);
},
positionDropdown: function() {
var e = this.$control, t = "body" === this.settings.dropdownParent ? e.offset() : e.position();
t.top += e.outerHeight(!0), this.$dropdown.css({
width: e.outerWidth(),
top: t.top,
left: t.left
});
},
clear: function(e) {
var t = this;
t.items.length && (t.$control.children(":not(input)").remove(), t.items = [], t.lastQuery = null, t.setCaret(0), t.setActiveItem(null), t.updatePlaceholder(), t.updateOriginalInput({
silent: e
}), t.refreshState(), t.showInput(), t.trigger("clear"));
},
insertAtCaret: function(t) {
var n = Math.min(this.caretPos, this.items.length);
0 === n ? this.$control.prepend(t) : e(this.$control[0].childNodes[n]).before(t), this.setCaret(n + 1);
},
deleteSelection: function(t) {
var n, i, r, o, a, s, l, c, u, d = this;
if (r = t && 8 === t.keyCode ? -1 : 1, o = y(d.$control_input[0]), d.$activeOption && !d.settings.hideSelected && (l = d.getAdjacentOption(d.$activeOption, -1).attr("data-value")), a = [], d.$activeItems.length) {
for (u = d.$control.children(".active:" + (r > 0 ? "last" : "first")), s = d.$control.children(":not(input)").index(u), r > 0 && s++, n = 0, i = d.$activeItems.length; n < i; n++) a.push(e(d.$activeItems[n]).attr("data-value"));
t && (t.preventDefault(), t.stopPropagation());
} else (d.isFocused || "single" === d.settings.mode) && d.items.length && (r < 0 && 0 === o.start && 0 === o.length ? a.push(d.items[d.caretPos - 1]) : r > 0 && o.start === d.$control_input.val().length && a.push(d.items[d.caretPos]));
if (!a.length || "function" == typeof d.settings.onDelete && !1 === d.settings.onDelete.apply(d, [ a ])) return !1;
for (void 0 !== s && d.setCaret(s); a.length; ) d.removeItem(a.pop());
return d.showInput(), d.positionDropdown(), d.refreshOptions(!0), l && (c = d.getOption(l)).length && d.setActiveOption(c), !0;
},
advanceSelection: function(e, t) {
var n, i, r, o, a, s = this;
0 !== e && (s.rtl && (e *= -1), n = e > 0 ? "last" : "first", i = y(s.$control_input[0]), s.isFocused && !s.isInputHidden ? (o = s.$control_input.val().length, (e < 0 ? 0 === i.start && 0 === i.length : i.start === o) && !o && s.advanceCaret(e, t)) : (a = s.$control.children(".active:" + n)).length && (r = s.$control.children(":not(input)").index(a), s.setActiveItem(null), s.setCaret(e > 0 ? r + 1 : r)));
},
advanceCaret: function(e, t) {
var n, i, r = this;
0 !== e && (n = e > 0 ? "next" : "prev", r.isShiftDown ? (i = r.$control_input[n]()).length && (r.hideInput(), r.setActiveItem(i), t && t.preventDefault()) : r.setCaret(r.caretPos + e));
},
setCaret: function(t) {
var n = this;
if (t = "single" === n.settings.mode ? n.items.length : Math.max(0, Math.min(n.items.length, t)), !n.isPending) {
var i, r, o, a;
for (i = 0, r = (o = n.$control.children(":not(input)")).length; i < r; i++) a = e(o[i]).detach(), i < t ? n.$control_input.before(a) : n.$control.append(a);
}
n.caretPos = t;
},
lock: function() {
this.close(), this.isLocked = !0, this.refreshState();
},
unlock: function() {
this.isLocked = !1, this.refreshState();
},
disable: function() {
var e = this;
e.$input.prop("disabled", !0), e.$control_input.prop("disabled", !0).prop("tabindex", -1), e.isDisabled = !0, e.lock();
},
enable: function() {
var e = this;
e.$input.prop("disabled", !1), e.$control_input.prop("disabled", !1).prop("tabindex", e.tabIndex), e.isDisabled = !1, e.unlock();
},
destroy: function() {
var t = this, n = t.eventNS, i = t.revertSettings;
t.trigger("destroy"), t.off(), t.$wrapper.remove(), t.$dropdown.remove(), t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({
tabindex: i.tabindex
}).show(), t.$control_input.removeData("grow"), t.$input.removeData("selectize"), e(window).off(n), e(document).off(n), e(document.body).off(n), delete t.$input[0].selectize;
},
render: function(e, t) {
var n, i, r = "", o = !1, a = this, s = /^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;
return "option" !== e && "item" !== e || (o = !!(n = u(t[a.settings.valueField]))), o && (c(a.renderCache[e]) || (a.renderCache[e] = {}), a.renderCache[e].hasOwnProperty(n)) ? a.renderCache[e][n] : (r = a.settings.render[e].apply(this, [ t, d ]), "option" !== e && "option_create" !== e || (r = r.replace(s, "<$1 data-selectable")), "optgroup" === e && (i = t[a.settings.optgroupValueField] || "", r = r.replace(s, '<$1 data-group="' + h(d(i)) + '"')), "option" !== e && "item" !== e || (r = r.replace(s, '<$1 data-value="' + h(d(n || "")) + '"')), o && (a.renderCache[e][n] = r), r);
},
clearCache: function(e) {
var t = this;
void 0 === e ? t.renderCache = {} : delete t.renderCache[e];
},
canCreate: function(e) {
var t = this;
if (!t.settings.create) return !1;
var n = t.settings.createFilter;
return e.length && ("function" != typeof n || n.apply(t, [ e ])) && ("string" != typeof n || new RegExp(n).test(e)) && (!(n instanceof RegExp) || n.test(e));
}
}), C.count = 0, C.defaults = {
options: [],
optgroups: [],
plugins: [],
delimiter: ",",
splitOn: null,
persist: !0,
diacritics: !0,
create: !1,
createOnBlur: !1,
createFilter: null,
highlight: !0,
openOnFocus: !0,
maxOptions: 1e3,
maxItems: null,
hideSelected: null,
addPrecedence: !1,
selectOnTab: !1,
preload: !1,
allowEmptyOption: !1,
closeAfterSelect: !1,
scrollDuration: 60,
loadThrottle: 300,
loadingClass: "loading",
dataAttr: "data-data",
optgroupField: "optgroup",
valueField: "value",
labelField: "text",
optgroupLabelField: "label",
optgroupValueField: "value",
lockOptgroupOrder: !1,
sortField: "$order",
searchField: [ "text" ],
searchConjunction: "and",
mode: null,
wrapperClass: "selectize-control",
inputClass: "selectize-input",
dropdownClass: "selectize-dropdown",
dropdownContentClass: "selectize-dropdown-content",
dropdownParent: null,
copyClassesToDropdown: !0,
render: {}
}, e.fn.selectize = function(t) {
var n = e.fn.selectize.defaults, i = e.extend({}, n, t), r = i.dataAttr, o = i.labelField, a = i.valueField, s = i.optgroupField, l = i.optgroupLabelField, c = i.optgroupValueField, d = function(t, n) {
var s, l, c, u, d = t.attr(r);
if (d) for (n.options = JSON.parse(d), s = 0, l = n.options.length; s < l; s++) n.items.push(n.options[s][a]); else {
var h = e.trim(t.val() || "");
if (!i.allowEmptyOption && !h.length) return;
for (s = 0, l = (c = h.split(i.delimiter)).length; s < l; s++) (u = {})[o] = c[s], u[a] = c[s], n.options.push(u);
n.items = c;
}
}, h = function(t, n) {
var d, h, f, p, g = n.options, m = {}, v = function(e) {
var t = r && e.attr(r);
return "string" == typeof t && t.length ? JSON.parse(t) : null;
}, y = function(t, r) {
t = e(t);
var l = u(t.attr("value"));
if (l || i.allowEmptyOption) if (m.hasOwnProperty(l)) {
if (r) {
var c = m[l][s];
c ? e.isArray(c) ? c.push(r) : m[l][s] = [ c, r ] : m[l][s] = r;
}
} else {
var d = v(t) || {};
d[o] = d[o] || t.text(), d[a] = d[a] || l, d[s] = d[s] || r, m[l] = d, g.push(d), t.is(":selected") && n.items.push(l);
}
};
for (n.maxItems = t.attr("multiple") ? null : 1, d = 0, h = (p = t.children()).length; d < h; d++) "optgroup" === (f = p[d].tagName.toLowerCase()) ? function(t) {
var i, r, o, a, s;
for ((o = (t = e(t)).attr("label")) && ((a = v(t) || {})[l] = o, a[c] = o, n.optgroups.push(a)), i = 0, r = (s = e("option", t)).length; i < r; i++) y(s[i], o);
}(p[d]) : "option" === f && y(p[d]);
};
return this.each(function() {
if (!this.selectize) {
var r = e(this), o = this.tagName.toLowerCase(), a = r.attr("placeholder") || r.attr("data-placeholder");
a || i.allowEmptyOption || (a = r.children('option[value=""]').text());
var s = {
placeholder: a,
options: [],
optgroups: [],
items: []
};
"select" === o ? h(r, s) : d(r, s), new C(r, e.extend(!0, {}, n, s, t));
}
});
}, e.fn.selectize.defaults = C.defaults, e.fn.selectize.support = {
validity: l
}, C.define("drag_drop", function(t) {
if (!e.fn.sortable) throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');
if ("multi" === this.settings.mode) {
var n = this;
n.lock = function() {
var e = n.lock;
return function() {
var t = n.$control.data("sortable");
return t && t.disable(), e.apply(n, arguments);
};
}(), n.unlock = function() {
var e = n.unlock;
return function() {
var t = n.$control.data("sortable");
return t && t.enable(), e.apply(n, arguments);
};
}(), n.setup = function() {
var t = n.setup;
return function() {
t.apply(this, arguments);
var i = n.$control.sortable({
items: "[data-value]",
forcePlaceholderSize: !0,
disabled: n.isLocked,
start: function(e, t) {
t.placeholder.css("width", t.helper.css("width")), i.css({
overflow: "visible"
});
},
stop: function() {
i.css({
overflow: "hidden"
});
var t = n.$activeItems ? n.$activeItems.slice() : null, r = [];
i.children("[data-value]").each(function() {
r.push(e(this).attr("data-value"));
}), n.setValue(r), n.setActiveItem(t);
}
});
};
}();
}
}), C.define("dropdown_header", function(t) {
var n = this;
t = e.extend({
title: "Untitled",
headerClass: "selectize-dropdown-header",
titleRowClass: "selectize-dropdown-header-title",
labelClass: "selectize-dropdown-header-label",
closeClass: "selectize-dropdown-header-close",
html: function(e) {
return '<div class="' + e.headerClass + '"><div class="' + e.titleRowClass + '"><span class="' + e.labelClass + '">' + e.title + '</span><a href="javascript:void(0)" class="' + e.closeClass + '">&times;</a></div></div>';
}
}, t), n.setup = function() {
var i = n.setup;
return function() {
i.apply(n, arguments), n.$dropdown_header = e(t.html(t)), n.$dropdown.prepend(n.$dropdown_header);
};
}();
}), C.define("optgroup_columns", function(t) {
var n = this;
t = e.extend({
equalizeWidth: !0,
equalizeHeight: !0
}, t), this.getAdjacentOption = function(t, n) {
var i = t.closest("[data-group]").find("[data-selectable]"), r = i.index(t) + n;
return r >= 0 && r < i.length ? i.eq(r) : e();
}, this.onKeyDown = function() {
var e = n.onKeyDown;
return function(t) {
var i, r, o, a;
return !this.isOpen || 37 !== t.keyCode && 39 !== t.keyCode ? e.apply(this, arguments) : (n.ignoreHover = !0, a = this.$activeOption.closest("[data-group]"), i = a.find("[data-selectable]").index(this.$activeOption), a = 37 === t.keyCode ? a.prev("[data-group]") : a.next("[data-group]"), o = a.find("[data-selectable]"), void ((r = o.eq(Math.min(o.length - 1, i))).length && this.setActiveOption(r)));
};
}();
var i = function() {
var e, t = i.width, n = document;
return void 0 === t && ((e = n.createElement("div")).innerHTML = '<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>', e = e.firstChild, n.body.appendChild(e), t = i.width = e.offsetWidth - e.clientWidth, n.body.removeChild(e)), t;
}, r = function() {
var r, o, a, s, l, c, u;
if (u = e("[data-group]", n.$dropdown_content), (o = u.length) && n.$dropdown_content.width()) {
if (t.equalizeHeight) {
for (a = 0, r = 0; r < o; r++) a = Math.max(a, u.eq(r).height());
u.css({
height: a
});
}
t.equalizeWidth && (c = n.$dropdown_content.innerWidth() - i(), s = Math.round(c / o), u.css({
width: s
}), o > 1 && (l = c - s * (o - 1), u.eq(o - 1).css({
width: l
})));
}
};
(t.equalizeHeight || t.equalizeWidth) && (f.after(this, "positionDropdown", r), f.after(this, "refreshOptions", r));
}), C.define("remove_button", function(t) {
if ("single" !== this.settings.mode) {
var n = this, i = '<a href="javascript:void(0)" class="' + (t = e.extend({
label: "&times;",
title: "Remove",
className: "remove",
append: !0
}, t)).className + '" tabindex="-1" title="' + d(t.title) + '">' + t.label + "</a>", r = function(e, t) {
var n = e.search(/(<\/[^>]+>\s*)$/);
return e.substring(0, n) + t + e.substring(n);
};
this.setup = function() {
var o = n.setup;
return function() {
if (t.append) {
var a = n.settings.render.item;
n.settings.render.item = function(e) {
return r(a.apply(this, arguments), i);
};
}
o.apply(this, arguments), this.$control.on("click", "." + t.className, function(t) {
if (t.preventDefault(), !n.isLocked) {
var i = e(t.currentTarget).parent();
n.setActiveItem(i), n.deleteSelection() && n.setCaret(n.items.length);
}
});
};
}();
}
}), C.define("restore_on_backspace", function(e) {
var t = this;
e.text = e.text || function(e) {
return e[this.settings.labelField];
}, this.onKeyDown = function() {
var n = t.onKeyDown;
return function(t) {
var i, r;
return 8 === t.keyCode && "" === this.$control_input.val() && !this.$activeItems.length && (i = this.caretPos - 1) >= 0 && i < this.items.length ? (r = this.options[this.items[i]], this.deleteSelection(t) && (this.setTextboxValue(e.text.apply(this, [ r ])), this.refreshOptions(!0)), void t.preventDefault()) : n.apply(this, arguments);
};
}();
}), C;
}), LabelSelector.prototype.addConjunct = function(e, t, n) {
var i = {
key: e,
operator: t,
values: n
}, r = this._getIdForConjunct(i);
return this._conjuncts[r] = i, i.id = r, i.string = this._getStringForConjunct(i), i;
}, LabelSelector.prototype.removeConjunct = function(e) {
e.id ? delete this._conjuncts[e.id] : delete this._conjuncts[e];
}, LabelSelector.prototype.clearConjuncts = function() {
this._conjuncts = {};
}, LabelSelector.prototype.isEmpty = function() {
return $.isEmptyObject(this._conjuncts);
}, LabelSelector.prototype.each = function(e) {
angular.forEach(this._conjuncts, e);
}, LabelSelector.prototype.select = function(e) {
return _.isArray(e) ? _.filter(e, _.bind(this.matches, this)) : _.pickBy(e, _.bind(this.matches, this));
}, LabelSelector.prototype.matches = function(e) {
if (!e) return !1;
if (this.isEmpty()) return this._emptySelectsAll;
var t = e.labels || {};
e.metadata && (t = e.metadata.labels || {});
for (var n in this._conjuncts) {
var i = this._conjuncts[n];
switch (i.operator) {
case "exists":
if (!t[i.key] && "" !== t[i.key]) return !1;
break;

case "does not exist":
if (t[i.key] || "" === t[i.key]) return !1;
break;

case "in":
var r = !1;
if (t[i.key] || "" === t[i.key]) for (a = 0; !r && a < i.values.length; a++) t[i.key] == i.values[a] && (r = !0);
if (!r) return !1;
break;

case "not in":
var o = !0;
if (t[i.key]) for (var a = 0; o && a < i.values.length; a++) o = t[i.key] != i.values[a];
if (!o) return !1;
}
}
return !0;
}, LabelSelector.prototype.hasConjunct = function(e) {
return !!this._conjuncts[this._getIdForConjunct(e)];
}, LabelSelector.prototype.findConjunctsMatching = function(e, t) {
return _.pickBy(this._conjuncts, _.matches({
operator: e,
key: t
}));
}, LabelSelector.prototype.covers = function(e) {
return !this.isEmpty() && _.every(this._conjuncts, function(t) {
if (e.hasConjunct(t)) return !0;
switch (t.operator) {
case "exists":
return !_.isEmpty(e.findConjunctsMatching("in", t.key));

case "does not exist":
return !1;

case "in":
var n = e.findConjunctsMatching("in", t.key);
return !_.isEmpty(n) && _.every(n, function(e) {
return e.values.length === _.intersection(e.values, t.values).length;
});

case "not in":
var i = e.findConjunctsMatching("not in", t.key);
return !_.isEmpty(i) && _.every(i, function(e) {
return t.values.length === _.intersection(e.values, t.values).length;
});
}
return !0;
});
}, LabelSelector.prototype.exportJSON = function() {
var e = {
matchExpressions: []
};
for (var t in this._conjuncts) {
var n = this._conjuncts[t], i = {
key: n.key,
operator: this._REVERSE_OPERATOR_MAP[n.operator],
values: n.values
};
e.matchExpressions.push(i);
}
return JSON.stringify(e);
}, LabelSelector.prototype._getStringForConjunct = function(e) {
var t = e.key;
if ("exists" == e.operator) return t + " exists";
if ("does not exist" == e.operator) return t + " does not exist";
"not in" == e.operator && (t += " not"), t += " in (";
for (var n = 0; n < e.values.length; n++) "" === e.values[n] ? t += '""' : t += e.values[n], n != e.values.length - 1 && (t += ", ");
return t += ")";
}, LabelSelector.prototype._getIdForConjunct = function(e) {
var t = e.key + "-" + e.operator;
return e.values && (t += "-" + e.values.join(",")), t;
};

try {
angular.module("kubernetesUI");
} catch (e) {
angular.module("kubernetesUI", []);
}

angular.module("kubernetesUI").factory("LabelFilter", [ "$location", function(e) {
function t() {
this._existingLabels = {}, this._labelSelector = new LabelSelector(null, !0), this._onActiveFiltersChangedCallbacks = $.Callbacks();
}
return t.prototype.addLabelSuggestionsFromResources = function(e, t) {
if (e.metadata && e.metadata.name) this._extractLabelsFromItem(e, t); else {
var n = this;
angular.forEach(e, function(e) {
n._extractLabelsFromItem(e, t);
});
}
}, t.prototype.setLabelSuggestions = function(e) {
if (this._existingLabels = e, this._labelFilterKeySelectize) {
this._labelFilterKeySelectize.clearOptions();
var t = this;
this._labelFilterKeySelectize.load(function(e) {
e(t._getLabelFilterKeys());
});
}
}, t.prototype.persistFilterState = function(e) {
this._shouldPersistState = !!e;
}, t.prototype._persistState = function() {
if (this._shouldPersistState) if (this._labelSelector.isEmpty()) (t = e.search()).labelFilter = null, e.replace().search(t); else {
var t = e.search();
t.labelFilter = this._labelSelector.exportJSON(), e.replace().search(t);
}
}, t.prototype.readPersistedState = function() {
var t = e.search().labelFilter;
if (t) try {
this._labelSelector = new LabelSelector(JSON.parse(t), !0);
} catch (e) {
this._labelSelector = new LabelSelector({}, !0);
} else this._labelSelector = new LabelSelector({}, !0);
}, t.prototype._extractLabelsFromItem = function(e, t) {
var n = e.metadata ? e.metadata.labels : {};
angular.forEach(n, function(e, n) {
t[n] || (t[n] = []), t[n].push({
value: e
});
});
}, t.prototype.getLabelSelector = function() {
return this._labelSelector;
}, t.prototype.setLabelSelector = function(e, t) {
if (this._labelFilterActiveFiltersElement && this._labelFilterActiveFiltersElement.find(".label-filter-active-filter").remove(), this._labelSelector = e, this._labelFilterActiveElement) if (this._labelSelector.isEmpty()) this._labelFilterActiveElement.hide(); else {
this._labelFilterActiveElement.show();
var n = this;
this._labelSelector.each(function(e) {
n._renderActiveFilter(e);
});
}
this._persistState(), t || this._onActiveFiltersChangedCallbacks.fire(this._labelSelector);
}, t.prototype.onActiveFiltersChanged = function(e) {
this._onActiveFiltersChangedCallbacks.add(e);
}, t.prototype.setupFilterWidget = function(e, t, n) {
var i = this, n = n || {};
this._labelFilterRootElement = e, this._labelFilterActiveFiltersRootElement = t;
var r = $("<div>").addClass("label-filter").appendTo(e);
this._labelFilterKeyInput = $("<select>").addClass("label-filter-key").attr("placeholder", "Filter by label ").appendTo(r), this._labelFilterOperatorInput = $("<select>").addClass("label-filter-operator").attr("placeholder", "matching(...)").hide().appendTo(r), this._labelFilterValuesInput = $("<select>").addClass("label-filter-values").attr("placeholder", "Value(s)").attr("multiple", !0).hide().appendTo(r), this._labelFilterAddBtn = $("<button>").addClass("label-filter-add btn btn-default disabled").attr("disabled", !0).appendTo(e).append($("<span>").text(n.addButtonText || "Add Filter")), this._labelFilterActiveFiltersElement = $("<span>").addClass("label-filter-active-filters").appendTo(t), this._labelFilterActiveElement = $("<span>").addClass("label-filter-clear").hide().appendTo(this._labelFilterActiveFiltersElement).append($("<a>").addClass("label-filtering-remove-all label label-primary").prop("href", "javascript:;").append($("<i>").addClass("fa fa-filter")).append($("<span>").text("Clear filters"))).click(function() {
i.clear();
}), this._labelFilterKeyInput.selectize({
dropdownParent: "body",
valueField: "key",
labelField: "key",
searchField: [ "key" ],
create: !0,
persist: !0,
preload: !0,
onItemAdd: function(e, t) {
var n = i._labelFilterValuesSelectize;
n.clearOptions(), n.load(function(e) {
var t = [], n = i._labelFilterKeySelectize.getValue();
if (!n) return t;
var r = i._existingLabels;
if (r[n]) {
for (var o = 0; o < r[n].length; o++) t.push(r[n][o]);
e(t);
} else e({});
}), i._labelFilterOperatorSelectizeInput.css("display", "inline-block"), i._labelFilterOperatorSelectize.getValue() ? n.focus() : i._labelFilterOperatorSelectize.focus();
},
onItemRemove: function(e) {
i._labelFilterOperatorSelectizeInput.hide(), i._labelFilterOperatorSelectize.clear(), i._labelFilterValuesSelectizeInput.hide(), i._labelFilterValuesSelectize.clear(), i._labelFilterAddBtn.addClass("disabled").prop("disabled", !0);
},
load: function(e, t) {
t(i._getLabelFilterKeys());
},
onFocus: function() {
r.addClass("filter-active");
},
onBlur: function() {
r.removeClass("filter-active");
}
}), this._labelFilterKeySelectize = this._labelFilterKeyInput.prop("selectize"), this._labelFilterKeySelectizeInput = $(".selectize-control.label-filter-key", r), this._labelFilterOperatorInput.selectize({
dropdownParent: "body",
valueField: "type",
labelField: "label",
searchField: [ "label" ],
options: [ {
type: "exists",
label: "exists"
}, {
type: "does not exist",
label: "does not exist"
}, {
type: "in",
label: "in ..."
}, {
type: "not in",
label: "not in ..."
} ],
onItemAdd: function(e, t) {
"exists" != e && "does not exist" != e ? (i._labelFilterValuesSelectizeInput.css("display", "inline-block"), i._labelFilterValuesSelectize.focus()) : i._labelFilterAddBtn.removeClass("disabled").prop("disabled", !1).focus();
},
onItemRemove: function(e) {
i._labelFilterValuesSelectizeInput.hide(), i._labelFilterValuesSelectize.clear(), i._labelFilterAddBtn.addClass("disabled").prop("disabled", !0);
},
onFocus: function() {
r.addClass("filter-active");
},
onBlur: function() {
r.removeClass("filter-active");
}
}), this._labelFilterOperatorSelectize = this._labelFilterOperatorInput.prop("selectize"), this._labelFilterOperatorSelectizeInput = $(".selectize-control.label-filter-operator", r), this._labelFilterOperatorSelectizeInput.hide(), this._labelFilterValuesInput.selectize({
dropdownParent: "body",
valueField: "value",
labelField: "value",
searchField: [ "value" ],
plugins: [ "remove_button" ],
create: !0,
persist: !0,
preload: !0,
onItemAdd: function(e, t) {
i._labelFilterAddBtn.removeClass("disabled").prop("disabled", !1);
},
onItemRemove: function(e) {},
load: function(e, t) {
var n = [], r = i._labelFilterKeySelectize.getValue();
if (!r) return n;
var o = i._existingLabels;
if (o[r]) {
for (var a = 0; a < o[r].length; a++) n.push(o[r][a]);
t(n);
} else t({});
},
onFocus: function() {
r.addClass("filter-active");
},
onBlur: function() {
r.removeClass("filter-active");
}
}), this._labelFilterValuesSelectize = this._labelFilterValuesInput.prop("selectize"), this._labelFilterValuesSelectizeInput = $(".selectize-control.label-filter-values", r), this._labelFilterValuesSelectizeInput.hide(), this._labelFilterAddBtn.click(function() {
var e = i._labelFilterKeySelectize.getValue(), t = i._labelFilterOperatorSelectize.getValue(), n = i._labelFilterValuesSelectize.getValue();
i._labelFilterKeySelectize.clear(), i._labelFilterOperatorSelectizeInput.hide(), i._labelFilterOperatorSelectize.clear(), i._labelFilterValuesSelectizeInput.hide(), i._labelFilterValuesSelectize.clear(), i._labelFilterAddBtn.addClass("disabled").prop("disabled", !0), i.addActiveFilter(e, t, n);
}), this._labelSelector.isEmpty() || (this._labelFilterActiveElement.show(), this._labelSelector.each(function(e) {
i._renderActiveFilter(e);
}));
}, t.prototype._getLabelFilterKeys = function() {
for (var e = [], t = Object.keys(this._existingLabels), n = 0; n < t.length; n++) e.push({
key: t[n]
});
return e;
}, t.prototype.addActiveFilter = function(e, t, n) {
this._labelFilterActiveElement.show(), this._addActiveFilter(e, t, n);
}, t.prototype._addActiveFilter = function(e, t, n) {
var i = this._labelSelector.addConjunct(e, t, n);
this._persistState(), this._onActiveFiltersChangedCallbacks.fire(this._labelSelector), this._renderActiveFilter(i);
}, t.prototype.clear = function() {
this._labelFilterActiveFiltersElement && this._labelFilterActiveFiltersElement.find(".label-filter-active-filter").remove(), this._labelFilterActiveElement && this._labelFilterActiveElement.hide(), this._labelSelector.clearConjuncts(), this._persistState(), this._onActiveFiltersChangedCallbacks.fire(this._labelSelector);
}, t.prototype._renderActiveFilter = function(e) {
$("<a>").addClass("label label-default label-filter-active-filter").prop("href", "javascript:;").prop("filter-label-id", e.id).click($.proxy(this, "_removeActiveFilter")).append($("<span>").text(e.string)).append($("<i>").addClass("fa fa-times")).appendTo(this._labelFilterActiveFiltersElement);
}, t.prototype._removeActiveFilter = function(e) {
var t = $(e.target).closest(".label-filter-active-filter"), n = t.prop("filter-label-id");
t.remove(), 0 == $(".label-filter-active-filter", this._labelFilterActiveFiltersElement).length && this._labelFilterActiveElement.hide(), this._labelSelector.removeConjunct(n), this._persistState(), this._onActiveFiltersChangedCallbacks.fire(this._labelSelector);
}, t.prototype.toggleFilterWidget = function(e) {
this._labelFilterRootElement && (e ? this._labelFilterRootElement.show() : this._labelFilterRootElement.hide()), this._labelFilterActiveFiltersRootElement && (e ? this._labelFilterActiveFiltersRootElement.show() : this._labelFilterActiveFiltersRootElement.hide());
}, new t();
} ]), function(e) {
if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Terminal = e();
}
}(function() {
return function() {
function e(t, n, i) {
function r(a, s) {
if (!n[a]) {
if (!t[a]) {
var l = "function" == typeof require && require;
if (!s && l) return l(a, !0);
if (o) return o(a, !0);
var c = new Error("Cannot find module '" + a + "'");
throw c.code = "MODULE_NOT_FOUND", c;
}
var u = n[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
return r(t[a][1][e] || e);
}, u, u.exports, e, t, n, i);
}
return n[a].exports;
}
for (var o = "function" == typeof require && require, a = 0; a < i.length; a++) r(i[a]);
return r;
}
return e;
}()({
1: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./Strings"), o = e("./core/Platform"), a = e("./ui/RenderDebouncer"), s = e("./ui/Lifecycle"), l = function(e) {
function t(t) {
var n = e.call(this) || this;
n._terminal = t, n._liveRegionLineCount = 0, n._charsToConsume = [], n._accessibilityTreeRoot = document.createElement("div"), n._accessibilityTreeRoot.classList.add("xterm-accessibility"), n._rowContainer = document.createElement("div"), n._rowContainer.classList.add("xterm-accessibility-tree"), n._rowElements = [];
for (var i = 0; i < n._terminal.rows; i++) n._rowElements[i] = n._createAccessibilityTreeNode(), n._rowContainer.appendChild(n._rowElements[i]);
return n._topBoundaryFocusListener = function(e) {
return n._onBoundaryFocus(e, 0);
}, n._bottomBoundaryFocusListener = function(e) {
return n._onBoundaryFocus(e, 1);
}, n._rowElements[0].addEventListener("focus", n._topBoundaryFocusListener), n._rowElements[n._rowElements.length - 1].addEventListener("focus", n._bottomBoundaryFocusListener), n._refreshRowsDimensions(), n._accessibilityTreeRoot.appendChild(n._rowContainer), n._renderRowsDebouncer = new a.RenderDebouncer(n._terminal, n._renderRows.bind(n)), n._refreshRows(), n._liveRegion = document.createElement("div"), n._liveRegion.classList.add("live-region"), n._liveRegion.setAttribute("aria-live", "assertive"), n._accessibilityTreeRoot.appendChild(n._liveRegion), n._terminal.element.insertAdjacentElement("afterbegin", n._accessibilityTreeRoot), n.register(n._renderRowsDebouncer), n.register(n._terminal.addDisposableListener("resize", function(e) {
return n._onResize(e.rows);
})), n.register(n._terminal.addDisposableListener("refresh", function(e) {
return n._refreshRows(e.start, e.end);
})), n.register(n._terminal.addDisposableListener("scroll", function(e) {
return n._refreshRows();
})), n.register(n._terminal.addDisposableListener("a11y.char", function(e) {
return n._onChar(e);
})), n.register(n._terminal.addDisposableListener("linefeed", function() {
return n._onChar("\n");
})), n.register(n._terminal.addDisposableListener("a11y.tab", function(e) {
return n._onTab(e);
})), n.register(n._terminal.addDisposableListener("key", function(e) {
return n._onKey(e);
})), n.register(n._terminal.addDisposableListener("blur", function() {
return n._clearLiveRegion();
})), n.register(n._terminal.addDisposableListener("dprchange", function() {
return n._refreshRowsDimensions();
})), n.register(n._terminal.renderer.addDisposableListener("resize", function() {
return n._refreshRowsDimensions();
})), n.register(s.addDisposableDomListener(window, "resize", function() {
return n._refreshRowsDimensions();
})), n;
}
return i(t, e), t.prototype.dispose = function() {
e.prototype.dispose.call(this), this._terminal.element.removeChild(this._accessibilityTreeRoot), this._rowElements.length = 0;
}, t.prototype._onBoundaryFocus = function(e, t) {
var n = e.target, i = this._rowElements[0 === t ? 1 : this._rowElements.length - 2];
if (n.getAttribute("aria-posinset") !== (0 === t ? "1" : "" + this._terminal.buffer.lines.length) && e.relatedTarget === i) {
var r, o;
if (0 === t ? (r = n, o = this._rowElements.pop(), this._rowContainer.removeChild(o)) : (r = this._rowElements.shift(), o = n, this._rowContainer.removeChild(r)), r.removeEventListener("focus", this._topBoundaryFocusListener), o.removeEventListener("focus", this._bottomBoundaryFocusListener), 0 === t) {
a = this._createAccessibilityTreeNode();
this._rowElements.unshift(a), this._rowContainer.insertAdjacentElement("afterbegin", a);
} else {
var a = this._createAccessibilityTreeNode();
this._rowElements.push(a), this._rowContainer.appendChild(a);
}
this._rowElements[0].addEventListener("focus", this._topBoundaryFocusListener), this._rowElements[this._rowElements.length - 1].addEventListener("focus", this._bottomBoundaryFocusListener), this._terminal.scrollLines(0 === t ? -1 : 1), this._rowElements[0 === t ? 1 : this._rowElements.length - 2].focus(), e.preventDefault(), e.stopImmediatePropagation();
}
}, t.prototype._onResize = function(e) {
this._rowElements[this._rowElements.length - 1].removeEventListener("focus", this._bottomBoundaryFocusListener);
for (var t = this._rowContainer.children.length; t < this._terminal.rows; t++) this._rowElements[t] = this._createAccessibilityTreeNode(), this._rowContainer.appendChild(this._rowElements[t]);
for (;this._rowElements.length > e; ) this._rowContainer.removeChild(this._rowElements.pop());
this._rowElements[this._rowElements.length - 1].addEventListener("focus", this._bottomBoundaryFocusListener), this._refreshRowsDimensions();
}, t.prototype._createAccessibilityTreeNode = function() {
var e = document.createElement("div");
return e.setAttribute("role", "listitem"), e.tabIndex = -1, this._refreshRowDimensions(e), e;
}, t.prototype._onTab = function(e) {
for (var t = 0; t < e; t++) this._onChar(" ");
}, t.prototype._onChar = function(e) {
var t = this;
this._liveRegionLineCount < 21 && (this._charsToConsume.length > 0 ? this._charsToConsume.shift() !== e && this._announceCharacter(e) : this._announceCharacter(e), "\n" === e && 21 === ++this._liveRegionLineCount && (this._liveRegion.textContent += r.tooMuchOutput), o.isMac && this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode && setTimeout(function() {
t._accessibilityTreeRoot.appendChild(t._liveRegion);
}, 0));
}, t.prototype._clearLiveRegion = function() {
this._liveRegion.textContent = "", this._liveRegionLineCount = 0, o.isMac && this._liveRegion.parentNode && this._accessibilityTreeRoot.removeChild(this._liveRegion);
}, t.prototype._onKey = function(e) {
this._clearLiveRegion(), this._charsToConsume.push(e);
}, t.prototype._refreshRows = function(e, t) {
this._renderRowsDebouncer.refresh(e, t);
}, t.prototype._renderRows = function(e, t) {
for (var n = this._terminal.buffer, i = n.lines.length.toString(), o = e; o <= t; o++) {
var a = n.translateBufferLineToString(n.ydisp + o, !0), s = (n.ydisp + o + 1).toString(), l = this._rowElements[o];
l.textContent = 0 === a.length ? r.blankLine : a, l.setAttribute("aria-posinset", s), l.setAttribute("aria-setsize", i);
}
}, t.prototype._refreshRowsDimensions = function() {
if (this._terminal.renderer.dimensions.actualCellHeight) {
this._rowElements.length !== this._terminal.rows && this._onResize(this._terminal.rows);
for (var e = 0; e < this._terminal.rows; e++) this._refreshRowDimensions(this._rowElements[e]);
}
}, t.prototype._refreshRowDimensions = function(e) {
e.style.height = this._terminal.renderer.dimensions.actualCellHeight + "px";
}, t.prototype._announceCharacter = function(e) {
" " === e ? this._liveRegion.innerHTML += "&nbsp;" : this._liveRegion.textContent += e;
}, t;
}(e("./common/Lifecycle").Disposable);
n.AccessibilityManager = l;
}, {
"./Strings": 14,
"./common/Lifecycle": 20,
"./core/Platform": 23,
"./ui/Lifecycle": 51,
"./ui/RenderDebouncer": 54
} ],
2: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./BufferLine"), o = e("./BufferReflow"), a = e("./common/CircularList"), s = e("./common/EventEmitter"), l = e("./renderer/atlas/Types");
n.DEFAULT_ATTR = 256 | l.DEFAULT_COLOR << 9, n.CHAR_DATA_ATTR_INDEX = 0, n.CHAR_DATA_CHAR_INDEX = 1, n.CHAR_DATA_WIDTH_INDEX = 2, n.CHAR_DATA_CODE_INDEX = 3, n.MAX_BUFFER_SIZE = 4294967295, n.NULL_CELL_CHAR = "", n.NULL_CELL_WIDTH = 1, n.NULL_CELL_CODE = 0, n.WHITESPACE_CELL_CHAR = " ", n.WHITESPACE_CELL_WIDTH = 1, n.WHITESPACE_CELL_CODE = 32, n.FILL_CHAR_DATA = [ n.DEFAULT_ATTR, n.NULL_CELL_CHAR, n.NULL_CELL_WIDTH, n.NULL_CELL_CODE ];
var c = function() {
function e(e, t) {
this._terminal = e, this._hasScrollback = t, this.markers = [], this._cols = this._terminal.cols, this._rows = this._terminal.rows, this.clear();
}
return e.prototype.getBlankLine = function(e, t) {
var i = [ e, n.NULL_CELL_CHAR, n.NULL_CELL_WIDTH, n.NULL_CELL_CODE ];
return new r.BufferLine(this._cols, i, t);
}, Object.defineProperty(e.prototype, "hasScrollback", {
get: function() {
return this._hasScrollback && this.lines.maxLength > this._rows;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isCursorInViewport", {
get: function() {
var e = this.ybase + this.y - this.ydisp;
return e >= 0 && e < this._rows;
},
enumerable: !0,
configurable: !0
}), e.prototype._getCorrectBufferLength = function(e) {
if (!this._hasScrollback) return e;
var t = e + this._terminal.options.scrollback;
return t > n.MAX_BUFFER_SIZE ? n.MAX_BUFFER_SIZE : t;
}, e.prototype.fillViewportRows = function(e) {
if (0 === this.lines.length) {
void 0 === e && (e = n.DEFAULT_ATTR);
for (var t = this._rows; t--; ) this.lines.push(this.getBlankLine(e));
}
}, e.prototype.clear = function() {
this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.lines = new a.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();
}, e.prototype.resize = function(e, t) {
var i = this._getCorrectBufferLength(t);
if (i > this.lines.maxLength && (this.lines.maxLength = i), this.lines.length > 0) {
if (this._cols < e) for (l = 0; l < this.lines.length; l++) this.lines.get(l).resize(e, n.FILL_CHAR_DATA);
var o = 0;
if (this._rows < t) for (a = this._rows; a < t; a++) this.lines.length < t + this.ybase && (this.ybase > 0 && this.lines.length <= this.ybase + this.y + o + 1 ? (this.ybase--, o++, this.ydisp > 0 && this.ydisp--) : this.lines.push(new r.BufferLine(e, n.FILL_CHAR_DATA))); else for (var a = this._rows; a > t; a--) this.lines.length > t + this.ybase && (this.lines.length > this.ybase + this.y + 1 ? this.lines.pop() : (this.ybase++, this.ydisp++));
if (i < this.lines.maxLength) {
var s = this.lines.length - i;
s > 0 && (this.lines.trimStart(s), this.ybase = Math.max(this.ybase - s, 0), this.ydisp = Math.max(this.ydisp - s, 0)), this.lines.maxLength = i;
}
this.x = Math.min(this.x, e - 1), this.y = Math.min(this.y, t - 1), o && (this.y += o), this.savedY = Math.min(this.savedY, t - 1), this.savedX = Math.min(this.savedX, e - 1), this.scrollTop = 0;
}
if (this.scrollBottom = t - 1, this._isReflowEnabled && (this._reflow(e, t), this._cols > e)) for (var l = 0; l < this.lines.length; l++) this.lines.get(l).resize(e, n.FILL_CHAR_DATA);
this._cols = e, this._rows = t;
}, Object.defineProperty(e.prototype, "_isReflowEnabled", {
get: function() {
return this._hasScrollback && !this._terminal.isWinptyCompatEnabled;
},
enumerable: !0,
configurable: !0
}), e.prototype._reflow = function(e, t) {
this._cols !== e && (e > this._cols ? this._reflowLarger(e, t) : this._reflowSmaller(e, t));
}, e.prototype._reflowLarger = function(e, t) {
var n = o.reflowLargerGetLinesToRemove(this.lines, e, this.ybase + this.y);
if (n.length > 0) {
var i = o.reflowLargerCreateNewLayout(this.lines, n);
o.reflowLargerApplyNewLayout(this.lines, i.layout), this._reflowLargerAdjustViewport(e, t, i.countRemoved);
}
}, e.prototype._reflowLargerAdjustViewport = function(e, t, i) {
for (var o = i; o-- > 0; ) 0 === this.ybase ? (this.y > 0 && this.y--, this.lines.length < t && this.lines.push(new r.BufferLine(e, n.FILL_CHAR_DATA))) : (this.ydisp === this.ybase && this.ydisp--, this.ybase--);
}, e.prototype._reflowSmaller = function(e, t) {
for (var i = [], r = 0, a = this.lines.length - 1; a >= 0; a--) {
var s = this.lines.get(a);
if (s.isWrapped || !(s.getTrimmedLength() <= e)) {
for (var l = [ s ]; s.isWrapped && a > 0; ) s = this.lines.get(--a), l.unshift(s);
var c = this.ybase + this.y;
if (!(c >= a && c < a + l.length)) {
var u = l[l.length - 1].getTrimmedLength(), d = o.reflowSmallerGetNewLineLengths(l, this._cols, e), h = d.length - l.length, f = void 0;
f = 0 === this.ybase && this.y !== this.lines.length - 1 ? Math.max(0, this.y - this.lines.maxLength + h) : Math.max(0, this.lines.length - this.lines.maxLength + h);
for (var p = [], g = 0; g < h; g++) {
var m = this.getBlankLine(n.DEFAULT_ATTR, !0);
p.push(m);
}
p.length > 0 && (i.push({
start: a + l.length + r,
newLines: p
}), r += p.length), l.push.apply(l, p);
var v = d.length - 1, y = d[v];
0 === y && (y = d[--v]);
for (var b = l.length - h - 1, _ = u; b >= 0; ) {
var w = Math.min(_, y);
l[v].copyCellsFrom(l[b], _ - w, y - w, w, !0), 0 === (y -= w) && (y = d[--v]), 0 === (_ -= w) && (b--, _ = l[Math.max(b, 0)].getTrimmedLength());
}
for (g = 0; g < l.length; g++) d[g] < e && l[g].set(d[g], n.FILL_CHAR_DATA);
for (var C = h - f; C-- > 0; ) 0 === this.ybase ? this.y < t - 1 ? (this.y++, this.lines.pop()) : (this.ybase++, this.ydisp++) : this.ybase < Math.min(this.lines.maxLength, this.lines.length + r) - t && (this.ybase === this.ydisp && this.ydisp++, this.ybase++);
}
}
}
if (i.length > 0) {
for (var x = [], S = [], g = 0; g < this.lines.length; g++) S.push(this.lines.get(g));
var $ = this.lines.length, A = $ - 1, k = 0, T = i[k];
this.lines.length = Math.min(this.lines.maxLength, this.lines.length + r);
for (var D = 0, g = Math.min(this.lines.maxLength - 1, $ + r - 1); g >= 0; g--) if (T && T.start > A + D) {
for (var E = T.newLines.length - 1; E >= 0; E--) this.lines.set(g--, T.newLines[E]);
g++, x.push({
index: A + 1,
amount: T.newLines.length
}), D += T.newLines.length, T = i[++k];
} else this.lines.set(g, S[A--]);
for (var F = 0, g = x.length - 1; g >= 0; g--) x[g].index += F, this.lines.emit("insert", x[g]), F += x[g].amount;
var M = Math.max(0, $ + r - this.lines.maxLength);
M > 0 && this.lines.emitMayRemoveListeners("trim", M);
}
}, e.prototype.stringIndexToBufferIndex = function(e, t, i) {
for (void 0 === i && (i = !1); t; ) {
var r = this.lines.get(e);
if (!r) return [ -1, -1 ];
for (var o = i ? r.getTrimmedLength() : r.length, a = 0; a < o; ++a) if (r.get(a)[n.CHAR_DATA_WIDTH_INDEX] && (t -= r.get(a)[n.CHAR_DATA_CHAR_INDEX].length || 1), t < 0) return [ e, a ];
e++;
}
return [ e, 0 ];
}, e.prototype.translateBufferLineToString = function(e, t, n, i) {
void 0 === n && (n = 0);
var r = this.lines.get(e);
return r ? r.translateToString(t, n, i) : "";
}, e.prototype.getWrappedRangeForLine = function(e) {
for (var t = e, n = e; t > 0 && this.lines.get(t).isWrapped; ) t--;
for (;n + 1 < this.lines.length && this.lines.get(n + 1).isWrapped; ) n++;
return {
first: t,
last: n
};
}, e.prototype.setupTabStops = function(e) {
for (null !== e && void 0 !== e ? this.tabs[e] || (e = this.prevStop(e)) : (this.tabs = {}, e = 0); e < this._cols; e += this._terminal.options.tabStopWidth) this.tabs[e] = !0;
}, e.prototype.prevStop = function(e) {
for (null !== e && void 0 !== e || (e = this.x); !this.tabs[--e] && e > 0; ) ;
return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;
}, e.prototype.nextStop = function(e) {
for (null !== e && void 0 !== e || (e = this.x); !this.tabs[++e] && e < this._cols; ) ;
return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;
}, e.prototype.addMarker = function(e) {
var t = this, n = new u(e);
return this.markers.push(n), n.register(this.lines.addDisposableListener("trim", function(e) {
n.line -= e, n.line < 0 && n.dispose();
})), n.register(this.lines.addDisposableListener("insert", function(e) {
n.line >= e.index && (n.line += e.amount);
})), n.register(this.lines.addDisposableListener("delete", function(e) {
n.line >= e.index && n.line < e.index + e.amount && n.dispose(), n.line > e.index && (n.line -= e.amount);
})), n.register(n.addDisposableListener("dispose", function() {
return t._removeMarker(n);
})), n;
}, e.prototype._removeMarker = function(e) {
this.markers.splice(this.markers.indexOf(e), 1);
}, e.prototype.iterator = function(e, t, n, i, r) {
return new d(this, e, t, n, i, r);
}, e;
}();
n.Buffer = c;
var u = function(e) {
function t(n) {
var i = e.call(this) || this;
return i.line = n, i._id = t._nextId++, i.isDisposed = !1, i;
}
return i(t, e), Object.defineProperty(t.prototype, "id", {
get: function() {
return this._id;
},
enumerable: !0,
configurable: !0
}), t.prototype.dispose = function() {
this.isDisposed || (this.isDisposed = !0, this.emit("dispose"), e.prototype.dispose.call(this));
}, t._nextId = 1, t;
}(s.EventEmitter);
n.Marker = u;
var d = function() {
function e(e, t, n, i, r, o) {
void 0 === n && (n = 0), void 0 === i && (i = e.lines.length), void 0 === r && (r = 0), void 0 === o && (o = 0), this._buffer = e, this._trimRight = t, this._startIndex = n, this._endIndex = i, this._startOverscan = r, this._endOverscan = o, this._startIndex < 0 && (this._startIndex = 0), this._endIndex > this._buffer.lines.length && (this._endIndex = this._buffer.lines.length), this._current = this._startIndex;
}
return e.prototype.hasNext = function() {
return this._current < this._endIndex;
}, e.prototype.next = function() {
var e = this._buffer.getWrappedRangeForLine(this._current);
e.first < this._startIndex - this._startOverscan && (e.first = this._startIndex - this._startOverscan), e.last > this._endIndex + this._endOverscan && (e.last = this._endIndex + this._endOverscan), e.first = Math.max(e.first, 0), e.last = Math.min(e.last, this._buffer.lines.length);
for (var t = "", n = e.first; n <= e.last; ++n) t += this._buffer.translateBufferLineToString(n, this._trimRight);
return this._current = e.last + 1, {
range: e,
content: t
};
}, e;
}();
n.BufferStringIterator = d;
}, {
"./BufferLine": 3,
"./BufferReflow": 4,
"./common/CircularList": 17,
"./common/EventEmitter": 19,
"./renderer/atlas/Types": 46
} ],
3: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./Buffer"), r = 3, o = function() {
function e(e, t, n) {
if (void 0 === n && (n = !1), this.isWrapped = n, this._data = null, this._combined = {}, t || (t = [ 0, i.NULL_CELL_CHAR, i.NULL_CELL_WIDTH, i.NULL_CELL_CODE ]), e) {
this._data = new Uint32Array(e * r);
for (var o = 0; o < e; ++o) this.set(o, t);
}
this.length = e;
}
return e.prototype.get = function(e) {
var t = this._data[e * r + 1];
return [ this._data[e * r + 0], 2147483648 & t ? this._combined[e] : t ? String.fromCharCode(t) : "", this._data[e * r + 2], 2147483648 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : t ];
}, e.prototype.getWidth = function(e) {
return this._data[e * r + 2];
}, e.prototype.set = function(e, t) {
this._data[e * r + 0] = t[0], t[1].length > 1 ? (this._combined[e] = t[1], this._data[e * r + 1] = 2147483648 | e) : this._data[e * r + 1] = t[1].charCodeAt(0), this._data[e * r + 2] = t[2];
}, e.prototype.insertCells = function(e, t, n) {
if (e %= this.length, t < this.length - e) {
for (i = this.length - e - t - 1; i >= 0; --i) this.set(e + t + i, this.get(e + i));
for (i = 0; i < t; ++i) this.set(e + i, n);
} else for (var i = e; i < this.length; ++i) this.set(i, n);
}, e.prototype.deleteCells = function(e, t, n) {
if (e %= this.length, t < this.length - e) {
for (i = 0; i < this.length - e - t; ++i) this.set(e + i, this.get(e + t + i));
for (i = this.length - t; i < this.length; ++i) this.set(i, n);
} else for (var i = e; i < this.length; ++i) this.set(i, n);
}, e.prototype.replaceCells = function(e, t, n) {
for (;e < t && e < this.length; ) this.set(e++, n);
}, e.prototype.resize = function(e, t) {
if (e !== this.length) {
if (e > this.length) {
var n = new Uint32Array(e * r);
this.length && (e * r < this._data.length ? n.set(this._data.subarray(0, e * r)) : n.set(this._data)), this._data = n;
for (o = this.length; o < e; ++o) this.set(o, t);
} else if (e) {
(n = new Uint32Array(e * r)).set(this._data.subarray(0, e * r)), this._data = n;
for (var i = Object.keys(this._combined), o = 0; o < i.length; o++) {
var a = parseInt(i[o], 10);
a >= e && delete this._combined[a];
}
} else this._data = null, this._combined = {};
this.length = e;
}
}, e.prototype.fill = function(e) {
this._combined = {};
for (var t = 0; t < this.length; ++t) this.set(t, e);
}, e.prototype.copyFrom = function(e) {
this.length !== e.length ? this._data = new Uint32Array(e._data) : this._data.set(e._data), this.length = e.length, this._combined = {};
for (var t in e._combined) this._combined[t] = e._combined[t];
this.isWrapped = e.isWrapped;
}, e.prototype.clone = function() {
var t = new e(0);
t._data = new Uint32Array(this._data), t.length = this.length;
for (var n in this._combined) t._combined[n] = this._combined[n];
return t.isWrapped = this.isWrapped, t;
}, e.prototype.getTrimmedLength = function() {
for (var e = this.length - 1; e >= 0; --e) if (0 !== this._data[e * r + 1]) return e + this._data[e * r + 2];
return 0;
}, e.prototype.copyCellsFrom = function(e, t, n, i, o) {
var a = e._data;
if (o) for (s = i - 1; s >= 0; s--) for (c = 0; c < r; c++) this._data[(n + s) * r + c] = a[(t + s) * r + c]; else for (var s = 0; s < i; s++) for (c = 0; c < r; c++) this._data[(n + s) * r + c] = a[(t + s) * r + c];
for (var l = Object.keys(e._combined), c = 0; c < l.length; c++) {
var u = parseInt(l[c], 10);
u >= t && (this._combined[u - t + n] = e._combined[u]);
}
}, e.prototype.translateToString = function(e, t, n) {
void 0 === e && (e = !1), void 0 === t && (t = 0), void 0 === n && (n = this.length), e && (n = Math.min(n, this.getTrimmedLength()));
for (var o = ""; t < n; ) {
var a = this._data[t * r + 1];
o += 2147483648 & a ? this._combined[t] : a ? String.fromCharCode(a) : i.WHITESPACE_CELL_CHAR, t += this._data[t * r + 2] || 1;
}
return o;
}, e;
}();
n.BufferLine = o;
}, {
"./Buffer": 2
} ],
4: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./Buffer");
n.reflowLargerGetLinesToRemove = function(e, t, n) {
for (var r = [], o = 0; o < e.length - 1; o++) {
var a = o, s = e.get(++a);
if (s.isWrapped) {
for (var l = [ e.get(o) ]; a < e.length && s.isWrapped; ) l.push(s), s = e.get(++a);
if (n >= o && n < a) o += l.length - 1; else {
for (var c = 0, u = l[c].getTrimmedLength(), d = 1, h = 0; d < l.length; ) {
var f = l[d].getTrimmedLength(), p = f - h, g = t - u, m = Math.min(p, g);
l[c].copyCellsFrom(l[d], h, u, m, !1), (u += m) === t && (c++, u = 0), (h += m) === f && (d++, h = 0), 0 === u && 0 !== c && 2 === l[c - 1].getWidth(t - 1) && (l[c].copyCellsFrom(l[c - 1], t - 1, u++, 1, !1), l[c - 1].set(t - 1, i.FILL_CHAR_DATA));
}
l[c].replaceCells(u, t, i.FILL_CHAR_DATA);
for (var v = 0, y = l.length - 1; y > 0 && (y > c || 0 === l[y].getTrimmedLength()); y--) v++;
v > 0 && (r.push(o + l.length - v), r.push(v)), o += l.length - 1;
}
}
}
return r;
}, n.reflowLargerCreateNewLayout = function(e, t) {
for (var n = [], i = 0, r = t[i], o = 0, a = 0; a < e.length; a++) if (r === a) {
var s = t[++i];
e.emit("delete", {
index: a - o,
amount: s
}), a += s - 1, o += s, r = t[++i];
} else n.push(a);
return {
layout: n,
countRemoved: o
};
}, n.reflowLargerApplyNewLayout = function(e, t) {
for (var n = [], i = 0; i < t.length; i++) n.push(e.get(t[i]));
for (i = 0; i < n.length; i++) e.set(i, n[i]);
e.length = t.length;
}, n.reflowSmallerGetNewLineLengths = function(e, t, n) {
for (var i = [], r = e.map(function(e) {
return e.getTrimmedLength();
}).reduce(function(e, t) {
return e + t;
}), o = 0, a = 0, s = 0; s < r; ) {
if (r - s < n) {
i.push(r - s);
break;
}
o += n;
var l = e[a].getTrimmedLength();
o > l && (o -= l, a++);
var c = 2 === e[a].getWidth(o - 1);
c && o--;
var u = c ? n - 1 : n;
i.push(u), s += u;
}
return i;
};
}, {
"./Buffer": 2
} ],
5: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./Buffer"), o = function(e) {
function t(t) {
var n = e.call(this) || this;
return n._terminal = t, n._normal = new r.Buffer(n._terminal, !0), n._normal.fillViewportRows(), n._alt = new r.Buffer(n._terminal, !1), n._activeBuffer = n._normal, n.setupTabStops(), n;
}
return i(t, e), Object.defineProperty(t.prototype, "alt", {
get: function() {
return this._alt;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "active", {
get: function() {
return this._activeBuffer;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "normal", {
get: function() {
return this._normal;
},
enumerable: !0,
configurable: !0
}), t.prototype.activateNormalBuffer = function() {
this._activeBuffer !== this._normal && (this._normal.x = this._alt.x, this._normal.y = this._alt.y, this._alt.clear(), this._activeBuffer = this._normal, this.emit("activate", {
activeBuffer: this._normal,
inactiveBuffer: this._alt
}));
}, t.prototype.activateAltBuffer = function(e) {
this._activeBuffer !== this._alt && (this._alt.fillViewportRows(e), this._alt.x = this._normal.x, this._alt.y = this._normal.y, this._activeBuffer = this._alt, this.emit("activate", {
activeBuffer: this._alt,
inactiveBuffer: this._normal
}));
}, t.prototype.resize = function(e, t) {
this._normal.resize(e, t), this._alt.resize(e, t);
}, t.prototype.setupTabStops = function(e) {
this._normal.setupTabStops(e), this._alt.setupTabStops(e);
}, t;
}(e("./common/EventEmitter").EventEmitter);
n.BufferSet = o;
}, {
"./Buffer": 2,
"./common/EventEmitter": 19
} ],
6: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./common/TypedArrayUtils");
n.wcwidth = function(e) {
function t(e, t) {
var n, i = 0, r = t.length - 1;
if (e < t[0][0] || e > t[r][1]) return !1;
for (;r >= i; ) if (n = i + r >> 1, e > t[n][1]) i = n + 1; else {
if (!(e < t[n][0])) return !0;
r = n - 1;
}
return !1;
}
function n(e) {
return t(e, o) ? 0 : e >= 131072 && e <= 196605 || e >= 196608 && e <= 262141 ? 2 : 1;
}
var r = [ [ 768, 879 ], [ 1155, 1158 ], [ 1160, 1161 ], [ 1425, 1469 ], [ 1471, 1471 ], [ 1473, 1474 ], [ 1476, 1477 ], [ 1479, 1479 ], [ 1536, 1539 ], [ 1552, 1557 ], [ 1611, 1630 ], [ 1648, 1648 ], [ 1750, 1764 ], [ 1767, 1768 ], [ 1770, 1773 ], [ 1807, 1807 ], [ 1809, 1809 ], [ 1840, 1866 ], [ 1958, 1968 ], [ 2027, 2035 ], [ 2305, 2306 ], [ 2364, 2364 ], [ 2369, 2376 ], [ 2381, 2381 ], [ 2385, 2388 ], [ 2402, 2403 ], [ 2433, 2433 ], [ 2492, 2492 ], [ 2497, 2500 ], [ 2509, 2509 ], [ 2530, 2531 ], [ 2561, 2562 ], [ 2620, 2620 ], [ 2625, 2626 ], [ 2631, 2632 ], [ 2635, 2637 ], [ 2672, 2673 ], [ 2689, 2690 ], [ 2748, 2748 ], [ 2753, 2757 ], [ 2759, 2760 ], [ 2765, 2765 ], [ 2786, 2787 ], [ 2817, 2817 ], [ 2876, 2876 ], [ 2879, 2879 ], [ 2881, 2883 ], [ 2893, 2893 ], [ 2902, 2902 ], [ 2946, 2946 ], [ 3008, 3008 ], [ 3021, 3021 ], [ 3134, 3136 ], [ 3142, 3144 ], [ 3146, 3149 ], [ 3157, 3158 ], [ 3260, 3260 ], [ 3263, 3263 ], [ 3270, 3270 ], [ 3276, 3277 ], [ 3298, 3299 ], [ 3393, 3395 ], [ 3405, 3405 ], [ 3530, 3530 ], [ 3538, 3540 ], [ 3542, 3542 ], [ 3633, 3633 ], [ 3636, 3642 ], [ 3655, 3662 ], [ 3761, 3761 ], [ 3764, 3769 ], [ 3771, 3772 ], [ 3784, 3789 ], [ 3864, 3865 ], [ 3893, 3893 ], [ 3895, 3895 ], [ 3897, 3897 ], [ 3953, 3966 ], [ 3968, 3972 ], [ 3974, 3975 ], [ 3984, 3991 ], [ 3993, 4028 ], [ 4038, 4038 ], [ 4141, 4144 ], [ 4146, 4146 ], [ 4150, 4151 ], [ 4153, 4153 ], [ 4184, 4185 ], [ 4448, 4607 ], [ 4959, 4959 ], [ 5906, 5908 ], [ 5938, 5940 ], [ 5970, 5971 ], [ 6002, 6003 ], [ 6068, 6069 ], [ 6071, 6077 ], [ 6086, 6086 ], [ 6089, 6099 ], [ 6109, 6109 ], [ 6155, 6157 ], [ 6313, 6313 ], [ 6432, 6434 ], [ 6439, 6440 ], [ 6450, 6450 ], [ 6457, 6459 ], [ 6679, 6680 ], [ 6912, 6915 ], [ 6964, 6964 ], [ 6966, 6970 ], [ 6972, 6972 ], [ 6978, 6978 ], [ 7019, 7027 ], [ 7616, 7626 ], [ 7678, 7679 ], [ 8203, 8207 ], [ 8234, 8238 ], [ 8288, 8291 ], [ 8298, 8303 ], [ 8400, 8431 ], [ 12330, 12335 ], [ 12441, 12442 ], [ 43014, 43014 ], [ 43019, 43019 ], [ 43045, 43046 ], [ 64286, 64286 ], [ 65024, 65039 ], [ 65056, 65059 ], [ 65279, 65279 ], [ 65529, 65531 ] ], o = [ [ 68097, 68099 ], [ 68101, 68102 ], [ 68108, 68111 ], [ 68152, 68154 ], [ 68159, 68159 ], [ 119143, 119145 ], [ 119155, 119170 ], [ 119173, 119179 ], [ 119210, 119213 ], [ 119362, 119364 ], [ 917505, 917505 ], [ 917536, 917631 ], [ 917760, 917999 ] ], a = 0 | e.control, s = new Uint8Array(65536);
i.fill(s, 1), s[0] = e.nul, i.fill(s, e.control, 1, 32), i.fill(s, e.control, 127, 160), i.fill(s, 2, 4352, 4448), s[9001] = 2, s[9002] = 2, i.fill(s, 2, 11904, 42192), s[12351] = 1, i.fill(s, 2, 44032, 55204), i.fill(s, 2, 63744, 64256), i.fill(s, 2, 65040, 65050), i.fill(s, 2, 65072, 65136), i.fill(s, 2, 65280, 65377), i.fill(s, 2, 65504, 65511);
for (var l = 0; l < r.length; ++l) i.fill(s, 0, r[l][0], r[l][1] + 1);
return function(e) {
return e < 32 ? 0 | a : e < 127 ? 1 : e < 65536 ? s[e] : n(e);
};
}({
nul: 0,
control: 0
}), n.getStringCellWidth = function(e) {
for (var t = 0, i = e.length, r = 0; r < i; ++r) {
var o = e.charCodeAt(r);
if (55296 <= o && o <= 56319) {
if (++r >= i) return t + n.wcwidth(o);
var a = e.charCodeAt(r);
56320 <= a && a <= 57343 ? o = 1024 * (o - 55296) + a - 56320 + 65536 : t += n.wcwidth(a);
}
t += n.wcwidth(o);
}
return t;
};
}, {
"./common/TypedArrayUtils": 21
} ],
7: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e, t, n) {
this._textarea = e, this._compositionView = t, this._terminal = n, this._isComposing = !1, this._isSendingComposition = !1, this._compositionPosition = {
start: null,
end: null
};
}
return e.prototype.compositionstart = function() {
this._isComposing = !0, this._compositionPosition.start = this._textarea.value.length, this._compositionView.textContent = "", this._compositionView.classList.add("active");
}, e.prototype.compositionupdate = function(e) {
var t = this;
this._compositionView.textContent = e.data, this.updateCompositionElements(), setTimeout(function() {
t._compositionPosition.end = t._textarea.value.length;
}, 0);
}, e.prototype.compositionend = function() {
this._finalizeComposition(!0);
}, e.prototype.keydown = function(e) {
if (this._isComposing || this._isSendingComposition) {
if (229 === e.keyCode) return !1;
if (16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode) return !1;
this._finalizeComposition(!1);
}
return 229 !== e.keyCode || (this._handleAnyTextareaChanges(), !1);
}, e.prototype._finalizeComposition = function(e) {
var t = this;
if (this._compositionView.classList.remove("active"), this._isComposing = !1, this._clearTextareaPosition(), e) {
var n = {
start: this._compositionPosition.start,
end: this._compositionPosition.end
};
this._isSendingComposition = !0, setTimeout(function() {
if (t._isSendingComposition) {
t._isSendingComposition = !1;
var e = void 0;
e = t._isComposing ? t._textarea.value.substring(n.start, n.end) : t._textarea.value.substring(n.start), t._terminal.handler(e);
}
}, 0);
} else {
this._isSendingComposition = !1;
var i = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);
this._terminal.handler(i);
}
}, e.prototype._handleAnyTextareaChanges = function() {
var e = this, t = this._textarea.value;
setTimeout(function() {
if (!e._isComposing) {
var n = e._textarea.value.replace(t, "");
n.length > 0 && e._terminal.handler(n);
}
}, 0);
}, e.prototype.updateCompositionElements = function(e) {
var t = this;
if (this._isComposing) {
if (this._terminal.buffer.isCursorInViewport) {
var n = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight), i = this._terminal.buffer.y * n, r = this._terminal.buffer.x * this._terminal.charMeasure.width;
this._compositionView.style.left = r + "px", this._compositionView.style.top = i + "px", this._compositionView.style.height = n + "px", this._compositionView.style.lineHeight = n + "px", this._compositionView.style.fontFamily = this._terminal.options.fontFamily, this._compositionView.style.fontSize = this._terminal.options.fontSize + "px";
var o = this._compositionView.getBoundingClientRect();
this._textarea.style.left = r + "px", this._textarea.style.top = i + "px", this._textarea.style.width = o.width + "px", this._textarea.style.height = o.height + "px", this._textarea.style.lineHeight = o.height + "px";
}
e || setTimeout(function() {
return t.updateCompositionElements(!0);
}, 0);
}
}, e.prototype._clearTextareaPosition = function() {
this._textarea.style.left = "", this._textarea.style.top = "";
}, e;
}();
n.CompositionHelper = i;
}, {} ],
8: [ function(e, t, n) {
"use strict";
function i(e, t) {
for (var n = t - e, i = new Array(n); n--; ) i[n] = --t;
return i;
}
var r = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var o = e("./common/Lifecycle"), a = e("./core/input/TextDecoder"), s = function() {
function e(e) {
this.table = "undefined" == typeof Uint8Array ? new Array(e) : new Uint8Array(e);
}
return e.prototype.add = function(e, t, n, i) {
this.table[t << 8 | e] = (0 | n) << 4 | (void 0 === i ? t : i);
}, e.prototype.addMany = function(e, t, n, i) {
for (var r = 0; r < e.length; r++) this.add(e[r], t, n, i);
}, e;
}();
n.TransitionTable = s;
var l = i(32, 127), c = i(0, 24);
c.push(25), c.push.apply(c, i(28, 32));
n.VT500_TRANSITION_TABLE = function() {
var e, t = new s(4095), n = i(0, 14);
for (e in n) for (var r = 0; r <= 160; ++r) t.add(r, e, 1, 0);
t.addMany(l, 0, 2, 0);
for (e in n) t.addMany([ 24, 26, 153, 154 ], e, 3, 0), t.addMany(i(128, 144), e, 3, 0), t.addMany(i(144, 152), e, 3, 0), t.add(156, e, 0, 0), t.add(27, e, 11, 1), t.add(157, e, 4, 8), t.addMany([ 152, 158, 159 ], e, 0, 7), t.add(155, e, 11, 3), t.add(144, e, 11, 9);
return t.addMany(c, 0, 3, 0), t.addMany(c, 1, 3, 1), t.add(127, 1, 0, 1), t.addMany(c, 8, 0, 8), t.addMany(c, 3, 3, 3), t.add(127, 3, 0, 3), t.addMany(c, 4, 3, 4), t.add(127, 4, 0, 4), t.addMany(c, 6, 3, 6), t.addMany(c, 5, 3, 5), t.add(127, 5, 0, 5), t.addMany(c, 2, 3, 2), t.add(127, 2, 0, 2), t.add(93, 1, 4, 8), t.addMany(l, 8, 5, 8), t.add(127, 8, 5, 8), t.addMany([ 156, 27, 24, 26, 7 ], 8, 6, 0), t.addMany(i(28, 32), 8, 0, 8), t.addMany([ 88, 94, 95 ], 1, 0, 7), t.addMany(l, 7, 0, 7), t.addMany(c, 7, 0, 7), t.add(156, 7, 0, 0), t.add(127, 7, 0, 7), t.add(91, 1, 11, 3), t.addMany(i(64, 127), 3, 7, 0), t.addMany(i(48, 58), 3, 8, 4), t.add(59, 3, 8, 4), t.addMany([ 60, 61, 62, 63 ], 3, 9, 4), t.addMany(i(48, 58), 4, 8, 4), t.add(59, 4, 8, 4), t.addMany(i(64, 127), 4, 7, 0), t.addMany([ 58, 60, 61, 62, 63 ], 4, 0, 6), t.addMany(i(32, 64), 6, 0, 6), t.add(127, 6, 0, 6), t.addMany(i(64, 127), 6, 0, 0), t.add(58, 3, 0, 6), t.addMany(i(32, 48), 3, 9, 5), t.addMany(i(32, 48), 5, 9, 5), t.addMany(i(48, 64), 5, 0, 6), 
t.addMany(i(64, 127), 5, 7, 0), t.addMany(i(32, 48), 4, 9, 5), t.addMany(i(32, 48), 1, 9, 2), t.addMany(i(32, 48), 2, 9, 2), t.addMany(i(48, 127), 2, 10, 0), t.addMany(i(48, 80), 1, 10, 0), t.addMany(i(81, 88), 1, 10, 0), t.addMany([ 89, 90, 92 ], 1, 10, 0), t.addMany(i(96, 127), 1, 10, 0), t.add(80, 1, 11, 9), t.addMany(c, 9, 0, 9), t.add(127, 9, 0, 9), t.addMany(i(28, 32), 9, 0, 9), t.addMany(i(32, 48), 9, 9, 12), t.add(58, 9, 0, 11), t.addMany(i(48, 58), 9, 8, 10), t.add(59, 9, 8, 10), t.addMany([ 60, 61, 62, 63 ], 9, 9, 10), t.addMany(c, 11, 0, 11), t.addMany(i(32, 128), 11, 0, 11), t.addMany(i(28, 32), 11, 0, 11), t.addMany(c, 10, 0, 10), t.add(127, 10, 0, 10), t.addMany(i(28, 32), 10, 0, 10), t.addMany(i(48, 58), 10, 8, 10), t.add(59, 10, 8, 10), t.addMany([ 58, 60, 61, 62, 63 ], 10, 0, 11), t.addMany(i(32, 48), 10, 9, 12), t.addMany(c, 12, 0, 12), t.add(127, 12, 0, 12), t.addMany(i(28, 32), 12, 0, 12), t.addMany(i(32, 48), 12, 9, 12), t.addMany(i(48, 64), 12, 0, 11), t.addMany(i(64, 127), 12, 12, 13), 
t.addMany(i(64, 127), 10, 12, 13), t.addMany(i(64, 127), 9, 12, 13), t.addMany(c, 13, 13, 13), t.addMany(l, 13, 13, 13), t.add(127, 13, 0, 13), t.addMany([ 27, 156 ], 13, 14, 0), t.add(160, 8, 5, 8), t;
}();
var u = function() {
function e() {}
return e.prototype.hook = function(e, t, n) {}, e.prototype.put = function(e, t, n) {}, e.prototype.unhook = function() {}, e;
}(), d = function(e) {
function t(t) {
void 0 === t && (t = n.VT500_TRANSITION_TABLE);
var i = e.call(this) || this;
return i.TRANSITIONS = t, i.initialState = 0, i.currentState = i.initialState, i._osc = "", i._params = [ 0 ], i._collect = "", i._printHandlerFb = function(e, t, n) {}, i._executeHandlerFb = function(e) {}, i._csiHandlerFb = function(e, t, n) {}, i._escHandlerFb = function(e, t) {}, i._oscHandlerFb = function(e, t) {}, i._dcsHandlerFb = new u(), i._errorHandlerFb = function(e) {
return e;
}, i._printHandler = i._printHandlerFb, i._executeHandlers = Object.create(null), i._csiHandlers = Object.create(null), i._escHandlers = Object.create(null), i._oscHandlers = Object.create(null), i._dcsHandlers = Object.create(null), i._activeDcsHandler = null, i._errorHandler = i._errorHandlerFb, i.setEscHandler("\\", function() {}), i;
}
return r(t, e), t.prototype.dispose = function() {
this._printHandlerFb = null, this._executeHandlerFb = null, this._csiHandlerFb = null, this._escHandlerFb = null, this._oscHandlerFb = null, this._dcsHandlerFb = null, this._errorHandlerFb = null, this._printHandler = null, this._executeHandlers = null, this._escHandlers = null, this._csiHandlers = null, this._oscHandlers = null, this._dcsHandlers = null, this._activeDcsHandler = null, this._errorHandler = null;
}, t.prototype.setPrintHandler = function(e) {
this._printHandler = e;
}, t.prototype.clearPrintHandler = function() {
this._printHandler = this._printHandlerFb;
}, t.prototype.setExecuteHandler = function(e, t) {
this._executeHandlers[e.charCodeAt(0)] = t;
}, t.prototype.clearExecuteHandler = function(e) {
this._executeHandlers[e.charCodeAt(0)] && delete this._executeHandlers[e.charCodeAt(0)];
}, t.prototype.setExecuteHandlerFallback = function(e) {
this._executeHandlerFb = e;
}, t.prototype.addCsiHandler = function(e, t) {
var n = e.charCodeAt(0);
void 0 === this._csiHandlers[n] && (this._csiHandlers[n] = []);
var i = this._csiHandlers[n];
return i.push(t), {
dispose: function() {
var e = i.indexOf(t);
-1 !== e && i.splice(e, 1);
}
};
}, t.prototype.setCsiHandler = function(e, t) {
this._csiHandlers[e.charCodeAt(0)] = [ t ];
}, t.prototype.clearCsiHandler = function(e) {
this._csiHandlers[e.charCodeAt(0)] && delete this._csiHandlers[e.charCodeAt(0)];
}, t.prototype.setCsiHandlerFallback = function(e) {
this._csiHandlerFb = e;
}, t.prototype.setEscHandler = function(e, t) {
this._escHandlers[e] = t;
}, t.prototype.clearEscHandler = function(e) {
this._escHandlers[e] && delete this._escHandlers[e];
}, t.prototype.setEscHandlerFallback = function(e) {
this._escHandlerFb = e;
}, t.prototype.addOscHandler = function(e, t) {
void 0 === this._oscHandlers[e] && (this._oscHandlers[e] = []);
var n = this._oscHandlers[e];
return n.push(t), {
dispose: function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
}
};
}, t.prototype.setOscHandler = function(e, t) {
this._oscHandlers[e] = [ t ];
}, t.prototype.clearOscHandler = function(e) {
this._oscHandlers[e] && delete this._oscHandlers[e];
}, t.prototype.setOscHandlerFallback = function(e) {
this._oscHandlerFb = e;
}, t.prototype.setDcsHandler = function(e, t) {
this._dcsHandlers[e] = t;
}, t.prototype.clearDcsHandler = function(e) {
this._dcsHandlers[e] && delete this._dcsHandlers[e];
}, t.prototype.setDcsHandlerFallback = function(e) {
this._dcsHandlerFb = e;
}, t.prototype.setErrorHandler = function(e) {
this._errorHandler = e;
}, t.prototype.clearErrorHandler = function() {
this._errorHandler = this._errorHandlerFb;
}, t.prototype.reset = function() {
this.currentState = this.initialState, this._osc = "", this._params = [ 0 ], this._collect = "", this._activeDcsHandler = null;
}, t.prototype.parse = function(e, t) {
for (var n = 0, i = 0, r = !1, o = this.currentState, s = -1, l = -1, c = this._osc, u = this._collect, d = this._params, h = this.TRANSITIONS.table, f = this._activeDcsHandler, p = null, g = 0; g < t; ++g) if (n = e[g], 0 === o && n > 31 && n < 128) {
s = ~s ? s : g;
do {
g++;
} while (g < t && e[g] > 31 && e[g] < 128);
g--;
} else if (4 === o && n > 47 && n < 57) d[d.length - 1] = 10 * d[d.length - 1] + n - 48; else {
switch ((i = h[o << 8 | (n < 160 ? n : 160)]) >> 4) {
case 2:
s = ~s ? s : g;
break;

case 3:
~s && (this._printHandler(e, s, g), s = -1), (p = this._executeHandlers[n]) ? p() : this._executeHandlerFb(n);
break;

case 0:
~s ? (this._printHandler(e, s, g), s = -1) : ~l && (f.put(e, l, g), l = -1);
break;

case 1:
if (n > 159) switch (o) {
case 0:
s = ~s ? s : g;
break;

case 6:
i |= 6;
break;

case 11:
i |= 11;
break;

case 13:
l = ~l ? l : g, i |= 13;
break;

default:
r = !0;
} else r = !0;
if (r) {
if (this._errorHandler({
position: g,
code: n,
currentState: o,
print: s,
dcs: l,
osc: c,
collect: u,
params: d,
abort: !1
}).abort) return;
r = !1;
}
break;

case 7:
for (var m = this._csiHandlers[n], v = m ? m.length - 1 : -1; v >= 0 && !m[v](d, u); v--) ;
v < 0 && this._csiHandlerFb(u, d, n);
break;

case 8:
59 === n ? d.push(0) : d[d.length - 1] = 10 * d[d.length - 1] + n - 48;
break;

case 9:
u += String.fromCharCode(n);
break;

case 10:
(p = this._escHandlers[u + String.fromCharCode(n)]) ? p(u, n) : this._escHandlerFb(u, n);
break;

case 11:
~s && (this._printHandler(e, s, g), s = -1), c = "", d = [ 0 ], u = "", l = -1;
break;

case 12:
(f = this._dcsHandlers[u + String.fromCharCode(n)]) || (f = this._dcsHandlerFb), f.hook(u, d, n);
break;

case 13:
l = ~l ? l : g;
break;

case 14:
f && (~l && f.put(e, l, g), f.unhook(), f = null), 27 === n && (i |= 1), c = "", d = [ 0 ], u = "", l = -1;
break;

case 4:
~s && (this._printHandler(e, s, g), s = -1), c = "";
break;

case 5:
for (var y = g + 1; ;y++) if (y >= t || (n = e[y]) < 32 || n > 127 && n <= 159) {
c += a.utf32ToString(e, g, y), g = y - 1;
break;
}
break;

case 6:
if (c && 24 !== n && 26 !== n) {
var b = c.indexOf(";");
if (-1 === b) this._oscHandlerFb(-1, c); else {
for (var _ = parseInt(c.substring(0, b)), w = c.substring(b + 1), C = this._oscHandlers[_], x = C ? C.length - 1 : -1; x >= 0 && !C[x](w); x--) ;
x < 0 && this._oscHandlerFb(_, w);
}
}
27 === n && (i |= 1), c = "", d = [ 0 ], u = "", l = -1;
}
o = 15 & i;
}
0 === o && ~s ? this._printHandler(e, s, t) : 13 === o && ~l && f && f.put(e, l, t), this._osc = c, this._collect = u, this._params = d, this._activeDcsHandler = f, this.currentState = o;
}, t;
}(o.Disposable);
n.EscapeSequenceParser = d;
}, {
"./common/Lifecycle": 20,
"./core/input/TextDecoder": 26
} ],
9: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./common/data/EscapeSequences"), o = e("./core/data/Charsets"), a = e("./Buffer"), s = e("./CharWidth"), l = e("./EscapeSequenceParser"), c = e("./common/Lifecycle"), u = e("./common/TypedArrayUtils"), d = e("./core/input/TextDecoder"), h = {
"(": 0,
")": 1,
"*": 2,
"+": 3,
"-": 1,
".": 2
}, f = function() {
function e(e) {
this._terminal = e, this._data = new Uint32Array(0);
}
return e.prototype.hook = function(e, t, n) {
this._data = new Uint32Array(0);
}, e.prototype.put = function(e, t, n) {
this._data = u.concat(this._data, e.subarray(t, n));
}, e.prototype.unhook = function() {
var e = d.utf32ToString(this._data);
switch (this._data = new Uint32Array(0), e) {
case '"q':
return this._terminal.handler(r.C0.ESC + 'P1$r0"q' + r.C0.ESC + "\\");

case '"p':
return this._terminal.handler(r.C0.ESC + 'P1$r61"p' + r.C0.ESC + "\\");

case "r":
var t = this._terminal.buffer.scrollTop + 1 + ";" + (this._terminal.buffer.scrollBottom + 1) + "r";
return this._terminal.handler(r.C0.ESC + "P1$r" + t + r.C0.ESC + "\\");

case "m":
return this._terminal.handler(r.C0.ESC + "P1$r0m" + r.C0.ESC + "\\");

case " q":
var n = {
block: 2,
underline: 4,
bar: 6
}[this._terminal.getOption("cursorStyle")];
return n -= this._terminal.getOption("cursorBlink"), this._terminal.handler(r.C0.ESC + "P1$r" + n + " q" + r.C0.ESC + "\\");

default:
this._terminal.error("Unknown DCS $q %s", e), this._terminal.handler(r.C0.ESC + "P0$r" + r.C0.ESC + "\\");
}
}, e;
}(), p = function(e) {
function t(t, n) {
void 0 === n && (n = new l.EscapeSequenceParser());
var i = e.call(this) || this;
i._terminal = t, i._parser = n, i._parseBuffer = new Uint32Array(4096), i._stringDecoder = new d.StringToUtf32(), i.register(i._parser), i._parser.setCsiHandlerFallback(function(e, t, n) {
i._terminal.error("Unknown CSI code: ", {
collect: e,
params: t,
flag: String.fromCharCode(n)
});
}), i._parser.setEscHandlerFallback(function(e, t) {
i._terminal.error("Unknown ESC code: ", {
collect: e,
flag: String.fromCharCode(t)
});
}), i._parser.setExecuteHandlerFallback(function(e) {
i._terminal.error("Unknown EXECUTE code: ", {
code: e
});
}), i._parser.setOscHandlerFallback(function(e, t) {
i._terminal.error("Unknown OSC code: ", {
identifier: e,
data: t
});
}), i._parser.setPrintHandler(function(e, t, n) {
return i.print(e, t, n);
}), i._parser.setCsiHandler("@", function(e, t) {
return i.insertChars(e);
}), i._parser.setCsiHandler("A", function(e, t) {
return i.cursorUp(e);
}), i._parser.setCsiHandler("B", function(e, t) {
return i.cursorDown(e);
}), i._parser.setCsiHandler("C", function(e, t) {
return i.cursorForward(e);
}), i._parser.setCsiHandler("D", function(e, t) {
return i.cursorBackward(e);
}), i._parser.setCsiHandler("E", function(e, t) {
return i.cursorNextLine(e);
}), i._parser.setCsiHandler("F", function(e, t) {
return i.cursorPrecedingLine(e);
}), i._parser.setCsiHandler("G", function(e, t) {
return i.cursorCharAbsolute(e);
}), i._parser.setCsiHandler("H", function(e, t) {
return i.cursorPosition(e);
}), i._parser.setCsiHandler("I", function(e, t) {
return i.cursorForwardTab(e);
}), i._parser.setCsiHandler("J", function(e, t) {
return i.eraseInDisplay(e);
}), i._parser.setCsiHandler("K", function(e, t) {
return i.eraseInLine(e);
}), i._parser.setCsiHandler("L", function(e, t) {
return i.insertLines(e);
}), i._parser.setCsiHandler("M", function(e, t) {
return i.deleteLines(e);
}), i._parser.setCsiHandler("P", function(e, t) {
return i.deleteChars(e);
}), i._parser.setCsiHandler("S", function(e, t) {
return i.scrollUp(e);
}), i._parser.setCsiHandler("T", function(e, t) {
return i.scrollDown(e, t);
}), i._parser.setCsiHandler("X", function(e, t) {
return i.eraseChars(e);
}), i._parser.setCsiHandler("Z", function(e, t) {
return i.cursorBackwardTab(e);
}), i._parser.setCsiHandler("`", function(e, t) {
return i.charPosAbsolute(e);
}), i._parser.setCsiHandler("a", function(e, t) {
return i.hPositionRelative(e);
}), i._parser.setCsiHandler("b", function(e, t) {
return i.repeatPrecedingCharacter(e);
}), i._parser.setCsiHandler("c", function(e, t) {
return i.sendDeviceAttributes(e, t);
}), i._parser.setCsiHandler("d", function(e, t) {
return i.linePosAbsolute(e);
}), i._parser.setCsiHandler("e", function(e, t) {
return i.vPositionRelative(e);
}), i._parser.setCsiHandler("f", function(e, t) {
return i.hVPosition(e);
}), i._parser.setCsiHandler("g", function(e, t) {
return i.tabClear(e);
}), i._parser.setCsiHandler("h", function(e, t) {
return i.setMode(e, t);
}), i._parser.setCsiHandler("l", function(e, t) {
return i.resetMode(e, t);
}), i._parser.setCsiHandler("m", function(e, t) {
return i.charAttributes(e);
}), i._parser.setCsiHandler("n", function(e, t) {
return i.deviceStatus(e, t);
}), i._parser.setCsiHandler("p", function(e, t) {
return i.softReset(e, t);
}), i._parser.setCsiHandler("q", function(e, t) {
return i.setCursorStyle(e, t);
}), i._parser.setCsiHandler("r", function(e, t) {
return i.setScrollRegion(e, t);
}), i._parser.setCsiHandler("s", function(e, t) {
return i.saveCursor(e);
}), i._parser.setCsiHandler("u", function(e, t) {
return i.restoreCursor(e);
}), i._parser.setExecuteHandler(r.C0.BEL, function() {
return i.bell();
}), i._parser.setExecuteHandler(r.C0.LF, function() {
return i.lineFeed();
}), i._parser.setExecuteHandler(r.C0.VT, function() {
return i.lineFeed();
}), i._parser.setExecuteHandler(r.C0.FF, function() {
return i.lineFeed();
}), i._parser.setExecuteHandler(r.C0.CR, function() {
return i.carriageReturn();
}), i._parser.setExecuteHandler(r.C0.BS, function() {
return i.backspace();
}), i._parser.setExecuteHandler(r.C0.HT, function() {
return i.tab();
}), i._parser.setExecuteHandler(r.C0.SO, function() {
return i.shiftOut();
}), i._parser.setExecuteHandler(r.C0.SI, function() {
return i.shiftIn();
}), i._parser.setExecuteHandler(r.C1.IND, function() {
return i.index();
}), i._parser.setExecuteHandler(r.C1.NEL, function() {
return i.nextLine();
}), i._parser.setExecuteHandler(r.C1.HTS, function() {
return i.tabSet();
}), i._parser.setOscHandler(0, function(e) {
return i.setTitle(e);
}), i._parser.setOscHandler(2, function(e) {
return i.setTitle(e);
}), i._parser.setEscHandler("7", function() {
return i.saveCursor([]);
}), i._parser.setEscHandler("8", function() {
return i.restoreCursor([]);
}), i._parser.setEscHandler("D", function() {
return i.index();
}), i._parser.setEscHandler("E", function() {
return i.nextLine();
}), i._parser.setEscHandler("H", function() {
return i.tabSet();
}), i._parser.setEscHandler("M", function() {
return i.reverseIndex();
}), i._parser.setEscHandler("=", function() {
return i.keypadApplicationMode();
}), i._parser.setEscHandler(">", function() {
return i.keypadNumericMode();
}), i._parser.setEscHandler("c", function() {
return i.reset();
}), i._parser.setEscHandler("n", function() {
return i.setgLevel(2);
}), i._parser.setEscHandler("o", function() {
return i.setgLevel(3);
}), i._parser.setEscHandler("|", function() {
return i.setgLevel(3);
}), i._parser.setEscHandler("}", function() {
return i.setgLevel(2);
}), i._parser.setEscHandler("~", function() {
return i.setgLevel(1);
}), i._parser.setEscHandler("%@", function() {
return i.selectDefaultCharset();
}), i._parser.setEscHandler("%G", function() {
return i.selectDefaultCharset();
});
var a = this;
for (var s in o.CHARSETS) !function(e) {
a._parser.setEscHandler("(" + e, function() {
return i.selectCharset("(" + e);
}), a._parser.setEscHandler(")" + e, function() {
return i.selectCharset(")" + e);
}), a._parser.setEscHandler("*" + e, function() {
return i.selectCharset("*" + e);
}), a._parser.setEscHandler("+" + e, function() {
return i.selectCharset("+" + e);
}), a._parser.setEscHandler("-" + e, function() {
return i.selectCharset("-" + e);
}), a._parser.setEscHandler("." + e, function() {
return i.selectCharset("." + e);
}), a._parser.setEscHandler("/" + e, function() {
return i.selectCharset("/" + e);
});
}(s);
return i._parser.setErrorHandler(function(e) {
return i._terminal.error("Parsing error: ", e), e;
}), i._parser.setDcsHandler("$q", new f(i._terminal)), i;
}
return i(t, e), t.prototype.dispose = function() {
e.prototype.dispose.call(this), this._terminal = null;
}, t.prototype.parse = function(e) {
if (this._terminal) {
var t = this._terminal.buffer, n = t.x, i = t.y;
this._terminal.debug && this._terminal.log("data: " + e), this._parseBuffer.length < e.length && (this._parseBuffer = new Uint32Array(e.length));
for (var r = 0; r < e.length; ++r) this._parseBuffer[r] = e.charCodeAt(r);
this._parser.parse(this._parseBuffer, this._stringDecoder.decode(e, this._parseBuffer)), (t = this._terminal.buffer).x === n && t.y === i || this._terminal.emit("cursormove");
}
}, t.prototype.print = function(e, t, n) {
var i, r, o, l = this._terminal.buffer, c = this._terminal.charset, u = this._terminal.options.screenReaderMode, h = this._terminal.cols, f = this._terminal.wraparoundMode, p = this._terminal.insertMode, g = this._terminal.curAttr, m = l.lines.get(l.y + l.ybase);
this._terminal.updateRange(l.y);
for (var v = t; v < n; ++v) {
if (i = e[v], r = d.stringFromCodePoint(i), o = s.wcwidth(i), i < 127 && c) {
var y = c[r];
y && (i = y.charCodeAt(0), r = y);
}
if (u && this._terminal.emit("a11y.char", r), o || !l.x) {
if (l.x + o - 1 >= h) if (f) l.x = 0, l.y++, l.y > l.scrollBottom ? (l.y--, this._terminal.scroll(!0)) : l.lines.get(l.y).isWrapped = !0, m = l.lines.get(l.y + l.ybase); else if (2 === o) continue;
if (p && (m.insertCells(l.x, o, [ g, a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE ]), 2 === m.get(h - 1)[a.CHAR_DATA_WIDTH_INDEX] && m.set(h - 1, [ g, a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE ])), m.set(l.x++, [ g, r, o, i ]), o > 0) for (;--o; ) m.set(l.x++, [ g, "", 0, void 0 ]);
} else {
var b = m.get(l.x - 1);
if (b) if (b[a.CHAR_DATA_WIDTH_INDEX]) b[a.CHAR_DATA_CHAR_INDEX] += r, b[a.CHAR_DATA_CODE_INDEX] = i, m.set(l.x - 1, b); else {
var _ = m.get(l.x - 2);
_ && (_[a.CHAR_DATA_CHAR_INDEX] += r, _[a.CHAR_DATA_CODE_INDEX] = i, m.set(l.x - 2, _));
}
}
}
this._terminal.updateRange(l.y);
}, t.prototype.addCsiHandler = function(e, t) {
return this._parser.addCsiHandler(e, t);
}, t.prototype.addOscHandler = function(e, t) {
return this._parser.addOscHandler(e, t);
}, t.prototype.bell = function() {
this._terminal.bell();
}, t.prototype.lineFeed = function() {
var e = this._terminal.buffer;
this._terminal.options.convertEol && (e.x = 0), e.y++, e.y > e.scrollBottom && (e.y--, this._terminal.scroll()), e.x >= this._terminal.cols && e.x--, this._terminal.emit("linefeed");
}, t.prototype.carriageReturn = function() {
this._terminal.buffer.x = 0;
}, t.prototype.backspace = function() {
this._terminal.buffer.x > 0 && this._terminal.buffer.x--;
}, t.prototype.tab = function() {
var e = this._terminal.buffer.x;
this._terminal.buffer.x = this._terminal.buffer.nextStop(), this._terminal.options.screenReaderMode && this._terminal.emit("a11y.tab", this._terminal.buffer.x - e);
}, t.prototype.shiftOut = function() {
this._terminal.setgLevel(1);
}, t.prototype.shiftIn = function() {
this._terminal.setgLevel(0);
}, t.prototype.insertChars = function(e) {
this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, e[0] || 1, [ this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE ]), this._terminal.updateRange(this._terminal.buffer.y);
}, t.prototype.cursorUp = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.y -= t, this._terminal.buffer.y < 0 && (this._terminal.buffer.y = 0);
}, t.prototype.cursorDown = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.y += t, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x >= this._terminal.cols && this._terminal.buffer.x--;
}, t.prototype.cursorForward = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.x += t, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);
}, t.prototype.cursorBackward = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.x >= this._terminal.cols && this._terminal.buffer.x--, this._terminal.buffer.x -= t, this._terminal.buffer.x < 0 && (this._terminal.buffer.x = 0);
}, t.prototype.cursorNextLine = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.y += t, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x = 0;
}, t.prototype.cursorPrecedingLine = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.y -= t, this._terminal.buffer.y < 0 && (this._terminal.buffer.y = 0), this._terminal.buffer.x = 0;
}, t.prototype.cursorCharAbsolute = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.x = t - 1;
}, t.prototype.cursorPosition = function(e) {
var t, n = e[0] - 1;
t = e.length >= 2 ? e[1] - 1 : 0, n < 0 ? n = 0 : n >= this._terminal.rows && (n = this._terminal.rows - 1), t < 0 ? t = 0 : t >= this._terminal.cols && (t = this._terminal.cols - 1), this._terminal.buffer.x = t, this._terminal.buffer.y = n;
}, t.prototype.cursorForwardTab = function(e) {
for (var t = e[0] || 1; t--; ) this._terminal.buffer.x = this._terminal.buffer.nextStop();
}, t.prototype._eraseInBufferLine = function(e, t, n, i) {
void 0 === i && (i = !1);
var r = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + e);
r.replaceCells(t, n, [ this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE ]), i && (r.isWrapped = !1);
}, t.prototype._resetBufferLine = function(e) {
this._eraseInBufferLine(e, 0, this._terminal.cols, !0);
}, t.prototype.eraseInDisplay = function(e) {
var t;
switch (e[0]) {
case 0:
for (t = this._terminal.buffer.y, this._terminal.updateRange(t), this._eraseInBufferLine(t++, this._terminal.buffer.x, this._terminal.cols, 0 === this._terminal.buffer.x); t < this._terminal.rows; t++) this._resetBufferLine(t);
this._terminal.updateRange(t);
break;

case 1:
for (t = this._terminal.buffer.y, this._terminal.updateRange(t), this._eraseInBufferLine(t, 0, this._terminal.buffer.x + 1, !0), this._terminal.buffer.x + 1 >= this._terminal.cols && (this._terminal.buffer.lines.get(t + 1).isWrapped = !1); t--; ) this._resetBufferLine(t);
this._terminal.updateRange(0);
break;

case 2:
for (t = this._terminal.rows, this._terminal.updateRange(t - 1); t--; ) this._resetBufferLine(t);
this._terminal.updateRange(0);
break;

case 3:
var n = this._terminal.buffer.lines.length - this._terminal.rows;
n > 0 && (this._terminal.buffer.lines.trimStart(n), this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - n, 0), this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - n, 0), this._terminal.emit("scroll", 0));
}
}, t.prototype.eraseInLine = function(e) {
switch (e[0]) {
case 0:
this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);
break;

case 1:
this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);
break;

case 2:
this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);
}
this._terminal.updateRange(this._terminal.buffer.y);
}, t.prototype.insertLines = function(e) {
var t = e[0];
t < 1 && (t = 1);
for (var n = this._terminal.buffer, i = n.y + n.ybase, r = this._terminal.rows - 1 - n.scrollBottom, o = this._terminal.rows - 1 + n.ybase - r + 1; t--; ) n.lines.splice(o - 1, 1), n.lines.splice(i, 0, n.getBlankLine(this._terminal.eraseAttr()));
this._terminal.updateRange(n.y), this._terminal.updateRange(n.scrollBottom);
}, t.prototype.deleteLines = function(e) {
var t = e[0];
t < 1 && (t = 1);
var n, i = this._terminal.buffer, r = i.y + i.ybase;
for (n = this._terminal.rows - 1 - i.scrollBottom, n = this._terminal.rows - 1 + i.ybase - n; t--; ) i.lines.splice(r, 1), i.lines.splice(n, 0, i.getBlankLine(this._terminal.eraseAttr()));
this._terminal.updateRange(i.y), this._terminal.updateRange(i.scrollBottom);
}, t.prototype.deleteChars = function(e) {
this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, e[0] || 1, [ this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE ]), this._terminal.updateRange(this._terminal.buffer.y);
}, t.prototype.scrollUp = function(e) {
for (var t = e[0] || 1, n = this._terminal.buffer; t--; ) n.lines.splice(n.ybase + n.scrollTop, 1), n.lines.splice(n.ybase + n.scrollBottom, 0, n.getBlankLine(a.DEFAULT_ATTR));
this._terminal.updateRange(n.scrollTop), this._terminal.updateRange(n.scrollBottom);
}, t.prototype.scrollDown = function(e, t) {
if (e.length < 2 && !t) {
for (var n = e[0] || 1, i = this._terminal.buffer; n--; ) i.lines.splice(i.ybase + i.scrollBottom, 1), i.lines.splice(i.ybase + i.scrollBottom, 0, i.getBlankLine(a.DEFAULT_ATTR));
this._terminal.updateRange(i.scrollTop), this._terminal.updateRange(i.scrollBottom);
}
}, t.prototype.eraseChars = function(e) {
this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (e[0] || 1), [ this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE ]);
}, t.prototype.cursorBackwardTab = function(e) {
for (var t = e[0] || 1, n = this._terminal.buffer; t--; ) n.x = n.prevStop();
}, t.prototype.charPosAbsolute = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.x = t - 1, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);
}, t.prototype.hPositionRelative = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.x += t, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);
}, t.prototype.repeatPrecedingCharacter = function(e) {
var t = this._terminal.buffer, n = t.lines.get(t.ybase + t.y);
n.replaceCells(t.x, t.x + (e[0] || 1), n.get(t.x - 1) || [ a.DEFAULT_ATTR, a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE ]);
}, t.prototype.sendDeviceAttributes = function(e, t) {
e[0] > 0 || (t ? ">" === t && (this._terminal.is("xterm") ? this._terminal.handler(r.C0.ESC + "[>0;276;0c") : this._terminal.is("rxvt-unicode") ? this._terminal.handler(r.C0.ESC + "[>85;95;0c") : this._terminal.is("linux") ? this._terminal.handler(e[0] + "c") : this._terminal.is("screen") && this._terminal.handler(r.C0.ESC + "[>83;40003;0c")) : this._terminal.is("xterm") || this._terminal.is("rxvt-unicode") || this._terminal.is("screen") ? this._terminal.handler(r.C0.ESC + "[?1;2c") : this._terminal.is("linux") && this._terminal.handler(r.C0.ESC + "[?6c"));
}, t.prototype.linePosAbsolute = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.y = t - 1, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1);
}, t.prototype.vPositionRelative = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.buffer.y += t, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x >= this._terminal.cols && this._terminal.buffer.x--;
}, t.prototype.hVPosition = function(e) {
e[0] < 1 && (e[0] = 1), e[1] < 1 && (e[1] = 1), this._terminal.buffer.y = e[0] - 1, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x = e[1] - 1, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);
}, t.prototype.tabClear = function(e) {
var t = e[0];
t <= 0 ? delete this._terminal.buffer.tabs[this._terminal.buffer.x] : 3 === t && (this._terminal.buffer.tabs = {});
}, t.prototype.setMode = function(e, t) {
if (e.length > 1) for (var n = 0; n < e.length; n++) this.setMode([ e[n] ]); else if (t) {
if ("?" === t) switch (e[0]) {
case 1:
this._terminal.applicationCursor = !0;
break;

case 2:
this._terminal.setgCharset(0, o.DEFAULT_CHARSET), this._terminal.setgCharset(1, o.DEFAULT_CHARSET), this._terminal.setgCharset(2, o.DEFAULT_CHARSET), this._terminal.setgCharset(3, o.DEFAULT_CHARSET);
break;

case 3:
this._terminal.savedCols = this._terminal.cols, this._terminal.resize(132, this._terminal.rows);
break;

case 6:
this._terminal.originMode = !0;
break;

case 7:
this._terminal.wraparoundMode = !0;
break;

case 12:
break;

case 66:
this._terminal.log("Serial port requested application keypad."), this._terminal.applicationKeypad = !0, this._terminal.viewport && this._terminal.viewport.syncScrollArea();
break;

case 9:
case 1e3:
case 1002:
case 1003:
this._terminal.x10Mouse = 9 === e[0], this._terminal.vt200Mouse = 1e3 === e[0], this._terminal.normalMouse = e[0] > 1e3, this._terminal.mouseEvents = !0, this._terminal.element && this._terminal.element.classList.add("enable-mouse-events"), this._terminal.selectionManager && this._terminal.selectionManager.disable(), this._terminal.log("Binding to mouse events.");
break;

case 1004:
this._terminal.sendFocus = !0;
break;

case 1005:
this._terminal.utfMouse = !0;
break;

case 1006:
this._terminal.sgrMouse = !0;
break;

case 1015:
this._terminal.urxvtMouse = !0;
break;

case 25:
this._terminal.cursorHidden = !1;
break;

case 1048:
this.saveCursor(e);
break;

case 1049:
this.saveCursor(e);

case 47:
case 1047:
this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttr()), this._terminal.refresh(0, this._terminal.rows - 1), this._terminal.viewport && this._terminal.viewport.syncScrollArea(), this._terminal.showCursor();
break;

case 2004:
this._terminal.bracketedPasteMode = !0;
}
} else switch (e[0]) {
case 4:
this._terminal.insertMode = !0;
}
}, t.prototype.resetMode = function(e, t) {
if (e.length > 1) for (var n = 0; n < e.length; n++) this.resetMode([ e[n] ]); else if (t) {
if ("?" === t) switch (e[0]) {
case 1:
this._terminal.applicationCursor = !1;
break;

case 3:
132 === this._terminal.cols && this._terminal.savedCols && this._terminal.resize(this._terminal.savedCols, this._terminal.rows), delete this._terminal.savedCols;
break;

case 6:
this._terminal.originMode = !1;
break;

case 7:
this._terminal.wraparoundMode = !1;
break;

case 12:
break;

case 66:
this._terminal.log("Switching back to normal keypad."), this._terminal.applicationKeypad = !1, this._terminal.viewport && this._terminal.viewport.syncScrollArea();
break;

case 9:
case 1e3:
case 1002:
case 1003:
this._terminal.x10Mouse = !1, this._terminal.vt200Mouse = !1, this._terminal.normalMouse = !1, this._terminal.mouseEvents = !1, this._terminal.element && this._terminal.element.classList.remove("enable-mouse-events"), this._terminal.selectionManager && this._terminal.selectionManager.enable();
break;

case 1004:
this._terminal.sendFocus = !1;
break;

case 1005:
this._terminal.utfMouse = !1;
break;

case 1006:
this._terminal.sgrMouse = !1;
break;

case 1015:
this._terminal.urxvtMouse = !1;
break;

case 25:
this._terminal.cursorHidden = !0;
break;

case 1048:
this.restoreCursor(e);
break;

case 1049:
case 47:
case 1047:
this._terminal.buffers.activateNormalBuffer(), 1049 === e[0] && this.restoreCursor(e), this._terminal.refresh(0, this._terminal.rows - 1), this._terminal.viewport && this._terminal.viewport.syncScrollArea(), this._terminal.showCursor();
break;

case 2004:
this._terminal.bracketedPasteMode = !1;
}
} else switch (e[0]) {
case 4:
this._terminal.insertMode = !1;
}
}, t.prototype.charAttributes = function(e) {
if (1 !== e.length || 0 !== e[0]) {
for (var t, n = e.length, i = this._terminal.curAttr >> 18, r = this._terminal.curAttr >> 9 & 511, o = 511 & this._terminal.curAttr, s = 0; s < n; s++) (t = e[s]) >= 30 && t <= 37 ? r = t - 30 : t >= 40 && t <= 47 ? o = t - 40 : t >= 90 && t <= 97 ? r = (t += 8) - 90 : t >= 100 && t <= 107 ? o = (t += 8) - 100 : 0 === t ? (i = a.DEFAULT_ATTR >> 18, r = a.DEFAULT_ATTR >> 9 & 511, o = 511 & a.DEFAULT_ATTR) : 1 === t ? i |= 1 : 3 === t ? i |= 64 : 4 === t ? i |= 2 : 5 === t ? i |= 4 : 7 === t ? i |= 8 : 8 === t ? i |= 16 : 2 === t ? i |= 32 : 22 === t ? (i &= -2, i &= -33) : 23 === t ? i &= -65 : 24 === t ? i &= -3 : 25 === t ? i &= -5 : 27 === t ? i &= -9 : 28 === t ? i &= -17 : 39 === t ? r = a.DEFAULT_ATTR >> 9 & 511 : 49 === t ? o = 511 & a.DEFAULT_ATTR : 38 === t ? 2 === e[s + 1] ? (s += 2, -1 === (r = this._terminal.matchColor(255 & e[s], 255 & e[s + 1], 255 & e[s + 2])) && (r = 511), s += 2) : 5 === e[s + 1] && (r = t = 255 & e[s += 2]) : 48 === t ? 2 === e[s + 1] ? (s += 2, -1 === (o = this._terminal.matchColor(255 & e[s], 255 & e[s + 1], 255 & e[s + 2])) && (o = 511), 
s += 2) : 5 === e[s + 1] && (o = t = 255 & e[s += 2]) : 100 === t ? (r = a.DEFAULT_ATTR >> 9 & 511, o = 511 & a.DEFAULT_ATTR) : this._terminal.error("Unknown SGR attribute: %d.", t);
this._terminal.curAttr = i << 18 | r << 9 | o;
} else this._terminal.curAttr = a.DEFAULT_ATTR;
}, t.prototype.deviceStatus = function(e, t) {
if (t) {
if ("?" === t) switch (e[0]) {
case 6:
var n = this._terminal.buffer.y + 1, i = this._terminal.buffer.x + 1;
this._terminal.emit("data", r.C0.ESC + "[?" + n + ";" + i + "R");
}
} else switch (e[0]) {
case 5:
this._terminal.emit("data", r.C0.ESC + "[0n");
break;

case 6:
var n = this._terminal.buffer.y + 1, i = this._terminal.buffer.x + 1;
this._terminal.emit("data", r.C0.ESC + "[" + n + ";" + i + "R");
}
}, t.prototype.softReset = function(e, t) {
"!" === t && (this._terminal.cursorHidden = !1, this._terminal.insertMode = !1, this._terminal.originMode = !1, this._terminal.wraparoundMode = !0, this._terminal.applicationKeypad = !1, this._terminal.viewport && this._terminal.viewport.syncScrollArea(), this._terminal.applicationCursor = !1, this._terminal.buffer.scrollTop = 0, this._terminal.buffer.scrollBottom = this._terminal.rows - 1, this._terminal.curAttr = a.DEFAULT_ATTR, this._terminal.buffer.x = this._terminal.buffer.y = 0, this._terminal.charset = null, this._terminal.glevel = 0, this._terminal.charsets = [ null ]);
}, t.prototype.setCursorStyle = function(e, t) {
if (" " === t) {
var n = e[0] < 1 ? 1 : e[0];
switch (n) {
case 1:
case 2:
this._terminal.setOption("cursorStyle", "block");
break;

case 3:
case 4:
this._terminal.setOption("cursorStyle", "underline");
break;

case 5:
case 6:
this._terminal.setOption("cursorStyle", "bar");
}
var i = n % 2 == 1;
this._terminal.setOption("cursorBlink", i);
}
}, t.prototype.setScrollRegion = function(e, t) {
t || (this._terminal.buffer.scrollTop = (e[0] || 1) - 1, this._terminal.buffer.scrollBottom = (e[1] && e[1] <= this._terminal.rows ? e[1] : this._terminal.rows) - 1, this._terminal.buffer.x = 0, this._terminal.buffer.y = 0);
}, t.prototype.saveCursor = function(e) {
this._terminal.buffer.savedX = this._terminal.buffer.x, this._terminal.buffer.savedY = this._terminal.buffer.y, this._terminal.buffer.savedCurAttr = this._terminal.curAttr;
}, t.prototype.restoreCursor = function(e) {
this._terminal.buffer.x = this._terminal.buffer.savedX || 0, this._terminal.buffer.y = this._terminal.buffer.savedY || 0, this._terminal.curAttr = this._terminal.buffer.savedCurAttr || a.DEFAULT_ATTR;
}, t.prototype.setTitle = function(e) {
this._terminal.handleTitle(e);
}, t.prototype.nextLine = function() {
this._terminal.buffer.x = 0, this.index();
}, t.prototype.keypadApplicationMode = function() {
this._terminal.log("Serial port requested application keypad."), this._terminal.applicationKeypad = !0, this._terminal.viewport && this._terminal.viewport.syncScrollArea();
}, t.prototype.keypadNumericMode = function() {
this._terminal.log("Switching back to normal keypad."), this._terminal.applicationKeypad = !1, this._terminal.viewport && this._terminal.viewport.syncScrollArea();
}, t.prototype.selectDefaultCharset = function() {
this._terminal.setgLevel(0), this._terminal.setgCharset(0, o.DEFAULT_CHARSET);
}, t.prototype.selectCharset = function(e) {
if (2 !== e.length) return this.selectDefaultCharset();
"/" !== e[0] && this._terminal.setgCharset(h[e[0]], o.CHARSETS[e[1]] || o.DEFAULT_CHARSET);
}, t.prototype.index = function() {
this._terminal.index();
}, t.prototype.tabSet = function() {
this._terminal.tabSet();
}, t.prototype.reverseIndex = function() {
this._terminal.reverseIndex();
}, t.prototype.reset = function() {
this._parser.reset(), this._terminal.reset();
}, t.prototype.setgLevel = function(e) {
this._terminal.setgLevel(e);
}, t;
}(c.Disposable);
n.InputHandler = p;
}, {
"./Buffer": 2,
"./CharWidth": 6,
"./EscapeSequenceParser": 8,
"./common/Lifecycle": 20,
"./common/TypedArrayUtils": 21,
"./common/data/EscapeSequences": 22,
"./core/data/Charsets": 24,
"./core/input/TextDecoder": 26
} ],
10: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./ui/MouseZoneManager"), o = e("./common/EventEmitter"), a = e("./Buffer"), s = e("./CharWidth"), l = function(e) {
function t(t) {
var n = e.call(this) || this;
return n._terminal = t, n._linkMatchers = [], n._nextLinkMatcherId = 0, n._rowsToLinkify = {
start: null,
end: null
}, n;
}
return i(t, e), t.prototype.attachToDom = function(e) {
this._mouseZoneManager = e;
}, t.prototype.linkifyRows = function(e, n) {
var i = this;
this._mouseZoneManager && (null === this._rowsToLinkify.start ? (this._rowsToLinkify.start = e, this._rowsToLinkify.end = n) : (this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, e), this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, n)), this._mouseZoneManager.clearAll(e, n), this._rowsTimeoutId && clearTimeout(this._rowsTimeoutId), this._rowsTimeoutId = setTimeout(function() {
return i._linkifyRows();
}, t.TIME_BEFORE_LINKIFY));
}, t.prototype._linkifyRows = function() {
this._rowsTimeoutId = null;
var e = this._terminal.buffer, n = e.ydisp + this._rowsToLinkify.start;
if (!(n >= e.lines.length)) {
for (var i = e.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1, r = Math.ceil(t.OVERSCAN_CHAR_LIMIT / this._terminal.cols), o = this._terminal.buffer.iterator(!1, n, i, r, r); o.hasNext(); ) for (var a = o.next(), s = 0; s < this._linkMatchers.length; s++) this._doLinkifyRow(a.range.first, a.content, this._linkMatchers[s]);
this._rowsToLinkify.start = null, this._rowsToLinkify.end = null;
}
}, t.prototype.registerLinkMatcher = function(e, t, n) {
if (void 0 === n && (n = {}), !t) throw new Error("handler must be defined");
var i = {
id: this._nextLinkMatcherId++,
regex: e,
handler: t,
matchIndex: n.matchIndex,
validationCallback: n.validationCallback,
hoverTooltipCallback: n.tooltipCallback,
hoverLeaveCallback: n.leaveCallback,
willLinkActivate: n.willLinkActivate,
priority: n.priority || 0
};
return this._addLinkMatcherToList(i), i.id;
}, t.prototype._addLinkMatcherToList = function(e) {
if (0 !== this._linkMatchers.length) {
for (var t = this._linkMatchers.length - 1; t >= 0; t--) if (e.priority <= this._linkMatchers[t].priority) return void this._linkMatchers.splice(t + 1, 0, e);
this._linkMatchers.splice(0, 0, e);
} else this._linkMatchers.push(e);
}, t.prototype.deregisterLinkMatcher = function(e) {
for (var t = 0; t < this._linkMatchers.length; t++) if (this._linkMatchers[t].id === e) return this._linkMatchers.splice(t, 1), !0;
return !1;
}, t.prototype._doLinkifyRow = function(e, t, n) {
for (var i, r = this, o = new RegExp(n.regex.source, n.regex.flags + "g"), s = -1, l = this; null !== (i = o.exec(t)) && "break" !== function() {
var c = i["number" != typeof n.matchIndex ? 0 : n.matchIndex];
if (!c) {
if (l._terminal.debug) throw console.log({
match: i,
matcher: n
}), new Error("match found without corresponding matchIndex");
return "break";
}
if (s = t.indexOf(c, s + 1), o.lastIndex = s + c.length, s < 0) return "break";
var u = l._terminal.buffer.stringIndexToBufferIndex(e, s);
if (u[0] < 0) return "break";
var d, h = l._terminal.buffer.lines.get(u[0]).get(u[1]);
if (h) {
var f = h[a.CHAR_DATA_ATTR_INDEX];
d = f >> 9 & 511;
}
n.validationCallback ? n.validationCallback(c, function(e) {
r._rowsTimeoutId || e && r._addLink(u[1], u[0] - r._terminal.buffer.ydisp, c, n, d);
}) : l._addLink(u[1], u[0] - l._terminal.buffer.ydisp, c, n, d);
}(); ) ;
}, t.prototype._addLink = function(e, t, n, i, o) {
var a = this, l = s.getStringCellWidth(n), c = e % this._terminal.cols, u = t + Math.floor(e / this._terminal.cols), d = (c + l) % this._terminal.cols, h = u + Math.floor((c + l) / this._terminal.cols);
0 === d && (d = this._terminal.cols, h--), this._mouseZoneManager.add(new r.MouseZone(c + 1, u + 1, d + 1, h + 1, function(e) {
if (i.handler) return i.handler(e, n);
window.open(n, "_blank");
}, function(e) {
a.emit("linkhover", a._createLinkHoverEvent(c, u, d, h, o)), a._terminal.element.classList.add("xterm-cursor-pointer");
}, function(e) {
a.emit("linktooltip", a._createLinkHoverEvent(c, u, d, h, o)), i.hoverTooltipCallback && i.hoverTooltipCallback(e, n);
}, function() {
a.emit("linkleave", a._createLinkHoverEvent(c, u, d, h, o)), a._terminal.element.classList.remove("xterm-cursor-pointer"), i.hoverLeaveCallback && i.hoverLeaveCallback();
}, function(e) {
return !i.willLinkActivate || i.willLinkActivate(e, n);
}));
}, t.prototype._createLinkHoverEvent = function(e, t, n, i, r) {
return {
x1: e,
y1: t,
x2: n,
y2: i,
cols: this._terminal.cols,
fg: r
};
}, t.TIME_BEFORE_LINKIFY = 200, t.OVERSCAN_CHAR_LIMIT = 2e3, t;
}(o.EventEmitter);
n.Linkifier = l;
}, {
"./Buffer": 2,
"./CharWidth": 6,
"./common/EventEmitter": 19,
"./ui/MouseZoneManager": 53
} ],
11: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./ui/MouseHelper"), o = e("./core/Platform"), a = e("./common/EventEmitter"), s = e("./SelectionModel"), l = e("./Buffer"), c = e("./handlers/AltClickHandler"), u = String.fromCharCode(160), d = new RegExp(u, "g"), h = function(e) {
function t(t, n) {
var i = e.call(this) || this;
return i._terminal = t, i._charMeasure = n, i._enabled = !0, i._initListeners(), i.enable(), i._model = new s.SelectionModel(t), i._activeSelectionMode = 0, i;
}
return i(t, e), t.prototype.dispose = function() {
e.prototype.dispose.call(this), this._removeMouseDownListeners();
}, Object.defineProperty(t.prototype, "_buffer", {
get: function() {
return this._terminal.buffers.active;
},
enumerable: !0,
configurable: !0
}), t.prototype._initListeners = function() {
var e = this;
this._mouseMoveListener = function(t) {
return e._onMouseMove(t);
}, this._mouseUpListener = function(t) {
return e._onMouseUp(t);
}, this._trimListener = function(t) {
return e._onTrim(t);
}, this.initBuffersListeners();
}, t.prototype.initBuffersListeners = function() {
var e = this;
this._terminal.buffer.lines.on("trim", this._trimListener), this._terminal.buffers.on("activate", function(t) {
return e._onBufferActivate(t);
});
}, t.prototype.disable = function() {
this.clearSelection(), this._enabled = !1;
}, t.prototype.enable = function() {
this._enabled = !0;
}, Object.defineProperty(t.prototype, "selectionStart", {
get: function() {
return this._model.finalSelectionStart;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "selectionEnd", {
get: function() {
return this._model.finalSelectionEnd;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasSelection", {
get: function() {
var e = this._model.finalSelectionStart, t = this._model.finalSelectionEnd;
return !(!e || !t) && (e[0] !== t[0] || e[1] !== t[1]);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "selectionText", {
get: function() {
var e = this._model.finalSelectionStart, t = this._model.finalSelectionEnd;
if (!e || !t) return "";
var n = [];
if (3 === this._activeSelectionMode) {
if (e[0] === t[0]) return "";
for (r = e[1]; r <= t[1]; r++) {
s = this._buffer.translateBufferLineToString(r, !0, e[0], t[0]);
n.push(s);
}
} else {
var i = e[1] === t[1] ? t[0] : void 0;
n.push(this._buffer.translateBufferLineToString(e[1], !0, e[0], i));
for (var r = e[1] + 1; r <= t[1] - 1; r++) {
var a = this._buffer.lines.get(r), s = this._buffer.translateBufferLineToString(r, !0);
a.isWrapped ? n[n.length - 1] += s : n.push(s);
}
if (e[1] !== t[1]) {
var a = this._buffer.lines.get(t[1]), s = this._buffer.translateBufferLineToString(t[1], !0, 0, t[0]);
a.isWrapped ? n[n.length - 1] += s : n.push(s);
}
}
return n.map(function(e) {
return e.replace(d, " ");
}).join(o.isMSWindows ? "\r\n" : "\n");
},
enumerable: !0,
configurable: !0
}), t.prototype.clearSelection = function() {
this._model.clearSelection(), this._removeMouseDownListeners(), this.refresh();
}, t.prototype.refresh = function(e) {
var t = this;
this._refreshAnimationFrame || (this._refreshAnimationFrame = window.requestAnimationFrame(function() {
return t._refresh();
})), o.isLinux && e && this.selectionText.length && this.emit("newselection", this.selectionText);
}, t.prototype._refresh = function() {
this._refreshAnimationFrame = null, this.emit("refresh", {
start: this._model.finalSelectionStart,
end: this._model.finalSelectionEnd,
columnSelectMode: 3 === this._activeSelectionMode
});
}, t.prototype.isClickInSelection = function(e) {
var t = this._getMouseBufferCoords(e), n = this._model.finalSelectionStart, i = this._model.finalSelectionEnd;
return !(!n || !i) && this._areCoordsInSelection(t, n, i);
}, t.prototype._areCoordsInSelection = function(e, t, n) {
return e[1] > t[1] && e[1] < n[1] || t[1] === n[1] && e[1] === t[1] && e[0] >= t[0] && e[0] < n[0] || t[1] < n[1] && e[1] === n[1] && e[0] < n[0] || t[1] < n[1] && e[1] === t[1] && e[0] >= t[0];
}, t.prototype.selectWordAtCursor = function(e) {
var t = this._getMouseBufferCoords(e);
t && (this._selectWordAt(t, !1), this._model.selectionEnd = null, this.refresh(!0));
}, t.prototype.selectAll = function() {
this._model.isSelectAllActive = !0, this.refresh(), this._terminal.emit("selection");
}, t.prototype.selectLines = function(e, t) {
this._model.clearSelection(), e = Math.max(e, 0), t = Math.min(t, this._terminal.buffer.lines.length - 1), this._model.selectionStart = [ 0, e ], this._model.selectionEnd = [ this._terminal.cols, t ], this.refresh(), this._terminal.emit("selection");
}, t.prototype._onTrim = function(e) {
this._model.onTrim(e) && this.refresh();
}, t.prototype._getMouseBufferCoords = function(e) {
var t = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, !0);
return t ? (t[0]--, t[1]--, t[1] += this._terminal.buffer.ydisp, t) : null;
}, t.prototype._getMouseEventScrollAmount = function(e) {
var t = r.MouseHelper.getCoordsRelativeToElement(e, this._terminal.screenElement)[1], n = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);
return t >= 0 && t <= n ? 0 : (t > n && (t -= n), t = Math.min(Math.max(t, -50), 50), (t /= 50) / Math.abs(t) + Math.round(14 * t));
}, t.prototype.shouldForceSelection = function(e) {
return o.isMac ? e.altKey && this._terminal.options.macOptionClickForcesSelection : e.shiftKey;
}, t.prototype.onMouseDown = function(e) {
if (this._mouseDownTimeStamp = e.timeStamp, (2 !== e.button || !this.hasSelection) && 0 === e.button) {
if (!this._enabled) {
if (!this.shouldForceSelection(e)) return;
e.stopPropagation();
}
e.preventDefault(), this._dragScrollAmount = 0, this._enabled && e.shiftKey ? this._onIncrementalClick(e) : 1 === e.detail ? this._onSingleClick(e) : 2 === e.detail ? this._onDoubleClick(e) : 3 === e.detail && this._onTripleClick(e), this._addMouseDownListeners(), this.refresh(!0);
}
}, t.prototype._addMouseDownListeners = function() {
var e = this;
this._terminal.element.ownerDocument.addEventListener("mousemove", this._mouseMoveListener), this._terminal.element.ownerDocument.addEventListener("mouseup", this._mouseUpListener), this._dragScrollIntervalTimer = setInterval(function() {
return e._dragScroll();
}, 50);
}, t.prototype._removeMouseDownListeners = function() {
this._terminal.element.ownerDocument && (this._terminal.element.ownerDocument.removeEventListener("mousemove", this._mouseMoveListener), this._terminal.element.ownerDocument.removeEventListener("mouseup", this._mouseUpListener)), clearInterval(this._dragScrollIntervalTimer), this._dragScrollIntervalTimer = null;
}, t.prototype._onIncrementalClick = function(e) {
this._model.selectionStart && (this._model.selectionEnd = this._getMouseBufferCoords(e));
}, t.prototype._onSingleClick = function(e) {
if (this._model.selectionStartLength = 0, this._model.isSelectAllActive = !1, this._activeSelectionMode = this.shouldColumnSelect(e) ? 3 : 0, this._model.selectionStart = this._getMouseBufferCoords(e), this._model.selectionStart) {
this._model.selectionEnd = null;
var t = this._buffer.lines.get(this._model.selectionStart[1]);
t && (t.length >= this._model.selectionStart[0] || 0 === t.get(this._model.selectionStart[0])[l.CHAR_DATA_WIDTH_INDEX] && this._model.selectionStart[0]++);
}
}, t.prototype._onDoubleClick = function(e) {
var t = this._getMouseBufferCoords(e);
t && (this._activeSelectionMode = 1, this._selectWordAt(t, !0));
}, t.prototype._onTripleClick = function(e) {
var t = this._getMouseBufferCoords(e);
t && (this._activeSelectionMode = 2, this._selectLineAt(t[1]));
}, t.prototype.shouldColumnSelect = function(e) {
return e.altKey && !(o.isMac && this._terminal.options.macOptionClickForcesSelection);
}, t.prototype._onMouseMove = function(e) {
e.stopImmediatePropagation();
var t = this._model.selectionEnd ? [ this._model.selectionEnd[0], this._model.selectionEnd[1] ] : null;
if (this._model.selectionEnd = this._getMouseBufferCoords(e), this._model.selectionEnd) {
if (2 === this._activeSelectionMode ? this._model.selectionEnd[1] < this._model.selectionStart[1] ? this._model.selectionEnd[0] = 0 : this._model.selectionEnd[0] = this._terminal.cols : 1 === this._activeSelectionMode && this._selectToWordAt(this._model.selectionEnd), this._dragScrollAmount = this._getMouseEventScrollAmount(e), 3 !== this._activeSelectionMode && (this._dragScrollAmount > 0 ? this._model.selectionEnd[0] = this._terminal.cols : this._dragScrollAmount < 0 && (this._model.selectionEnd[0] = 0)), this._model.selectionEnd[1] < this._buffer.lines.length) {
var n = this._buffer.lines.get(this._model.selectionEnd[1]).get(this._model.selectionEnd[0]);
n && 0 === n[l.CHAR_DATA_WIDTH_INDEX] && this._model.selectionEnd[0]++;
}
t && t[0] === this._model.selectionEnd[0] && t[1] === this._model.selectionEnd[1] || this.refresh(!0);
} else this.refresh(!0);
}, t.prototype._dragScroll = function() {
this._dragScrollAmount && (this._terminal.scrollLines(this._dragScrollAmount, !1), this._dragScrollAmount > 0 ? (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = this._terminal.cols), this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1)) : (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = 0), this._model.selectionEnd[1] = this._terminal.buffer.ydisp), this.refresh());
}, t.prototype._onMouseUp = function(e) {
var t = e.timeStamp - this._mouseDownTimeStamp;
this._removeMouseDownListeners(), this.selectionText.length <= 1 && t < 500 ? new c.AltClickHandler(e, this._terminal).move() : this.hasSelection && this._terminal.emit("selection");
}, t.prototype._onBufferActivate = function(e) {
this.clearSelection(), e.inactiveBuffer.lines.off("trim", this._trimListener), e.activeBuffer.lines.on("trim", this._trimListener);
}, t.prototype._convertViewportColToCharacterIndex = function(e, t) {
for (var n = t[0], i = 0; t[0] >= i; i++) {
var r = e.get(i);
0 === r[l.CHAR_DATA_WIDTH_INDEX] ? n-- : r[l.CHAR_DATA_CHAR_INDEX].length > 1 && t[0] !== i && (n += r[l.CHAR_DATA_CHAR_INDEX].length - 1);
}
return n;
}, t.prototype.setSelection = function(e, t, n) {
this._model.clearSelection(), this._removeMouseDownListeners(), this._model.selectionStart = [ e, t ], this._model.selectionStartLength = n, this.refresh();
}, t.prototype._getWordAt = function(e, t, n, i) {
if (void 0 === n && (n = !0), void 0 === i && (i = !0), e[0] >= this._terminal.cols) return null;
var r = this._buffer.lines.get(e[1]);
if (!r) return null;
var o = this._buffer.translateBufferLineToString(e[1], !1), a = this._convertViewportColToCharacterIndex(r, e), s = a, c = e[0] - a, u = 0, d = 0, h = 0, f = 0;
if (" " === o.charAt(a)) {
for (;a > 0 && " " === o.charAt(a - 1); ) a--;
for (;s < o.length && " " === o.charAt(s + 1); ) s++;
} else {
var p = e[0], g = e[0];
for (0 === r.get(p)[l.CHAR_DATA_WIDTH_INDEX] && (u++, p--), 2 === r.get(g)[l.CHAR_DATA_WIDTH_INDEX] && (d++, g++), r.get(g)[l.CHAR_DATA_CHAR_INDEX].length > 1 && (f += r.get(g)[l.CHAR_DATA_CHAR_INDEX].length - 1, s += r.get(g)[l.CHAR_DATA_CHAR_INDEX].length - 1); p > 0 && a > 0 && !this._isCharWordSeparator(r.get(p - 1)); ) 0 === (m = r.get(p - 1))[l.CHAR_DATA_WIDTH_INDEX] ? (u++, p--) : m[l.CHAR_DATA_CHAR_INDEX].length > 1 && (h += m[l.CHAR_DATA_CHAR_INDEX].length - 1, a -= m[l.CHAR_DATA_CHAR_INDEX].length - 1), a--, p--;
for (;g < r.length && s + 1 < o.length && !this._isCharWordSeparator(r.get(g + 1)); ) {
var m = r.get(g + 1);
2 === m[l.CHAR_DATA_WIDTH_INDEX] ? (d++, g++) : m[l.CHAR_DATA_CHAR_INDEX].length > 1 && (f += m[l.CHAR_DATA_CHAR_INDEX].length - 1, s += m[l.CHAR_DATA_CHAR_INDEX].length - 1), s++, g++;
}
}
s++;
var v = a + c - u + h, y = Math.min(this._terminal.cols, s - a + u + d - h - f);
if (!t && "" === o.slice(a, s).trim()) return null;
if (n && 0 === v && 32 !== r.get(0)[l.CHAR_DATA_CODE_INDEX]) {
var b = this._buffer.lines.get(e[1] - 1);
if (b && r.isWrapped && 32 !== b.get(this._terminal.cols - 1)[l.CHAR_DATA_CODE_INDEX]) {
var _ = this._getWordAt([ this._terminal.cols - 1, e[1] - 1 ], !1, !0, !1);
if (_) {
var w = this._terminal.cols - _.start;
v -= w, y += w;
}
}
}
if (i && v + y === this._terminal.cols && 32 !== r.get(this._terminal.cols - 1)[l.CHAR_DATA_CODE_INDEX]) {
var C = this._buffer.lines.get(e[1] + 1);
if (C && C.isWrapped && 32 !== C.get(0)[l.CHAR_DATA_CODE_INDEX]) {
var x = this._getWordAt([ 0, e[1] + 1 ], !1, !1, !0);
x && (y += x.length);
}
}
return {
start: v,
length: y
};
}, t.prototype._selectWordAt = function(e, t) {
var n = this._getWordAt(e, t);
if (n) {
for (;n.start < 0; ) n.start += this._terminal.cols, e[1]--;
this._model.selectionStart = [ n.start, e[1] ], this._model.selectionStartLength = n.length;
}
}, t.prototype._selectToWordAt = function(e) {
var t = this._getWordAt(e, !0);
if (t) {
for (var n = e[1]; t.start < 0; ) t.start += this._terminal.cols, n--;
if (!this._model.areSelectionValuesReversed()) for (;t.start + t.length > this._terminal.cols; ) t.length -= this._terminal.cols, n++;
this._model.selectionEnd = [ this._model.areSelectionValuesReversed() ? t.start : t.start + t.length, n ];
}
}, t.prototype._isCharWordSeparator = function(e) {
return 0 !== e[l.CHAR_DATA_WIDTH_INDEX] && " ()[]{}'\"".indexOf(e[l.CHAR_DATA_CHAR_INDEX]) >= 0;
}, t.prototype._selectLineAt = function(e) {
var t = this._buffer.getWrappedRangeForLine(e);
this._model.selectionStart = [ 0, t.first ], this._model.selectionEnd = [ this._terminal.cols, t.last ], this._model.selectionStartLength = 0;
}, t;
}(a.EventEmitter);
n.SelectionManager = h;
}, {
"./Buffer": 2,
"./SelectionModel": 12,
"./common/EventEmitter": 19,
"./core/Platform": 23,
"./handlers/AltClickHandler": 27,
"./ui/MouseHelper": 52
} ],
12: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e) {
this._terminal = e, this.clearSelection();
}
return e.prototype.clearSelection = function() {
this.selectionStart = null, this.selectionEnd = null, this.isSelectAllActive = !1, this.selectionStartLength = 0;
}, Object.defineProperty(e.prototype, "finalSelectionStart", {
get: function() {
return this.isSelectAllActive ? [ 0, 0 ] : this.selectionEnd && this.selectionStart && this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "finalSelectionEnd", {
get: function() {
if (this.isSelectAllActive) return [ this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1 ];
if (!this.selectionStart) return null;
if (!this.selectionEnd || this.areSelectionValuesReversed()) {
var e = this.selectionStart[0] + this.selectionStartLength;
return e > this._terminal.cols ? [ e % this._terminal.cols, this.selectionStart[1] + Math.floor(e / this._terminal.cols) ] : [ e, this.selectionStart[1] ];
}
return this.selectionStartLength && this.selectionEnd[1] === this.selectionStart[1] ? [ Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1] ] : this.selectionEnd;
},
enumerable: !0,
configurable: !0
}), e.prototype.areSelectionValuesReversed = function() {
var e = this.selectionStart, t = this.selectionEnd;
return !(!e || !t) && (e[1] > t[1] || e[1] === t[1] && e[0] > t[0]);
}, e.prototype.onTrim = function(e) {
return this.selectionStart && (this.selectionStart[1] -= e), this.selectionEnd && (this.selectionEnd[1] -= e), this.selectionEnd && this.selectionEnd[1] < 0 ? (this.clearSelection(), !0) : (this.selectionStart && this.selectionStart[1] < 0 && (this.selectionStart[1] = 0), !1);
}, e;
}();
n.SelectionModel = i;
}, {} ],
13: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
}), n.DEFAULT_BELL_SOUND = "data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==";
var i = function() {
function e(e) {
this._terminal = e;
}
return Object.defineProperty(e, "audioContext", {
get: function() {
if (!e._audioContext) {
var t = window.AudioContext || window.webkitAudioContext;
if (!t) return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"), null;
e._audioContext = new t();
}
return e._audioContext;
},
enumerable: !0,
configurable: !0
}), e.prototype.playBellSound = function() {
var t = e.audioContext;
if (t) {
var n = t.createBufferSource();
t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function(e) {
n.buffer = e, n.connect(t.destination), n.start(0);
});
}
}, e.prototype._base64ToArrayBuffer = function(e) {
for (var t = window.atob(e), n = t.length, i = new Uint8Array(n), r = 0; r < n; r++) i[r] = t.charCodeAt(r);
return i.buffer;
}, e.prototype._removeMimeType = function(e) {
return e.split(",")[1];
}, e;
}();
n.SoundManager = i;
}, {} ],
14: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
}), n.blankLine = "Blank line", n.promptLabel = "Terminal input", n.tooMuchOutput = "Too much output to announce, navigate to rows manually to read";
}, {} ],
15: [ function(e, t, n) {
"use strict";
function i(e) {
return 16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode;
}
function r(e, t, n, i, r, o) {
return Math.pow(30 * (e - i), 2) + Math.pow(59 * (t - r), 2) + Math.pow(11 * (n - o), 2);
}
var o = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var a = e("./BufferSet"), s = e("./Buffer"), l = e("./CompositionHelper"), c = e("./common/EventEmitter"), u = e("./Viewport"), d = e("./ui/Clipboard"), h = e("./common/data/EscapeSequences"), f = e("./InputHandler"), p = e("./renderer/Renderer"), g = e("./Linkifier"), m = e("./SelectionManager"), v = e("./ui/CharMeasure"), y = e("./core/Platform"), b = e("./ui/Lifecycle"), _ = e("./Strings"), w = e("./ui/MouseHelper"), C = e("./SoundManager"), x = e("./renderer/ColorManager"), S = e("./ui/MouseZoneManager"), $ = e("./AccessibilityManager"), A = e("./ui/ScreenDprMonitor"), k = e("./renderer/atlas/CharAtlasCache"), T = e("./renderer/dom/DomRenderer"), D = e("./core/input/Keyboard"), E = e("./common/Clone"), F = "undefined" != typeof window ? window.document : null, M = [ "cols", "rows" ], I = {
cols: 80,
rows: 24,
convertEol: !1,
termName: "xterm",
cursorBlink: !1,
cursorStyle: "block",
bellSound: C.DEFAULT_BELL_SOUND,
bellStyle: "none",
drawBoldTextInBrightColors: !0,
enableBold: !0,
experimentalCharAtlas: "static",
fontFamily: "courier-new, courier, monospace",
fontSize: 15,
fontWeight: "normal",
fontWeightBold: "bold",
lineHeight: 1,
letterSpacing: 0,
scrollback: 1e3,
screenKeys: !1,
screenReaderMode: !1,
debug: !1,
macOptionIsMeta: !1,
macOptionClickForcesSelection: !1,
cancelEvents: !1,
disableStdin: !1,
useFlowControl: !1,
allowTransparency: !1,
tabStopWidth: 8,
theme: null,
rightClickSelectsWord: y.isMac,
rendererType: "canvas"
}, P = function(e) {
function t(t) {
void 0 === t && (t = {});
var n = e.call(this) || this;
return n.browser = y, n._blankLine = null, n.options = E.clone(t), n._setup(), n;
}
return o(t, e), t.prototype.dispose = function() {
e.prototype.dispose.call(this), this._customKeyEventHandler = null, k.removeTerminalFromCache(this), this.handler = function() {}, this.write = function() {}, this.element && this.element.parentNode && this.element.parentNode.removeChild(this.element);
}, t.prototype.destroy = function() {
this.dispose();
}, t.prototype._setup = function() {
var e = this;
Object.keys(I).forEach(function(t) {
null !== e.options[t] && void 0 !== e.options[t] || (e.options[t] = I[t]);
}), this._parent = F ? F.body : null, this.cols = Math.max(this.options.cols, 2), this.rows = Math.max(this.options.rows, 1), this.options.handler && this.on("data", this.options.handler), this.cursorState = 0, this.cursorHidden = !1, this._customKeyEventHandler = null, this.applicationKeypad = !1, this.applicationCursor = !1, this.originMode = !1, this.insertMode = !1, this.wraparoundMode = !0, this.bracketedPasteMode = !1, this.charset = null, this.gcharset = null, this.glevel = 0, this.charsets = [ null ], this.curAttr = s.DEFAULT_ATTR, this.params = [], this.currentParam = 0, this.writeBuffer = [], this._writeInProgress = !1, this._xoffSentToCatchUp = !1, this._userScrolling = !1, this._inputHandler = new f.InputHandler(this), this.register(this._inputHandler), this.renderer = this.renderer || null, this.selectionManager = this.selectionManager || null, this.linkifier = this.linkifier || new g.Linkifier(this), this._mouseZoneManager = this._mouseZoneManager || null, this.soundManager = this.soundManager || new C.SoundManager(this), 
this.buffers = new a.BufferSet(this), this.selectionManager && (this.selectionManager.clearSelection(), this.selectionManager.initBuffersListeners());
}, Object.defineProperty(t.prototype, "buffer", {
get: function() {
return this.buffers.active;
},
enumerable: !0,
configurable: !0
}), t.prototype.eraseAttr = function() {
return -512 & s.DEFAULT_ATTR | 511 & this.curAttr;
}, t.prototype.focus = function() {
this.textarea && this.textarea.focus();
}, Object.defineProperty(t.prototype, "isFocused", {
get: function() {
return F.activeElement === this.textarea && F.hasFocus();
},
enumerable: !0,
configurable: !0
}), t.prototype.getOption = function(e) {
if (!(e in I)) throw new Error('No option with key "' + e + '"');
return this.options[e];
}, t.prototype.setOption = function(e, t) {
if (!(e in I)) throw new Error('No option with key "' + e + '"');
if (-1 !== M.indexOf(e) && console.error('Option "' + e + '" can only be set in the constructor'), this.options[e] !== t) {
switch (e) {
case "bellStyle":
t || (t = "none");
break;

case "cursorStyle":
t || (t = "block");
break;

case "fontWeight":
t || (t = "normal");
break;

case "fontWeightBold":
t || (t = "bold");
break;

case "lineHeight":
if (t < 1) return void console.warn(e + " cannot be less than 1, value: " + t);

case "rendererType":
t || (t = "canvas");
break;

case "tabStopWidth":
if (t < 1) return void console.warn(e + " cannot be less than 1, value: " + t);
break;

case "theme":
if (this.renderer) return void this._setTheme(t);
break;

case "scrollback":
if ((t = Math.min(t, s.MAX_BUFFER_SIZE)) < 0) return void console.warn(e + " cannot be less than 0, value: " + t);
if (this.options[e] !== t) {
var n = this.rows + t;
if (this.buffer.lines.length > n) {
var i = this.buffer.lines.length - n, r = this.buffer.ydisp - i < 0;
this.buffer.lines.trimStart(i), this.buffer.ybase = Math.max(this.buffer.ybase - i, 0), this.buffer.ydisp = Math.max(this.buffer.ydisp - i, 0), r && this.refresh(0, this.rows - 1);
}
}
}
switch (this.options[e] = t, e) {
case "fontFamily":
case "fontSize":
this.renderer && (this.renderer.clear(), this.charMeasure.measure(this.options));
break;

case "drawBoldTextInBrightColors":
case "experimentalCharAtlas":
case "enableBold":
case "letterSpacing":
case "lineHeight":
case "fontWeight":
case "fontWeightBold":
this.renderer && (this.renderer.clear(), this.renderer.onResize(this.cols, this.rows), this.refresh(0, this.rows - 1));
break;

case "rendererType":
this.renderer && (this.unregister(this.renderer), this.renderer.dispose(), this.renderer = null), this._setupRenderer(), this.renderer.onCharSizeChanged(), this._theme && this.renderer.setTheme(this._theme), this.mouseHelper.setRenderer(this.renderer);
break;

case "scrollback":
this.buffers.resize(this.cols, this.rows), this.viewport && this.viewport.syncScrollArea();
break;

case "screenReaderMode":
t ? this._accessibilityManager || (this._accessibilityManager = new $.AccessibilityManager(this)) : this._accessibilityManager && (this._accessibilityManager.dispose(), this._accessibilityManager = null);
break;

case "tabStopWidth":
this.buffers.setupTabStops();
}
this.renderer && this.renderer.onOptionsChanged();
}
}, t.prototype._onTextAreaFocus = function(e) {
this.sendFocus && this.handler(h.C0.ESC + "[I"), this.updateCursorStyle(e), this.element.classList.add("focus"), this.showCursor(), this.emit("focus");
}, t.prototype.blur = function() {
return this.textarea.blur();
}, t.prototype._onTextAreaBlur = function() {
this.textarea.value = "", this.refresh(this.buffer.y, this.buffer.y), this.sendFocus && this.handler(h.C0.ESC + "[O"), this.element.classList.remove("focus"), this.emit("blur");
}, t.prototype._initGlobal = function() {
var e = this;
this._bindKeys(), this.register(b.addDisposableDomListener(this.element, "copy", function(t) {
e.hasSelection() && d.copyHandler(t, e, e.selectionManager);
}));
var t = function(t) {
return d.pasteHandler(t, e);
};
this.register(b.addDisposableDomListener(this.textarea, "paste", t)), this.register(b.addDisposableDomListener(this.element, "paste", t)), y.isFirefox ? this.register(b.addDisposableDomListener(this.element, "mousedown", function(t) {
2 === t.button && d.rightClickHandler(t, e, e.selectionManager, e.options.rightClickSelectsWord);
})) : this.register(b.addDisposableDomListener(this.element, "contextmenu", function(t) {
d.rightClickHandler(t, e, e.selectionManager, e.options.rightClickSelectsWord);
})), y.isLinux && this.register(b.addDisposableDomListener(this.element, "auxclick", function(t) {
1 === t.button && d.moveTextAreaUnderMouseCursor(t, e);
}));
}, t.prototype._bindKeys = function() {
var e = this, t = this;
this.register(b.addDisposableDomListener(this.element, "keydown", function(e) {
F.activeElement === this && t._keyDown(e);
}, !0)), this.register(b.addDisposableDomListener(this.element, "keypress", function(e) {
F.activeElement === this && t._keyPress(e);
}, !0)), this.register(b.addDisposableDomListener(this.element, "keyup", function(n) {
i(n) || e.focus(), t._keyUp(n);
}, !0)), this.register(b.addDisposableDomListener(this.textarea, "keydown", function(t) {
return e._keyDown(t);
}, !0)), this.register(b.addDisposableDomListener(this.textarea, "keypress", function(t) {
return e._keyPress(t);
}, !0)), this.register(b.addDisposableDomListener(this.textarea, "compositionstart", function() {
return e._compositionHelper.compositionstart();
})), this.register(b.addDisposableDomListener(this.textarea, "compositionupdate", function(t) {
return e._compositionHelper.compositionupdate(t);
})), this.register(b.addDisposableDomListener(this.textarea, "compositionend", function() {
return e._compositionHelper.compositionend();
})), this.register(this.addDisposableListener("refresh", function() {
return e._compositionHelper.updateCompositionElements();
})), this.register(this.addDisposableListener("refresh", function(t) {
return e._queueLinkification(t.start, t.end);
}));
}, t.prototype.open = function(e) {
var t = this;
if (this._parent = e || this._parent, !this._parent) throw new Error("Terminal requires a parent element.");
this._context = this._parent.ownerDocument.defaultView, this._document = this._parent.ownerDocument, this._screenDprMonitor = new A.ScreenDprMonitor(), this._screenDprMonitor.setListener(function() {
return t.emit("dprchange", window.devicePixelRatio);
}), this.register(this._screenDprMonitor), this.element = this._document.createElement("div"), this.element.dir = "ltr", this.element.classList.add("terminal"), this.element.classList.add("xterm"), this.element.setAttribute("tabindex", "0"), this._parent.appendChild(this.element);
var n = F.createDocumentFragment();
this._viewportElement = F.createElement("div"), this._viewportElement.classList.add("xterm-viewport"), n.appendChild(this._viewportElement), this._viewportScrollArea = F.createElement("div"), this._viewportScrollArea.classList.add("xterm-scroll-area"), this._viewportElement.appendChild(this._viewportScrollArea), this.screenElement = F.createElement("div"), this.screenElement.classList.add("xterm-screen"), this._helperContainer = F.createElement("div"), this._helperContainer.classList.add("xterm-helpers"), this.screenElement.appendChild(this._helperContainer), n.appendChild(this.screenElement), this._mouseZoneManager = new S.MouseZoneManager(this), this.register(this._mouseZoneManager), this.register(this.addDisposableListener("scroll", function() {
return t._mouseZoneManager.clearAll();
})), this.linkifier.attachToDom(this._mouseZoneManager), this.textarea = F.createElement("textarea"), this.textarea.classList.add("xterm-helper-textarea"), this.textarea.setAttribute("aria-label", _.promptLabel), this.textarea.setAttribute("aria-multiline", "false"), this.textarea.setAttribute("autocorrect", "off"), this.textarea.setAttribute("autocapitalize", "off"), this.textarea.setAttribute("spellcheck", "false"), this.textarea.tabIndex = 0, this.register(b.addDisposableDomListener(this.textarea, "focus", function(e) {
return t._onTextAreaFocus(e);
})), this.register(b.addDisposableDomListener(this.textarea, "blur", function() {
return t._onTextAreaBlur();
})), this._helperContainer.appendChild(this.textarea), this._compositionView = F.createElement("div"), this._compositionView.classList.add("composition-view"), this._compositionHelper = new l.CompositionHelper(this.textarea, this._compositionView, this), this._helperContainer.appendChild(this._compositionView), this.charMeasure = new v.CharMeasure(F, this._helperContainer), this.element.appendChild(n), this._setupRenderer(), this._theme = this.options.theme, this.options.theme = null, this.viewport = new u.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure), this.viewport.onThemeChanged(this.renderer.colorManager.colors), this.register(this.viewport), this.register(this.addDisposableListener("cursormove", function() {
return t.renderer.onCursorMove();
})), this.register(this.addDisposableListener("resize", function() {
return t.renderer.onResize(t.cols, t.rows);
})), this.register(this.addDisposableListener("blur", function() {
return t.renderer.onBlur();
})), this.register(this.addDisposableListener("focus", function() {
return t.renderer.onFocus();
})), this.register(this.addDisposableListener("dprchange", function() {
return t.renderer.onWindowResize(window.devicePixelRatio);
})), this.register(b.addDisposableDomListener(window, "resize", function() {
return t.renderer.onWindowResize(window.devicePixelRatio);
})), this.register(this.charMeasure.addDisposableListener("charsizechanged", function() {
return t.renderer.onCharSizeChanged();
})), this.register(this.renderer.addDisposableListener("resize", function(e) {
return t.viewport.syncScrollArea();
})), this.selectionManager = new m.SelectionManager(this, this.charMeasure), this.register(b.addDisposableDomListener(this.element, "mousedown", function(e) {
return t.selectionManager.onMouseDown(e);
})), this.register(this.selectionManager.addDisposableListener("refresh", function(e) {
return t.renderer.onSelectionChanged(e.start, e.end, e.columnSelectMode);
})), this.register(this.selectionManager.addDisposableListener("newselection", function(e) {
t.textarea.value = e, t.textarea.focus(), t.textarea.select();
})), this.register(this.addDisposableListener("scroll", function() {
t.viewport.syncScrollArea(), t.selectionManager.refresh();
})), this.register(b.addDisposableDomListener(this._viewportElement, "scroll", function() {
return t.selectionManager.refresh();
})), this.mouseHelper = new w.MouseHelper(this.renderer), this.element.classList.toggle("enable-mouse-events", this.mouseEvents), this.mouseEvents ? this.selectionManager.disable() : this.selectionManager.enable(), this.options.screenReaderMode && (this._accessibilityManager = new $.AccessibilityManager(this)), this.charMeasure.measure(this.options), this.refresh(0, this.rows - 1), this._initGlobal(), this.bindMouse();
}, t.prototype._setupRenderer = function() {
switch (this.options.rendererType) {
case "canvas":
this.renderer = new p.Renderer(this, this.options.theme);
break;

case "dom":
this.renderer = new T.DomRenderer(this, this.options.theme);
break;

default:
throw new Error('Unrecognized rendererType "' + this.options.rendererType + '"');
}
this.register(this.renderer);
}, t.prototype._setTheme = function(e) {
this._theme = e;
var t = this.renderer.setTheme(e);
this.viewport && this.viewport.onThemeChanged(t);
}, t.prototype.bindMouse = function() {
function e(e) {
var t, n;
if (t = r(e), n = s.mouseHelper.getRawByteCoords(e, s.screenElement, s.charMeasure, s.cols, s.rows)) switch (i(t, n), e.overrideType || e.type) {
case "mousedown":
l = t;
break;

case "mouseup":
l = 32;
}
}
function t(e) {
var t = l, n = s.mouseHelper.getRawByteCoords(e, s.screenElement, s.charMeasure, s.cols, s.rows);
n && i(t += 32, n);
}
function n(e, t) {
if (s.utfMouse) {
if (2047 === t) return void e.push(0);
t < 127 ? e.push(t) : (t > 2047 && (t = 2047), e.push(192 | t >> 6), e.push(128 | 63 & t));
} else {
if (255 === t) return void e.push(0);
t > 127 && (t = 127), e.push(t);
}
}
function i(e, t) {
if (s._vt300Mouse) {
e &= 3, t.x -= 32, t.y -= 32;
var i = h.C0.ESC + "[24";
if (0 === e) i += "1"; else if (1 === e) i += "3"; else if (2 === e) i += "5"; else {
if (3 === e) return;
i += "0";
}
return i += "~[" + t.x + "," + t.y + "]\r", void s.handler(i);
}
if (s._decLocator) return e &= 3, t.x -= 32, t.y -= 32, 0 === e ? e = 2 : 1 === e ? e = 4 : 2 === e ? e = 6 : 3 === e && (e = 3), void s.handler(h.C0.ESC + "[" + e + ";" + (3 === e ? 4 : 0) + ";" + t.y + ";" + t.x + ";" + t.page || "0&w");
if (s.urxvtMouse) return t.x -= 32, t.y -= 32, t.x++, t.y++, void s.handler(h.C0.ESC + "[" + e + ";" + t.x + ";" + t.y + "M");
if (s.sgrMouse) return t.x -= 32, t.y -= 32, void s.handler(h.C0.ESC + "[<" + ((3 == (3 & e) ? -4 & e : e) - 32) + ";" + t.x + ";" + t.y + (3 == (3 & e) ? "m" : "M"));
var r = [];
n(r, e), n(r, t.x), n(r, t.y), s.handler(h.C0.ESC + "[M" + String.fromCharCode.apply(String, r));
}
function r(e) {
var t, n, i, r, o;
switch (e.overrideType || e.type) {
case "mousedown":
t = null !== e.button && void 0 !== e.button ? +e.button : null !== e.which && void 0 !== e.which ? e.which - 1 : null, y.isMSIE && (t = 1 === t ? 0 : 4 === t ? 1 : t);
break;

case "mouseup":
t = 3;
break;

case "DOMMouseScroll":
t = e.detail < 0 ? 64 : 65;
break;

case "wheel":
t = e.deltaY < 0 ? 64 : 65;
}
return n = e.shiftKey ? 4 : 0, i = e.metaKey ? 8 : 0, r = e.ctrlKey ? 16 : 0, o = n | i | r, s.vt200Mouse ? o &= r : s.normalMouse || (o = 0), t = 32 + (o << 2) + t;
}
var o = this, a = this.element, s = this, l = 32;
this.register(b.addDisposableDomListener(a, "mousedown", function(n) {
if (n.preventDefault(), o.focus(), o.mouseEvents && !o.selectionManager.shouldForceSelection(n)) {
if (e(n), o.vt200Mouse) return n.overrideType = "mouseup", e(n), o.cancel(n);
var i;
o.normalMouse && (i = function(e) {
o.normalMouse && t(e);
}, o._document.addEventListener("mousemove", i));
var r = function(t) {
return o.normalMouse && !o.x10Mouse && e(t), i && (o._document.removeEventListener("mousemove", i), i = null), o._document.removeEventListener("mouseup", r), o.cancel(t);
};
return o._document.addEventListener("mouseup", r), o.cancel(n);
}
})), this.register(b.addDisposableDomListener(a, "wheel", function(t) {
if (o.mouseEvents) o.x10Mouse || o._vt300Mouse || o._decLocator || (e(t), t.preventDefault()); else if (!o.buffer.hasScrollback) {
var n = o.viewport.getLinesScrolled(t);
if (0 === n) return;
for (var i = h.C0.ESC + (o.applicationCursor ? "O" : "[") + (t.deltaY < 0 ? "A" : "B"), r = "", a = 0; a < Math.abs(n); a++) r += i;
o.handler(r);
}
})), this.register(b.addDisposableDomListener(a, "wheel", function(e) {
if (!o.mouseEvents) return o.viewport.onWheel(e), o.cancel(e);
})), this.register(b.addDisposableDomListener(a, "touchstart", function(e) {
if (!o.mouseEvents) return o.viewport.onTouchStart(e), o.cancel(e);
})), this.register(b.addDisposableDomListener(a, "touchmove", function(e) {
if (!o.mouseEvents) return o.viewport.onTouchMove(e), o.cancel(e);
}));
}, t.prototype.refresh = function(e, t) {
this.renderer && this.renderer.refreshRows(e, t);
}, t.prototype._queueLinkification = function(e, t) {
this.linkifier && this.linkifier.linkifyRows(e, t);
}, t.prototype.updateCursorStyle = function(e) {
this.selectionManager && this.selectionManager.shouldColumnSelect(e) ? this.element.classList.add("column-select") : this.element.classList.remove("column-select");
}, t.prototype.showCursor = function() {
this.cursorState || (this.cursorState = 1, this.refresh(this.buffer.y, this.buffer.y));
}, t.prototype.scroll = function(e) {
void 0 === e && (e = !1);
var t;
(t = this._blankLine) && t.length === this.cols && t.get(0)[s.CHAR_DATA_ATTR_INDEX] === this.eraseAttr() || (t = this.buffer.getBlankLine(this.eraseAttr(), e), this._blankLine = t), t.isWrapped = e;
var n = this.buffer.ybase + this.buffer.scrollTop, i = this.buffer.ybase + this.buffer.scrollBottom;
if (0 === this.buffer.scrollTop) {
var r = this.buffer.lines.isFull;
i === this.buffer.lines.length - 1 ? r ? this.buffer.lines.recycle().copyFrom(t) : this.buffer.lines.push(t.clone()) : this.buffer.lines.splice(i + 1, 0, t.clone()), r ? this._userScrolling && (this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0)) : (this.buffer.ybase++, this._userScrolling || this.buffer.ydisp++);
} else {
var o = i - n + 1;
this.buffer.lines.shiftElements(n + 1, o - 1, -1), this.buffer.lines.set(i, t.clone());
}
this._userScrolling || (this.buffer.ydisp = this.buffer.ybase), this.updateRange(this.buffer.scrollTop), this.updateRange(this.buffer.scrollBottom), this.emit("scroll", this.buffer.ydisp);
}, t.prototype.scrollLines = function(e, t) {
if (e < 0) {
if (0 === this.buffer.ydisp) return;
this._userScrolling = !0;
} else e + this.buffer.ydisp >= this.buffer.ybase && (this._userScrolling = !1);
var n = this.buffer.ydisp;
this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + e, this.buffer.ybase), 0), n !== this.buffer.ydisp && (t || this.emit("scroll", this.buffer.ydisp), this.refresh(0, this.rows - 1));
}, t.prototype.scrollPages = function(e) {
this.scrollLines(e * (this.rows - 1));
}, t.prototype.scrollToTop = function() {
this.scrollLines(-this.buffer.ydisp);
}, t.prototype.scrollToBottom = function() {
this.scrollLines(this.buffer.ybase - this.buffer.ydisp);
}, t.prototype.scrollToLine = function(e) {
var t = e - this.buffer.ydisp;
0 !== t && this.scrollLines(t);
}, t.prototype.write = function(e) {
var t = this;
this._isDisposed || e && (this.writeBuffer.push(e), this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= 5 && (this.handler(h.C0.DC3), this._xoffSentToCatchUp = !0), !this._writeInProgress && this.writeBuffer.length > 0 && (this._writeInProgress = !0, setTimeout(function() {
t._innerWrite();
})));
}, t.prototype._innerWrite = function(e) {
var t = this;
void 0 === e && (e = 0), this._isDisposed && (this.writeBuffer = []);
for (var n = Date.now(); this.writeBuffer.length > e; ) {
var i = this.writeBuffer[e];
if (e++, this._xoffSentToCatchUp && this.writeBuffer.length === e && (this.handler(h.C0.DC1), this._xoffSentToCatchUp = !1), this._refreshStart = this.buffer.y, this._refreshEnd = this.buffer.y, this._inputHandler.parse(i), this.updateRange(this.buffer.y), this.refresh(this._refreshStart, this._refreshEnd), Date.now() - n >= 12) break;
}
this.writeBuffer.length > e ? setTimeout(function() {
return t._innerWrite(e);
}, 0) : (this._writeInProgress = !1, this.writeBuffer = []);
}, t.prototype.writeln = function(e) {
this.write(e + "\r\n");
}, t.prototype.attachCustomKeyEventHandler = function(e) {
this._customKeyEventHandler = e;
}, t.prototype.addCsiHandler = function(e, t) {
return this._inputHandler.addCsiHandler(e, t);
}, t.prototype.addOscHandler = function(e, t) {
return this._inputHandler.addOscHandler(e, t);
}, t.prototype.registerLinkMatcher = function(e, t, n) {
var i = this.linkifier.registerLinkMatcher(e, t, n);
return this.refresh(0, this.rows - 1), i;
}, t.prototype.deregisterLinkMatcher = function(e) {
this.linkifier.deregisterLinkMatcher(e) && this.refresh(0, this.rows - 1);
}, t.prototype.registerCharacterJoiner = function(e) {
var t = this.renderer.registerCharacterJoiner(e);
return this.refresh(0, this.rows - 1), t;
}, t.prototype.deregisterCharacterJoiner = function(e) {
this.renderer.deregisterCharacterJoiner(e) && this.refresh(0, this.rows - 1);
}, Object.defineProperty(t.prototype, "markers", {
get: function() {
return this.buffer.markers;
},
enumerable: !0,
configurable: !0
}), t.prototype.addMarker = function(e) {
if (this.buffer === this.buffers.normal) return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + e);
}, t.prototype.hasSelection = function() {
return !!this.selectionManager && this.selectionManager.hasSelection;
}, t.prototype.getSelection = function() {
return this.selectionManager ? this.selectionManager.selectionText : "";
}, t.prototype.clearSelection = function() {
this.selectionManager && this.selectionManager.clearSelection();
}, t.prototype.selectAll = function() {
this.selectionManager && this.selectionManager.selectAll();
}, t.prototype.selectLines = function(e, t) {
this.selectionManager && this.selectionManager.selectLines(e, t);
}, t.prototype._keyDown = function(e) {
if (this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;
if (!this._compositionHelper.keydown(e)) return this.buffer.ybase !== this.buffer.ydisp && this.scrollToBottom(), !1;
var t = D.evaluateKeyboardEvent(e, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);
if (this.updateCursorStyle(e), 3 === t.type || 2 === t.type) {
var n = this.rows - 1;
return this.scrollLines(2 === t.type ? -n : n), this.cancel(e, !0);
}
return 1 === t.type && this.selectAll(), !!this._isThirdLevelShift(this.browser, e) || (t.cancel && this.cancel(e, !0), !t.key || (this.emit("keydown", e), this.emit("key", t.key, e), this.showCursor(), this.handler(t.key), this.cancel(e, !0)));
}, t.prototype._isThirdLevelShift = function(e, t) {
var n = e.isMac && !this.options.macOptionIsMeta && t.altKey && !t.ctrlKey && !t.metaKey || e.isMSWindows && t.altKey && t.ctrlKey && !t.metaKey;
return "keypress" === t.type ? n : n && (!t.keyCode || t.keyCode > 47);
}, t.prototype.setgLevel = function(e) {
this.glevel = e, this.charset = this.charsets[e];
}, t.prototype.setgCharset = function(e, t) {
this.charsets[e] = t, this.glevel === e && (this.charset = t);
}, t.prototype._keyUp = function(e) {
this.updateCursorStyle(e);
}, t.prototype._keyPress = function(e) {
var t;
if (this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;
if (this.cancel(e), e.charCode) t = e.charCode; else if (null === e.which || void 0 === e.which) t = e.keyCode; else {
if (0 === e.which || 0 === e.charCode) return !1;
t = e.which;
}
return !(!t || (e.altKey || e.ctrlKey || e.metaKey) && !this._isThirdLevelShift(this.browser, e)) && (t = String.fromCharCode(t), this.emit("keypress", t, e), this.emit("key", t, e), this.showCursor(), this.handler(t), !0);
}, t.prototype.bell = function() {
var e = this;
this.emit("bell"), this._soundBell() && this.soundManager.playBellSound(), this._visualBell() && (this.element.classList.add("visual-bell-active"), clearTimeout(this._visualBellTimer), this._visualBellTimer = window.setTimeout(function() {
e.element.classList.remove("visual-bell-active");
}, 200));
}, t.prototype.log = function(e, t) {
this.options.debug && this._context.console && this._context.console.log && this._context.console.log(e, t);
}, t.prototype.error = function(e, t) {
this.options.debug && this._context.console && this._context.console.error && this._context.console.error(e, t);
}, t.prototype.resize = function(e, t) {
isNaN(e) || isNaN(t) || (e !== this.cols || t !== this.rows ? (e < 2 && (e = 2), t < 1 && (t = 1), this.buffers.resize(e, t), this.cols = e, this.rows = t, this.buffers.setupTabStops(this.cols), this.charMeasure && this.charMeasure.measure(this.options), this.refresh(0, this.rows - 1), this.emit("resize", {
cols: e,
rows: t
})) : !this.charMeasure || this.charMeasure.width && this.charMeasure.height || this.charMeasure.measure(this.options));
}, t.prototype.updateRange = function(e) {
e < this._refreshStart && (this._refreshStart = e), e > this._refreshEnd && (this._refreshEnd = e);
}, t.prototype.maxRange = function() {
this._refreshStart = 0, this._refreshEnd = this.rows - 1;
}, t.prototype.clear = function() {
if (0 !== this.buffer.ybase || 0 !== this.buffer.y) {
this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y)), this.buffer.lines.length = 1, this.buffer.ydisp = 0, this.buffer.ybase = 0, this.buffer.y = 0;
for (var e = 1; e < this.rows; e++) this.buffer.lines.push(this.buffer.getBlankLine(s.DEFAULT_ATTR));
this.refresh(0, this.rows - 1), this.emit("scroll", this.buffer.ydisp);
}
}, t.prototype.ch = function(e) {
return e ? [ this.eraseAttr(), s.NULL_CELL_CHAR, s.NULL_CELL_WIDTH, s.NULL_CELL_CODE ] : [ s.DEFAULT_ATTR, s.NULL_CELL_CHAR, s.NULL_CELL_WIDTH, s.NULL_CELL_CODE ];
}, t.prototype.is = function(e) {
return 0 === (this.options.termName + "").indexOf(e);
}, t.prototype.handler = function(e) {
this.options.disableStdin || (this.selectionManager && this.selectionManager.hasSelection && this.selectionManager.clearSelection(), this.buffer.ybase !== this.buffer.ydisp && this.scrollToBottom(), this.emit("data", e));
}, t.prototype.handleTitle = function(e) {
this.emit("title", e);
}, t.prototype.index = function() {
++this.buffer.y > this.buffer.scrollBottom && (this.buffer.y--, this.scroll()), this.buffer.x >= this.cols && this.buffer.x--;
}, t.prototype.reverseIndex = function() {
if (this.buffer.y === this.buffer.scrollTop) {
var e = this.buffer.scrollBottom - this.buffer.scrollTop;
this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, e, 1), this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttr())), this.updateRange(this.buffer.scrollTop), this.updateRange(this.buffer.scrollBottom);
} else this.buffer.y--;
}, t.prototype.reset = function() {
this.options.rows = this.rows, this.options.cols = this.cols;
var e = this._customKeyEventHandler, t = this._inputHandler, n = this.cursorState;
this._setup(), this._customKeyEventHandler = e, this._inputHandler = t, this.cursorState = n, this.refresh(0, this.rows - 1), this.viewport && this.viewport.syncScrollArea();
}, t.prototype.tabSet = function() {
this.buffer.tabs[this.buffer.x] = !0;
}, t.prototype.cancel = function(e, t) {
if (this.options.cancelEvents || t) return e.preventDefault(), e.stopPropagation(), !1;
}, t.prototype.matchColor = function(e, t, n) {
var i = e << 16 | t << 8 | n;
if (null !== L[i] && void 0 !== L[i]) return L[i];
for (var o, a, s, l, c, u = 1 / 0, d = -1, h = 0; h < x.DEFAULT_ANSI_COLORS.length; h++) {
if (o = x.DEFAULT_ANSI_COLORS[h].rgba, a = o >>> 24, s = o >>> 16 & 255, l = o >>> 8 & 255, 0 === (c = r(e, t, n, a, s, l))) {
d = h;
break;
}
c < u && (u = c, d = h);
}
return L[i] = d;
}, t.prototype._visualBell = function() {
return !1;
}, t.prototype._soundBell = function() {
return "sound" === this.options.bellStyle;
}, t;
}(c.EventEmitter);
n.Terminal = P;
var L = {};
}, {
"./AccessibilityManager": 1,
"./Buffer": 2,
"./BufferSet": 5,
"./CompositionHelper": 7,
"./InputHandler": 9,
"./Linkifier": 10,
"./SelectionManager": 11,
"./SoundManager": 13,
"./Strings": 14,
"./Viewport": 16,
"./common/Clone": 18,
"./common/EventEmitter": 19,
"./common/data/EscapeSequences": 22,
"./core/Platform": 23,
"./core/input/Keyboard": 25,
"./renderer/ColorManager": 31,
"./renderer/Renderer": 35,
"./renderer/atlas/CharAtlasCache": 39,
"./renderer/dom/DomRenderer": 47,
"./ui/CharMeasure": 49,
"./ui/Clipboard": 50,
"./ui/Lifecycle": 51,
"./ui/MouseHelper": 52,
"./ui/MouseZoneManager": 53,
"./ui/ScreenDprMonitor": 55
} ],
16: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./common/Lifecycle"), o = e("./ui/Lifecycle"), a = 15, s = function(e) {
function t(t, n, i, r) {
var s = e.call(this) || this;
return s._terminal = t, s._viewportElement = n, s._scrollArea = i, s._charMeasure = r, s.scrollBarWidth = 0, s._currentRowHeight = 0, s._lastRecordedBufferLength = 0, s._lastRecordedViewportHeight = 0, s._lastRecordedBufferHeight = 0, s._lastScrollTop = 0, s._wheelPartialScroll = 0, s._refreshAnimationFrame = null, s._ignoreNextScrollEvent = !1, s.scrollBarWidth = s._viewportElement.offsetWidth - s._scrollArea.offsetWidth || a, s.register(o.addDisposableDomListener(s._viewportElement, "scroll", s._onScroll.bind(s))), setTimeout(function() {
return s.syncScrollArea();
}, 0), s;
}
return i(t, e), t.prototype.onThemeChanged = function(e) {
this._viewportElement.style.backgroundColor = e.background.css;
}, t.prototype._refresh = function() {
var e = this;
null === this._refreshAnimationFrame && (this._refreshAnimationFrame = requestAnimationFrame(function() {
return e._innerRefresh();
}));
}, t.prototype._innerRefresh = function() {
if (this._charMeasure.height > 0) {
this._currentRowHeight = this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio, this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;
var e = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._terminal.renderer.dimensions.canvasHeight);
this._lastRecordedBufferHeight !== e && (this._lastRecordedBufferHeight = e, this._scrollArea.style.height = this._lastRecordedBufferHeight + "px");
}
var t = this._terminal.buffer.ydisp * this._currentRowHeight;
this._viewportElement.scrollTop !== t && (this._ignoreNextScrollEvent = !0, this._viewportElement.scrollTop = t), this._refreshAnimationFrame = null;
}, t.prototype.syncScrollArea = function() {
if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) return this._lastRecordedBufferLength = this._terminal.buffer.lines.length, void this._refresh();
if (this._lastRecordedViewportHeight === this._terminal.renderer.dimensions.canvasHeight) {
var e = this._terminal.buffer.ydisp * this._currentRowHeight;
this._lastScrollTop === e && this._lastScrollTop === this._viewportElement.scrollTop ? this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio === this._currentRowHeight || this._refresh() : this._refresh();
} else this._refresh();
}, t.prototype._onScroll = function(e) {
if (this._lastScrollTop = this._viewportElement.scrollTop, this._viewportElement.offsetParent) if (this._ignoreNextScrollEvent) this._ignoreNextScrollEvent = !1; else {
var t = Math.round(this._lastScrollTop / this._currentRowHeight) - this._terminal.buffer.ydisp;
this._terminal.scrollLines(t, !0);
}
}, t.prototype.onWheel = function(e) {
var t = this._getPixelsScrolled(e);
0 !== t && (this._viewportElement.scrollTop += t, e.preventDefault());
}, t.prototype._getPixelsScrolled = function(e) {
if (0 === e.deltaY) return 0;
var t = e.deltaY;
return e.deltaMode === WheelEvent.DOM_DELTA_LINE ? t *= this._currentRowHeight : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._currentRowHeight * this._terminal.rows), t;
}, t.prototype.getLinesScrolled = function(e) {
if (0 === e.deltaY) return 0;
var t = e.deltaY;
return e.deltaMode === WheelEvent.DOM_DELTA_PIXEL ? (t /= this._currentRowHeight + 0, this._wheelPartialScroll += t, t = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1), this._wheelPartialScroll %= 1) : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._terminal.rows), t;
}, t.prototype.onTouchStart = function(e) {
this._lastTouchY = e.touches[0].pageY;
}, t.prototype.onTouchMove = function(e) {
var t = this._lastTouchY - e.touches[0].pageY;
this._lastTouchY = e.touches[0].pageY, 0 !== t && (this._viewportElement.scrollTop += t, e.preventDefault());
}, t;
}(r.Disposable);
n.Viewport = s;
}, {
"./common/Lifecycle": 20,
"./ui/Lifecycle": 51
} ],
17: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t(t) {
var n = e.call(this) || this;
return n._maxLength = t, n._array = new Array(n._maxLength), n._startIndex = 0, n._length = 0, n;
}
return i(t, e), Object.defineProperty(t.prototype, "maxLength", {
get: function() {
return this._maxLength;
},
set: function(e) {
if (this._maxLength !== e) {
for (var t = new Array(e), n = 0; n < Math.min(e, this.length); n++) t[n] = this._array[this._getCyclicIndex(n)];
this._array = t, this._maxLength = e, this._startIndex = 0;
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "length", {
get: function() {
return this._length;
},
set: function(e) {
if (e > this._length) for (var t = this._length; t < e; t++) this._array[t] = void 0;
this._length = e;
},
enumerable: !0,
configurable: !0
}), t.prototype.get = function(e) {
return this._array[this._getCyclicIndex(e)];
}, t.prototype.set = function(e, t) {
this._array[this._getCyclicIndex(e)] = t;
}, t.prototype.push = function(e) {
this._array[this._getCyclicIndex(this._length)] = e, this._length === this._maxLength ? (this._startIndex = ++this._startIndex % this._maxLength, this.emitMayRemoveListeners("trim", 1)) : this._length++;
}, t.prototype.recycle = function() {
if (this._length !== this._maxLength) throw new Error("Can only recycle when the buffer is full");
return this._startIndex = ++this._startIndex % this._maxLength, this.emitMayRemoveListeners("trim", 1), this._array[this._getCyclicIndex(this._length - 1)];
}, Object.defineProperty(t.prototype, "isFull", {
get: function() {
return this._length === this._maxLength;
},
enumerable: !0,
configurable: !0
}), t.prototype.pop = function() {
return this._array[this._getCyclicIndex(this._length-- - 1)];
}, t.prototype.splice = function(e, t) {
for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
if (t) {
for (r = e; r < this._length - t; r++) this._array[this._getCyclicIndex(r)] = this._array[this._getCyclicIndex(r + t)];
this._length -= t;
}
for (r = this._length - 1; r >= e; r--) this._array[this._getCyclicIndex(r + n.length)] = this._array[this._getCyclicIndex(r)];
for (var r = 0; r < n.length; r++) this._array[this._getCyclicIndex(e + r)] = n[r];
if (this._length + n.length > this._maxLength) {
var o = this._length + n.length - this._maxLength;
this._startIndex += o, this._length = this._maxLength, this.emitMayRemoveListeners("trim", o);
} else this._length += n.length;
}, t.prototype.trimStart = function(e) {
e > this._length && (e = this._length), this._startIndex += e, this._length -= e, this.emitMayRemoveListeners("trim", e);
}, t.prototype.shiftElements = function(e, t, n) {
if (!(t <= 0)) {
if (e < 0 || e >= this._length) throw new Error("start argument out of range");
if (e + n < 0) throw new Error("Cannot shift elements in list beyond index 0");
if (n > 0) {
for (r = t - 1; r >= 0; r--) this.set(e + r + n, this.get(e + r));
var i = e + t + n - this._length;
if (i > 0) for (this._length += i; this._length > this._maxLength; ) this._length--, this._startIndex++, this.emitMayRemoveListeners("trim", 1);
} else for (var r = 0; r < t; r++) this.set(e + r + n, this.get(e + r));
}
}, t.prototype._getCyclicIndex = function(e) {
return (this._startIndex + e) % this._maxLength;
}, t;
}(e("./EventEmitter").EventEmitter);
n.CircularList = r;
}, {
"./EventEmitter": 19
} ],
18: [ function(e, t, n) {
"use strict";
function i(e, t) {
if (void 0 === t && (t = 5), "object" != typeof e) return e;
if (null === e) return null;
var n = Array.isArray(e) ? [] : {};
for (var r in e) n[r] = t <= 1 ? e[r] : i(e[r], t - 1);
return n;
}
Object.defineProperty(n, "__esModule", {
value: !0
}), n.clone = i;
}, {} ],
19: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t() {
var t = e.call(this) || this;
return t._events = t._events || {}, t;
}
return i(t, e), t.prototype.on = function(e, t) {
this._events[e] = this._events[e] || [], this._events[e].push(t);
}, t.prototype.addDisposableListener = function(e, t) {
var n = this;
this.on(e, t);
var i = !1;
return {
dispose: function() {
i || (n.off(e, t), i = !0);
}
};
}, t.prototype.off = function(e, t) {
if (this._events[e]) for (var n = this._events[e], i = n.length; i--; ) if (n[i] === t) return void n.splice(i, 1);
}, t.prototype.removeAllListeners = function(e) {
this._events[e] && delete this._events[e];
}, t.prototype.emit = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
if (this._events[e]) for (var i = this._events[e], r = 0; r < i.length; r++) i[r].apply(this, t);
}, t.prototype.emitMayRemoveListeners = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
if (this._events[e]) for (var i = this._events[e], r = i.length, o = 0; o < i.length; o++) i[o].apply(this, t), o -= r - i.length, r = i.length;
}, t.prototype.listeners = function(e) {
return this._events[e] || [];
}, t.prototype.dispose = function() {
e.prototype.dispose.call(this), this._events = {};
}, t;
}(e("./Lifecycle").Disposable);
n.EventEmitter = r;
}, {
"./Lifecycle": 20
} ],
20: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._disposables = [], this._isDisposed = !1;
}
return e.prototype.dispose = function() {
this._isDisposed = !0, this._disposables.forEach(function(e) {
return e.dispose();
}), this._disposables.length = 0;
}, e.prototype.register = function(e) {
this._disposables.push(e);
}, e.prototype.unregister = function(e) {
var t = this._disposables.indexOf(e);
-1 !== t && this._disposables.splice(t, 1);
}, e;
}();
n.Disposable = i;
}, {} ],
21: [ function(e, t, n) {
"use strict";
function i(e, t, n, i) {
if (void 0 === n && (n = 0), void 0 === i && (i = e.length), n >= e.length) return e;
n = (e.length + n) % e.length, i = i >= e.length ? e.length : (e.length + i) % e.length;
for (var r = n; r < i; ++r) e[r] = t;
return e;
}
Object.defineProperty(n, "__esModule", {
value: !0
}), n.fill = function(e, t, n, r) {
return e.fill ? e.fill(t, n, r) : i(e, t, n, r);
}, n.fillFallback = i, n.concat = function(e, t) {
var n = new e.constructor(e.length + t.length);
return n.set(e), n.set(t, e.length), n;
};
}, {} ],
22: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
!function(e) {
e.NUL = "\0", e.SOH = "", e.STX = "", e.ETX = "", e.EOT = "", e.ENQ = "", e.ACK = "", e.BEL = "", e.BS = "\b", e.HT = "\t", e.LF = "\n", e.VT = "\v", e.FF = "\f", e.CR = "\r", e.SO = "", e.SI = "", e.DLE = "", e.DC1 = "", e.DC2 = "", e.DC3 = "", e.DC4 = "", e.NAK = "", e.SYN = "", e.ETB = "", e.CAN = "", e.EM = "", e.SUB = "", e.ESC = "", e.FS = "", e.GS = "", e.RS = "", e.US = "", e.SP = " ", e.DEL = "";
}(n.C0 || (n.C0 = {}));
!function(e) {
e.PAD = "", e.HOP = "", e.BPH = "", e.NBH = "", e.IND = "", e.NEL = "", e.SSA = "", e.ESA = "", e.HTS = "", e.HTJ = "", e.VTS = "", e.PLD = "", e.PLU = "", e.RI = "", e.SS2 = "", e.SS3 = "", e.DCS = "", e.PU1 = "", e.PU2 = "", e.STS = "", e.CCH = "", e.MW = "", e.SPA = "", e.EPA = "", e.SOS = "", e.SGCI = "", e.SCI = "", e.CSI = "", e.ST = "", e.OSC = "", e.PM = "", e.APC = "";
}(n.C1 || (n.C1 = {}));
}, {} ],
23: [ function(e, t, n) {
"use strict";
function i(e, t) {
return e.indexOf(t) >= 0;
}
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = "undefined" == typeof navigator, o = r ? "node" : navigator.userAgent, a = r ? "node" : navigator.platform;
n.isFirefox = !!~o.indexOf("Firefox"), n.isSafari = /^((?!chrome|android).)*safari/i.test(o), n.isMSIE = !!~o.indexOf("MSIE") || !!~o.indexOf("Trident"), n.isMac = i([ "Macintosh", "MacIntel", "MacPPC", "Mac68K" ], a), n.isIpad = "iPad" === a, n.isIphone = "iPhone" === a, n.isMSWindows = i([ "Windows", "Win16", "Win32", "WinCE" ], a), n.isLinux = a.indexOf("Linux") >= 0;
}, {} ],
24: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
}), n.CHARSETS = {}, n.DEFAULT_CHARSET = n.CHARSETS.B, n.CHARSETS[0] = {
"`": "◆",
a: "▒",
b: "\t",
c: "\f",
d: "\r",
e: "\n",
f: "°",
g: "±",
h: "␤",
i: "\v",
j: "┘",
k: "┐",
l: "┌",
m: "└",
n: "┼",
o: "⎺",
p: "⎻",
q: "─",
r: "⎼",
s: "⎽",
t: "├",
u: "┤",
v: "┴",
w: "┬",
x: "│",
y: "≤",
z: "≥",
"{": "π",
"|": "≠",
"}": "£",
"~": "·"
}, n.CHARSETS.A = {
"#": "£"
}, n.CHARSETS.B = null, n.CHARSETS[4] = {
"#": "£",
"@": "¾",
"[": "ij",
"\\": "½",
"]": "|",
"{": "¨",
"|": "f",
"}": "¼",
"~": "´"
}, n.CHARSETS.C = n.CHARSETS[5] = {
"[": "Ä",
"\\": "Ö",
"]": "Å",
"^": "Ü",
"`": "é",
"{": "ä",
"|": "ö",
"}": "å",
"~": "ü"
}, n.CHARSETS.R = {
"#": "£",
"@": "à",
"[": "°",
"\\": "ç",
"]": "§",
"{": "é",
"|": "ù",
"}": "è",
"~": "¨"
}, n.CHARSETS.Q = {
"@": "à",
"[": "â",
"\\": "ç",
"]": "ê",
"^": "î",
"`": "ô",
"{": "é",
"|": "ù",
"}": "è",
"~": "û"
}, n.CHARSETS.K = {
"@": "§",
"[": "Ä",
"\\": "Ö",
"]": "Ü",
"{": "ä",
"|": "ö",
"}": "ü",
"~": "ß"
}, n.CHARSETS.Y = {
"#": "£",
"@": "§",
"[": "°",
"\\": "ç",
"]": "é",
"`": "ù",
"{": "à",
"|": "ò",
"}": "è",
"~": "ì"
}, n.CHARSETS.E = n.CHARSETS[6] = {
"@": "Ä",
"[": "Æ",
"\\": "Ø",
"]": "Å",
"^": "Ü",
"`": "ä",
"{": "æ",
"|": "ø",
"}": "å",
"~": "ü"
}, n.CHARSETS.Z = {
"#": "£",
"@": "§",
"[": "¡",
"\\": "Ñ",
"]": "¿",
"{": "°",
"|": "ñ",
"}": "ç"
}, n.CHARSETS.H = n.CHARSETS[7] = {
"@": "É",
"[": "Ä",
"\\": "Ö",
"]": "Å",
"^": "Ü",
"`": "é",
"{": "ä",
"|": "ö",
"}": "å",
"~": "ü"
}, n.CHARSETS["="] = {
"#": "ù",
"@": "à",
"[": "é",
"\\": "ç",
"]": "ê",
"^": "î",
_: "è",
"`": "ô",
"{": "ä",
"|": "ö",
"}": "ü",
"~": "û"
};
}, {} ],
25: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("../../common/data/EscapeSequences"), r = {
48: [ "0", ")" ],
49: [ "1", "!" ],
50: [ "2", "@" ],
51: [ "3", "#" ],
52: [ "4", "$" ],
53: [ "5", "%" ],
54: [ "6", "^" ],
55: [ "7", "&" ],
56: [ "8", "*" ],
57: [ "9", "(" ],
186: [ ";", ":" ],
187: [ "=", "+" ],
188: [ ",", "<" ],
189: [ "-", "_" ],
190: [ ".", ">" ],
191: [ "/", "?" ],
192: [ "`", "~" ],
219: [ "[", "{" ],
220: [ "\\", "|" ],
221: [ "]", "}" ],
222: [ "'", '"' ]
};
n.evaluateKeyboardEvent = function(e, t, n, o) {
var a = {
type: 0,
cancel: !1,
key: void 0
}, s = (e.shiftKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.ctrlKey ? 4 : 0) | (e.metaKey ? 8 : 0);
switch (e.keyCode) {
case 0:
"UIKeyInputUpArrow" === e.key ? a.key = t ? i.C0.ESC + "OA" : i.C0.ESC + "[A" : "UIKeyInputLeftArrow" === e.key ? a.key = t ? i.C0.ESC + "OD" : i.C0.ESC + "[D" : "UIKeyInputRightArrow" === e.key ? a.key = t ? i.C0.ESC + "OC" : i.C0.ESC + "[C" : "UIKeyInputDownArrow" === e.key && (a.key = t ? i.C0.ESC + "OB" : i.C0.ESC + "[B");
break;

case 8:
if (e.shiftKey) {
a.key = i.C0.BS;
break;
}
if (e.altKey) {
a.key = i.C0.ESC + i.C0.DEL;
break;
}
a.key = i.C0.DEL;
break;

case 9:
if (e.shiftKey) {
a.key = i.C0.ESC + "[Z";
break;
}
a.key = i.C0.HT, a.cancel = !0;
break;

case 13:
a.key = i.C0.CR, a.cancel = !0;
break;

case 27:
a.key = i.C0.ESC, a.cancel = !0;
break;

case 37:
s ? (a.key = i.C0.ESC + "[1;" + (s + 1) + "D", a.key === i.C0.ESC + "[1;3D" && (a.key = n ? i.C0.ESC + "b" : i.C0.ESC + "[1;5D")) : a.key = t ? i.C0.ESC + "OD" : i.C0.ESC + "[D";
break;

case 39:
s ? (a.key = i.C0.ESC + "[1;" + (s + 1) + "C", a.key === i.C0.ESC + "[1;3C" && (a.key = n ? i.C0.ESC + "f" : i.C0.ESC + "[1;5C")) : a.key = t ? i.C0.ESC + "OC" : i.C0.ESC + "[C";
break;

case 38:
s ? (a.key = i.C0.ESC + "[1;" + (s + 1) + "A", a.key === i.C0.ESC + "[1;3A" && (a.key = i.C0.ESC + "[1;5A")) : a.key = t ? i.C0.ESC + "OA" : i.C0.ESC + "[A";
break;

case 40:
s ? (a.key = i.C0.ESC + "[1;" + (s + 1) + "B", a.key === i.C0.ESC + "[1;3B" && (a.key = i.C0.ESC + "[1;5B")) : a.key = t ? i.C0.ESC + "OB" : i.C0.ESC + "[B";
break;

case 45:
e.shiftKey || e.ctrlKey || (a.key = i.C0.ESC + "[2~");
break;

case 46:
a.key = s ? i.C0.ESC + "[3;" + (s + 1) + "~" : i.C0.ESC + "[3~";
break;

case 36:
a.key = s ? i.C0.ESC + "[1;" + (s + 1) + "H" : t ? i.C0.ESC + "OH" : i.C0.ESC + "[H";
break;

case 35:
a.key = s ? i.C0.ESC + "[1;" + (s + 1) + "F" : t ? i.C0.ESC + "OF" : i.C0.ESC + "[F";
break;

case 33:
e.shiftKey ? a.type = 2 : a.key = i.C0.ESC + "[5~";
break;

case 34:
e.shiftKey ? a.type = 3 : a.key = i.C0.ESC + "[6~";
break;

case 112:
a.key = s ? i.C0.ESC + "[1;" + (s + 1) + "P" : i.C0.ESC + "OP";
break;

case 113:
a.key = s ? i.C0.ESC + "[1;" + (s + 1) + "Q" : i.C0.ESC + "OQ";
break;

case 114:
a.key = s ? i.C0.ESC + "[1;" + (s + 1) + "R" : i.C0.ESC + "OR";
break;

case 115:
a.key = s ? i.C0.ESC + "[1;" + (s + 1) + "S" : i.C0.ESC + "OS";
break;

case 116:
a.key = s ? i.C0.ESC + "[15;" + (s + 1) + "~" : i.C0.ESC + "[15~";
break;

case 117:
a.key = s ? i.C0.ESC + "[17;" + (s + 1) + "~" : i.C0.ESC + "[17~";
break;

case 118:
a.key = s ? i.C0.ESC + "[18;" + (s + 1) + "~" : i.C0.ESC + "[18~";
break;

case 119:
a.key = s ? i.C0.ESC + "[19;" + (s + 1) + "~" : i.C0.ESC + "[19~";
break;

case 120:
a.key = s ? i.C0.ESC + "[20;" + (s + 1) + "~" : i.C0.ESC + "[20~";
break;

case 121:
a.key = s ? i.C0.ESC + "[21;" + (s + 1) + "~" : i.C0.ESC + "[21~";
break;

case 122:
a.key = s ? i.C0.ESC + "[23;" + (s + 1) + "~" : i.C0.ESC + "[23~";
break;

case 123:
a.key = s ? i.C0.ESC + "[24;" + (s + 1) + "~" : i.C0.ESC + "[24~";
break;

default:
if (!e.ctrlKey || e.shiftKey || e.altKey || e.metaKey) if (n && !o || !e.altKey || e.metaKey) n && !e.altKey && !e.ctrlKey && e.metaKey ? 65 === e.keyCode && (a.type = 1) : e.key && !e.ctrlKey && !e.altKey && !e.metaKey && e.keyCode >= 48 && 1 === e.key.length && (a.key = e.key); else {
var l = r[e.keyCode], c = l && l[e.shiftKey ? 1 : 0];
if (c) a.key = i.C0.ESC + c; else if (e.keyCode >= 65 && e.keyCode <= 90) {
var u = e.ctrlKey ? e.keyCode - 64 : e.keyCode + 32;
a.key = i.C0.ESC + String.fromCharCode(u);
}
} else e.keyCode >= 65 && e.keyCode <= 90 ? a.key = String.fromCharCode(e.keyCode - 64) : 32 === e.keyCode ? a.key = String.fromCharCode(0) : e.keyCode >= 51 && e.keyCode <= 55 ? a.key = String.fromCharCode(e.keyCode - 51 + 27) : 56 === e.keyCode ? a.key = String.fromCharCode(127) : 219 === e.keyCode ? a.key = String.fromCharCode(27) : 220 === e.keyCode ? a.key = String.fromCharCode(28) : 221 === e.keyCode && (a.key = String.fromCharCode(29));
}
return a;
};
}, {
"../../common/data/EscapeSequences": 22
} ],
26: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._interim = 0;
}
return e.prototype.clear = function() {
this._interim = 0;
}, e.prototype.decode = function(e, t) {
var n = e.length;
if (!n) return 0;
var i = 0, r = 0;
this._interim && (56320 <= (s = e.charCodeAt(r++)) && s <= 57343 ? t[i++] = 1024 * (this._interim - 55296) + s - 56320 + 65536 : (t[i++] = this._interim, t[i++] = s), this._interim = 0);
for (var o = r; o < n; ++o) {
var a = e.charCodeAt(o);
if (55296 <= a && a <= 56319) {
if (++o >= n) return this._interim = a, i;
var s = e.charCodeAt(o);
56320 <= s && s <= 57343 ? t[i++] = 1024 * (a - 55296) + s - 56320 + 65536 : (t[i++] = a, t[i++] = s);
} else t[i++] = a;
}
return i;
}, e;
}();
n.StringToUtf32 = i, n.stringFromCodePoint = function(e) {
return e > 65535 ? (e -= 65536, String.fromCharCode(55296 + (e >> 10)) + String.fromCharCode(e % 1024 + 56320)) : String.fromCharCode(e);
}, n.utf32ToString = function(e, t, n) {
void 0 === t && (t = 0), void 0 === n && (n = e.length);
for (var i = "", r = t; r < n; ++r) {
var o = e[r];
o > 65535 ? (o -= 65536, i += String.fromCharCode(55296 + (o >> 10)) + String.fromCharCode(o % 1024 + 56320)) : i += String.fromCharCode(o);
}
return i;
};
}, {} ],
27: [ function(e, t, n) {
"use strict";
function i(e, t) {
e = Math.floor(e);
for (var n = "", i = 0; i < e; i++) n += t;
return n;
}
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("../common/data/EscapeSequences"), o = function() {
function e(e, t) {
var n;
this._mouseEvent = e, this._terminal = t, this._lines = this._terminal.buffer.lines, this._startCol = this._terminal.buffer.x, this._startRow = this._terminal.buffer.y;
var i = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, !1);
i && (n = i.map(function(e) {
return e - 1;
}), this._endCol = n[0], this._endRow = n[1]);
}
return e.prototype.move = function() {
this._mouseEvent.altKey && void 0 !== this._endCol && void 0 !== this._endRow && this._terminal.handler(this._arrowSequences());
}, e.prototype._arrowSequences = function() {
return this._terminal.buffer.hasScrollback ? this._moveHorizontallyOnly() : this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();
}, e.prototype._resetStartingRow = function() {
return 0 === this._moveToRequestedRow().length ? "" : i(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), !1).length, this._sequence("D"));
}, e.prototype._moveToRequestedRow = function() {
var e = this._startRow - this._wrappedRowsForRow(this._startRow), t = this._endRow - this._wrappedRowsForRow(this._endRow);
return i(Math.abs(e - t) - this._wrappedRowsCount(), this._sequence(this._verticalDirection()));
}, e.prototype._moveToRequestedCol = function() {
var e;
e = this._moveToRequestedRow().length > 0 ? this._endRow - this._wrappedRowsForRow(this._endRow) : this._startRow;
var t = this._endRow, n = this._horizontalDirection();
return i(this._bufferLine(this._startCol, e, this._endCol, t, "C" === n).length, this._sequence(n));
}, e.prototype._moveHorizontallyOnly = function() {
var e = this._horizontalDirection();
return i(Math.abs(this._startCol - this._endCol), this._sequence(e));
}, e.prototype._wrappedRowsCount = function() {
for (var e = 0, t = this._startRow - this._wrappedRowsForRow(this._startRow), n = this._endRow - this._wrappedRowsForRow(this._endRow), i = 0; i < Math.abs(t - n); i++) {
var r = "A" === this._verticalDirection() ? -1 : 1;
this._lines.get(t + r * i).isWrapped && e++;
}
return e;
}, e.prototype._wrappedRowsForRow = function(e) {
for (var t = 0, n = this._lines.get(e).isWrapped; n && e >= 0 && e < this._terminal.rows; ) t++, e--, n = this._lines.get(e).isWrapped;
return t;
}, e.prototype._horizontalDirection = function() {
var e;
return e = this._moveToRequestedRow().length > 0 ? this._endRow - this._wrappedRowsForRow(this._endRow) : this._startRow, this._startCol < this._endCol && e <= this._endRow || this._startCol >= this._endCol && e < this._endRow ? "C" : "D";
}, e.prototype._verticalDirection = function() {
return this._startRow > this._endRow ? "A" : "B";
}, e.prototype._bufferLine = function(e, t, n, i, r) {
for (var o = e, a = t, s = ""; o !== n || a !== i; ) o += r ? 1 : -1, r && o > this._terminal.cols - 1 ? (s += this._terminal.buffer.translateBufferLineToString(a, !1, e, o), o = 0, e = 0, a++) : !r && o < 0 && (s += this._terminal.buffer.translateBufferLineToString(a, !1, 0, e + 1), e = o = this._terminal.cols - 1, a--);
return s + this._terminal.buffer.translateBufferLineToString(a, !1, e, o);
}, e.prototype._sequence = function(e) {
var t = this._terminal.applicationCursor ? "O" : "[";
return r.C0.ESC + t + e;
}, e;
}();
n.AltClickHandler = o;
}, {
"../common/data/EscapeSequences": 22
} ],
28: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("../Terminal"), r = e("../Strings"), o = function() {
function e(e) {
this._core = new i.Terminal(e);
}
return Object.defineProperty(e.prototype, "element", {
get: function() {
return this._core.element;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "textarea", {
get: function() {
return this._core.textarea;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "rows", {
get: function() {
return this._core.rows;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "cols", {
get: function() {
return this._core.cols;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "markers", {
get: function() {
return this._core.markers;
},
enumerable: !0,
configurable: !0
}), e.prototype.blur = function() {
this._core.blur();
}, e.prototype.focus = function() {
this._core.focus();
}, e.prototype.on = function(e, t) {
this._core.on(e, t);
}, e.prototype.off = function(e, t) {
this._core.off(e, t);
}, e.prototype.emit = function(e, t) {
this._core.emit(e, t);
}, e.prototype.addDisposableListener = function(e, t) {
return this._core.addDisposableListener(e, t);
}, e.prototype.resize = function(e, t) {
this._core.resize(e, t);
}, e.prototype.writeln = function(e) {
this._core.writeln(e);
}, e.prototype.open = function(e) {
this._core.open(e);
}, e.prototype.attachCustomKeyEventHandler = function(e) {
this._core.attachCustomKeyEventHandler(e);
}, e.prototype.addCsiHandler = function(e, t) {
return this._core.addCsiHandler(e, t);
}, e.prototype.addOscHandler = function(e, t) {
return this._core.addOscHandler(e, t);
}, e.prototype.registerLinkMatcher = function(e, t, n) {
return this._core.registerLinkMatcher(e, t, n);
}, e.prototype.deregisterLinkMatcher = function(e) {
this._core.deregisterLinkMatcher(e);
}, e.prototype.registerCharacterJoiner = function(e) {
return this._core.registerCharacterJoiner(e);
}, e.prototype.deregisterCharacterJoiner = function(e) {
this._core.deregisterCharacterJoiner(e);
}, e.prototype.addMarker = function(e) {
return this._core.addMarker(e);
}, e.prototype.hasSelection = function() {
return this._core.hasSelection();
}, e.prototype.getSelection = function() {
return this._core.getSelection();
}, e.prototype.clearSelection = function() {
this._core.clearSelection();
}, e.prototype.selectAll = function() {
this._core.selectAll();
}, e.prototype.selectLines = function(e, t) {
this._core.selectLines(e, t);
}, e.prototype.dispose = function() {
this._core.dispose();
}, e.prototype.destroy = function() {
this._core.destroy();
}, e.prototype.scrollLines = function(e) {
this._core.scrollLines(e);
}, e.prototype.scrollPages = function(e) {
this._core.scrollPages(e);
}, e.prototype.scrollToTop = function() {
this._core.scrollToTop();
}, e.prototype.scrollToBottom = function() {
this._core.scrollToBottom();
}, e.prototype.scrollToLine = function(e) {
this._core.scrollToLine(e);
}, e.prototype.clear = function() {
this._core.clear();
}, e.prototype.write = function(e) {
this._core.write(e);
}, e.prototype.getOption = function(e) {
return this._core.getOption(e);
}, e.prototype.setOption = function(e, t) {
this._core.setOption(e, t);
}, e.prototype.refresh = function(e, t) {
this._core.refresh(e, t);
}, e.prototype.reset = function() {
this._core.reset();
}, e.applyAddon = function(t) {
t.apply(e);
}, Object.defineProperty(e, "strings", {
get: function() {
return r;
},
enumerable: !0,
configurable: !0
}), e;
}();
n.Terminal = o;
}, {
"../Strings": 14,
"../Terminal": 15
} ],
29: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./atlas/Types"), r = e("./atlas/CharAtlasCache"), o = e("../Buffer"), a = e("./atlas/CharAtlasUtils"), s = function() {
function e(e, t, n, i, r) {
this._container = e, this._alpha = i, this._colors = r, this._scaledCharWidth = 0, this._scaledCharHeight = 0, this._scaledCellWidth = 0, this._scaledCellHeight = 0, this._scaledCharLeft = 0, this._scaledCharTop = 0, this._currentGlyphIdentifier = {
chars: "",
code: 0,
bg: 0,
fg: 0,
bold: !1,
dim: !1,
italic: !1
}, this._canvas = document.createElement("canvas"), this._canvas.classList.add("xterm-" + t + "-layer"), this._canvas.style.zIndex = n.toString(), this._initCanvas(), this._container.appendChild(this._canvas);
}
return e.prototype.dispose = function() {
this._container.removeChild(this._canvas), this._charAtlas && this._charAtlas.dispose();
}, e.prototype._initCanvas = function() {
this._ctx = this._canvas.getContext("2d", {
alpha: this._alpha
}), this._alpha || this.clearAll();
}, e.prototype.onOptionsChanged = function(e) {}, e.prototype.onBlur = function(e) {}, e.prototype.onFocus = function(e) {}, e.prototype.onCursorMove = function(e) {}, e.prototype.onGridChanged = function(e, t, n) {}, e.prototype.onSelectionChanged = function(e, t, n, i) {
void 0 === i && (i = !1);
}, e.prototype.onThemeChanged = function(e, t) {
this._refreshCharAtlas(e, t);
}, e.prototype.setTransparency = function(e, t) {
if (t !== this._alpha) {
var n = this._canvas;
this._alpha = t, this._canvas = this._canvas.cloneNode(), this._initCanvas(), this._container.replaceChild(this._canvas, n), this._refreshCharAtlas(e, this._colors), this.onGridChanged(e, 0, e.rows - 1);
}
}, e.prototype._refreshCharAtlas = function(e, t) {
this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0 || (this._charAtlas = r.acquireCharAtlas(e, t, this._scaledCharWidth, this._scaledCharHeight), this._charAtlas.warmUp());
}, e.prototype.resize = function(e, t) {
this._scaledCellWidth = t.scaledCellWidth, this._scaledCellHeight = t.scaledCellHeight, this._scaledCharWidth = t.scaledCharWidth, this._scaledCharHeight = t.scaledCharHeight, this._scaledCharLeft = t.scaledCharLeft, this._scaledCharTop = t.scaledCharTop, this._canvas.width = t.scaledCanvasWidth, this._canvas.height = t.scaledCanvasHeight, this._canvas.style.width = t.canvasWidth + "px", this._canvas.style.height = t.canvasHeight + "px", this._alpha || this.clearAll(), this._refreshCharAtlas(e, this._colors);
}, e.prototype.fillCells = function(e, t, n, i) {
this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, n * this._scaledCellWidth, i * this._scaledCellHeight);
}, e.prototype.fillBottomLineAtCells = function(e, t, n) {
void 0 === n && (n = 1), this._ctx.fillRect(e * this._scaledCellWidth, (t + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, n * this._scaledCellWidth, window.devicePixelRatio);
}, e.prototype.fillLeftLineAtCell = function(e, t) {
this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);
}, e.prototype.strokeRectAtCell = function(e, t, n, i) {
this._ctx.lineWidth = window.devicePixelRatio, this._ctx.strokeRect(e * this._scaledCellWidth + window.devicePixelRatio / 2, t * this._scaledCellHeight + window.devicePixelRatio / 2, n * this._scaledCellWidth - window.devicePixelRatio, i * this._scaledCellHeight - window.devicePixelRatio);
}, e.prototype.clearAll = function() {
this._alpha ? this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height) : (this._ctx.fillStyle = this._colors.background.css, this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height));
}, e.prototype.clearCells = function(e, t, n, i) {
this._alpha ? this._ctx.clearRect(e * this._scaledCellWidth, t * this._scaledCellHeight, n * this._scaledCellWidth, i * this._scaledCellHeight) : (this._ctx.fillStyle = this._colors.background.css, this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, n * this._scaledCellWidth, i * this._scaledCellHeight));
}, e.prototype.fillCharTrueColor = function(e, t, n, i) {
this._ctx.font = this._getFont(e, !1, !1), this._ctx.textBaseline = "middle", this._clipRow(e, i), this._ctx.fillText(t[o.CHAR_DATA_CHAR_INDEX], n * this._scaledCellWidth + this._scaledCharLeft, i * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);
}, e.prototype.drawChars = function(e, t, n, r, o, a, s, l, c, u, d) {
s += e.options.drawBoldTextInBrightColors && c && s < 8 && s !== i.INVERTED_DEFAULT_COLOR ? 8 : 0, this._currentGlyphIdentifier.chars = t, this._currentGlyphIdentifier.code = n, this._currentGlyphIdentifier.bg = l, this._currentGlyphIdentifier.fg = s, this._currentGlyphIdentifier.bold = c && e.options.enableBold, this._currentGlyphIdentifier.dim = u, this._currentGlyphIdentifier.italic = d, this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, o * this._scaledCellWidth + this._scaledCharLeft, a * this._scaledCellHeight + this._scaledCharTop) || this._drawUncachedChars(e, t, r, s, o, a, c && e.options.enableBold, u, d);
}, e.prototype._drawUncachedChars = function(e, t, n, r, o, s, l, c, u) {
this._ctx.save(), this._ctx.font = this._getFont(e, l, u), this._ctx.textBaseline = "middle", r === i.INVERTED_DEFAULT_COLOR ? this._ctx.fillStyle = this._colors.background.css : a.is256Color(r) ? this._ctx.fillStyle = this._colors.ansi[r].css : this._ctx.fillStyle = this._colors.foreground.css, this._clipRow(e, s), c && (this._ctx.globalAlpha = i.DIM_OPACITY), this._ctx.fillText(t, o * this._scaledCellWidth + this._scaledCharLeft, s * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2), this._ctx.restore();
}, e.prototype._clipRow = function(e, t) {
this._ctx.beginPath(), this._ctx.rect(0, t * this._scaledCellHeight, e.cols * this._scaledCellWidth, this._scaledCellHeight), this._ctx.clip();
}, e.prototype._getFont = function(e, t, n) {
var i = t ? e.options.fontWeightBold : e.options.fontWeight;
return (n ? "italic" : "") + " " + i + " " + e.options.fontSize * window.devicePixelRatio + "px " + e.options.fontFamily;
}, e;
}();
n.BaseRenderLayer = s;
}, {
"../Buffer": 2,
"./atlas/CharAtlasCache": 39,
"./atlas/CharAtlasUtils": 41,
"./atlas/Types": 46
} ],
30: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("../Buffer"), r = function() {
function e(e) {
this._terminal = e, this._characterJoiners = [], this._nextCharacterJoinerId = 0;
}
return e.prototype.registerCharacterJoiner = function(e) {
var t = {
id: this._nextCharacterJoinerId++,
handler: e
};
return this._characterJoiners.push(t), t.id;
}, e.prototype.deregisterCharacterJoiner = function(e) {
for (var t = 0; t < this._characterJoiners.length; t++) if (this._characterJoiners[t].id === e) return this._characterJoiners.splice(t, 1), !0;
return !1;
}, e.prototype.getJoinedCharacters = function(e) {
if (0 === this._characterJoiners.length) return [];
var t = this._terminal.buffer.lines.get(e);
if (0 === t.length) return [];
for (var n = [], r = this._terminal.buffer.translateBufferLineToString(e, !0), o = 0, a = 0, s = 0, l = t.get(0)[i.CHAR_DATA_ATTR_INDEX] >> 9, c = 0; c < this._terminal.cols; c++) {
var u = t.get(c), d = u[i.CHAR_DATA_CHAR_INDEX], h = u[i.CHAR_DATA_WIDTH_INDEX], f = u[i.CHAR_DATA_ATTR_INDEX] >> 9;
if (0 !== h) {
if (f !== l) {
if (c - o > 1) for (var p = this._getJoinedRanges(r, s, a, t, o), g = 0; g < p.length; g++) n.push(p[g]);
o = c, s = a, l = f;
}
a += d.length;
}
}
if (this._terminal.cols - o > 1) for (var p = this._getJoinedRanges(r, s, a, t, o), g = 0; g < p.length; g++) n.push(p[g]);
return n;
}, e.prototype._getJoinedRanges = function(t, n, i, r, o) {
for (var a = t.substring(n, i), s = this._characterJoiners[0].handler(a), l = 1; l < this._characterJoiners.length; l++) for (var c = this._characterJoiners[l].handler(a), u = 0; u < c.length; u++) e._mergeRanges(s, c[u]);
return this._stringRangesToCellRanges(s, r, o), s;
}, e.prototype._stringRangesToCellRanges = function(e, t, n) {
var r = 0, o = !1, a = 0, s = e[r];
if (s) {
for (var l = n; l < this._terminal.cols; l++) {
var c = t.get(l), u = c[i.CHAR_DATA_WIDTH_INDEX], d = c[i.CHAR_DATA_CHAR_INDEX].length;
if (0 !== u) {
if (!o && s[0] <= a && (s[0] = l, o = !0), s[1] <= a) {
if (s[1] = l, !(s = e[++r])) break;
s[0] <= a ? (s[0] = l, o = !0) : o = !1;
}
a += d;
}
}
s && (s[1] = this._terminal.cols);
}
}, e._mergeRanges = function(e, t) {
for (var n = !1, i = 0; i < e.length; i++) {
var r = e[i];
if (n) {
if (t[1] <= r[0]) return e[i - 1][1] = t[1], e;
if (t[1] <= r[1]) return e[i - 1][1] = Math.max(t[1], r[1]), e.splice(i, 1), n = !1, e;
e.splice(i, 1), i--;
} else {
if (t[1] <= r[0]) return e.splice(i, 0, t), e;
if (t[1] <= r[1]) return r[0] = Math.min(t[0], r[0]), e;
t[0] < r[1] && (r[0] = Math.min(t[0], r[0]), n = !0);
}
}
return n ? e[e.length - 1][1] = t[1] : e.push(t), e;
}, e;
}();
n.CharacterJoinerRegistry = r;
}, {
"../Buffer": 2
} ],
31: [ function(e, t, n) {
"use strict";
function i(e) {
return {
css: e,
rgba: parseInt(e.slice(1), 16) << 8 | 255
};
}
function r(e) {
var t = e.toString(16);
return t.length < 2 ? "0" + t : t;
}
Object.defineProperty(n, "__esModule", {
value: !0
});
var o = i("#ffffff"), a = i("#000000"), s = i("#ffffff"), l = i("#000000"), c = {
css: "rgba(255, 255, 255, 0.3)",
rgba: 4294967159
};
n.DEFAULT_ANSI_COLORS = function() {
for (var e = [ i("#2e3436"), i("#cc0000"), i("#4e9a06"), i("#c4a000"), i("#3465a4"), i("#75507b"), i("#06989a"), i("#d3d7cf"), i("#555753"), i("#ef2929"), i("#8ae234"), i("#fce94f"), i("#729fcf"), i("#ad7fa8"), i("#34e2e2"), i("#eeeeec") ], t = [ 0, 95, 135, 175, 215, 255 ], n = 0; n < 216; n++) {
var o = t[n / 36 % 6 | 0], a = t[n / 6 % 6 | 0], s = t[n % 6];
e.push({
css: "#" + r(o) + r(a) + r(s),
rgba: (o << 24 | a << 16 | s << 8 | 255) >>> 0
});
}
for (n = 0; n < 24; n++) {
var l = 8 + 10 * n, c = r(l);
e.push({
css: "#" + c + c + c,
rgba: (l << 24 | l << 16 | l << 8 | 255) >>> 0
});
}
return e;
}();
var u = function() {
function e(e, t) {
this.allowTransparency = t;
var i = e.createElement("canvas");
i.width = 1, i.height = 1, this._ctx = i.getContext("2d"), this._ctx.globalCompositeOperation = "copy", this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1), this.colors = {
foreground: o,
background: a,
cursor: s,
cursorAccent: l,
selection: c,
ansi: n.DEFAULT_ANSI_COLORS.slice()
};
}
return e.prototype.setTheme = function(e) {
this.colors.foreground = this._parseColor(e.foreground, o), this.colors.background = this._parseColor(e.background, a), this.colors.cursor = this._parseColor(e.cursor, s, !0), this.colors.cursorAccent = this._parseColor(e.cursorAccent, l, !0), this.colors.selection = this._parseColor(e.selection, c, !0), this.colors.ansi[0] = this._parseColor(e.black, n.DEFAULT_ANSI_COLORS[0]), this.colors.ansi[1] = this._parseColor(e.red, n.DEFAULT_ANSI_COLORS[1]), this.colors.ansi[2] = this._parseColor(e.green, n.DEFAULT_ANSI_COLORS[2]), this.colors.ansi[3] = this._parseColor(e.yellow, n.DEFAULT_ANSI_COLORS[3]), this.colors.ansi[4] = this._parseColor(e.blue, n.DEFAULT_ANSI_COLORS[4]), this.colors.ansi[5] = this._parseColor(e.magenta, n.DEFAULT_ANSI_COLORS[5]), this.colors.ansi[6] = this._parseColor(e.cyan, n.DEFAULT_ANSI_COLORS[6]), this.colors.ansi[7] = this._parseColor(e.white, n.DEFAULT_ANSI_COLORS[7]), this.colors.ansi[8] = this._parseColor(e.brightBlack, n.DEFAULT_ANSI_COLORS[8]), this.colors.ansi[9] = this._parseColor(e.brightRed, n.DEFAULT_ANSI_COLORS[9]), 
this.colors.ansi[10] = this._parseColor(e.brightGreen, n.DEFAULT_ANSI_COLORS[10]), this.colors.ansi[11] = this._parseColor(e.brightYellow, n.DEFAULT_ANSI_COLORS[11]), this.colors.ansi[12] = this._parseColor(e.brightBlue, n.DEFAULT_ANSI_COLORS[12]), this.colors.ansi[13] = this._parseColor(e.brightMagenta, n.DEFAULT_ANSI_COLORS[13]), this.colors.ansi[14] = this._parseColor(e.brightCyan, n.DEFAULT_ANSI_COLORS[14]), this.colors.ansi[15] = this._parseColor(e.brightWhite, n.DEFAULT_ANSI_COLORS[15]);
}, e.prototype._parseColor = function(e, t, n) {
if (void 0 === n && (n = this.allowTransparency), !e) return t;
if (this._ctx.fillStyle = this._litmusColor, this._ctx.fillStyle = e, "string" != typeof this._ctx.fillStyle) return console.warn("Color: " + e + " is invalid using fallback " + t.css), t;
this._ctx.fillRect(0, 0, 1, 1);
var i = this._ctx.getImageData(0, 0, 1, 1).data;
return n || 255 === i[3] ? {
css: e,
rgba: (i[0] << 24 | i[1] << 16 | i[2] << 8 | i[3]) >>> 0
} : (console.warn("Color: " + e + " is using transparency, but allowTransparency is false. Using fallback " + t.css + "."), t);
}, e;
}();
n.ColorManager = u;
}, {} ],
32: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("../Buffer"), o = function(e) {
function t(t, n, i) {
var r = e.call(this, t, "cursor", n, !0, i) || this;
return r._state = {
x: null,
y: null,
isFocused: null,
style: null,
width: null
}, r._cursorRenderers = {
bar: r._renderBarCursor.bind(r),
block: r._renderBlockCursor.bind(r),
underline: r._renderUnderlineCursor.bind(r)
}, r;
}
return i(t, e), t.prototype.resize = function(t, n) {
e.prototype.resize.call(this, t, n), this._state = {
x: null,
y: null,
isFocused: null,
style: null,
width: null
};
}, t.prototype.reset = function(e) {
this._clearCursor(), this._cursorBlinkStateManager && (this._cursorBlinkStateManager.dispose(), this._cursorBlinkStateManager = null, this.onOptionsChanged(e));
}, t.prototype.onBlur = function(e) {
this._cursorBlinkStateManager && this._cursorBlinkStateManager.pause(), e.refresh(e.buffer.y, e.buffer.y);
}, t.prototype.onFocus = function(e) {
this._cursorBlinkStateManager ? this._cursorBlinkStateManager.resume(e) : e.refresh(e.buffer.y, e.buffer.y);
}, t.prototype.onOptionsChanged = function(e) {
var t = this;
e.options.cursorBlink ? this._cursorBlinkStateManager || (this._cursorBlinkStateManager = new a(e, function() {
t._render(e, !0);
})) : (this._cursorBlinkStateManager && (this._cursorBlinkStateManager.dispose(), this._cursorBlinkStateManager = null), e.refresh(e.buffer.y, e.buffer.y));
}, t.prototype.onCursorMove = function(e) {
this._cursorBlinkStateManager && this._cursorBlinkStateManager.restartBlinkAnimation(e);
}, t.prototype.onGridChanged = function(e, t, n) {
!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused ? this._render(e, !1) : this._cursorBlinkStateManager.restartBlinkAnimation(e);
}, t.prototype._render = function(e, t) {
if (e.cursorState && !e.cursorHidden) {
var n = e.buffer.ybase + e.buffer.y, i = n - e.buffer.ydisp;
if (i < 0 || i >= e.rows) this._clearCursor(); else {
var o = e.buffer.lines.get(n).get(e.buffer.x);
if (o) {
if (!e.isFocused) return this._clearCursor(), this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this._renderBlurCursor(e, e.buffer.x, i, o), this._ctx.restore(), this._state.x = e.buffer.x, this._state.y = i, this._state.isFocused = !1, this._state.style = e.options.cursorStyle, void (this._state.width = o[r.CHAR_DATA_WIDTH_INDEX]);
if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isCursorVisible) {
if (this._state) {
if (this._state.x === e.buffer.x && this._state.y === i && this._state.isFocused === e.isFocused && this._state.style === e.options.cursorStyle && this._state.width === o[r.CHAR_DATA_WIDTH_INDEX]) return;
this._clearCursor();
}
this._ctx.save(), this._cursorRenderers[e.options.cursorStyle || "block"](e, e.buffer.x, i, o), this._ctx.restore(), this._state.x = e.buffer.x, this._state.y = i, this._state.isFocused = !1, this._state.style = e.options.cursorStyle, this._state.width = o[r.CHAR_DATA_WIDTH_INDEX];
} else this._clearCursor();
}
}
} else this._clearCursor();
}, t.prototype._clearCursor = function() {
this._state && (this.clearCells(this._state.x, this._state.y, this._state.width, 1), this._state = {
x: null,
y: null,
isFocused: null,
style: null,
width: null
});
}, t.prototype._renderBarCursor = function(e, t, n, i) {
this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this.fillLeftLineAtCell(t, n), this._ctx.restore();
}, t.prototype._renderBlockCursor = function(e, t, n, i) {
this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this.fillCells(t, n, i[r.CHAR_DATA_WIDTH_INDEX], 1), this._ctx.fillStyle = this._colors.cursorAccent.css, this.fillCharTrueColor(e, i, t, n), this._ctx.restore();
}, t.prototype._renderUnderlineCursor = function(e, t, n, i) {
this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this.fillBottomLineAtCells(t, n), this._ctx.restore();
}, t.prototype._renderBlurCursor = function(e, t, n, i) {
this._ctx.save(), this._ctx.strokeStyle = this._colors.cursor.css, this.strokeRectAtCell(t, n, i[r.CHAR_DATA_WIDTH_INDEX], 1), this._ctx.restore();
}, t;
}(e("./BaseRenderLayer").BaseRenderLayer);
n.CursorRenderLayer = o;
var a = function() {
function e(e, t) {
this._renderCallback = t, this.isCursorVisible = !0, e.isFocused && this._restartInterval();
}
return Object.defineProperty(e.prototype, "isPaused", {
get: function() {
return !(this._blinkStartTimeout || this._blinkInterval);
},
enumerable: !0,
configurable: !0
}), e.prototype.dispose = function() {
this._blinkInterval && (window.clearInterval(this._blinkInterval), this._blinkInterval = null), this._blinkStartTimeout && (window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = null), this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = null);
}, e.prototype.restartBlinkAnimation = function(e) {
var t = this;
this.isPaused || (this._animationTimeRestarted = Date.now(), this.isCursorVisible = !0, this._animationFrame || (this._animationFrame = window.requestAnimationFrame(function() {
t._renderCallback(), t._animationFrame = null;
})));
}, e.prototype._restartInterval = function(e) {
var t = this;
void 0 === e && (e = 600), this._blinkInterval && window.clearInterval(this._blinkInterval), this._blinkStartTimeout = setTimeout(function() {
if (t._animationTimeRestarted) {
var e = 600 - (Date.now() - t._animationTimeRestarted);
if (t._animationTimeRestarted = null, e > 0) return void t._restartInterval(e);
}
t.isCursorVisible = !1, t._animationFrame = window.requestAnimationFrame(function() {
t._renderCallback(), t._animationFrame = null;
}), t._blinkInterval = setInterval(function() {
if (t._animationTimeRestarted) {
var e = 600 - (Date.now() - t._animationTimeRestarted);
return t._animationTimeRestarted = null, void t._restartInterval(e);
}
t.isCursorVisible = !t.isCursorVisible, t._animationFrame = window.requestAnimationFrame(function() {
t._renderCallback(), t._animationFrame = null;
});
}, 600);
}, e);
}, e.prototype.pause = function() {
this.isCursorVisible = !0, this._blinkInterval && (window.clearInterval(this._blinkInterval), this._blinkInterval = null), this._blinkStartTimeout && (window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = null), this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = null);
}, e.prototype.resume = function(e) {
this._animationTimeRestarted = null, this._restartInterval(), this.restartBlinkAnimation(e);
}, e;
}();
}, {
"../Buffer": 2,
"./BaseRenderLayer": 29
} ],
33: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e() {
this.cache = [];
}
return e.prototype.resize = function(e, t) {
for (var n = 0; n < e; n++) {
this.cache.length <= n && this.cache.push([]);
for (var i = this.cache[n].length; i < t; i++) this.cache[n].push(null);
this.cache[n].length = t;
}
this.cache.length = e;
}, e.prototype.clear = function() {
for (var e = 0; e < this.cache.length; e++) for (var t = 0; t < this.cache[e].length; t++) this.cache[e][t] = null;
}, e;
}();
n.GridCache = i;
}, {} ],
34: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./BaseRenderLayer"), o = e("./atlas/Types"), a = e("./atlas/CharAtlasUtils"), s = function(e) {
function t(t, n, i, r) {
var o = e.call(this, t, "link", n, !0, i) || this;
return o._state = null, r.linkifier.on("linkhover", function(e) {
return o._onLinkHover(e);
}), r.linkifier.on("linkleave", function(e) {
return o._onLinkLeave(e);
}), o;
}
return i(t, e), t.prototype.resize = function(t, n) {
e.prototype.resize.call(this, t, n), this._state = null;
}, t.prototype.reset = function(e) {
this._clearCurrentLink();
}, t.prototype._clearCurrentLink = function() {
if (this._state) {
this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);
var e = this._state.y2 - this._state.y1 - 1;
e > 0 && this.clearCells(0, this._state.y1 + 1, this._state.cols, e), this.clearCells(0, this._state.y2, this._state.x2, 1), this._state = null;
}
}, t.prototype._onLinkHover = function(e) {
if (e.fg === o.INVERTED_DEFAULT_COLOR ? this._ctx.fillStyle = this._colors.background.css : a.is256Color(e.fg) ? this._ctx.fillStyle = this._colors.ansi[e.fg].css : this._ctx.fillStyle = this._colors.foreground.css, e.y1 === e.y2) this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1); else {
this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);
for (var t = e.y1 + 1; t < e.y2; t++) this.fillBottomLineAtCells(0, t, e.cols);
this.fillBottomLineAtCells(0, e.y2, e.x2);
}
this._state = e;
}, t.prototype._onLinkLeave = function(e) {
this._clearCurrentLink();
}, t;
}(r.BaseRenderLayer);
n.LinkRenderLayer = s;
}, {
"./BaseRenderLayer": 29,
"./atlas/CharAtlasUtils": 41,
"./atlas/Types": 46
} ],
35: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./TextRenderLayer"), o = e("./SelectionRenderLayer"), a = e("./CursorRenderLayer"), s = e("./ColorManager"), l = e("./LinkRenderLayer"), c = e("../common/EventEmitter"), u = e("../ui/RenderDebouncer"), d = e("../ui/ScreenDprMonitor"), h = e("../renderer/CharacterJoinerRegistry"), f = function(e) {
function t(t, n) {
var i = e.call(this) || this;
i._terminal = t, i._isPaused = !1, i._needsFullRefresh = !1;
var c = i._terminal.options.allowTransparency;
if (i.colorManager = new s.ColorManager(document, c), i._characterJoinerRegistry = new h.CharacterJoinerRegistry(t), n && i.colorManager.setTheme(n), i._renderLayers = [ new r.TextRenderLayer(i._terminal.screenElement, 0, i.colorManager.colors, i._characterJoinerRegistry, c), new o.SelectionRenderLayer(i._terminal.screenElement, 1, i.colorManager.colors), new l.LinkRenderLayer(i._terminal.screenElement, 2, i.colorManager.colors, i._terminal), new a.CursorRenderLayer(i._terminal.screenElement, 3, i.colorManager.colors) ], i.dimensions = {
scaledCharWidth: null,
scaledCharHeight: null,
scaledCellWidth: null,
scaledCellHeight: null,
scaledCharLeft: null,
scaledCharTop: null,
scaledCanvasWidth: null,
scaledCanvasHeight: null,
canvasWidth: null,
canvasHeight: null,
actualCellWidth: null,
actualCellHeight: null
}, i._devicePixelRatio = window.devicePixelRatio, i._updateDimensions(), i.onOptionsChanged(), i._renderDebouncer = new u.RenderDebouncer(i._terminal, i._renderRows.bind(i)), i._screenDprMonitor = new d.ScreenDprMonitor(), i._screenDprMonitor.setListener(function() {
return i.onWindowResize(window.devicePixelRatio);
}), i.register(i._screenDprMonitor), "IntersectionObserver" in window) {
var f = new IntersectionObserver(function(e) {
return i.onIntersectionChange(e[e.length - 1]);
}, {
threshold: 0
});
f.observe(i._terminal.element), i.register({
dispose: function() {
return f.disconnect();
}
});
}
return i;
}
return i(t, e), t.prototype.dispose = function() {
e.prototype.dispose.call(this), this._renderLayers.forEach(function(e) {
return e.dispose();
});
}, t.prototype.onIntersectionChange = function(e) {
this._isPaused = 0 === e.intersectionRatio, !this._isPaused && this._needsFullRefresh && this._terminal.refresh(0, this._terminal.rows - 1);
}, t.prototype.onWindowResize = function(e) {
this._devicePixelRatio !== e && (this._devicePixelRatio = e, this.onResize(this._terminal.cols, this._terminal.rows));
}, t.prototype.setTheme = function(e) {
var t = this;
return this.colorManager.setTheme(e), this._renderLayers.forEach(function(e) {
e.onThemeChanged(t._terminal, t.colorManager.colors), e.reset(t._terminal);
}), this._isPaused ? this._needsFullRefresh = !0 : this._terminal.refresh(0, this._terminal.rows - 1), this.colorManager.colors;
}, t.prototype.onResize = function(e, t) {
var n = this;
this._updateDimensions(), this._renderLayers.forEach(function(e) {
return e.resize(n._terminal, n.dimensions);
}), this._isPaused ? this._needsFullRefresh = !0 : this._terminal.refresh(0, this._terminal.rows - 1), this._terminal.screenElement.style.width = this.dimensions.canvasWidth + "px", this._terminal.screenElement.style.height = this.dimensions.canvasHeight + "px", this.emit("resize", {
width: this.dimensions.canvasWidth,
height: this.dimensions.canvasHeight
});
}, t.prototype.onCharSizeChanged = function() {
this.onResize(this._terminal.cols, this._terminal.rows);
}, t.prototype.onBlur = function() {
var e = this;
this._runOperation(function(t) {
return t.onBlur(e._terminal);
});
}, t.prototype.onFocus = function() {
var e = this;
this._runOperation(function(t) {
return t.onFocus(e._terminal);
});
}, t.prototype.onSelectionChanged = function(e, t, n) {
var i = this;
void 0 === n && (n = !1), this._runOperation(function(r) {
return r.onSelectionChanged(i._terminal, e, t, n);
});
}, t.prototype.onCursorMove = function() {
var e = this;
this._runOperation(function(t) {
return t.onCursorMove(e._terminal);
});
}, t.prototype.onOptionsChanged = function() {
var e = this;
this.colorManager.allowTransparency = this._terminal.options.allowTransparency, this._runOperation(function(t) {
return t.onOptionsChanged(e._terminal);
});
}, t.prototype.clear = function() {
var e = this;
this._runOperation(function(t) {
return t.reset(e._terminal);
});
}, t.prototype._runOperation = function(e) {
this._isPaused ? this._needsFullRefresh = !0 : this._renderLayers.forEach(function(t) {
return e(t);
});
}, t.prototype.refreshRows = function(e, t) {
this._isPaused ? this._needsFullRefresh = !0 : this._renderDebouncer.refresh(e, t);
}, t.prototype._renderRows = function(e, t) {
var n = this;
this._renderLayers.forEach(function(i) {
return i.onGridChanged(n._terminal, e, t);
}), this._terminal.emit("refresh", {
start: e,
end: t
});
}, t.prototype._updateDimensions = function() {
this._terminal.charMeasure.width && this._terminal.charMeasure.height && (this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio), this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio), this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight), this.dimensions.scaledCharTop = 1 === this._terminal.options.lineHeight ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2), this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing), this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2), this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight, this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth, this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio), 
this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio), this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows, this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols);
}, t.prototype.registerCharacterJoiner = function(e) {
return this._characterJoinerRegistry.registerCharacterJoiner(e);
}, t.prototype.deregisterCharacterJoiner = function(e) {
return this._characterJoinerRegistry.deregisterCharacterJoiner(e);
}, t;
}(c.EventEmitter);
n.Renderer = f;
}, {
"../common/EventEmitter": 19,
"../renderer/CharacterJoinerRegistry": 30,
"../ui/RenderDebouncer": 54,
"../ui/ScreenDprMonitor": 55,
"./ColorManager": 31,
"./CursorRenderLayer": 32,
"./LinkRenderLayer": 34,
"./SelectionRenderLayer": 36,
"./TextRenderLayer": 37
} ],
36: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t(t, n, i) {
var r = e.call(this, t, "selection", n, !0, i) || this;
return r._clearState(), r;
}
return i(t, e), t.prototype._clearState = function() {
this._state = {
start: null,
end: null,
columnSelectMode: null,
ydisp: null
};
}, t.prototype.resize = function(t, n) {
e.prototype.resize.call(this, t, n), this._clearState();
}, t.prototype.reset = function(e) {
this._state.start && this._state.end && (this._clearState(), this.clearAll());
}, t.prototype.onSelectionChanged = function(e, t, n, i) {
if (this._didStateChange(t, n, i, e.buffer.ydisp)) if (this.clearAll(), t && n) {
var r = t[1] - e.buffer.ydisp, o = n[1] - e.buffer.ydisp, a = Math.max(r, 0), s = Math.min(o, e.rows - 1);
if (!(a >= e.rows || s < 0)) {
if (this._ctx.fillStyle = this._colors.selection.css, i) {
var l = t[0], c = n[0] - l, u = s - a + 1;
this.fillCells(l, a, c, u);
} else {
var l = r === a ? t[0] : 0, d = a === s ? n[0] : e.cols;
this.fillCells(l, a, d - l, 1);
var h = Math.max(s - a - 1, 0);
if (this.fillCells(0, a + 1, e.cols, h), a !== s) {
var f = o === s ? n[0] : e.cols;
this.fillCells(0, s, f, 1);
}
}
this._state.start = [ t[0], t[1] ], this._state.end = [ n[0], n[1] ], this._state.columnSelectMode = i, this._state.ydisp = e.buffer.ydisp;
}
} else this._clearState();
}, t.prototype._didStateChange = function(e, t, n, i) {
return !this._areCoordinatesEqual(e, this._state.start) || !this._areCoordinatesEqual(t, this._state.end) || n !== this._state.columnSelectMode || i !== this._state.ydisp;
}, t.prototype._areCoordinatesEqual = function(e, t) {
return !(!e || !t) && (e[0] === t[0] && e[1] === t[1]);
}, t;
}(e("./BaseRenderLayer").BaseRenderLayer);
n.SelectionRenderLayer = r;
}, {
"./BaseRenderLayer": 29
} ],
37: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("../Buffer"), o = e("./atlas/Types"), a = e("./GridCache"), s = e("./BaseRenderLayer"), l = e("./atlas/CharAtlasUtils"), c = function(e) {
function t(t, n, i, r, o) {
var s = e.call(this, t, "text", n, o, i) || this;
return s._characterOverlapCache = {}, s._state = new a.GridCache(), s._characterJoinerRegistry = r, s;
}
return i(t, e), t.prototype.resize = function(t, n) {
e.prototype.resize.call(this, t, n);
var i = this._getFont(t, !1, !1);
this._characterWidth === n.scaledCharWidth && this._characterFont === i || (this._characterWidth = n.scaledCharWidth, this._characterFont = i, this._characterOverlapCache = {}), this._state.clear(), this._state.resize(t.cols, t.rows);
}, t.prototype.reset = function(e) {
this._state.clear(), this.clearAll();
}, t.prototype._forEachCell = function(e, t, n, i, a) {
for (var s = t; s <= n; s++) for (var l = s + e.buffer.ydisp, c = e.buffer.lines.get(l), u = i ? i.getJoinedCharacters(l) : [], d = 0; d < e.cols; d++) {
var h = c.get(d), f = h[r.CHAR_DATA_CODE_INDEX] || r.WHITESPACE_CELL_CODE, p = h[r.CHAR_DATA_CHAR_INDEX] || r.WHITESPACE_CELL_CHAR, g = h[r.CHAR_DATA_ATTR_INDEX], m = h[r.CHAR_DATA_WIDTH_INDEX], v = !1, y = d;
if (0 !== m) {
if (u.length > 0 && d === u[0][0]) {
v = !0;
var b = u.shift();
p = e.buffer.translateBufferLineToString(l, !0, b[0], b[1]), m = b[1] - b[0], f = 1 / 0, y = b[1] - 1;
}
!v && this._isOverlapping(h) && y < c.length - 1 && c.get(y + 1)[r.CHAR_DATA_CODE_INDEX] === r.NULL_CELL_CODE && (m = 2);
var _ = g >> 18, w = 511 & g, C = g >> 9 & 511;
if (8 & _) {
var x = w;
w = C, (C = x) === o.DEFAULT_COLOR && (C = o.INVERTED_DEFAULT_COLOR), w === o.DEFAULT_COLOR && (w = o.INVERTED_DEFAULT_COLOR);
}
a(f, p, m, d, s, C, w, _), d = y;
}
}
}, t.prototype._drawBackground = function(e, t, n) {
var i = this, r = this._ctx, a = e.cols, s = 0, c = 0, u = null;
r.save(), this._forEachCell(e, t, n, null, function(e, t, n, d, h, f, p, g) {
var m = null;
p === o.INVERTED_DEFAULT_COLOR ? m = i._colors.foreground.css : l.is256Color(p) && (m = i._colors.ansi[p].css), null === u && (s = d, c = h), h !== c ? (r.fillStyle = u, i.fillCells(s, c, a - s, 1), s = d, c = h) : u !== m && (r.fillStyle = u, i.fillCells(s, c, d - s, 1), s = d, c = h), u = m;
}), null !== u && (r.fillStyle = u, this.fillCells(s, c, a - s, 1)), r.restore();
}, t.prototype._drawForeground = function(e, t, n) {
var i = this;
this._forEachCell(e, t, n, this._characterJoinerRegistry, function(t, n, r, a, s, c, u, d) {
16 & d || (2 & d && (i._ctx.save(), c === o.INVERTED_DEFAULT_COLOR ? i._ctx.fillStyle = i._colors.background.css : l.is256Color(c) ? i._ctx.fillStyle = i._colors.ansi[c].css : i._ctx.fillStyle = i._colors.foreground.css, i.fillBottomLineAtCells(a, s, r), i._ctx.restore()), i.drawChars(e, n, t, r, a, s, c, u, !!(1 & d), !!(32 & d), !!(64 & d)));
});
}, t.prototype.onGridChanged = function(e, t, n) {
0 !== this._state.cache.length && (this._charAtlas && this._charAtlas.beginFrame(), this.clearCells(0, t, e.cols, n - t + 1), this._drawBackground(e, t, n), this._drawForeground(e, t, n));
}, t.prototype.onOptionsChanged = function(e) {
this.setTransparency(e, e.options.allowTransparency);
}, t.prototype._isOverlapping = function(e) {
if (1 !== e[r.CHAR_DATA_WIDTH_INDEX]) return !1;
if (e[r.CHAR_DATA_CODE_INDEX] < 256) return !1;
var t = e[r.CHAR_DATA_CHAR_INDEX];
if (this._characterOverlapCache.hasOwnProperty(t)) return this._characterOverlapCache[t];
this._ctx.save(), this._ctx.font = this._characterFont;
var n = Math.floor(this._ctx.measureText(t).width) > this._characterWidth;
return this._ctx.restore(), this._characterOverlapCache[t] = n, n;
}, t;
}(s.BaseRenderLayer);
n.TextRenderLayer = c;
}, {
"../Buffer": 2,
"./BaseRenderLayer": 29,
"./GridCache": 33,
"./atlas/CharAtlasUtils": 41,
"./atlas/Types": 46
} ],
38: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._didWarmUp = !1;
}
return e.prototype.dispose = function() {}, e.prototype.warmUp = function() {
this._didWarmUp || (this._doWarmUp(), this._didWarmUp = !0);
}, e.prototype._doWarmUp = function() {}, e.prototype.beginFrame = function() {}, e;
}();
n.default = i;
}, {} ],
39: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./CharAtlasUtils"), r = e("./DynamicCharAtlas"), o = e("./NoneCharAtlas"), a = e("./StaticCharAtlas"), s = {
none: o.default,
static: a.default,
dynamic: r.default
}, l = [];
n.acquireCharAtlas = function(e, t, n, r) {
for (var o = i.generateConfig(n, r, e, t), a = 0; a < l.length; a++) {
var c = (u = l[a]).ownedBy.indexOf(e);
if (c >= 0) {
if (i.configEquals(u.config, o)) return u.atlas;
1 === u.ownedBy.length ? (u.atlas.dispose(), l.splice(a, 1)) : u.ownedBy.splice(c, 1);
break;
}
}
for (a = 0; a < l.length; a++) {
var u = l[a];
if (i.configEquals(u.config, o)) return u.ownedBy.push(e), u.atlas;
}
var d = {
atlas: new s[e.options.experimentalCharAtlas](document, o),
config: o,
ownedBy: [ e ]
};
return l.push(d), d.atlas;
}, n.removeTerminalFromCache = function(e) {
for (var t = 0; t < l.length; t++) {
var n = l[t].ownedBy.indexOf(e);
if (-1 !== n) {
1 === l[t].ownedBy.length ? (l[t].atlas.dispose(), l.splice(t, 1)) : l[t].ownedBy.splice(n, 1);
break;
}
}
};
}, {
"./CharAtlasUtils": 41,
"./DynamicCharAtlas": 42,
"./NoneCharAtlas": 44,
"./StaticCharAtlas": 45
} ],
40: [ function(e, t, n) {
"use strict";
function i(e, t) {
for (var n = !0, i = t.rgba >>> 24, r = t.rgba >>> 16 & 255, o = t.rgba >>> 8 & 255, a = 0; a < e.data.length; a += 4) e.data[a] === i && e.data[a + 1] === r && e.data[a + 2] === o ? e.data[a + 3] = 0 : n = !1;
return n;
}
function r(e, t) {
return e + " " + t.fontSize * t.devicePixelRatio + "px " + t.fontFamily;
}
Object.defineProperty(n, "__esModule", {
value: !0
});
var o = e("../../core/Platform"), a = e("./Types");
n.generateStaticCharAtlasTexture = function(e, t, n) {
var s = n.scaledCharWidth + a.CHAR_ATLAS_CELL_SPACING, l = n.scaledCharHeight + a.CHAR_ATLAS_CELL_SPACING, c = t(255 * s, 34 * l), u = c.getContext("2d", {
alpha: n.allowTransparency
});
u.fillStyle = n.colors.background.css, u.fillRect(0, 0, c.width, c.height), u.save(), u.fillStyle = n.colors.foreground.css, u.font = r(n.fontWeight, n), u.textBaseline = "middle";
for (h = 0; h < 256; h++) u.save(), u.beginPath(), u.rect(h * s, 0, s, l), u.clip(), u.fillText(String.fromCharCode(h), h * s, l / 2), u.restore();
u.save(), u.font = r(n.fontWeightBold, n);
for (h = 0; h < 256; h++) u.save(), u.beginPath(), u.rect(h * s, l, s, l), u.clip(), u.fillText(String.fromCharCode(h), h * s, 1.5 * l), u.restore();
u.restore(), u.font = r(n.fontWeight, n);
for (f = 0; f < 16; f++) for (var d = (f + 2) * l, h = 0; h < 256; h++) u.save(), u.beginPath(), u.rect(h * s, d, s, l), u.clip(), u.fillStyle = n.colors.ansi[f].css, u.fillText(String.fromCharCode(h), h * s, d + l / 2), u.restore();
u.font = r(n.fontWeightBold, n);
for (var f = 0; f < 16; f++) for (var d = (f + 2 + 16) * l, h = 0; h < 256; h++) u.save(), u.beginPath(), u.rect(h * s, d, s, l), u.clip(), u.fillStyle = n.colors.ansi[f].css, u.fillText(String.fromCharCode(h), h * s, d + l / 2), u.restore();
if (u.restore(), !("createImageBitmap" in e) || o.isFirefox || o.isSafari) return c;
var p = u.getImageData(0, 0, c.width, c.height);
return i(p, n.colors.background), e.createImageBitmap(p);
}, n.clearColor = i;
}, {
"../../core/Platform": 23,
"./Types": 46
} ],
41: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./Types");
n.generateConfig = function(e, t, n, i) {
var r = {
foreground: i.foreground,
background: i.background,
cursor: null,
cursorAccent: null,
selection: null,
ansi: i.ansi.slice(0, 16)
};
return {
type: n.options.experimentalCharAtlas,
devicePixelRatio: window.devicePixelRatio,
scaledCharWidth: e,
scaledCharHeight: t,
fontFamily: n.options.fontFamily,
fontSize: n.options.fontSize,
fontWeight: n.options.fontWeight,
fontWeightBold: n.options.fontWeightBold,
allowTransparency: n.options.allowTransparency,
colors: r
};
}, n.configEquals = function(e, t) {
for (var n = 0; n < e.colors.ansi.length; n++) if (e.colors.ansi[n].rgba !== t.colors.ansi[n].rgba) return !1;
return e.type === t.type && e.devicePixelRatio === t.devicePixelRatio && e.fontFamily === t.fontFamily && e.fontSize === t.fontSize && e.fontWeight === t.fontWeight && e.fontWeightBold === t.fontWeightBold && e.allowTransparency === t.allowTransparency && e.scaledCharWidth === t.scaledCharWidth && e.scaledCharHeight === t.scaledCharHeight && e.colors.foreground === t.colors.foreground && e.colors.background === t.colors.background;
}, n.is256Color = function(e) {
return e < i.DEFAULT_COLOR;
};
}, {
"./Types": 46
} ],
42: [ function(e, t, n) {
"use strict";
function i(e) {
return e.code << 21 | e.bg << 12 | e.fg << 3 | (e.bold ? 0 : 4) + (e.dim ? 0 : 2) + (e.italic ? 0 : 1);
}
var r = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var o = e("./Types"), a = e("./BaseCharAtlas"), s = e("../ColorManager"), l = e("./CharAtlasGenerator"), c = e("./LRUMap"), u = e("../../core/Platform"), d = 1024, h = 1024, f = {
css: "rgba(0, 0, 0, 0)",
rgba: 0
};
n.getGlyphCacheKey = i;
var p = function(e) {
function t(t, n) {
var i = e.call(this) || this;
i._config = n, i._drawToCacheCount = 0, i._glyphsWaitingOnBitmap = [], i._bitmapCommitTimeout = null, i._bitmap = null, i._cacheCanvas = t.createElement("canvas"), i._cacheCanvas.width = d, i._cacheCanvas.height = h, i._cacheCtx = i._cacheCanvas.getContext("2d", {
alpha: !0
});
var r = t.createElement("canvas");
r.width = i._config.scaledCharWidth, r.height = i._config.scaledCharHeight, i._tmpCtx = r.getContext("2d", {
alpha: i._config.allowTransparency
}), i._width = Math.floor(d / i._config.scaledCharWidth), i._height = Math.floor(h / i._config.scaledCharHeight);
var o = i._width * i._height;
return i._cacheMap = new c.default(o), i._cacheMap.prealloc(o), i;
}
return r(t, e), t.prototype.dispose = function() {
null !== this._bitmapCommitTimeout && (window.clearTimeout(this._bitmapCommitTimeout), this._bitmapCommitTimeout = null);
}, t.prototype.beginFrame = function() {
this._drawToCacheCount = 0;
}, t.prototype.draw = function(e, t, n, r) {
if (32 === t.code) return !0;
if (!this._canCache(t)) return !1;
var o = i(t), a = this._cacheMap.get(o);
if (null !== a && void 0 !== a) return this._drawFromCache(e, a, n, r), !0;
if (this._drawToCacheCount < 100) {
var s = void 0;
s = this._cacheMap.size < this._cacheMap.capacity ? this._cacheMap.size : this._cacheMap.peek().index;
var l = this._drawToCache(t, s);
return this._cacheMap.set(o, l), this._drawFromCache(e, l, n, r), !0;
}
return !1;
}, t.prototype._canCache = function(e) {
return e.code < 256;
}, t.prototype._toCoordinateX = function(e) {
return e % this._width * this._config.scaledCharWidth;
}, t.prototype._toCoordinateY = function(e) {
return Math.floor(e / this._width) * this._config.scaledCharHeight;
}, t.prototype._drawFromCache = function(e, t, n, i) {
if (!t.isEmpty) {
var r = this._toCoordinateX(t.index), o = this._toCoordinateY(t.index);
e.drawImage(t.inBitmap ? this._bitmap : this._cacheCanvas, r, o, this._config.scaledCharWidth, this._config.scaledCharHeight, n, i, this._config.scaledCharWidth, this._config.scaledCharHeight);
}
}, t.prototype._getColorFromAnsiIndex = function(e) {
return e < this._config.colors.ansi.length ? this._config.colors.ansi[e] : s.DEFAULT_ANSI_COLORS[e];
}, t.prototype._getBackgroundColor = function(e) {
return this._config.allowTransparency ? f : e.bg === o.INVERTED_DEFAULT_COLOR ? this._config.colors.foreground : e.bg < 256 ? this._getColorFromAnsiIndex(e.bg) : this._config.colors.background;
}, t.prototype._getForegroundColor = function(e) {
return e.fg === o.INVERTED_DEFAULT_COLOR ? this._config.colors.background : e.fg < 256 ? this._getColorFromAnsiIndex(e.fg) : this._config.colors.foreground;
}, t.prototype._drawToCache = function(e, t) {
this._drawToCacheCount++, this._tmpCtx.save();
var n = this._getBackgroundColor(e);
this._tmpCtx.globalCompositeOperation = "copy", this._tmpCtx.fillStyle = n.css, this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight), this._tmpCtx.globalCompositeOperation = "source-over";
var i = e.bold ? this._config.fontWeightBold : this._config.fontWeight, r = e.italic ? "italic" : "";
this._tmpCtx.font = r + " " + i + " " + this._config.fontSize * this._config.devicePixelRatio + "px " + this._config.fontFamily, this._tmpCtx.textBaseline = "middle", this._tmpCtx.fillStyle = this._getForegroundColor(e).css, e.dim && (this._tmpCtx.globalAlpha = o.DIM_OPACITY), this._tmpCtx.fillText(e.chars, 0, this._config.scaledCharHeight / 2), this._tmpCtx.restore();
var a = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight), s = !1;
this._config.allowTransparency || (s = l.clearColor(a, n));
var c = this._toCoordinateX(t), u = this._toCoordinateY(t);
this._cacheCtx.putImageData(a, c, u);
var d = {
index: t,
isEmpty: s,
inBitmap: !1
};
return this._addGlyphToBitmap(d), d;
}, t.prototype._addGlyphToBitmap = function(e) {
var t = this;
"createImageBitmap" in window && !u.isFirefox && !u.isSafari && (this._glyphsWaitingOnBitmap.push(e), null === this._bitmapCommitTimeout && (this._bitmapCommitTimeout = window.setTimeout(function() {
return t._generateBitmap();
}, 100)));
}, t.prototype._generateBitmap = function() {
var e = this, t = this._glyphsWaitingOnBitmap;
this._glyphsWaitingOnBitmap = [], window.createImageBitmap(this._cacheCanvas).then(function(n) {
e._bitmap = n;
for (var i = 0; i < t.length; i++) t[i].inBitmap = !0;
}), this._bitmapCommitTimeout = null;
}, t;
}(a.default);
n.default = p;
}, {
"../../core/Platform": 23,
"../ColorManager": 31,
"./BaseCharAtlas": 38,
"./CharAtlasGenerator": 40,
"./LRUMap": 43,
"./Types": 46
} ],
43: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e) {
this.capacity = e, this._map = {}, this._head = null, this._tail = null, this._nodePool = [], this.size = 0;
}
return e.prototype._unlinkNode = function(e) {
var t = e.prev, n = e.next;
e === this._head && (this._head = n), e === this._tail && (this._tail = t), null !== t && (t.next = n), null !== n && (n.prev = t);
}, e.prototype._appendNode = function(e) {
var t = this._tail;
null !== t && (t.next = e), e.prev = t, e.next = null, this._tail = e, null === this._head && (this._head = e);
}, e.prototype.prealloc = function(e) {
for (var t = this._nodePool, n = 0; n < e; n++) t.push({
prev: null,
next: null,
key: null,
value: null
});
}, e.prototype.get = function(e) {
var t = this._map[e];
return void 0 !== t ? (this._unlinkNode(t), this._appendNode(t), t.value) : null;
}, e.prototype.peekValue = function(e) {
var t = this._map[e];
return void 0 !== t ? t.value : null;
}, e.prototype.peek = function() {
var e = this._head;
return null === e ? null : e.value;
}, e.prototype.set = function(e, t) {
var n = this._map[e];
if (void 0 !== n) n = this._map[e], this._unlinkNode(n), n.value = t; else if (this.size >= this.capacity) n = this._head, this._unlinkNode(n), delete this._map[n.key], n.key = e, n.value = t, this._map[e] = n; else {
var i = this._nodePool;
i.length > 0 ? ((n = i.pop()).key = e, n.value = t) : n = {
prev: null,
next: null,
key: e,
value: t
}, this._map[e] = n, this.size++;
}
this._appendNode(n);
}, e;
}();
n.default = i;
}, {} ],
44: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t(t, n) {
return e.call(this) || this;
}
return i(t, e), t.prototype.draw = function(e, t, n, i) {
return !1;
}, t;
}(e("./BaseCharAtlas").default);
n.default = r;
}, {
"./BaseCharAtlas": 38
} ],
45: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("./Types"), o = e("./CharAtlasGenerator"), a = e("./BaseCharAtlas"), s = e("./CharAtlasUtils"), l = function(e) {
function t(t, n) {
var i = e.call(this) || this;
return i._document = t, i._config = n, i._canvasFactory = function(e, t) {
var n = i._document.createElement("canvas");
return n.width = e, n.height = t, n;
}, i;
}
return i(t, e), t.prototype._doWarmUp = function() {
var e = this, t = o.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);
t instanceof HTMLCanvasElement ? this._texture = t : t.then(function(t) {
e._texture = t;
});
}, t.prototype._isCached = function(e, t) {
var n = e.code < 256, i = e.fg < 16, o = e.fg === r.DEFAULT_COLOR, a = e.bg === r.DEFAULT_COLOR;
return n && (i || o) && a && !e.italic;
}, t.prototype.draw = function(e, t, n, i) {
if (null === this._texture || void 0 === this._texture) return !1;
var o = 0;
if (s.is256Color(t.fg) ? o = 2 + t.fg + (t.bold ? 16 : 0) : t.fg === r.DEFAULT_COLOR && t.bold && (o = 1), !this._isCached(t, o)) return !1;
e.save();
var a = this._config.scaledCharWidth + r.CHAR_ATLAS_CELL_SPACING, l = this._config.scaledCharHeight + r.CHAR_ATLAS_CELL_SPACING;
return t.dim && (e.globalAlpha = r.DIM_OPACITY), e.drawImage(this._texture, t.code * a, o * l, a, this._config.scaledCharHeight, n, i, a, this._config.scaledCharHeight), e.restore(), !0;
}, t;
}(a.default);
n.default = l;
}, {
"./BaseCharAtlas": 38,
"./CharAtlasGenerator": 40,
"./CharAtlasUtils": 41,
"./Types": 46
} ],
46: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
}), n.DEFAULT_COLOR = 256, n.INVERTED_DEFAULT_COLOR = 257, n.DIM_OPACITY = .5, n.CHAR_ATLAS_CELL_SPACING = 1;
}, {} ],
47: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("../../common/EventEmitter"), o = e("../ColorManager"), a = e("../../ui/RenderDebouncer"), s = e("./DomRendererRowFactory"), l = e("../atlas/Types"), c = "xterm-dom-renderer-owner-", u = "xterm-rows", d = "xterm-selection", h = 1, f = function(e) {
function t(t, n) {
var i = e.call(this) || this;
i._terminal = t, i._terminalClass = h++, i._rowElements = [];
var r = i._terminal.options.allowTransparency;
return i.colorManager = new o.ColorManager(document, r), i.setTheme(n), i._rowContainer = document.createElement("div"), i._rowContainer.classList.add(u), i._rowContainer.style.lineHeight = "normal", i._rowContainer.setAttribute("aria-hidden", "true"), i._refreshRowElements(i._terminal.cols, i._terminal.rows), i._selectionContainer = document.createElement("div"), i._selectionContainer.classList.add(d), i._selectionContainer.setAttribute("aria-hidden", "true"), i.dimensions = {
scaledCharWidth: null,
scaledCharHeight: null,
scaledCellWidth: null,
scaledCellHeight: null,
scaledCharLeft: null,
scaledCharTop: null,
scaledCanvasWidth: null,
scaledCanvasHeight: null,
canvasWidth: null,
canvasHeight: null,
actualCellWidth: null,
actualCellHeight: null
}, i._updateDimensions(), i._renderDebouncer = new a.RenderDebouncer(i._terminal, i._renderRows.bind(i)), i._rowFactory = new s.DomRendererRowFactory(document), i._terminal.element.classList.add(c + i._terminalClass), i._terminal.screenElement.appendChild(i._rowContainer), i._terminal.screenElement.appendChild(i._selectionContainer), i._terminal.linkifier.on("linkhover", function(e) {
return i._onLinkHover(e);
}), i._terminal.linkifier.on("linkleave", function(e) {
return i._onLinkLeave(e);
}), i;
}
return i(t, e), t.prototype.dispose = function() {
this._terminal.element.classList.remove(c + this._terminalClass), this._terminal.screenElement.removeChild(this._rowContainer), this._terminal.screenElement.removeChild(this._selectionContainer), this._terminal.screenElement.removeChild(this._themeStyleElement), this._terminal.screenElement.removeChild(this._dimensionsStyleElement), e.prototype.dispose.call(this);
}, t.prototype._updateDimensions = function() {
var e = this;
this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio), this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio), this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing), this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight), this.dimensions.scaledCharLeft = 0, this.dimensions.scaledCharTop = 0, this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols, this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows, this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio), this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio), this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols, this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows, 
this._rowElements.forEach(function(t) {
t.style.width = e.dimensions.canvasWidth + "px", t.style.height = e.dimensions.actualCellHeight + "px", t.style.lineHeight = e.dimensions.actualCellHeight + "px", t.style.overflow = "hidden";
}), this._dimensionsStyleElement || (this._dimensionsStyleElement = document.createElement("style"), this._terminal.screenElement.appendChild(this._dimensionsStyleElement));
var t = this._terminalSelector + " ." + u + " span { display: inline-block; height: 100%; vertical-align: top; width: " + this.dimensions.actualCellWidth + "px}";
this._dimensionsStyleElement.innerHTML = t, this._selectionContainer.style.height = this._terminal._viewportElement.style.height, this._terminal.screenElement.style.width = this.dimensions.canvasWidth + "px", this._terminal.screenElement.style.height = this.dimensions.canvasHeight + "px";
}, t.prototype.setTheme = function(e) {
var t = this;
e && this.colorManager.setTheme(e), this._themeStyleElement || (this._themeStyleElement = document.createElement("style"), this._terminal.screenElement.appendChild(this._themeStyleElement));
var n = this._terminalSelector + " ." + u + " { color: " + this.colorManager.colors.foreground.css + "; background-color: " + this.colorManager.colors.background.css + "; font-family: " + this._terminal.getOption("fontFamily") + "; font-size: " + this._terminal.getOption("fontSize") + "px;}";
return n += this._terminalSelector + " span:not(." + s.BOLD_CLASS + ") { font-weight: " + this._terminal.options.fontWeight + ";}" + this._terminalSelector + " span." + s.BOLD_CLASS + " { font-weight: " + this._terminal.options.fontWeightBold + ";}" + this._terminalSelector + " span." + s.ITALIC_CLASS + " { font-style: italic;}", n += this._terminalSelector + " ." + u + ":not(.xterm-focus) ." + s.CURSOR_CLASS + " { outline: 1px solid " + this.colorManager.colors.cursor.css + "; outline-offset: -1px;}" + this._terminalSelector + " ." + u + ".xterm-focus ." + s.CURSOR_CLASS + "." + s.CURSOR_STYLE_BLOCK_CLASS + " { background-color: " + this.colorManager.colors.cursor.css + "; color: " + this.colorManager.colors.cursorAccent.css + ";}" + this._terminalSelector + " ." + u + ".xterm-focus ." + s.CURSOR_CLASS + "." + s.CURSOR_STYLE_BAR_CLASS + " { box-shadow: 1px 0 0 " + this.colorManager.colors.cursor.css + " inset;}" + this._terminalSelector + " ." + u + ".xterm-focus ." + s.CURSOR_CLASS + "." + s.CURSOR_STYLE_UNDERLINE_CLASS + " { box-shadow: 0 -1px 0 " + this.colorManager.colors.cursor.css + " inset;}", 
n += this._terminalSelector + " ." + d + " { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}" + this._terminalSelector + " ." + d + " div { position: absolute; background-color: " + this.colorManager.colors.selection.css + ";}", this.colorManager.colors.ansi.forEach(function(e, i) {
n += t._terminalSelector + " .xterm-fg-" + i + " { color: " + e.css + "; }" + t._terminalSelector + " .xterm-bg-" + i + " { background-color: " + e.css + "; }";
}), n += this._terminalSelector + " .xterm-fg-" + l.INVERTED_DEFAULT_COLOR + " { color: " + this.colorManager.colors.background.css + "; }" + this._terminalSelector + " .xterm-bg-" + l.INVERTED_DEFAULT_COLOR + " { background-color: " + this.colorManager.colors.foreground.css + "; }", this._themeStyleElement.innerHTML = n, this.colorManager.colors;
}, t.prototype.onWindowResize = function(e) {
this._updateDimensions();
}, t.prototype._refreshRowElements = function(e, t) {
for (var n = this._rowElements.length; n <= t; n++) {
var i = document.createElement("div");
this._rowContainer.appendChild(i), this._rowElements.push(i);
}
for (;this._rowElements.length > t; ) this._rowContainer.removeChild(this._rowElements.pop());
}, t.prototype.onResize = function(e, t) {
this._refreshRowElements(e, t), this._updateDimensions();
}, t.prototype.onCharSizeChanged = function() {
this._updateDimensions();
}, t.prototype.onBlur = function() {
this._rowContainer.classList.remove("xterm-focus");
}, t.prototype.onFocus = function() {
this._rowContainer.classList.add("xterm-focus");
}, t.prototype.onSelectionChanged = function(e, t, n) {
for (;this._selectionContainer.children.length; ) this._selectionContainer.removeChild(this._selectionContainer.children[0]);
if (e && t) {
var i = e[1] - this._terminal.buffer.ydisp, r = t[1] - this._terminal.buffer.ydisp, o = Math.max(i, 0), a = Math.min(r, this._terminal.rows - 1);
if (!(o >= this._terminal.rows || a < 0)) {
var s = document.createDocumentFragment();
if (n) s.appendChild(this._createSelectionElement(o, e[0], t[0], a - o + 1)); else {
var l = i === o ? e[0] : 0, c = o === a ? t[0] : this._terminal.cols;
s.appendChild(this._createSelectionElement(o, l, c));
var u = a - o - 1;
if (s.appendChild(this._createSelectionElement(o + 1, 0, this._terminal.cols, u)), o !== a) {
var d = r === a ? t[0] : this._terminal.cols;
s.appendChild(this._createSelectionElement(a, 0, d));
}
}
this._selectionContainer.appendChild(s);
}
}
}, t.prototype._createSelectionElement = function(e, t, n, i) {
void 0 === i && (i = 1);
var r = document.createElement("div");
return r.style.height = i * this.dimensions.actualCellHeight + "px", r.style.top = e * this.dimensions.actualCellHeight + "px", r.style.left = t * this.dimensions.actualCellWidth + "px", r.style.width = this.dimensions.actualCellWidth * (n - t) + "px", r;
}, t.prototype.onCursorMove = function() {}, t.prototype.onOptionsChanged = function() {
this._updateDimensions(), this.setTheme(void 0), this._terminal.refresh(0, this._terminal.rows - 1);
}, t.prototype.clear = function() {
this._rowElements.forEach(function(e) {
return e.innerHTML = "";
});
}, t.prototype.refreshRows = function(e, t) {
this._renderDebouncer.refresh(e, t);
}, t.prototype._renderRows = function(e, t) {
for (var n = this._terminal, i = n.buffer.ybase + n.buffer.y, r = this._terminal.buffer.x, o = e; o <= t; o++) {
var a = this._rowElements[o];
a.innerHTML = "";
var s = o + n.buffer.ydisp, l = n.buffer.lines.get(s), c = n.options.cursorStyle;
a.appendChild(this._rowFactory.createRow(l, s === i, c, r, this.dimensions.actualCellWidth, n.cols));
}
this._terminal.emit("refresh", {
start: e,
end: t
});
}, Object.defineProperty(t.prototype, "_terminalSelector", {
get: function() {
return "." + c + this._terminalClass;
},
enumerable: !0,
configurable: !0
}), t.prototype.registerCharacterJoiner = function(e) {
return -1;
}, t.prototype.deregisterCharacterJoiner = function(e) {
return !1;
}, t.prototype._onLinkHover = function(e) {
this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !0);
}, t.prototype._onLinkLeave = function(e) {
this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !1);
}, t.prototype._setCellUnderline = function(e, t, n, i, r, o) {
for (;e !== t || n !== i; ) {
var a = this._rowElements[n];
if (!a) return;
var s = a.children[e];
s && (s.style.textDecoration = o ? "underline" : "none"), ++e >= r && (e = 0, n++);
}
}, t;
}(r.EventEmitter);
n.DomRenderer = f;
}, {
"../../common/EventEmitter": 19,
"../../ui/RenderDebouncer": 54,
"../ColorManager": 31,
"../atlas/Types": 46,
"./DomRendererRowFactory": 48
} ],
48: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("../../Buffer"), r = e("../atlas/Types");
n.BOLD_CLASS = "xterm-bold", n.ITALIC_CLASS = "xterm-italic", n.CURSOR_CLASS = "xterm-cursor", n.CURSOR_STYLE_BLOCK_CLASS = "xterm-cursor-block", n.CURSOR_STYLE_BAR_CLASS = "xterm-cursor-bar", n.CURSOR_STYLE_UNDERLINE_CLASS = "xterm-cursor-underline";
var o = function() {
function e(e) {
this._document = e;
}
return e.prototype.createRow = function(e, t, o, a, s, l) {
for (var c = this._document.createDocumentFragment(), u = 0, d = Math.min(e.length, l) - 1; d >= 0; d--) if ((h = e.get(d))[i.CHAR_DATA_CODE_INDEX] !== i.NULL_CELL_CODE || t && d === a) {
u = d + 1;
break;
}
for (d = 0; d < u; d++) {
var h = e.get(d), f = h[i.CHAR_DATA_CHAR_INDEX] || i.WHITESPACE_CELL_CHAR, p = h[i.CHAR_DATA_ATTR_INDEX], g = h[i.CHAR_DATA_WIDTH_INDEX];
if (0 !== g) {
var m = this._document.createElement("span");
g > 1 && (m.style.width = s * g + "px");
var v = p >> 18, y = 511 & p, b = p >> 9 & 511;
if (t && d === a) switch (m.classList.add(n.CURSOR_CLASS), o) {
case "bar":
m.classList.add(n.CURSOR_STYLE_BAR_CLASS);
break;

case "underline":
m.classList.add(n.CURSOR_STYLE_UNDERLINE_CLASS);
break;

default:
m.classList.add(n.CURSOR_STYLE_BLOCK_CLASS);
}
if (8 & v) {
var _ = y;
y = b, (b = _) === r.DEFAULT_COLOR && (b = r.INVERTED_DEFAULT_COLOR), y === r.DEFAULT_COLOR && (y = r.INVERTED_DEFAULT_COLOR);
}
1 & v && (b < 8 && (b += 8), m.classList.add(n.BOLD_CLASS)), 64 & v && m.classList.add(n.ITALIC_CLASS), m.textContent = f, b !== r.DEFAULT_COLOR && m.classList.add("xterm-fg-" + b), y !== r.DEFAULT_COLOR && m.classList.add("xterm-bg-" + y), c.appendChild(m);
}
}
return c;
}, e;
}();
n.DomRendererRowFactory = o;
}, {
"../../Buffer": 2,
"../atlas/Types": 46
} ],
49: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t(t, n) {
var i = e.call(this) || this;
return i._document = t, i._parentElement = n, i._measureElement = i._document.createElement("span"), i._measureElement.classList.add("xterm-char-measure-element"), i._measureElement.textContent = "W", i._measureElement.setAttribute("aria-hidden", "true"), i._parentElement.appendChild(i._measureElement), i;
}
return i(t, e), Object.defineProperty(t.prototype, "width", {
get: function() {
return this._width;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "height", {
get: function() {
return this._height;
},
enumerable: !0,
configurable: !0
}), t.prototype.measure = function(e) {
this._measureElement.style.fontFamily = e.fontFamily, this._measureElement.style.fontSize = e.fontSize + "px";
var t = this._measureElement.getBoundingClientRect();
if (0 !== t.width && 0 !== t.height) {
var n = Math.ceil(t.height);
this._width === t.width && this._height === n || (this._width = t.width, this._height = n, this.emit("charsizechanged"));
}
}, t;
}(e("../common/EventEmitter").EventEmitter);
n.CharMeasure = r;
}, {
"../common/EventEmitter": 19
} ],
50: [ function(e, t, n) {
"use strict";
function i(e) {
return e.replace(/\r?\n/g, "\r");
}
function r(e, t) {
return t ? "[200~" + e + "[201~" : e;
}
function o(e, t) {
var n = t.screenElement.getBoundingClientRect(), i = e.clientX - n.left - 10, r = e.clientY - n.top - 10;
t.textarea.style.position = "absolute", t.textarea.style.width = "20px", t.textarea.style.height = "20px", t.textarea.style.left = i + "px", t.textarea.style.top = r + "px", t.textarea.style.zIndex = "1000", t.textarea.focus(), setTimeout(function() {
t.textarea.style.position = null, t.textarea.style.width = null, t.textarea.style.height = null, t.textarea.style.left = null, t.textarea.style.top = null, t.textarea.style.zIndex = null;
}, 200);
}
Object.defineProperty(n, "__esModule", {
value: !0
}), n.prepareTextForTerminal = i, n.bracketTextForPaste = r, n.copyHandler = function(e, t, n) {
t.browser.isMSIE ? window.clipboardData.setData("Text", n.selectionText) : e.clipboardData.setData("text/plain", n.selectionText), e.preventDefault();
}, n.pasteHandler = function(e, t) {
e.stopPropagation();
var n = function(n) {
n = r(n = i(n), t.bracketedPasteMode), t.handler(n), t.textarea.value = "", t.emit("paste", n), t.cancel(e);
};
t.browser.isMSIE ? window.clipboardData && n(window.clipboardData.getData("Text")) : e.clipboardData && n(e.clipboardData.getData("text/plain"));
}, n.moveTextAreaUnderMouseCursor = o, n.rightClickHandler = function(e, t, n, i) {
o(e, t), i && !n.isClickInSelection(e) && n.selectWordAtCursor(e), t.textarea.value = n.selectionText, t.textarea.select();
};
}, {} ],
51: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
}), n.addDisposableDomListener = function(e, t, n, i) {
return e.addEventListener(t, n, i), {
dispose: function() {
n && (e.removeEventListener(t, n, i), e = null, n = null);
}
};
};
}, {} ],
52: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e) {
this._renderer = e;
}
return e.prototype.setRenderer = function(e) {
this._renderer = e;
}, e.getCoordsRelativeToElement = function(e, t) {
var n = t.getBoundingClientRect();
return [ e.clientX - n.left, e.clientY - n.top ];
}, e.prototype.getCoords = function(t, n, i, r, o, a) {
if (!i.width || !i.height) return null;
var s = e.getCoordsRelativeToElement(t, n);
return s ? (s[0] = Math.ceil((s[0] + (a ? this._renderer.dimensions.actualCellWidth / 2 : 0)) / this._renderer.dimensions.actualCellWidth), s[1] = Math.ceil(s[1] / this._renderer.dimensions.actualCellHeight), s[0] = Math.min(Math.max(s[0], 1), r + (a ? 1 : 0)), s[1] = Math.min(Math.max(s[1], 1), o), s) : null;
}, e.prototype.getRawByteCoords = function(e, t, n, i, r) {
var o = this.getCoords(e, t, n, i, r), a = o[0], s = o[1];
return a += 32, s += 32, {
x: a,
y: s
};
}, e;
}();
n.MouseHelper = i;
}, {} ],
53: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = e("../common/Lifecycle"), o = e("./Lifecycle"), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n._terminal = t, n._zones = [], n._areZonesActive = !1, n._tooltipTimeout = null, n._currentZone = null, n._lastHoverCoords = [ null, null ], n.register(o.addDisposableDomListener(n._terminal.element, "mousedown", function(e) {
return n._onMouseDown(e);
})), n._mouseMoveListener = function(e) {
return n._onMouseMove(e);
}, n._mouseLeaveListener = function(e) {
return n._onMouseLeave(e);
}, n._clickListener = function(e) {
return n._onClick(e);
}, n;
}
return i(t, e), t.prototype.dispose = function() {
e.prototype.dispose.call(this), this._deactivate();
}, t.prototype.add = function(e) {
this._zones.push(e), 1 === this._zones.length && this._activate();
}, t.prototype.clearAll = function(e, t) {
if (0 !== this._zones.length) {
t || (e = 0, t = this._terminal.rows - 1);
for (var n = 0; n < this._zones.length; n++) {
var i = this._zones[n];
(i.y1 > e && i.y1 <= t + 1 || i.y2 > e && i.y2 <= t + 1 || i.y1 < e && i.y2 > t + 1) && (this._currentZone && this._currentZone === i && (this._currentZone.leaveCallback(), this._currentZone = null), this._zones.splice(n--, 1));
}
0 === this._zones.length && this._deactivate();
}
}, t.prototype._activate = function() {
this._areZonesActive || (this._areZonesActive = !0, this._terminal.element.addEventListener("mousemove", this._mouseMoveListener), this._terminal.element.addEventListener("mouseleave", this._mouseLeaveListener), this._terminal.element.addEventListener("click", this._clickListener));
}, t.prototype._deactivate = function() {
this._areZonesActive && (this._areZonesActive = !1, this._terminal.element.removeEventListener("mousemove", this._mouseMoveListener), this._terminal.element.removeEventListener("mouseleave", this._mouseLeaveListener), this._terminal.element.removeEventListener("click", this._clickListener));
}, t.prototype._onMouseMove = function(e) {
this._lastHoverCoords[0] === e.pageX && this._lastHoverCoords[1] === e.pageY || (this._onHover(e), this._lastHoverCoords = [ e.pageX, e.pageY ]);
}, t.prototype._onHover = function(e) {
var t = this, n = this._findZoneEventAt(e);
n !== this._currentZone && (this._currentZone && (this._currentZone.leaveCallback(), this._currentZone = null, this._tooltipTimeout && clearTimeout(this._tooltipTimeout)), n && (this._currentZone = n, n.hoverCallback && n.hoverCallback(e), this._tooltipTimeout = setTimeout(function() {
return t._onTooltip(e);
}, 500)));
}, t.prototype._onTooltip = function(e) {
this._tooltipTimeout = null;
var t = this._findZoneEventAt(e);
t && t.tooltipCallback && t.tooltipCallback(e);
}, t.prototype._onMouseDown = function(e) {
if (this._areZonesActive) {
var t = this._findZoneEventAt(e);
t && t.willLinkActivate(e) && (e.preventDefault(), e.stopImmediatePropagation());
}
}, t.prototype._onMouseLeave = function(e) {
this._currentZone && (this._currentZone.leaveCallback(), this._currentZone = null, this._tooltipTimeout && clearTimeout(this._tooltipTimeout));
}, t.prototype._onClick = function(e) {
var t = this._findZoneEventAt(e);
t && (t.clickCallback(e), e.preventDefault(), e.stopImmediatePropagation());
}, t.prototype._findZoneEventAt = function(e) {
var t = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);
if (!t) return null;
for (var n = t[0], i = t[1], r = 0; r < this._zones.length; r++) {
var o = this._zones[r];
if (o.y1 === o.y2) {
if (i === o.y1 && n >= o.x1 && n < o.x2) return o;
} else if (i === o.y1 && n >= o.x1 || i === o.y2 && n < o.x2 || i > o.y1 && i < o.y2) return o;
}
return null;
}, t;
}(r.Disposable);
n.MouseZoneManager = a;
var s = function() {
return function(e, t, n, i, r, o, a, s, l) {
this.x1 = e, this.y1 = t, this.x2 = n, this.y2 = i, this.clickCallback = r, this.hoverCallback = o, this.tooltipCallback = a, this.leaveCallback = s, this.willLinkActivate = l;
};
}();
n.MouseZone = s;
}, {
"../common/Lifecycle": 20,
"./Lifecycle": 51
} ],
54: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e, t) {
this._terminal = e, this._callback = t, this._animationFrame = null;
}
return e.prototype.dispose = function() {
this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = null);
}, e.prototype.refresh = function(e, t) {
var n = this;
e = null !== e && void 0 !== e ? e : 0, t = null !== t && void 0 !== t ? t : this._terminal.rows - 1;
var i = void 0 !== this._rowStart && null !== this._rowStart, r = void 0 !== this._rowEnd && null !== this._rowEnd;
this._rowStart = i ? Math.min(this._rowStart, e) : e, this._rowEnd = r ? Math.max(this._rowEnd, t) : t, this._animationFrame || (this._animationFrame = window.requestAnimationFrame(function() {
return n._innerRefresh();
}));
}, e.prototype._innerRefresh = function() {
this._rowStart = Math.max(this._rowStart, 0), this._rowEnd = Math.min(this._rowEnd, this._terminal.rows - 1), this._callback(this._rowStart, this._rowEnd), this._rowStart = null, this._rowEnd = null, this._animationFrame = null;
}, e;
}();
n.RenderDebouncer = i;
}, {} ],
55: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = function(t, n) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
})(t, n);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i(t, e), t.prototype.setListener = function(e) {
var t = this;
this._listener && this.clearListener(), this._listener = e, this._outerListener = function() {
t._listener(window.devicePixelRatio, t._currentDevicePixelRatio), t._updateDpr();
}, this._updateDpr();
}, t.prototype.dispose = function() {
e.prototype.dispose.call(this), this.clearListener();
}, t.prototype._updateDpr = function() {
this._resolutionMediaMatchList && this._resolutionMediaMatchList.removeListener(this._outerListener), this._currentDevicePixelRatio = window.devicePixelRatio, this._resolutionMediaMatchList = window.matchMedia("screen and (resolution: " + window.devicePixelRatio + "dppx)"), this._resolutionMediaMatchList.addListener(this._outerListener);
}, t.prototype.clearListener = function() {
this._listener && (this._resolutionMediaMatchList.removeListener(this._outerListener), this._listener = null, this._outerListener = null);
}, t;
}(e("../common/Lifecycle").Disposable);
n.ScreenDprMonitor = r;
}, {
"../common/Lifecycle": 20
} ],
56: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./public/Terminal");
t.exports = i.Terminal;
}, {
"./public/Terminal": 28
} ]
}, {}, [ 56 ])(56);
}), function(e, t) {
"function" == typeof define && define.amd ? define([ "angular", "term" ], t) : t(e.angular, e.Terminal);
}(this, function(e, t) {
"use strict";
function n(e) {
return window.btoa(window.unescape(encodeURIComponent(e)));
}
function i(e) {
return decodeURIComponent(window.escape(window.atob(e)));
}
try {
e.module("kubernetesUI");
} catch (t) {
e.module("kubernetesUI", []);
}
return e.module("kubernetesUI").provider("kubernetesContainerSocket", function() {
function t(t, n) {
if (n) return e.isString(n) ? t.get(n, "kubernetesContainerSocket") : t.invoke(n);
throw "no WebSocketFactory set";
}
var n = this;
n.WebSocketFactory = function() {
return function(e, t) {
return 0 === e.indexOf("/") && (e = "http:" === window.location.protocol ? "ws://" + window.location.host + e : "wss://" + window.location.host + e), new window.WebSocket(e, t);
};
}, n.$get = [ "$injector", function(e) {
return t(e, n.WebSocketFactory);
} ];
}).directive("kubernetesContainerTerminal", [ "$q", "kubernetesContainerSocket", function(r, o) {
return {
restrict: "E",
scope: {
pod: "&",
container: "&",
command: "=?",
prevent: "=?",
rows: "=?",
cols: "=?",
screenKeys: "=?",
autofocus: "=?",
status: "=?"
},
link: function(a, s, l) {
function c() {
function e(e) {
!e && c && (e = "Could not connect to the container. Do you have sufficient privileges?"), e || (e = "disconnected"), c || (e = "\r\n" + e), m.write("[31m" + e + "[m\r\n"), a.status = "disconnected", a.$apply(u);
}
u(), m.reset();
var t = "", n = a.pod();
n.metadata ? t += n.metadata.selfLink : t += n, -1 === (t += "/exec").indexOf("?") && (t += "?"), t += "stdout=1&stdin=1&stderr=1&tty=1";
var s = a.container ? a.container() : null;
s && (t += "&container=" + encodeURIComponent(s));
var l = a.command;
l || (l = [ "/bin/sh", "-i" ]), "string" == typeof l && (l = [ l ]), l.forEach(function(e) {
t += "&command=" + encodeURIComponent(e);
});
var c = !0;
h.removeClass("hidden"), f.addClass("hidden"), r.when(o(t, "base64.channel.k8s.io"), function(t) {
(g = t).onopen = function(e) {
p = window.setInterval(function() {
g.send("0");
}, 3e4), y();
}, g.onmessage = function(e) {
var t = e.data.slice(1);
switch (e.data[0]) {
case "1":
case "2":
case "3":
m.write(i(t));
}
c && (c = !1, h.addClass("hidden"), f.addClass("hidden"), m.cursorHidden = !1, m._core.showCursor(), a.autofocus && m.element && m.focus());
}, g.onclose = function(t) {
a.status = "disconnected", e(t.reason);
};
}, function(t) {
e(t.message);
}), a.status = "connected";
}
function u() {
a.status = "disconnected", h.addClass("hidden"), f.removeClass("hidden"), m && (m.cursorHidden = !0, m.refresh(m._core.buffer.y, m._core.buffer.y)), g && (g.onopen = g.onmessage = g.onerror = g.onclose = null, g.readyState < 2 && g.close(), g = null), window.clearInterval(p), p = null;
}
a.status = "disconnected";
var d = e.element("<div class='terminal-wrapper'>");
s.append(d);
var h = e.element("<div class='spinner spinner-inverse hidden'>"), f = e.element("<button class='btn btn-default fa fa-refresh'>");
f.on("click", c).attr("title", "Connect"), s.append(e.element("<div class='terminal-actions'>").append(h).append(f));
var p = null, g = null, m = new t({
cols: a.cols || 80,
rows: a.rows || 24,
cursorBlink: !0,
fontFamily: "'Courier New', 'Courier', monospace",
fontSize: 12,
lineHeight: 1,
theme: {
foreground: "#f0f0f0"
},
screenKeys: a.screenKeys || !0,
applicationCursor: !0,
mouseEvents: !0
});
d.empty(), m.open(d[0]), m.cursorHidden = !0, m.refresh(m._core.buffer.y, m._core.buffer.y), m.on("data", function(e) {
g && 1 === g.readyState && g.send("0" + n(e));
});
var v = function() {
var e = a.cols || 80;
m._core.charMeasure.width && (s[0].getElementsByClassName("xterm-viewport")[0].style.width = m._core.charMeasure.width * e + 17 + "px");
};
m._core.charMeasure.on("charsizechanged", v);
var y = function() {
var e = a.cols || 80, t = a.rows || 24;
m.resize(e, t), v(), g && 1 === g.readyState && g.send("4" + window.btoa('{"Width":' + e + ',"Height":' + t + "}"));
};
a.$watchGroup([ "cols", "rows" ], y), a.$watch("prevent", function(e) {
e || c();
}), a.$on("$destroy", function() {
m && m.destroy(), u();
});
}
};
} ]);
}), function(e) {
function t(i) {
if (n[i]) return n[i].exports;
var r = n[i] = {
i: i,
l: !1,
exports: {}
};
return e[i].call(r.exports, r, r.exports, t), r.l = !0, r.exports;
}
var n = {};
t.m = e, t.c = n, t.i = function(e) {
return e;
}, t.d = function(e, n, i) {
t.o(e, n) || Object.defineProperty(e, n, {
configurable: !1,
enumerable: !0,
get: i
});
}, t.n = function(e) {
var n = e && e.__esModule ? function() {
return e.default;
} : function() {
return e;
};
return t.d(n, "a", n), n;
}, t.o = function(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}, t.p = "", t(t.s = 19);
}([ function(e, t) {}, function(e, t) {}, function(e, t) {
angular.module("registryUI.client", []).factory("WeakMap", function() {
if ("function" == typeof window.WeakMap) return window.WeakMap;
var e, t = 1;
return function() {
var n = "weakmap" + t;
t += 1, e || (e = Math.random().toString(36).slice(2));
var i = this;
i.delete = function(t) {
var i = t[e];
i && delete i[n];
}, i.has = function(t) {
var i = t[e];
return i && n in i;
}, i.get = function(t) {
var i = t[e];
if (i) return i[n];
}, i.set = function(t, i) {
var r = t[e];
r || (r = function() {}, Object.defineProperty(t, e, {
enumerable: !1,
configurable: !1,
writable: !1,
value: r
})), r[n] = i;
};
};
});
}, function(e, t) {
angular.module("registryUI.date", []).provider("MomentLib", [ function() {
function e(e, t) {
return angular.isString(t) ? e.get(t, "MomentLib") : e.invoke(t);
}
var t = this;
t.MomentLibFactory = "globalMoment", t.$get = [ "$injector", function(n) {
return e(n, t.MomentLibFactory);
} ];
} ]).factory("globalMoment", [ function() {
return moment;
} ]).factory("dateRefreshMinute", [ "$rootScope", function(e) {
var t = null;
return {
enable: function() {
null === t && (t = window.setInterval(function() {
e.$applyAsync();
}, 6e4));
},
disable: function() {
null !== t && (window.clearInterval(t), t = null);
}
};
} ]).filter("dateRelative", [ "MomentLib", "dateRefreshMinute", function(e) {
function t(t) {
return t ? e(t).fromNow() : t;
}
return "function" == typeof e && (e.createFromInputFallback = function(e) {
e._d = new Date(e._i);
}), t.$stateful = !0, "function" == typeof e ? t : function(e) {
return e;
};
} ]);
}, function(e, t) {
!function() {
"use strict";
angular.module("registryUI.images", [ "registryUI.client", "registryUI.date", "gettext" ]).factory("imageDockerManifest", [ "WeakMap", function(e) {
var t = new e();
return function(e) {
if (!e) return {};
var n = t.get(e);
return n || (n = JSON.parse(e.dockerImageManifest || "{ }"), angular.forEach(n.history || [], function(e) {
"string" == typeof e.v1Compatibility && (e.v1Compatibility = JSON.parse(e.v1Compatibility));
}), t.set(e, n)), n;
};
} ]).factory("imageDockerConfig", [ "WeakMap", "imageLayers", function(e, t) {
var n = new e();
return function(e) {
if (!e) return {};
var i, r, o, a = n.get(e);
return a || ((r = t(e)).length && (o = r[0].v1Compatibility), o && o.config ? a = o.config : (i = e.dockerImageMetadata || {}).Config && (a = i.Config), n.set(e, a)), a || {};
};
} ]).factory("imageLayers", [ "WeakMap", "imageDockerManifest", function(e, t) {
var n = new e();
return function(e) {
if (!e) return [];
var i, r = n.get(e);
return r || (r = (i = t(e)).history ? i.history : e.dockerImageLayers ? e.dockerImageLayers : [], n.set(e, r)), r;
};
} ]).factory("imagestreamTags", [ "WeakMap", function(e) {
var t = new e();
return function(e) {
if (!e) return [];
var n, i, r = t.get(e);
if (!r) {
i = {}, angular.forEach(e.spec.tags, function(t) {
i[t.name] = i[t.name] || {
name: t.name,
imagestream: e
}, i[t.name].spec = angular.copy(t);
}), angular.forEach(e.status.tags, function(t) {
i[t.tag] = i[t.tag] || {
name: t.tag,
imagestream: e
}, i[t.tag].status = angular.copy(t);
}), r = [];
for (n in i) r.push(i[n]);
t.set(e, r);
}
return r;
};
} ]).factory("imagestreamTagFromName", [ function() {
return function(e, t) {
var n, i = [];
return t && "ImageStreamImage" === t.kind ? i.delimiter = "@" : t && "ImageStreamTag" === t.kind && (i.delimiter = ":"), i.delimiter && (1 === (n = t.name.split(i.delimiter)).length ? i.push(e.spec.name, n[0]) : (i.push(n.shift()), i.push(n.join(i.delimiter))), i.qualified = i.join(i.delimiter)), i;
};
} ]).directive("registryImageBody", [ "imageLayers", "imageDockerConfig", function(e, t) {
return {
restrict: "E",
scope: {
image: "=",
names: "="
},
templateUrl: "registry-image-widgets/views/image-body.html",
link: function(n, i, r) {
n.$watch("image", function(i) {
n.layers = e(i), n.config = t(i), n.labels = n.config.Labels, angular.equals({}, n.labels) && (n.labels = null);
});
}
};
} ]).directive("registryImagePull", [ function() {
return {
restrict: "E",
scope: {
settings: "=",
names: "="
},
templateUrl: "registry-image-widgets/views/image-pull.html"
};
} ]).directive("registryImageConfig", [ "imageDockerConfig", function(e) {
return {
restrict: "E",
scope: {
image: "="
},
templateUrl: "registry-image-widgets/views/image-config.html",
link: function(t, n, i) {
t.configCommand = function(e) {
var t = [];
if (!e) return "";
e.Entrypoint && t.push.apply(t, e.Entrypoint), e.Cmd && t.push.apply(t, e.Cmd);
var n = t.join(" ");
return e.User && "root" != e.User.split(":")[0] ? "$ " + n : "# " + n;
}, t.$watch("image", function(n) {
t.config = e(n);
});
}
};
} ]).directive("registryImageMeta", [ "imageDockerConfig", function(e) {
return {
restrict: "E",
scope: {
image: "="
},
templateUrl: "registry-image-widgets/views/image-meta.html",
link: function(t, n, i) {
t.$watch("image", function(n) {
t.config = e(n), t.labels = t.config.Labels, angular.equals({}, t.labels) && (t.labels = null);
});
}
};
} ]).directive("registryImagestreamBody", [ function() {
return {
restrict: "E",
scope: {
imagestream: "=",
imagestreamFunc: "&imagestreamModify",
projectFunc: "&projectModify",
sharingFunc: "&projectSharing"
},
templateUrl: "registry-image-widgets/views/imagestream-body.html",
link: function(e, t, n) {
e.projectModify = e.projectFunc(), e.projectSharing = e.sharingFunc(), e.imagestreamModify = e.imagestreamFunc();
}
};
} ]).directive("registryImagestreamPush", [ function(e) {
return {
restrict: "E",
scope: {
imagestream: "=",
settings: "="
},
templateUrl: "registry-image-widgets/views/imagestream-push.html"
};
} ]).directive("registryAnnotations", [ function() {
return {
restrict: "E",
scope: {
annotations: "="
},
templateUrl: "registry-image-widgets/views/annotations.html"
};
} ]).directive("registryImagestreamMeta", [ function(e) {
return {
restrict: "E",
scope: {
imagestream: "="
},
templateUrl: "registry-image-widgets/views/imagestream-meta.html"
};
} ]).factory("registryImageListingFunc", [ "imagestreamTags", "imagestreamTagFromName", "$location", function(e, t, n) {
return function(i, r, o) {
function a(e, t) {
var n = e.metadata.namespace + "/" + e.metadata.name;
return t && (n += "/" + t.name), n;
}
i.imagestreamTags = e, i.imagestreamPath = i.imagestreamFunc(), i.imageByTag = i.imageByTagFunc(), i.imageTagNames = i.imageTagNamesFunc(), i.sharedImages = i.sharedImagesFunc(), i.imagestreamTagFromName = t, i.imagestreamActivate = function(e, t, r) {
i.imagestreamExpanded(e, t) ? i.imagestreamToggle(e, t, r) : !i.$emit("activate", e, t, r).defaultPrevented && i.imagestreamPath && n.path(i.imagestreamPath(e, t)), r.preventDefault(), r.stopPropagation();
};
var s = {};
i.imagestreamExpanded = function(e, t) {
return a(e, t) in s;
}, i.imagestreamToggle = function(e, t, n) {
var i = a(e, t);
i in s ? delete s[i] : s[i] = !0, n.stopPropagation();
};
};
} ]).directive("registryImagestreamListing", [ "registryImageListingFunc", function(e) {
return {
restrict: "E",
scope: {
imagestreams: "=",
imagestreamFunc: "&imagestreamPath",
settings: "=",
actions: "=",
imageByTagFunc: "&imageByTag",
imageTagNamesFunc: "&imageTagNames",
sharedImagesFunc: "&sharedImages"
},
templateUrl: "registry-image-widgets/views/imagestream-listing.html",
link: e
};
} ]).directive("registryImageListing", [ "registryImageListingFunc", function(e) {
return {
restrict: "E",
scope: {
imagestream: "=",
imagestreamFunc: "&imagestreamPath",
settings: "=",
actions: "=",
imageByTagFunc: "&imageByTag",
imageTagNamesFunc: "&imageTagNames",
sharedImagesFunc: "&sharedImages"
},
templateUrl: "registry-image-widgets/views/image-listing.html",
link: e
};
} ]).directive("registryImagePanel", [ "imageDockerConfig", "imageLayers", function(e, t) {
return {
restrict: "E",
transclude: !0,
scope: !0,
templateUrl: "registry-image-widgets/views/image-panel.html",
link: function(n, i, r) {
var o = "main";
n.tab = function(e, t) {
return t && (o = e, t.stopPropagation()), o === e;
}, n.$watch(function() {
n.image = n.imageByTag(n.tag);
}), n.$watch("image", function(i) {
n.image && (n.layers = t(n.image), n.config = e(n.image), n.labels = n.config.Labels, n.imageTagNames && (n.names = n.imageTagNames(n.image)));
});
}
};
} ]).directive("registryImagestreamPanel", [ function() {
return {
restrict: "E",
transclude: !0,
scope: !0,
templateUrl: "registry-image-widgets/views/imagestream-panel.html",
link: function(e, t, n) {
var i = "main";
e.tab = function(e, t) {
return t && (i = e, t.stopPropagation()), i === e;
};
}
};
} ]);
}();
}, function(e, t) {
!function() {
"use strict";
function e(e, t) {
var n, i;
return e.v1Compatibility.container_config && (n = e.v1Compatibility.container_config.Cmd) ? 0 === (i = n[n.length - 1]).indexOf("#(nop)") ? i.substring(6).trim() : 1 == n.length && 0 === n[0].indexOf("/bin/sh -c #(nop)") ? n[0].substring(17).trim() : n.join(" ") : e.v1Compatibility.id;
}
angular.module("registryUI.images").factory("prepareLayer", [ "gettextCatalog", function(t) {
return function(n, i, r) {
var o;
return 0 === (o = n.v1Compatibility ? {
id: n.v1Compatibility.id,
size: n.v1Compatibility.Size || 0,
label: e(n, r[i + 1])
} : n.name && n.size ? {
id: n.name,
size: n.size || 0,
label: n.name
} : {
size: 0,
id: i,
label: t.getString("Unknown layer")
}).label.indexOf("RUN ") ? o.hint = "run" : 0 === o.label.indexOf("ADD ") || o.size > 8192 ? o.hint = "add" : o.hint = "other", o;
};
} ]).directive("registryImageLayers", [ "imageLayers", "prepareLayer", "gettextCatalog", function(e, t, n) {
return {
restrict: "E",
scope: {
image: "=",
data: "=?layers"
},
templateUrl: "registry-image-widgets/views/image-layers.html",
link: function(i, r, o) {
i.formatSize = function(e) {
var t;
return e ? e > 1024 && "undefined" != typeof cockpit ? cockpit.format_bytes(e) : e > 1048576 ? (t = (e / 1048576).toFixed(1), n.getPlural(t, i, "{0} MB", "{0} MB").replace("{0}", t)) : n.getPlural(t, i, "{0} byte", "{0} bytes").replace("{0}", e) : "";
}, i.$watch("data", function(e) {
e && e.length && (e = e.map(t).reverse()), i.layers = e;
}), i.$watch("image", function(t) {
angular.isUndefined(t) || (i.data = e(t));
});
}
};
} ]);
}();
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dt ng-if="annotations" translate>Annotations</dt>\n<dd ng-repeat="(name, value) in annotations">{{name}}: {{value}}</dd>\n', o = "registry-image-widgets/views/annotations.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dl class="dl-horizontal left">\n<dt ng-if="labels.name" translate>Name</dt>\n<dd ng-if="labels.name">{{ labels.name }}</dd>\n<dt ng-if="labels.summary" translate>Summary</dt>\n<dd ng-if="labels.summary">{{ labels.summary }}</dd>\n<dt ng-if="labels.description" translate>Description</dt>\n<dd ng-if="labels.description">{{ labels.description }}</dd>\n<dt ng-if="labels.url" translate>Source URL</dt>\n<dd ng-if="labels.url">\n<a href="labels.url"><i class="fa fa-external-link"></i> {{ labels.url }}</a>\n</dd>\n<dt translate>Author</dt>\n<dd ng-if="config.author">{{config.author}}</dd>\n<dd ng-if="!config.author && image.dockerImageMetadata.Author">{{image.dockerImageMetadata.Author}}</dd>\n<dd ng-if="!config.author && !image.dockerImageMetadata.Author && labels[\'MAINTAINER\']">{{labels[\'MAINTAINER\']}}</dd>\n<dd ng-if="!labels[\'MAINTAINER\'] && !config.author && !image.dockerImageMetadata.Author"><em translate>Unknown</em></dd>\n<dt ng-if="labels[\'build-date\'] || layers[0].v1Compatibility.created || image.dockerImageMetadata.Created" translate>Built</dt>\n<dd ng-if="layers[0].v1Compatibility.created" title="{{layers[0].v1Compatibility.created}}">{{ layers[0].v1Compatibility.created | dateRelative}}</dd>\n<dd ng-if="!layers[0].v1Compatibility.created && image.dockerImageMetadata.Created" title="{{image.dockerImageMetadata.Created}}">{{image.dockerImageMetadata.Created | dateRelative}}</dd>\n<dd ng-if="!layers[0].v1Compatibility.created && !image.dockerImageMetadata.Created && labels[\'build-date\']" title="{{labels[\'build-date\']}}">{{ labels[\'build-date\'] | dateRelative}}</dd>\n<dt translate>Digest</dt>\n<dd class="indentifier"><tt>{{ image.metadata.name }}</tt></dd>\n<dt ng-if-start="config.Image" translate>Identifier</dt>\n<dd class="indentifier" ng-if-end><tt>{{ config.Image }}</tt></dd>\n</dl>\n<dl class="registry-image-tags" ng-if="names">\n<dt translate>Tags</dt>\n<dd><span class="registry-image-tag" ng-repeat="name in names">{{name}}</span>&nbsp;</dd>\n</dl>\n', o = "registry-image-widgets/views/image-body.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dl class="dl-horizontal">\n<dt translate>Command</dt>\n<dd><code>{{ configCommand(config) }}</code></dd>\n</dl>\n<div class="row">\n<dl class="col-xs-12 col-sm-12 col-md-4 dl-horizontal">\n<dt translate>Run as</dt>\n<dd ng-if="config.User">{{config.User}}</dd>\n<dd ng-if="!config.User"><em translate>Default</em></dd>\n<dt translate>Directory</dt>\n<dd ng-if="config.WorkingDir">{{config.WorkingDir}}</dd>\n<dd ng-if="!config.WorkingDir">/</dd>\n<dt ng-if="config.StopSignal" translate>Stop with</dt>\n<dd ng-if="config.StopSignal">{{config.StopSignal}}</dd>\n<dt translate>Architecture</dt>\n<dd ng-if="config.architecture">{{config.architecture}}</dd>\n<dd ng-if="!config.architecture">{{image.dockerImageMetadata.Architecture}}</dd>\n</dl>\n<dl class="col-xs-12 col-sm-12 col-md-8 dl-horizontal full-width">\n<dt ng-if="config.Env.length" translate>Environment</dt>\n<dd ng-repeat="env in config.Env"><tt>{{env}}</tt></dd>\n</dl>\n</div>\n<div class="row">\n<dl class="col-xs-12 col-sm-12 col-md-4 dl-horizontal">\n<dt translate>Ports</dt>\n<dd ng-repeat="(port, data) in config.ExposedPorts">{{port}}</dd>\n<dd ng-if="!config.ExposedPorts"><em translate>None</em></dd>\n</dl>\n<dl class="col-xs-12 col-sm-12 col-md-8 dl-horizontal full-width">\n<dt ng-if="config.Volumes" translate>Volumes</dt>\n<dd ng-repeat="(volume, data) in config.Volumes">{{volume}}</dd>\n</dl>\n</div>\n', o = "registry-image-widgets/views/image-config.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<ul class="registry-image-layers">\n<li ng-repeat="layer in layers" class="hint-{{ layer.hint }}">\n<span title="{{ layer.size }}">{{ formatSize(layer.size) }}</span>\n<p>{{ layer.label}}</p>\n</li>\n</ul>\n', o = "registry-image-widgets/views/image-layers.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<table class="listing-ct">\n<thead>\n<tr>\n<th class="listing-ct-toggle"></th>\n<th translate="yes" width="20%">Tag</th>\n<th translate="yes">From</th>\n<th translate="yes">Identifier</th>\n<th translate="yes">Last Updated</th>\n</tr>\n</thead>\n<tbody ng-repeat="tag in imagestreamTags(imagestream) | orderBy : \'tag.name\'" ng-if="imagestream" data-id="{{ imagestream.metadata.namespace + \'/\' + imagestream.metadata.name + \':\' + tag.name }}" ng-class="{open: imagestreamExpanded(imagestream, tag), last: $last, first: $first}">\n<tr ng-click="imagestreamActivate(imagestream, tag, $event)" class="listing-ct-item registry-listing">\n<td ng-click="imagestreamToggle(imagestream, tag, $event)" class="listing-ct-toggle">\n<i class="fa fa-fw"></i>\n</td>\n<th>\n<a class="registry-image-tag" ng-href="{{ imagestreamPath(imagestream, tag) }}" title="{{tag.name }}">{{ tag.name }}</a>\n</th>\n<td ng-init="name = imagestreamTagFromName(imagestream, tag.spec.from)">\n<div ng-if="!name || !tag.spec.from"><em>pushed image</em></div>\n<div ng-if="name" title="{{tag.spec.from.name}}">\n<span ng-if="!name[0]">{{tag.spec.from.name}}</span>\n<span ng-if="name[0]">\n<span ng-if="name[0] === imagestream.metadata.name">{{name.qualified}}</span>\n<span ng-if="name[0] !== imagestream.metadata.name">\n<a ng-click="imagestreamActivate({ metadata: { namespace: tag.spec.from.namespace, name: name[0] }}, name[1], $event)">{{tag.spec.from.name}}</a>\n</span>\n</span>\n</div>\n</td>\n<td class="image-identifier">\n<div class="row" ng-init="annotations = imagestream.metadata.annotations">\n<div class="col col-xs-12" ng-if="!tag.status">\n<div ng-if="annotations[\'openshift.io/image.dockerRepositoryCheck\']">\n<span class="pficon pficon-warning-triangle-o" style="margin-right: 5px" ng-attr-title="{{annotations[\'openshift.io/image.dockerRepositoryCheck\']}}"></span>\n<span translate="yes">Unable to resolve</span>\n</div>\n<div ng-if="!annotations[\'openshift.io/image.dockerRepositoryCheck\']">\n<span ng-if="!tag.spec.from" translate="yes">Not yet synced</span>\n<span ng-if="tag.spec.from" translate="yes">Unresolved</span>\n</div>\n</div>\n<div class="col col-xs-12" ng-if="tag.status">\n<span ng-if="tag.status.items.length &amp;&amp; tag.status.items[0].image">\n<tt title="{{tag.status.items[0].image}}">{{tag.status.items[0].image}}</tt>\n</span>\n<span ng-if="!tag.status.items.length"><em translate="yes">none</em></span>\n</div>\n</div>\n</td>\n<td>\n<div title="{{ tag.items[0].created }}">\n<span ng-if="tag.status.items.length &amp;&amp; tag.status.items[0].image" title="{{ tag.items[0].created }}">\n{{ tag.status.items[0].created | dateRelative }}\n</span>\n</div>\n</td>\n</tr>\n<tr class="listing-ct-panel" ng-if="imagestreamExpanded(imagestream, tag)" ng-repeat-end="">\n<td colspan="5">\n<registry-image-panel ng-init="tag = tag.status"></registry-image-panel>\n</td>\n</tr>\n</tbody>\n<thead class="listing-ct-empty" ng-if="!quiet">\n<tr>\n<td colspan="5" ng-if="!failure && !imagestreamTags(imagestream).length" translate="yes">No tags are present.</td>\n<td colspan="5" ng-if="failure">{{failure}}</td>\n</tr>\n</thead>\n</table>\n', o = "registry-image-widgets/views/image-listing.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div>\n<dl class="dl-horizontal left">\n<dt ng-if="labels" translate>Labels</dt>\n<dd ng-repeat="(name, value) in labels" ng-show="name != \'description\' && name != \'name\'">\n<tt>{{name}}={{value}}</tt>\n</dd>\n<dt ng-if="config.OnBuild.length" translate>On Build</dt>\n<dd ng-repeat="line in config.OnBuild"><tt>{{line}}</tt></dd>\n<registry-annotations annotations="image.metadata.annotations"></registry-annotations>\n<dt translate>Docker Version</dt>\n<dd>{{image.dockerImageMetadata.DockerVersion}}</dd>\n</dl>\n</div>\n', o = "registry-image-widgets/views/image-meta.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div>\n<div class="listing-ct-head">\n<div ng-if="actions.deleteTag" class="listing-ct-actions">\n<button class="btn btn-danger btn-delete pficon pficon-delete" ng-click="actions.deleteTag(imagestream, tag)"></button>\n</div>\n<ul class="nav nav-tabs nav-tabs-pf">\n<li ng-class="{active: tab(\'main\')}">\n<a ng-click="tab(\'main\', $event)" translate>Image</a>\n</li>\n<li ng-class="{active: tab(\'config\')}">\n<a ng-click="tab(\'config\', $event)" translate>Container</a>\n</li>\n<li ng-class="{active: tab(\'meta\')}">\n<a ng-click="tab(\'meta\', $event)" translate>Metadata</a>\n</li>\n</ul>\n</div>\n<div class="listing-ct-body" ng-show="tab(\'main\')">\n<registry-image-body image="image" names="names">\n</registry-image-body>\n<registry-image-pull settings="settings" names="names">\n</registry-image-pull>\n</div>\n<div class="listing-ct-body" ng-show="tab(\'config\')">\n<registry-image-config image="image">\n</registry-image-config>\n</div>\n<div class="listing-ct-body" ng-if="tab(\'meta\')">\n<registry-image-meta image="image">\n</registry-image-meta>\n<registry-image-layers image="image" layers="layers">\n</registry-image-layers>\n</div>\n</div>\n', o = "registry-image-widgets/views/image-panel.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div ng-if="names" class="registry-image-pull">\n<p>\n<i class="fa fa-info-circle"></i>\n<span translate>To pull this image:</span>\n</p>\n<code ng-if="imagestream.status.publicDockerImageRepository">$ sudo docker pull <span>{{imagestream.status.publicDockerImageRepository}}</span>/{{names[0]}}</code>\n<code ng-if="!settings.registry.host && !imagestream.status.publicDockerImageRepository">$ sudo docker pull <span class="placeholder">registry</span>/{{names[0]}}</code>\n<code ng-if="settings.registry.host && !imagestream.status.publicDockerImageRepository">$ sudo docker pull <span>{{settings.registry.host}}</span>/{{names[0]}}</code>\n</div>\n', o = "registry-image-widgets/views/image-pull.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div ng-repeat="statustags in imagestream.status.tags">\n<div ng-repeat="condition in statustags.conditions" ng-if="condition.type == \'ImportSuccess\' && condition.status == \'False\'" class="alert alert-danger">\n<span class="pficon pficon-error-circle-o"></span>\n<span translate>{{ condition.message }}. Timestamp: {{ condition.lastTransitionTime }} Error count: {{ condition.generation }}</span>\n<a translate ng-if="imagestreamModify" ng-click="imagestreamModify(imagestream)" class="alert-link">Edit image stream</a>\n</div>\n</div>\n<dl class="dl-horizontal left">\n<dt translate ng-if="projectSharing">Access Policy</dt>\n<dd ng-if="projectSharing" ng-switch="projectSharing(imagestream.metadata.namespace)">\n<div ng-switch-when="anonymous">\n<a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Images may be pulled by anonymous users</a>\n<span translate ng-if="!projectModify">Images may be pulled by anonymous users</span>\n<i title="Images accessible to anonymous users" class="fa fa-unlock registry-imagestream-lock"></i>\n</div>\n<div ng-switch-when="shared">\n<a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Images may be pulled by any authenticated user or group</a>\n<span translate ng-if="!projectModify">Images may be pulled by any authenticated user or group</span>\n<i title="Images accessible to authenticated users" class="fa fa-lock registry-imagestream-lock"></i>\n</div>\n<div ng-switch-when="private">\n<a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Images may only be pulled by specific users or groups</a>\n<span translate ng-if="!projectModify">Images may only be pulled by specific users or groups</span>\n<i title="Images only accessible to members" class="fa fa-lock registry-imagestream-lock"></i>\n</div>\n<div ng-switch-default>\n<a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Unknown</a>\n<span translate ng-if="!projectModify">Unknown</span>\n<i title="Unknown or invalid image access policy" class="fa fa-lock registry-imagestream-lock"></i>\n</div>\n</dd>\n<dt translate ng-if-start="imagestream.spec.dockerImageRepository">Follows docker repo</dt>\n<dd ng-if-end><tt>{{imagestream.spec.dockerImageRepository}}</tt></dd>\n<dt>Pulling repository</dt>\n<dd><tt>{{imagestream.status.dockerImageRepository}}</tt></dd>\n<dt translate ng-if-start="imagestream.status.publicDockerImageRepository">Public pulling repo</dt>\n<dd ng-if-end><tt>{{imagestream.status.publicDockerImageRepository}}</tt></dd>\n<dt translate>Image count</dt>\n<dd ng-if="imagestream.status.tags.length">{{imagestream.status.tags.length}}</dd>\n<dd ng-if="!imagestream.status.tags.length">0</dd>\n</dl>\n', o = "registry-image-widgets/views/imagestream-body.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<table class="listing-ct">\n<thead>\n<tr>\n<th class="listing-ct-toggle"></th>\n<th translate="yes" width="20%">Name</th>\n<th translate="yes">Tags</th>\n<th translate="yes">Repository</th>\n</tr>\n</thead>\n<tbody ng-repeat="(link, imagestream) in imagestreams track by link | orderBy : \'link\'" ng-if="imagestreams" data-id="{{ imagestream.metadata.namespace + \'/\' + imagestream.metadata.name }}" class="active" ng-class="{open: imagestreamExpanded(imagestream)}">\n<tr ng-click="imagestreamActivate(imagestream, null, $event)" class="listing-ct-item imagestream-item">\n<td ng-click="imagestreamToggle(imagestream, null, $event)" class="listing-ct-toggle">\n<i class="fa fa-fw"></i>\n</td>\n<th>\n{{ imagestream.metadata.namespace + \'/\' + imagestream.metadata.name }}\n<div ng-repeat="statustags in imagestream.status.tags">\n<span ng-repeat="condition in statustags.conditions" ng-if="condition.type == \'ImportSuccess\' &amp;&amp; condition.status == \'False\'" class="pficon pficon-warning-triangle-o"></span>\n</div>\n</th>\n<td ng-init="tag_count = imagestreamTags(imagestream).length">\n<a ng-repeat="tag in imagestreamTags(imagestream) | orderBy : \'tag.name\' | limitTo: 4" class="registry-image-tag" ng-click="imagestreamActivate(imagestream, tag, $event)" title="{{tag.name }}">{{ tag.name }}</a>\n<span ng-if="tag_count > 4" translate-n="tag_count - 4" translate translate-plural="and {{ $count }} others">and {{ $count }} other</span>\n</td>\n<td>\n<span ng-if="!imageStream.status.dockerImageRepository && !imageStream.spec.dockerImageRepository"><em translate>unknown</em></span>\n<span ng-if="imageStream.status.dockerImageRepository || imageStream.spec.dockerImageRepository">{{imageStream.status.dockerImageRepository || imageStream.spec.dockerImageRepository}}</span>\n</td>\n</tr>\n<tr class="listing-ct-panel" ng-if="imagestreamExpanded(imagestream)">\n<td colspan="4">\n<registry-imagestream-panel></registry-imagestream-panel>\n</td>\n</tr>\n</tbody>\n<thead class="listing-ct-empty" ng-if="!quiet">\n<tr>\n<td colspan="4" ng-if="!failure && (!imagestreams || !imagestreams.length)" translate="yes">No image streams are present.</td>\n<td colspan="4" ng-if="failure">{{failure}}</td>\n</tr>\n</thead>\n</table>\n', o = "registry-image-widgets/views/imagestream-listing.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dl class="dl-horizontal left">\n<registry-annotations annotations="imagestream.metadata.annotations"></registry-annotations>\n</dl>\n', o = "registry-image-widgets/views/imagestream-meta.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div>\n<div class="listing-ct-head">\n<div ng-if="actions" class="listing-ct-actions">\n<button class="btn btn-danger btn-delete pficon pficon-delete" ng-if="actions.deleteImageStream" ng-click="actions.deleteImageStream(imagestream)"></button>\n<button class="btn btn-default pficon pficon-edit" ng-if="actions.modifyImageStream" ng-click="actions.modifyImageStream(imagestream)"></button>\n</div>\n<ul class="nav nav-tabs nav-tabs-pf">\n<li ng-class="{active: tab(\'main\')}"><a ng-click="tab(\'main\', $event)" translate>Image stream</a></li>\n<li ng-class="{active: tab(\'meta\')}" ng-if="imagestream.metadata.annotations">\n<a ng-click="tab(\'meta\', $event)" translate>Metadata</a></li>\n<li ng-class="{active: tab(\'tags\')}">\n<a ng-click="tab(\'tags\', $event)" translate>Tags</a></li>\n</ul>\n</div>\n<div class="listing-ct-body" ng-show="tab(\'main\')">\n<registry-imagestream-body imagestream="imagestream" imagestream-modify="actions.modifyImageStream" project-modify="actions.modifyProject" project-sharing="sharedImages">\n</registry-imagestream-body>\n<registry-imagestream-push imagestream="imagestream" settings="settings">\n</registry-imagestream-push>\n</div>\n<div class="listing-ct-body" ng-if="tab(\'meta\')" ng-if="imagestream.metadata.annotations">\n<registry-imagestream-meta imagestream="imagestream">\n</registry-imagestream-meta>\n</div>\n<div class="listing-ct-body" ng-if="tab(\'tags\')">\n<div class="inline-tabs">\n<registry-image-listing imagestream="imagestream" image-by-tag="imageByTag" settings="settings" shared-images="sharedImages" actions="actions" image-tag-names="imageTagNames">\n</registry-image-listing>\n</div>\n</div>\n</div>\n', o = "registry-image-widgets/views/imagestream-panel.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div class="registry-imagestream-push">\n<p>\n<i class="fa fa-info-circle"></i>\n<span translate>To push an image to this image stream:</span>\n</p>\n<code ng-if="imagestream.status.publicDockerImageRepository">$ sudo docker tag <em>myimage</em> <span>{{imagestream.status.publicDockerImageRepository}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em>\n$ sudo docker push <span>{{settings.registry.host}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em></code>\n<code ng-if="!imagestream.status.publicDockerImageRepository && settings.registry.host">$ sudo docker tag <em>myimage</em> <span>{{settings.registry.host}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em>\n$ sudo docker push <span>{{settings.registry.host}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em></code>\n<code ng-if="!imagestream.status.publicDockerImageRepository && !settings.registry.host">$ sudo docker tag <em>myimage</em> <span class="placeholder">registry</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em>\n$ sudo docker push <span class="placeholder">registry</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em></code>\n</div>\n', o = "registry-image-widgets/views/imagestream-push.html", a = i.element(window.document).injector();
a ? a.get("$templateCache").put(o, r) : n.run([ "$templateCache", function(e) {
e.put(o, r);
} ]), e.exports = r;
}, function(e, t, n) {
n(4), n(2), n(3), n(5), n(0), n(1), n(6), n(7), n(8), n(11), n(9), n(12), n(13), n(10), n(14), n(15), n(16), n(17), e.exports = n(18);
} ]);

try {
angular.module("kubernetesUI");
} catch (e) {
angular.module("kubernetesUI", []);
}

angular.module("kubernetesUI").factory("KubernetesObjectDescriber", [ function() {
function e() {
this.kinds = {
Pod: {
templateUrl: "views/pod.html"
},
Service: {
templateUrl: "views/service.html"
},
ReplicationController: {
templateUrl: "views/replication-controller.html"
}
};
}
return e.prototype.registerKind = function(e, t, n) {
if (this.kinds[e] && !n) throw "KubernetesObjectDescriber.registerKind :: kind " + e + " is already registered.";
if (!t) throw "KubernetesObjectDescriber.registerKind :: templateUrl is required.";
this.kinds[e] = {
templateUrl: t
};
}, e.prototype.templateUrlForKind = function(e) {
return e && this.kinds[e] ? this.kinds[e].templateUrl : "views/default-describer.html";
}, new e();
} ]).directive("kubernetesObjectDescriber", [ "KubernetesObjectDescriber", "$templateCache", "$compile", function(e, t, n) {
return {
restrict: "E",
scope: {
resource: "=",
kind: "@",
moreDetailsLink: "@"
},
link: function(i, r, o) {
var a = function() {
var o = e.templateUrlForKind(i.kind);
r.html(t.get(o)), n(r.contents())(i);
};
a(), i.$watch("kind", function(e, t) {
e != t && a();
});
}
};
} ]).directive("kubernetesObjectDescribeLabels", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/labels.html"
};
}).directive("kubernetesObjectDescribeAnnotations", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/annotations.html"
};
}).directive("kubernetesObjectDescribeMetadata", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/metadata.html"
};
}).directive("kubernetesObjectDescribeHeader", function() {
return {
restrict: "E",
scope: {
resource: "=",
kind: "="
},
templateUrl: "views/header.html"
};
}).directive("kubernetesObjectDescribeFooter", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/footer.html"
};
}).directive("kubernetesObjectDescribePodTemplate", function() {
return {
restrict: "E",
scope: {
template: "="
},
templateUrl: "views/pod-template.html"
};
}).directive("kubernetesObjectDescribeVolumes", function() {
return {
restrict: "E",
scope: {
volumes: "="
},
templateUrl: "views/volumes.html"
};
}).directive("kubernetesObjectDescribeContainers", function() {
return {
restrict: "E",
scope: {
containers: "="
},
templateUrl: "views/containers.html"
};
}).directive("kubernetesObjectDescribeContainerStatuses", function() {
return {
restrict: "E",
scope: {
containerStatuses: "="
},
templateUrl: "views/container-statuses.html"
};
}).directive("kubernetesObjectDescribeContainerState", function() {
return {
restrict: "E",
scope: {
containerState: "="
},
templateUrl: "views/container-state.html"
};
}).directive("collapseLongText", function() {
return {
restrict: "A",
scope: {
value: "@",
enableCollapse: "=?"
},
controller: [ "$scope", function(e) {
e.enableCollapse = !!window.$;
} ],
link: function(e, t, n) {
e.enableCollapse && $(".reveal-contents-link", t).click(function(e) {
$(this).hide(), $(".reveal-contents", t).show();
});
},
templateUrl: "views/_collapse-long-text.html"
};
}).filter("isEmptyObj", function() {
return function(e) {
return angular.equals({}, e);
};
}), angular.module("kubernetesUI").run([ "$templateCache", function(e) {
"use strict";
e.put("views/_collapse-long-text.html", '<span ng-hide="enableCollapse && value.length > 120">{{value}}</span>\n<span ng-show="enableCollapse && value.length > 120">\n  <span class="reveal-contents-link" style="cursor: pointer;" title="Expand">{{value.substring(0, 120)}}<a href="javascript:;">...</a></span>\n  <span style="display: none;" class="reveal-contents">{{value}}</span>\n</span>'), e.put("views/annotations.html", '  <h3>Annotations</h3>\n  <p ng-if="!resource.metadata.annotations"><em>none</em></p>\n  <dl class="dl-horizontal" ng-if="resource.metadata.annotations">\n    <dt ng-repeat-start="(annotationKey, annotationValue) in resource.metadata.annotations" title="{{annotationKey}}">{{annotationKey}}</dt>\n    <dd ng-repeat-end collapse-long-text value="{{annotationValue}}"></dd>\n  </dl>\n'), e.put("views/container-state.html", '<p ng-if="containerState | isEmptyObj"><em>none</em></p>\n<span ng-repeat="(state, stateDescription) in containerState | limitTo: 1">\n  <span ng-switch="state">\n    <span ng-switch-when="waiting">\n      Waiting\n      <span ng-if="stateDescription.reason">({{stateDescription.reason}})</span>\n    </span>\n    <span ng-switch-when="running">\n      Running\n      <span ng-if="stateDescription.startedAt">since {{stateDescription.startedAt | date:\'medium\'}}</span>\n    </span>\n    <span ng-switch-when="terminated">\n      Terminated\n      <span ng-if="stateDescription.finishedAt">at {{stateDescription.finishedAt | date:\'medium\'}}</span>\n      <span ng-if="stateDescription.exitCode">with exit code {{stateDescription.exitCode}}</span>\n      <span ng-if="stateDescription.reason">({{stateDescription.reason}})</span>\n    </span>\n    <span ng-switch-default>{{state}}</span>\n  </span>\n</span>\n'), 
e.put("views/container-statuses.html", '<p ng-if="!containerStatuses"><em>none</em></p>\n<dl ng-repeat="containerStatus in containerStatuses | orderBy:\'name\'" class="dl-horizontal">\n  <dt>Name</dt>\n  <dd>{{containerStatus.name}}</dd>\n  <dt>State</dt>\n  <dd>\n    <kubernetes-object-describe-container-state container-state="containerStatus.state"></container-state>\n  </dd>\n  <dt ng-if="!(containerStatus.lastState | isEmptyObj)">Last State</dt>\n  <dd ng-if="!(containerStatus.lastState | isEmptyObj)">\n    <kubernetes-object-describe-container-state container-state="containerStatus.lastState"></container-state>\n  </dd>\n  <dt>Ready</dt>\n  <dd>{{containerStatus.ready}}</dd>\n  <dt>Restart Count</dt>\n  <dd>{{containerStatus.restartCount}}</dd>\n</dl>\n'), e.put("views/containers.html", '<p ng-if="!containers.length"><em>none</em></p>\n<dl class="dl-horizontal" ng-repeat="container in containers">\n<dt>Name</dt>\n<dd>{{container.name}}</dd>\n<dt>Image</dt>\n<dd ng-if="container.image">{{container.image}}</dd>\n<dd ng-if="!container.image"><em>none</em></dd>\n<dt>Ports</dt>\n<dd>\n  <div ng-if="!container.ports.length"><em>none</em></div>\n  <div ng-repeat="port in container.ports | orderBy:\'containerPort\'">\n    {{port.containerPort}}/{{port.protocol}}<span ng-if="port.hostPort"> to host port {{port.hostPort}}</span>\n  </div>\n</dd>\n<dt>Env vars</dt>\n<dd>\n  <div ng-if="!container.env.length"><em>none</em></div>\n  <div ng-repeat="env in container.env | orderBy:\'name\'" collapse-long-text value="{{env.name}}={{env.value}}"></div>\n</dd>\n</dl>\n<div ng-if="$index != 0" style="margin-bottom: 10px;"></div>\n'), 
e.put("views/default-describer.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <kubernetes-object-describe-metadata resource="resource"></kubernetes-object-describe-metadata>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>'), e.put("views/footer.html", '<div style="margin-top: 10px;">\n  <a ng-if="moreDetailsLink" href="{{moreDetailsLink}}">More details...</a>  \n</div>'), e.put("views/header.html", "<h3>{{kind || resource.kind || 'Resource'}}</h3>"), e.put("views/labels.html", '<h3>Labels</h3>\n<p ng-if="!resource.metadata.labels"><em>none</em></p>\n<dl class="dl-horizontal" ng-if="resource.metadata.labels">\n  <dt ng-repeat-start="(labelKey, labelValue) in resource.metadata.labels" title="{{labelKey}}">{{labelKey}}</dt>\n  <dd ng-repeat-end>{{labelValue}}</dd>\n</dl>\n'), e.put("views/metadata.html", '<dl class="dl-horizontal">\n  <dt>Name</dt>\n  <dd>{{resource.metadata.name}}</dd>\n  <dt ng-if="resource.metadata.namespace">Namespace</dt>\n  <dd ng-if="resource.metadata.namespace">{{resource.metadata.namespace}}</dd>\n  <dt>Created</dt>\n  <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>    \n</dl>\n<kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n<kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n'), 
e.put("views/pod-template.html", '<h3>Pod Template</h3>\n<dl class="dl-horizontal">\n  <dt>Restart policy</dt>\n  <dd>{{template.restartPolicy}}</dd>\n  <dt>DNS policy</dt>\n  <dd>{{template.dnsPolicy}}</dd>\n  <dt ng-if="template.serviceAccountName">Service account</dt>\n  <dd ng-if="template.serviceAccountName">{{template.serviceAccountName}}</dd>\n</dl>  \n<h4>Containers</h4>\n<kubernetes-object-describe-containers containers="template.containers"></kubernetes-object-describe-containers>\n<h4>Volumes</h4>\n<kubernetes-object-describe-volumes volumes="template.volumes"></kubernetes-object-describe-volumes> \n'), e.put("views/pod.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <dl class="dl-horizontal">\n    <dt>Name</dt>\n    <dd>{{resource.metadata.name}}</dd>\n    <dt>Namespace</dt>\n    <dd>{{resource.metadata.namespace}}</dd>\n    <dt>Created</dt>\n    <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>\n    <dt>Restart policy</dt>\n    <dd>{{resource.spec.restartPolicy || \'Always\'}}</dd>\n    <dt ng-if="resource.spec.serviceAccountName">Service account</dt>\n    <dd ng-if="resource.spec.serviceAccountName">{{resource.spec.serviceAccountName}}</dd>\n  </dl>\n  <h3>Status</h3>\n  <dl class="dl-horizontal">\n    <dt>Phase</dt>\n    <dd>{{resource.status.phase}}</dd>\n    <dt>Node</dt>\n    <dd>{{resource.spec.nodeName || \'unknown\'}}\n      <span ng-if="resource.status.hostIP && resource.spec.nodeName != resource.status.hostIP">({{resource.status.hostIP}})</span></dd>\n    <dt>IP on node</dt>\n    <dd>\n      {{resource.status.podIP}}\n      <span ng-if="!resource.status.podIP"><em>none</em></span>\n    </dd>\n  </dl>\n  <h3>Container Statuses</h3>\n  <kubernetes-object-describe-container-statuses container-statuses="resource.status.containerStatuses"></kubernetes-object-describe-container-statuses>\n  <h3>Containers</h3>\n  <kubernetes-object-describe-containers containers="resource.spec.containers"></kubernetes-object-describe-containers>\n  <h3>Volumes</h3>\n  <kubernetes-object-describe-volumes volumes="resource.spec.volumes"></kubernetes-object-describe-volumes>\n  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>\n'), 
e.put("views/replication-controller.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <dl class="dl-horizontal">\n    <dt>Name</dt>\n    <dd>{{resource.metadata.name}}</dd>\n    <dt>Namespace</dt>\n    <dd>{{resource.metadata.namespace}}</dd>\n    <dt>Created</dt>\n    <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>\n    <dt>Replicas</dt>\n    <dd>{{(resource.spec.replicas === undefined) ? 1 : resource.spec.replicas}}</dd>\n  </dl>\n  <h3>Selector</h3>\n  <dl class="dl-horizontal">\n    <dt ng-repeat-start="(selectorKey, selectorValue) in resource.spec.selector" title="{{selectorKey}}">{{selectorKey}}</dt>\n    <dd ng-repeat-end>{{selectorValue}}</dd>\n  </dl>\n  <kubernetes-object-describe-pod-template template="resource.spec.template.spec"></kubernetes-object-describe-pod-template>\n  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>\n'), 
e.put("views/service.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <dl class="dl-horizontal">\n    <dt>Name</dt>\n    <dd>{{resource.metadata.name}}</dd>\n    <dt>Namespace</dt>\n    <dd>{{resource.metadata.namespace}}</dd>\n    <dt>Created</dt>\n    <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>\n    <dt>Type</dt>\n    <dd>{{resource.spec.type}}</dd>\n    <dt>IP</dt>\n    <dd>{{resource.spec.clusterIP}}</dd>\n    <dt>Ports</dt>\n    <dd>\n      <div ng-if="!resource.spec.ports.length">None</div>\n      <div ng-repeat="portMapping in resource.spec.ports | orderBy:\'port\'">\n        {{portMapping.port}}/{{portMapping.protocol}} &#8594; {{portMapping.targetPort}}\n      </div>\n    </dd>\n    <dt>Session affinity</dt>\n    <dd>{{resource.spec.sessionAffinity}}</dd>    \n    <dt ng-if="resource.status.loadBalancer.ingress.length">Ingress points</dt>\n    <dd ng-if="resource.status.loadBalancer.ingress.length">\n      <span ng-repeat="ingress in resource.status.loadBalancer.ingress"\n        >{{ingress.ip}}<span ng-if="!$last">, </span></span>\n    </dd>\n  </dl>\n  <h3>Selector</h3>\n  <dl class="dl-horizontal">\n    <dt ng-repeat-start="(selectorKey, selectorValue) in resource.spec.selector">{{selectorKey}}</dt>\n    <dd ng-repeat-end>{{selectorValue}}</dd>\n  </dl>\n  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>\n'), 
e.put("views/volumes.html", '<p ng-if="!volumes.length"><em>none</em></p>\n<dl class="dl-horizontal" ng-repeat="volume in volumes">\n<dt>Name</dt>\n<dd>{{volume.name}}</dd>\n\x3c!-- Type = host path --\x3e\n<dt ng-if-start="volume.hostPath">Type</dt>\n<dd>host path</dd>\n<dt>Path</dt>\n<dd ng-if-end>{{volume.hostPath.path}}</dd>\n\x3c!-- Type = empty dir --\x3e\n<dt ng-if-start="volume.emptyDir">Type</dt>\n<dd ng-if-end>empty directory</dd>\n\x3c!-- Type = GCE persistent disk - TODO fill out details --\x3e\n<dt ng-if-start="volume.gcePersistentDisk">Type</dt>\n<dd ng-if-end>GCE persistent disk</dd>\n\x3c!-- Type = git repo --\x3e\n<dt ng-if-start="volume.gitRepo">Type</dt>\n<dd>Git repository</dd>\n<dt>Repository</dt>\n<dd>{{volume.gitRepo.repository}}</dd>\n<dt>Revision</dt>\n<dd ng-if-end>\n  <span ng-if="volume.gitRepo.revision">{{volume.gitRepo.revision}}</span>\n  <span ng-if="!volume.gitRepo.revision"><em>not specified</em></span>\n</dd>\n</dl>\n');
} ]), function(e, t) {
var n = e();
e.fn.dropdownHover = function(i) {
return "ontouchstart" in document ? this : (n = n.add(this.parent()), this.each(function() {
function r() {
t.clearTimeout(o), t.clearTimeout(a), a = t.setTimeout(function() {
n.find(":focus").blur(), !0 === h.instantlyCloseOthers && n.removeClass("open"), t.clearTimeout(a), s.attr("aria-expanded", "true"), l.addClass("open"), s.trigger(d);
}, h.hoverDelay);
}
var o, a, s = e(this), l = s.parent(), c = {
delay: 500,
hoverDelay: 0,
instantlyCloseOthers: !0
}, u = {
delay: e(this).data("delay"),
hoverDelay: e(this).data("hover-delay"),
instantlyCloseOthers: e(this).data("close-others")
}, d = "show.bs.dropdown", h = e.extend(!0, {}, c, i, u);
l.hover(function(e) {
return !l.hasClass("open") && !s.is(e.target) || void r();
}, function() {
t.clearTimeout(a), o = t.setTimeout(function() {
s.attr("aria-expanded", "false"), l.removeClass("open"), s.trigger("hide.bs.dropdown");
}, h.delay);
}), s.hover(function(e) {
return !l.hasClass("open") && !l.is(e.target) || void r();
}), l.find(".dropdown-submenu").each(function() {
var n, i = e(this);
i.hover(function() {
t.clearTimeout(n), i.children(".dropdown-menu").show(), i.siblings().children(".dropdown-menu").hide();
}, function() {
var e = i.children(".dropdown-menu");
n = t.setTimeout(function() {
e.hide();
}, h.delay);
});
});
}));
}, e(document).ready(function() {
e('[data-hover="dropdown"]').dropdownHover();
});
}(jQuery, window), function() {
var e = function() {
return this;
}();
!e && "undefined" != typeof window && (e = window);
var t = function(e, n, i) {
"string" == typeof e ? (2 == arguments.length && (i = n), t.modules[e] || (t.payloads[e] = i, t.modules[e] = null)) : t.original ? t.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."), console.trace());
};
t.modules = {}, t.payloads = {};
var n = function(e, t, n) {
if ("string" == typeof t) {
var r = o(e, t);
if (void 0 != r) return n && n(), r;
} else if ("[object Array]" === Object.prototype.toString.call(t)) {
for (var a = [], s = 0, l = t.length; s < l; ++s) {
var c = o(e, t[s]);
if (void 0 == c && i.original) return;
a.push(c);
}
return n && n.apply(null, a) || !0;
}
}, i = function(e, t) {
var r = n("", e, t);
return void 0 == r && i.original ? i.original.apply(this, arguments) : r;
}, r = function(e, t) {
if (-1 !== t.indexOf("!")) {
var n = t.split("!");
return r(e, n[0]) + "!" + r(e, n[1]);
}
if ("." == t.charAt(0)) for (t = e.split("/").slice(0, -1).join("/") + "/" + t; -1 !== t.indexOf(".") && i != t; ) {
var i = t;
t = t.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
}
return t;
}, o = function(e, i) {
i = r(e, i);
var o = t.modules[i];
if (!o) {
if ("function" == typeof (o = t.payloads[i])) {
var a = {}, s = {
id: i,
uri: "",
exports: a,
packaged: !0
};
a = o(function(e, t) {
return n(i, e, t);
}, a, s) || s.exports, t.modules[i] = a, delete t.payloads[i];
}
o = t.modules[i] = a || o;
}
return o;
};
!function(n) {
var r = e;
n && (e[n] || (e[n] = {}), r = e[n]), r.define && r.define.packaged || (t.original = r.define, r.define = t, r.define.packaged = !0), r.require && r.require.packaged || (i.original = r.require, r.require = i, r.require.packaged = !0);
}("ace");
}(), ace.define("ace/lib/regexp", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
function i(e) {
return (e.global ? "g" : "") + (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.extended ? "x" : "") + (e.sticky ? "y" : "");
}
function r(e, t, n) {
if (Array.prototype.indexOf) return e.indexOf(t, n);
for (var i = n || 0; i < e.length; i++) if (e[i] === t) return i;
return -1;
}
var o = {
exec: RegExp.prototype.exec,
test: RegExp.prototype.test,
match: String.prototype.match,
replace: String.prototype.replace,
split: String.prototype.split
}, a = void 0 === o.exec.call(/()??/, "")[1], s = function() {
var e = /^/g;
return o.test.call(e, ""), !e.lastIndex;
}();
s && a || (RegExp.prototype.exec = function(e) {
var t, n, l = o.exec.apply(this, arguments);
if ("string" == typeof e && l) {
if (!a && l.length > 1 && r(l, "") > -1 && (n = RegExp(this.source, o.replace.call(i(this), "g", "")), o.replace.call(e.slice(l.index), n, function() {
for (var e = 1; e < arguments.length - 2; e++) void 0 === arguments[e] && (l[e] = void 0);
})), this._xregexp && this._xregexp.captureNames) for (var c = 1; c < l.length; c++) (t = this._xregexp.captureNames[c - 1]) && (l[t] = l[c]);
!s && this.global && !l[0].length && this.lastIndex > l.index && this.lastIndex--;
}
return l;
}, s || (RegExp.prototype.test = function(e) {
var t = o.exec.call(this, e);
return t && this.global && !t[0].length && this.lastIndex > t.index && this.lastIndex--, !!t;
}));
}), ace.define("ace/lib/es5-shim", [ "require", "exports", "module" ], function(e, t, n) {
function i() {}
function r(e) {
try {
return Object.defineProperty(e, "sentinel", {}), "sentinel" in e;
} catch (e) {}
}
function o(e) {
return (e = +e) !== e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (e > 0 || -1) * Math.floor(Math.abs(e))), e;
}
Function.prototype.bind || (Function.prototype.bind = function(e) {
var t = this;
if ("function" != typeof t) throw new TypeError("Function.prototype.bind called on incompatible " + t);
var n = p.call(arguments, 1), r = function() {
if (this instanceof r) {
var i = t.apply(this, n.concat(p.call(arguments)));
return Object(i) === i ? i : this;
}
return t.apply(e, n.concat(p.call(arguments)));
};
return t.prototype && (i.prototype = t.prototype, r.prototype = new i(), i.prototype = null), r;
});
var a, s, l, c, u, d = Function.prototype.call, h = Array.prototype, f = Object.prototype, p = h.slice, g = d.bind(f.toString), m = d.bind(f.hasOwnProperty);
if ((u = m(f, "__defineGetter__")) && (a = d.bind(f.__defineGetter__), s = d.bind(f.__defineSetter__), l = d.bind(f.__lookupGetter__), c = d.bind(f.__lookupSetter__)), 2 != [ 1, 2 ].splice(0).length) if (function() {
function e(e) {
var t = new Array(e + 2);
return t[0] = t[1] = 0, t;
}
var t, n = [];
if (n.splice.apply(n, e(20)), n.splice.apply(n, e(26)), t = n.length, n.splice(5, 0, "XXX"), n.length, t + 1 == n.length) return !0;
}()) {
var v = Array.prototype.splice;
Array.prototype.splice = function(e, t) {
return arguments.length ? v.apply(this, [ void 0 === e ? 0 : e, void 0 === t ? this.length - e : t ].concat(p.call(arguments, 2))) : [];
};
} else Array.prototype.splice = function(e, t) {
var n = this.length;
e > 0 ? e > n && (e = n) : void 0 == e ? e = 0 : e < 0 && (e = Math.max(n + e, 0)), e + t < n || (t = n - e);
var i = this.slice(e, e + t), r = p.call(arguments, 2), o = r.length;
if (e === n) o && this.push.apply(this, r); else {
var a = Math.min(t, n - e), s = e + a, l = s + o - a, c = n - s, u = n - a;
if (l < s) for (var d = 0; d < c; ++d) this[l + d] = this[s + d]; else if (l > s) for (d = c; d--; ) this[l + d] = this[s + d];
if (o && e === u) this.length = u, this.push.apply(this, r); else for (this.length = u + o, d = 0; d < o; ++d) this[e + d] = r[d];
}
return i;
};
Array.isArray || (Array.isArray = function(e) {
return "[object Array]" == g(e);
});
var y = Object("a"), b = "a" != y[0] || !(0 in y);
if (Array.prototype.forEach || (Array.prototype.forEach = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = arguments[1], r = -1, o = n.length >>> 0;
if ("[object Function]" != g(e)) throw new TypeError();
for (;++r < o; ) r in n && e.call(i, n[r], r, t);
}), Array.prototype.map || (Array.prototype.map = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0, r = Array(i), o = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var a = 0; a < i; a++) a in n && (r[a] = e.call(o, n[a], a, t));
return r;
}), Array.prototype.filter || (Array.prototype.filter = function(e) {
var t, n = F(this), i = b && "[object String]" == g(this) ? this.split("") : n, r = i.length >>> 0, o = [], a = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var s = 0; s < r; s++) s in i && (t = i[s], e.call(a, t, s, n) && o.push(t));
return o;
}), Array.prototype.every || (Array.prototype.every = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && !e.call(r, n[o], o, t)) return !1;
return !0;
}), Array.prototype.some || (Array.prototype.some = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && e.call(r, n[o], o, t)) return !0;
return !1;
}), Array.prototype.reduce || (Array.prototype.reduce = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0;
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
if (!i && 1 == arguments.length) throw new TypeError("reduce of empty array with no initial value");
var r, o = 0;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o++];
break;
}
if (++o >= i) throw new TypeError("reduce of empty array with no initial value");
}
for (;o < i; o++) o in n && (r = e.call(void 0, r, n[o], o, t));
return r;
}), Array.prototype.reduceRight || (Array.prototype.reduceRight = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0;
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
if (!i && 1 == arguments.length) throw new TypeError("reduceRight of empty array with no initial value");
var r, o = i - 1;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o--];
break;
}
if (--o < 0) throw new TypeError("reduceRight of empty array with no initial value");
}
do {
o in this && (r = e.call(void 0, r, n[o], o, t));
} while (o--);
return r;
}), Array.prototype.indexOf && -1 == [ 0, 1 ].indexOf(1, 2) || (Array.prototype.indexOf = function(e) {
var t = b && "[object String]" == g(this) ? this.split("") : F(this), n = t.length >>> 0;
if (!n) return -1;
var i = 0;
for (arguments.length > 1 && (i = o(arguments[1])), i = i >= 0 ? i : Math.max(0, n + i); i < n; i++) if (i in t && t[i] === e) return i;
return -1;
}), Array.prototype.lastIndexOf && -1 == [ 0, 1 ].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(e) {
var t = b && "[object String]" == g(this) ? this.split("") : F(this), n = t.length >>> 0;
if (!n) return -1;
var i = n - 1;
for (arguments.length > 1 && (i = Math.min(i, o(arguments[1]))), i = i >= 0 ? i : n - Math.abs(i); i >= 0; i--) if (i in t && e === t[i]) return i;
return -1;
}), Object.getPrototypeOf || (Object.getPrototypeOf = function(e) {
return e.__proto__ || (e.constructor ? e.constructor.prototype : f);
}), !Object.getOwnPropertyDescriptor) {
Object.getOwnPropertyDescriptor = function(e, t) {
if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: " + e);
if (m(e, t)) {
var n;
if (n = {
enumerable: !0,
configurable: !0
}, u) {
var i = e.__proto__;
e.__proto__ = f;
var r = l(e, t), o = c(e, t);
if (e.__proto__ = i, r || o) return r && (n.get = r), o && (n.set = o), n;
}
return n.value = e[t], n;
}
};
}
if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(e) {
return Object.keys(e);
}), !Object.create) {
var _;
_ = null === Object.prototype.__proto__ ? function() {
return {
__proto__: null
};
} : function() {
var e = {};
for (var t in e) e[t] = null;
return e.constructor = e.hasOwnProperty = e.propertyIsEnumerable = e.isPrototypeOf = e.toLocaleString = e.toString = e.valueOf = e.__proto__ = null, e;
}, Object.create = function(e, t) {
var n;
if (null === e) n = _(); else {
if ("object" != typeof e) throw new TypeError("typeof prototype[" + typeof e + "] != 'object'");
var i = function() {};
i.prototype = e, (n = new i()).__proto__ = e;
}
return void 0 !== t && Object.defineProperties(n, t), n;
};
}
if (Object.defineProperty) {
var w = r({}), C = "undefined" == typeof document || r(document.createElement("div"));
if (!w || !C) var x = Object.defineProperty;
}
if (!Object.defineProperty || x) {
Object.defineProperty = function(e, t, n) {
if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.defineProperty called on non-object: " + e);
if ("object" != typeof n && "function" != typeof n || null === n) throw new TypeError("Property description must be an object: " + n);
if (x) try {
return x.call(Object, e, t, n);
} catch (e) {}
if (m(n, "value")) if (u && (l(e, t) || c(e, t))) {
var i = e.__proto__;
e.__proto__ = f, delete e[t], e[t] = n.value, e.__proto__ = i;
} else e[t] = n.value; else {
if (!u) throw new TypeError("getters & setters can not be defined on this javascript engine");
m(n, "get") && a(e, t, n.get), m(n, "set") && s(e, t, n.set);
}
return e;
};
}
Object.defineProperties || (Object.defineProperties = function(e, t) {
for (var n in t) m(t, n) && Object.defineProperty(e, n, t[n]);
return e;
}), Object.seal || (Object.seal = function(e) {
return e;
}), Object.freeze || (Object.freeze = function(e) {
return e;
});
try {
Object.freeze(function() {});
} catch (e) {
Object.freeze = function(e) {
return function(t) {
return "function" == typeof t ? t : e(t);
};
}(Object.freeze);
}
if (Object.preventExtensions || (Object.preventExtensions = function(e) {
return e;
}), Object.isSealed || (Object.isSealed = function(e) {
return !1;
}), Object.isFrozen || (Object.isFrozen = function(e) {
return !1;
}), Object.isExtensible || (Object.isExtensible = function(e) {
if (Object(e) === e) throw new TypeError();
for (var t = ""; m(e, t); ) t += "?";
e[t] = !0;
var n = m(e, t);
return delete e[t], n;
}), !Object.keys) {
var S = !0, $ = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ], A = $.length;
for (var k in {
toString: null
}) S = !1;
Object.keys = function(e) {
if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.keys called on a non-object");
var t = [];
for (var n in e) m(e, n) && t.push(n);
if (S) for (var i = 0, r = A; i < r; i++) {
var o = $[i];
m(e, o) && t.push(o);
}
return t;
};
}
Date.now || (Date.now = function() {
return new Date().getTime();
});
var T = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";
if (!String.prototype.trim || T.trim()) {
T = "[" + T + "]";
var D = new RegExp("^" + T + T + "*"), E = new RegExp(T + T + "*$");
String.prototype.trim = function() {
return String(this).replace(D, "").replace(E, "");
};
}
var F = function(e) {
if (null == e) throw new TypeError("can't convert " + e + " to object");
return Object(e);
};
}), ace.define("ace/lib/fixoldbrowsers", [ "require", "exports", "module", "ace/lib/regexp", "ace/lib/es5-shim" ], function(e, t, n) {
"use strict";
e("./regexp"), e("./es5-shim");
}), ace.define("ace/lib/dom", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.getDocumentHead = function(e) {
return e || (e = document), e.head || e.getElementsByTagName("head")[0] || e.documentElement;
}, t.createElement = function(e, t) {
return document.createElementNS ? document.createElementNS(t || "http://www.w3.org/1999/xhtml", e) : document.createElement(e);
}, t.hasCssClass = function(e, t) {
return -1 !== (e.className + "").split(/\s+/g).indexOf(t);
}, t.addCssClass = function(e, n) {
t.hasCssClass(e, n) || (e.className += " " + n);
}, t.removeCssClass = function(e, t) {
for (var n = e.className.split(/\s+/g); ;) {
var i = n.indexOf(t);
if (-1 == i) break;
n.splice(i, 1);
}
e.className = n.join(" ");
}, t.toggleCssClass = function(e, t) {
for (var n = e.className.split(/\s+/g), i = !0; ;) {
var r = n.indexOf(t);
if (-1 == r) break;
i = !1, n.splice(r, 1);
}
return i && n.push(t), e.className = n.join(" "), i;
}, t.setCssClass = function(e, n, i) {
i ? t.addCssClass(e, n) : t.removeCssClass(e, n);
}, t.hasCssString = function(e, t) {
var n, i = 0;
if ((t = t || document).createStyleSheet && (n = t.styleSheets)) {
for (;i < n.length; ) if (n[i++].owningElement.id === e) return !0;
} else if (n = t.getElementsByTagName("style")) for (;i < n.length; ) if (n[i++].id === e) return !0;
return !1;
}, t.importCssString = function(e, n, i) {
if (i = i || document, n && t.hasCssString(n, i)) return null;
var r;
n && (e += "\n/*# sourceURL=ace/css/" + n + " */"), i.createStyleSheet ? (r = i.createStyleSheet(), r.cssText = e, n && (r.owningElement.id = n)) : ((r = t.createElement("style")).appendChild(i.createTextNode(e)), n && (r.id = n), t.getDocumentHead(i).appendChild(r));
}, t.importCssStylsheet = function(e, n) {
if (n.createStyleSheet) n.createStyleSheet(e); else {
var i = t.createElement("link");
i.rel = "stylesheet", i.href = e, t.getDocumentHead(n).appendChild(i);
}
}, t.getInnerWidth = function(e) {
return parseInt(t.computedStyle(e, "paddingLeft"), 10) + parseInt(t.computedStyle(e, "paddingRight"), 10) + e.clientWidth;
}, t.getInnerHeight = function(e) {
return parseInt(t.computedStyle(e, "paddingTop"), 10) + parseInt(t.computedStyle(e, "paddingBottom"), 10) + e.clientHeight;
}, t.scrollbarWidth = function(e) {
var n = t.createElement("ace_inner");
n.style.width = "100%", n.style.minWidth = "0px", n.style.height = "200px", n.style.display = "block";
var i = t.createElement("ace_outer"), r = i.style;
r.position = "absolute", r.left = "-10000px", r.overflow = "hidden", r.width = "200px", r.minWidth = "0px", r.height = "150px", r.display = "block", i.appendChild(n);
var o = e.documentElement;
o.appendChild(i);
var a = n.offsetWidth;
r.overflow = "scroll";
var s = n.offsetWidth;
return a == s && (s = i.clientWidth), o.removeChild(i), a - s;
}, "undefined" != typeof document ? (void 0 !== window.pageYOffset ? (t.getPageScrollTop = function() {
return window.pageYOffset;
}, t.getPageScrollLeft = function() {
return window.pageXOffset;
}) : (t.getPageScrollTop = function() {
return document.body.scrollTop;
}, t.getPageScrollLeft = function() {
return document.body.scrollLeft;
}), window.getComputedStyle ? t.computedStyle = function(e, t) {
return t ? (window.getComputedStyle(e, "") || {})[t] || "" : window.getComputedStyle(e, "") || {};
} : t.computedStyle = function(e, t) {
return t ? e.currentStyle[t] : e.currentStyle;
}, t.setInnerHtml = function(e, t) {
var n = e.cloneNode(!1);
return n.innerHTML = t, e.parentNode.replaceChild(n, e), n;
}, "textContent" in document.documentElement ? (t.setInnerText = function(e, t) {
e.textContent = t;
}, t.getInnerText = function(e) {
return e.textContent;
}) : (t.setInnerText = function(e, t) {
e.innerText = t;
}, t.getInnerText = function(e) {
return e.innerText;
}), t.getParentWindow = function(e) {
return e.defaultView || e.parentWindow;
}) : t.importCssString = function() {};
}), ace.define("ace/lib/oop", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.inherits = function(e, t) {
e.super_ = t, e.prototype = Object.create(t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
});
}, t.mixin = function(e, t) {
for (var n in t) e[n] = t[n];
return e;
}, t.implement = function(e, n) {
t.mixin(e, n);
};
}), ace.define("ace/lib/keys", [ "require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop" ], function(e, t, n) {
"use strict";
e("./fixoldbrowsers");
var i = e("./oop"), r = function() {
var e, t, n = {
MODIFIER_KEYS: {
16: "Shift",
17: "Ctrl",
18: "Alt",
224: "Meta"
},
KEY_MODS: {
ctrl: 1,
alt: 2,
option: 2,
shift: 4,
super: 8,
meta: 8,
command: 8,
cmd: 8
},
FUNCTION_KEYS: {
8: "Backspace",
9: "Tab",
13: "Return",
19: "Pause",
27: "Esc",
32: "Space",
33: "PageUp",
34: "PageDown",
35: "End",
36: "Home",
37: "Left",
38: "Up",
39: "Right",
40: "Down",
44: "Print",
45: "Insert",
46: "Delete",
96: "Numpad0",
97: "Numpad1",
98: "Numpad2",
99: "Numpad3",
100: "Numpad4",
101: "Numpad5",
102: "Numpad6",
103: "Numpad7",
104: "Numpad8",
105: "Numpad9",
"-13": "NumpadEnter",
112: "F1",
113: "F2",
114: "F3",
115: "F4",
116: "F5",
117: "F6",
118: "F7",
119: "F8",
120: "F9",
121: "F10",
122: "F11",
123: "F12",
144: "Numlock",
145: "Scrolllock"
},
PRINTABLE_KEYS: {
32: " ",
48: "0",
49: "1",
50: "2",
51: "3",
52: "4",
53: "5",
54: "6",
55: "7",
56: "8",
57: "9",
59: ";",
61: "=",
65: "a",
66: "b",
67: "c",
68: "d",
69: "e",
70: "f",
71: "g",
72: "h",
73: "i",
74: "j",
75: "k",
76: "l",
77: "m",
78: "n",
79: "o",
80: "p",
81: "q",
82: "r",
83: "s",
84: "t",
85: "u",
86: "v",
87: "w",
88: "x",
89: "y",
90: "z",
107: "+",
109: "-",
110: ".",
186: ";",
187: "=",
188: ",",
189: "-",
190: ".",
191: "/",
192: "`",
219: "[",
220: "\\",
221: "]",
222: "'",
111: "/",
106: "*"
}
};
for (t in n.FUNCTION_KEYS) e = n.FUNCTION_KEYS[t].toLowerCase(), n[e] = parseInt(t, 10);
for (t in n.PRINTABLE_KEYS) e = n.PRINTABLE_KEYS[t].toLowerCase(), n[e] = parseInt(t, 10);
return i.mixin(n, n.MODIFIER_KEYS), i.mixin(n, n.PRINTABLE_KEYS), i.mixin(n, n.FUNCTION_KEYS), n.enter = n.return, n.escape = n.esc, n.del = n.delete, n[173] = "-", function() {
for (var e = [ "cmd", "ctrl", "alt", "shift" ], t = Math.pow(2, e.length); t--; ) n.KEY_MODS[t] = e.filter(function(e) {
return t & n.KEY_MODS[e];
}).join("-") + "-";
}(), n.KEY_MODS[0] = "", n.KEY_MODS[-1] = "input-", n;
}();
i.mixin(t, r), t.keyCodeToString = function(e) {
var t = r[e];
return "string" != typeof t && (t = String.fromCharCode(e)), t.toLowerCase();
};
}), ace.define("ace/lib/useragent", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
if (t.OS = {
LINUX: "LINUX",
MAC: "MAC",
WINDOWS: "WINDOWS"
}, t.getOS = function() {
return t.isMac ? t.OS.MAC : t.isLinux ? t.OS.LINUX : t.OS.WINDOWS;
}, "object" == typeof navigator) {
var i = (navigator.platform.match(/mac|win|linux/i) || [ "other" ])[0].toLowerCase(), r = navigator.userAgent;
t.isWin = "win" == i, t.isMac = "mac" == i, t.isLinux = "linux" == i, t.isIE = "Microsoft Internet Explorer" == navigator.appName || navigator.appName.indexOf("MSAppHost") >= 0 ? parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]), t.isOldIE = t.isIE && t.isIE < 9, t.isGecko = t.isMozilla = (window.Controllers || window.controllers) && "Gecko" === window.navigator.product, t.isOldGecko = t.isGecko && parseInt((r.match(/rv:(\d+)/) || [])[1], 10) < 4, t.isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera), t.isWebKit = parseFloat(r.split("WebKit/")[1]) || void 0, t.isChrome = parseFloat(r.split(" Chrome/")[1]) || void 0, t.isAIR = r.indexOf("AdobeAIR") >= 0, t.isIPad = r.indexOf("iPad") >= 0, t.isChromeOS = r.indexOf(" CrOS ") >= 0, t.isIOS = /iPad|iPhone|iPod/.test(r) && !window.MSStream, t.isIOS && (t.isMac = !0);
}
}), ace.define("ace/lib/event", [ "require", "exports", "module", "ace/lib/keys", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e, t, n) {
var i = c(t);
if (!a.isMac && s) {
if (t.getModifierState && (t.getModifierState("OS") || t.getModifierState("Win")) && (i |= 8), s.altGr) {
if (3 == (3 & i)) return;
s.altGr = 0;
}
if (18 === n || 17 === n) {
var r = "location" in t ? t.location : t.keyLocation;
17 === n && 1 === r ? 1 == s[n] && (l = t.timeStamp) : 18 === n && 3 === i && 2 === r && t.timeStamp - l < 50 && (s.altGr = !0);
}
}
if (n in o.MODIFIER_KEYS && (n = -1), 8 & i && n >= 91 && n <= 93 && (n = -1), i || 13 !== n || 3 !== (r = "location" in t ? t.location : t.keyLocation) || (e(t, i, -n), !t.defaultPrevented)) {
if (a.isChromeOS && 8 & i) {
if (e(t, i, n), t.defaultPrevented) return;
i &= -9;
}
return !!(i || n in o.FUNCTION_KEYS || n in o.PRINTABLE_KEYS) && e(t, i, n);
}
}
function r() {
s = Object.create(null);
}
var o = e("./keys"), a = e("./useragent"), s = null, l = 0;
t.addListener = function(e, t, n) {
if (e.addEventListener) return e.addEventListener(t, n, !1);
if (e.attachEvent) {
var i = function() {
n.call(e, window.event);
};
n._wrapper = i, e.attachEvent("on" + t, i);
}
}, t.removeListener = function(e, t, n) {
if (e.removeEventListener) return e.removeEventListener(t, n, !1);
e.detachEvent && e.detachEvent("on" + t, n._wrapper || n);
}, t.stopEvent = function(e) {
return t.stopPropagation(e), t.preventDefault(e), !1;
}, t.stopPropagation = function(e) {
e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0;
}, t.preventDefault = function(e) {
e.preventDefault ? e.preventDefault() : e.returnValue = !1;
}, t.getButton = function(e) {
return "dblclick" == e.type ? 0 : "contextmenu" == e.type || a.isMac && e.ctrlKey && !e.altKey && !e.shiftKey ? 2 : e.preventDefault ? e.button : {
1: 0,
2: 2,
4: 1
}[e.button];
}, t.capture = function(e, n, i) {
function r(e) {
n && n(e), i && i(e), t.removeListener(document, "mousemove", n, !0), t.removeListener(document, "mouseup", r, !0), t.removeListener(document, "dragstart", r, !0);
}
return t.addListener(document, "mousemove", n, !0), t.addListener(document, "mouseup", r, !0), t.addListener(document, "dragstart", r, !0), r;
}, t.addTouchMoveListener = function(e, n) {
var i, r;
t.addListener(e, "touchstart", function(e) {
var t = e.touches[0];
i = t.clientX, r = t.clientY;
}), t.addListener(e, "touchmove", function(e) {
var t = e.touches;
if (!(t.length > 1)) {
var o = t[0];
e.wheelX = i - o.clientX, e.wheelY = r - o.clientY, i = o.clientX, r = o.clientY, n(e);
}
});
}, t.addMouseWheelListener = function(e, n) {
"onmousewheel" in e ? t.addListener(e, "mousewheel", function(e) {
void 0 !== e.wheelDeltaX ? (e.wheelX = -e.wheelDeltaX / 8, e.wheelY = -e.wheelDeltaY / 8) : (e.wheelX = 0, e.wheelY = -e.wheelDelta / 8), n(e);
}) : "onwheel" in e ? t.addListener(e, "wheel", function(e) {
switch (e.deltaMode) {
case e.DOM_DELTA_PIXEL:
e.wheelX = .35 * e.deltaX || 0, e.wheelY = .35 * e.deltaY || 0;
break;

case e.DOM_DELTA_LINE:
case e.DOM_DELTA_PAGE:
e.wheelX = 5 * (e.deltaX || 0), e.wheelY = 5 * (e.deltaY || 0);
}
n(e);
}) : t.addListener(e, "DOMMouseScroll", function(e) {
e.axis && e.axis == e.HORIZONTAL_AXIS ? (e.wheelX = 5 * (e.detail || 0), e.wheelY = 0) : (e.wheelX = 0, e.wheelY = 5 * (e.detail || 0)), n(e);
});
}, t.addMultiMouseDownListener = function(e, n, i, r) {
function o(e) {
if (0 !== t.getButton(e) ? d = 0 : e.detail > 1 ? ++d > 4 && (d = 1) : d = 1, a.isIE) {
var o = Math.abs(e.clientX - l) > 5 || Math.abs(e.clientY - c) > 5;
u && !o || (d = 1), u && clearTimeout(u), u = setTimeout(function() {
u = null;
}, n[d - 1] || 600), 1 == d && (l = e.clientX, c = e.clientY);
}
if (e._clicks = d, i[r]("mousedown", e), d > 4) d = 0; else if (d > 1) return i[r](h[d], e);
}
function s(e) {
d = 2, u && clearTimeout(u), u = setTimeout(function() {
u = null;
}, n[d - 1] || 600), i[r]("mousedown", e), i[r](h[d], e);
}
var l, c, u, d = 0, h = {
2: "dblclick",
3: "tripleclick",
4: "quadclick"
};
Array.isArray(e) || (e = [ e ]), e.forEach(function(e) {
t.addListener(e, "mousedown", o), a.isOldIE && t.addListener(e, "dblclick", s);
});
};
var c = !a.isMac || !a.isOpera || "KeyboardEvent" in window ? function(e) {
return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);
} : function(e) {
return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);
};
if (t.getModifierString = function(e) {
return o.KEY_MODS[c(e)];
}, t.addCommandKeyListener = function(e, n) {
var o = t.addListener;
if (a.isOldGecko || a.isOpera && !("KeyboardEvent" in window)) {
var l = null;
o(e, "keydown", function(e) {
l = e.keyCode;
}), o(e, "keypress", function(e) {
return i(n, e, l);
});
} else {
var c = null;
o(e, "keydown", function(e) {
s[e.keyCode] = (s[e.keyCode] || 0) + 1;
var t = i(n, e, e.keyCode);
return c = e.defaultPrevented, t;
}), o(e, "keypress", function(e) {
c && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && (t.stopEvent(e), c = null);
}), o(e, "keyup", function(e) {
s[e.keyCode] = null;
}), s || (r(), o(window, "focus", r));
}
}, "object" == typeof window && window.postMessage && !a.isOldIE) {
t.nextTick = function(e, n) {
n = n || window;
var i = "zero-timeout-message-1";
t.addListener(n, "message", function r(o) {
o.data == i && (t.stopPropagation(o), t.removeListener(n, "message", r), e());
}), n.postMessage(i, "*");
};
}
t.nextFrame = "object" == typeof window && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame), t.nextFrame ? t.nextFrame = t.nextFrame.bind(window) : t.nextFrame = function(e) {
setTimeout(e, 17);
};
}), ace.define("ace/lib/lang", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.last = function(e) {
return e[e.length - 1];
}, t.stringReverse = function(e) {
return e.split("").reverse().join("");
}, t.stringRepeat = function(e, t) {
for (var n = ""; t > 0; ) 1 & t && (n += e), (t >>= 1) && (e += e);
return n;
};
var i = /^\s\s*/, r = /\s\s*$/;
t.stringTrimLeft = function(e) {
return e.replace(i, "");
}, t.stringTrimRight = function(e) {
return e.replace(r, "");
}, t.copyObject = function(e) {
var t = {};
for (var n in e) t[n] = e[n];
return t;
}, t.copyArray = function(e) {
for (var t = [], n = 0, i = e.length; n < i; n++) e[n] && "object" == typeof e[n] ? t[n] = this.copyObject(e[n]) : t[n] = e[n];
return t;
}, t.deepCopy = function e(t) {
if ("object" != typeof t || !t) return t;
var n;
if (Array.isArray(t)) {
n = [];
for (i = 0; i < t.length; i++) n[i] = e(t[i]);
return n;
}
if ("[object Object]" !== Object.prototype.toString.call(t)) return t;
n = {};
for (var i in t) n[i] = e(t[i]);
return n;
}, t.arrayToMap = function(e) {
for (var t = {}, n = 0; n < e.length; n++) t[e[n]] = 1;
return t;
}, t.createMap = function(e) {
var t = Object.create(null);
for (var n in e) t[n] = e[n];
return t;
}, t.arrayRemove = function(e, t) {
for (var n = 0; n <= e.length; n++) t === e[n] && e.splice(n, 1);
}, t.escapeRegExp = function(e) {
return e.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1");
}, t.escapeHTML = function(e) {
return e.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
}, t.getMatchOffsets = function(e, t) {
var n = [];
return e.replace(t, function(e) {
n.push({
offset: arguments[arguments.length - 2],
length: e.length
});
}), n;
}, t.deferredCall = function(e) {
var t = null, n = function() {
t = null, e();
}, i = function(e) {
return i.cancel(), t = setTimeout(n, e || 0), i;
};
return i.schedule = i, i.call = function() {
return this.cancel(), e(), i;
}, i.cancel = function() {
return clearTimeout(t), t = null, i;
}, i.isPending = function() {
return t;
}, i;
}, t.delayedCall = function(e, t) {
var n = null, i = function() {
n = null, e();
}, r = function(e) {
null == n && (n = setTimeout(i, e || t));
};
return r.delay = function(e) {
n && clearTimeout(n), n = setTimeout(i, e || t);
}, r.schedule = r, r.call = function() {
this.cancel(), e();
}, r.cancel = function() {
n && clearTimeout(n), n = null;
}, r.isPending = function() {
return n;
}, r;
};
}), ace.define("ace/keyboard/textinput_ios", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/lib/keys" ], function(e, t, n) {
"use strict";
var i = e("../lib/event"), r = e("../lib/useragent"), o = e("../lib/dom"), a = e("../lib/lang"), s = e("../lib/keys"), l = s.KEY_MODS, c = r.isChrome < 18, u = r.isIE;
t.TextInput = function(e, t) {
function n(e) {
if (!y) {
if (y = !0, $) t = 0, n = e ? 0 : f.value.length - 1; else var t = 4, n = 5;
try {
f.setSelectionRange(t, n);
} catch (e) {}
y = !1;
}
}
function d() {
y || (f.value = p, r.isWebKit && x.schedule());
}
function h() {
clearTimeout(P), P = setTimeout(function() {
b && (f.style.cssText = b, b = ""), null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0, t.renderer.$moveTextAreaToCursor());
}, 0);
}
var f = o.createElement("textarea");
f.className = r.isIOS ? "ace_text-input ace_text-input-ios" : "ace_text-input", r.isTouchPad && f.setAttribute("x-palm-disable-auto-cap", !0), f.setAttribute("wrap", "off"), f.setAttribute("autocorrect", "off"), f.setAttribute("autocapitalize", "off"), f.setAttribute("spellcheck", !1), f.style.opacity = "0", e.insertBefore(f, e.firstChild);
var p = "\n aaaa a\n", g = !1, m = !1, v = !1, y = !1, b = "", _ = !0;
try {
var w = document.activeElement === f;
} catch (e) {}
i.addListener(f, "blur", function(e) {
t.onBlur(e), w = !1;
}), i.addListener(f, "focus", function(e) {
w = !0, t.onFocus(e), n();
}), this.focus = function() {
if (b) return f.focus();
f.style.position = "fixed", f.focus();
}, this.blur = function() {
f.blur();
}, this.isFocused = function() {
return w;
};
var C = a.delayedCall(function() {
w && n(_);
}), x = a.delayedCall(function() {
y || (f.value = p, w && n());
});
r.isWebKit || t.addEventListener("changeSelection", function() {
t.selection.isEmpty() != _ && (_ = !_, C.schedule());
}), d(), w && t.onFocus();
var S = function(e) {
return 0 === e.selectionStart && e.selectionEnd === e.value.length;
}, $ = null;
this.setInputHandler = function(e) {
$ = e;
}, this.getInputHandler = function() {
return $;
};
var A = !1, k = function(e) {
4 === f.selectionStart && 5 === f.selectionEnd || ($ && (e = $(e), $ = null), v ? (n(), e && t.onPaste(e), v = !1) : e == p.substr(0) && 4 === f.selectionStart ? A ? t.execCommand("del", {
source: "ace"
}) : t.execCommand("backspace", {
source: "ace"
}) : g || (e.substring(0, 9) == p && e.length > p.length ? e = e.substr(9) : e.substr(0, 4) == p.substr(0, 4) ? e = e.substr(4, e.length - p.length + 1) : e.charAt(e.length - 1) == p.charAt(0) && (e = e.slice(0, -1)), e != p.charAt(0) && e.charAt(e.length - 1) == p.charAt(0) && (e = e.slice(0, -1)), e && t.onTextInput(e)), g && (g = !1), A && (A = !1));
}, T = function(e) {
if (!y) {
var t = f.value;
k(t), d();
}
}, D = function(e, t, n) {
var i = e.clipboardData || window.clipboardData;
if (i && !c) {
var r = u || n ? "Text" : "text/plain";
try {
return t ? !1 !== i.setData(r, t) : i.getData(r);
} catch (e) {
if (!n) return D(e, t, !0);
}
}
}, E = function(e, o) {
var a = t.getCopyText();
if (!a) return i.preventDefault(e);
D(e, a) ? (r.isIOS && (m = o, f.value = "\n aa" + a + "a a\n", f.setSelectionRange(4, 4 + a.length), g = {
value: a
}), o ? t.onCut() : t.onCopy(), r.isIOS || i.preventDefault(e)) : (g = !0, f.value = a, f.select(), setTimeout(function() {
g = !1, d(), n(), o ? t.onCut() : t.onCopy();
}));
};
i.addCommandKeyListener(f, t.onCommandKey.bind(t)), i.addListener(f, "select", function(e) {
S(f) ? (t.selectAll(), n()) : $ && n(t.selection.isEmpty());
}), i.addListener(f, "input", T), i.addListener(f, "cut", function(e) {
E(e, !0);
}), i.addListener(f, "copy", function(e) {
E(e, !1);
}), i.addListener(f, "paste", function(e) {
var o = D(e);
"string" == typeof o ? (o && t.onPaste(o, e), r.isIE && setTimeout(n), i.preventDefault(e)) : (f.value = "", v = !0);
});
var F = function() {
if (y && t.onCompositionUpdate && !t.$readOnly) {
var e = f.value.replace(/\x01/g, "");
if (y.lastValue !== e && (t.onCompositionUpdate(e), y.lastValue && t.undo(), y.canUndo && (y.lastValue = e), y.lastValue)) {
var n = t.selection.getRange();
t.insert(y.lastValue), t.session.markUndoGroup(), y.range = t.selection.getRange(), t.selection.setRange(n), t.selection.clearSelection();
}
}
}, M = function(e) {
if (t.onCompositionEnd && !t.$readOnly) {
var n = y;
y = !1;
var i = setTimeout(function() {
i = null;
var e = f.value.replace(/\x01/g, "");
y || (e == n.lastValue ? d() : !n.lastValue && e && (d(), k(e)));
});
$ = function(e) {
return i && clearTimeout(i), (e = e.replace(/\x01/g, "")) == n.lastValue ? "" : (n.lastValue && i && t.undo(), e);
}, t.onCompositionEnd(), t.removeListener("mousedown", M), "compositionend" == e.type && n.range && t.selection.setRange(n.range), (!!r.isChrome && r.isChrome >= 53 || !!r.isWebKit && r.isWebKit >= 603) && T();
}
}, I = a.delayedCall(F, 50);
i.addListener(f, "compositionstart", function(e) {
y || !t.onCompositionStart || t.$readOnly || ((y = {}).canUndo = t.session.$undoManager, t.onCompositionStart(), setTimeout(F, 0), t.on("mousedown", M), y.canUndo && !t.selection.isEmpty() && (t.insert(""), t.session.markUndoGroup(), t.selection.clearSelection()), t.session.markUndoGroup());
}), r.isGecko ? i.addListener(f, "text", function() {
I.schedule();
}) : (i.addListener(f, "keyup", function() {
I.schedule();
}), i.addListener(f, "keydown", function() {
I.schedule();
})), i.addListener(f, "compositionend", M), this.getElement = function() {
return f;
}, this.setReadOnly = function(e) {
f.readOnly = e;
}, this.onContextMenu = function(e) {
A = !0, n(t.selection.isEmpty()), t._emit("nativecontextmenu", {
target: t,
domEvent: e
}), this.moveToMouse(e, !0);
}, this.moveToMouse = function(e, n) {
b || (b = f.style.cssText), f.style.cssText = (n ? "z-index:100000;" : "") + "height:" + f.style.height + ";" + (r.isIE ? "opacity:0.1;" : "");
var a = t.container.getBoundingClientRect(), s = o.computedStyle(t.container), l = a.top + (parseInt(s.borderTopWidth) || 0), c = a.left + (parseInt(a.borderLeftWidth) || 0), u = a.bottom - l - f.clientHeight - 2, d = function(e) {
f.style.left = e.clientX - c - 2 + "px", f.style.top = Math.min(e.clientY - l - 2, u) + "px";
};
d(e), "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null), clearTimeout(P), r.isWin && i.capture(t.container, d, h));
}, this.onContextMenuClose = h;
var P, L = function(e) {
t.textInput.onContextMenu(e), h();
};
if (i.addListener(f, "mouseup", L), i.addListener(f, "mousedown", function(e) {
e.preventDefault(), h();
}), i.addListener(t.renderer.scroller, "contextmenu", L), i.addListener(f, "contextmenu", L), r.isIOS) {
var O = null, R = !1;
e.addEventListener("keydown", function(e) {
O && clearTimeout(O), R = !0;
}), e.addEventListener("keyup", function(e) {
O = setTimeout(function() {
R = !1;
}, 100);
});
var N = function(e) {
if (document.activeElement === f && !R) {
if (m) return setTimeout(function() {
m = !1;
}, 100);
var n = f.selectionStart, i = f.selectionEnd;
if (f.setSelectionRange(4, 5), n == i) switch (n) {
case 0:
t.onCommandKey(null, 0, s.up);
break;

case 1:
t.onCommandKey(null, 0, s.home);
break;

case 2:
t.onCommandKey(null, l.option, s.left);
break;

case 4:
t.onCommandKey(null, 0, s.left);
break;

case 5:
t.onCommandKey(null, 0, s.right);
break;

case 7:
t.onCommandKey(null, l.option, s.right);
break;

case 8:
t.onCommandKey(null, 0, s.end);
break;

case 9:
t.onCommandKey(null, 0, s.down);
} else {
switch (i) {
case 6:
t.onCommandKey(null, l.shift, s.right);
break;

case 7:
t.onCommandKey(null, l.shift | l.option, s.right);
break;

case 8:
t.onCommandKey(null, l.shift, s.end);
break;

case 9:
t.onCommandKey(null, l.shift, s.down);
}
switch (n) {
case 0:
t.onCommandKey(null, l.shift, s.up);
break;

case 1:
t.onCommandKey(null, l.shift, s.home);
break;

case 2:
t.onCommandKey(null, l.shift | l.option, s.left);
break;

case 3:
t.onCommandKey(null, l.shift, s.left);
}
}
}
};
document.addEventListener("selectionchange", N), t.on("destroy", function() {
document.removeEventListener("selectionchange", N);
});
}
};
}), ace.define("ace/keyboard/textinput", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/keyboard/textinput_ios" ], function(e, t, n) {
"use strict";
var i = e("../lib/event"), r = e("../lib/useragent"), o = e("../lib/dom"), a = e("../lib/lang"), s = r.isChrome < 18, l = r.isIE, c = e("./textinput_ios").TextInput;
t.TextInput = function(e, t) {
function n(e) {
if (!m) {
if (m = !0, x) var t = 0, n = e ? 0 : h.value.length - 1; else var t = e ? 2 : 1, n = 2;
try {
h.setSelectionRange(t, n);
} catch (e) {}
m = !1;
}
}
function u() {
m || (h.value = f, r.isWebKit && w.schedule());
}
function d() {
clearTimeout(L), L = setTimeout(function() {
v && (h.style.cssText = v, v = ""), null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0, t.renderer.$moveTextAreaToCursor());
}, 0);
}
if (r.isIOS) return c.call(this, e, t);
var h = o.createElement("textarea");
h.className = "ace_text-input", h.setAttribute("wrap", "off"), h.setAttribute("autocorrect", "off"), h.setAttribute("autocapitalize", "off"), h.setAttribute("spellcheck", !1), h.style.opacity = "0", e.insertBefore(h, e.firstChild);
var f = "\u2028\u2028", p = !1, g = !1, m = !1, v = "", y = !0;
try {
var b = document.activeElement === h;
} catch (e) {}
i.addListener(h, "blur", function(e) {
t.onBlur(e), b = !1;
}), i.addListener(h, "focus", function(e) {
b = !0, t.onFocus(e), n();
}), this.focus = function() {
if (v) return h.focus();
var e = h.style.top;
h.style.position = "fixed", h.style.top = "0px", h.focus(), setTimeout(function() {
h.style.position = "", "0px" == h.style.top && (h.style.top = e);
}, 0);
}, this.blur = function() {
h.blur();
}, this.isFocused = function() {
return b;
};
var _ = a.delayedCall(function() {
b && n(y);
}), w = a.delayedCall(function() {
m || (h.value = f, b && n());
});
r.isWebKit || t.addEventListener("changeSelection", function() {
t.selection.isEmpty() != y && (y = !y, _.schedule());
}), u(), b && t.onFocus();
var C = function(e) {
return 0 === e.selectionStart && e.selectionEnd === e.value.length;
}, x = null;
this.setInputHandler = function(e) {
x = e;
}, this.getInputHandler = function() {
return x;
};
var S = !1, $ = function(e) {
x && (e = x(e), x = null), g ? (n(), e && t.onPaste(e), g = !1) : e == f.charAt(0) ? S ? t.execCommand("del", {
source: "ace"
}) : t.execCommand("backspace", {
source: "ace"
}) : (e.substring(0, 2) == f ? e = e.substr(2) : e.charAt(0) == f.charAt(0) ? e = e.substr(1) : e.charAt(e.length - 1) == f.charAt(0) && (e = e.slice(0, -1)), e.charAt(e.length - 1) == f.charAt(0) && (e = e.slice(0, -1)), e && t.onTextInput(e)), S && (S = !1);
}, A = function(e) {
if (!m) {
var t = h.value;
$(t), u();
}
}, k = function(e, t, n) {
var i = e.clipboardData || window.clipboardData;
if (i && !s) {
var r = l || n ? "Text" : "text/plain";
try {
return t ? !1 !== i.setData(r, t) : i.getData(r);
} catch (e) {
if (!n) return k(e, t, !0);
}
}
}, T = function(e, r) {
var o = t.getCopyText();
if (!o) return i.preventDefault(e);
k(e, o) ? (r ? t.onCut() : t.onCopy(), i.preventDefault(e)) : (p = !0, h.value = o, h.select(), setTimeout(function() {
p = !1, u(), n(), r ? t.onCut() : t.onCopy();
}));
}, D = function(e) {
T(e, !0);
}, E = function(e) {
T(e, !1);
}, F = function(e) {
var o = k(e);
"string" == typeof o ? (o && t.onPaste(o, e), r.isIE && setTimeout(n), i.preventDefault(e)) : (h.value = "", g = !0);
};
i.addCommandKeyListener(h, t.onCommandKey.bind(t)), i.addListener(h, "select", function(e) {
p ? p = !1 : C(h) ? (t.selectAll(), n()) : x && n(t.selection.isEmpty());
}), i.addListener(h, "input", A), i.addListener(h, "cut", D), i.addListener(h, "copy", E), i.addListener(h, "paste", F), (!("oncut" in h) || !("oncopy" in h) || !("onpaste" in h)) && i.addListener(e, "keydown", function(e) {
if ((!r.isMac || e.metaKey) && e.ctrlKey) switch (e.keyCode) {
case 67:
E(e);
break;

case 86:
F(e);
break;

case 88:
D(e);
}
});
var M = function() {
if (m && t.onCompositionUpdate && !t.$readOnly) {
var e = h.value.replace(/\u2028/g, "");
if (m.lastValue !== e && (t.onCompositionUpdate(e), m.lastValue && t.undo(), m.canUndo && (m.lastValue = e), m.lastValue)) {
var n = t.selection.getRange();
t.insert(m.lastValue), t.session.markUndoGroup(), m.range = t.selection.getRange(), t.selection.setRange(n), t.selection.clearSelection();
}
}
}, I = function(e) {
if (t.onCompositionEnd && !t.$readOnly) {
var n = m;
m = !1;
var i = setTimeout(function() {
i = null;
var e = h.value.replace(/\u2028/g, "");
m || (e == n.lastValue ? u() : !n.lastValue && e && (u(), $(e)));
});
x = function(e) {
return i && clearTimeout(i), (e = e.replace(/\u2028/g, "")) == n.lastValue ? "" : (n.lastValue && i && t.undo(), e);
}, t.onCompositionEnd(), t.removeListener("mousedown", I), "compositionend" == e.type && n.range && t.selection.setRange(n.range), (!!r.isChrome && r.isChrome >= 53 || !!r.isWebKit && r.isWebKit >= 603) && A();
}
}, P = a.delayedCall(M, 50);
i.addListener(h, "compositionstart", function(e) {
m || !t.onCompositionStart || t.$readOnly || ((m = {}).canUndo = t.session.$undoManager, t.onCompositionStart(), setTimeout(M, 0), t.on("mousedown", I), m.canUndo && !t.selection.isEmpty() && (t.insert(""), t.session.markUndoGroup(), t.selection.clearSelection()), t.session.markUndoGroup());
}), r.isGecko ? i.addListener(h, "text", function() {
P.schedule();
}) : (i.addListener(h, "keyup", function() {
P.schedule();
}), i.addListener(h, "keydown", function() {
P.schedule();
})), i.addListener(h, "compositionend", I), this.getElement = function() {
return h;
}, this.setReadOnly = function(e) {
h.readOnly = e;
}, this.onContextMenu = function(e) {
S = !0, n(t.selection.isEmpty()), t._emit("nativecontextmenu", {
target: t,
domEvent: e
}), this.moveToMouse(e, !0);
}, this.moveToMouse = function(e, n) {
v || (v = h.style.cssText), h.style.cssText = (n ? "z-index:100000;" : "") + "height:" + h.style.height + ";" + (r.isIE ? "opacity:0.1;" : "");
var a = t.container.getBoundingClientRect(), s = o.computedStyle(t.container), l = a.top + (parseInt(s.borderTopWidth) || 0), c = a.left + (parseInt(a.borderLeftWidth) || 0), u = a.bottom - l - h.clientHeight - 2, f = function(e) {
h.style.left = e.clientX - c - 2 + "px", h.style.top = Math.min(e.clientY - l - 2, u) + "px";
};
f(e), "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null), clearTimeout(L), r.isWin && i.capture(t.container, f, d));
}, this.onContextMenuClose = d;
var L, O = function(e) {
t.textInput.onContextMenu(e), d();
};
i.addListener(h, "mouseup", O), i.addListener(h, "mousedown", function(e) {
e.preventDefault(), d();
}), i.addListener(t.renderer.scroller, "contextmenu", O), i.addListener(h, "contextmenu", O);
};
}), ace.define("ace/mouse/default_handlers", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e) {
e.$clickSelection = null;
var t = e.editor;
t.setDefaultHandler("mousedown", this.onMouseDown.bind(e)), t.setDefaultHandler("dblclick", this.onDoubleClick.bind(e)), t.setDefaultHandler("tripleclick", this.onTripleClick.bind(e)), t.setDefaultHandler("quadclick", this.onQuadClick.bind(e)), t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(e)), t.setDefaultHandler("touchmove", this.onTouchMove.bind(e)), [ "select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait" ].forEach(function(t) {
e[t] = this[t];
}, this), e.selectByLines = this.extendSelectionBy.bind(e, "getLineRange"), e.selectByWords = this.extendSelectionBy.bind(e, "getWordRange");
}
function r(e, t, n, i) {
return Math.sqrt(Math.pow(n - e, 2) + Math.pow(i - t, 2));
}
function o(e, t) {
if (e.start.row == e.end.row) n = 2 * t.column - e.start.column - e.end.column; else if (e.start.row != e.end.row - 1 || e.start.column || e.end.column) n = 2 * t.row - e.start.row - e.end.row; else var n = t.column - 4;
return n < 0 ? {
cursor: e.start,
anchor: e.end
} : {
cursor: e.end,
anchor: e.start
};
}
e("../lib/dom"), e("../lib/event");
var a = e("../lib/useragent");
(function() {
this.onMouseDown = function(e) {
var t = e.inSelection(), n = e.getDocumentPosition();
this.mousedownEvent = e;
var i = this.editor, r = e.getButton();
if (0 !== r) {
var o = i.getSelectionRange().isEmpty();
return i.$blockScrolling++, (o || 1 == r) && i.selection.moveToPosition(n), i.$blockScrolling--, void (2 == r && (i.textInput.onContextMenu(e.domEvent), a.isMozilla || e.preventDefault()));
}
return this.mousedownEvent.time = Date.now(), !t || i.isFocused() || (i.focus(), !this.$focusTimout || this.$clickSelection || i.inMultiSelectMode) ? (this.captureMouse(e), this.startSelect(n, e.domEvent._clicks > 1), e.preventDefault()) : (this.setState("focusWait"), void this.captureMouse(e));
}, this.startSelect = function(e, t) {
e = e || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
var n = this.editor;
n.$blockScrolling++, this.mousedownEvent.getShiftKey() ? n.selection.selectToPosition(e) : t || n.selection.moveToPosition(e), t || this.select(), n.renderer.scroller.setCapture && n.renderer.scroller.setCapture(), n.setStyle("ace_selecting"), this.setState("select"), n.$blockScrolling--;
}, this.select = function() {
var e, t = this.editor, n = t.renderer.screenToTextCoordinates(this.x, this.y);
if (t.$blockScrolling++, this.$clickSelection) {
var i = this.$clickSelection.comparePoint(n);
if (-1 == i) e = this.$clickSelection.end; else if (1 == i) e = this.$clickSelection.start; else {
var r = o(this.$clickSelection, n);
n = r.cursor, e = r.anchor;
}
t.selection.setSelectionAnchor(e.row, e.column);
}
t.selection.selectToPosition(n), t.$blockScrolling--, t.renderer.scrollCursorIntoView();
}, this.extendSelectionBy = function(e) {
var t, n = this.editor, i = n.renderer.screenToTextCoordinates(this.x, this.y), r = n.selection[e](i.row, i.column);
if (n.$blockScrolling++, this.$clickSelection) {
var a = this.$clickSelection.comparePoint(r.start), s = this.$clickSelection.comparePoint(r.end);
if (-1 == a && s <= 0) t = this.$clickSelection.end, r.end.row == i.row && r.end.column == i.column || (i = r.start); else if (1 == s && a >= 0) t = this.$clickSelection.start, r.start.row == i.row && r.start.column == i.column || (i = r.end); else if (-1 == a && 1 == s) i = r.end, t = r.start; else {
var l = o(this.$clickSelection, i);
i = l.cursor, t = l.anchor;
}
n.selection.setSelectionAnchor(t.row, t.column);
}
n.selection.selectToPosition(i), n.$blockScrolling--, n.renderer.scrollCursorIntoView();
}, this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
this.$clickSelection = null, this.editor.unsetStyle("ace_selecting"), this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture();
}, this.focusWait = function() {
var e = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y), t = Date.now();
(e > 0 || t - this.mousedownEvent.time > this.$focusTimout) && this.startSelect(this.mousedownEvent.getDocumentPosition());
}, this.onDoubleClick = function(e) {
var t = e.getDocumentPosition(), n = this.editor, i = n.session.getBracketRange(t);
i ? (i.isEmpty() && (i.start.column--, i.end.column++), this.setState("select")) : (i = n.selection.getWordRange(t.row, t.column), this.setState("selectByWords")), this.$clickSelection = i, this.select();
}, this.onTripleClick = function(e) {
var t = e.getDocumentPosition(), n = this.editor;
this.setState("selectByLines");
var i = n.getSelectionRange();
i.isMultiLine() && i.contains(t.row, t.column) ? (this.$clickSelection = n.selection.getLineRange(i.start.row), this.$clickSelection.end = n.selection.getLineRange(i.end.row).end) : this.$clickSelection = n.selection.getLineRange(t.row), this.select();
}, this.onQuadClick = function(e) {
var t = this.editor;
t.selectAll(), this.$clickSelection = t.getSelectionRange(), this.setState("selectAll");
}, this.onMouseWheel = function(e) {
if (!e.getAccelKey()) {
e.getShiftKey() && e.wheelY && !e.wheelX && (e.wheelX = e.wheelY, e.wheelY = 0);
var t = this.editor;
this.$lastScroll || (this.$lastScroll = {
t: 0,
vx: 0,
vy: 0,
allowed: 0
});
var n = this.$lastScroll, i = e.domEvent.timeStamp, r = i - n.t, o = e.wheelX / r, a = e.wheelY / r;
r < 250 && (o = (o + n.vx) / 2, a = (a + n.vy) / 2);
var s = Math.abs(o / a), l = !1;
return s >= 1 && t.renderer.isScrollableBy(e.wheelX * e.speed, 0) && (l = !0), s <= 1 && t.renderer.isScrollableBy(0, e.wheelY * e.speed) && (l = !0), l ? n.allowed = i : i - n.allowed < 250 && (Math.abs(o) <= 1.1 * Math.abs(n.vx) && Math.abs(a) <= 1.1 * Math.abs(n.vy) ? (l = !0, n.allowed = i) : n.allowed = 0), n.t = i, n.vx = o, n.vy = a, l ? (t.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed), e.stop()) : void 0;
}
}, this.onTouchMove = function(e) {
this.editor._emit("mousewheel", e);
};
}).call(i.prototype), t.DefaultHandlers = i;
}), ace.define("ace/tooltip", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom" ], function(e, t, n) {
"use strict";
function i(e) {
this.isOpen = !1, this.$element = null, this.$parentNode = e;
}
e("./lib/oop");
var r = e("./lib/dom");
(function() {
this.$init = function() {
return this.$element = r.createElement("div"), this.$element.className = "ace_tooltip", this.$element.style.display = "none", this.$parentNode.appendChild(this.$element), this.$element;
}, this.getElement = function() {
return this.$element || this.$init();
}, this.setText = function(e) {
r.setInnerText(this.getElement(), e);
}, this.setHtml = function(e) {
this.getElement().innerHTML = e;
}, this.setPosition = function(e, t) {
this.getElement().style.left = e + "px", this.getElement().style.top = t + "px";
}, this.setClassName = function(e) {
r.addCssClass(this.getElement(), e);
}, this.show = function(e, t, n) {
null != e && this.setText(e), null != t && null != n && this.setPosition(t, n), this.isOpen || (this.getElement().style.display = "block", this.isOpen = !0);
}, this.hide = function() {
this.isOpen && (this.getElement().style.display = "none", this.isOpen = !1);
}, this.getHeight = function() {
return this.getElement().offsetHeight;
}, this.getWidth = function() {
return this.getElement().offsetWidth;
}, this.destroy = function() {
this.isOpen = !1, this.$element && this.$element.parentNode && this.$element.parentNode.removeChild(this.$element);
};
}).call(i.prototype), t.Tooltip = i;
}), ace.define("ace/mouse/default_gutter_handler", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip" ], function(e, t, n) {
"use strict";
function i(e) {
s.call(this, e);
}
var r = e("../lib/dom"), o = e("../lib/oop"), a = e("../lib/event"), s = e("../tooltip").Tooltip;
o.inherits(i, s), function() {
this.setPosition = function(e, t) {
var n = window.innerWidth || document.documentElement.clientWidth, i = window.innerHeight || document.documentElement.clientHeight, r = this.getWidth(), o = this.getHeight();
t += 15, (e += 15) + r > n && (e -= e + r - n), t + o > i && (t -= 20 + o), s.prototype.setPosition.call(this, e, t);
};
}.call(i.prototype), t.GutterHandler = function(e) {
function t() {
var t = d.getDocumentPosition().row, i = l.$annotations[t];
if (!i) return n();
if (t == s.session.getLength()) {
var r = s.renderer.pixelToScreenCoordinates(0, d.y).row, a = d.$pos;
if (r > s.session.documentToScreenRow(a.row, a.column)) return n();
}
if (h != i) if (h = i.text.join("<br/>"), c.setHtml(h), c.show(), s._signal("showGutterTooltip", c), s.on("mousewheel", n), e.$tooltipFollowsMouse) o(d); else {
var u = d.domEvent.target.getBoundingClientRect(), f = c.getElement().style;
f.left = u.right + "px", f.top = u.bottom + "px";
}
}
function n() {
u && (u = clearTimeout(u)), h && (c.hide(), h = null, s._signal("hideGutterTooltip", c), s.removeEventListener("mousewheel", n));
}
function o(e) {
c.setPosition(e.x, e.y);
}
var s = e.editor, l = s.renderer.$gutterLayer, c = new i(s.container);
e.editor.setDefaultHandler("guttermousedown", function(t) {
if (s.isFocused() && 0 == t.getButton() && "foldWidgets" != l.getRegion(t)) {
var n = t.getDocumentPosition().row, i = s.session.selection;
if (t.getShiftKey()) i.selectTo(n, 0); else {
if (2 == t.domEvent.detail) return s.selectAll(), t.preventDefault();
e.$clickSelection = s.selection.getLineRange(n);
}
return e.setState("selectByLines"), e.captureMouse(t), t.preventDefault();
}
});
var u, d, h;
e.editor.setDefaultHandler("guttermousemove", function(i) {
var a = i.domEvent.target || i.domEvent.srcElement;
if (r.hasCssClass(a, "ace_fold-widget")) return n();
h && e.$tooltipFollowsMouse && o(i), d = i, u || (u = setTimeout(function() {
u = null, d && !e.isMousePressed ? t() : n();
}, 50));
}), a.addListener(s.renderer.$gutter, "mouseout", function(e) {
d = null, h && !u && (u = setTimeout(function() {
u = null, n();
}, 50));
}), s.on("changeSession", n);
};
}), ace.define("ace/mouse/mouse_event", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
var i = e("../lib/event"), r = e("../lib/useragent"), o = t.MouseEvent = function(e, t) {
this.domEvent = e, this.editor = t, this.x = this.clientX = e.clientX, this.y = this.clientY = e.clientY, this.$pos = null, this.$inSelection = null, this.propagationStopped = !1, this.defaultPrevented = !1;
};
(function() {
this.stopPropagation = function() {
i.stopPropagation(this.domEvent), this.propagationStopped = !0;
}, this.preventDefault = function() {
i.preventDefault(this.domEvent), this.defaultPrevented = !0;
}, this.stop = function() {
this.stopPropagation(), this.preventDefault();
}, this.getDocumentPosition = function() {
return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY), this.$pos);
}, this.inSelection = function() {
if (null !== this.$inSelection) return this.$inSelection;
var e = this.editor.getSelectionRange();
if (e.isEmpty()) this.$inSelection = !1; else {
var t = this.getDocumentPosition();
this.$inSelection = e.contains(t.row, t.column);
}
return this.$inSelection;
}, this.getButton = function() {
return i.getButton(this.domEvent);
}, this.getShiftKey = function() {
return this.domEvent.shiftKey;
}, this.getAccelKey = r.isMac ? function() {
return this.domEvent.metaKey;
} : function() {
return this.domEvent.ctrlKey;
};
}).call(o.prototype);
}), ace.define("ace/mouse/dragdrop_handler", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e) {
function t(e, t) {
var n = Date.now(), i = !t || e.row != t.row, o = !t || e.column != t.column;
!k || i || o ? (m.$blockScrolling += 1, m.moveCursorToPosition(e), m.$blockScrolling -= 1, k = n, T = {
x: b,
y: _
}) : r(T.x, T.y, b, _) > u ? k = null : n - k >= c && (m.renderer.scrollCursorIntoView(), k = null);
}
function n(e, t) {
var n = Date.now(), i = m.renderer.layerConfig.lineHeight, r = m.renderer.layerConfig.characterWidth, o = m.renderer.scroller.getBoundingClientRect(), a = {
x: {
left: b - o.left,
right: o.right - b
},
y: {
top: _ - o.top,
bottom: o.bottom - _
}
}, s = Math.min(a.x.left, a.x.right), c = Math.min(a.y.top, a.y.bottom), u = {
row: e.row,
column: e.column
};
s / r <= 2 && (u.column += a.x.left < a.x.right ? -3 : 2), c / i <= 1 && (u.row += a.y.top < a.y.bottom ? -1 : 1);
var d = e.row != u.row, h = e.column != u.column, f = !t || e.row != t.row;
d || h && !f ? A ? n - A >= l && m.renderer.scrollCursorIntoView(u) : A = n : A = null;
}
function i() {
var e = x;
t(x = m.renderer.screenToTextCoordinates(b, _), e), n(x, e);
}
function d() {
C = m.selection.toOrientedRange(), y = m.session.addMarker(C, "ace_selection", m.getSelectionStyle()), m.clearSelection(), m.isFocused() && m.renderer.$cursorLayer.setBlinking(!1), clearInterval(w), i(), w = setInterval(i, 20), E = 0, a.addListener(document, "mousemove", f);
}
function h() {
clearInterval(w), m.session.removeMarker(y), y = null, m.$blockScrolling += 1, m.selection.fromOrientedRange(C), m.$blockScrolling -= 1, m.isFocused() && !$ && m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()), C = null, x = null, E = 0, A = null, k = null, a.removeListener(document, "mousemove", f);
}
function f() {
null == F && (F = setTimeout(function() {
null != F && y && h();
}, 20));
}
function p(e) {
var t = e.types;
return !t || Array.prototype.some.call(t, function(e) {
return "text/plain" == e || "Text" == e;
});
}
function g(e) {
var t = [ "copy", "copymove", "all", "uninitialized" ], n = [ "move", "copymove", "linkmove", "all", "uninitialized" ], i = s.isMac ? e.altKey : e.ctrlKey, r = "uninitialized";
try {
r = e.dataTransfer.effectAllowed.toLowerCase();
} catch (e) {}
var o = "none";
return i && t.indexOf(r) >= 0 ? o = "copy" : n.indexOf(r) >= 0 ? o = "move" : t.indexOf(r) >= 0 && (o = "copy"), o;
}
var m = e.editor, v = o.createElement("img");
v.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", s.isOpera && (v.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"), [ "dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag" ].forEach(function(t) {
e[t] = this[t];
}, this), m.addEventListener("mousedown", this.onMouseDown.bind(e));
var y, b, _, w, C, x, S, $, A, k, T, D = m.container, E = 0;
this.onDragStart = function(e) {
if (this.cancelDrag || !D.draggable) {
var t = this;
return setTimeout(function() {
t.startSelect(), t.captureMouse(e);
}, 0), e.preventDefault();
}
C = m.getSelectionRange();
var n = e.dataTransfer;
n.effectAllowed = m.getReadOnly() ? "copy" : "copyMove", s.isOpera && (m.container.appendChild(v), v.scrollTop = 0), n.setDragImage && n.setDragImage(v, 0, 0), s.isOpera && m.container.removeChild(v), n.clearData(), n.setData("Text", m.session.getTextRange()), $ = !0, this.setState("drag");
}, this.onDragEnd = function(e) {
if (D.draggable = !1, $ = !1, this.setState(null), !m.getReadOnly()) {
var t = e.dataTransfer.dropEffect;
!S && "move" == t && m.session.remove(m.getSelectionRange()), m.renderer.$cursorLayer.setBlinking(!0);
}
this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle("");
}, this.onDragEnter = function(e) {
if (!m.getReadOnly() && p(e.dataTransfer)) return b = e.clientX, _ = e.clientY, y || d(), E++, e.dataTransfer.dropEffect = S = g(e), a.preventDefault(e);
}, this.onDragOver = function(e) {
if (!m.getReadOnly() && p(e.dataTransfer)) return b = e.clientX, _ = e.clientY, y || (d(), E++), null !== F && (F = null), e.dataTransfer.dropEffect = S = g(e), a.preventDefault(e);
}, this.onDragLeave = function(e) {
if (--E <= 0 && y) return h(), S = null, a.preventDefault(e);
}, this.onDrop = function(e) {
if (x) {
var t = e.dataTransfer;
if ($) switch (S) {
case "move":
C = C.contains(x.row, x.column) ? {
start: x,
end: x
} : m.moveText(C, x);
break;

case "copy":
C = m.moveText(C, x, !0);
} else {
var n = t.getData("Text");
C = {
start: x,
end: m.session.insert(x, n)
}, m.focus(), S = null;
}
return h(), a.preventDefault(e);
}
}, a.addListener(D, "dragstart", this.onDragStart.bind(e)), a.addListener(D, "dragend", this.onDragEnd.bind(e)), a.addListener(D, "dragenter", this.onDragEnter.bind(e)), a.addListener(D, "dragover", this.onDragOver.bind(e)), a.addListener(D, "dragleave", this.onDragLeave.bind(e)), a.addListener(D, "drop", this.onDrop.bind(e));
var F = null;
}
function r(e, t, n, i) {
return Math.sqrt(Math.pow(n - e, 2) + Math.pow(i - t, 2));
}
var o = e("../lib/dom"), a = e("../lib/event"), s = e("../lib/useragent"), l = 200, c = 200, u = 5;
(function() {
this.dragWait = function() {
Date.now() - this.mousedownEvent.time > this.editor.getDragDelay() && this.startDrag();
}, this.dragWaitEnd = function() {
this.editor.container.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()), this.selectEnd();
}, this.dragReadyEnd = function(e) {
this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()), this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle(""), this.dragWaitEnd();
}, this.startDrag = function() {
this.cancelDrag = !1;
var e = this.editor;
e.container.draggable = !0, e.renderer.$cursorLayer.setBlinking(!1), e.setStyle("ace_dragging");
var t = s.isWin ? "default" : "move";
e.renderer.setCursorStyle(t), this.setState("dragReady");
}, this.onMouseDrag = function(e) {
var t = this.editor.container;
if (s.isIE && "dragReady" == this.state && (n = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y)) > 3 && t.dragDrop(), "dragWait" === this.state) {
var n = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
n > 0 && (t.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()));
}
}, this.onMouseDown = function(e) {
if (this.$dragEnabled) {
this.mousedownEvent = e;
var t = this.editor, n = e.inSelection(), i = e.getButton();
if (1 === (e.domEvent.detail || 1) && 0 === i && n) {
if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return;
this.mousedownEvent.time = Date.now();
var r = e.domEvent.target || e.domEvent.srcElement;
"unselectable" in r && (r.unselectable = "on"), t.getDragDelay() ? (s.isWebKit && (this.cancelDrag = !0, t.container.draggable = !0), this.setState("dragWait")) : this.startDrag(), this.captureMouse(e, this.onMouseDrag.bind(this)), e.defaultPrevented = !0;
}
}
};
}).call(i.prototype), t.DragdropHandler = i;
}), ace.define("ace/lib/net", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
var i = e("./dom");
t.get = function(e, t) {
var n = new XMLHttpRequest();
n.open("GET", e, !0), n.onreadystatechange = function() {
4 === n.readyState && t(n.responseText);
}, n.send(null);
}, t.loadScript = function(e, t) {
var n = i.getDocumentHead(), r = document.createElement("script");
r.src = e, n.appendChild(r), r.onload = r.onreadystatechange = function(e, n) {
!n && r.readyState && "loaded" != r.readyState && "complete" != r.readyState || (r = r.onload = r.onreadystatechange = null, n || t());
};
}, t.qualifyURL = function(e) {
var t = document.createElement("a");
return t.href = e, t.href;
};
}), ace.define("ace/lib/event_emitter", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = {}, r = function() {
this.propagationStopped = !0;
}, o = function() {
this.defaultPrevented = !0;
};
i._emit = i._dispatchEvent = function(e, t) {
this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {});
var n = this._eventRegistry[e] || [], i = this._defaultHandlers[e];
if (n.length || i) {
"object" == typeof t && t || (t = {}), t.type || (t.type = e), t.stopPropagation || (t.stopPropagation = r), t.preventDefault || (t.preventDefault = o), n = n.slice();
for (var a = 0; a < n.length && (n[a](t, this), !t.propagationStopped); a++) ;
return i && !t.defaultPrevented ? i(t, this) : void 0;
}
}, i._signal = function(e, t) {
var n = (this._eventRegistry || {})[e];
if (n) {
n = n.slice();
for (var i = 0; i < n.length; i++) n[i](t, this);
}
}, i.once = function(e, t) {
var n = this;
t && this.addEventListener(e, function i() {
n.removeEventListener(e, i), t.apply(null, arguments);
});
}, i.setDefaultHandler = function(e, t) {
var n = this._defaultHandlers;
if (n || (n = this._defaultHandlers = {
_disabled_: {}
}), n[e]) {
var i = n[e], r = n._disabled_[e];
r || (n._disabled_[e] = r = []), r.push(i);
var o = r.indexOf(t);
-1 != o && r.splice(o, 1);
}
n[e] = t;
}, i.removeDefaultHandler = function(e, t) {
var n = this._defaultHandlers;
if (n) {
var i = n._disabled_[e];
if (n[e] == t) {
n[e];
i && this.setDefaultHandler(e, i.pop());
} else if (i) {
var r = i.indexOf(t);
-1 != r && i.splice(r, 1);
}
}
}, i.on = i.addEventListener = function(e, t, n) {
this._eventRegistry = this._eventRegistry || {};
var i = this._eventRegistry[e];
return i || (i = this._eventRegistry[e] = []), -1 == i.indexOf(t) && i[n ? "unshift" : "push"](t), t;
}, i.off = i.removeListener = i.removeEventListener = function(e, t) {
this._eventRegistry = this._eventRegistry || {};
var n = this._eventRegistry[e];
if (n) {
var i = n.indexOf(t);
-1 !== i && n.splice(i, 1);
}
}, i.removeAllListeners = function(e) {
this._eventRegistry && (this._eventRegistry[e] = []);
}, t.EventEmitter = i;
}), ace.define("ace/lib/app_config", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter" ], function(e, t, n) {
"no use strict";
function i(e) {
"undefined" != typeof console && console.warn && console.warn.apply(console, arguments);
}
function r(e, t) {
var n = new Error(e);
n.data = t, "object" == typeof console && console.error && console.error(n), setTimeout(function() {
throw n;
});
}
var o = e("./oop"), a = e("./event_emitter").EventEmitter, s = {
setOptions: function(e) {
Object.keys(e).forEach(function(t) {
this.setOption(t, e[t]);
}, this);
},
getOptions: function(e) {
var t = {};
return e ? Array.isArray(e) || (t = e, e = Object.keys(t)) : e = Object.keys(this.$options), e.forEach(function(e) {
t[e] = this.getOption(e);
}, this), t;
},
setOption: function(e, t) {
if (this["$" + e] !== t) {
var n = this.$options[e];
return n ? n.forwardTo ? this[n.forwardTo] && this[n.forwardTo].setOption(e, t) : (n.handlesSet || (this["$" + e] = t), void (n && n.set && n.set.call(this, t))) : i('misspelled option "' + e + '"');
}
},
getOption: function(e) {
var t = this.$options[e];
return t ? t.forwardTo ? this[t.forwardTo] && this[t.forwardTo].getOption(e) : t && t.get ? t.get.call(this) : this["$" + e] : i('misspelled option "' + e + '"');
}
}, l = function() {
this.$defaultOptions = {};
};
(function() {
o.implement(this, a), this.defineOptions = function(e, t, n) {
return e.$options || (this.$defaultOptions[t] = e.$options = {}), Object.keys(n).forEach(function(t) {
var i = n[t];
"string" == typeof i && (i = {
forwardTo: i
}), i.name || (i.name = t), e.$options[i.name] = i, "initialValue" in i && (e["$" + i.name] = i.initialValue);
}), o.implement(e, s), this;
}, this.resetOptions = function(e) {
Object.keys(e.$options).forEach(function(t) {
var n = e.$options[t];
"value" in n && e.setOption(t, n.value);
});
}, this.setDefaultValue = function(e, t, n) {
var i = this.$defaultOptions[e] || (this.$defaultOptions[e] = {});
i[t] && (i.forwardTo ? this.setDefaultValue(i.forwardTo, t, n) : i[t].value = n);
}, this.setDefaultValues = function(e, t) {
Object.keys(t).forEach(function(n) {
this.setDefaultValue(e, n, t[n]);
}, this);
}, this.warn = i, this.reportError = r;
}).call(l.prototype), t.AppConfig = l;
}), ace.define("ace/config", [ "require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/app_config" ], function(e, t, n) {
"no use strict";
function i(e) {
return e.replace(/-(.)/g, function(e, t) {
return t.toUpperCase();
});
}
var r = e("./lib/lang"), o = (e("./lib/oop"), e("./lib/net")), a = e("./lib/app_config").AppConfig;
n.exports = t = new a();
var s = function() {
return this || "undefined" != typeof window && window;
}(), l = {
packaged: !1,
workerPath: null,
modePath: null,
themePath: null,
basePath: "",
suffix: ".js",
$moduleUrls: {}
};
t.get = function(e) {
if (!l.hasOwnProperty(e)) throw new Error("Unknown config key: " + e);
return l[e];
}, t.set = function(e, t) {
if (!l.hasOwnProperty(e)) throw new Error("Unknown config key: " + e);
l[e] = t;
}, t.all = function() {
return r.copyObject(l);
}, t.moduleUrl = function(e, t) {
if (l.$moduleUrls[e]) return l.$moduleUrls[e];
var n = e.split("/"), i = "snippets" == (t = t || n[n.length - 2] || "") ? "/" : "-", r = n[n.length - 1];
if ("worker" == t && "-" == i) {
var o = new RegExp("^" + t + "[\\-_]|[\\-_]" + t + "$", "g");
r = r.replace(o, "");
}
(!r || r == t) && n.length > 1 && (r = n[n.length - 2]);
var a = l[t + "Path"];
return null == a ? a = l.basePath : "/" == i && (t = i = ""), a && "/" != a.slice(-1) && (a += "/"), a + t + i + r + this.get("suffix");
}, t.setModuleUrl = function(e, t) {
return l.$moduleUrls[e] = t;
}, t.$loading = {}, t.loadModule = function(n, i) {
var r, a;
Array.isArray(n) && (a = n[0], n = n[1]);
try {
r = e(n);
} catch (e) {}
if (r && !t.$loading[n]) return i && i(r);
if (t.$loading[n] || (t.$loading[n] = []), t.$loading[n].push(i), !(t.$loading[n].length > 1)) {
var s = function() {
e([ n ], function(e) {
t._emit("load.module", {
name: n,
module: e
});
var i = t.$loading[n];
t.$loading[n] = null, i.forEach(function(t) {
t && t(e);
});
});
};
if (!t.get("packaged")) return s();
o.loadScript(t.moduleUrl(n, a), s);
}
}, t.init = function(r) {
if (s && s.document) {
l.packaged = r || e.packaged || n.packaged || s.define && define.packaged;
for (var o = {}, a = "", c = document.currentScript || document._currentScript, u = (c && c.ownerDocument || document).getElementsByTagName("script"), d = 0; d < u.length; d++) {
var h = u[d], f = h.src || h.getAttribute("src");
if (f) {
for (var p = h.attributes, g = 0, m = p.length; g < m; g++) {
var v = p[g];
0 === v.name.indexOf("data-ace-") && (o[i(v.name.replace(/^data-ace-/, ""))] = v.value);
}
var y = f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
y && (a = y[1]);
}
}
a && (o.base = o.base || a, o.packaged = !0), o.basePath = o.base, o.workerPath = o.workerPath || o.base, o.modePath = o.modePath || o.base, o.themePath = o.themePath || o.base, delete o.base;
for (var b in o) void 0 !== o[b] && t.set(b, o[b]);
}
};
}), ace.define("ace/mouse/mouse_handler", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/config" ], function(e, t, n) {
"use strict";
var i = e("../lib/event"), r = e("../lib/useragent"), o = e("./default_handlers").DefaultHandlers, a = e("./default_gutter_handler").GutterHandler, s = e("./mouse_event").MouseEvent, l = e("./dragdrop_handler").DragdropHandler, c = e("../config"), u = function(e) {
var t = this;
this.editor = e, new o(this), new a(this), new l(this);
var n = function(t) {
(!document.hasFocus || !document.hasFocus() || !e.isFocused() && document.activeElement == (e.textInput && e.textInput.getElement())) && window.focus(), e.focus();
}, s = e.renderer.getMouseEventTarget();
i.addListener(s, "click", this.onMouseEvent.bind(this, "click")), i.addListener(s, "mousemove", this.onMouseMove.bind(this, "mousemove")), i.addMultiMouseDownListener([ s, e.renderer.scrollBarV && e.renderer.scrollBarV.inner, e.renderer.scrollBarH && e.renderer.scrollBarH.inner, e.textInput && e.textInput.getElement() ].filter(Boolean), [ 400, 300, 250 ], this, "onMouseEvent"), i.addMouseWheelListener(e.container, this.onMouseWheel.bind(this, "mousewheel")), i.addTouchMoveListener(e.container, this.onTouchMove.bind(this, "touchmove"));
var c = e.renderer.$gutter;
i.addListener(c, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")), i.addListener(c, "click", this.onMouseEvent.bind(this, "gutterclick")), i.addListener(c, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")), i.addListener(c, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")), i.addListener(s, "mousedown", n), i.addListener(c, "mousedown", n), r.isIE && e.renderer.scrollBarV && (i.addListener(e.renderer.scrollBarV.element, "mousedown", n), i.addListener(e.renderer.scrollBarH.element, "mousedown", n)), e.on("mousemove", function(n) {
if (!t.state && !t.$dragDelay && t.$dragEnabled) {
var i = e.renderer.screenToTextCoordinates(n.x, n.y), r = e.session.selection.getRange(), o = e.renderer;
!r.isEmpty() && r.insideStart(i.row, i.column) ? o.setCursorStyle("default") : o.setCursorStyle("");
}
});
};
(function() {
this.onMouseEvent = function(e, t) {
this.editor._emit(e, new s(t, this.editor));
}, this.onMouseMove = function(e, t) {
var n = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
n && n.length && this.editor._emit(e, new s(t, this.editor));
}, this.onMouseWheel = function(e, t) {
var n = new s(t, this.editor);
n.speed = 2 * this.$scrollSpeed, n.wheelX = t.wheelX, n.wheelY = t.wheelY, this.editor._emit(e, n);
}, this.onTouchMove = function(e, t) {
var n = new s(t, this.editor);
n.speed = 1, n.wheelX = t.wheelX, n.wheelY = t.wheelY, this.editor._emit(e, n);
}, this.setState = function(e) {
this.state = e;
}, this.captureMouse = function(e, t) {
this.x = e.x, this.y = e.y, this.isMousePressed = !0;
var n = this.editor.renderer;
n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = null);
var o = this, a = function(e) {
if (e) return r.isWebKit && !e.which && o.releaseMouse ? o.releaseMouse() : (o.x = e.clientX, o.y = e.clientY, t && t(e), o.mouseEvent = new s(e, o.editor), void (o.$mouseMoved = !0));
}, l = function(e) {
clearInterval(u), c(), o[o.state + "End"] && o[o.state + "End"](e), o.state = "", null == n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = !0, n.$moveTextAreaToCursor()), o.isMousePressed = !1, o.$onCaptureMouseMove = o.releaseMouse = null, e && o.onMouseEvent("mouseup", e);
}, c = function() {
o[o.state] && o[o.state](), o.$mouseMoved = !1;
};
if (r.isOldIE && "dblclick" == e.domEvent.type) return setTimeout(function() {
l(e);
});
o.$onCaptureMouseMove = a, o.releaseMouse = i.capture(this.editor.container, a, l);
var u = setInterval(c, 20);
}, this.releaseMouse = null, this.cancelContextMenu = function() {
var e = function(t) {
t && t.domEvent && "contextmenu" != t.domEvent.type || (this.editor.off("nativecontextmenu", e), t && t.domEvent && i.stopEvent(t.domEvent));
}.bind(this);
setTimeout(e, 10), this.editor.on("nativecontextmenu", e);
};
}).call(u.prototype), c.defineOptions(u.prototype, "mouseHandler", {
scrollSpeed: {
initialValue: 2
},
dragDelay: {
initialValue: r.isMac ? 150 : 0
},
dragEnabled: {
initialValue: !0
},
focusTimout: {
initialValue: 0
},
tooltipFollowsMouse: {
initialValue: !0
}
}), t.MouseHandler = u;
}), ace.define("ace/mouse/fold_handler", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.FoldHandler = function(e) {
e.on("click", function(t) {
var n = t.getDocumentPosition(), i = e.session, r = i.getFoldAt(n.row, n.column, 1);
r && (t.getAccelKey() ? i.removeFold(r) : i.expandFold(r), t.stop());
}), e.on("gutterclick", function(t) {
if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
var n = t.getDocumentPosition().row, i = e.session;
i.foldWidgets && i.foldWidgets[n] && e.session.onFoldWidgetClick(n, t), e.isFocused() || e.focus(), t.stop();
}
}), e.on("gutterdblclick", function(t) {
if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
var n = t.getDocumentPosition().row, i = e.session, r = i.getParentFoldRangeData(n, !0), o = r.range || r.firstRange;
if (o) {
n = o.start.row;
var a = i.getFoldAt(n, i.getLine(n).length, 1);
a ? i.removeFold(a) : (i.addFold("...", o), e.renderer.scrollCursorIntoView({
row: o.start.row,
column: 0
}));
}
t.stop();
}
});
};
}), ace.define("ace/keyboard/keybinding", [ "require", "exports", "module", "ace/lib/keys", "ace/lib/event" ], function(e, t, n) {
"use strict";
var i = e("../lib/keys"), r = e("../lib/event"), o = function(e) {
this.$editor = e, this.$data = {
editor: e
}, this.$handlers = [], this.setDefaultHandler(e.commands);
};
(function() {
this.setDefaultHandler = function(e) {
this.removeKeyboardHandler(this.$defaultHandler), this.$defaultHandler = e, this.addKeyboardHandler(e, 0);
}, this.setKeyboardHandler = function(e) {
var t = this.$handlers;
if (t[t.length - 1] != e) {
for (;t[t.length - 1] && t[t.length - 1] != this.$defaultHandler; ) this.removeKeyboardHandler(t[t.length - 1]);
this.addKeyboardHandler(e, 1);
}
}, this.addKeyboardHandler = function(e, t) {
if (e) {
"function" == typeof e && !e.handleKeyboard && (e.handleKeyboard = e);
var n = this.$handlers.indexOf(e);
-1 != n && this.$handlers.splice(n, 1), void 0 == t ? this.$handlers.push(e) : this.$handlers.splice(t, 0, e), -1 == n && e.attach && e.attach(this.$editor);
}
}, this.removeKeyboardHandler = function(e) {
var t = this.$handlers.indexOf(e);
return -1 != t && (this.$handlers.splice(t, 1), e.detach && e.detach(this.$editor), !0);
}, this.getKeyboardHandler = function() {
return this.$handlers[this.$handlers.length - 1];
}, this.getStatusText = function() {
var e = this.$data, t = e.editor;
return this.$handlers.map(function(n) {
return n.getStatusText && n.getStatusText(t, e) || "";
}).filter(Boolean).join(" ");
}, this.$callKeyboardHandlers = function(e, t, n, i) {
for (var o, a = !1, s = this.$editor.commands, l = this.$handlers.length; l-- && !((o = this.$handlers[l].handleKeyboard(this.$data, e, t, n, i)) && o.command && ((a = "null" == o.command || s.exec(o.command, this.$editor, o.args, i)) && i && -1 != e && 1 != o.passEvent && 1 != o.command.passEvent && r.stopEvent(i), a)); ) ;
return !a && -1 == e && (o = {
command: "insertstring"
}, a = s.exec("insertstring", this.$editor, t)), a && this.$editor._signal && this.$editor._signal("keyboardActivity", o), a;
}, this.onCommandKey = function(e, t, n) {
var r = i.keyCodeToString(n);
this.$callKeyboardHandlers(t, r, n, e);
}, this.onTextInput = function(e) {
this.$callKeyboardHandlers(-1, e);
};
}).call(o.prototype), t.KeyBinding = o;
}), ace.define("ace/lib/bidiutil", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
function i(e, t, n, i) {
var r = s ? p : f, g = null, m = null, v = null, y = 0, b = null, _ = -1, x = null, $ = null, A = [];
if (!i) for (x = 0, i = []; x < n; x++) i[x] = a(e[x]);
for (l = s, c = !1, u = !1, d = !1, h = !1, $ = 0; $ < n; $++) {
if (g = y, A[$] = m = o(e, i, A, $), y = r[g][m], b = 240 & y, y &= 15, t[$] = v = r[y][5], b > 0) if (16 == b) {
for (x = _; x < $; x++) t[x] = 1;
_ = -1;
} else _ = -1;
if (r[y][6]) -1 == _ && (_ = $); else if (_ > -1) {
for (x = _; x < $; x++) t[x] = v;
_ = -1;
}
i[$] == w && (t[$] = 0), l |= v;
}
if (h) for (x = 0; x < n; x++) if (i[x] == C) {
t[x] = s;
for (var k = x - 1; k >= 0 && i[k] == S; k--) t[k] = s;
}
}
function r(e, t, n) {
if (!(l < e)) if (1 != e || s != g || d) for (var i, r, o, a, c = n.length, u = 0; u < c; ) {
if (t[u] >= e) {
for (i = u + 1; i < c && t[i] >= e; ) i++;
for (r = u, o = i - 1; r < o; r++, o--) a = n[r], n[r] = n[o], n[o] = a;
u = i;
}
u++;
} else n.reverse();
}
function o(e, t, n, i) {
var r, o, a, l, f = t[i];
switch (f) {
case m:
case v:
c = !1;

case _:
case b:
return f;

case y:
return c ? b : y;

case x:
return c = !0, u = !0, v;

case S:
return _;

case $:
return i < 1 || i + 1 >= t.length || (r = n[i - 1]) != y && r != b || (o = t[i + 1]) != y && o != b ? _ : (c && (o = b), o == r ? o : _);

case A:
return (r = i > 0 ? n[i - 1] : w) == y && i + 1 < t.length && t[i + 1] == y ? y : _;

case k:
if (i > 0 && n[i - 1] == y) return y;
if (c) return _;
for (l = i + 1, a = t.length; l < a && t[l] == k; ) l++;
return l < a && t[l] == y ? y : _;

case T:
for (a = t.length, l = i + 1; l < a && t[l] == T; ) l++;
if (l < a) {
var p = e[i], g = p >= 1425 && p <= 2303 || 64286 == p;
if (r = t[l], g && (r == v || r == x)) return v;
}
return i < 1 || (r = t[i - 1]) == w ? _ : n[i - 1];

case w:
return c = !1, d = !0, s;

case C:
return h = !0, _;

case D:
case E:
case M:
case I:
case F:
c = !1;

case P:
return _;
}
}
function a(e) {
var t = e.charCodeAt(0), n = t >> 8;
return 0 == n ? t > 191 ? m : L[t] : 5 == n ? /[\u0591-\u05f4]/.test(e) ? v : m : 6 == n ? /[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e) ? T : /[\u0660-\u0669\u066b-\u066c]/.test(e) ? b : 1642 == t ? k : /[\u06f0-\u06f9]/.test(e) ? y : x : 32 == n && t <= 8287 ? O[255 & t] : 254 == n && t >= 65136 ? x : _;
}
var s = 0, l = 0, c = !1, u = !1, d = !1, h = !1, f = [ [ 0, 3, 0, 1, 0, 0, 0 ], [ 0, 3, 0, 1, 2, 2, 0 ], [ 0, 3, 0, 17, 2, 0, 1 ], [ 0, 3, 5, 5, 4, 1, 0 ], [ 0, 3, 21, 21, 4, 0, 1 ], [ 0, 3, 5, 5, 4, 2, 0 ] ], p = [ [ 2, 0, 1, 1, 0, 1, 0 ], [ 2, 0, 1, 1, 0, 2, 0 ], [ 2, 0, 2, 1, 3, 2, 0 ], [ 2, 0, 2, 33, 3, 1, 1 ] ], g = 1, m = 0, v = 1, y = 2, b = 3, _ = 4, w = 5, C = 6, x = 7, S = 8, $ = 9, A = 10, k = 11, T = 12, D = 13, E = 14, F = 15, M = 16, I = 17, P = 18, L = [ P, P, P, P, P, P, P, P, P, C, w, C, S, w, P, P, P, P, P, P, P, P, P, P, P, P, P, P, w, w, w, C, S, _, _, k, k, k, _, _, _, _, _, A, $, A, $, $, y, y, y, y, y, y, y, y, y, y, $, _, _, _, _, _, _, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, _, _, _, _, _, _, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, m, _, _, _, _, P, P, P, P, P, P, w, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, P, $, _, k, k, k, k, _, _, _, _, m, _, _, P, _, _, k, k, y, y, _, m, _, _, _, y, m, _, _, _, _, _ ], O = [ S, S, S, S, S, S, S, S, S, S, S, P, P, P, m, v, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, S, w, D, E, F, M, I, $, k, k, k, k, k, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, $, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, S ];
t.L = m, t.R = v, t.EN = y, t.ON_R = 3, t.AN = 4, t.R_H = 5, t.B = 6, t.DOT = "·", t.doBidiReorder = function(e, n, o) {
if (e.length < 2) return {};
var a = e.split(""), l = new Array(a.length), c = new Array(a.length), u = [];
s = o ? g : 0, i(a, u, a.length, n);
for (d = 0; d < l.length; l[d] = d, d++) ;
r(2, u, l), r(1, u, l);
for (d = 0; d < l.length - 1; d++) n[d] === b ? u[d] = t.AN : u[d] === v && (n[d] > x && n[d] < D || n[d] === _ || n[d] === P) ? u[d] = t.ON_R : d > 0 && "ل" === a[d - 1] && /\u0622|\u0623|\u0625|\u0627/.test(a[d]) && (u[d - 1] = u[d] = t.R_H, d++);
a[a.length - 1] === t.DOT && (u[a.length - 1] = t.B);
for (var d = 0; d < l.length; d++) c[d] = u[l[d]];
return {
logicalFromVisual: l,
bidiLevels: c
};
}, t.hasBidiCharacters = function(e, t) {
for (var n = !1, i = 0; i < e.length; i++) t[i] = a(e.charAt(i)), !n && (t[i] == v || t[i] == x) && (n = !0);
return n;
}, t.getVisualFromLogicalIdx = function(e, t) {
for (var n = 0; n < t.logicalFromVisual.length; n++) if (t.logicalFromVisual[n] == e) return n;
return 0;
};
}), ace.define("ace/bidihandler", [ "require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
var i = e("./lib/bidiutil"), r = e("./lib/lang"), o = e("./lib/useragent"), a = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, s = function(e) {
this.session = e, this.bidiMap = {}, this.currentRow = null, this.bidiUtil = i, this.charWidths = [], this.EOL = "¬", this.showInvisibles = !0, this.isRtlDir = !1, this.line = "", this.wrapIndent = 0, this.isLastRow = !1, this.EOF = "¶", this.seenBidi = !1;
};
(function() {
this.isBidiRow = function(e, t, n) {
return !!this.seenBidi && (e !== this.currentRow && (this.currentRow = e, this.updateRowLine(t, n), this.updateBidiMap()), this.bidiMap.bidiLevels);
}, this.onChange = function(e) {
this.seenBidi ? this.currentRow = null : "insert" == e.action && a.test(e.lines.join("\n")) && (this.seenBidi = !0, this.currentRow = null);
}, this.getDocumentRow = function() {
var e = 0, t = this.session.$screenRowCache;
if (t.length) {
var n = this.session.$getRowCacheIndex(t, this.currentRow);
n >= 0 && (e = this.session.$docRowCache[n]);
}
return e;
}, this.getSplitIndex = function() {
var e = 0, t = this.session.$screenRowCache;
if (t.length) for (var n, i = this.session.$getRowCacheIndex(t, this.currentRow); this.currentRow - e > 0 && (n = this.session.$getRowCacheIndex(t, this.currentRow - e - 1)) === i; ) i = n, e++;
return e;
}, this.updateRowLine = function(e, t) {
if (void 0 === e && (e = this.getDocumentRow()), this.wrapIndent = 0, this.isLastRow = e === this.session.getLength() - 1, this.line = this.session.getLine(e), this.session.$useWrapMode) {
var n = this.session.$wrapData[e];
n && (void 0 === t && (t = this.getSplitIndex()), t > 0 && n.length ? (this.wrapIndent = n.indent, this.line = t < n.length ? this.line.substring(n[t - 1], n[n.length - 1]) : this.line.substring(n[n.length - 1])) : this.line = this.line.substring(0, n[t]));
}
var o, a = this.session, s = 0;
this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(e, t) {
return "\t" === e || a.isFullWidth(e.charCodeAt(0)) ? (o = "\t" === e ? a.getScreenTabSize(t + s) : 2, s += o - 1, r.stringRepeat(i.DOT, o)) : e;
});
}, this.updateBidiMap = function() {
var e = [], t = this.isLastRow ? this.EOF : this.EOL, n = this.line + (this.showInvisibles ? t : i.DOT);
i.hasBidiCharacters(n, e) ? this.bidiMap = i.doBidiReorder(n, e, this.isRtlDir) : this.bidiMap = {};
}, this.markAsDirty = function() {
this.currentRow = null;
}, this.updateCharacterWidths = function(e) {
if (this.seenBidi && this.characterWidth !== e.$characterSize.width) {
var t = this.characterWidth = e.$characterSize.width, n = e.$measureCharWidth("ה");
this.charWidths[i.L] = this.charWidths[i.EN] = this.charWidths[i.ON_R] = t, this.charWidths[i.R] = this.charWidths[i.AN] = n, this.charWidths[i.R_H] = o.isChrome ? n : .45 * n, this.charWidths[i.B] = 0, this.currentRow = null;
}
}, this.getShowInvisibles = function() {
return this.showInvisibles;
}, this.setShowInvisibles = function(e) {
this.showInvisibles = e, this.currentRow = null;
}, this.setEolChar = function(e) {
this.EOL = e;
}, this.setTextDir = function(e) {
this.isRtlDir = e;
}, this.getPosLeft = function(e) {
e -= this.wrapIndent;
var t = i.getVisualFromLogicalIdx(e > 0 ? e - 1 : 0, this.bidiMap), n = this.bidiMap.bidiLevels, r = 0;
0 === e && n[t] % 2 != 0 && t++;
for (var o = 0; o < t; o++) r += this.charWidths[n[o]];
return 0 !== e && n[t] % 2 == 0 && (r += this.charWidths[n[t]]), this.wrapIndent && (r += this.wrapIndent * this.charWidths[i.L]), r;
}, this.getSelections = function(e, t) {
for (var n, r, o = this.bidiMap, a = o.bidiLevels, s = this.wrapIndent * this.charWidths[i.L], l = [], c = Math.min(e, t) - this.wrapIndent, u = Math.max(e, t) - this.wrapIndent, d = !1, h = !1, f = 0, p = 0; p < a.length; p++) r = o.logicalFromVisual[p], n = a[p], (d = r >= c && r < u) && !h ? f = s : !d && h && l.push({
left: f,
width: s - f
}), s += this.charWidths[n], h = d;
return d && p === a.length && l.push({
left: f,
width: s - f
}), l;
}, this.offsetToCol = function(e) {
var t = 0, e = Math.max(e, 0), n = 0, r = 0, o = this.bidiMap.bidiLevels, a = this.charWidths[o[r]];
for (this.wrapIndent && (e -= this.wrapIndent * this.charWidths[i.L]); e > n + a / 2; ) {
if (n += a, r === o.length - 1) {
a = 0;
break;
}
a = this.charWidths[o[++r]];
}
return r > 0 && o[r - 1] % 2 != 0 && o[r] % 2 == 0 ? (e < n && r--, t = this.bidiMap.logicalFromVisual[r]) : r > 0 && o[r - 1] % 2 == 0 && o[r] % 2 != 0 ? t = 1 + (e > n ? this.bidiMap.logicalFromVisual[r] : this.bidiMap.logicalFromVisual[r - 1]) : this.isRtlDir && r === o.length - 1 && 0 === a && o[r - 1] % 2 == 0 || !this.isRtlDir && 0 === r && o[r] % 2 != 0 ? t = 1 + this.bidiMap.logicalFromVisual[r] : (r > 0 && o[r - 1] % 2 != 0 && 0 !== a && r--, t = this.bidiMap.logicalFromVisual[r]), t + this.wrapIndent;
};
}).call(s.prototype), t.BidiHandler = s;
}), ace.define("ace/range", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = function(e, t, n, i) {
this.start = {
row: e,
column: t
}, this.end = {
row: n,
column: i
};
};
(function() {
this.isEqual = function(e) {
return this.start.row === e.start.row && this.end.row === e.end.row && this.start.column === e.start.column && this.end.column === e.end.column;
}, this.toString = function() {
return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]";
}, this.contains = function(e, t) {
return 0 == this.compare(e, t);
}, this.compareRange = function(e) {
var t, n = e.end, i = e.start;
return 1 == (t = this.compare(n.row, n.column)) ? 1 == (t = this.compare(i.row, i.column)) ? 2 : 0 == t ? 1 : 0 : -1 == t ? -2 : -1 == (t = this.compare(i.row, i.column)) ? -1 : 1 == t ? 42 : 0;
}, this.comparePoint = function(e) {
return this.compare(e.row, e.column);
}, this.containsRange = function(e) {
return 0 == this.comparePoint(e.start) && 0 == this.comparePoint(e.end);
}, this.intersects = function(e) {
var t = this.compareRange(e);
return -1 == t || 0 == t || 1 == t;
}, this.isEnd = function(e, t) {
return this.end.row == e && this.end.column == t;
}, this.isStart = function(e, t) {
return this.start.row == e && this.start.column == t;
}, this.setStart = function(e, t) {
"object" == typeof e ? (this.start.column = e.column, this.start.row = e.row) : (this.start.row = e, this.start.column = t);
}, this.setEnd = function(e, t) {
"object" == typeof e ? (this.end.column = e.column, this.end.row = e.row) : (this.end.row = e, this.end.column = t);
}, this.inside = function(e, t) {
return 0 == this.compare(e, t) && (!this.isEnd(e, t) && !this.isStart(e, t));
}, this.insideStart = function(e, t) {
return 0 == this.compare(e, t) && !this.isEnd(e, t);
}, this.insideEnd = function(e, t) {
return 0 == this.compare(e, t) && !this.isStart(e, t);
}, this.compare = function(e, t) {
return this.isMultiLine() || e !== this.start.row ? e < this.start.row ? -1 : e > this.end.row ? 1 : this.start.row === e ? t >= this.start.column ? 0 : -1 : this.end.row === e ? t <= this.end.column ? 0 : 1 : 0 : t < this.start.column ? -1 : t > this.end.column ? 1 : 0;
}, this.compareStart = function(e, t) {
return this.start.row == e && this.start.column == t ? -1 : this.compare(e, t);
}, this.compareEnd = function(e, t) {
return this.end.row == e && this.end.column == t ? 1 : this.compare(e, t);
}, this.compareInside = function(e, t) {
return this.end.row == e && this.end.column == t ? 1 : this.start.row == e && this.start.column == t ? -1 : this.compare(e, t);
}, this.clipRows = function(e, t) {
if (this.end.row > t) n = {
row: t + 1,
column: 0
}; else if (this.end.row < e) var n = {
row: e,
column: 0
};
if (this.start.row > t) r = {
row: t + 1,
column: 0
}; else if (this.start.row < e) var r = {
row: e,
column: 0
};
return i.fromPoints(r || this.start, n || this.end);
}, this.extend = function(e, t) {
var n = this.compare(e, t);
if (0 == n) return this;
if (-1 == n) var r = {
row: e,
column: t
}; else var o = {
row: e,
column: t
};
return i.fromPoints(r || this.start, o || this.end);
}, this.isEmpty = function() {
return this.start.row === this.end.row && this.start.column === this.end.column;
}, this.isMultiLine = function() {
return this.start.row !== this.end.row;
}, this.clone = function() {
return i.fromPoints(this.start, this.end);
}, this.collapseRows = function() {
return 0 == this.end.column ? new i(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0) : new i(this.start.row, 0, this.end.row, 0);
}, this.toScreenRange = function(e) {
var t = e.documentToScreenPosition(this.start), n = e.documentToScreenPosition(this.end);
return new i(t.row, t.column, n.row, n.column);
}, this.moveBy = function(e, t) {
this.start.row += e, this.start.column += t, this.end.row += e, this.end.column += t;
};
}).call(i.prototype), i.fromPoints = function(e, t) {
return new i(e.row, e.column, t.row, t.column);
}, i.comparePoints = function(e, t) {
return e.row - t.row || e.column - t.column;
}, i.comparePoints = function(e, t) {
return e.row - t.row || e.column - t.column;
}, t.Range = i;
}), ace.define("ace/selection", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/lang"), o = e("./lib/event_emitter").EventEmitter, a = e("./range").Range, s = function(e) {
this.session = e, this.doc = e.getDocument(), this.clearSelection(), this.lead = this.selectionLead = this.doc.createAnchor(0, 0), this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);
var t = this;
this.lead.on("change", function(e) {
t._emit("changeCursor"), t.$isEmpty || t._emit("changeSelection"), !t.$keepDesiredColumnOnChange && e.old.column != e.value.column && (t.$desiredColumn = null);
}), this.selectionAnchor.on("change", function() {
t.$isEmpty || t._emit("changeSelection");
});
};
(function() {
i.implement(this, o), this.isEmpty = function() {
return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;
}, this.isMultiLine = function() {
return !this.isEmpty() && this.getRange().isMultiLine();
}, this.getCursor = function() {
return this.lead.getPosition();
}, this.setSelectionAnchor = function(e, t) {
this.anchor.setPosition(e, t), this.$isEmpty && (this.$isEmpty = !1, this._emit("changeSelection"));
}, this.getSelectionAnchor = function() {
return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition();
}, this.getSelectionLead = function() {
return this.lead.getPosition();
}, this.shiftSelection = function(e) {
if (this.$isEmpty) this.moveCursorTo(this.lead.row, this.lead.column + e); else {
var t = this.getSelectionAnchor(), n = this.getSelectionLead(), i = this.isBackwards();
(!i || 0 !== t.column) && this.setSelectionAnchor(t.row, t.column + e), (i || 0 !== n.column) && this.$moveSelection(function() {
this.moveCursorTo(n.row, n.column + e);
});
}
}, this.isBackwards = function() {
var e = this.anchor, t = this.lead;
return e.row > t.row || e.row == t.row && e.column > t.column;
}, this.getRange = function() {
var e = this.anchor, t = this.lead;
return this.isEmpty() ? a.fromPoints(t, t) : this.isBackwards() ? a.fromPoints(t, e) : a.fromPoints(e, t);
}, this.clearSelection = function() {
this.$isEmpty || (this.$isEmpty = !0, this._emit("changeSelection"));
}, this.selectAll = function() {
var e = this.doc.getLength() - 1;
this.setSelectionAnchor(0, 0), this.moveCursorTo(e, this.doc.getLine(e).length);
}, this.setRange = this.setSelectionRange = function(e, t) {
t ? (this.setSelectionAnchor(e.end.row, e.end.column), this.selectTo(e.start.row, e.start.column)) : (this.setSelectionAnchor(e.start.row, e.start.column), this.selectTo(e.end.row, e.end.column)), this.getRange().isEmpty() && (this.$isEmpty = !0), this.$desiredColumn = null;
}, this.$moveSelection = function(e) {
var t = this.lead;
this.$isEmpty && this.setSelectionAnchor(t.row, t.column), e.call(this);
}, this.selectTo = function(e, t) {
this.$moveSelection(function() {
this.moveCursorTo(e, t);
});
}, this.selectToPosition = function(e) {
this.$moveSelection(function() {
this.moveCursorToPosition(e);
});
}, this.moveTo = function(e, t) {
this.clearSelection(), this.moveCursorTo(e, t);
}, this.moveToPosition = function(e) {
this.clearSelection(), this.moveCursorToPosition(e);
}, this.selectUp = function() {
this.$moveSelection(this.moveCursorUp);
}, this.selectDown = function() {
this.$moveSelection(this.moveCursorDown);
}, this.selectRight = function() {
this.$moveSelection(this.moveCursorRight);
}, this.selectLeft = function() {
this.$moveSelection(this.moveCursorLeft);
}, this.selectLineStart = function() {
this.$moveSelection(this.moveCursorLineStart);
}, this.selectLineEnd = function() {
this.$moveSelection(this.moveCursorLineEnd);
}, this.selectFileEnd = function() {
this.$moveSelection(this.moveCursorFileEnd);
}, this.selectFileStart = function() {
this.$moveSelection(this.moveCursorFileStart);
}, this.selectWordRight = function() {
this.$moveSelection(this.moveCursorWordRight);
}, this.selectWordLeft = function() {
this.$moveSelection(this.moveCursorWordLeft);
}, this.getWordRange = function(e, t) {
if (void 0 === t) {
var n = e || this.lead;
e = n.row, t = n.column;
}
return this.session.getWordRange(e, t);
}, this.selectWord = function() {
this.setSelectionRange(this.getWordRange());
}, this.selectAWord = function() {
var e = this.getCursor(), t = this.session.getAWordRange(e.row, e.column);
this.setSelectionRange(t);
}, this.getLineRange = function(e, t) {
var n, i = "number" == typeof e ? e : this.lead.row, r = this.session.getFoldLine(i);
return r ? (i = r.start.row, n = r.end.row) : n = i, !0 === t ? new a(i, 0, n, this.session.getLine(n).length) : new a(i, 0, n + 1, 0);
}, this.selectLine = function() {
this.setSelectionRange(this.getLineRange());
}, this.moveCursorUp = function() {
this.moveCursorBy(-1, 0);
}, this.moveCursorDown = function() {
this.moveCursorBy(1, 0);
}, this.wouldMoveIntoSoftTab = function(e, t, n) {
var i = e.column, r = e.column + t;
return n < 0 && (i = e.column - t, r = e.column), this.session.isTabStop(e) && this.doc.getLine(e.row).slice(i, r).split(" ").length - 1 == t;
}, this.moveCursorLeft = function() {
var e, t = this.lead.getPosition();
if (e = this.session.getFoldAt(t.row, t.column, -1)) this.moveCursorTo(e.start.row, e.start.column); else if (0 === t.column) t.row > 0 && this.moveCursorTo(t.row - 1, this.doc.getLine(t.row - 1).length); else {
var n = this.session.getTabSize();
this.wouldMoveIntoSoftTab(t, n, -1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, -n) : this.moveCursorBy(0, -1);
}
}, this.moveCursorRight = function() {
var e, t = this.lead.getPosition();
if (e = this.session.getFoldAt(t.row, t.column, 1)) this.moveCursorTo(e.end.row, e.end.column); else if (this.lead.column == this.doc.getLine(this.lead.row).length) this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0); else {
var n = this.session.getTabSize(), t = this.lead;
this.wouldMoveIntoSoftTab(t, n, 1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, n) : this.moveCursorBy(0, 1);
}
}, this.moveCursorLineStart = function() {
var e = this.lead.row, t = this.lead.column, n = this.session.documentToScreenRow(e, t), i = this.session.screenToDocumentPosition(n, 0), r = this.session.getDisplayLine(e, null, i.row, i.column).match(/^\s*/);
r[0].length != t && !this.session.$useEmacsStyleLineStart && (i.column += r[0].length), this.moveCursorToPosition(i);
}, this.moveCursorLineEnd = function() {
var e = this.lead, t = this.session.getDocumentLastRowColumnPosition(e.row, e.column);
if (this.lead.column == t.column) {
var n = this.session.getLine(t.row);
if (t.column == n.length) {
var i = n.search(/\s+$/);
i > 0 && (t.column = i);
}
}
this.moveCursorTo(t.row, t.column);
}, this.moveCursorFileEnd = function() {
var e = this.doc.getLength() - 1, t = this.doc.getLine(e).length;
this.moveCursorTo(e, t);
}, this.moveCursorFileStart = function() {
this.moveCursorTo(0, 0);
}, this.moveCursorLongWordRight = function() {
var e = this.lead.row, t = this.lead.column, n = this.doc.getLine(e), i = n.substring(t);
this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0;
var r = this.session.getFoldAt(e, t, 1);
if (r) this.moveCursorTo(r.end.row, r.end.column); else {
if (this.session.nonTokenRe.exec(i) && (t += this.session.nonTokenRe.lastIndex, this.session.nonTokenRe.lastIndex = 0, i = n.substring(t)), t >= n.length) return this.moveCursorTo(e, n.length), this.moveCursorRight(), void (e < this.doc.getLength() - 1 && this.moveCursorWordRight());
this.session.tokenRe.exec(i) && (t += this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(e, t);
}
}, this.moveCursorLongWordLeft = function() {
var e, t = this.lead.row, n = this.lead.column;
if (e = this.session.getFoldAt(t, n, -1)) this.moveCursorTo(e.start.row, e.start.column); else {
var i = this.session.getFoldStringAt(t, n, -1);
null == i && (i = this.doc.getLine(t).substring(0, n));
var o = r.stringReverse(i);
if (this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0, this.session.nonTokenRe.exec(o) && (n -= this.session.nonTokenRe.lastIndex, o = o.slice(this.session.nonTokenRe.lastIndex), this.session.nonTokenRe.lastIndex = 0), n <= 0) return this.moveCursorTo(t, 0), this.moveCursorLeft(), void (t > 0 && this.moveCursorWordLeft());
this.session.tokenRe.exec(o) && (n -= this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(t, n);
}
}, this.$shortWordEndIndex = function(e) {
var t, n = 0, i = /\s/, r = this.session.tokenRe;
if (r.lastIndex = 0, this.session.tokenRe.exec(e)) n = this.session.tokenRe.lastIndex; else {
for (;(t = e[n]) && i.test(t); ) n++;
if (n < 1) for (r.lastIndex = 0; (t = e[n]) && !r.test(t); ) if (r.lastIndex = 0, n++, i.test(t)) {
if (n > 2) {
n--;
break;
}
for (;(t = e[n]) && i.test(t); ) n++;
if (n > 2) break;
}
}
return r.lastIndex = 0, n;
}, this.moveCursorShortWordRight = function() {
var e = this.lead.row, t = this.lead.column, n = this.doc.getLine(e), i = n.substring(t), r = this.session.getFoldAt(e, t, 1);
if (r) return this.moveCursorTo(r.end.row, r.end.column);
if (t == n.length) {
var o = this.doc.getLength();
do {
e++, i = this.doc.getLine(e);
} while (e < o && /^\s*$/.test(i));
/^\s+/.test(i) || (i = ""), t = 0;
}
var a = this.$shortWordEndIndex(i);
this.moveCursorTo(e, t + a);
}, this.moveCursorShortWordLeft = function() {
var e, t = this.lead.row, n = this.lead.column;
if (e = this.session.getFoldAt(t, n, -1)) return this.moveCursorTo(e.start.row, e.start.column);
var i = this.session.getLine(t).substring(0, n);
if (0 === n) {
do {
t--, i = this.doc.getLine(t);
} while (t > 0 && /^\s*$/.test(i));
n = i.length, /\s+$/.test(i) || (i = "");
}
var o = r.stringReverse(i), a = this.$shortWordEndIndex(o);
return this.moveCursorTo(t, n - a);
}, this.moveCursorWordRight = function() {
this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight();
}, this.moveCursorWordLeft = function() {
this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft();
}, this.moveCursorBy = function(e, t) {
var n, i = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
0 === t && (0 !== e && (this.session.$bidiHandler.isBidiRow(i.row, this.lead.row) ? (n = this.session.$bidiHandler.getPosLeft(i.column), i.column = Math.round(n / this.session.$bidiHandler.charWidths[0])) : n = i.column * this.session.$bidiHandler.charWidths[0]), this.$desiredColumn ? i.column = this.$desiredColumn : this.$desiredColumn = i.column);
var r = this.session.screenToDocumentPosition(i.row + e, i.column, n);
0 !== e && 0 === t && r.row === this.lead.row && r.column === this.lead.column && this.session.lineWidgets && this.session.lineWidgets[r.row] && (r.row > 0 || e > 0) && r.row++, this.moveCursorTo(r.row, r.column + t, 0 === t);
}, this.moveCursorToPosition = function(e) {
this.moveCursorTo(e.row, e.column);
}, this.moveCursorTo = function(e, t, n) {
var i = this.session.getFoldAt(e, t, 1);
i && (e = i.start.row, t = i.start.column), this.$keepDesiredColumnOnChange = !0;
var r = this.session.getLine(e);
/[\uDC00-\uDFFF]/.test(r.charAt(t)) && r.charAt(t - 1) && (this.lead.row == e && this.lead.column == t + 1 ? t -= 1 : t += 1), this.lead.setPosition(e, t), this.$keepDesiredColumnOnChange = !1, n || (this.$desiredColumn = null);
}, this.moveCursorToScreen = function(e, t, n) {
var i = this.session.screenToDocumentPosition(e, t);
this.moveCursorTo(i.row, i.column, n);
}, this.detach = function() {
this.lead.detach(), this.anchor.detach(), this.session = this.doc = null;
}, this.fromOrientedRange = function(e) {
this.setSelectionRange(e, e.cursor == e.start), this.$desiredColumn = e.desiredColumn || this.$desiredColumn;
}, this.toOrientedRange = function(e) {
var t = this.getRange();
return e ? (e.start.column = t.start.column, e.start.row = t.start.row, e.end.column = t.end.column, e.end.row = t.end.row) : e = t, e.cursor = this.isBackwards() ? e.start : e.end, e.desiredColumn = this.$desiredColumn, e;
}, this.getRangeOfMovements = function(e) {
var t = this.getCursor();
try {
e(this);
var n = this.getCursor();
return a.fromPoints(t, n);
} catch (e) {
return a.fromPoints(t, t);
} finally {
this.moveCursorToPosition(t);
}
}, this.toJSON = function() {
if (this.rangeCount) var e = this.ranges.map(function(e) {
var t = e.clone();
return t.isBackwards = e.cursor == e.start, t;
}); else (e = this.getRange()).isBackwards = this.isBackwards();
return e;
}, this.fromJSON = function(e) {
if (void 0 == e.start) {
if (this.rangeList) {
this.toSingleRange(e[0]);
for (var t = e.length; t--; ) {
var n = a.fromPoints(e[t].start, e[t].end);
e[t].isBackwards && (n.cursor = n.start), this.addRange(n, !0);
}
return;
}
e = e[0];
}
this.rangeList && this.toSingleRange(e), this.setSelectionRange(e, e.isBackwards);
}, this.isEqual = function(e) {
if ((e.length || this.rangeCount) && e.length != this.rangeCount) return !1;
if (!e.length || !this.ranges) return this.getRange().isEqual(e);
for (var t = this.ranges.length; t--; ) if (!this.ranges[t].isEqual(e[t])) return !1;
return !0;
};
}).call(s.prototype), t.Selection = s;
}), ace.define("ace/tokenizer", [ "require", "exports", "module", "ace/config" ], function(e, t, n) {
"use strict";
var i = e("./config"), r = 2e3, o = function(e) {
this.states = e, this.regExps = {}, this.matchMappings = {};
for (var t in this.states) {
for (var n = this.states[t], i = [], r = 0, o = this.matchMappings[t] = {
defaultToken: "text"
}, a = "g", s = [], l = 0; l < n.length; l++) {
var c = n[l];
if (c.defaultToken && (o.defaultToken = c.defaultToken), c.caseInsensitive && (a = "gi"), null != c.regex) {
c.regex instanceof RegExp && (c.regex = c.regex.toString().slice(1, -1));
var u = c.regex, d = new RegExp("(?:(" + u + ")|(.))").exec("a").length - 2;
Array.isArray(c.token) ? 1 == c.token.length || 1 == d ? c.token = c.token[0] : d - 1 != c.token.length ? (this.reportError("number of classes and regexp groups doesn't match", {
rule: c,
groupCount: d - 1
}), c.token = c.token[0]) : (c.tokenArray = c.token, c.token = null, c.onMatch = this.$arrayTokens) : "function" == typeof c.token && !c.onMatch && (c.onMatch = d > 1 ? this.$applyToken : c.token), d > 1 && (/\\\d/.test(c.regex) ? u = c.regex.replace(/\\([0-9]+)/g, function(e, t) {
return "\\" + (parseInt(t, 10) + r + 1);
}) : (d = 1, u = this.removeCapturingGroups(c.regex)), !c.splitRegex && "string" != typeof c.token && s.push(c)), o[r] = l, r += d, i.push(u), c.onMatch || (c.onMatch = null);
}
}
i.length || (o[0] = 0, i.push("$")), s.forEach(function(e) {
e.splitRegex = this.createSplitterRegexp(e.regex, a);
}, this), this.regExps[t] = new RegExp("(" + i.join(")|(") + ")|($)", a);
}
};
(function() {
this.$setMaxTokenCount = function(e) {
r = 0 | e;
}, this.$applyToken = function(e) {
var t = this.splitRegex.exec(e).slice(1), n = this.token.apply(this, t);
if ("string" == typeof n) return [ {
type: n,
value: e
} ];
for (var i = [], r = 0, o = n.length; r < o; r++) t[r] && (i[i.length] = {
type: n[r],
value: t[r]
});
return i;
}, this.$arrayTokens = function(e) {
if (!e) return [];
var t = this.splitRegex.exec(e);
if (!t) return "text";
for (var n = [], i = this.tokenArray, r = 0, o = i.length; r < o; r++) t[r + 1] && (n[n.length] = {
type: i[r],
value: t[r + 1]
});
return n;
}, this.removeCapturingGroups = function(e) {
return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g, function(e, t) {
return t ? "(?:" : e;
});
}, this.createSplitterRegexp = function(e, t) {
if (-1 != e.indexOf("(?=")) {
var n = 0, i = !1, r = {};
e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(e, t, o, a, s, l) {
return i ? i = "]" != s : s ? i = !0 : a ? (n == r.stack && (r.end = l + 1, r.stack = -1), n--) : o && (n++, 1 != o.length && (r.stack = n, r.start = l)), e;
}), null != r.end && /^\)*$/.test(e.substr(r.end)) && (e = e.substring(0, r.start) + e.substr(r.end));
}
return "^" != e.charAt(0) && (e = "^" + e), "$" != e.charAt(e.length - 1) && (e += "$"), new RegExp(e, (t || "").replace("g", ""));
}, this.getLineTokens = function(e, t) {
if (t && "string" != typeof t) "#tmp" === (t = (n = t.slice(0))[0]) && (n.shift(), t = n.shift()); else var n = [];
var i = t || "start", o = this.states[i];
o || (i = "start", o = this.states[i]);
var a = this.matchMappings[i], s = this.regExps[i];
s.lastIndex = 0;
for (var l, c = [], u = 0, d = 0, h = {
type: null,
value: ""
}; l = s.exec(e); ) {
var f = a.defaultToken, p = null, g = l[0], m = s.lastIndex;
if (m - g.length > u) {
var v = e.substring(u, m - g.length);
h.type == f ? h.value += v : (h.type && c.push(h), h = {
type: f,
value: v
});
}
for (y = 0; y < l.length - 2; y++) if (void 0 !== l[y + 1]) {
f = (p = o[a[y]]).onMatch ? p.onMatch(g, i, n, e) : p.token, p.next && (i = "string" == typeof p.next ? p.next : p.next(i, n), (o = this.states[i]) || (this.reportError("state doesn't exist", i), i = "start", o = this.states[i]), a = this.matchMappings[i], u = m, s = this.regExps[i], s.lastIndex = m), p.consumeLineEnd && (u = m);
break;
}
if (g) if ("string" == typeof f) p && !1 === p.merge || h.type !== f ? (h.type && c.push(h), h = {
type: f,
value: g
}) : h.value += g; else if (f) {
h.type && c.push(h), h = {
type: null,
value: ""
};
for (var y = 0; y < f.length; y++) c.push(f[y]);
}
if (u == e.length) break;
if (u = m, d++ > r) {
for (d > 2 * e.length && this.reportError("infinite loop with in ace tokenizer", {
startState: t,
line: e
}); u < e.length; ) h.type && c.push(h), h = {
value: e.substring(u, u += 2e3),
type: "overflow"
};
i = "start", n = [];
break;
}
}
return h.type && c.push(h), n.length > 1 && n[0] !== i && n.unshift("#tmp", i), {
tokens: c,
state: n.length ? n : i
};
}, this.reportError = i.reportError;
}).call(o.prototype), t.Tokenizer = o;
}), ace.define("ace/mode/text_highlight_rules", [ "require", "exports", "module", "ace/lib/lang" ], function(e, t, n) {
"use strict";
var i = e("../lib/lang"), r = function() {
this.$rules = {
start: [ {
token: "empty_line",
regex: "^$"
}, {
defaultToken: "text"
} ]
};
};
(function() {
this.addRules = function(e, t) {
if (t) for (var n in e) {
for (var i = e[n], r = 0; r < i.length; r++) {
var o = i[r];
(o.next || o.onMatch) && ("string" == typeof o.next && 0 !== o.next.indexOf(t) && (o.next = t + o.next), o.nextState && 0 !== o.nextState.indexOf(t) && (o.nextState = t + o.nextState));
}
this.$rules[t + n] = i;
} else for (var n in e) this.$rules[n] = e[n];
}, this.getRules = function() {
return this.$rules;
}, this.embedRules = function(e, t, n, r, o) {
var a = "function" == typeof e ? new e().getRules() : e;
if (r) for (c = 0; c < r.length; c++) r[c] = t + r[c]; else {
r = [];
for (var s in a) r.push(t + s);
}
if (this.addRules(a, t), n) for (var l = Array.prototype[o ? "push" : "unshift"], c = 0; c < r.length; c++) l.apply(this.$rules[r[c]], i.deepCopy(n));
this.$embeds || (this.$embeds = []), this.$embeds.push(t);
}, this.getEmbeds = function() {
return this.$embeds;
};
var e = function(e, t) {
return ("start" != e || t.length) && t.unshift(this.nextState, e), this.nextState;
}, t = function(e, t) {
return t.shift(), t.shift() || "start";
};
this.normalizeRules = function() {
function n(o) {
var a = r[o];
a.processed = !0;
for (var s = 0; s < a.length; s++) {
var l = a[s], c = null;
Array.isArray(l) && (c = l, l = {}), !l.regex && l.start && (l.regex = l.start, l.next || (l.next = []), l.next.push({
defaultToken: l.token
}, {
token: l.token + ".end",
regex: l.end || l.start,
next: "pop"
}), l.token = l.token + ".start", l.push = !0);
var u = l.next || l.push;
if (u && Array.isArray(u)) {
var d = l.stateName;
d || ("string" != typeof (d = l.token) && (d = d[0] || ""), r[d] && (d += i++)), r[d] = u, l.next = d, n(d);
} else "pop" == u && (l.next = t);
if (l.push && (l.nextState = l.next || l.push, l.next = e, delete l.push), l.rules) for (var h in l.rules) r[h] ? r[h].push && r[h].push.apply(r[h], l.rules[h]) : r[h] = l.rules[h];
var f = "string" == typeof l ? l : l.include;
if (f && (c = Array.isArray(f) ? f.map(function(e) {
return r[e];
}) : r[f]), c) {
var p = [ s, 1 ].concat(c);
l.noEscape && (p = p.filter(function(e) {
return !e.next;
})), a.splice.apply(a, p), s--;
}
l.keywordMap && (l.token = this.createKeywordMapper(l.keywordMap, l.defaultToken || "text", l.caseInsensitive), delete l.defaultToken);
}
}
var i = 0, r = this.$rules;
Object.keys(r).forEach(n, this);
}, this.createKeywordMapper = function(e, t, n, i) {
var r = Object.create(null);
return Object.keys(e).forEach(function(t) {
var o = e[t];
n && (o = o.toLowerCase());
for (var a = o.split(i || "|"), s = a.length; s--; ) r[a[s]] = t;
}), Object.getPrototypeOf(r) && (r.__proto__ = null), this.$keywordList = Object.keys(r), e = null, n ? function(e) {
return r[e.toLowerCase()] || t;
} : function(e) {
return r[e] || t;
};
}, this.getKeywords = function() {
return this.$keywords;
};
}).call(r.prototype), t.TextHighlightRules = r;
}), ace.define("ace/mode/behaviour", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = function() {
this.$behaviours = {};
};
(function() {
this.add = function(e, t, n) {
switch (void 0) {
case this.$behaviours:
this.$behaviours = {};

case this.$behaviours[e]:
this.$behaviours[e] = {};
}
this.$behaviours[e][t] = n;
}, this.addBehaviours = function(e) {
for (var t in e) for (var n in e[t]) this.add(t, n, e[t][n]);
}, this.remove = function(e) {
this.$behaviours && this.$behaviours[e] && delete this.$behaviours[e];
}, this.inherit = function(e, t) {
if ("function" == typeof e) n = new e().getBehaviours(t); else var n = e.getBehaviours(t);
this.addBehaviours(n);
}, this.getBehaviours = function(e) {
if (!e) return this.$behaviours;
for (var t = {}, n = 0; n < e.length; n++) this.$behaviours[e[n]] && (t[e[n]] = this.$behaviours[e[n]]);
return t;
};
}).call(i.prototype), t.Behaviour = i;
}), ace.define("ace/token_iterator", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./range").Range, r = function(e, t, n) {
this.$session = e, this.$row = t, this.$rowTokens = e.getTokens(t);
var i = e.getTokenAt(t, n);
this.$tokenIndex = i ? i.index : -1;
};
(function() {
this.stepBackward = function() {
for (this.$tokenIndex -= 1; this.$tokenIndex < 0; ) {
if (this.$row -= 1, this.$row < 0) return this.$row = 0, null;
this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = this.$rowTokens.length - 1;
}
return this.$rowTokens[this.$tokenIndex];
}, this.stepForward = function() {
this.$tokenIndex += 1;
for (var e; this.$tokenIndex >= this.$rowTokens.length; ) {
if (this.$row += 1, e || (e = this.$session.getLength()), this.$row >= e) return this.$row = e - 1, null;
this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = 0;
}
return this.$rowTokens[this.$tokenIndex];
}, this.getCurrentToken = function() {
return this.$rowTokens[this.$tokenIndex];
}, this.getCurrentTokenRow = function() {
return this.$row;
}, this.getCurrentTokenColumn = function() {
var e = this.$rowTokens, t = this.$tokenIndex, n = e[t].start;
if (void 0 !== n) return n;
for (n = 0; t > 0; ) t -= 1, n += e[t].value.length;
return n;
}, this.getCurrentTokenPosition = function() {
return {
row: this.$row,
column: this.getCurrentTokenColumn()
};
}, this.getCurrentTokenRange = function() {
var e = this.$rowTokens[this.$tokenIndex], t = this.getCurrentTokenColumn();
return new i(this.$row, t, this.$row, t + e.value.length);
};
}).call(r.prototype), t.TokenIterator = r;
}), ace.define("ace/mode/behaviour/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang" ], function(e, t, n) {
"use strict";
var i, r = e("../../lib/oop"), o = e("../behaviour").Behaviour, a = e("../../token_iterator").TokenIterator, s = e("../../lib/lang"), l = [ "text", "paren.rparen", "punctuation.operator" ], c = [ "text", "paren.rparen", "punctuation.operator", "comment" ], u = {}, d = {
'"': '"',
"'": "'"
}, h = function(e) {
var t = -1;
if (e.multiSelect && (t = e.selection.index, u.rangeCount != e.multiSelect.rangeCount && (u = {
rangeCount: e.multiSelect.rangeCount
})), u[t]) return i = u[t];
i = u[t] = {
autoInsertedBrackets: 0,
autoInsertedRow: -1,
autoInsertedLineEnd: "",
maybeInsertedBrackets: 0,
maybeInsertedRow: -1,
maybeInsertedLineStart: "",
maybeInsertedLineEnd: ""
};
}, f = function(e, t, n, i) {
var r = e.end.row - e.start.row;
return {
text: n + t + i,
selection: [ 0, e.start.column + 1, r, e.end.column + (r ? 0 : 1) ]
};
}, p = function(e) {
this.add("braces", "insertion", function(t, n, r, o, a) {
var l = r.getCursorPosition(), c = o.doc.getLine(l.row);
if ("{" == a) {
h(r);
var u = r.getSelectionRange(), d = o.doc.getTextRange(u);
if ("" !== d && "{" !== d && r.getWrapBehavioursEnabled()) return f(u, d, "{", "}");
if (p.isSaneInsertion(r, o)) return /[\]\}\)]/.test(c[l.column]) || r.inMultiSelectMode || e && e.braces ? (p.recordAutoInsert(r, o, "}"), {
text: "{}",
selection: [ 1, 1 ]
}) : (p.recordMaybeInsert(r, o, "{"), {
text: "{",
selection: [ 1, 1 ]
});
} else if ("}" == a) {
if (h(r), "}" == (m = c.substring(l.column, l.column + 1)) && null !== o.$findOpeningBracket("}", {
column: l.column + 1,
row: l.row
}) && p.isAutoInsertedClosing(l, c, a)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
} else {
if ("\n" == a || "\r\n" == a) {
h(r);
var g = "";
p.isMaybeInsertedClosing(l, c) && (g = s.stringRepeat("}", i.maybeInsertedBrackets), p.clearMaybeInsertedClosing());
var m = c.substring(l.column, l.column + 1);
if ("}" === m) {
var v = o.findMatchingBracket({
row: l.row,
column: l.column + 1
}, "}");
if (!v) return null;
y = this.$getIndent(o.getLine(v.row));
} else {
if (!g) return void p.clearMaybeInsertedClosing();
var y = this.$getIndent(c);
}
var b = y + o.getTabString();
return {
text: "\n" + b + "\n" + y + g,
selection: [ 1, b.length, 1, b.length ]
};
}
p.clearMaybeInsertedClosing();
}
}), this.add("braces", "deletion", function(e, t, n, r, o) {
var a = r.doc.getTextRange(o);
if (!o.isMultiLine() && "{" == a) {
if (h(n), "}" == r.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1)) return o.end.column++, o;
i.maybeInsertedBrackets--;
}
}), this.add("parens", "insertion", function(e, t, n, i, r) {
if ("(" == r) {
h(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return f(o, a, "(", ")");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, ")"), {
text: "()",
selection: [ 1, 1 ]
};
} else if (")" == r) {
h(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if (")" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket(")", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("parens", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "(" == o && (h(n), ")" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("brackets", "insertion", function(e, t, n, i, r) {
if ("[" == r) {
h(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return f(o, a, "[", "]");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, "]"), {
text: "[]",
selection: [ 1, 1 ]
};
} else if ("]" == r) {
h(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if ("]" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket("]", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("brackets", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "[" == o && (h(n), "]" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("string_dquotes", "insertion", function(e, t, n, i, r) {
var o = i.$mode.$quotes || d;
if (1 == r.length && o[r]) {
if (this.lineCommentStart && -1 != this.lineCommentStart.indexOf(r)) return;
h(n);
var a = r, s = n.getSelectionRange(), l = i.doc.getTextRange(s);
if ("" !== l && (1 != l.length || !o[l]) && n.getWrapBehavioursEnabled()) return f(s, l, a, a);
if (!l) {
var c = n.getCursorPosition(), u = i.doc.getLine(c.row), p = u.substring(c.column - 1, c.column), g = u.substring(c.column, c.column + 1), m = i.getTokenAt(c.row, c.column), v = i.getTokenAt(c.row, c.column + 1);
if ("\\" == p && m && /escape/.test(m.type)) return null;
var y, b = m && /string|escape/.test(m.type), _ = !v || /string|escape/.test(v.type);
if (g == a) (y = b !== _) && /string\.end/.test(v.type) && (y = !1); else {
if (b && !_) return null;
if (b && _) return null;
var w = i.$mode.tokenRe;
w.lastIndex = 0;
var C = w.test(p);
w.lastIndex = 0;
var x = w.test(p);
if (C || x) return null;
if (g && !/[\s;,.})\]\\]/.test(g)) return null;
y = !0;
}
return {
text: y ? a + a : "",
selection: [ 1, 1 ]
};
}
}
}), this.add("string_dquotes", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && ('"' == o || "'" == o) && (h(n), i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2) == o)) return r.end.column++, r;
});
};
p.isSaneInsertion = function(e, t) {
var n = e.getCursorPosition(), i = new a(t, n.row, n.column);
if (!this.$matchTokenType(i.getCurrentToken() || "text", l)) {
var r = new a(t, n.row, n.column + 1);
if (!this.$matchTokenType(r.getCurrentToken() || "text", l)) return !1;
}
return i.stepForward(), i.getCurrentTokenRow() !== n.row || this.$matchTokenType(i.getCurrentToken() || "text", c);
}, p.$matchTokenType = function(e, t) {
return t.indexOf(e.type || e) > -1;
}, p.recordAutoInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isAutoInsertedClosing(r, o, i.autoInsertedLineEnd[0]) || (i.autoInsertedBrackets = 0), i.autoInsertedRow = r.row, i.autoInsertedLineEnd = n + o.substr(r.column), i.autoInsertedBrackets++;
}, p.recordMaybeInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isMaybeInsertedClosing(r, o) || (i.maybeInsertedBrackets = 0), i.maybeInsertedRow = r.row, i.maybeInsertedLineStart = o.substr(0, r.column) + n, i.maybeInsertedLineEnd = o.substr(r.column), i.maybeInsertedBrackets++;
}, p.isAutoInsertedClosing = function(e, t, n) {
return i.autoInsertedBrackets > 0 && e.row === i.autoInsertedRow && n === i.autoInsertedLineEnd[0] && t.substr(e.column) === i.autoInsertedLineEnd;
}, p.isMaybeInsertedClosing = function(e, t) {
return i.maybeInsertedBrackets > 0 && e.row === i.maybeInsertedRow && t.substr(e.column) === i.maybeInsertedLineEnd && t.substr(0, e.column) == i.maybeInsertedLineStart;
}, p.popAutoInsertedClosing = function() {
i.autoInsertedLineEnd = i.autoInsertedLineEnd.substr(1), i.autoInsertedBrackets--;
}, p.clearMaybeInsertedClosing = function() {
i && (i.maybeInsertedBrackets = 0, i.maybeInsertedRow = -1);
}, r.inherits(p, o), t.CstyleBehaviour = p;
}), ace.define("ace/unicode", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.packages = {}, function(e) {
var n = /\w{4}/g;
for (var i in e) t.packages[i] = e[i].replace(n, "\\u$&");
}({
L: "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M: "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
N: "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P: "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S: "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z: "002000A01680180E2000-200A20282029202F205F3000",
Zs: "002000A01680180E2000-200A202F205F3000",
Zl: "2028",
Zp: "2029",
C: "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc: "0000-001F007F-009F",
Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
Co: "E000-F8FF",
Cs: "D800-DFFF",
Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
});
}), ace.define("ace/mode/text", [ "require", "exports", "module", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../tokenizer").Tokenizer, r = e("./text_highlight_rules").TextHighlightRules, o = e("./behaviour/cstyle").CstyleBehaviour, a = e("../unicode"), s = e("../lib/lang"), l = e("../token_iterator").TokenIterator, c = e("../range").Range, u = function() {
this.HighlightRules = r;
};
(function() {
this.$defaultBehaviour = new o(), this.tokenRe = new RegExp("^[" + a.packages.L + a.packages.Mn + a.packages.Mc + a.packages.Nd + a.packages.Pc + "\\$_]+", "g"), this.nonTokenRe = new RegExp("^(?:[^" + a.packages.L + a.packages.Mn + a.packages.Mc + a.packages.Nd + a.packages.Pc + "\\$_]|\\s])+", "g"), this.getTokenizer = function() {
return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig), this.$tokenizer = new i(this.$highlightRules.getRules())), this.$tokenizer;
}, this.lineCommentStart = "", this.blockComment = "", this.toggleCommentLines = function(e, t, n, i) {
function r(e) {
for (var t = n; t <= i; t++) e(o.getLine(t), t);
}
var o = t.doc, a = !0, l = !0, c = 1 / 0, u = t.getTabSize(), d = !1;
if (this.lineCommentStart) {
if (Array.isArray(this.lineCommentStart)) var h = this.lineCommentStart.map(s.escapeRegExp).join("|"), f = this.lineCommentStart[0]; else var h = s.escapeRegExp(this.lineCommentStart), f = this.lineCommentStart;
h = new RegExp("^(\\s*)(?:" + h + ") ?"), d = t.getUseSoftTabs();
var p = function(e, t) {
var n = e.match(h);
if (n) {
var i = n[1].length, r = n[0].length;
!y(e, i, r) && " " == n[0][r - 1] && r--, o.removeInLine(t, i, r);
}
}, g = f + " ", m = function(e, t) {
a && !/\S/.test(e) || (y(e, c, c) ? o.insertInLine({
row: t,
column: c
}, g) : o.insertInLine({
row: t,
column: c
}, f));
}, v = function(e, t) {
return h.test(e);
}, y = function(e, t, n) {
for (i = 0; t-- && " " == e.charAt(t); ) i++;
if (i % u != 0) return !1;
for (var i = 0; " " == e.charAt(n++); ) i++;
return u > 2 ? i % u != u - 1 : i % u == 0;
};
} else {
if (!this.blockComment) return !1;
var f = this.blockComment.start, b = this.blockComment.end, h = new RegExp("^(\\s*)(?:" + s.escapeRegExp(f) + ")"), _ = new RegExp("(?:" + s.escapeRegExp(b) + ")\\s*$"), m = function(e, t) {
v(e, t) || a && !/\S/.test(e) || (o.insertInLine({
row: t,
column: e.length
}, b), o.insertInLine({
row: t,
column: c
}, f));
}, p = function(e, t) {
var n;
(n = e.match(_)) && o.removeInLine(t, e.length - n[0].length, e.length), (n = e.match(h)) && o.removeInLine(t, n[1].length, n[0].length);
}, v = function(e, n) {
if (h.test(e)) return !0;
for (var i = t.getTokens(n), r = 0; r < i.length; r++) if ("comment" === i[r].type) return !0;
};
}
var w = 1 / 0;
r(function(e, t) {
var n = e.search(/\S/);
-1 !== n ? (n < c && (c = n), l && !v(e, t) && (l = !1)) : w > e.length && (w = e.length);
}), c == 1 / 0 && (c = w, a = !1, l = !1), d && c % u != 0 && (c = Math.floor(c / u) * u), r(l ? p : m);
}, this.toggleBlockComment = function(e, t, n, i) {
var r = this.blockComment;
if (r) {
!r.start && r[0] && (r = r[0]);
var o, a, s = new l(t, i.row, i.column), u = s.getCurrentToken(), d = (t.selection, t.selection.toOrientedRange());
if (u && /comment/.test(u.type)) {
for (var h, f; u && /comment/.test(u.type); ) {
if (-1 != (m = u.value.indexOf(r.start))) {
var p = s.getCurrentTokenRow(), g = s.getCurrentTokenColumn() + m;
h = new c(p, g, p, g + r.start.length);
break;
}
u = s.stepBackward();
}
for (u = (s = new l(t, i.row, i.column)).getCurrentToken(); u && /comment/.test(u.type); ) {
var m = u.value.indexOf(r.end);
if (-1 != m) {
var p = s.getCurrentTokenRow(), g = s.getCurrentTokenColumn() + m;
f = new c(p, g, p, g + r.end.length);
break;
}
u = s.stepForward();
}
f && t.remove(f), h && (t.remove(h), o = h.start.row, a = -r.start.length);
} else a = r.start.length, o = n.start.row, t.insert(n.end, r.end), t.insert(n.start, r.start);
d.start.row == o && (d.start.column += a), d.end.row == o && (d.end.column += a), t.selection.fromOrientedRange(d);
}
}, this.getNextLineIndent = function(e, t, n) {
return this.$getIndent(t);
}, this.checkOutdent = function(e, t, n) {
return !1;
}, this.autoOutdent = function(e, t, n) {}, this.$getIndent = function(e) {
return e.match(/^\s*/)[0];
}, this.createWorker = function(e) {
return null;
}, this.createModeDelegates = function(e) {
this.$embeds = [], this.$modes = {};
for (var t in e) e[t] && (this.$embeds.push(t), this.$modes[t] = new e[t]());
for (var n = [ "toggleBlockComment", "toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions" ], t = 0; t < n.length; t++) !function(e) {
var i = n[t], r = e[i];
e[n[t]] = function() {
return this.$delegator(i, arguments, r);
};
}(this);
}, this.$delegator = function(e, t, n) {
var i = t[0];
"string" != typeof i && (i = i[0]);
for (var r = 0; r < this.$embeds.length; r++) if (this.$modes[this.$embeds[r]]) {
var o = i.split(this.$embeds[r]);
if (!o[0] && o[1]) {
t[0] = o[1];
var a = this.$modes[this.$embeds[r]];
return a[e].apply(a, t);
}
}
var s = n.apply(this, t);
return n ? s : void 0;
}, this.transformAction = function(e, t, n, i, r) {
if (this.$behaviour) {
var o = this.$behaviour.getBehaviours();
for (var a in o) if (o[a][t]) {
var s = o[a][t].apply(this, arguments);
if (s) return s;
}
}
}, this.getKeywords = function(e) {
if (!this.completionKeywords) {
var t = this.$tokenizer.rules, n = [];
for (var i in t) for (var r = t[i], o = 0, a = r.length; o < a; o++) if ("string" == typeof r[o].token) /keyword|support|storage/.test(r[o].token) && n.push(r[o].regex); else if ("object" == typeof r[o].token) for (var s = 0, l = r[o].token.length; s < l; s++) if (/keyword|support|storage/.test(r[o].token[s])) {
i = r[o].regex.match(/\(.+?\)/g)[s];
n.push(i.substr(1, i.length - 2));
}
this.completionKeywords = n;
}
return e ? n.concat(this.$keywordList || []) : this.$keywordList;
}, this.$createKeywordList = function() {
return this.$highlightRules || this.getTokenizer(), this.$keywordList = this.$highlightRules.$keywordList || [];
}, this.getCompletions = function(e, t, n, i) {
return (this.$keywordList || this.$createKeywordList()).map(function(e) {
return {
name: e,
value: e,
score: 0,
meta: "keyword"
};
});
}, this.$id = "ace/mode/text";
}).call(u.prototype), t.Mode = u;
}), ace.define("ace/apply_delta", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
function i(e, t) {
throw console.log("Invalid Delta:", e), "Invalid Delta: " + t;
}
function r(e, t) {
return t.row >= 0 && t.row < e.length && t.column >= 0 && t.column <= e[t.row].length;
}
t.applyDelta = function(e, t, n) {
var i = t.start.row, r = t.start.column, o = e[i] || "";
switch (t.action) {
case "insert":
if (1 === t.lines.length) e[i] = o.substring(0, r) + t.lines[0] + o.substring(r); else {
var a = [ i, 1 ].concat(t.lines);
e.splice.apply(e, a), e[i] = o.substring(0, r) + e[i], e[i + t.lines.length - 1] += o.substring(r);
}
break;

case "remove":
var s = t.end.column, l = t.end.row;
i === l ? e[i] = o.substring(0, r) + o.substring(s) : e.splice(i, l - i + 1, o.substring(0, r) + e[l].substring(s));
}
};
}), ace.define("ace/anchor", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/event_emitter").EventEmitter, o = t.Anchor = function(e, t, n) {
this.$onChange = this.onChange.bind(this), this.attach(e), void 0 === n ? this.setPosition(t.row, t.column) : this.setPosition(t, n);
};
(function() {
function e(e, t, n) {
var i = n ? e.column <= t.column : e.column < t.column;
return e.row < t.row || e.row == t.row && i;
}
function t(t, n, i) {
var r = "insert" == t.action, o = (r ? 1 : -1) * (t.end.row - t.start.row), a = (r ? 1 : -1) * (t.end.column - t.start.column), s = t.start, l = r ? s : t.end;
return e(n, s, i) ? {
row: n.row,
column: n.column
} : e(l, n, !i) ? {
row: n.row + o,
column: n.column + (n.row == l.row ? a : 0)
} : {
row: s.row,
column: s.column
};
}
i.implement(this, r), this.getPosition = function() {
return this.$clipPositionToDocument(this.row, this.column);
}, this.getDocument = function() {
return this.document;
}, this.$insertRight = !1, this.onChange = function(e) {
if (!(e.start.row == e.end.row && e.start.row != this.row || e.start.row > this.row)) {
var n = t(e, {
row: this.row,
column: this.column
}, this.$insertRight);
this.setPosition(n.row, n.column, !0);
}
}, this.setPosition = function(e, t, n) {
var i;
if (i = n ? {
row: e,
column: t
} : this.$clipPositionToDocument(e, t), this.row != i.row || this.column != i.column) {
var r = {
row: this.row,
column: this.column
};
this.row = i.row, this.column = i.column, this._signal("change", {
old: r,
value: i
});
}
}, this.detach = function() {
this.document.removeEventListener("change", this.$onChange);
}, this.attach = function(e) {
this.document = e || this.document, this.document.on("change", this.$onChange);
}, this.$clipPositionToDocument = function(e, t) {
var n = {};
return e >= this.document.getLength() ? (n.row = Math.max(0, this.document.getLength() - 1), n.column = this.document.getLine(n.row).length) : e < 0 ? (n.row = 0, n.column = 0) : (n.row = e, n.column = Math.min(this.document.getLine(n.row).length, Math.max(0, t))), t < 0 && (n.column = 0), n;
};
}).call(o.prototype);
}), ace.define("ace/document", [ "require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./apply_delta").applyDelta, o = e("./lib/event_emitter").EventEmitter, a = e("./range").Range, s = e("./anchor").Anchor, l = function(e) {
this.$lines = [ "" ], 0 === e.length ? this.$lines = [ "" ] : Array.isArray(e) ? this.insertMergedLines({
row: 0,
column: 0
}, e) : this.insert({
row: 0,
column: 0
}, e);
};
(function() {
i.implement(this, o), this.setValue = function(e) {
var t = this.getLength() - 1;
this.remove(new a(0, 0, t, this.getLine(t).length)), this.insert({
row: 0,
column: 0
}, e);
}, this.getValue = function() {
return this.getAllLines().join(this.getNewLineCharacter());
}, this.createAnchor = function(e, t) {
return new s(this, e, t);
}, 0 === "aaa".split(/a/).length ? this.$split = function(e) {
return e.replace(/\r\n|\r/g, "\n").split("\n");
} : this.$split = function(e) {
return e.split(/\r\n|\r|\n/);
}, this.$detectNewLine = function(e) {
var t = e.match(/^.*?(\r\n|\r|\n)/m);
this.$autoNewLine = t ? t[1] : "\n", this._signal("changeNewLineMode");
}, this.getNewLineCharacter = function() {
switch (this.$newLineMode) {
case "windows":
return "\r\n";

case "unix":
return "\n";

default:
return this.$autoNewLine || "\n";
}
}, this.$autoNewLine = "", this.$newLineMode = "auto", this.setNewLineMode = function(e) {
this.$newLineMode !== e && (this.$newLineMode = e, this._signal("changeNewLineMode"));
}, this.getNewLineMode = function() {
return this.$newLineMode;
}, this.isNewLine = function(e) {
return "\r\n" == e || "\r" == e || "\n" == e;
}, this.getLine = function(e) {
return this.$lines[e] || "";
}, this.getLines = function(e, t) {
return this.$lines.slice(e, t + 1);
}, this.getAllLines = function() {
return this.getLines(0, this.getLength());
}, this.getLength = function() {
return this.$lines.length;
}, this.getTextRange = function(e) {
return this.getLinesForRange(e).join(this.getNewLineCharacter());
}, this.getLinesForRange = function(e) {
var t;
if (e.start.row === e.end.row) t = [ this.getLine(e.start.row).substring(e.start.column, e.end.column) ]; else {
(t = this.getLines(e.start.row, e.end.row))[0] = (t[0] || "").substring(e.start.column);
var n = t.length - 1;
e.end.row - e.start.row == n && (t[n] = t[n].substring(0, e.end.column));
}
return t;
}, this.insertLines = function(e, t) {
return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."), this.insertFullLines(e, t);
}, this.removeLines = function(e, t) {
return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."), this.removeFullLines(e, t);
}, this.insertNewLine = function(e) {
return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."), this.insertMergedLines(e, [ "", "" ]);
}, this.insert = function(e, t) {
return this.getLength() <= 1 && this.$detectNewLine(t), this.insertMergedLines(e, this.$split(t));
}, this.insertInLine = function(e, t) {
var n = this.clippedPos(e.row, e.column), i = this.pos(e.row, e.column + t.length);
return this.applyDelta({
start: n,
end: i,
action: "insert",
lines: [ t ]
}, !0), this.clonePos(i);
}, this.clippedPos = function(e, t) {
var n = this.getLength();
void 0 === e ? e = n : e < 0 ? e = 0 : e >= n && (e = n - 1, t = void 0);
var i = this.getLine(e);
return void 0 == t && (t = i.length), t = Math.min(Math.max(t, 0), i.length), {
row: e,
column: t
};
}, this.clonePos = function(e) {
return {
row: e.row,
column: e.column
};
}, this.pos = function(e, t) {
return {
row: e,
column: t
};
}, this.$clipPosition = function(e) {
var t = this.getLength();
return e.row >= t ? (e.row = Math.max(0, t - 1), e.column = this.getLine(t - 1).length) : (e.row = Math.max(0, e.row), e.column = Math.min(Math.max(e.column, 0), this.getLine(e.row).length)), e;
}, this.insertFullLines = function(e, t) {
var n = 0;
(e = Math.min(Math.max(e, 0), this.getLength())) < this.getLength() ? (t = t.concat([ "" ]), n = 0) : (t = [ "" ].concat(t), e--, n = this.$lines[e].length), this.insertMergedLines({
row: e,
column: n
}, t);
}, this.insertMergedLines = function(e, t) {
var n = this.clippedPos(e.row, e.column), i = {
row: n.row + t.length - 1,
column: (1 == t.length ? n.column : 0) + t[t.length - 1].length
};
return this.applyDelta({
start: n,
end: i,
action: "insert",
lines: t
}), this.clonePos(i);
}, this.remove = function(e) {
var t = this.clippedPos(e.start.row, e.start.column), n = this.clippedPos(e.end.row, e.end.column);
return this.applyDelta({
start: t,
end: n,
action: "remove",
lines: this.getLinesForRange({
start: t,
end: n
})
}), this.clonePos(t);
}, this.removeInLine = function(e, t, n) {
var i = this.clippedPos(e, t), r = this.clippedPos(e, n);
return this.applyDelta({
start: i,
end: r,
action: "remove",
lines: this.getLinesForRange({
start: i,
end: r
})
}, !0), this.clonePos(i);
}, this.removeFullLines = function(e, t) {
e = Math.min(Math.max(0, e), this.getLength() - 1);
var n = (t = Math.min(Math.max(0, t), this.getLength() - 1)) == this.getLength() - 1 && e > 0, i = t < this.getLength() - 1, r = n ? e - 1 : e, o = n ? this.getLine(r).length : 0, s = i ? t + 1 : t, l = i ? 0 : this.getLine(s).length, c = new a(r, o, s, l), u = this.$lines.slice(e, t + 1);
return this.applyDelta({
start: c.start,
end: c.end,
action: "remove",
lines: this.getLinesForRange(c)
}), u;
}, this.removeNewLine = function(e) {
e < this.getLength() - 1 && e >= 0 && this.applyDelta({
start: this.pos(e, this.getLine(e).length),
end: this.pos(e + 1, 0),
action: "remove",
lines: [ "", "" ]
});
}, this.replace = function(e, t) {
if (e instanceof a || (e = a.fromPoints(e.start, e.end)), 0 === t.length && e.isEmpty()) return e.start;
if (t == this.getTextRange(e)) return e.end;
this.remove(e);
return t ? this.insert(e.start, t) : e.start;
}, this.applyDeltas = function(e) {
for (var t = 0; t < e.length; t++) this.applyDelta(e[t]);
}, this.revertDeltas = function(e) {
for (var t = e.length - 1; t >= 0; t--) this.revertDelta(e[t]);
}, this.applyDelta = function(e, t) {
var n = "insert" == e.action;
(n ? e.lines.length <= 1 && !e.lines[0] : !a.comparePoints(e.start, e.end)) || (n && e.lines.length > 2e4 && this.$splitAndapplyLargeDelta(e, 2e4), r(this.$lines, e, t), this._signal("change", e));
}, this.$splitAndapplyLargeDelta = function(e, t) {
for (var n = e.lines, i = n.length, r = e.start.row, o = e.start.column, a = 0, s = 0; ;) {
a = s, s += t - 1;
var l = n.slice(a, s);
if (s > i) {
e.lines = l, e.start.row = r + a, e.start.column = o;
break;
}
l.push(""), this.applyDelta({
start: this.pos(r + a, o),
end: this.pos(r + s, o = 0),
action: e.action,
lines: l
}, !0);
}
}, this.revertDelta = function(e) {
this.applyDelta({
start: this.clonePos(e.start),
end: this.clonePos(e.end),
action: "insert" == e.action ? "remove" : "insert",
lines: e.lines.slice()
});
}, this.indexToPosition = function(e, t) {
for (var n = this.$lines || this.getAllLines(), i = this.getNewLineCharacter().length, r = t || 0, o = n.length; r < o; r++) if ((e -= n[r].length + i) < 0) return {
row: r,
column: e + n[r].length + i
};
return {
row: o - 1,
column: n[o - 1].length
};
}, this.positionToIndex = function(e, t) {
for (var n = this.$lines || this.getAllLines(), i = this.getNewLineCharacter().length, r = 0, o = Math.min(e.row, n.length), a = t || 0; a < o; ++a) r += n[a].length + i;
return r + e.column;
};
}).call(l.prototype), t.Document = l;
}), ace.define("ace/background_tokenizer", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/event_emitter").EventEmitter, o = function(e, t) {
this.running = !1, this.lines = [], this.states = [], this.currentLine = 0, this.tokenizer = e;
var n = this;
this.$worker = function() {
if (n.running) {
for (var e = new Date(), t = n.currentLine, i = -1, r = n.doc, o = t; n.lines[t]; ) t++;
var a = r.getLength(), s = 0;
for (n.running = !1; t < a; ) {
n.$tokenizeRow(t), i = t;
do {
t++;
} while (n.lines[t]);
if (++s % 5 == 0 && new Date() - e > 20) {
n.running = setTimeout(n.$worker, 20);
break;
}
}
n.currentLine = t, -1 == i && (i = t), o <= i && n.fireUpdateEvent(o, i);
}
};
};
(function() {
i.implement(this, r), this.setTokenizer = function(e) {
this.tokenizer = e, this.lines = [], this.states = [], this.start(0);
}, this.setDocument = function(e) {
this.doc = e, this.lines = [], this.states = [], this.stop();
}, this.fireUpdateEvent = function(e, t) {
var n = {
first: e,
last: t
};
this._signal("update", {
data: n
});
}, this.start = function(e) {
this.currentLine = Math.min(e || 0, this.currentLine, this.doc.getLength()), this.lines.splice(this.currentLine, this.lines.length), this.states.splice(this.currentLine, this.states.length), this.stop(), this.running = setTimeout(this.$worker, 700);
}, this.scheduleStart = function() {
this.running || (this.running = setTimeout(this.$worker, 700));
}, this.$updateOnChange = function(e) {
var t = e.start.row, n = e.end.row - t;
if (0 === n) this.lines[t] = null; else if ("remove" == e.action) this.lines.splice(t, n + 1, null), this.states.splice(t, n + 1, null); else {
var i = Array(n + 1);
i.unshift(t, 1), this.lines.splice.apply(this.lines, i), this.states.splice.apply(this.states, i);
}
this.currentLine = Math.min(t, this.currentLine, this.doc.getLength()), this.stop();
}, this.stop = function() {
this.running && clearTimeout(this.running), this.running = !1;
}, this.getTokens = function(e) {
return this.lines[e] || this.$tokenizeRow(e);
}, this.getState = function(e) {
return this.currentLine == e && this.$tokenizeRow(e), this.states[e] || "start";
}, this.$tokenizeRow = function(e) {
var t = this.doc.getLine(e), n = this.states[e - 1], i = this.tokenizer.getLineTokens(t, n, e);
return this.states[e] + "" != i.state + "" ? (this.states[e] = i.state, this.lines[e + 1] = null, this.currentLine > e + 1 && (this.currentLine = e + 1)) : this.currentLine == e && (this.currentLine = e + 1), this.lines[e] = i.tokens;
};
}).call(o.prototype), t.BackgroundTokenizer = o;
}), ace.define("ace/search_highlight", [ "require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./lib/lang"), r = (e("./lib/oop"), e("./range").Range), o = function(e, t, n) {
this.setRegexp(e), this.clazz = t, this.type = n || "text";
};
(function() {
this.MAX_RANGES = 500, this.setRegexp = function(e) {
this.regExp + "" != e + "" && (this.regExp = e, this.cache = []);
}, this.update = function(e, t, n, o) {
if (this.regExp) for (var a = o.firstRow, s = o.lastRow, l = a; l <= s; l++) {
var c = this.cache[l];
null == c && ((c = i.getMatchOffsets(n.getLine(l), this.regExp)).length > this.MAX_RANGES && (c = c.slice(0, this.MAX_RANGES)), c = c.map(function(e) {
return new r(l, e.offset, l, e.offset + e.length);
}), this.cache[l] = c.length ? c : "");
for (var u = c.length; u--; ) t.drawSingleLineMarker(e, c[u].toScreenRange(n), this.clazz, o);
}
};
}).call(o.prototype), t.SearchHighlight = o;
}), ace.define("ace/edit_session/fold_line", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
function i(e, t) {
this.foldData = e, Array.isArray(t) ? this.folds = t : t = this.folds = [ t ];
var n = t[t.length - 1];
this.range = new r(t[0].start.row, t[0].start.column, n.end.row, n.end.column), this.start = this.range.start, this.end = this.range.end, this.folds.forEach(function(e) {
e.setFoldLine(this);
}, this);
}
var r = e("../range").Range;
(function() {
this.shiftRow = function(e) {
this.start.row += e, this.end.row += e, this.folds.forEach(function(t) {
t.start.row += e, t.end.row += e;
});
}, this.addFold = function(e) {
if (e.sameRow) {
if (e.start.row < this.startRow || e.endRow > this.endRow) throw new Error("Can't add a fold to this FoldLine as it has no connection");
this.folds.push(e), this.folds.sort(function(e, t) {
return -e.range.compareEnd(t.start.row, t.start.column);
}), this.range.compareEnd(e.start.row, e.start.column) > 0 ? (this.end.row = e.end.row, this.end.column = e.end.column) : this.range.compareStart(e.end.row, e.end.column) < 0 && (this.start.row = e.start.row, this.start.column = e.start.column);
} else if (e.start.row == this.end.row) this.folds.push(e), this.end.row = e.end.row, this.end.column = e.end.column; else {
if (e.end.row != this.start.row) throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
this.folds.unshift(e), this.start.row = e.start.row, this.start.column = e.start.column;
}
e.foldLine = this;
}, this.containsRow = function(e) {
return e >= this.start.row && e <= this.end.row;
}, this.walk = function(e, t, n) {
var i, r, o, a = 0, s = this.folds, l = !0;
null == t && (t = this.end.row, n = this.end.column);
for (var c = 0; c < s.length; c++) {
if (i = s[c], -1 == (r = i.range.compareStart(t, n))) return void e(null, t, n, a, l);
if (o = e(null, i.start.row, i.start.column, a, l), (o = !o && e(i.placeholder, i.start.row, i.start.column, a)) || 0 === r) return;
l = !i.sameRow, a = i.end.column;
}
e(null, t, n, a, l);
}, this.getNextFoldTo = function(e, t) {
for (var n, i, r = 0; r < this.folds.length; r++) {
if (n = this.folds[r], -1 == (i = n.range.compareEnd(e, t))) return {
fold: n,
kind: "after"
};
if (0 === i) return {
fold: n,
kind: "inside"
};
}
return null;
}, this.addRemoveChars = function(e, t, n) {
var i, r, o = this.getNextFoldTo(e, t);
if (o) if (i = o.fold, "inside" == o.kind && i.start.column != t && i.start.row != e) window.console && window.console.log(e, t, i); else if (i.start.row == e) {
var a = (r = this.folds).indexOf(i);
for (0 === a && (this.start.column += n), a; a < r.length; a++) {
if (i = r[a], i.start.column += n, !i.sameRow) return;
i.end.column += n;
}
this.end.column += n;
}
}, this.split = function(e, t) {
var n = this.getNextFoldTo(e, t);
if (!n || "inside" == n.kind) return null;
var r = n.fold, o = this.folds, a = this.foldData, s = o.indexOf(r), l = o[s - 1];
this.end.row = l.end.row, this.end.column = l.end.column;
var c = new i(a, o = o.splice(s, o.length - s));
return a.splice(a.indexOf(this) + 1, 0, c), c;
}, this.merge = function(e) {
for (var t = e.folds, n = 0; n < t.length; n++) this.addFold(t[n]);
var i = this.foldData;
i.splice(i.indexOf(e), 1);
}, this.toString = function() {
var e = [ this.range.toString() + ": [" ];
return this.folds.forEach(function(t) {
e.push("  " + t.toString());
}), e.push("]"), e.join("\n");
}, this.idxToPosition = function(e) {
for (var t = 0, n = 0; n < this.folds.length; n++) {
var i = this.folds[n];
if ((e -= i.start.column - t) < 0) return {
row: i.start.row,
column: i.start.column + e
};
if ((e -= i.placeholder.length) < 0) return i.start;
t = i.end.column;
}
return {
row: this.end.row,
column: this.end.column + e
};
};
}).call(i.prototype), t.FoldLine = i;
}), ace.define("ace/range_list", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./range").Range.comparePoints, r = function() {
this.ranges = [];
};
(function() {
this.comparePoints = i, this.pointIndex = function(e, t, n) {
for (var r = this.ranges, o = n || 0; o < r.length; o++) {
var a = r[o], s = i(e, a.end);
if (!(s > 0)) {
var l = i(e, a.start);
return 0 === s ? t && 0 !== l ? -o - 2 : o : l > 0 || 0 === l && !t ? o : -o - 1;
}
}
return -o - 1;
}, this.add = function(e) {
var t = !e.isEmpty(), n = this.pointIndex(e.start, t);
n < 0 && (n = -n - 1);
var i = this.pointIndex(e.end, t, n);
return i < 0 ? i = -i - 1 : i++, this.ranges.splice(n, i - n, e);
}, this.addList = function(e) {
for (var t = [], n = e.length; n--; ) t.push.apply(t, this.add(e[n]));
return t;
}, this.substractPoint = function(e) {
var t = this.pointIndex(e);
if (t >= 0) return this.ranges.splice(t, 1);
}, this.merge = function() {
for (var e, t = [], n = this.ranges, r = (n = n.sort(function(e, t) {
return i(e.start, t.start);
}))[0], o = 1; o < n.length; o++) {
e = r, r = n[o];
var a = i(e.end, r.start);
a < 0 || (0 != a || e.isEmpty() || r.isEmpty()) && (i(e.end, r.end) < 0 && (e.end.row = r.end.row, e.end.column = r.end.column), n.splice(o, 1), t.push(r), r = e, o--);
}
return this.ranges = n, t;
}, this.contains = function(e, t) {
return this.pointIndex({
row: e,
column: t
}) >= 0;
}, this.containsPoint = function(e) {
return this.pointIndex(e) >= 0;
}, this.rangeAtPoint = function(e) {
var t = this.pointIndex(e);
if (t >= 0) return this.ranges[t];
}, this.clipRows = function(e, t) {
var n = this.ranges;
if (n[0].start.row > t || n[n.length - 1].start.row < e) return [];
var i = this.pointIndex({
row: e,
column: 0
});
i < 0 && (i = -i - 1);
var r = this.pointIndex({
row: t,
column: 0
}, i);
r < 0 && (r = -r - 1);
for (var o = [], a = i; a < r; a++) o.push(n[a]);
return o;
}, this.removeAll = function() {
return this.ranges.splice(0, this.ranges.length);
}, this.attach = function(e) {
this.session && this.detach(), this.session = e, this.onChange = this.$onChange.bind(this), this.session.on("change", this.onChange);
}, this.detach = function() {
this.session && (this.session.removeListener("change", this.onChange), this.session = null);
}, this.$onChange = function(e) {
if ("insert" == e.action) var t = e.start, n = e.end; else var n = e.start, t = e.end;
for (var i = t.row, r = n.row - i, o = -t.column + n.column, a = this.ranges, s = 0, l = a.length; s < l; s++) if (!((c = a[s]).end.row < i)) {
if (c.start.row > i) break;
if (c.start.row == i && c.start.column >= t.column && (c.start.column != t.column || !this.$insertRight) && (c.start.column += o, c.start.row += r), c.end.row == i && c.end.column >= t.column) {
if (c.end.column == t.column && this.$insertRight) continue;
c.end.column == t.column && o > 0 && s < l - 1 && c.end.column > c.start.column && c.end.column == a[s + 1].start.column && (c.end.column -= o), c.end.column += o, c.end.row += r;
}
}
if (0 != r && s < l) for (;s < l; s++) {
var c = a[s];
c.start.row += r, c.end.row += r;
}
};
}).call(r.prototype), t.RangeList = r;
}), ace.define("ace/edit_session/fold", [ "require", "exports", "module", "ace/range", "ace/range_list", "ace/lib/oop" ], function(e, t, n) {
"use strict";
function i(e, t) {
e.row -= t.row, 0 == e.row && (e.column -= t.column);
}
function r(e, t) {
i(e.start, t), i(e.end, t);
}
function o(e, t) {
0 == e.row && (e.column += t.column), e.row += t.row;
}
function a(e, t) {
o(e.start, t), o(e.end, t);
}
e("../range").Range;
var s = e("../range_list").RangeList, l = e("../lib/oop"), c = t.Fold = function(e, t) {
this.foldLine = null, this.placeholder = t, this.range = e, this.start = e.start, this.end = e.end, this.sameRow = e.start.row == e.end.row, this.subFolds = this.ranges = [];
};
l.inherits(c, s), function() {
this.toString = function() {
return '"' + this.placeholder + '" ' + this.range.toString();
}, this.setFoldLine = function(e) {
this.foldLine = e, this.subFolds.forEach(function(t) {
t.setFoldLine(e);
});
}, this.clone = function() {
var e = this.range.clone(), t = new c(e, this.placeholder);
return this.subFolds.forEach(function(e) {
t.subFolds.push(e.clone());
}), t.collapseChildren = this.collapseChildren, t;
}, this.addSubFold = function(e) {
if (!this.range.isEqual(e)) {
if (!this.range.containsRange(e)) throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
r(e, this.start);
for (var t = e.start.row, n = e.start.column, i = 0, o = -1; i < this.subFolds.length && 1 == (o = this.subFolds[i].range.compare(t, n)); i++) ;
var a = this.subFolds[i];
if (0 == o) return a.addSubFold(e);
for (var t = e.range.end.row, n = e.range.end.column, s = i, o = -1; s < this.subFolds.length && 1 == (o = this.subFolds[s].range.compare(t, n)); s++) ;
this.subFolds[s];
if (0 == o) throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
this.subFolds.splice(i, s - i, e);
return e.setFoldLine(this.foldLine), e;
}
}, this.restoreRange = function(e) {
return a(e, this.start);
};
}.call(c.prototype);
}), ace.define("ace/edit_session/folding", [ "require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = e("./fold_line").FoldLine, o = e("./fold").Fold, a = e("../token_iterator").TokenIterator;
t.Folding = function() {
this.getFoldAt = function(e, t, n) {
var i = this.getFoldLine(e);
if (!i) return null;
for (var r = i.folds, o = 0; o < r.length; o++) {
var a = r[o];
if (a.range.contains(e, t)) {
if (1 == n && a.range.isEnd(e, t)) continue;
if (-1 == n && a.range.isStart(e, t)) continue;
return a;
}
}
}, this.getFoldsInRange = function(e) {
var t = e.start, n = e.end, i = this.$foldData, r = [];
t.column += 1, n.column -= 1;
for (var o = 0; o < i.length; o++) {
var a = i[o].range.compareRange(e);
if (2 != a) {
if (-2 == a) break;
for (var s = i[o].folds, l = 0; l < s.length; l++) {
var c = s[l];
if (-2 == (a = c.range.compareRange(e))) break;
if (2 != a) {
if (42 == a) break;
r.push(c);
}
}
}
}
return t.column -= 1, n.column += 1, r;
}, this.getFoldsInRangeList = function(e) {
if (Array.isArray(e)) t = [], e.forEach(function(e) {
t = t.concat(this.getFoldsInRange(e));
}, this); else var t = this.getFoldsInRange(e);
return t;
}, this.getAllFolds = function() {
for (var e = [], t = this.$foldData, n = 0; n < t.length; n++) for (var i = 0; i < t[n].folds.length; i++) e.push(t[n].folds[i]);
return e;
}, this.getFoldStringAt = function(e, t, n, i) {
if (!(i = i || this.getFoldLine(e))) return null;
for (var r, o, a = {
end: {
column: 0
}
}, s = 0; s < i.folds.length; s++) {
var l = (o = i.folds[s]).range.compareEnd(e, t);
if (-1 == l) {
r = this.getLine(o.start.row).substring(a.end.column, o.start.column);
break;
}
if (0 === l) return null;
a = o;
}
return r || (r = this.getLine(o.start.row).substring(a.end.column)), -1 == n ? r.substring(0, t - a.end.column) : 1 == n ? r.substring(t - a.end.column) : r;
}, this.getFoldLine = function(e, t) {
var n = this.$foldData, i = 0;
for (t && (i = n.indexOf(t)), -1 == i && (i = 0), i; i < n.length; i++) {
var r = n[i];
if (r.start.row <= e && r.end.row >= e) return r;
if (r.end.row > e) return null;
}
return null;
}, this.getNextFoldLine = function(e, t) {
var n = this.$foldData, i = 0;
for (t && (i = n.indexOf(t)), -1 == i && (i = 0), i; i < n.length; i++) {
var r = n[i];
if (r.end.row >= e) return r;
}
return null;
}, this.getFoldedRowCount = function(e, t) {
for (var n = this.$foldData, i = t - e + 1, r = 0; r < n.length; r++) {
var o = n[r], a = o.end.row, s = o.start.row;
if (a >= t) {
s < t && (s >= e ? i -= t - s : i = 0);
break;
}
a >= e && (i -= s >= e ? a - s : a - e + 1);
}
return i;
}, this.$addFoldLine = function(e) {
return this.$foldData.push(e), this.$foldData.sort(function(e, t) {
return e.start.row - t.start.row;
}), e;
}, this.addFold = function(e, t) {
var n, i = this.$foldData, a = !1;
e instanceof o ? n = e : (n = new o(t, e), n.collapseChildren = t.collapseChildren), this.$clipRangeToDocument(n.range);
var s = n.start.row, l = n.start.column, c = n.end.row, u = n.end.column;
if (s < c || s == c && l <= u - 2) {
var d = this.getFoldAt(s, l, 1), h = this.getFoldAt(c, u, -1);
if (d && h == d) return d.addSubFold(n);
d && !d.range.isStart(s, l) && this.removeFold(d), h && !h.range.isEnd(c, u) && this.removeFold(h);
var f = this.getFoldsInRange(n.range);
f.length > 0 && (this.removeFolds(f), f.forEach(function(e) {
n.addSubFold(e);
}));
for (var p = 0; p < i.length; p++) {
var g = i[p];
if (c == g.start.row) {
g.addFold(n), a = !0;
break;
}
if (s == g.end.row) {
if (g.addFold(n), a = !0, !n.sameRow) {
var m = i[p + 1];
if (m && m.start.row == c) {
g.merge(m);
break;
}
}
break;
}
if (c <= g.start.row) break;
}
return a || (g = this.$addFoldLine(new r(this.$foldData, n))), this.$useWrapMode ? this.$updateWrapData(g.start.row, g.start.row) : this.$updateRowLengthCache(g.start.row, g.start.row), this.$modified = !0, this._signal("changeFold", {
data: n,
action: "add"
}), n;
}
throw new Error("The range has to be at least 2 characters width");
}, this.addFolds = function(e) {
e.forEach(function(e) {
this.addFold(e);
}, this);
}, this.removeFold = function(e) {
var t = e.foldLine, n = t.start.row, i = t.end.row, r = this.$foldData, o = t.folds;
if (1 == o.length) r.splice(r.indexOf(t), 1); else if (t.range.isEnd(e.end.row, e.end.column)) o.pop(), t.end.row = o[o.length - 1].end.row, t.end.column = o[o.length - 1].end.column; else if (t.range.isStart(e.start.row, e.start.column)) o.shift(), t.start.row = o[0].start.row, t.start.column = o[0].start.column; else if (e.sameRow) o.splice(o.indexOf(e), 1); else {
var a = t.split(e.start.row, e.start.column);
(o = a.folds).shift(), a.start.row = o[0].start.row, a.start.column = o[0].start.column;
}
this.$updating || (this.$useWrapMode ? this.$updateWrapData(n, i) : this.$updateRowLengthCache(n, i)), this.$modified = !0, this._signal("changeFold", {
data: e,
action: "remove"
});
}, this.removeFolds = function(e) {
for (var t = [], n = 0; n < e.length; n++) t.push(e[n]);
t.forEach(function(e) {
this.removeFold(e);
}, this), this.$modified = !0;
}, this.expandFold = function(e) {
this.removeFold(e), e.subFolds.forEach(function(t) {
e.restoreRange(t), this.addFold(t);
}, this), e.collapseChildren > 0 && this.foldAll(e.start.row + 1, e.end.row, e.collapseChildren - 1), e.subFolds = [];
}, this.expandFolds = function(e) {
e.forEach(function(e) {
this.expandFold(e);
}, this);
}, this.unfold = function(e, t) {
var n, r;
if (null == e ? (n = new i(0, 0, this.getLength(), 0), t = !0) : n = "number" == typeof e ? new i(e, 0, e, this.getLine(e).length) : "row" in e ? i.fromPoints(e, e) : e, r = this.getFoldsInRangeList(n), t) this.removeFolds(r); else for (var o = r; o.length; ) this.expandFolds(o), o = this.getFoldsInRangeList(n);
if (r.length) return r;
}, this.isRowFolded = function(e, t) {
return !!this.getFoldLine(e, t);
}, this.getRowFoldEnd = function(e, t) {
var n = this.getFoldLine(e, t);
return n ? n.end.row : e;
}, this.getRowFoldStart = function(e, t) {
var n = this.getFoldLine(e, t);
return n ? n.start.row : e;
}, this.getFoldDisplayLine = function(e, t, n, i, r) {
null == i && (i = e.start.row), null == r && (r = 0), null == t && (t = e.end.row), null == n && (n = this.getLine(t).length);
var o = this.doc, a = "";
return e.walk(function(e, t, n, s) {
if (!(t < i)) {
if (t == i) {
if (n < r) return;
s = Math.max(r, s);
}
a += null != e ? e : o.getLine(t).substring(s, n);
}
}, t, n), a;
}, this.getDisplayLine = function(e, t, n, i) {
var r = this.getFoldLine(e);
if (!r) {
var o;
return (o = this.doc.getLine(e)).substring(i || 0, t || o.length);
}
return this.getFoldDisplayLine(r, e, t, n, i);
}, this.$cloneFoldData = function() {
var e = [];
return e = this.$foldData.map(function(t) {
var n = t.folds.map(function(e) {
return e.clone();
});
return new r(e, n);
});
}, this.toggleFold = function(e) {
var t, n, i = this.selection.getRange();
if (i.isEmpty()) {
var r = i.start;
if (t = this.getFoldAt(r.row, r.column)) return void this.expandFold(t);
(n = this.findMatchingBracket(r)) ? 1 == i.comparePoint(n) ? i.end = n : (i.start = n, i.start.column++, i.end.column--) : (n = this.findMatchingBracket({
row: r.row,
column: r.column + 1
})) ? (1 == i.comparePoint(n) ? i.end = n : i.start = n, i.start.column++) : i = this.getCommentFoldRange(r.row, r.column) || i;
} else {
var o = this.getFoldsInRange(i);
if (e && o.length) return void this.expandFolds(o);
1 == o.length && (t = o[0]);
}
if (t || (t = this.getFoldAt(i.start.row, i.start.column)), t && t.range.toString() == i.toString()) this.expandFold(t); else {
var a = "...";
if (!i.isMultiLine()) {
if ((a = this.getTextRange(i)).length < 4) return;
a = a.trim().substring(0, 2) + "..";
}
this.addFold(a, i);
}
}, this.getCommentFoldRange = function(e, t, n) {
var r = new a(this, e, t), o = r.getCurrentToken(), s = o.type;
if (o && /^comment|string/.test(s)) {
"comment" == (s = s.match(/comment|string/)[0]) && (s += "|doc-start");
var l = new RegExp(s), c = new i();
if (1 != n) {
do {
o = r.stepBackward();
} while (o && l.test(o.type));
r.stepForward();
}
if (c.start.row = r.getCurrentTokenRow(), c.start.column = r.getCurrentTokenColumn() + 2, r = new a(this, e, t), -1 != n) {
var u = -1;
do {
if (o = r.stepForward(), -1 == u) {
var d = this.getState(r.$row);
l.test(d) || (u = r.$row);
} else if (r.$row > u) break;
} while (o && l.test(o.type));
o = r.stepBackward();
} else o = r.getCurrentToken();
return c.end.row = r.getCurrentTokenRow(), c.end.column = r.getCurrentTokenColumn() + o.value.length - 2, c;
}
}, this.foldAll = function(e, t, n) {
void 0 == n && (n = 1e5);
var i = this.foldWidgets;
if (i) {
t = t || this.getLength();
for (var r = e = e || 0; r < t; r++) if (null == i[r] && (i[r] = this.getFoldWidget(r)), "start" == i[r]) {
var o = this.getFoldWidgetRange(r);
if (o && o.isMultiLine() && o.end.row <= t && o.start.row >= e) {
r = o.end.row;
try {
var a = this.addFold("...", o);
a && (a.collapseChildren = n);
} catch (e) {}
}
}
}
}, this.$foldStyles = {
manual: 1,
markbegin: 1,
markbeginend: 1
}, this.$foldStyle = "markbegin", this.setFoldStyle = function(e) {
if (!this.$foldStyles[e]) throw new Error("invalid fold style: " + e + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
if (this.$foldStyle != e) {
this.$foldStyle = e, "manual" == e && this.unfold();
var t = this.$foldMode;
this.$setFolding(null), this.$setFolding(t);
}
}, this.$setFolding = function(e) {
this.$foldMode != e && (this.$foldMode = e, this.off("change", this.$updateFoldWidgets), this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets), this._signal("changeAnnotation"), e && "manual" != this.$foldStyle ? (this.foldWidgets = [], this.getFoldWidget = e.getFoldWidget.bind(e, this, this.$foldStyle), this.getFoldWidgetRange = e.getFoldWidgetRange.bind(e, this, this.$foldStyle), this.$updateFoldWidgets = this.updateFoldWidgets.bind(this), this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this), this.on("change", this.$updateFoldWidgets), this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets)) : this.foldWidgets = null);
}, this.getParentFoldRangeData = function(e, t) {
var n = this.foldWidgets;
if (!n || t && n[e]) return {};
for (var i, r = e - 1; r >= 0; ) {
var o = n[r];
if (null == o && (o = n[r] = this.getFoldWidget(r)), "start" == o) {
var a = this.getFoldWidgetRange(r);
if (i || (i = a), a && a.end.row >= e) break;
}
r--;
}
return {
range: -1 !== r && a,
firstRange: i
};
}, this.onFoldWidgetClick = function(e, t) {
var n = {
children: (t = t.domEvent).shiftKey,
all: t.ctrlKey || t.metaKey,
siblings: t.altKey
};
if (!this.$toggleFoldWidget(e, n)) {
var i = t.target || t.srcElement;
i && /ace_fold-widget/.test(i.className) && (i.className += " ace_invalid");
}
}, this.$toggleFoldWidget = function(e, t) {
if (this.getFoldWidget) {
var n = this.getFoldWidget(e), i = this.getLine(e), r = "end" === n ? -1 : 1, o = this.getFoldAt(e, -1 === r ? 0 : i.length, r);
if (o) return t.children || t.all ? this.removeFold(o) : this.expandFold(o), o;
var a = this.getFoldWidgetRange(e, !0);
if (a && !a.isMultiLine() && (o = this.getFoldAt(a.start.row, a.start.column, 1)) && a.isEqual(o.range)) return this.removeFold(o), o;
if (t.siblings) {
var s = this.getParentFoldRangeData(e);
if (s.range) var l = s.range.start.row + 1, c = s.range.end.row;
this.foldAll(l, c, t.all ? 1e4 : 0);
} else t.children ? (c = a ? a.end.row : this.getLength(), this.foldAll(e + 1, c, t.all ? 1e4 : 0)) : a && (t.all && (a.collapseChildren = 1e4), this.addFold("...", a));
return a;
}
}, this.toggleFoldWidget = function(e) {
var t = this.selection.getCursor().row;
t = this.getRowFoldStart(t);
var n = this.$toggleFoldWidget(t, {});
if (!n) {
var i = this.getParentFoldRangeData(t, !0);
if (n = i.range || i.firstRange) {
t = n.start.row;
var r = this.getFoldAt(t, this.getLine(t).length, 1);
r ? this.removeFold(r) : this.addFold("...", n);
}
}
}, this.updateFoldWidgets = function(e) {
var t = e.start.row, n = e.end.row - t;
if (0 === n) this.foldWidgets[t] = null; else if ("remove" == e.action) this.foldWidgets.splice(t, n + 1, null); else {
var i = Array(n + 1);
i.unshift(t, 1), this.foldWidgets.splice.apply(this.foldWidgets, i);
}
}, this.tokenizerUpdateFoldWidgets = function(e) {
var t = e.data;
t.first != t.last && this.foldWidgets.length > t.first && this.foldWidgets.splice(t.first, this.foldWidgets.length);
};
};
}), ace.define("ace/edit_session/bracket_match", [ "require", "exports", "module", "ace/token_iterator", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../token_iterator").TokenIterator, r = e("../range").Range;
t.BracketMatch = function() {
this.findMatchingBracket = function(e, t) {
if (0 == e.column) return null;
var n = t || this.getLine(e.row).charAt(e.column - 1);
if ("" == n) return null;
var i = n.match(/([\(\[\{])|([\)\]\}])/);
return i ? i[1] ? this.$findClosingBracket(i[1], e) : this.$findOpeningBracket(i[2], e) : null;
}, this.getBracketRange = function(e) {
var t, n = this.getLine(e.row), i = !0, o = n.charAt(e.column - 1), a = o && o.match(/([\(\[\{])|([\)\]\}])/);
if (a || (o = n.charAt(e.column), e = {
row: e.row,
column: e.column + 1
}, a = o && o.match(/([\(\[\{])|([\)\]\}])/), i = !1), !a) return null;
if (a[1]) {
if (!(s = this.$findClosingBracket(a[1], e))) return null;
t = r.fromPoints(e, s), i || (t.end.column++, t.start.column--), t.cursor = t.end;
} else {
var s = this.$findOpeningBracket(a[2], e);
if (!s) return null;
t = r.fromPoints(s, e), i || (t.start.column++, t.end.column--), t.cursor = t.start;
}
return t;
}, this.$brackets = {
")": "(",
"(": ")",
"]": "[",
"[": "]",
"{": "}",
"}": "{"
}, this.$findOpeningBracket = function(e, t, n) {
var r = this.$brackets[e], o = 1, a = new i(this, t.row, t.column), s = a.getCurrentToken();
if (s || (s = a.stepForward()), s) {
n || (n = new RegExp("(\\.?" + s.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+"));
for (var l = t.column - a.getCurrentTokenColumn() - 2, c = s.value; ;) {
for (;l >= 0; ) {
var u = c.charAt(l);
if (u == r) {
if (0 == (o -= 1)) return {
row: a.getCurrentTokenRow(),
column: l + a.getCurrentTokenColumn()
};
} else u == e && (o += 1);
l -= 1;
}
do {
s = a.stepBackward();
} while (s && !n.test(s.type));
if (null == s) break;
l = (c = s.value).length - 1;
}
return null;
}
}, this.$findClosingBracket = function(e, t, n) {
var r = this.$brackets[e], o = 1, a = new i(this, t.row, t.column), s = a.getCurrentToken();
if (s || (s = a.stepForward()), s) {
n || (n = new RegExp("(\\.?" + s.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+"));
for (var l = t.column - a.getCurrentTokenColumn(); ;) {
for (var c = s.value, u = c.length; l < u; ) {
var d = c.charAt(l);
if (d == r) {
if (0 == (o -= 1)) return {
row: a.getCurrentTokenRow(),
column: l + a.getCurrentTokenColumn()
};
} else d == e && (o += 1);
l += 1;
}
do {
s = a.stepForward();
} while (s && !n.test(s.type));
if (null == s) break;
l = 0;
}
return null;
}
};
};
}), ace.define("ace/edit_session", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/lang"), o = e("./bidihandler").BidiHandler, a = e("./config"), s = e("./lib/event_emitter").EventEmitter, l = e("./selection").Selection, c = e("./mode/text").Mode, u = e("./range").Range, d = e("./document").Document, h = e("./background_tokenizer").BackgroundTokenizer, f = e("./search_highlight").SearchHighlight, p = function(e, t) {
this.$breakpoints = [], this.$decorations = [], this.$frontMarkers = {}, this.$backMarkers = {}, this.$markerId = 1, this.$undoSelect = !0, this.$foldData = [], this.id = "session" + ++p.$uid, this.$foldData.toString = function() {
return this.join("\n");
}, this.on("changeFold", this.onChangeFold.bind(this)), this.$onChange = this.onChange.bind(this), "object" == typeof e && e.getLine || (e = new d(e)), this.$bidiHandler = new o(this), this.setDocument(e), this.selection = new l(this), a.resetOptions(this), this.setMode(t), a._signal("session", this);
};
p.$uid = 0, function() {
function e(e) {
return !(e < 4352) && (e >= 4352 && e <= 4447 || e >= 4515 && e <= 4519 || e >= 4602 && e <= 4607 || e >= 9001 && e <= 9002 || e >= 11904 && e <= 11929 || e >= 11931 && e <= 12019 || e >= 12032 && e <= 12245 || e >= 12272 && e <= 12283 || e >= 12288 && e <= 12350 || e >= 12353 && e <= 12438 || e >= 12441 && e <= 12543 || e >= 12549 && e <= 12589 || e >= 12593 && e <= 12686 || e >= 12688 && e <= 12730 || e >= 12736 && e <= 12771 || e >= 12784 && e <= 12830 || e >= 12832 && e <= 12871 || e >= 12880 && e <= 13054 || e >= 13056 && e <= 19903 || e >= 19968 && e <= 42124 || e >= 42128 && e <= 42182 || e >= 43360 && e <= 43388 || e >= 44032 && e <= 55203 || e >= 55216 && e <= 55238 || e >= 55243 && e <= 55291 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65106 || e >= 65108 && e <= 65126 || e >= 65128 && e <= 65131 || e >= 65281 && e <= 65376 || e >= 65504 && e <= 65510);
}
i.implement(this, s), this.setDocument = function(e) {
this.doc && this.doc.removeListener("change", this.$onChange), this.doc = e, e.on("change", this.$onChange), this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()), this.resetCaches();
}, this.getDocument = function() {
return this.doc;
}, this.$resetRowCache = function(e) {
if (!e) return this.$docRowCache = [], void (this.$screenRowCache = []);
var t = this.$docRowCache.length, n = this.$getRowCacheIndex(this.$docRowCache, e) + 1;
t > n && (this.$docRowCache.splice(n, t), this.$screenRowCache.splice(n, t));
}, this.$getRowCacheIndex = function(e, t) {
for (var n = 0, i = e.length - 1; n <= i; ) {
var r = n + i >> 1, o = e[r];
if (t > o) n = r + 1; else {
if (!(t < o)) return r;
i = r - 1;
}
}
return n - 1;
}, this.resetCaches = function() {
this.$modified = !0, this.$wrapData = [], this.$rowLengthCache = [], this.$resetRowCache(0), this.bgTokenizer && this.bgTokenizer.start(0);
}, this.onChangeFold = function(e) {
var t = e.data;
this.$resetRowCache(t.start.row);
}, this.onChange = function(e) {
this.$modified = !0, this.$bidiHandler.onChange(e), this.$resetRowCache(e.start.row);
var t = this.$updateInternalDataOnChange(e);
!this.$fromUndo && this.$undoManager && !e.ignore && (this.$deltasDoc.push(e), t && 0 != t.length && this.$deltasFold.push({
action: "removeFolds",
folds: t
}), this.$informUndoManager.schedule()), this.bgTokenizer && this.bgTokenizer.$updateOnChange(e), this._signal("change", e);
}, this.setValue = function(e) {
this.doc.setValue(e), this.selection.moveTo(0, 0), this.$resetRowCache(0), this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.setUndoManager(this.$undoManager), this.getUndoManager().reset();
}, this.getValue = this.toString = function() {
return this.doc.getValue();
}, this.getSelection = function() {
return this.selection;
}, this.getState = function(e) {
return this.bgTokenizer.getState(e);
}, this.getTokens = function(e) {
return this.bgTokenizer.getTokens(e);
}, this.getTokenAt = function(e, t) {
var n, i = this.bgTokenizer.getTokens(e), r = 0;
if (null == t) {
o = i.length - 1;
r = this.getLine(e).length;
} else for (var o = 0; o < i.length && !((r += i[o].value.length) >= t); o++) ;
return (n = i[o]) ? (n.index = o, n.start = r - n.value.length, n) : null;
}, this.setUndoManager = function(e) {
if (this.$undoManager = e, this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.$informUndoManager && this.$informUndoManager.cancel(), e) {
var t = this;
this.$syncInformUndoManager = function() {
t.$informUndoManager.cancel(), t.$deltasFold.length && (t.$deltas.push({
group: "fold",
deltas: t.$deltasFold
}), t.$deltasFold = []), t.$deltasDoc.length && (t.$deltas.push({
group: "doc",
deltas: t.$deltasDoc
}), t.$deltasDoc = []), t.$deltas.length > 0 && e.execute({
action: "aceupdate",
args: [ t.$deltas, t ],
merge: t.mergeUndoDeltas
}), t.mergeUndoDeltas = !1, t.$deltas = [];
}, this.$informUndoManager = r.delayedCall(this.$syncInformUndoManager);
}
}, this.markUndoGroup = function() {
this.$syncInformUndoManager && this.$syncInformUndoManager();
}, this.$defaultUndoManager = {
undo: function() {},
redo: function() {},
reset: function() {}
}, this.getUndoManager = function() {
return this.$undoManager || this.$defaultUndoManager;
}, this.getTabString = function() {
return this.getUseSoftTabs() ? r.stringRepeat(" ", this.getTabSize()) : "\t";
}, this.setUseSoftTabs = function(e) {
this.setOption("useSoftTabs", e);
}, this.getUseSoftTabs = function() {
return this.$useSoftTabs && !this.$mode.$indentWithTabs;
}, this.setTabSize = function(e) {
this.setOption("tabSize", e);
}, this.getTabSize = function() {
return this.$tabSize;
}, this.isTabStop = function(e) {
return this.$useSoftTabs && e.column % this.$tabSize == 0;
}, this.setNavigateWithinSoftTabs = function(e) {
this.setOption("navigateWithinSoftTabs", e);
}, this.getNavigateWithinSoftTabs = function() {
return this.$navigateWithinSoftTabs;
}, this.$overwrite = !1, this.setOverwrite = function(e) {
this.setOption("overwrite", e);
}, this.getOverwrite = function() {
return this.$overwrite;
}, this.toggleOverwrite = function() {
this.setOverwrite(!this.$overwrite);
}, this.addGutterDecoration = function(e, t) {
this.$decorations[e] || (this.$decorations[e] = ""), this.$decorations[e] += " " + t, this._signal("changeBreakpoint", {});
}, this.removeGutterDecoration = function(e, t) {
this.$decorations[e] = (this.$decorations[e] || "").replace(" " + t, ""), this._signal("changeBreakpoint", {});
}, this.getBreakpoints = function() {
return this.$breakpoints;
}, this.setBreakpoints = function(e) {
this.$breakpoints = [];
for (var t = 0; t < e.length; t++) this.$breakpoints[e[t]] = "ace_breakpoint";
this._signal("changeBreakpoint", {});
}, this.clearBreakpoints = function() {
this.$breakpoints = [], this._signal("changeBreakpoint", {});
}, this.setBreakpoint = function(e, t) {
void 0 === t && (t = "ace_breakpoint"), t ? this.$breakpoints[e] = t : delete this.$breakpoints[e], this._signal("changeBreakpoint", {});
}, this.clearBreakpoint = function(e) {
delete this.$breakpoints[e], this._signal("changeBreakpoint", {});
}, this.addMarker = function(e, t, n, i) {
var r = this.$markerId++, o = {
range: e,
type: n || "line",
renderer: "function" == typeof n ? n : null,
clazz: t,
inFront: !!i,
id: r
};
return i ? (this.$frontMarkers[r] = o, this._signal("changeFrontMarker")) : (this.$backMarkers[r] = o, this._signal("changeBackMarker")), r;
}, this.addDynamicMarker = function(e, t) {
if (e.update) {
var n = this.$markerId++;
return e.id = n, e.inFront = !!t, t ? (this.$frontMarkers[n] = e, this._signal("changeFrontMarker")) : (this.$backMarkers[n] = e, this._signal("changeBackMarker")), e;
}
}, this.removeMarker = function(e) {
var t = this.$frontMarkers[e] || this.$backMarkers[e];
if (t) {
var n = t.inFront ? this.$frontMarkers : this.$backMarkers;
t && (delete n[e], this._signal(t.inFront ? "changeFrontMarker" : "changeBackMarker"));
}
}, this.getMarkers = function(e) {
return e ? this.$frontMarkers : this.$backMarkers;
}, this.highlight = function(e) {
if (!this.$searchHighlight) {
var t = new f(null, "ace_selected-word", "text");
this.$searchHighlight = this.addDynamicMarker(t);
}
this.$searchHighlight.setRegexp(e);
}, this.highlightLines = function(e, t, n, i) {
"number" != typeof t && (n = t, t = e), n || (n = "ace_step");
var r = new u(e, 0, t, 1 / 0);
return r.id = this.addMarker(r, n, "fullLine", i), r;
}, this.setAnnotations = function(e) {
this.$annotations = e, this._signal("changeAnnotation", {});
}, this.getAnnotations = function() {
return this.$annotations || [];
}, this.clearAnnotations = function() {
this.setAnnotations([]);
}, this.$detectNewLine = function(e) {
var t = e.match(/^.*?(\r?\n)/m);
this.$autoNewLine = t ? t[1] : "\n";
}, this.getWordRange = function(e, t) {
var n = this.getLine(e), i = !1;
if (t > 0 && (i = !!n.charAt(t - 1).match(this.tokenRe)), i || (i = !!n.charAt(t).match(this.tokenRe)), i) r = this.tokenRe; else if (/^\s+$/.test(n.slice(t - 1, t + 1))) r = /\s/; else var r = this.nonTokenRe;
var o = t;
if (o > 0) {
do {
o--;
} while (o >= 0 && n.charAt(o).match(r));
o++;
}
for (var a = t; a < n.length && n.charAt(a).match(r); ) a++;
return new u(e, o, e, a);
}, this.getAWordRange = function(e, t) {
for (var n = this.getWordRange(e, t), i = this.getLine(n.end.row); i.charAt(n.end.column).match(/[ \t]/); ) n.end.column += 1;
return n;
}, this.setNewLineMode = function(e) {
this.doc.setNewLineMode(e);
}, this.getNewLineMode = function() {
return this.doc.getNewLineMode();
}, this.setUseWorker = function(e) {
this.setOption("useWorker", e);
}, this.getUseWorker = function() {
return this.$useWorker;
}, this.onReloadTokenizer = function(e) {
var t = e.data;
this.bgTokenizer.start(t.first), this._signal("tokenizerUpdate", e);
}, this.$modes = {}, this.$mode = null, this.$modeId = null, this.setMode = function(e, t) {
if (e && "object" == typeof e) {
if (e.getTokenizer) return this.$onChangeMode(e);
var n = e, i = n.path;
} else i = e || "ace/mode/text";
if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new c()), this.$modes[i] && !n) return this.$onChangeMode(this.$modes[i]), void (t && t());
this.$modeId = i, a.loadModule([ "mode", i ], function(e) {
if (this.$modeId !== i) return t && t();
this.$modes[i] && !n ? this.$onChangeMode(this.$modes[i]) : e && e.Mode && (e = new e.Mode(n), n || (this.$modes[i] = e, e.$id = i), this.$onChangeMode(e)), t && t();
}.bind(this)), this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0);
}, this.$onChangeMode = function(e, t) {
if (t || (this.$modeId = e.$id), this.$mode !== e) {
this.$mode = e, this.$stopWorker(), this.$useWorker && this.$startWorker();
var n = e.getTokenizer();
if (void 0 !== n.addEventListener) {
var i = this.onReloadTokenizer.bind(this);
n.addEventListener("update", i);
}
if (this.bgTokenizer) this.bgTokenizer.setTokenizer(n); else {
this.bgTokenizer = new h(n);
var r = this;
this.bgTokenizer.addEventListener("update", function(e) {
r._signal("tokenizerUpdate", e);
});
}
this.bgTokenizer.setDocument(this.getDocument()), this.tokenRe = e.tokenRe, this.nonTokenRe = e.nonTokenRe, t || (e.attachToSession && e.attachToSession(this), this.$options.wrapMethod.set.call(this, this.$wrapMethod), this.$setFolding(e.foldingRules), this.bgTokenizer.start(0), this._emit("changeMode"));
}
}, this.$stopWorker = function() {
this.$worker && (this.$worker.terminate(), this.$worker = null);
}, this.$startWorker = function() {
try {
this.$worker = this.$mode.createWorker(this);
} catch (e) {
a.warn("Could not load worker", e), this.$worker = null;
}
}, this.getMode = function() {
return this.$mode;
}, this.$scrollTop = 0, this.setScrollTop = function(e) {
this.$scrollTop === e || isNaN(e) || (this.$scrollTop = e, this._signal("changeScrollTop", e));
}, this.getScrollTop = function() {
return this.$scrollTop;
}, this.$scrollLeft = 0, this.setScrollLeft = function(e) {
this.$scrollLeft === e || isNaN(e) || (this.$scrollLeft = e, this._signal("changeScrollLeft", e));
}, this.getScrollLeft = function() {
return this.$scrollLeft;
}, this.getScreenWidth = function() {
return this.$computeWidth(), this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth;
}, this.getLineWidgetMaxWidth = function() {
if (null != this.lineWidgetsWidth) return this.lineWidgetsWidth;
var e = 0;
return this.lineWidgets.forEach(function(t) {
t && t.screenWidth > e && (e = t.screenWidth);
}), this.lineWidgetWidth = e;
}, this.$computeWidth = function(e) {
if (this.$modified || e) {
if (this.$modified = !1, this.$useWrapMode) return this.screenWidth = this.$wrapLimit;
for (var t = this.doc.getAllLines(), n = this.$rowLengthCache, i = 0, r = 0, o = this.$foldData[r], a = o ? o.start.row : 1 / 0, s = t.length, l = 0; l < s; l++) {
if (l > a) {
if ((l = o.end.row + 1) >= s) break;
a = (o = this.$foldData[r++]) ? o.start.row : 1 / 0;
}
null == n[l] && (n[l] = this.$getStringScreenWidth(t[l])[0]), n[l] > i && (i = n[l]);
}
this.screenWidth = i;
}
}, this.getLine = function(e) {
return this.doc.getLine(e);
}, this.getLines = function(e, t) {
return this.doc.getLines(e, t);
}, this.getLength = function() {
return this.doc.getLength();
}, this.getTextRange = function(e) {
return this.doc.getTextRange(e || this.selection.getRange());
}, this.insert = function(e, t) {
return this.doc.insert(e, t);
}, this.remove = function(e) {
return this.doc.remove(e);
}, this.removeFullLines = function(e, t) {
return this.doc.removeFullLines(e, t);
}, this.undoChanges = function(e, t) {
if (e.length) {
this.$fromUndo = !0;
for (var n = null, i = e.length - 1; -1 != i; i--) {
var r = e[i];
"doc" == r.group ? (this.doc.revertDeltas(r.deltas), n = this.$getUndoSelection(r.deltas, !0, n)) : r.deltas.forEach(function(e) {
this.addFolds(e.folds);
}, this);
}
return this.$fromUndo = !1, n && this.$undoSelect && !t && this.selection.setSelectionRange(n), n;
}
}, this.redoChanges = function(e, t) {
if (e.length) {
this.$fromUndo = !0;
for (var n = null, i = 0; i < e.length; i++) {
var r = e[i];
"doc" == r.group && (this.doc.applyDeltas(r.deltas), n = this.$getUndoSelection(r.deltas, !1, n));
}
return this.$fromUndo = !1, n && this.$undoSelect && !t && this.selection.setSelectionRange(n), n;
}
}, this.setUndoSelect = function(e) {
this.$undoSelect = e;
}, this.$getUndoSelection = function(e, t, n) {
function i(e) {
return t ? "insert" !== e.action : "insert" === e.action;
}
var r, o, a = e[0];
i(a) ? r = u.fromPoints(a.start, a.end) : r = u.fromPoints(a.start, a.start);
for (var s = 1; s < e.length; s++) a = e[s], i(a) ? (o = a.start, -1 == r.compare(o.row, o.column) && r.setStart(o), o = a.end, 1 == r.compare(o.row, o.column) && r.setEnd(o), !0) : (o = a.start, -1 == r.compare(o.row, o.column) && (r = u.fromPoints(a.start, a.start)), !1);
if (null != n) {
0 === u.comparePoints(n.start, r.start) && (n.start.column += r.end.column - r.start.column, n.end.column += r.end.column - r.start.column);
var l = n.compareRange(r);
1 == l ? r.setStart(n.start) : -1 == l && r.setEnd(n.end);
}
return r;
}, this.replace = function(e, t) {
return this.doc.replace(e, t);
}, this.moveText = function(e, t, n) {
var i = this.getTextRange(e), r = this.getFoldsInRange(e), o = u.fromPoints(t, t);
if (!n) {
this.remove(e);
l = e.start.row - e.end.row;
(c = l ? -e.end.column : e.start.column - e.end.column) && (o.start.row == e.end.row && o.start.column > e.end.column && (o.start.column += c), o.end.row == e.end.row && o.end.column > e.end.column && (o.end.column += c)), l && o.start.row >= e.end.row && (o.start.row += l, o.end.row += l);
}
if (o.end = this.insert(o.start, i), r.length) {
var a = e.start, s = o.start, l = s.row - a.row, c = s.column - a.column;
this.addFolds(r.map(function(e) {
return (e = e.clone()).start.row == a.row && (e.start.column += c), e.end.row == a.row && (e.end.column += c), e.start.row += l, e.end.row += l, e;
}));
}
return o;
}, this.indentRows = function(e, t, n) {
n = n.replace(/\t/g, this.getTabString());
for (var i = e; i <= t; i++) this.doc.insertInLine({
row: i,
column: 0
}, n);
}, this.outdentRows = function(e) {
for (var t = e.collapseRows(), n = new u(0, 0, 0, 0), i = this.getTabSize(), r = t.start.row; r <= t.end.row; ++r) {
var o = this.getLine(r);
n.start.row = r, n.end.row = r;
for (var a = 0; a < i && " " == o.charAt(a); ++a) ;
a < i && "\t" == o.charAt(a) ? (n.start.column = a, n.end.column = a + 1) : (n.start.column = 0, n.end.column = a), this.remove(n);
}
}, this.$moveLines = function(e, t, n) {
if (e = this.getRowFoldStart(e), t = this.getRowFoldEnd(t), n < 0) {
if ((i = this.getRowFoldStart(e + n)) < 0) return 0;
r = i - e;
} else if (n > 0) {
var i = this.getRowFoldEnd(t + n);
if (i > this.doc.getLength() - 1) return 0;
r = i - t;
} else {
e = this.$clipRowToDocument(e);
var r = (t = this.$clipRowToDocument(t)) - e + 1;
}
var o = new u(e, 0, t, Number.MAX_VALUE), a = this.getFoldsInRange(o).map(function(e) {
return e = e.clone(), e.start.row += r, e.end.row += r, e;
}), s = 0 == n ? this.doc.getLines(e, t) : this.doc.removeFullLines(e, t);
return this.doc.insertFullLines(e + r, s), a.length && this.addFolds(a), r;
}, this.moveLinesUp = function(e, t) {
return this.$moveLines(e, t, -1);
}, this.moveLinesDown = function(e, t) {
return this.$moveLines(e, t, 1);
}, this.duplicateLines = function(e, t) {
return this.$moveLines(e, t, 0);
}, this.$clipRowToDocument = function(e) {
return Math.max(0, Math.min(e, this.doc.getLength() - 1));
}, this.$clipColumnToRow = function(e, t) {
return t < 0 ? 0 : Math.min(this.doc.getLine(e).length, t);
}, this.$clipPositionToDocument = function(e, t) {
if (t = Math.max(0, t), e < 0) e = 0, t = 0; else {
var n = this.doc.getLength();
e >= n ? (e = n - 1, t = this.doc.getLine(n - 1).length) : t = Math.min(this.doc.getLine(e).length, t);
}
return {
row: e,
column: t
};
}, this.$clipRangeToDocument = function(e) {
e.start.row < 0 ? (e.start.row = 0, e.start.column = 0) : e.start.column = this.$clipColumnToRow(e.start.row, e.start.column);
var t = this.doc.getLength() - 1;
return e.end.row > t ? (e.end.row = t, e.end.column = this.doc.getLine(t).length) : e.end.column = this.$clipColumnToRow(e.end.row, e.end.column), e;
}, this.$wrapLimit = 80, this.$useWrapMode = !1, this.$wrapLimitRange = {
min: null,
max: null
}, this.setUseWrapMode = function(e) {
if (e != this.$useWrapMode) {
if (this.$useWrapMode = e, this.$modified = !0, this.$resetRowCache(0), e) {
var t = this.getLength();
this.$wrapData = Array(t), this.$updateWrapData(0, t - 1);
}
this._signal("changeWrapMode");
}
}, this.getUseWrapMode = function() {
return this.$useWrapMode;
}, this.setWrapLimitRange = function(e, t) {
this.$wrapLimitRange.min === e && this.$wrapLimitRange.max === t || (this.$wrapLimitRange = {
min: e,
max: t
}, this.$modified = !0, this.$bidiHandler.markAsDirty(), this.$useWrapMode && this._signal("changeWrapMode"));
}, this.adjustWrapLimit = function(e, t) {
var n = this.$wrapLimitRange;
n.max < 0 && (n = {
min: t,
max: t
});
var i = this.$constrainWrapLimit(e, n.min, n.max);
return i != this.$wrapLimit && i > 1 && (this.$wrapLimit = i, this.$modified = !0, this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1), this.$resetRowCache(0), this._signal("changeWrapLimit")), !0);
}, this.$constrainWrapLimit = function(e, t, n) {
return t && (e = Math.max(t, e)), n && (e = Math.min(n, e)), e;
}, this.getWrapLimit = function() {
return this.$wrapLimit;
}, this.setWrapLimit = function(e) {
this.setWrapLimitRange(e, e);
}, this.getWrapLimitRange = function() {
return {
min: this.$wrapLimitRange.min,
max: this.$wrapLimitRange.max
};
}, this.$updateInternalDataOnChange = function(e) {
var t = this.$useWrapMode, n = e.action, i = e.start, r = e.end, o = i.row, a = r.row, s = a - o, l = null;
if (this.$updating = !0, 0 != s) if ("remove" === n) {
this[t ? "$wrapData" : "$rowLengthCache"].splice(o, s);
h = this.$foldData;
l = this.getFoldsInRange(e), this.removeFolds(l);
f = 0;
if (g = this.getFoldLine(r.row)) {
g.addRemoveChars(r.row, r.column, i.column - r.column), g.shiftRow(-s);
var c = this.getFoldLine(o);
c && c !== g && (c.merge(g), g = c), f = h.indexOf(g) + 1;
}
for (f; f < h.length; f++) (g = h[f]).start.row >= r.row && g.shiftRow(-s);
a = o;
} else {
var u = Array(s);
u.unshift(o, 0);
var d = t ? this.$wrapData : this.$rowLengthCache;
d.splice.apply(d, u);
var h = this.$foldData, f = 0;
if (g = this.getFoldLine(o)) {
var p = g.range.compareInside(i.row, i.column);
0 == p ? (g = g.split(i.row, i.column)) && (g.shiftRow(s), g.addRemoveChars(a, 0, r.column - i.column)) : -1 == p && (g.addRemoveChars(o, 0, r.column - i.column), g.shiftRow(s)), f = h.indexOf(g) + 1;
}
for (f; f < h.length; f++) (g = h[f]).start.row >= o && g.shiftRow(s);
} else {
s = Math.abs(e.start.column - e.end.column), "remove" === n && (l = this.getFoldsInRange(e), this.removeFolds(l), s = -s);
var g = this.getFoldLine(o);
g && g.addRemoveChars(o, i.column, s);
}
return t && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"), this.$updating = !1, t ? this.$updateWrapData(o, a) : this.$updateRowLengthCache(o, a), l;
}, this.$updateRowLengthCache = function(e, t, n) {
this.$rowLengthCache[e] = null, this.$rowLengthCache[t] = null;
}, this.$updateWrapData = function(e, i) {
var r, o, a = this.doc.getAllLines(), s = this.getTabSize(), l = this.$wrapData, c = this.$wrapLimit, u = e;
for (i = Math.min(i, a.length - 1); u <= i; ) (o = this.getFoldLine(u, o)) ? (r = [], o.walk(function(e, i, o, s) {
var l;
if (null != e) {
(l = this.$getDisplayTokens(e, r.length))[0] = t;
for (var c = 1; c < l.length; c++) l[c] = n;
} else l = this.$getDisplayTokens(a[i].substring(s, o), r.length);
r = r.concat(l);
}.bind(this), o.end.row, a[o.end.row].length + 1), l[o.start.row] = this.$computeWrapSplits(r, c, s), u = o.end.row + 1) : (r = this.$getDisplayTokens(a[u]), l[u] = this.$computeWrapSplits(r, c, s), u++);
};
var t = 3, n = 4, o = 10, l = 11, d = 12;
this.$computeWrapSplits = function(e, i, r) {
function a() {
var t = 0;
if (0 === m) return t;
if (g) for (var n = 0; n < e.length; n++) {
var i = e[n];
if (i == o) t += 1; else {
if (i != l) {
if (i == d) continue;
break;
}
t += r;
}
}
return p && !1 !== g && (t += r), Math.min(t, m);
}
function s(t) {
var n = e.slice(h, t), i = n.length;
n.join("").replace(/12/g, function() {
i -= 1;
}).replace(/2/g, function() {
i -= 1;
}), c.length || (v = a(), c.indent = v), f += i, c.push(f), h = t;
}
if (0 == e.length) return [];
for (var c = [], u = e.length, h = 0, f = 0, p = this.$wrapAsCode, g = this.$indentedSoftWrap, m = i <= Math.max(2 * r, 8) || !1 === g ? 0 : Math.floor(i / 2), v = 0; u - h > i - v; ) {
var y = h + i - v;
if (e[y - 1] >= o && e[y] >= o) s(y); else if (e[y] != t && e[y] != n) {
for (var b = Math.max(y - (i - (i >> 2)), h - 1); y > b && e[y] < t; ) y--;
if (p) {
for (;y > b && e[y] < t; ) y--;
for (;y > b && 9 == e[y]; ) y--;
} else for (;y > b && e[y] < o; ) y--;
y > b ? s(++y) : (2 == e[y = h + i] && y--, s(y - v));
} else {
for (y; y != h - 1 && e[y] != t; y--) ;
if (y > h) {
s(y);
continue;
}
for (y = h + i; y < e.length && e[y] == n; y++) ;
if (y == e.length) break;
s(y);
}
}
return c;
}, this.$getDisplayTokens = function(t, n) {
var i, r = [];
n = n || 0;
for (var a = 0; a < t.length; a++) {
var s = t.charCodeAt(a);
if (9 == s) {
i = this.getScreenTabSize(r.length + n), r.push(l);
for (var c = 1; c < i; c++) r.push(d);
} else 32 == s ? r.push(o) : s > 39 && s < 48 || s > 57 && s < 64 ? r.push(9) : s >= 4352 && e(s) ? r.push(1, 2) : r.push(1);
}
return r;
}, this.$getStringScreenWidth = function(t, n, i) {
if (0 == n) return [ 0, 0 ];
null == n && (n = 1 / 0), i = i || 0;
var r, o;
for (o = 0; o < t.length && (9 == (r = t.charCodeAt(o)) ? i += this.getScreenTabSize(i) : r >= 4352 && e(r) ? i += 2 : i += 1, !(i > n)); o++) ;
return [ i, o ];
}, this.lineWidgets = null, this.getRowLength = function(e) {
if (this.lineWidgets) var t = this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0; else t = 0;
return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t;
}, this.getRowLineCount = function(e) {
return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 : 1;
}, this.getRowWrapIndent = function(e) {
if (this.$useWrapMode) {
var t = this.screenToDocumentPosition(e, Number.MAX_VALUE), n = this.$wrapData[t.row];
return n.length && n[0] < t.column ? n.indent : 0;
}
return 0;
}, this.getScreenLastRowColumn = function(e) {
var t = this.screenToDocumentPosition(e, Number.MAX_VALUE);
return this.documentToScreenColumn(t.row, t.column);
}, this.getDocumentLastRowColumn = function(e, t) {
var n = this.documentToScreenRow(e, t);
return this.getScreenLastRowColumn(n);
}, this.getDocumentLastRowColumnPosition = function(e, t) {
var n = this.documentToScreenRow(e, t);
return this.screenToDocumentPosition(n, Number.MAX_VALUE / 10);
}, this.getRowSplitData = function(e) {
return this.$useWrapMode ? this.$wrapData[e] : void 0;
}, this.getScreenTabSize = function(e) {
return this.$tabSize - e % this.$tabSize;
}, this.screenToDocumentRow = function(e, t) {
return this.screenToDocumentPosition(e, t).row;
}, this.screenToDocumentColumn = function(e, t) {
return this.screenToDocumentPosition(e, t).column;
}, this.screenToDocumentPosition = function(e, t, n) {
if (e < 0) return {
row: 0,
column: 0
};
var i, r, o = 0, a = 0, s = 0, l = 0, c = this.$screenRowCache, u = this.$getRowCacheIndex(c, e), d = c.length;
if (d && u >= 0) var s = c[u], o = this.$docRowCache[u], h = e > c[d - 1]; else h = !d;
for (var f = this.getLength() - 1, p = this.getNextFoldLine(o), g = p ? p.start.row : 1 / 0; s <= e && (l = this.getRowLength(o), !(s + l > e || o >= f)); ) s += l, ++o > g && (o = p.end.row + 1, p = this.getNextFoldLine(o, p), g = p ? p.start.row : 1 / 0), h && (this.$docRowCache.push(o), this.$screenRowCache.push(s));
if (p && p.start.row <= o) i = this.getFoldDisplayLine(p), o = p.start.row; else {
if (s + l <= e || o > f) return {
row: f,
column: this.getLine(f).length
};
i = this.getLine(o), p = null;
}
var m = 0, v = Math.floor(e - s);
if (this.$useWrapMode) {
var y = this.$wrapData[o];
y && (r = y[v], v > 0 && y.length && (m = y.indent, a = y[v - 1] || y[y.length - 1], i = i.substring(a)));
}
return void 0 !== n && this.$bidiHandler.isBidiRow(s + v, o, v) && (t = this.$bidiHandler.offsetToCol(n)), a += this.$getStringScreenWidth(i, t - m)[1], this.$useWrapMode && a >= r && (a = r - 1), p ? p.idxToPosition(a) : {
row: o,
column: a
};
}, this.documentToScreenPosition = function(e, t) {
if (void 0 === t) var n = this.$clipPositionToDocument(e.row, e.column); else n = this.$clipPositionToDocument(e, t);
e = n.row, t = n.column;
var i = 0, r = null, o = null;
(o = this.getFoldAt(e, t, 1)) && (e = o.start.row, t = o.start.column);
var a, s = 0, l = this.$docRowCache, c = this.$getRowCacheIndex(l, e), u = l.length;
if (u && c >= 0) var s = l[c], i = this.$screenRowCache[c], d = e > l[u - 1]; else d = !u;
for (var h = this.getNextFoldLine(s), f = h ? h.start.row : 1 / 0; s < e; ) {
if (s >= f) {
if ((a = h.end.row + 1) > e) break;
f = (h = this.getNextFoldLine(a, h)) ? h.start.row : 1 / 0;
} else a = s + 1;
i += this.getRowLength(s), s = a, d && (this.$docRowCache.push(s), this.$screenRowCache.push(i));
}
var p = "";
h && s >= f ? (p = this.getFoldDisplayLine(h, e, t), r = h.start.row) : (p = this.getLine(e).substring(0, t), r = e);
var g = 0;
if (this.$useWrapMode) {
var m = this.$wrapData[r];
if (m) {
for (var v = 0; p.length >= m[v]; ) i++, v++;
p = p.substring(m[v - 1] || 0, p.length), g = v > 0 ? m.indent : 0;
}
}
return {
row: i,
column: g + this.$getStringScreenWidth(p)[0]
};
}, this.documentToScreenColumn = function(e, t) {
return this.documentToScreenPosition(e, t).column;
}, this.documentToScreenRow = function(e, t) {
return this.documentToScreenPosition(e, t).row;
}, this.getScreenLength = function() {
var e = 0, t = null;
if (this.$useWrapMode) for (var n = this.$wrapData.length, i = 0, r = 0, o = (t = this.$foldData[r++]) ? t.start.row : 1 / 0; i < n; ) {
var a = this.$wrapData[i];
e += a ? a.length + 1 : 1, ++i > o && (i = t.end.row + 1, t = this.$foldData[r++], o = t ? t.start.row : 1 / 0);
} else {
e = this.getLength();
for (var s = this.$foldData, r = 0; r < s.length; r++) t = s[r], e -= t.end.row - t.start.row;
}
return this.lineWidgets && (e += this.$getWidgetScreenLength()), e;
}, this.$setFontMetrics = function(e) {
this.$enableVarChar && (this.$getStringScreenWidth = function(t, n, i) {
if (0 === n) return [ 0, 0 ];
n || (n = 1 / 0), i = i || 0;
var r, o;
for (o = 0; o < t.length && (r = t.charAt(o), !((i += "\t" === r ? this.getScreenTabSize(i) : e.getCharacterWidth(r)) > n)); o++) ;
return [ i, o ];
});
}, this.destroy = function() {
this.bgTokenizer && (this.bgTokenizer.setDocument(null), this.bgTokenizer = null), this.$stopWorker();
}, this.isFullWidth = e;
}.call(p.prototype), e("./edit_session/folding").Folding.call(p.prototype), e("./edit_session/bracket_match").BracketMatch.call(p.prototype), a.defineOptions(p.prototype, "session", {
wrap: {
set: function(e) {
if (e && "off" != e ? "free" == e ? e = !0 : "printMargin" == e ? e = -1 : "string" == typeof e && (e = parseInt(e, 10) || !1) : e = !1, this.$wrap != e) if (this.$wrap = e, e) {
var t = "number" == typeof e ? e : null;
this.setWrapLimitRange(t, t), this.setUseWrapMode(!0);
} else this.setUseWrapMode(!1);
},
get: function() {
return this.getUseWrapMode() ? -1 == this.$wrap ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off";
},
handlesSet: !0
},
wrapMethod: {
set: function(e) {
(e = "auto" == e ? "text" != this.$mode.type : "text" != e) != this.$wrapAsCode && (this.$wrapAsCode = e, this.$useWrapMode && (this.$modified = !0, this.$resetRowCache(0), this.$updateWrapData(0, this.getLength() - 1)));
},
initialValue: "auto"
},
indentedSoftWrap: {
initialValue: !0
},
firstLineNumber: {
set: function() {
this._signal("changeBreakpoint");
},
initialValue: 1
},
useWorker: {
set: function(e) {
this.$useWorker = e, this.$stopWorker(), e && this.$startWorker();
},
initialValue: !0
},
useSoftTabs: {
initialValue: !0
},
tabSize: {
set: function(e) {
isNaN(e) || this.$tabSize === e || (this.$modified = !0, this.$rowLengthCache = [], this.$tabSize = e, this._signal("changeTabSize"));
},
initialValue: 4,
handlesSet: !0
},
navigateWithinSoftTabs: {
initialValue: !1
},
overwrite: {
set: function(e) {
this._signal("changeOverwrite");
},
initialValue: !1
},
newLineMode: {
set: function(e) {
this.doc.setNewLineMode(e);
},
get: function() {
return this.doc.getNewLineMode();
},
handlesSet: !0
},
mode: {
set: function(e) {
this.setMode(e);
},
get: function() {
return this.$modeId;
}
}
}), t.EditSession = p;
}), ace.define("ace/search", [ "require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range" ], function(e, t, n) {
"use strict";
function i(e, t) {
function n(e) {
return /\w/.test(e) || t.regExp ? "\\b" : "";
}
return n(e[0]) + e + n(e[e.length - 1]);
}
var r = e("./lib/lang"), o = e("./lib/oop"), a = e("./range").Range, s = function() {
this.$options = {};
};
(function() {
this.set = function(e) {
return o.mixin(this.$options, e), this;
}, this.getOptions = function() {
return r.copyObject(this.$options);
}, this.setOptions = function(e) {
this.$options = e;
}, this.find = function(e) {
var t = this.$options, n = this.$matchIterator(e, t);
if (!n) return !1;
var i = null;
return n.forEach(function(e, n, r, o) {
return i = new a(e, n, r, o), !(n == o && t.start && t.start.start && 0 != t.skipCurrent && i.isEqual(t.start)) || (i = null, !1);
}), i;
}, this.findAll = function(e) {
var t = this.$options;
if (!t.needle) return [];
this.$assembleRegExp(t);
var n = t.range, i = n ? e.getLines(n.start.row, n.end.row) : e.doc.getAllLines(), o = [], s = t.re;
if (t.$isMultiLine) {
var l, c = s.length, u = i.length - c;
e: for (var d = s.offset || 0; d <= u; d++) {
for (v = 0; v < c; v++) if (-1 == i[d + v].search(s[v])) continue e;
var h = i[d], f = i[d + c - 1], p = h.length - h.match(s[0])[0].length, g = f.match(s[c - 1])[0].length;
l && l.end.row === d && l.end.column > p || (o.push(l = new a(d, p, d + c - 1, g)), c > 2 && (d = d + c - 2));
}
} else for (w = 0; w < i.length; w++) for (var m = r.getMatchOffsets(i[w], s), v = 0; v < m.length; v++) {
var y = m[v];
o.push(new a(w, y.offset, w, y.offset + y.length));
}
if (n) {
for (var b = n.start.column, _ = n.start.column, w = 0, v = o.length - 1; w < v && o[w].start.column < b && o[w].start.row == n.start.row; ) w++;
for (;w < v && o[v].end.column > _ && o[v].end.row == n.end.row; ) v--;
for (o = o.slice(w, v + 1), w = 0, v = o.length; w < v; w++) o[w].start.row += n.start.row, o[w].end.row += n.start.row;
}
return o;
}, this.replace = function(e, t) {
var n = this.$options, i = this.$assembleRegExp(n);
if (n.$isMultiLine) return t;
if (i) {
var r = i.exec(e);
if (!r || r[0].length != e.length) return null;
if (t = e.replace(i, t), n.preserveCase) {
t = t.split("");
for (var o = Math.min(e.length, e.length); o--; ) {
var a = e[o];
a && a.toLowerCase() != a ? t[o] = t[o].toUpperCase() : t[o] = t[o].toLowerCase();
}
t = t.join("");
}
return t;
}
}, this.$assembleRegExp = function(e, t) {
if (e.needle instanceof RegExp) return e.re = e.needle;
var n = e.needle;
if (!e.needle) return e.re = !1;
e.regExp || (n = r.escapeRegExp(n)), e.wholeWord && (n = i(n, e));
var o = e.caseSensitive ? "gm" : "gmi";
if (e.$isMultiLine = !t && /[\n\r]/.test(n), e.$isMultiLine) return e.re = this.$assembleMultilineRegExp(n, o);
try {
var a = new RegExp(n, o);
} catch (e) {
a = !1;
}
return e.re = a;
}, this.$assembleMultilineRegExp = function(e, t) {
for (var n = e.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), i = [], r = 0; r < n.length; r++) try {
i.push(new RegExp(n[r], t));
} catch (e) {
return !1;
}
return i;
}, this.$matchIterator = function(e, t) {
var n = this.$assembleRegExp(t);
if (!n) return !1;
var i = 1 == t.backwards, r = 0 != t.skipCurrent, o = t.range, a = t.start;
a || (a = o ? o[i ? "end" : "start"] : e.selection.getRange()), a.start && (a = a[r != i ? "end" : "start"]);
var s = o ? o.start.row : 0, l = o ? o.end.row : e.getLength() - 1;
if (i) c = function(e) {
var n = a.row;
if (!d(n, a.column, e)) {
for (n--; n >= s; n--) if (d(n, Number.MAX_VALUE, e)) return;
if (0 != t.wrap) for (n = l, s = a.row; n >= s; n--) if (d(n, Number.MAX_VALUE, e)) return;
}
}; else var c = function(e) {
var n = a.row;
if (!d(n, a.column, e)) {
for (n += 1; n <= l; n++) if (d(n, 0, e)) return;
if (0 != t.wrap) for (n = s, l = a.row; n <= l; n++) if (d(n, 0, e)) return;
}
};
if (t.$isMultiLine) var u = n.length, d = function(t, r, o) {
var a = i ? t - u + 1 : t;
if (!(a < 0)) {
var s = e.getLine(a), l = s.search(n[0]);
if (!(!i && l < r || -1 === l)) {
for (var c = 1; c < u; c++) if (-1 == (s = e.getLine(a + c)).search(n[c])) return;
var d = s.match(n[u - 1])[0].length;
if (!(i && d > r)) return !!o(a, l, a + u - 1, d) || void 0;
}
}
}; else if (i) d = function(t, i, r) {
var o, a = e.getLine(t), s = [], l = 0;
for (n.lastIndex = 0; o = n.exec(a); ) {
var c = o[0].length;
if (l = o.index, !c) {
if (l >= a.length) break;
n.lastIndex = l += 1;
}
if (o.index + c > i) break;
s.push(o.index, c);
}
for (var u = s.length - 1; u >= 0; u -= 2) {
var d = s[u - 1];
if (r(t, d, t, d + (c = s[u]))) return !0;
}
}; else d = function(t, i, r) {
var o, a = e.getLine(t), s = i;
for (n.lastIndex = i; o = n.exec(a); ) {
var l = o[0].length;
if (s = o.index, r(t, s, t, s + l)) return !0;
if (!l && (n.lastIndex = s += 1, s >= a.length)) return !1;
}
};
return {
forEach: c
};
};
}).call(s.prototype), t.Search = s;
}), ace.define("ace/keyboard/hash_handler", [ "require", "exports", "module", "ace/lib/keys", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e, t) {
this.platform = t || (a.isMac ? "mac" : "win"), this.commands = {}, this.commandKeyBinding = {}, this.addCommands(e), this.$singleCommand = !0;
}
function r(e, t) {
i.call(this, e, t), this.$singleCommand = !1;
}
var o = e("../lib/keys"), a = e("../lib/useragent"), s = o.KEY_MODS;
r.prototype = i.prototype, function() {
function e(e) {
return "object" == typeof e && e.bindKey && e.bindKey.position || (e.isDefault ? -100 : 0);
}
this.addCommand = function(e) {
this.commands[e.name] && this.removeCommand(e), this.commands[e.name] = e, e.bindKey && this._buildKeyHash(e);
}, this.removeCommand = function(e, t) {
var n = e && ("string" == typeof e ? e : e.name);
e = this.commands[n], t || delete this.commands[n];
var i = this.commandKeyBinding;
for (var r in i) {
var o = i[r];
if (o == e) delete i[r]; else if (Array.isArray(o)) {
var a = o.indexOf(e);
-1 != a && (o.splice(a, 1), 1 == o.length && (i[r] = o[0]));
}
}
}, this.bindKey = function(e, t, n) {
if ("object" == typeof e && e && (void 0 == n && (n = e.position), e = e[this.platform]), e) return "function" == typeof t ? this.addCommand({
exec: t,
bindKey: e,
name: t.name || e
}) : void e.split("|").forEach(function(e) {
var i = "";
if (-1 != e.indexOf(" ")) {
var r = e.split(/\s+/);
e = r.pop(), r.forEach(function(e) {
var t = this.parseKeys(e), n = s[t.hashId] + t.key;
i += (i ? " " : "") + n, this._addCommandToBinding(i, "chainKeys");
}, this), i += " ";
}
var o = this.parseKeys(e), a = s[o.hashId] + o.key;
this._addCommandToBinding(i + a, t, n);
}, this);
}, this._addCommandToBinding = function(t, n, i) {
var r, o = this.commandKeyBinding;
if (n) if (!o[t] || this.$singleCommand) o[t] = n; else {
Array.isArray(o[t]) ? -1 != (r = o[t].indexOf(n)) && o[t].splice(r, 1) : o[t] = [ o[t] ], "number" != typeof i && (i = e(n));
var a = o[t];
for (r = 0; r < a.length && !(e(a[r]) > i); r++) ;
a.splice(r, 0, n);
} else delete o[t];
}, this.addCommands = function(e) {
e && Object.keys(e).forEach(function(t) {
var n = e[t];
if (n) {
if ("string" == typeof n) return this.bindKey(n, t);
"function" == typeof n && (n = {
exec: n
}), "object" == typeof n && (n.name || (n.name = t), this.addCommand(n));
}
}, this);
}, this.removeCommands = function(e) {
Object.keys(e).forEach(function(t) {
this.removeCommand(e[t]);
}, this);
}, this.bindKeys = function(e) {
Object.keys(e).forEach(function(t) {
this.bindKey(t, e[t]);
}, this);
}, this._buildKeyHash = function(e) {
this.bindKey(e.bindKey, e);
}, this.parseKeys = function(e) {
var t = e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e) {
return e;
}), n = t.pop(), i = o[n];
if (o.FUNCTION_KEYS[i]) n = o.FUNCTION_KEYS[i].toLowerCase(); else {
if (!t.length) return {
key: n,
hashId: -1
};
if (1 == t.length && "shift" == t[0]) return {
key: n.toUpperCase(),
hashId: -1
};
}
for (var r = 0, a = t.length; a--; ) {
var s = o.KEY_MODS[t[a]];
if (null == s) return "undefined" != typeof console && console.error("invalid modifier " + t[a] + " in " + e), !1;
r |= s;
}
return {
key: n,
hashId: r
};
}, this.findKeyCommand = function(e, t) {
var n = s[e] + t;
return this.commandKeyBinding[n];
}, this.handleKeyboard = function(e, t, n, i) {
if (!(i < 0)) {
var r = s[t] + n, o = this.commandKeyBinding[r];
return e.$keyChain && (e.$keyChain += " " + r, o = this.commandKeyBinding[e.$keyChain] || o), !o || "chainKeys" != o && "chainKeys" != o[o.length - 1] ? (e.$keyChain && (t && 4 != t || 1 != n.length ? (-1 == t || i > 0) && (e.$keyChain = "") : e.$keyChain = e.$keyChain.slice(0, -r.length - 1)), {
command: o
}) : (e.$keyChain = e.$keyChain || r, {
command: "null"
});
}
}, this.getStatusText = function(e, t) {
return t.$keyChain || "";
};
}.call(i.prototype), t.HashHandler = i, t.MultiHashHandler = r;
}), ace.define("ace/commands/command_manager", [ "require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("../keyboard/hash_handler").MultiHashHandler, o = e("../lib/event_emitter").EventEmitter, a = function(e, t) {
r.call(this, t, e), this.byName = this.commands, this.setDefaultHandler("exec", function(e) {
return e.command.exec(e.editor, e.args || {});
});
};
i.inherits(a, r), function() {
i.implement(this, o), this.exec = function(e, t, n) {
if (Array.isArray(e)) {
for (var i = e.length; i--; ) if (this.exec(e[i], t, n)) return !0;
return !1;
}
if ("string" == typeof e && (e = this.commands[e]), !e) return !1;
if (t && t.$readOnly && !e.readOnly) return !1;
if (e.isAvailable && !e.isAvailable(t)) return !1;
var r = {
editor: t,
command: e,
args: n
};
return r.returnValue = this._emit("exec", r), this._signal("afterExec", r), !1 !== r.returnValue;
}, this.toggleRecording = function(e) {
if (!this.$inReplay) return e && e._emit("changeStatus"), this.recording ? (this.macro.pop(), this.removeEventListener("exec", this.$addCommandToMacro), this.macro.length || (this.macro = this.oldMacro), this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = function(e) {
this.macro.push([ e.command, e.args ]);
}.bind(this)), this.oldMacro = this.macro, this.macro = [], this.on("exec", this.$addCommandToMacro), this.recording = !0);
}, this.replay = function(e) {
if (!this.$inReplay && this.macro) {
if (this.recording) return this.toggleRecording(e);
try {
this.$inReplay = !0, this.macro.forEach(function(t) {
"string" == typeof t ? this.exec(t, e) : this.exec(t[0], e, t[1]);
}, this);
} finally {
this.$inReplay = !1;
}
}
}, this.trimMacro = function(e) {
return e.map(function(e) {
return "string" != typeof e[0] && (e[0] = e[0].name), e[1] || (e = e[0]), e;
});
};
}.call(a.prototype), t.CommandManager = a;
}), ace.define("ace/commands/default_commands", [ "require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range" ], function(e, t, n) {
"use strict";
function i(e, t) {
return {
win: e,
mac: t
};
}
var r = e("../lib/lang"), o = e("../config"), a = e("../range").Range;
t.commands = [ {
name: "showSettingsMenu",
bindKey: i("Ctrl-,", "Command-,"),
exec: function(e) {
o.loadModule("ace/ext/settings_menu", function(t) {
t.init(e), e.showSettingsMenu();
});
},
readOnly: !0
}, {
name: "goToNextError",
bindKey: i("Alt-E", "F4"),
exec: function(e) {
o.loadModule("ace/ext/error_marker", function(t) {
t.showErrorMarker(e, 1);
});
},
scrollIntoView: "animate",
readOnly: !0
}, {
name: "goToPreviousError",
bindKey: i("Alt-Shift-E", "Shift-F4"),
exec: function(e) {
o.loadModule("ace/ext/error_marker", function(t) {
t.showErrorMarker(e, -1);
});
},
scrollIntoView: "animate",
readOnly: !0
}, {
name: "selectall",
bindKey: i("Ctrl-A", "Command-A"),
exec: function(e) {
e.selectAll();
},
readOnly: !0
}, {
name: "centerselection",
bindKey: i(null, "Ctrl-L"),
exec: function(e) {
e.centerSelection();
},
readOnly: !0
}, {
name: "gotoline",
bindKey: i("Ctrl-L", "Command-L"),
exec: function(e) {
var t = parseInt(prompt("Enter line number:"), 10);
isNaN(t) || e.gotoLine(t);
},
readOnly: !0
}, {
name: "fold",
bindKey: i("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
exec: function(e) {
e.session.toggleFold(!1);
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "unfold",
bindKey: i("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
exec: function(e) {
e.session.toggleFold(!0);
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "toggleFoldWidget",
bindKey: i("F2", "F2"),
exec: function(e) {
e.session.toggleFoldWidget();
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "toggleParentFoldWidget",
bindKey: i("Alt-F2", "Alt-F2"),
exec: function(e) {
e.session.toggleFoldWidget(!0);
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "foldall",
bindKey: i(null, "Ctrl-Command-Option-0"),
exec: function(e) {
e.session.foldAll();
},
scrollIntoView: "center",
readOnly: !0
}, {
name: "foldOther",
bindKey: i("Alt-0", "Command-Option-0"),
exec: function(e) {
e.session.foldAll(), e.session.unfold(e.selection.getAllRanges());
},
scrollIntoView: "center",
readOnly: !0
}, {
name: "unfoldall",
bindKey: i("Alt-Shift-0", "Command-Option-Shift-0"),
exec: function(e) {
e.session.unfold();
},
scrollIntoView: "center",
readOnly: !0
}, {
name: "findnext",
bindKey: i("Ctrl-K", "Command-G"),
exec: function(e) {
e.findNext();
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "findprevious",
bindKey: i("Ctrl-Shift-K", "Command-Shift-G"),
exec: function(e) {
e.findPrevious();
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "selectOrFindNext",
bindKey: i("Alt-K", "Ctrl-G"),
exec: function(e) {
e.selection.isEmpty() ? e.selection.selectWord() : e.findNext();
},
readOnly: !0
}, {
name: "selectOrFindPrevious",
bindKey: i("Alt-Shift-K", "Ctrl-Shift-G"),
exec: function(e) {
e.selection.isEmpty() ? e.selection.selectWord() : e.findPrevious();
},
readOnly: !0
}, {
name: "find",
bindKey: i("Ctrl-F", "Command-F"),
exec: function(e) {
o.loadModule("ace/ext/searchbox", function(t) {
t.Search(e);
});
},
readOnly: !0
}, {
name: "overwrite",
bindKey: "Insert",
exec: function(e) {
e.toggleOverwrite();
},
readOnly: !0
}, {
name: "selecttostart",
bindKey: i("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
exec: function(e) {
e.getSelection().selectFileStart();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "gotostart",
bindKey: i("Ctrl-Home", "Command-Home|Command-Up"),
exec: function(e) {
e.navigateFileStart();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "selectup",
bindKey: i("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
exec: function(e) {
e.getSelection().selectUp();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "golineup",
bindKey: i("Up", "Up|Ctrl-P"),
exec: function(e, t) {
e.navigateUp(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selecttoend",
bindKey: i("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
exec: function(e) {
e.getSelection().selectFileEnd();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "gotoend",
bindKey: i("Ctrl-End", "Command-End|Command-Down"),
exec: function(e) {
e.navigateFileEnd();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "selectdown",
bindKey: i("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
exec: function(e) {
e.getSelection().selectDown();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "golinedown",
bindKey: i("Down", "Down|Ctrl-N"),
exec: function(e, t) {
e.navigateDown(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectwordleft",
bindKey: i("Ctrl-Shift-Left", "Option-Shift-Left"),
exec: function(e) {
e.getSelection().selectWordLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotowordleft",
bindKey: i("Ctrl-Left", "Option-Left"),
exec: function(e) {
e.navigateWordLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selecttolinestart",
bindKey: i("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
exec: function(e) {
e.getSelection().selectLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotolinestart",
bindKey: i("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
exec: function(e) {
e.navigateLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectleft",
bindKey: i("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
exec: function(e) {
e.getSelection().selectLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotoleft",
bindKey: i("Left", "Left|Ctrl-B"),
exec: function(e, t) {
e.navigateLeft(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectwordright",
bindKey: i("Ctrl-Shift-Right", "Option-Shift-Right"),
exec: function(e) {
e.getSelection().selectWordRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotowordright",
bindKey: i("Ctrl-Right", "Option-Right"),
exec: function(e) {
e.navigateWordRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selecttolineend",
bindKey: i("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
exec: function(e) {
e.getSelection().selectLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotolineend",
bindKey: i("Alt-Right|End", "Command-Right|End|Ctrl-E"),
exec: function(e) {
e.navigateLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectright",
bindKey: i("Shift-Right", "Shift-Right"),
exec: function(e) {
e.getSelection().selectRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotoright",
bindKey: i("Right", "Right|Ctrl-F"),
exec: function(e, t) {
e.navigateRight(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectpagedown",
bindKey: "Shift-PageDown",
exec: function(e) {
e.selectPageDown();
},
readOnly: !0
}, {
name: "pagedown",
bindKey: i(null, "Option-PageDown"),
exec: function(e) {
e.scrollPageDown();
},
readOnly: !0
}, {
name: "gotopagedown",
bindKey: i("PageDown", "PageDown|Ctrl-V"),
exec: function(e) {
e.gotoPageDown();
},
readOnly: !0
}, {
name: "selectpageup",
bindKey: "Shift-PageUp",
exec: function(e) {
e.selectPageUp();
},
readOnly: !0
}, {
name: "pageup",
bindKey: i(null, "Option-PageUp"),
exec: function(e) {
e.scrollPageUp();
},
readOnly: !0
}, {
name: "gotopageup",
bindKey: "PageUp",
exec: function(e) {
e.gotoPageUp();
},
readOnly: !0
}, {
name: "scrollup",
bindKey: i("Ctrl-Up", null),
exec: function(e) {
e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight);
},
readOnly: !0
}, {
name: "scrolldown",
bindKey: i("Ctrl-Down", null),
exec: function(e) {
e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight);
},
readOnly: !0
}, {
name: "selectlinestart",
bindKey: "Shift-Home",
exec: function(e) {
e.getSelection().selectLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectlineend",
bindKey: "Shift-End",
exec: function(e) {
e.getSelection().selectLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "togglerecording",
bindKey: i("Ctrl-Alt-E", "Command-Option-E"),
exec: function(e) {
e.commands.toggleRecording(e);
},
readOnly: !0
}, {
name: "replaymacro",
bindKey: i("Ctrl-Shift-E", "Command-Shift-E"),
exec: function(e) {
e.commands.replay(e);
},
readOnly: !0
}, {
name: "jumptomatching",
bindKey: i("Ctrl-P", "Ctrl-P"),
exec: function(e) {
e.jumpToMatching();
},
multiSelectAction: "forEach",
scrollIntoView: "animate",
readOnly: !0
}, {
name: "selecttomatching",
bindKey: i("Ctrl-Shift-P", "Ctrl-Shift-P"),
exec: function(e) {
e.jumpToMatching(!0);
},
multiSelectAction: "forEach",
scrollIntoView: "animate",
readOnly: !0
}, {
name: "expandToMatching",
bindKey: i("Ctrl-Shift-M", "Ctrl-Shift-M"),
exec: function(e) {
e.jumpToMatching(!0, !0);
},
multiSelectAction: "forEach",
scrollIntoView: "animate",
readOnly: !0
}, {
name: "passKeysToBrowser",
bindKey: i(null, null),
exec: function() {},
passEvent: !0,
readOnly: !0
}, {
name: "copy",
exec: function(e) {},
readOnly: !0
}, {
name: "cut",
exec: function(e) {
var t = e.getSelectionRange();
e._emit("cut", t), e.selection.isEmpty() || (e.session.remove(t), e.clearSelection());
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "paste",
exec: function(e, t) {
e.$handlePaste(t);
},
scrollIntoView: "cursor"
}, {
name: "removeline",
bindKey: i("Ctrl-D", "Command-D"),
exec: function(e) {
e.removeLines();
},
scrollIntoView: "cursor",
multiSelectAction: "forEachLine"
}, {
name: "duplicateSelection",
bindKey: i("Ctrl-Shift-D", "Command-Shift-D"),
exec: function(e) {
e.duplicateSelection();
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "sortlines",
bindKey: i("Ctrl-Alt-S", "Command-Alt-S"),
exec: function(e) {
e.sortLines();
},
scrollIntoView: "selection",
multiSelectAction: "forEachLine"
}, {
name: "togglecomment",
bindKey: i("Ctrl-/", "Command-/"),
exec: function(e) {
e.toggleCommentLines();
},
multiSelectAction: "forEachLine",
scrollIntoView: "selectionPart"
}, {
name: "toggleBlockComment",
bindKey: i("Ctrl-Shift-/", "Command-Shift-/"),
exec: function(e) {
e.toggleBlockComment();
},
multiSelectAction: "forEach",
scrollIntoView: "selectionPart"
}, {
name: "modifyNumberUp",
bindKey: i("Ctrl-Shift-Up", "Alt-Shift-Up"),
exec: function(e) {
e.modifyNumber(1);
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "modifyNumberDown",
bindKey: i("Ctrl-Shift-Down", "Alt-Shift-Down"),
exec: function(e) {
e.modifyNumber(-1);
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "replace",
bindKey: i("Ctrl-H", "Command-Option-F"),
exec: function(e) {
o.loadModule("ace/ext/searchbox", function(t) {
t.Search(e, !0);
});
}
}, {
name: "undo",
bindKey: i("Ctrl-Z", "Command-Z"),
exec: function(e) {
e.undo();
}
}, {
name: "redo",
bindKey: i("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
exec: function(e) {
e.redo();
}
}, {
name: "copylinesup",
bindKey: i("Alt-Shift-Up", "Command-Option-Up"),
exec: function(e) {
e.copyLinesUp();
},
scrollIntoView: "cursor"
}, {
name: "movelinesup",
bindKey: i("Alt-Up", "Option-Up"),
exec: function(e) {
e.moveLinesUp();
},
scrollIntoView: "cursor"
}, {
name: "copylinesdown",
bindKey: i("Alt-Shift-Down", "Command-Option-Down"),
exec: function(e) {
e.copyLinesDown();
},
scrollIntoView: "cursor"
}, {
name: "movelinesdown",
bindKey: i("Alt-Down", "Option-Down"),
exec: function(e) {
e.moveLinesDown();
},
scrollIntoView: "cursor"
}, {
name: "del",
bindKey: i("Delete", "Delete|Ctrl-D|Shift-Delete"),
exec: function(e) {
e.remove("right");
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "backspace",
bindKey: i("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec: function(e) {
e.remove("left");
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "cut_or_delete",
bindKey: i("Shift-Delete", null),
exec: function(e) {
if (!e.selection.isEmpty()) return !1;
e.remove("left");
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removetolinestart",
bindKey: i("Alt-Backspace", "Command-Backspace"),
exec: function(e) {
e.removeToLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removetolineend",
bindKey: i("Alt-Delete", "Ctrl-K|Command-Delete"),
exec: function(e) {
e.removeToLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removetolinestarthard",
bindKey: i("Ctrl-Shift-Backspace", null),
exec: function(e) {
var t = e.selection.getRange();
t.start.column = 0, e.session.remove(t);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removetolineendhard",
bindKey: i("Ctrl-Shift-Delete", null),
exec: function(e) {
var t = e.selection.getRange();
t.end.column = Number.MAX_VALUE, e.session.remove(t);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removewordleft",
bindKey: i("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
exec: function(e) {
e.removeWordLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removewordright",
bindKey: i("Ctrl-Delete", "Alt-Delete"),
exec: function(e) {
e.removeWordRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "outdent",
bindKey: i("Shift-Tab", "Shift-Tab"),
exec: function(e) {
e.blockOutdent();
},
multiSelectAction: "forEach",
scrollIntoView: "selectionPart"
}, {
name: "indent",
bindKey: i("Tab", "Tab"),
exec: function(e) {
e.indent();
},
multiSelectAction: "forEach",
scrollIntoView: "selectionPart"
}, {
name: "blockoutdent",
bindKey: i("Ctrl-[", "Ctrl-["),
exec: function(e) {
e.blockOutdent();
},
multiSelectAction: "forEachLine",
scrollIntoView: "selectionPart"
}, {
name: "blockindent",
bindKey: i("Ctrl-]", "Ctrl-]"),
exec: function(e) {
e.blockIndent();
},
multiSelectAction: "forEachLine",
scrollIntoView: "selectionPart"
}, {
name: "insertstring",
exec: function(e, t) {
e.insert(t);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "inserttext",
exec: function(e, t) {
e.insert(r.stringRepeat(t.text || "", t.times || 1));
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "splitline",
bindKey: i(null, "Ctrl-O"),
exec: function(e) {
e.splitLine();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "transposeletters",
bindKey: i("Alt-Shift-X", "Ctrl-T"),
exec: function(e) {
e.transposeLetters();
},
multiSelectAction: function(e) {
e.transposeSelections(1);
},
scrollIntoView: "cursor"
}, {
name: "touppercase",
bindKey: i("Ctrl-U", "Ctrl-U"),
exec: function(e) {
e.toUpperCase();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "tolowercase",
bindKey: i("Ctrl-Shift-U", "Ctrl-Shift-U"),
exec: function(e) {
e.toLowerCase();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "expandtoline",
bindKey: i("Ctrl-Shift-L", "Command-Shift-L"),
exec: function(e) {
var t = e.selection.getRange();
t.start.column = t.end.column = 0, t.end.row++, e.selection.setRange(t, !1);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "joinlines",
bindKey: i(null, null),
exec: function(e) {
for (var t = e.selection.isBackwards(), n = t ? e.selection.getSelectionLead() : e.selection.getSelectionAnchor(), i = t ? e.selection.getSelectionAnchor() : e.selection.getSelectionLead(), o = e.session.doc.getLine(n.row).length, s = e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/, " ").length, l = e.session.doc.getLine(n.row), c = n.row + 1; c <= i.row + 1; c++) {
var u = r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));
0 !== u.length && (u = " " + u), l += u;
}
i.row + 1 < e.session.doc.getLength() - 1 && (l += e.session.doc.getNewLineCharacter()), e.clearSelection(), e.session.doc.replace(new a(n.row, 0, i.row + 2, 0), l), s > 0 ? (e.selection.moveCursorTo(n.row, n.column), e.selection.selectTo(n.row, n.column + s)) : (o = e.session.doc.getLine(n.row).length > o ? o + 1 : o, e.selection.moveCursorTo(n.row, o));
},
multiSelectAction: "forEach",
readOnly: !0
}, {
name: "invertSelection",
bindKey: i(null, null),
exec: function(e) {
var t = e.session.doc.getLength() - 1, n = e.session.doc.getLine(t).length, i = e.selection.rangeList.ranges, r = [];
i.length < 1 && (i = [ e.selection.getRange() ]);
for (o = 0; o < i.length; o++) o == i.length - 1 && (i[o].end.row !== t || i[o].end.column !== n) && r.push(new a(i[o].end.row, i[o].end.column, t, n)), 0 === o ? (0 !== i[o].start.row || 0 !== i[o].start.column) && r.push(new a(0, 0, i[o].start.row, i[o].start.column)) : r.push(new a(i[o - 1].end.row, i[o - 1].end.column, i[o].start.row, i[o].start.column));
e.exitMultiSelectMode(), e.clearSelection();
for (var o = 0; o < r.length; o++) e.selection.addRange(r[o], !1);
},
readOnly: !0,
scrollIntoView: "none"
} ];
}), ace.define("ace/editor", [ "require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator" ], function(e, t, n) {
"use strict";
e("./lib/fixoldbrowsers");
var i = e("./lib/oop"), r = e("./lib/dom"), o = e("./lib/lang"), a = e("./lib/useragent"), s = e("./keyboard/textinput").TextInput, l = e("./mouse/mouse_handler").MouseHandler, c = e("./mouse/fold_handler").FoldHandler, u = e("./keyboard/keybinding").KeyBinding, d = e("./edit_session").EditSession, h = e("./search").Search, f = e("./range").Range, p = e("./lib/event_emitter").EventEmitter, g = e("./commands/command_manager").CommandManager, m = e("./commands/default_commands").commands, v = e("./config"), y = e("./token_iterator").TokenIterator, b = function(e, t) {
var n = e.getContainerElement();
this.container = n, this.renderer = e, this.id = "editor" + ++b.$uid, this.commands = new g(a.isMac ? "mac" : "win", m), "object" == typeof document && (this.textInput = new s(e.getTextAreaContainer(), this), this.renderer.textarea = this.textInput.getElement(), this.$mouseHandler = new l(this), new c(this)), this.keyBinding = new u(this), this.$blockScrolling = 0, this.$search = new h().set({
wrap: !0
}), this.$historyTracker = this.$historyTracker.bind(this), this.commands.on("exec", this.$historyTracker), this.$initOperationListeners(), this._$emitInputEvent = o.delayedCall(function() {
this._signal("input", {}), this.session && this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart();
}.bind(this)), this.on("change", function(e, t) {
t._$emitInputEvent.schedule(31);
}), this.setSession(t || new d("")), v.resetOptions(this), v._signal("editor", this);
};
b.$uid = 0, function() {
i.implement(this, p), this.$initOperationListeners = function() {
this.selections = [], this.commands.on("exec", this.startOperation.bind(this), !0), this.commands.on("afterExec", this.endOperation.bind(this), !0), this.$opResetTimer = o.delayedCall(this.endOperation.bind(this)), this.on("change", function() {
this.curOp || this.startOperation(), this.curOp.docChanged = !0;
}.bind(this), !0), this.on("changeSelection", function() {
this.curOp || this.startOperation(), this.curOp.selectionChanged = !0;
}.bind(this), !0);
}, this.curOp = null, this.prevOp = {}, this.startOperation = function(e) {
if (this.curOp) {
if (!e || this.curOp.command) return;
this.prevOp = this.curOp;
}
e || (this.previousCommand = null, e = {}), this.$opResetTimer.schedule(), this.curOp = {
command: e.command || {},
args: e.args,
scrollTop: this.renderer.scrollTop
}, this.curOp.command.name && void 0 !== this.curOp.command.scrollIntoView && this.$blockScrolling++;
}, this.endOperation = function(e) {
if (this.curOp) {
if (e && !1 === e.returnValue) return this.curOp = null;
this._signal("beforeEndOperation");
var t = this.curOp.command;
t.name && this.$blockScrolling > 0 && this.$blockScrolling--;
var n = t && t.scrollIntoView;
if (n) {
switch (n) {
case "center-animate":
n = "animate";

case "center":
this.renderer.scrollCursorIntoView(null, .5);
break;

case "animate":
case "cursor":
this.renderer.scrollCursorIntoView();
break;

case "selectionPart":
var i = this.selection.getRange(), r = this.renderer.layerConfig;
(i.start.row >= r.lastRow || i.end.row <= r.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
}
"animate" == n && this.renderer.animateScrolling(this.curOp.scrollTop);
}
this.prevOp = this.curOp, this.curOp = null;
}
}, this.$mergeableCommands = [ "backspace", "del", "insertstring" ], this.$historyTracker = function(e) {
if (this.$mergeUndoDeltas) {
var t = this.prevOp, n = this.$mergeableCommands, i = t.command && e.command.name == t.command.name;
if ("insertstring" == e.command.name) {
var r = e.args;
void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0), i = i && this.mergeNextCommand && (!/\s/.test(r) || /\s/.test(t.args)), this.mergeNextCommand = !0;
} else i = i && -1 !== n.indexOf(e.command.name);
"always" != this.$mergeUndoDeltas && Date.now() - this.sequenceStartTime > 2e3 && (i = !1), i ? this.session.mergeUndoDeltas = !0 : -1 !== n.indexOf(e.command.name) && (this.sequenceStartTime = Date.now());
}
}, this.setKeyboardHandler = function(e, t) {
if (e && "string" == typeof e) {
this.$keybindingId = e;
var n = this;
v.loadModule([ "keybinding", e ], function(i) {
n.$keybindingId == e && n.keyBinding.setKeyboardHandler(i && i.handler), t && t();
});
} else this.$keybindingId = null, this.keyBinding.setKeyboardHandler(e), t && t();
}, this.getKeyboardHandler = function() {
return this.keyBinding.getKeyboardHandler();
}, this.setSession = function(e) {
if (this.session != e) {
this.curOp && this.endOperation(), this.curOp = {};
var t = this.session;
if (t) {
this.session.off("change", this.$onDocumentChange), this.session.off("changeMode", this.$onChangeMode), this.session.off("tokenizerUpdate", this.$onTokenizerUpdate), this.session.off("changeTabSize", this.$onChangeTabSize), this.session.off("changeWrapLimit", this.$onChangeWrapLimit), this.session.off("changeWrapMode", this.$onChangeWrapMode), this.session.off("changeFold", this.$onChangeFold), this.session.off("changeFrontMarker", this.$onChangeFrontMarker), this.session.off("changeBackMarker", this.$onChangeBackMarker), this.session.off("changeBreakpoint", this.$onChangeBreakpoint), this.session.off("changeAnnotation", this.$onChangeAnnotation), this.session.off("changeOverwrite", this.$onCursorChange), this.session.off("changeScrollTop", this.$onScrollTopChange), this.session.off("changeScrollLeft", this.$onScrollLeftChange);
var n = this.session.getSelection();
n.off("changeCursor", this.$onCursorChange), n.off("changeSelection", this.$onSelectionChange);
}
this.session = e, e ? (this.$onDocumentChange = this.onDocumentChange.bind(this), e.on("change", this.$onDocumentChange), this.renderer.setSession(e), this.$onChangeMode = this.onChangeMode.bind(this), e.on("changeMode", this.$onChangeMode), this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this), e.on("tokenizerUpdate", this.$onTokenizerUpdate), this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer), e.on("changeTabSize", this.$onChangeTabSize), this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this), e.on("changeWrapLimit", this.$onChangeWrapLimit), this.$onChangeWrapMode = this.onChangeWrapMode.bind(this), e.on("changeWrapMode", this.$onChangeWrapMode), this.$onChangeFold = this.onChangeFold.bind(this), e.on("changeFold", this.$onChangeFold), this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this), this.session.on("changeFrontMarker", this.$onChangeFrontMarker), this.$onChangeBackMarker = this.onChangeBackMarker.bind(this), this.session.on("changeBackMarker", this.$onChangeBackMarker), 
this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this), this.session.on("changeBreakpoint", this.$onChangeBreakpoint), this.$onChangeAnnotation = this.onChangeAnnotation.bind(this), this.session.on("changeAnnotation", this.$onChangeAnnotation), this.$onCursorChange = this.onCursorChange.bind(this), this.session.on("changeOverwrite", this.$onCursorChange), this.$onScrollTopChange = this.onScrollTopChange.bind(this), this.session.on("changeScrollTop", this.$onScrollTopChange), this.$onScrollLeftChange = this.onScrollLeftChange.bind(this), this.session.on("changeScrollLeft", this.$onScrollLeftChange), this.selection = e.getSelection(), this.selection.on("changeCursor", this.$onCursorChange), this.$onSelectionChange = this.onSelectionChange.bind(this), this.selection.on("changeSelection", this.$onSelectionChange), this.onChangeMode(), this.$blockScrolling += 1, this.onCursorChange(), this.$blockScrolling -= 1, this.onScrollTopChange(), this.onScrollLeftChange(), this.onSelectionChange(), 
this.onChangeFrontMarker(), this.onChangeBackMarker(), this.onChangeBreakpoint(), this.onChangeAnnotation(), this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(), this.renderer.updateFull()) : (this.selection = null, this.renderer.setSession(e)), this._signal("changeSession", {
session: e,
oldSession: t
}), this.curOp = null, t && t._signal("changeEditor", {
oldEditor: this
}), e && e._signal("changeEditor", {
editor: this
}), e && e.bgTokenizer && e.bgTokenizer.scheduleStart();
}
}, this.getSession = function() {
return this.session;
}, this.setValue = function(e, t) {
return this.session.doc.setValue(e), t ? 1 == t ? this.navigateFileEnd() : -1 == t && this.navigateFileStart() : this.selectAll(), e;
}, this.getValue = function() {
return this.session.getValue();
}, this.getSelection = function() {
return this.selection;
}, this.resize = function(e) {
this.renderer.onResize(e);
}, this.setTheme = function(e, t) {
this.renderer.setTheme(e, t);
}, this.getTheme = function() {
return this.renderer.getTheme();
}, this.setStyle = function(e) {
this.renderer.setStyle(e);
}, this.unsetStyle = function(e) {
this.renderer.unsetStyle(e);
}, this.getFontSize = function() {
return this.getOption("fontSize") || r.computedStyle(this.container, "fontSize");
}, this.setFontSize = function(e) {
this.setOption("fontSize", e);
}, this.$highlightBrackets = function() {
if (this.session.$bracketHighlight && (this.session.removeMarker(this.session.$bracketHighlight), this.session.$bracketHighlight = null), !this.$highlightPending) {
var e = this;
this.$highlightPending = !0, setTimeout(function() {
e.$highlightPending = !1;
var t = e.session;
if (t && t.bgTokenizer) {
var n = t.findMatchingBracket(e.getCursorPosition());
if (n) i = new f(n.row, n.column, n.row, n.column + 1); else if (t.$mode.getMatching) var i = t.$mode.getMatching(e.session);
i && (t.$bracketHighlight = t.addMarker(i, "ace_bracket", "text"));
}
}, 50);
}
}, this.$highlightTags = function() {
if (!this.$highlightTagPending) {
var e = this;
this.$highlightTagPending = !0, setTimeout(function() {
e.$highlightTagPending = !1;
var t = e.session;
if (t && t.bgTokenizer) {
var n = e.getCursorPosition(), i = new y(e.session, n.row, n.column), r = i.getCurrentToken();
if (!r || !/\b(?:tag-open|tag-name)/.test(r.type)) return t.removeMarker(t.$tagHighlight), void (t.$tagHighlight = null);
if (-1 == r.type.indexOf("tag-open") || (r = i.stepForward())) {
var o = r.value, a = 0, s = i.stepBackward();
if ("<" == s.value) do {
s = r, (r = i.stepForward()) && r.value === o && -1 !== r.type.indexOf("tag-name") && ("<" === s.value ? a++ : "</" === s.value && a--);
} while (r && a >= 0); else {
do {
r = s, s = i.stepBackward(), r && r.value === o && -1 !== r.type.indexOf("tag-name") && ("<" === s.value ? a++ : "</" === s.value && a--);
} while (s && a <= 0);
i.stepForward();
}
if (!r) return t.removeMarker(t.$tagHighlight), void (t.$tagHighlight = null);
var l = i.getCurrentTokenRow(), c = i.getCurrentTokenColumn(), u = new f(l, c, l, c + r.value.length), d = t.$backMarkers[t.$tagHighlight];
t.$tagHighlight && void 0 != d && 0 !== u.compareRange(d.range) && (t.removeMarker(t.$tagHighlight), t.$tagHighlight = null), u && !t.$tagHighlight && (t.$tagHighlight = t.addMarker(u, "ace_bracket", "text"));
}
}
}, 50);
}
}, this.focus = function() {
var e = this;
setTimeout(function() {
e.textInput.focus();
}), this.textInput.focus();
}, this.isFocused = function() {
return this.textInput.isFocused();
}, this.blur = function() {
this.textInput.blur();
}, this.onFocus = function(e) {
this.$isFocused || (this.$isFocused = !0, this.renderer.showCursor(), this.renderer.visualizeFocus(), this._emit("focus", e));
}, this.onBlur = function(e) {
this.$isFocused && (this.$isFocused = !1, this.renderer.hideCursor(), this.renderer.visualizeBlur(), this._emit("blur", e));
}, this.$cursorChange = function() {
this.renderer.updateCursor();
}, this.onDocumentChange = function(e) {
var t = this.session.$useWrapMode, n = e.start.row == e.end.row ? e.end.row : 1 / 0;
this.renderer.updateLines(e.start.row, n, t), this._signal("change", e), this.$cursorChange(), this.$updateHighlightActiveLine();
}, this.onTokenizerUpdate = function(e) {
var t = e.data;
this.renderer.updateLines(t.first, t.last);
}, this.onScrollTopChange = function() {
this.renderer.scrollToY(this.session.getScrollTop());
}, this.onScrollLeftChange = function() {
this.renderer.scrollToX(this.session.getScrollLeft());
}, this.onCursorChange = function() {
this.$cursorChange(), this.$blockScrolling || (v.warn("Automatically scrolling cursor into view after selection change", "this will be disabled in the next version", "set editor.$blockScrolling = Infinity to disable this message"), this.renderer.scrollCursorIntoView()), this.$highlightBrackets(), this.$highlightTags(), this.$updateHighlightActiveLine(), this._signal("changeSelection");
}, this.$updateHighlightActiveLine = function() {
var e, t = this.getSession();
if (this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (e = this.getCursorPosition()), this.renderer.$maxLines && 1 === this.session.getLength() && !(this.renderer.$minLines > 1) && (e = !1)), t.$highlightLineMarker && !e) t.removeMarker(t.$highlightLineMarker.id), t.$highlightLineMarker = null; else if (!t.$highlightLineMarker && e) {
var n = new f(e.row, e.column, e.row, 1 / 0);
n.id = t.addMarker(n, "ace_active-line", "screenLine"), t.$highlightLineMarker = n;
} else e && (t.$highlightLineMarker.start.row = e.row, t.$highlightLineMarker.end.row = e.row, t.$highlightLineMarker.start.column = e.column, t._signal("changeBackMarker"));
}, this.onSelectionChange = function(e) {
var t = this.session;
if (t.$selectionMarker && t.removeMarker(t.$selectionMarker), t.$selectionMarker = null, this.selection.isEmpty()) this.$updateHighlightActiveLine(); else {
var n = this.selection.getRange(), i = this.getSelectionStyle();
t.$selectionMarker = t.addMarker(n, "ace_selection", i);
}
var r = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
this.session.highlight(r), this._signal("changeSelection");
}, this.$getSelectionHighLightRegexp = function() {
var e = this.session, t = this.getSelectionRange();
if (!t.isEmpty() && !t.isMultiLine()) {
var n = t.start.column - 1, i = t.end.column + 1, r = e.getLine(t.start.row), o = r.length, a = r.substring(Math.max(n, 0), Math.min(i, o));
if (!(n >= 0 && /^[\w\d]/.test(a) || i <= o && /[\w\d]$/.test(a)) && (a = r.substring(t.start.column, t.end.column), /^[\w\d]+$/.test(a))) return this.$search.$assembleRegExp({
wholeWord: !0,
caseSensitive: !0,
needle: a
});
}
}, this.onChangeFrontMarker = function() {
this.renderer.updateFrontMarkers();
}, this.onChangeBackMarker = function() {
this.renderer.updateBackMarkers();
}, this.onChangeBreakpoint = function() {
this.renderer.updateBreakpoints();
}, this.onChangeAnnotation = function() {
this.renderer.setAnnotations(this.session.getAnnotations());
}, this.onChangeMode = function(e) {
this.renderer.updateText(), this._emit("changeMode", e);
}, this.onChangeWrapLimit = function() {
this.renderer.updateFull();
}, this.onChangeWrapMode = function() {
this.renderer.onResize(!0);
}, this.onChangeFold = function() {
this.$updateHighlightActiveLine(), this.renderer.updateFull();
}, this.getSelectedText = function() {
return this.session.getTextRange(this.getSelectionRange());
}, this.getCopyText = function() {
var e = this.getSelectedText();
return this._signal("copy", e), e;
}, this.onCopy = function() {
this.commands.exec("copy", this);
}, this.onCut = function() {
this.commands.exec("cut", this);
}, this.onPaste = function(e, t) {
var n = {
text: e,
event: t
};
this.commands.exec("paste", this, n);
}, this.$handlePaste = function(e) {
"string" == typeof e && (e = {
text: e
}), this._signal("paste", e);
var t = e.text;
if (!this.inMultiSelectMode || this.inVirtualSelectionMode) this.insert(t); else {
var n = t.split(/\r\n|\r|\n/), i = this.selection.rangeList.ranges;
if (n.length > i.length || n.length < 2 || !n[1]) return this.commands.exec("insertstring", this, t);
for (var r = i.length; r--; ) {
var o = i[r];
o.isEmpty() || this.session.remove(o), this.session.insert(o.start, n[r]);
}
}
}, this.execCommand = function(e, t) {
return this.commands.exec(e, this, t);
}, this.insert = function(e, t) {
var n = this.session, i = n.getMode(), r = this.getCursorPosition();
if (this.getBehavioursEnabled() && !t) {
var o = i.transformAction(n.getState(r.row), "insertion", this, n, e);
o && (e !== o.text && (this.session.mergeUndoDeltas = !1, this.$mergeNextCommand = !1), e = o.text);
}
if ("\t" == e && (e = this.session.getTabString()), this.selection.isEmpty()) this.session.getOverwrite() && -1 == e.indexOf("\n") && ((a = new f.fromPoints(r, r)).end.column += e.length, this.session.remove(a)); else {
var a = this.getSelectionRange();
r = this.session.remove(a), this.clearSelection();
}
if ("\n" == e || "\r\n" == e) {
u = n.getLine(r.row);
if (r.column > u.search(/\S|$/)) {
var s = u.substr(r.column).search(/\S|$/);
n.doc.removeInLine(r.row, r.column, r.column + s);
}
}
this.clearSelection();
var l = r.column, c = n.getState(r.row), u = n.getLine(r.row), d = i.checkOutdent(c, u, e);
n.insert(r, e);
if (o && o.selection && (2 == o.selection.length ? this.selection.setSelectionRange(new f(r.row, l + o.selection[0], r.row, l + o.selection[1])) : this.selection.setSelectionRange(new f(r.row + o.selection[0], o.selection[1], r.row + o.selection[2], o.selection[3]))), n.getDocument().isNewLine(e)) {
var h = i.getNextLineIndent(c, u.slice(0, r.column), n.getTabString());
n.insert({
row: r.row + 1,
column: 0
}, h);
}
d && i.autoOutdent(c, n, r.row);
}, this.onTextInput = function(e) {
this.keyBinding.onTextInput(e);
}, this.onCommandKey = function(e, t, n) {
this.keyBinding.onCommandKey(e, t, n);
}, this.setOverwrite = function(e) {
this.session.setOverwrite(e);
}, this.getOverwrite = function() {
return this.session.getOverwrite();
}, this.toggleOverwrite = function() {
this.session.toggleOverwrite();
}, this.setScrollSpeed = function(e) {
this.setOption("scrollSpeed", e);
}, this.getScrollSpeed = function() {
return this.getOption("scrollSpeed");
}, this.setDragDelay = function(e) {
this.setOption("dragDelay", e);
}, this.getDragDelay = function() {
return this.getOption("dragDelay");
}, this.setSelectionStyle = function(e) {
this.setOption("selectionStyle", e);
}, this.getSelectionStyle = function() {
return this.getOption("selectionStyle");
}, this.setHighlightActiveLine = function(e) {
this.setOption("highlightActiveLine", e);
}, this.getHighlightActiveLine = function() {
return this.getOption("highlightActiveLine");
}, this.setHighlightGutterLine = function(e) {
this.setOption("highlightGutterLine", e);
}, this.getHighlightGutterLine = function() {
return this.getOption("highlightGutterLine");
}, this.setHighlightSelectedWord = function(e) {
this.setOption("highlightSelectedWord", e);
}, this.getHighlightSelectedWord = function() {
return this.$highlightSelectedWord;
}, this.setAnimatedScroll = function(e) {
this.renderer.setAnimatedScroll(e);
}, this.getAnimatedScroll = function() {
return this.renderer.getAnimatedScroll();
}, this.setShowInvisibles = function(e) {
this.renderer.setShowInvisibles(e);
}, this.getShowInvisibles = function() {
return this.renderer.getShowInvisibles();
}, this.setDisplayIndentGuides = function(e) {
this.renderer.setDisplayIndentGuides(e);
}, this.getDisplayIndentGuides = function() {
return this.renderer.getDisplayIndentGuides();
}, this.setShowPrintMargin = function(e) {
this.renderer.setShowPrintMargin(e);
}, this.getShowPrintMargin = function() {
return this.renderer.getShowPrintMargin();
}, this.setPrintMarginColumn = function(e) {
this.renderer.setPrintMarginColumn(e);
}, this.getPrintMarginColumn = function() {
return this.renderer.getPrintMarginColumn();
}, this.setReadOnly = function(e) {
this.setOption("readOnly", e);
}, this.getReadOnly = function() {
return this.getOption("readOnly");
}, this.setBehavioursEnabled = function(e) {
this.setOption("behavioursEnabled", e);
}, this.getBehavioursEnabled = function() {
return this.getOption("behavioursEnabled");
}, this.setWrapBehavioursEnabled = function(e) {
this.setOption("wrapBehavioursEnabled", e);
}, this.getWrapBehavioursEnabled = function() {
return this.getOption("wrapBehavioursEnabled");
}, this.setShowFoldWidgets = function(e) {
this.setOption("showFoldWidgets", e);
}, this.getShowFoldWidgets = function() {
return this.getOption("showFoldWidgets");
}, this.setFadeFoldWidgets = function(e) {
this.setOption("fadeFoldWidgets", e);
}, this.getFadeFoldWidgets = function() {
return this.getOption("fadeFoldWidgets");
}, this.remove = function(e) {
this.selection.isEmpty() && ("left" == e ? this.selection.selectLeft() : this.selection.selectRight());
var t = this.getSelectionRange();
if (this.getBehavioursEnabled()) {
var n = this.session, i = n.getState(t.start.row), r = n.getMode().transformAction(i, "deletion", this, n, t);
if (0 === t.end.column) {
var o = n.getTextRange(t);
if ("\n" == o[o.length - 1]) {
var a = n.getLine(t.end.row);
/^\s+$/.test(a) && (t.end.column = a.length);
}
}
r && (t = r);
}
this.session.remove(t), this.clearSelection();
}, this.removeWordRight = function() {
this.selection.isEmpty() && this.selection.selectWordRight(), this.session.remove(this.getSelectionRange()), this.clearSelection();
}, this.removeWordLeft = function() {
this.selection.isEmpty() && this.selection.selectWordLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection();
}, this.removeToLineStart = function() {
this.selection.isEmpty() && this.selection.selectLineStart(), this.session.remove(this.getSelectionRange()), this.clearSelection();
}, this.removeToLineEnd = function() {
this.selection.isEmpty() && this.selection.selectLineEnd();
var e = this.getSelectionRange();
e.start.column == e.end.column && e.start.row == e.end.row && (e.end.column = 0, e.end.row++), this.session.remove(e), this.clearSelection();
}, this.splitLine = function() {
this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()), this.clearSelection());
var e = this.getCursorPosition();
this.insert("\n"), this.moveCursorToPosition(e);
}, this.transposeLetters = function() {
if (this.selection.isEmpty()) {
var e = this.getCursorPosition(), t = e.column;
if (0 !== t) {
var n, i, r = this.session.getLine(e.row);
t < r.length ? (n = r.charAt(t) + r.charAt(t - 1), i = new f(e.row, t - 1, e.row, t + 1)) : (n = r.charAt(t - 1) + r.charAt(t - 2), i = new f(e.row, t - 2, e.row, t)), this.session.replace(i, n), this.session.selection.moveToPosition(i.end);
}
}
}, this.toLowerCase = function() {
var e = this.getSelectionRange();
this.selection.isEmpty() && this.selection.selectWord();
var t = this.getSelectionRange(), n = this.session.getTextRange(t);
this.session.replace(t, n.toLowerCase()), this.selection.setSelectionRange(e);
}, this.toUpperCase = function() {
var e = this.getSelectionRange();
this.selection.isEmpty() && this.selection.selectWord();
var t = this.getSelectionRange(), n = this.session.getTextRange(t);
this.session.replace(t, n.toUpperCase()), this.selection.setSelectionRange(e);
}, this.indent = function() {
var e = this.session, t = this.getSelectionRange();
{
if (!(t.start.row < t.end.row)) {
if (t.start.column < t.end.column) {
var n = e.getTextRange(t);
if (!/^\s+$/.test(n)) {
u = this.$getSelectedRows();
return void e.indentRows(u.first, u.last, "\t");
}
}
var i = e.getLine(t.start.row), r = t.start, a = e.getTabSize(), s = e.documentToScreenColumn(r.row, r.column);
if (this.session.getUseSoftTabs()) var l = a - s % a, c = o.stringRepeat(" ", l); else {
for (l = s % a; " " == i[t.start.column - 1] && l; ) t.start.column--, l--;
this.selection.setSelectionRange(t), c = "\t";
}
return this.insert(c);
}
var u = this.$getSelectedRows();
e.indentRows(u.first, u.last, "\t");
}
}, this.blockIndent = function() {
var e = this.$getSelectedRows();
this.session.indentRows(e.first, e.last, "\t");
}, this.blockOutdent = function() {
var e = this.session.getSelection();
this.session.outdentRows(e.getRange());
}, this.sortLines = function() {
for (var e = this.$getSelectedRows(), t = this.session, n = [], i = e.first; i <= e.last; i++) n.push(t.getLine(i));
n.sort(function(e, t) {
return e.toLowerCase() < t.toLowerCase() ? -1 : e.toLowerCase() > t.toLowerCase() ? 1 : 0;
});
for (var r = new f(0, 0, 0, 0), i = e.first; i <= e.last; i++) {
var o = t.getLine(i);
r.start.row = i, r.end.row = i, r.end.column = o.length, t.replace(r, n[i - e.first]);
}
}, this.toggleCommentLines = function() {
var e = this.session.getState(this.getCursorPosition().row), t = this.$getSelectedRows();
this.session.getMode().toggleCommentLines(e, this.session, t.first, t.last);
}, this.toggleBlockComment = function() {
var e = this.getCursorPosition(), t = this.session.getState(e.row), n = this.getSelectionRange();
this.session.getMode().toggleBlockComment(t, this.session, n, e);
}, this.getNumberAt = function(e, t) {
var n = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
n.lastIndex = 0;
for (var i = this.session.getLine(e); n.lastIndex < t; ) {
var r = n.exec(i);
if (r.index <= t && r.index + r[0].length >= t) return {
value: r[0],
start: r.index,
end: r.index + r[0].length
};
}
return null;
}, this.modifyNumber = function(e) {
var t = this.selection.getCursor().row, n = this.selection.getCursor().column, i = new f(t, n - 1, t, n), r = this.session.getTextRange(i);
if (!isNaN(parseFloat(r)) && isFinite(r)) {
var o = this.getNumberAt(t, n);
if (o) {
var a = o.value.indexOf(".") >= 0 ? o.start + o.value.indexOf(".") + 1 : o.end, s = o.start + o.value.length - a, l = parseFloat(o.value);
l *= Math.pow(10, s), a !== o.end && n < a ? e *= Math.pow(10, o.end - n - 1) : e *= Math.pow(10, o.end - n), l += e;
var c = (l /= Math.pow(10, s)).toFixed(s), u = new f(t, o.start, t, o.end);
this.session.replace(u, c), this.moveCursorTo(t, Math.max(o.start + 1, n + c.length - o.value.length));
}
}
}, this.removeLines = function() {
var e = this.$getSelectedRows();
this.session.removeFullLines(e.first, e.last), this.clearSelection();
}, this.duplicateSelection = function() {
var e = this.selection, t = this.session, n = e.getRange(), i = e.isBackwards();
if (n.isEmpty()) {
var r = n.start.row;
t.duplicateLines(r, r);
} else {
var o = i ? n.start : n.end, a = t.insert(o, t.getTextRange(n), !1);
n.start = o, n.end = a, e.setSelectionRange(n, i);
}
}, this.moveLinesDown = function() {
this.$moveLines(1, !1);
}, this.moveLinesUp = function() {
this.$moveLines(-1, !1);
}, this.moveText = function(e, t, n) {
return this.session.moveText(e, t, n);
}, this.copyLinesUp = function() {
this.$moveLines(-1, !0);
}, this.copyLinesDown = function() {
this.$moveLines(1, !0);
}, this.$moveLines = function(e, t) {
var n, i, r = this.selection;
if (!r.inMultiSelectMode || this.inVirtualSelectionMode) {
var o = r.toOrientedRange();
n = this.$getSelectedRows(o), i = this.session.$moveLines(n.first, n.last, t ? 0 : e), t && -1 == e && (i = 0), o.moveBy(i, 0), r.fromOrientedRange(o);
} else {
var a = r.rangeList.ranges;
r.rangeList.detach(this.session), this.inVirtualSelectionMode = !0;
for (var s = 0, l = 0, c = a.length, u = 0; u < c; u++) {
var d = u;
a[u].moveBy(s, 0);
for (var h = (n = this.$getSelectedRows(a[u])).first, f = n.last; ++u < c; ) {
l && a[u].moveBy(l, 0);
var p = this.$getSelectedRows(a[u]);
if (t && p.first != f) break;
if (!t && p.first > f + 1) break;
f = p.last;
}
for (u--, s = this.session.$moveLines(h, f, t ? 0 : e), t && -1 == e && (d = u + 1); d <= u; ) a[d].moveBy(s, 0), d++;
t || (s = 0), l += s;
}
r.fromOrientedRange(r.ranges[0]), r.rangeList.attach(this.session), this.inVirtualSelectionMode = !1;
}
}, this.$getSelectedRows = function(e) {
return e = (e || this.getSelectionRange()).collapseRows(), {
first: this.session.getRowFoldStart(e.start.row),
last: this.session.getRowFoldEnd(e.end.row)
};
}, this.onCompositionStart = function(e) {
this.renderer.showComposition(this.getCursorPosition());
}, this.onCompositionUpdate = function(e) {
this.renderer.setCompositionText(e);
}, this.onCompositionEnd = function() {
this.renderer.hideComposition();
}, this.getFirstVisibleRow = function() {
return this.renderer.getFirstVisibleRow();
}, this.getLastVisibleRow = function() {
return this.renderer.getLastVisibleRow();
}, this.isRowVisible = function(e) {
return e >= this.getFirstVisibleRow() && e <= this.getLastVisibleRow();
}, this.isRowFullyVisible = function(e) {
return e >= this.renderer.getFirstFullyVisibleRow() && e <= this.renderer.getLastFullyVisibleRow();
}, this.$getVisibleRowCount = function() {
return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
}, this.$moveByPage = function(e, t) {
var n = this.renderer, i = this.renderer.layerConfig, r = e * Math.floor(i.height / i.lineHeight);
this.$blockScrolling++, !0 === t ? this.selection.$moveSelection(function() {
this.moveCursorBy(r, 0);
}) : !1 === t && (this.selection.moveCursorBy(r, 0), this.selection.clearSelection()), this.$blockScrolling--;
var o = n.scrollTop;
n.scrollBy(0, r * i.lineHeight), null != t && n.scrollCursorIntoView(null, .5), n.animateScrolling(o);
}, this.selectPageDown = function() {
this.$moveByPage(1, !0);
}, this.selectPageUp = function() {
this.$moveByPage(-1, !0);
}, this.gotoPageDown = function() {
this.$moveByPage(1, !1);
}, this.gotoPageUp = function() {
this.$moveByPage(-1, !1);
}, this.scrollPageDown = function() {
this.$moveByPage(1);
}, this.scrollPageUp = function() {
this.$moveByPage(-1);
}, this.scrollToRow = function(e) {
this.renderer.scrollToRow(e);
}, this.scrollToLine = function(e, t, n, i) {
this.renderer.scrollToLine(e, t, n, i);
}, this.centerSelection = function() {
var e = this.getSelectionRange(), t = {
row: Math.floor(e.start.row + (e.end.row - e.start.row) / 2),
column: Math.floor(e.start.column + (e.end.column - e.start.column) / 2)
};
this.renderer.alignCursor(t, .5);
}, this.getCursorPosition = function() {
return this.selection.getCursor();
}, this.getCursorPositionScreen = function() {
return this.session.documentToScreenPosition(this.getCursorPosition());
}, this.getSelectionRange = function() {
return this.selection.getRange();
}, this.selectAll = function() {
this.$blockScrolling += 1, this.selection.selectAll(), this.$blockScrolling -= 1;
}, this.clearSelection = function() {
this.selection.clearSelection();
}, this.moveCursorTo = function(e, t) {
this.selection.moveCursorTo(e, t);
}, this.moveCursorToPosition = function(e) {
this.selection.moveCursorToPosition(e);
}, this.jumpToMatching = function(e, t) {
var n = this.getCursorPosition(), i = new y(this.session, n.row, n.column), r = i.getCurrentToken(), o = r || i.stepForward();
if (o) {
var a, s, l = !1, c = {}, u = n.column - o.start, d = {
")": "(",
"(": "(",
"]": "[",
"[": "[",
"{": "{",
"}": "{"
};
do {
if (o.value.match(/[{}()\[\]]/g)) {
for (;u < o.value.length && !l; u++) if (d[o.value[u]]) switch (s = d[o.value[u]] + "." + o.type.replace("rparen", "lparen"), isNaN(c[s]) && (c[s] = 0), o.value[u]) {
case "(":
case "[":
case "{":
c[s]++;
break;

case ")":
case "]":
case "}":
c[s]--, -1 === c[s] && (a = "bracket", l = !0);
}
} else o && -1 !== o.type.indexOf("tag-name") && (isNaN(c[o.value]) && (c[o.value] = 0), "<" === r.value ? c[o.value]++ : "</" === r.value && c[o.value]--, -1 === c[o.value] && (a = "tag", l = !0));
l || (r = o, o = i.stepForward(), u = 0);
} while (o && !l);
if (a) {
var h, p;
if ("bracket" === a) (h = this.session.getBracketRange(n)) || (p = (h = new f(i.getCurrentTokenRow(), i.getCurrentTokenColumn() + u - 1, i.getCurrentTokenRow(), i.getCurrentTokenColumn() + u - 1)).start, (t || p.row === n.row && Math.abs(p.column - n.column) < 2) && (h = this.session.getBracketRange(p))); else if ("tag" === a) {
if (!o || -1 === o.type.indexOf("tag-name")) return;
var g = o.value;
if (0 === (h = new f(i.getCurrentTokenRow(), i.getCurrentTokenColumn() - 2, i.getCurrentTokenRow(), i.getCurrentTokenColumn() - 2)).compare(n.row, n.column)) {
l = !1;
do {
o = r, (r = i.stepBackward()) && (-1 !== r.type.indexOf("tag-close") && h.setEnd(i.getCurrentTokenRow(), i.getCurrentTokenColumn() + 1), o.value === g && -1 !== o.type.indexOf("tag-name") && ("<" === r.value ? c[g]++ : "</" === r.value && c[g]--, 0 === c[g] && (l = !0)));
} while (r && !l);
}
o && o.type.indexOf("tag-name") && (p = h.start).row == n.row && Math.abs(p.column - n.column) < 2 && (p = h.end);
}
(p = h && h.cursor || p) && (e ? h && t ? this.selection.setRange(h) : h && h.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(p.row, p.column) : this.selection.moveTo(p.row, p.column));
}
}
}, this.gotoLine = function(e, t, n) {
this.selection.clearSelection(), this.session.unfold({
row: e - 1,
column: t || 0
}), this.$blockScrolling += 1, this.exitMultiSelectMode && this.exitMultiSelectMode(), this.moveCursorTo(e - 1, t || 0), this.$blockScrolling -= 1, this.isRowFullyVisible(e - 1) || this.scrollToLine(e - 1, !0, n);
}, this.navigateTo = function(e, t) {
this.selection.moveTo(e, t);
}, this.navigateUp = function(e) {
if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
var t = this.selection.anchor.getPosition();
return this.moveCursorToPosition(t);
}
this.selection.clearSelection(), this.selection.moveCursorBy(-e || -1, 0);
}, this.navigateDown = function(e) {
if (this.selection.isMultiLine() && this.selection.isBackwards()) {
var t = this.selection.anchor.getPosition();
return this.moveCursorToPosition(t);
}
this.selection.clearSelection(), this.selection.moveCursorBy(e || 1, 0);
}, this.navigateLeft = function(e) {
if (this.selection.isEmpty()) for (e = e || 1; e--; ) this.selection.moveCursorLeft(); else {
var t = this.getSelectionRange().start;
this.moveCursorToPosition(t);
}
this.clearSelection();
}, this.navigateRight = function(e) {
if (this.selection.isEmpty()) for (e = e || 1; e--; ) this.selection.moveCursorRight(); else {
var t = this.getSelectionRange().end;
this.moveCursorToPosition(t);
}
this.clearSelection();
}, this.navigateLineStart = function() {
this.selection.moveCursorLineStart(), this.clearSelection();
}, this.navigateLineEnd = function() {
this.selection.moveCursorLineEnd(), this.clearSelection();
}, this.navigateFileEnd = function() {
this.selection.moveCursorFileEnd(), this.clearSelection();
}, this.navigateFileStart = function() {
this.selection.moveCursorFileStart(), this.clearSelection();
}, this.navigateWordRight = function() {
this.selection.moveCursorWordRight(), this.clearSelection();
}, this.navigateWordLeft = function() {
this.selection.moveCursorWordLeft(), this.clearSelection();
}, this.replace = function(e, t) {
t && this.$search.set(t);
var n = this.$search.find(this.session), i = 0;
return n ? (this.$tryReplace(n, e) && (i = 1), null !== n && (this.selection.setSelectionRange(n), this.renderer.scrollSelectionIntoView(n.start, n.end)), i) : i;
}, this.replaceAll = function(e, t) {
t && this.$search.set(t);
var n = this.$search.findAll(this.session), i = 0;
if (!n.length) return i;
this.$blockScrolling += 1;
var r = this.getSelectionRange();
this.selection.moveTo(0, 0);
for (var o = n.length - 1; o >= 0; --o) this.$tryReplace(n[o], e) && i++;
return this.selection.setSelectionRange(r), this.$blockScrolling -= 1, i;
}, this.$tryReplace = function(e, t) {
var n = this.session.getTextRange(e);
return null !== (t = this.$search.replace(n, t)) ? (e.end = this.session.replace(e, t), e) : null;
}, this.getLastSearchOptions = function() {
return this.$search.getOptions();
}, this.find = function(e, t, n) {
t || (t = {}), "string" == typeof e || e instanceof RegExp ? t.needle = e : "object" == typeof e && i.mixin(t, e);
var r = this.selection.getRange();
null == t.needle && ((e = this.session.getTextRange(r) || this.$search.$options.needle) || (r = this.session.getWordRange(r.start.row, r.start.column), e = this.session.getTextRange(r)), this.$search.set({
needle: e
})), this.$search.set(t), t.start || this.$search.set({
start: r
});
var o = this.$search.find(this.session);
return t.preventScroll ? o : o ? (this.revealRange(o, n), o) : (t.backwards ? r.start = r.end : r.end = r.start, void this.selection.setRange(r));
}, this.findNext = function(e, t) {
this.find({
skipCurrent: !0,
backwards: !1
}, e, t);
}, this.findPrevious = function(e, t) {
this.find(e, {
skipCurrent: !0,
backwards: !0
}, t);
}, this.revealRange = function(e, t) {
this.$blockScrolling += 1, this.session.unfold(e), this.selection.setSelectionRange(e), this.$blockScrolling -= 1;
var n = this.renderer.scrollTop;
this.renderer.scrollSelectionIntoView(e.start, e.end, .5), !1 !== t && this.renderer.animateScrolling(n);
}, this.undo = function() {
this.$blockScrolling++, this.session.getUndoManager().undo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5);
}, this.redo = function() {
this.$blockScrolling++, this.session.getUndoManager().redo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5);
}, this.destroy = function() {
this.renderer.destroy(), this._signal("destroy", this), this.session && this.session.destroy();
}, this.setAutoScrollEditorIntoView = function(e) {
if (e) {
var t, n = this, i = !1;
this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div"));
var r = this.$scrollAnchor;
r.style.cssText = "position:absolute", this.container.insertBefore(r, this.container.firstChild);
var o = this.on("changeSelection", function() {
i = !0;
}), a = this.renderer.on("beforeRender", function() {
i && (t = n.renderer.container.getBoundingClientRect());
}), s = this.renderer.on("afterRender", function() {
if (i && t && (n.isFocused() || n.searchBox && n.searchBox.isFocused())) {
var e = n.renderer, o = e.$cursorLayer.$pixelPos, a = e.layerConfig, s = o.top - a.offset;
null != (i = o.top >= 0 && s + t.top < 0 || !(o.top < a.height && o.top + t.top + a.lineHeight > window.innerHeight) && null) && (r.style.top = s + "px", r.style.left = o.left + "px", r.style.height = a.lineHeight + "px", r.scrollIntoView(i)), i = t = null;
}
});
this.setAutoScrollEditorIntoView = function(e) {
e || (delete this.setAutoScrollEditorIntoView, this.off("changeSelection", o), this.renderer.off("afterRender", s), this.renderer.off("beforeRender", a));
};
}
}, this.$resetCursorStyle = function() {
var e = this.$cursorStyle || "ace", t = this.renderer.$cursorLayer;
t && (t.setSmoothBlinking(/smooth/.test(e)), t.isBlinking = !this.$readOnly && "wide" != e, r.setCssClass(t.element, "ace_slim-cursors", /slim/.test(e)));
};
}.call(b.prototype), v.defineOptions(b.prototype, "editor", {
selectionStyle: {
set: function(e) {
this.onSelectionChange(), this._signal("changeSelectionStyle", {
data: e
});
},
initialValue: "line"
},
highlightActiveLine: {
set: function() {
this.$updateHighlightActiveLine();
},
initialValue: !0
},
highlightSelectedWord: {
set: function(e) {
this.$onSelectionChange();
},
initialValue: !0
},
readOnly: {
set: function(e) {
this.$resetCursorStyle();
},
initialValue: !1
},
cursorStyle: {
set: function(e) {
this.$resetCursorStyle();
},
values: [ "ace", "slim", "smooth", "wide" ],
initialValue: "ace"
},
mergeUndoDeltas: {
values: [ !1, !0, "always" ],
initialValue: !0
},
behavioursEnabled: {
initialValue: !0
},
wrapBehavioursEnabled: {
initialValue: !0
},
autoScrollEditorIntoView: {
set: function(e) {
this.setAutoScrollEditorIntoView(e);
}
},
keyboardHandler: {
set: function(e) {
this.setKeyboardHandler(e);
},
get: function() {
return this.keybindingId;
},
handlesSet: !0
},
hScrollBarAlwaysVisible: "renderer",
vScrollBarAlwaysVisible: "renderer",
highlightGutterLine: "renderer",
animatedScroll: "renderer",
showInvisibles: "renderer",
showPrintMargin: "renderer",
printMarginColumn: "renderer",
printMargin: "renderer",
fadeFoldWidgets: "renderer",
showFoldWidgets: "renderer",
showLineNumbers: "renderer",
showGutter: "renderer",
displayIndentGuides: "renderer",
fontSize: "renderer",
fontFamily: "renderer",
maxLines: "renderer",
minLines: "renderer",
scrollPastEnd: "renderer",
fixedWidthGutter: "renderer",
theme: "renderer",
scrollSpeed: "$mouseHandler",
dragDelay: "$mouseHandler",
dragEnabled: "$mouseHandler",
focusTimout: "$mouseHandler",
tooltipFollowsMouse: "$mouseHandler",
firstLineNumber: "session",
overwrite: "session",
newLineMode: "session",
useWorker: "session",
useSoftTabs: "session",
tabSize: "session",
wrap: "session",
indentedSoftWrap: "session",
foldStyle: "session",
mode: "session"
}), t.Editor = b;
}), ace.define("ace/undomanager", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = function() {
this.reset();
};
(function() {
function e(e) {
return {
action: e.action,
start: e.start,
end: e.end,
lines: 1 == e.lines.length ? null : e.lines,
text: 1 == e.lines.length ? e.lines[0] : null
};
}
function t(e) {
return {
action: e.action,
start: e.start,
end: e.end,
lines: e.lines || [ e.text ]
};
}
function n(e, t) {
for (var n = new Array(e.length), i = 0; i < e.length; i++) {
for (var r = e[i], o = {
group: r.group,
deltas: new Array(r.length)
}, a = 0; a < r.deltas.length; a++) {
var s = r.deltas[a];
o.deltas[a] = t(s);
}
n[i] = o;
}
return n;
}
this.execute = function(e) {
var t = e.args[0];
this.$doc = e.args[1], e.merge && this.hasUndo() && (this.dirtyCounter--, t = this.$undoStack.pop().concat(t)), this.$undoStack.push(t), this.$redoStack = [], this.dirtyCounter < 0 && (this.dirtyCounter = NaN), this.dirtyCounter++;
}, this.undo = function(e) {
var t = this.$undoStack.pop(), n = null;
return t && (n = this.$doc.undoChanges(t, e), this.$redoStack.push(t), this.dirtyCounter--), n;
}, this.redo = function(e) {
var t = this.$redoStack.pop(), n = null;
return t && (n = this.$doc.redoChanges(this.$deserializeDeltas(t), e), this.$undoStack.push(t), this.dirtyCounter++), n;
}, this.reset = function() {
this.$undoStack = [], this.$redoStack = [], this.dirtyCounter = 0;
}, this.hasUndo = function() {
return this.$undoStack.length > 0;
}, this.hasRedo = function() {
return this.$redoStack.length > 0;
}, this.markClean = function() {
this.dirtyCounter = 0;
}, this.isClean = function() {
return 0 === this.dirtyCounter;
}, this.$serializeDeltas = function(t) {
return n(t, e);
}, this.$deserializeDeltas = function(e) {
return n(e, t);
};
}).call(i.prototype), t.UndoManager = i;
}), ace.define("ace/layer/gutter", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("../lib/dom"), r = e("../lib/oop"), o = e("../lib/lang"), a = e("../lib/event_emitter").EventEmitter, s = function(e) {
this.element = i.createElement("div"), this.element.className = "ace_layer ace_gutter-layer", e.appendChild(this.element), this.setShowFoldWidgets(this.$showFoldWidgets), this.gutterWidth = 0, this.$annotations = [], this.$updateAnnotations = this.$updateAnnotations.bind(this), this.$cells = [];
};
(function() {
r.implement(this, a), this.setSession = function(e) {
this.session && this.session.removeEventListener("change", this.$updateAnnotations), this.session = e, e && e.on("change", this.$updateAnnotations);
}, this.addGutterDecoration = function(e, t) {
window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"), this.session.addGutterDecoration(e, t);
}, this.removeGutterDecoration = function(e, t) {
window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"), this.session.removeGutterDecoration(e, t);
}, this.setAnnotations = function(e) {
this.$annotations = [];
for (var t = 0; t < e.length; t++) {
var n = e[t], i = n.row, r = this.$annotations[i];
r || (r = this.$annotations[i] = {
text: []
});
var a = n.text;
a = a ? o.escapeHTML(a) : n.html || "", -1 === r.text.indexOf(a) && r.text.push(a);
var s = n.type;
"error" == s ? r.className = " ace_error" : "warning" == s && " ace_error" != r.className ? r.className = " ace_warning" : "info" == s && !r.className && (r.className = " ace_info");
}
}, this.$updateAnnotations = function(e) {
if (this.$annotations.length) {
var t = e.start.row, n = e.end.row - t;
if (0 !== n) if ("remove" == e.action) this.$annotations.splice(t, n + 1, null); else {
var i = new Array(n + 1);
i.unshift(t, 1), this.$annotations.splice.apply(this.$annotations, i);
}
}
}, this.update = function(e) {
for (var t = this.session, n = e.firstRow, r = Math.min(e.lastRow + e.gutterOffset, t.getLength() - 1), o = t.getNextFoldLine(n), a = o ? o.start.row : 1 / 0, s = this.$showFoldWidgets && t.foldWidgets, l = t.$breakpoints, c = t.$decorations, u = t.$firstLineNumber, d = 0, h = t.gutterRenderer || this.$renderer, f = null, p = -1, g = n; ;) {
if (g > a && (g = o.end.row + 1, o = t.getNextFoldLine(g, o), a = o ? o.start.row : 1 / 0), g > r) {
for (;this.$cells.length > p + 1; ) f = this.$cells.pop(), this.element.removeChild(f.element);
break;
}
(f = this.$cells[++p]) || (f = {
element: null,
textNode: null,
foldWidget: null
}, f.element = i.createElement("div"), f.textNode = document.createTextNode(""), f.element.appendChild(f.textNode), this.element.appendChild(f.element), this.$cells[p] = f);
v = "ace_gutter-cell ";
if (l[g] && (v += l[g]), c[g] && (v += c[g]), this.$annotations[g] && (v += this.$annotations[g].className), f.element.className != v && (f.element.className = v), (y = t.getRowLength(g) * e.lineHeight + "px") != f.element.style.height && (f.element.style.height = y), s) {
var m = s[g];
null == m && (m = s[g] = t.getFoldWidget(g));
}
if (m) {
f.foldWidget || (f.foldWidget = i.createElement("span"), f.element.appendChild(f.foldWidget));
var v = "ace_fold-widget ace_" + m;
"start" == m && g == a && g < o.end.row ? v += " ace_closed" : v += " ace_open", f.foldWidget.className != v && (f.foldWidget.className = v);
var y = e.lineHeight + "px";
f.foldWidget.style.height != y && (f.foldWidget.style.height = y);
} else f.foldWidget && (f.element.removeChild(f.foldWidget), f.foldWidget = null);
var b = d = h ? h.getText(t, g) : g + u;
b !== f.textNode.data && (f.textNode.data = b), g++;
}
this.element.style.height = e.minHeight + "px", (this.$fixedWidth || t.$useWrapMode) && (d = t.getLength() + u);
var _ = h ? h.getWidth(t, d, e) : d.toString().length * e.characterWidth, w = this.$padding || this.$computePadding();
(_ += w.left + w.right) !== this.gutterWidth && !isNaN(_) && (this.gutterWidth = _, this.element.style.width = Math.ceil(this.gutterWidth) + "px", this._emit("changeGutterWidth", _));
}, this.$fixedWidth = !1, this.$showLineNumbers = !0, this.$renderer = "", this.setShowLineNumbers = function(e) {
this.$renderer = !e && {
getWidth: function() {
return "";
},
getText: function() {
return "";
}
};
}, this.getShowLineNumbers = function() {
return this.$showLineNumbers;
}, this.$showFoldWidgets = !0, this.setShowFoldWidgets = function(e) {
e ? i.addCssClass(this.element, "ace_folding-enabled") : i.removeCssClass(this.element, "ace_folding-enabled"), this.$showFoldWidgets = e, this.$padding = null;
}, this.getShowFoldWidgets = function() {
return this.$showFoldWidgets;
}, this.$computePadding = function() {
if (!this.element.firstChild) return {
left: 0,
right: 0
};
var e = i.computedStyle(this.element.firstChild);
return this.$padding = {}, this.$padding.left = parseInt(e.paddingLeft) + 1 || 0, this.$padding.right = parseInt(e.paddingRight) || 0, this.$padding;
}, this.getRegion = function(e) {
var t = this.$padding || this.$computePadding(), n = this.element.getBoundingClientRect();
return e.x < t.left + n.left ? "markers" : this.$showFoldWidgets && e.x > n.right - t.right ? "foldWidgets" : void 0;
};
}).call(s.prototype), t.Gutter = s;
}), ace.define("ace/layer/marker", [ "require", "exports", "module", "ace/range", "ace/lib/dom" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = e("../lib/dom"), o = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_layer ace_marker-layer", e.appendChild(this.element);
};
(function() {
function e(e, t, n, i) {
return (e ? 1 : 0) | (t ? 2 : 0) | (n ? 4 : 0) | (i ? 8 : 0);
}
this.$padding = 0, this.setPadding = function(e) {
this.$padding = e;
}, this.setSession = function(e) {
this.session = e;
}, this.setMarkers = function(e) {
this.markers = e;
}, this.update = function(e) {
if (e) {
this.config = e;
var t = [];
for (var n in this.markers) {
var i = this.markers[n];
if (i.range) {
var r = i.range.clipRows(e.firstRow, e.lastRow);
if (!r.isEmpty()) if (r = r.toScreenRange(this.session), i.renderer) {
var o = this.$getTop(r.start.row, e), a = this.$padding + (this.session.$bidiHandler.isBidiRow(r.start.row) ? this.session.$bidiHandler.getPosLeft(r.start.column) : r.start.column * e.characterWidth);
i.renderer(t, r, a, o, e);
} else "fullLine" == i.type ? this.drawFullLineMarker(t, r, i.clazz, e) : "screenLine" == i.type ? this.drawScreenLineMarker(t, r, i.clazz, e) : r.isMultiLine() ? "text" == i.type ? this.drawTextMarker(t, r, i.clazz, e) : this.drawMultiLineMarker(t, r, i.clazz, e) : this.session.$bidiHandler.isBidiRow(r.start.row) ? this.drawBidiSingleLineMarker(t, r, i.clazz + " ace_start ace_br15", e) : this.drawSingleLineMarker(t, r, i.clazz + " ace_start ace_br15", e);
} else i.update(t, this, this.session, e);
}
this.element.innerHTML = t.join("");
}
}, this.$getTop = function(e, t) {
return (e - t.firstRowScreen) * t.lineHeight;
}, this.drawTextMarker = function(t, n, r, o, a) {
for (var s = this.session, l = n.start.row, c = n.end.row, u = l, d = 0, h = 0, f = s.getScreenLastRowColumn(u), p = null, g = new i(u, n.start.column, u, h); u <= c; u++) g.start.row = g.end.row = u, g.start.column = u == l ? n.start.column : s.getRowWrapIndent(u), g.end.column = f, d = h, h = f, f = u + 1 < c ? s.getScreenLastRowColumn(u + 1) : u == c ? 0 : n.end.column, p = r + (u == l ? " ace_start" : "") + " ace_br" + e(u == l || u == l + 1 && n.start.column, d < h, h > f, u == c), this.session.$bidiHandler.isBidiRow(u) ? this.drawBidiSingleLineMarker(t, g, p, o, u == c ? 0 : 1, a) : this.drawSingleLineMarker(t, g, p, o, u == c ? 0 : 1, a);
}, this.drawMultiLineMarker = function(e, t, n, i, r) {
var o, a, s, l = this.$padding;
if (r = r || "", this.session.$bidiHandler.isBidiRow(t.start.row) ? ((c = t.clone()).end.row = c.start.row, c.end.column = this.session.getLine(c.start.row).length, this.drawBidiSingleLineMarker(e, c, n + " ace_br1 ace_start", i, null, r)) : (o = i.lineHeight, a = this.$getTop(t.start.row, i), s = l + t.start.column * i.characterWidth, e.push("<div class='", n, " ace_br1 ace_start' style='", "height:", o, "px;", "right:0;", "top:", a, "px;", "left:", s, "px;", r, "'></div>")), this.session.$bidiHandler.isBidiRow(t.end.row)) {
var c = t.clone();
c.start.row = c.end.row, c.start.column = 0, this.drawBidiSingleLineMarker(e, c, n + " ace_br12", i, null, r);
} else {
var u = t.end.column * i.characterWidth;
o = i.lineHeight, a = this.$getTop(t.end.row, i), e.push("<div class='", n, " ace_br12' style='", "height:", o, "px;", "width:", u, "px;", "top:", a, "px;", "left:", l, "px;", r, "'></div>");
}
if (!((o = (t.end.row - t.start.row - 1) * i.lineHeight) <= 0)) {
a = this.$getTop(t.start.row + 1, i);
var d = (t.start.column ? 1 : 0) | (t.end.column ? 0 : 8);
e.push("<div class='", n, d ? " ace_br" + d : "", "' style='", "height:", o, "px;", "right:0;", "top:", a, "px;", "left:", l, "px;", r, "'></div>");
}
}, this.drawSingleLineMarker = function(e, t, n, i, r, o) {
var a = i.lineHeight, s = (t.end.column + (r || 0) - t.start.column) * i.characterWidth, l = this.$getTop(t.start.row, i), c = this.$padding + t.start.column * i.characterWidth;
e.push("<div class='", n, "' style='", "height:", a, "px;", "width:", s, "px;", "top:", l, "px;", "left:", c, "px;", o || "", "'></div>");
}, this.drawBidiSingleLineMarker = function(e, t, n, i, r, o) {
var a = i.lineHeight, s = this.$getTop(t.start.row, i), l = this.$padding;
this.session.$bidiHandler.getSelections(t.start.column, t.end.column).forEach(function(t) {
e.push("<div class='", n, "' style='", "height:", a, "px;", "width:", t.width + (r || 0), "px;", "top:", s, "px;", "left:", l + t.left, "px;", o || "", "'></div>");
});
}, this.drawFullLineMarker = function(e, t, n, i, r) {
var o = this.$getTop(t.start.row, i), a = i.lineHeight;
t.start.row != t.end.row && (a += this.$getTop(t.end.row, i) - o), e.push("<div class='", n, "' style='", "height:", a, "px;", "top:", o, "px;", "left:0;right:0;", r || "", "'></div>");
}, this.drawScreenLineMarker = function(e, t, n, i, r) {
var o = this.$getTop(t.start.row, i), a = i.lineHeight;
e.push("<div class='", n, "' style='", "height:", a, "px;", "top:", o, "px;", "left:0;right:0;", r || "", "'></div>");
};
}).call(o.prototype), t.Marker = o;
}), ace.define("ace/layer/text", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("../lib/dom"), o = e("../lib/lang"), a = (e("../lib/useragent"), e("../lib/event_emitter").EventEmitter), s = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_layer ace_text-layer", e.appendChild(this.element), this.$updateEolChar = this.$updateEolChar.bind(this);
};
(function() {
i.implement(this, a), this.EOF_CHAR = "¶", this.EOL_CHAR_LF = "¬", this.EOL_CHAR_CRLF = "¤", this.EOL_CHAR = this.EOL_CHAR_LF, this.TAB_CHAR = "—", this.SPACE_CHAR = "·", this.$padding = 0, this.$updateEolChar = function() {
var e = "\n" == this.session.doc.getNewLineCharacter() ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
if (this.EOL_CHAR != e) return this.EOL_CHAR = e, !0;
}, this.setPadding = function(e) {
this.$padding = e, this.element.style.padding = "0 " + e + "px";
}, this.getLineHeight = function() {
return this.$fontMetrics.$characterSize.height || 0;
}, this.getCharacterWidth = function() {
return this.$fontMetrics.$characterSize.width || 0;
}, this.$setFontMetrics = function(e) {
this.$fontMetrics = e, this.$fontMetrics.on("changeCharacterSize", function(e) {
this._signal("changeCharacterSize", e);
}.bind(this)), this.$pollSizeChanges();
}, this.checkForSizeChanges = function() {
this.$fontMetrics.checkForSizeChanges();
}, this.$pollSizeChanges = function() {
return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
}, this.setSession = function(e) {
this.session = e, e && this.$computeTabString();
}, this.showInvisibles = !1, this.setShowInvisibles = function(e) {
return this.showInvisibles != e && (this.showInvisibles = e, this.$computeTabString(), !0);
}, this.displayIndentGuides = !0, this.setDisplayIndentGuides = function(e) {
return this.displayIndentGuides != e && (this.displayIndentGuides = e, this.$computeTabString(), !0);
}, this.$tabStrings = [], this.onChangeTabSize = this.$computeTabString = function() {
var e = this.session.getTabSize();
this.tabSize = e;
for (var t = this.$tabStrings = [ 0 ], n = 1; n < e + 1; n++) this.showInvisibles ? t.push("<span class='ace_invisible ace_invisible_tab'>" + o.stringRepeat(this.TAB_CHAR, n) + "</span>") : t.push(o.stringRepeat(" ", n));
if (this.displayIndentGuides) {
this.$indentGuideRe = /\s\S| \t|\t |\s$/;
var i = "ace_indent-guide", r = "", a = "";
if (this.showInvisibles) {
i += " ace_invisible", r = " ace_invisible_space", a = " ace_invisible_tab";
var s = o.stringRepeat(this.SPACE_CHAR, this.tabSize), l = o.stringRepeat(this.TAB_CHAR, this.tabSize);
} else var s = o.stringRepeat(" ", this.tabSize), l = s;
this.$tabStrings[" "] = "<span class='" + i + r + "'>" + s + "</span>", this.$tabStrings["\t"] = "<span class='" + i + a + "'>" + l + "</span>";
}
}, this.updateLines = function(e, t, n) {
(this.config.lastRow != e.lastRow || this.config.firstRow != e.firstRow) && this.scrollLines(e), this.config = e;
for (var i = Math.max(t, e.firstRow), r = Math.min(n, e.lastRow), o = this.element.childNodes, a = 0, s = e.firstRow; s < i; s++) {
if (l = this.session.getFoldLine(s)) {
if (l.containsRow(i)) {
i = l.start.row;
break;
}
s = l.end.row;
}
a++;
}
for (var s = i, l = this.session.getNextFoldLine(s), c = l ? l.start.row : 1 / 0; s > c && (s = l.end.row + 1, l = this.session.getNextFoldLine(s, l), c = l ? l.start.row : 1 / 0), !(s > r); ) {
var u = o[a++];
if (u) {
var d = [];
this.$renderLine(d, s, !this.$useLineGroups(), s == c && l), u.style.height = e.lineHeight * this.session.getRowLength(s) + "px", u.innerHTML = d.join("");
}
s++;
}
}, this.scrollLines = function(e) {
var t = this.config;
if (this.config = e, !t || t.lastRow < e.firstRow) return this.update(e);
if (e.lastRow < t.firstRow) return this.update(e);
var n = this.element;
if (t.firstRow < e.firstRow) for (i = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); i > 0; i--) n.removeChild(n.firstChild);
if (t.lastRow > e.lastRow) for (var i = this.session.getFoldedRowCount(e.lastRow + 1, t.lastRow); i > 0; i--) n.removeChild(n.lastChild);
if (e.firstRow < t.firstRow) {
r = this.$renderLinesFragment(e, e.firstRow, t.firstRow - 1);
n.firstChild ? n.insertBefore(r, n.firstChild) : n.appendChild(r);
}
if (e.lastRow > t.lastRow) {
var r = this.$renderLinesFragment(e, t.lastRow + 1, e.lastRow);
n.appendChild(r);
}
}, this.$renderLinesFragment = function(e, t, n) {
for (var i = this.element.ownerDocument.createDocumentFragment(), o = t, a = this.session.getNextFoldLine(o), s = a ? a.start.row : 1 / 0; o > s && (o = a.end.row + 1, a = this.session.getNextFoldLine(o, a), s = a ? a.start.row : 1 / 0), !(o > n); ) {
var l = r.createElement("div"), c = [];
if (this.$renderLine(c, o, !1, o == s && a), l.innerHTML = c.join(""), this.$useLineGroups()) l.className = "ace_line_group", i.appendChild(l), l.style.height = e.lineHeight * this.session.getRowLength(o) + "px"; else for (;l.firstChild; ) i.appendChild(l.firstChild);
o++;
}
return i;
}, this.update = function(e) {
this.config = e;
for (var t = [], n = e.firstRow, i = e.lastRow, r = n, o = this.session.getNextFoldLine(r), a = o ? o.start.row : 1 / 0; r > a && (r = o.end.row + 1, o = this.session.getNextFoldLine(r, o), a = o ? o.start.row : 1 / 0), !(r > i); ) this.$useLineGroups() && t.push("<div class='ace_line_group' style='height:", e.lineHeight * this.session.getRowLength(r), "px'>"), this.$renderLine(t, r, !1, r == a && o), this.$useLineGroups() && t.push("</div>"), r++;
this.element.innerHTML = t.join("");
}, this.$textToken = {
text: !0,
rparen: !0,
lparen: !0
}, this.$renderToken = function(e, t, n, i) {
var r = this, a = /\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g, s = i.replace(a, function(e, n, i, a, s) {
if (n) return r.showInvisibles ? "<span class='ace_invisible ace_invisible_space'>" + o.stringRepeat(r.SPACE_CHAR, e.length) + "</span>" : e;
if ("&" == e) return "&#38;";
if ("<" == e) return "&#60;";
if (">" == e) return "&#62;";
if ("\t" == e) {
var l = r.session.getScreenTabSize(t + a);
return t += l - 1, r.$tabStrings[l];
}
if ("　" == e) {
var c = r.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk", u = r.showInvisibles ? r.SPACE_CHAR : "";
return t += 1, "<span class='" + c + "' style='width:" + 2 * r.config.characterWidth + "px'>" + u + "</span>";
}
return i ? "<span class='ace_invisible ace_invisible_space ace_invalid'>" + r.SPACE_CHAR + "</span>" : (t += 1, "<span class='ace_cjk' style='width:" + 2 * r.config.characterWidth + "px'>" + e + "</span>");
});
if (this.$textToken[n.type]) e.push(s); else {
var l = "ace_" + n.type.replace(/\./g, " ace_"), c = "";
"fold" == n.type && (c = " style='width:" + n.value.length * this.config.characterWidth + "px;' "), e.push("<span class='", l, "'", c, ">", s, "</span>");
}
return t + i.length;
}, this.renderIndentGuide = function(e, t, n) {
var i = t.search(this.$indentGuideRe);
return i <= 0 || i >= n ? t : " " == t[0] ? (i -= i % this.tabSize, e.push(o.stringRepeat(this.$tabStrings[" "], i / this.tabSize)), t.substr(i)) : "\t" == t[0] ? (e.push(o.stringRepeat(this.$tabStrings["\t"], i)), t.substr(i)) : t;
}, this.$renderWrappedLine = function(e, t, n, i) {
for (var r = 0, a = 0, s = n[0], l = 0, c = 0; c < t.length; c++) {
var u = t[c], d = u.value;
if (0 == c && this.displayIndentGuides) {
if (r = d.length, !(d = this.renderIndentGuide(e, d, s))) continue;
r -= d.length;
}
if (r + d.length < s) l = this.$renderToken(e, l, u, d), r += d.length; else {
for (;r + d.length >= s; ) l = this.$renderToken(e, l, u, d.substring(0, s - r)), d = d.substring(s - r), r = s, i || e.push("</div>", "<div class='ace_line' style='height:", this.config.lineHeight, "px'>"), e.push(o.stringRepeat(" ", n.indent)), a++, l = 0, s = n[a] || Number.MAX_VALUE;
0 != d.length && (r += d.length, l = this.$renderToken(e, l, u, d));
}
}
}, this.$renderSimpleLine = function(e, t) {
var n = 0, i = t[0], r = i.value;
this.displayIndentGuides && (r = this.renderIndentGuide(e, r)), r && (n = this.$renderToken(e, n, i, r));
for (var o = 1; o < t.length; o++) i = t[o], r = i.value, n = this.$renderToken(e, n, i, r);
}, this.$renderLine = function(e, t, n, i) {
if (!i && 0 != i && (i = this.session.getFoldLine(t)), i) r = this.$getFoldLineTokens(t, i); else var r = this.session.getTokens(t);
if (n || e.push("<div class='ace_line' style='height:", this.config.lineHeight * (this.$useLineGroups() ? 1 : this.session.getRowLength(t)), "px'>"), r.length) {
var o = this.session.getRowSplitData(t);
o && o.length ? this.$renderWrappedLine(e, r, o, n) : this.$renderSimpleLine(e, r);
}
this.showInvisibles && (i && (t = i.end.row), e.push("<span class='ace_invisible ace_invisible_eol'>", t == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, "</span>")), n || e.push("</div>");
}, this.$getFoldLineTokens = function(e, t) {
function n(e, t, n) {
for (var i = 0, o = 0; o + e[i].value.length < t; ) if (o += e[i].value.length, ++i == e.length) return;
for (o != t && ((a = e[i].value.substring(t - o)).length > n - t && (a = a.substring(0, n - t)), r.push({
type: e[i].type,
value: a
}), o = t + a.length, i += 1); o < n && i < e.length; ) {
var a = e[i].value;
a.length + o > n ? r.push({
type: e[i].type,
value: a.substring(0, n - o)
}) : r.push(e[i]), o += a.length, i += 1;
}
}
var i = this.session, r = [], o = i.getTokens(e);
return t.walk(function(e, t, a, s, l) {
null != e ? r.push({
type: "fold",
value: e
}) : (l && (o = i.getTokens(t)), o.length && n(o, s, a));
}, t.end.row, this.session.getLine(t.end.row).length), r;
}, this.$useLineGroups = function() {
return this.session.getUseWrapMode();
}, this.destroy = function() {
clearInterval(this.$pollSizeChangesTimer), this.$measureNode && this.$measureNode.parentNode.removeChild(this.$measureNode), delete this.$measureNode;
};
}).call(s.prototype), t.Text = s;
}), ace.define("ace/layer/cursor", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
var i, r = e("../lib/dom"), o = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_layer ace_cursor-layer", e.appendChild(this.element), void 0 === i && (i = !("opacity" in this.element.style)), this.isVisible = !1, this.isBlinking = !0, this.blinkInterval = 1e3, this.smoothBlinking = !1, this.cursors = [], this.cursor = this.addCursor(), r.addCssClass(this.element, "ace_hidden-cursors"), this.$updateCursors = (i ? this.$updateVisibility : this.$updateOpacity).bind(this);
};
(function() {
this.$updateVisibility = function(e) {
for (var t = this.cursors, n = t.length; n--; ) t[n].style.visibility = e ? "" : "hidden";
}, this.$updateOpacity = function(e) {
for (var t = this.cursors, n = t.length; n--; ) t[n].style.opacity = e ? "" : "0";
}, this.$padding = 0, this.setPadding = function(e) {
this.$padding = e;
}, this.setSession = function(e) {
this.session = e;
}, this.setBlinking = function(e) {
e != this.isBlinking && (this.isBlinking = e, this.restartTimer());
}, this.setBlinkInterval = function(e) {
e != this.blinkInterval && (this.blinkInterval = e, this.restartTimer());
}, this.setSmoothBlinking = function(e) {
e != this.smoothBlinking && !i && (this.smoothBlinking = e, r.setCssClass(this.element, "ace_smooth-blinking", e), this.$updateCursors(!0), this.$updateCursors = this.$updateOpacity.bind(this), this.restartTimer());
}, this.addCursor = function() {
var e = r.createElement("div");
return e.className = "ace_cursor", this.element.appendChild(e), this.cursors.push(e), e;
}, this.removeCursor = function() {
if (this.cursors.length > 1) {
var e = this.cursors.pop();
return e.parentNode.removeChild(e), e;
}
}, this.hideCursor = function() {
this.isVisible = !1, r.addCssClass(this.element, "ace_hidden-cursors"), this.restartTimer();
}, this.showCursor = function() {
this.isVisible = !0, r.removeCssClass(this.element, "ace_hidden-cursors"), this.restartTimer();
}, this.restartTimer = function() {
var e = this.$updateCursors;
if (clearInterval(this.intervalId), clearTimeout(this.timeoutId), this.smoothBlinking && r.removeCssClass(this.element, "ace_smooth-blinking"), e(!0), this.isBlinking && this.blinkInterval && this.isVisible) {
this.smoothBlinking && setTimeout(function() {
r.addCssClass(this.element, "ace_smooth-blinking");
}.bind(this));
var t = function() {
this.timeoutId = setTimeout(function() {
e(!1);
}, .6 * this.blinkInterval);
}.bind(this);
this.intervalId = setInterval(function() {
e(!0), t();
}, this.blinkInterval), t();
}
}, this.getPixelPosition = function(e, t) {
if (!this.config || !this.session) return {
left: 0,
top: 0
};
e || (e = this.session.selection.getCursor());
var n = this.session.documentToScreenPosition(e);
return {
left: this.$padding + (this.session.$bidiHandler.isBidiRow(n.row, e.row) ? this.session.$bidiHandler.getPosLeft(n.column) : n.column * this.config.characterWidth),
top: (n.row - (t ? this.config.firstRowScreen : 0)) * this.config.lineHeight
};
}, this.update = function(e) {
this.config = e;
var t = this.session.$selectionMarkers, n = 0, i = 0;
void 0 !== t && 0 !== t.length || (t = [ {
cursor: null
} ]);
for (var n = 0, r = t.length; n < r; n++) {
var o = this.getPixelPosition(t[n].cursor, !0);
if (!((o.top > e.height + e.offset || o.top < 0) && n > 1)) {
var a = (this.cursors[i++] || this.addCursor()).style;
this.drawCursor ? this.drawCursor(a, o, e, t[n], this.session) : (a.left = o.left + "px", a.top = o.top + "px", a.width = e.characterWidth + "px", a.height = e.lineHeight + "px");
}
}
for (;this.cursors.length > i; ) this.removeCursor();
var s = this.session.getOverwrite();
this.$setOverwrite(s), this.$pixelPos = o, this.restartTimer();
}, this.drawCursor = null, this.$setOverwrite = function(e) {
e != this.overwrite && (this.overwrite = e, e ? r.addCssClass(this.element, "ace_overwrite-cursors") : r.removeCssClass(this.element, "ace_overwrite-cursors"));
}, this.destroy = function() {
clearInterval(this.intervalId), clearTimeout(this.timeoutId);
};
}).call(o.prototype), t.Cursor = o;
}), ace.define("ace/scrollbar", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/dom"), o = e("./lib/event"), a = e("./lib/event_emitter").EventEmitter, s = 32768, l = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix, this.inner = r.createElement("div"), this.inner.className = "ace_scrollbar-inner", this.element.appendChild(this.inner), e.appendChild(this.element), this.setVisible(!1), this.skipEvent = !1, o.addListener(this.element, "scroll", this.onScroll.bind(this)), o.addListener(this.element, "mousedown", o.preventDefault);
};
(function() {
i.implement(this, a), this.setVisible = function(e) {
this.element.style.display = e ? "" : "none", this.isVisible = e, this.coeff = 1;
};
}).call(l.prototype);
var c = function(e, t) {
l.call(this, e), this.scrollTop = 0, this.scrollHeight = 0, t.$scrollbarWidth = this.width = r.scrollbarWidth(e.ownerDocument), this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px", this.$minWidth = 0;
};
i.inherits(c, l), function() {
this.classSuffix = "-v", this.onScroll = function() {
if (!this.skipEvent) {
if (this.scrollTop = this.element.scrollTop, 1 != this.coeff) {
var e = this.element.clientHeight / this.scrollHeight;
this.scrollTop = this.scrollTop * (1 - e) / (this.coeff - e);
}
this._emit("scroll", {
data: this.scrollTop
});
}
this.skipEvent = !1;
}, this.getWidth = function() {
return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
}, this.setHeight = function(e) {
this.element.style.height = e + "px";
}, this.setInnerHeight = this.setScrollHeight = function(e) {
this.scrollHeight = e, e > s ? (this.coeff = s / e, e = s) : 1 != this.coeff && (this.coeff = 1), this.inner.style.height = e + "px";
}, this.setScrollTop = function(e) {
this.scrollTop != e && (this.skipEvent = !0, this.scrollTop = e, this.element.scrollTop = e * this.coeff);
};
}.call(c.prototype);
var u = function(e, t) {
l.call(this, e), this.scrollLeft = 0, this.height = t.$scrollbarWidth, this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px";
};
i.inherits(u, l), function() {
this.classSuffix = "-h", this.onScroll = function() {
this.skipEvent || (this.scrollLeft = this.element.scrollLeft, this._emit("scroll", {
data: this.scrollLeft
})), this.skipEvent = !1;
}, this.getHeight = function() {
return this.isVisible ? this.height : 0;
}, this.setWidth = function(e) {
this.element.style.width = e + "px";
}, this.setInnerWidth = function(e) {
this.inner.style.width = e + "px";
}, this.setScrollWidth = function(e) {
this.inner.style.width = e + "px";
}, this.setScrollLeft = function(e) {
this.scrollLeft != e && (this.skipEvent = !0, this.scrollLeft = this.element.scrollLeft = e);
};
}.call(u.prototype), t.ScrollBar = c, t.ScrollBarV = c, t.ScrollBarH = u, t.VScrollBar = c, t.HScrollBar = u;
}), ace.define("ace/renderloop", [ "require", "exports", "module", "ace/lib/event" ], function(e, t, n) {
"use strict";
var i = e("./lib/event"), r = function(e, t) {
this.onRender = e, this.pending = !1, this.changes = 0, this.window = t || window;
};
(function() {
this.schedule = function(e) {
if (this.changes = this.changes | e, !this.pending && this.changes) {
this.pending = !0;
var t = this;
i.nextFrame(function() {
t.pending = !1;
for (var e; e = t.changes; ) t.changes = 0, t.onRender(e);
}, this.window);
}
};
}).call(r.prototype), t.RenderLoop = r;
}), ace.define("ace/layer/font_metrics", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter" ], function(e, t, n) {
var i = e("../lib/oop"), r = e("../lib/dom"), o = e("../lib/lang"), a = e("../lib/useragent"), s = e("../lib/event_emitter").EventEmitter, l = 0, c = t.FontMetrics = function(e) {
this.el = r.createElement("div"), this.$setMeasureNodeStyles(this.el.style, !0), this.$main = r.createElement("div"), this.$setMeasureNodeStyles(this.$main.style), this.$measureNode = r.createElement("div"), this.$setMeasureNodeStyles(this.$measureNode.style), this.el.appendChild(this.$main), this.el.appendChild(this.$measureNode), e.appendChild(this.el), l || this.$testFractionalRect(), this.$measureNode.innerHTML = o.stringRepeat("X", l), this.$characterSize = {
width: 0,
height: 0
}, this.checkForSizeChanges();
};
(function() {
i.implement(this, s), this.$characterSize = {
width: 0,
height: 0
}, this.$testFractionalRect = function() {
var e = r.createElement("div");
this.$setMeasureNodeStyles(e.style), e.style.width = "0.2px", document.documentElement.appendChild(e);
var t = e.getBoundingClientRect().width;
l = t > 0 && t < 1 ? 50 : 100, e.parentNode.removeChild(e);
}, this.$setMeasureNodeStyles = function(e, t) {
e.width = e.height = "auto", e.left = e.top = "0px", e.visibility = "hidden", e.position = "absolute", e.whiteSpace = "pre", a.isIE < 8 ? e["font-family"] = "inherit" : e.font = "inherit", e.overflow = t ? "hidden" : "visible";
}, this.checkForSizeChanges = function() {
var e = this.$measureSizes();
if (e && (this.$characterSize.width !== e.width || this.$characterSize.height !== e.height)) {
this.$measureNode.style.fontWeight = "bold";
var t = this.$measureSizes();
this.$measureNode.style.fontWeight = "", this.$characterSize = e, this.charSizes = Object.create(null), this.allowBoldFonts = t && t.width === e.width && t.height === e.height, this._emit("changeCharacterSize", {
data: e
});
}
}, this.$pollSizeChanges = function() {
if (this.$pollSizeChangesTimer) return this.$pollSizeChangesTimer;
var e = this;
return this.$pollSizeChangesTimer = setInterval(function() {
e.checkForSizeChanges();
}, 500);
}, this.setPolling = function(e) {
e ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && (clearInterval(this.$pollSizeChangesTimer), this.$pollSizeChangesTimer = 0);
}, this.$measureSizes = function() {
if (50 === l) {
var e = null;
try {
e = this.$measureNode.getBoundingClientRect();
} catch (t) {
e = {
width: 0,
height: 0
};
}
t = {
height: e.height,
width: e.width / l
};
} else var t = {
height: this.$measureNode.clientHeight,
width: this.$measureNode.clientWidth / l
};
return 0 === t.width || 0 === t.height ? null : t;
}, this.$measureCharWidth = function(e) {
return this.$main.innerHTML = o.stringRepeat(e, l), this.$main.getBoundingClientRect().width / l;
}, this.getCharacterWidth = function(e) {
var t = this.charSizes[e];
return void 0 === t && (t = this.charSizes[e] = this.$measureCharWidth(e) / this.$characterSize.width), t;
}, this.destroy = function() {
clearInterval(this.$pollSizeChangesTimer), this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el);
};
}).call(c.prototype);
}), ace.define("ace/virtual_renderer", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/lib/useragent", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/dom"), o = e("./config"), a = e("./lib/useragent"), s = e("./layer/gutter").Gutter, l = e("./layer/marker").Marker, c = e("./layer/text").Text, u = e("./layer/cursor").Cursor, d = e("./scrollbar").HScrollBar, h = e("./scrollbar").VScrollBar, f = e("./renderloop").RenderLoop, p = e("./layer/font_metrics").FontMetrics, g = e("./lib/event_emitter").EventEmitter;
r.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}', "ace_editor.css");
var m = function(e, t) {
var n = this;
this.container = e || r.createElement("div"), this.$keepTextAreaAtCursor = !a.isOldIE, r.addCssClass(this.container, "ace_editor"), this.setTheme(t), this.$gutter = r.createElement("div"), this.$gutter.className = "ace_gutter", this.container.appendChild(this.$gutter), this.$gutter.setAttribute("aria-hidden", !0), this.scroller = r.createElement("div"), this.scroller.className = "ace_scroller", this.container.appendChild(this.scroller), this.content = r.createElement("div"), this.content.className = "ace_content", this.scroller.appendChild(this.content), this.$gutterLayer = new s(this.$gutter), this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)), this.$markerBack = new l(this.content);
var i = this.$textLayer = new c(this.content);
this.canvas = i.element, this.$markerFront = new l(this.content), this.$cursorLayer = new u(this.content), this.$horizScroll = !1, this.$vScroll = !1, this.scrollBar = this.scrollBarV = new h(this.container, this), this.scrollBarH = new d(this.container, this), this.scrollBarV.addEventListener("scroll", function(e) {
n.$scrollAnimation || n.session.setScrollTop(e.data - n.scrollMargin.top);
}), this.scrollBarH.addEventListener("scroll", function(e) {
n.$scrollAnimation || n.session.setScrollLeft(e.data - n.scrollMargin.left);
}), this.scrollTop = 0, this.scrollLeft = 0, this.cursorPos = {
row: 0,
column: 0
}, this.$fontMetrics = new p(this.container), this.$textLayer.$setFontMetrics(this.$fontMetrics), this.$textLayer.addEventListener("changeCharacterSize", function(e) {
n.updateCharacterSize(), n.onResize(!0, n.gutterWidth, n.$size.width, n.$size.height), n._signal("changeCharacterSize", e);
}), this.$size = {
width: 0,
height: 0,
scrollerHeight: 0,
scrollerWidth: 0,
$dirty: !0
}, this.layerConfig = {
width: 1,
padding: 0,
firstRow: 0,
firstRowScreen: 0,
lastRow: 0,
lineHeight: 0,
characterWidth: 0,
minHeight: 1,
maxHeight: 1,
offset: 0,
height: 1,
gutterOffset: 1
}, this.scrollMargin = {
left: 0,
right: 0,
top: 0,
bottom: 0,
v: 0,
h: 0
}, this.$loop = new f(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView), this.$loop.schedule(this.CHANGE_FULL), this.updateCharacterSize(), this.setPadding(4), o.resetOptions(this), o._emit("renderer", this);
};
(function() {
this.CHANGE_CURSOR = 1, this.CHANGE_MARKER = 2, this.CHANGE_GUTTER = 4, this.CHANGE_SCROLL = 8, this.CHANGE_LINES = 16, this.CHANGE_TEXT = 32, this.CHANGE_SIZE = 64, this.CHANGE_MARKER_BACK = 128, this.CHANGE_MARKER_FRONT = 256, this.CHANGE_FULL = 512, this.CHANGE_H_SCROLL = 1024, i.implement(this, g), this.updateCharacterSize = function() {
this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts, this.setStyle("ace_nobold", !this.$allowBoldFonts)), this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(), this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(), this.$updatePrintMargin();
}, this.setSession = function(e) {
this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode), this.session = e, e && this.scrollMargin.top && e.getScrollTop() <= 0 && e.setScrollTop(-this.scrollMargin.top), this.$cursorLayer.setSession(e), this.$markerBack.setSession(e), this.$markerFront.setSession(e), this.$gutterLayer.setSession(e), this.$textLayer.setSession(e), e && (this.$loop.schedule(this.CHANGE_FULL), this.session.$setFontMetrics(this.$fontMetrics), this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null, this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this), this.onChangeNewLineMode(), this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode));
}, this.updateLines = function(e, t, n) {
if (void 0 === t && (t = 1 / 0), this.$changedLines ? (this.$changedLines.firstRow > e && (this.$changedLines.firstRow = e), this.$changedLines.lastRow < t && (this.$changedLines.lastRow = t)) : this.$changedLines = {
firstRow: e,
lastRow: t
}, this.$changedLines.lastRow < this.layerConfig.firstRow) {
if (!n) return;
this.$changedLines.lastRow = this.layerConfig.lastRow;
}
this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES);
}, this.onChangeNewLineMode = function() {
this.$loop.schedule(this.CHANGE_TEXT), this.$textLayer.$updateEolChar(), this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);
}, this.onChangeTabSize = function() {
this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER), this.$textLayer.onChangeTabSize();
}, this.updateText = function() {
this.$loop.schedule(this.CHANGE_TEXT);
}, this.updateFull = function(e) {
e ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL);
}, this.updateFontSize = function() {
this.$textLayer.checkForSizeChanges();
}, this.$changes = 0, this.$updateSizeAsync = function() {
this.$loop.pending ? this.$size.$dirty = !0 : this.onResize();
}, this.onResize = function(e, t, n, i) {
if (!(this.resizing > 2)) {
this.resizing > 0 ? this.resizing++ : this.resizing = e ? 1 : 0;
var r = this.container;
i || (i = r.clientHeight || r.scrollHeight), n || (n = r.clientWidth || r.scrollWidth);
var o = this.$updateCachedSize(e, t, n, i);
if (!this.$size.scrollerHeight || !n && !i) return this.resizing = 0;
e && (this.$gutterLayer.$padding = null), e ? this.$renderChanges(o | this.$changes, !0) : this.$loop.schedule(o | this.$changes), this.resizing && (this.resizing = 0), this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;
}
}, this.$updateCachedSize = function(e, t, n, i) {
i -= this.$extraHeight || 0;
var r = 0, o = this.$size, a = {
width: o.width,
height: o.height,
scrollerHeight: o.scrollerHeight,
scrollerWidth: o.scrollerWidth
};
return i && (e || o.height != i) && (o.height = i, r |= this.CHANGE_SIZE, o.scrollerHeight = o.height, this.$horizScroll && (o.scrollerHeight -= this.scrollBarH.getHeight()), this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px", r |= this.CHANGE_SCROLL), n && (e || o.width != n) && (r |= this.CHANGE_SIZE, o.width = n, null == t && (t = this.$showGutter ? this.$gutter.offsetWidth : 0), this.gutterWidth = t, this.scrollBarH.element.style.left = this.scroller.style.left = t + "px", o.scrollerWidth = Math.max(0, n - t - this.scrollBarV.getWidth()), this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + "px", this.scroller.style.bottom = this.scrollBarH.getHeight() + "px", (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || e) && (r |= this.CHANGE_FULL)), o.$dirty = !n || !i, r && this._signal("resize", a), r;
}, this.onGutterResize = function() {
var e = this.$showGutter ? this.$gutter.offsetWidth : 0;
e != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, e, this.$size.width, this.$size.height)), this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : (this.$computeLayerConfig(), this.$loop.schedule(this.CHANGE_MARKER));
}, this.adjustWrapLimit = function() {
var e = this.$size.scrollerWidth - 2 * this.$padding, t = Math.floor(e / this.characterWidth);
return this.session.adjustWrapLimit(t, this.$showPrintMargin && this.$printMarginColumn);
}, this.setAnimatedScroll = function(e) {
this.setOption("animatedScroll", e);
}, this.getAnimatedScroll = function() {
return this.$animatedScroll;
}, this.setShowInvisibles = function(e) {
this.setOption("showInvisibles", e), this.session.$bidiHandler.setShowInvisibles(e);
}, this.getShowInvisibles = function() {
return this.getOption("showInvisibles");
}, this.getDisplayIndentGuides = function() {
return this.getOption("displayIndentGuides");
}, this.setDisplayIndentGuides = function(e) {
this.setOption("displayIndentGuides", e);
}, this.setShowPrintMargin = function(e) {
this.setOption("showPrintMargin", e);
}, this.getShowPrintMargin = function() {
return this.getOption("showPrintMargin");
}, this.setPrintMarginColumn = function(e) {
this.setOption("printMarginColumn", e);
}, this.getPrintMarginColumn = function() {
return this.getOption("printMarginColumn");
}, this.getShowGutter = function() {
return this.getOption("showGutter");
}, this.setShowGutter = function(e) {
return this.setOption("showGutter", e);
}, this.getFadeFoldWidgets = function() {
return this.getOption("fadeFoldWidgets");
}, this.setFadeFoldWidgets = function(e) {
this.setOption("fadeFoldWidgets", e);
}, this.setHighlightGutterLine = function(e) {
this.setOption("highlightGutterLine", e);
}, this.getHighlightGutterLine = function() {
return this.getOption("highlightGutterLine");
}, this.$updateGutterLineHighlight = function() {
var e = this.$cursorLayer.$pixelPos, t = this.layerConfig.lineHeight;
if (this.session.getUseWrapMode()) {
var n = this.session.selection.getCursor();
n.column = 0, e = this.$cursorLayer.getPixelPosition(n, !0), t *= this.session.getRowLength(n.row);
}
this.$gutterLineHighlight.style.top = e.top - this.layerConfig.offset + "px", this.$gutterLineHighlight.style.height = t + "px";
}, this.$updatePrintMargin = function() {
if (this.$showPrintMargin || this.$printMarginEl) {
if (!this.$printMarginEl) {
var e = r.createElement("div");
e.className = "ace_layer ace_print-margin-layer", this.$printMarginEl = r.createElement("div"), this.$printMarginEl.className = "ace_print-margin", e.appendChild(this.$printMarginEl), this.content.insertBefore(e, this.content.firstChild);
}
var t = this.$printMarginEl.style;
t.left = this.characterWidth * this.$printMarginColumn + this.$padding + "px", t.visibility = this.$showPrintMargin ? "visible" : "hidden", this.session && -1 == this.session.$wrap && this.adjustWrapLimit();
}
}, this.getContainerElement = function() {
return this.container;
}, this.getMouseEventTarget = function() {
return this.scroller;
}, this.getTextAreaContainer = function() {
return this.container;
}, this.$moveTextAreaToCursor = function() {
if (this.$keepTextAreaAtCursor) {
var e = this.layerConfig, t = this.$cursorLayer.$pixelPos.top, n = this.$cursorLayer.$pixelPos.left;
t -= e.offset;
var i = this.textarea.style, r = this.lineHeight;
if (t < 0 || t > e.height - r) i.top = i.left = "0"; else {
var o = this.characterWidth;
if (this.$composition) {
var a = this.textarea.value.replace(/^\x01+/, "");
o *= this.session.$getStringScreenWidth(a)[0] + 2, r += 2;
}
(n -= this.scrollLeft) > this.$size.scrollerWidth - o && (n = this.$size.scrollerWidth - o), n += this.gutterWidth, i.height = r + "px", i.width = o + "px", i.left = Math.min(n, this.$size.scrollerWidth - o) + "px", i.top = Math.min(t, this.$size.height - r) + "px";
}
}
}, this.getFirstVisibleRow = function() {
return this.layerConfig.firstRow;
}, this.getFirstFullyVisibleRow = function() {
return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1);
}, this.getLastFullyVisibleRow = function() {
var e = this.layerConfig, t = e.lastRow;
return this.session.documentToScreenRow(t, 0) * e.lineHeight - this.session.getScrollTop() > e.height - e.lineHeight ? t - 1 : t;
}, this.getLastVisibleRow = function() {
return this.layerConfig.lastRow;
}, this.$padding = null, this.setPadding = function(e) {
this.$padding = e, this.$textLayer.setPadding(e), this.$cursorLayer.setPadding(e), this.$markerFront.setPadding(e), this.$markerBack.setPadding(e), this.$loop.schedule(this.CHANGE_FULL), this.$updatePrintMargin();
}, this.setScrollMargin = function(e, t, n, i) {
var r = this.scrollMargin;
r.top = 0 | e, r.bottom = 0 | t, r.right = 0 | i, r.left = 0 | n, r.v = r.top + r.bottom, r.h = r.left + r.right, r.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-r.top), this.updateFull();
}, this.getHScrollBarAlwaysVisible = function() {
return this.$hScrollBarAlwaysVisible;
}, this.setHScrollBarAlwaysVisible = function(e) {
this.setOption("hScrollBarAlwaysVisible", e);
}, this.getVScrollBarAlwaysVisible = function() {
return this.$vScrollBarAlwaysVisible;
}, this.setVScrollBarAlwaysVisible = function(e) {
this.setOption("vScrollBarAlwaysVisible", e);
}, this.$updateScrollBarV = function() {
var e = this.layerConfig.maxHeight, t = this.$size.scrollerHeight;
!this.$maxLines && this.$scrollPastEnd && (e -= (t - this.lineHeight) * this.$scrollPastEnd, this.scrollTop > e - t && (e = this.scrollTop + t, this.scrollBarV.scrollTop = null)), this.scrollBarV.setScrollHeight(e + this.scrollMargin.v), this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
}, this.$updateScrollBarH = function() {
this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h), this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
}, this.$frozen = !1, this.freeze = function() {
this.$frozen = !0;
}, this.unfreeze = function() {
this.$frozen = !1;
}, this.$renderChanges = function(e, t) {
this.$changes && (e |= this.$changes, this.$changes = 0);
{
if (this.session && this.container.offsetWidth && !this.$frozen && (e || t)) {
if (this.$size.$dirty) return this.$changes |= e, this.onResize(!0);
this.lineHeight || this.$textLayer.checkForSizeChanges(), this._signal("beforeRender"), this.session && this.session.$bidiHandler && this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);
var n = this.layerConfig;
if (e & this.CHANGE_FULL || e & this.CHANGE_SIZE || e & this.CHANGE_TEXT || e & this.CHANGE_LINES || e & this.CHANGE_SCROLL || e & this.CHANGE_H_SCROLL) {
if (e |= this.$computeLayerConfig(), n.firstRow != this.layerConfig.firstRow && n.firstRowScreen == this.layerConfig.firstRowScreen) {
var i = this.scrollTop + (n.firstRow - this.layerConfig.firstRow) * this.lineHeight;
i > 0 && (this.scrollTop = i, e |= this.CHANGE_SCROLL, e |= this.$computeLayerConfig());
}
n = this.layerConfig, this.$updateScrollBarV(), e & this.CHANGE_H_SCROLL && this.$updateScrollBarH(), this.$gutterLayer.element.style.marginTop = -n.offset + "px", this.content.style.marginTop = -n.offset + "px", this.content.style.width = n.width + 2 * this.$padding + "px", this.content.style.height = n.minHeight + "px";
}
return e & this.CHANGE_H_SCROLL && (this.content.style.marginLeft = -this.scrollLeft + "px", this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"), e & this.CHANGE_FULL ? (this.$textLayer.update(n), this.$showGutter && this.$gutterLayer.update(n), this.$markerBack.update(n), this.$markerFront.update(n), this.$cursorLayer.update(n), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight(), void this._signal("afterRender")) : e & this.CHANGE_SCROLL ? (e & this.CHANGE_TEXT || e & this.CHANGE_LINES ? this.$textLayer.update(n) : this.$textLayer.scrollLines(n), this.$showGutter && this.$gutterLayer.update(n), this.$markerBack.update(n), this.$markerFront.update(n), this.$cursorLayer.update(n), this.$highlightGutterLine && this.$updateGutterLineHighlight(), this.$moveTextAreaToCursor(), void this._signal("afterRender")) : (e & this.CHANGE_TEXT ? (this.$textLayer.update(n), this.$showGutter && this.$gutterLayer.update(n)) : e & this.CHANGE_LINES ? (this.$updateLines() || e & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(n) : (e & this.CHANGE_TEXT || e & this.CHANGE_GUTTER) && this.$showGutter && this.$gutterLayer.update(n), 
e & this.CHANGE_CURSOR && (this.$cursorLayer.update(n), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight()), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(n), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(n), void this._signal("afterRender"));
}
this.$changes |= e;
}
}, this.$autosize = function() {
var e = this.session.getScreenLength() * this.lineHeight, t = this.$maxLines * this.lineHeight, n = Math.min(t, Math.max((this.$minLines || 1) * this.lineHeight, e)) + this.scrollMargin.v + (this.$extraHeight || 0);
this.$horizScroll && (n += this.scrollBarH.getHeight()), this.$maxPixelHeight && n > this.$maxPixelHeight && (n = this.$maxPixelHeight);
var i = e > t;
if (n != this.desiredHeight || this.$size.height != this.desiredHeight || i != this.$vScroll) {
i != this.$vScroll && (this.$vScroll = i, this.scrollBarV.setVisible(i));
var r = this.container.clientWidth;
this.container.style.height = n + "px", this.$updateCachedSize(!0, this.$gutterWidth, r, n), this.desiredHeight = n, this._signal("autosize");
}
}, this.$computeLayerConfig = function() {
var e = this.session, t = this.$size, n = t.height <= 2 * this.lineHeight, i = this.session.getScreenLength() * this.lineHeight, r = this.$getLongestLine(), o = !n && (this.$hScrollBarAlwaysVisible || t.scrollerWidth - r - 2 * this.$padding < 0), a = this.$horizScroll !== o;
a && (this.$horizScroll = o, this.scrollBarH.setVisible(o));
var s = this.$vScroll;
this.$maxLines && this.lineHeight > 1 && this.$autosize();
var l = this.scrollTop % this.lineHeight, c = t.scrollerHeight + this.lineHeight, u = !this.$maxLines && this.$scrollPastEnd ? (t.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
i += u;
var d = this.scrollMargin;
this.session.setScrollTop(Math.max(-d.top, Math.min(this.scrollTop, i - t.scrollerHeight + d.bottom))), this.session.setScrollLeft(Math.max(-d.left, Math.min(this.scrollLeft, r + 2 * this.$padding - t.scrollerWidth + d.right)));
var h = !n && (this.$vScrollBarAlwaysVisible || t.scrollerHeight - i + u < 0 || this.scrollTop > d.top), f = s !== h;
f && (this.$vScroll = h, this.scrollBarV.setVisible(h));
var p, g, m = Math.ceil(c / this.lineHeight) - 1, v = Math.max(0, Math.round((this.scrollTop - l) / this.lineHeight)), y = v + m, b = this.lineHeight;
v = e.screenToDocumentRow(v, 0);
var _ = e.getFoldLine(v);
_ && (v = _.start.row), p = e.documentToScreenRow(v, 0), g = e.getRowLength(v) * b, y = Math.min(e.screenToDocumentRow(y, 0), e.getLength() - 1), c = t.scrollerHeight + e.getRowLength(y) * b + g, l = this.scrollTop - p * b;
var w = 0;
return this.layerConfig.width != r && (w = this.CHANGE_H_SCROLL), (a || f) && (w = this.$updateCachedSize(!0, this.gutterWidth, t.width, t.height), this._signal("scrollbarVisibilityChanged"), f && (r = this.$getLongestLine())), this.layerConfig = {
width: r,
padding: this.$padding,
firstRow: v,
firstRowScreen: p,
lastRow: y,
lineHeight: b,
characterWidth: this.characterWidth,
minHeight: c,
maxHeight: i,
offset: l,
gutterOffset: b ? Math.max(0, Math.ceil((l + t.height - t.scrollerHeight) / b)) : 0,
height: this.$size.scrollerHeight
}, w;
}, this.$updateLines = function() {
if (this.$changedLines) {
var e = this.$changedLines.firstRow, t = this.$changedLines.lastRow;
this.$changedLines = null;
var n = this.layerConfig;
if (!(e > n.lastRow + 1 || t < n.firstRow)) return t === 1 / 0 ? (this.$showGutter && this.$gutterLayer.update(n), void this.$textLayer.update(n)) : (this.$textLayer.updateLines(n, e, t), !0);
}
}, this.$getLongestLine = function() {
var e = this.session.getScreenWidth();
return this.showInvisibles && !this.session.$useWrapMode && (e += 1), Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(e * this.characterWidth));
}, this.updateFrontMarkers = function() {
this.$markerFront.setMarkers(this.session.getMarkers(!0)), this.$loop.schedule(this.CHANGE_MARKER_FRONT);
}, this.updateBackMarkers = function() {
this.$markerBack.setMarkers(this.session.getMarkers()), this.$loop.schedule(this.CHANGE_MARKER_BACK);
}, this.addGutterDecoration = function(e, t) {
this.$gutterLayer.addGutterDecoration(e, t);
}, this.removeGutterDecoration = function(e, t) {
this.$gutterLayer.removeGutterDecoration(e, t);
}, this.updateBreakpoints = function(e) {
this.$loop.schedule(this.CHANGE_GUTTER);
}, this.setAnnotations = function(e) {
this.$gutterLayer.setAnnotations(e), this.$loop.schedule(this.CHANGE_GUTTER);
}, this.updateCursor = function() {
this.$loop.schedule(this.CHANGE_CURSOR);
}, this.hideCursor = function() {
this.$cursorLayer.hideCursor();
}, this.showCursor = function() {
this.$cursorLayer.showCursor();
}, this.scrollSelectionIntoView = function(e, t, n) {
this.scrollCursorIntoView(e, n), this.scrollCursorIntoView(t, n);
}, this.scrollCursorIntoView = function(e, t, n) {
if (0 !== this.$size.scrollerHeight) {
var i = this.$cursorLayer.getPixelPosition(e), r = i.left, o = i.top, a = n && n.top || 0, s = n && n.bottom || 0, l = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
l + a > o ? (t && l + a > o + this.lineHeight && (o -= t * this.$size.scrollerHeight), 0 === o && (o = -this.scrollMargin.top), this.session.setScrollTop(o)) : l + this.$size.scrollerHeight - s < o + this.lineHeight && (t && l + this.$size.scrollerHeight - s < o - this.lineHeight && (o += t * this.$size.scrollerHeight), this.session.setScrollTop(o + this.lineHeight - this.$size.scrollerHeight));
var c = this.scrollLeft;
c > r ? (r < this.$padding + 2 * this.layerConfig.characterWidth && (r = -this.scrollMargin.left), this.session.setScrollLeft(r)) : c + this.$size.scrollerWidth < r + this.characterWidth ? this.session.setScrollLeft(Math.round(r + this.characterWidth - this.$size.scrollerWidth)) : c <= this.$padding && r - c < this.characterWidth && this.session.setScrollLeft(0);
}
}, this.getScrollTop = function() {
return this.session.getScrollTop();
}, this.getScrollLeft = function() {
return this.session.getScrollLeft();
}, this.getScrollTopRow = function() {
return this.scrollTop / this.lineHeight;
}, this.getScrollBottomRow = function() {
return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
}, this.scrollToRow = function(e) {
this.session.setScrollTop(e * this.lineHeight);
}, this.alignCursor = function(e, t) {
"number" == typeof e && (e = {
row: e,
column: 0
});
var n = this.$cursorLayer.getPixelPosition(e), i = this.$size.scrollerHeight - this.lineHeight, r = n.top - i * (t || 0);
return this.session.setScrollTop(r), r;
}, this.STEPS = 8, this.$calcSteps = function(e, t) {
var n = 0, i = this.STEPS, r = [];
for (n = 0; n < i; ++n) r.push(function(e, t, n) {
return n * (Math.pow(e - 1, 3) + 1) + t;
}(n / this.STEPS, e, t - e));
return r;
}, this.scrollToLine = function(e, t, n, i) {
var r = this.$cursorLayer.getPixelPosition({
row: e,
column: 0
}).top;
t && (r -= this.$size.scrollerHeight / 2);
var o = this.scrollTop;
this.session.setScrollTop(r), !1 !== n && this.animateScrolling(o, i);
}, this.animateScrolling = function(e, t) {
var n = this.scrollTop;
if (this.$animatedScroll) {
var i = this;
if (e != n) {
if (this.$scrollAnimation) {
var r = this.$scrollAnimation.steps;
if (r.length && (e = r[0]) == n) return;
}
var o = i.$calcSteps(e, n);
this.$scrollAnimation = {
from: e,
to: n,
steps: o
}, clearInterval(this.$timer), i.session.setScrollTop(o.shift()), i.session.$scrollTop = n, this.$timer = setInterval(function() {
o.length ? (i.session.setScrollTop(o.shift()), i.session.$scrollTop = n) : null != n ? (i.session.$scrollTop = -1, i.session.setScrollTop(n), n = null) : (i.$timer = clearInterval(i.$timer), i.$scrollAnimation = null, t && t());
}, 10);
}
}
}, this.scrollToY = function(e) {
this.scrollTop !== e && (this.$loop.schedule(this.CHANGE_SCROLL), this.scrollTop = e);
}, this.scrollToX = function(e) {
this.scrollLeft !== e && (this.scrollLeft = e), this.$loop.schedule(this.CHANGE_H_SCROLL);
}, this.scrollTo = function(e, t) {
this.session.setScrollTop(t), this.session.setScrollLeft(t);
}, this.scrollBy = function(e, t) {
t && this.session.setScrollTop(this.session.getScrollTop() + t), e && this.session.setScrollLeft(this.session.getScrollLeft() + e);
}, this.isScrollableBy = function(e, t) {
return t < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || (t > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom || (e < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || (e > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right || void 0)));
}, this.pixelToScreenCoordinates = function(e, t) {
var n = this.scroller.getBoundingClientRect(), i = e + this.scrollLeft - n.left - this.$padding, r = i / this.characterWidth, o = Math.floor((t + this.scrollTop - n.top) / this.lineHeight), a = Math.round(r);
return {
row: o,
column: a,
side: r - a > 0 ? 1 : -1,
offsetX: i
};
}, this.screenToTextCoordinates = function(e, t) {
var n = this.scroller.getBoundingClientRect(), i = e + this.scrollLeft - n.left - this.$padding, r = Math.round(i / this.characterWidth), o = (t + this.scrollTop - n.top) / this.lineHeight;
return this.session.screenToDocumentPosition(o, Math.max(r, 0), i);
}, this.textToScreenCoordinates = function(e, t) {
var n = this.scroller.getBoundingClientRect(), i = this.session.documentToScreenPosition(e, t), r = this.$padding + (this.session.$bidiHandler.isBidiRow(i.row, e) ? this.session.$bidiHandler.getPosLeft(i.column) : Math.round(i.column * this.characterWidth)), o = i.row * this.lineHeight;
return {
pageX: n.left + r - this.scrollLeft,
pageY: n.top + o - this.scrollTop
};
}, this.visualizeFocus = function() {
r.addCssClass(this.container, "ace_focus");
}, this.visualizeBlur = function() {
r.removeCssClass(this.container, "ace_focus");
}, this.showComposition = function(e) {
this.$composition || (this.$composition = {
keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
cssText: this.textarea.style.cssText
}), this.$keepTextAreaAtCursor = !0, r.addCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = "", this.$moveTextAreaToCursor();
}, this.setCompositionText = function(e) {
this.$moveTextAreaToCursor();
}, this.hideComposition = function() {
this.$composition && (r.removeCssClass(this.textarea, "ace_composition"), this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor, this.textarea.style.cssText = this.$composition.cssText, this.$composition = null);
}, this.setTheme = function(e, t) {
function n(n) {
if (i.$themeId != e) return t && t();
if (!n || !n.cssClass) throw new Error("couldn't load module " + e + " or it didn't call define");
r.importCssString(n.cssText, n.cssClass, i.container.ownerDocument), i.theme && r.removeCssClass(i.container, i.theme.cssClass);
var o = "padding" in n ? n.padding : "padding" in (i.theme || {}) ? 4 : i.$padding;
i.$padding && o != i.$padding && i.setPadding(o), i.$theme = n.cssClass, i.theme = n, r.addCssClass(i.container, n.cssClass), r.setCssClass(i.container, "ace_dark", n.isDark), i.$size && (i.$size.width = 0, i.$updateSizeAsync()), i._dispatchEvent("themeLoaded", {
theme: n
}), t && t();
}
var i = this;
if (this.$themeId = e, i._dispatchEvent("themeChange", {
theme: e
}), e && "string" != typeof e) n(e); else {
var a = e || this.$options.theme.initialValue;
o.loadModule([ "theme", a ], n);
}
}, this.getTheme = function() {
return this.$themeId;
}, this.setStyle = function(e, t) {
r.setCssClass(this.container, e, !1 !== t);
}, this.unsetStyle = function(e) {
r.removeCssClass(this.container, e);
}, this.setCursorStyle = function(e) {
this.scroller.style.cursor != e && (this.scroller.style.cursor = e);
}, this.setMouseCursor = function(e) {
this.scroller.style.cursor = e;
}, this.destroy = function() {
this.$textLayer.destroy(), this.$cursorLayer.destroy();
};
}).call(m.prototype), o.defineOptions(m.prototype, "renderer", {
animatedScroll: {
initialValue: !1
},
showInvisibles: {
set: function(e) {
this.$textLayer.setShowInvisibles(e) && this.$loop.schedule(this.CHANGE_TEXT);
},
initialValue: !1
},
showPrintMargin: {
set: function() {
this.$updatePrintMargin();
},
initialValue: !0
},
printMarginColumn: {
set: function() {
this.$updatePrintMargin();
},
initialValue: 80
},
printMargin: {
set: function(e) {
"number" == typeof e && (this.$printMarginColumn = e), this.$showPrintMargin = !!e, this.$updatePrintMargin();
},
get: function() {
return this.$showPrintMargin && this.$printMarginColumn;
}
},
showGutter: {
set: function(e) {
this.$gutter.style.display = e ? "block" : "none", this.$loop.schedule(this.CHANGE_FULL), this.onGutterResize();
},
initialValue: !0
},
fadeFoldWidgets: {
set: function(e) {
r.setCssClass(this.$gutter, "ace_fade-fold-widgets", e);
},
initialValue: !1
},
showFoldWidgets: {
set: function(e) {
this.$gutterLayer.setShowFoldWidgets(e);
},
initialValue: !0
},
showLineNumbers: {
set: function(e) {
this.$gutterLayer.setShowLineNumbers(e), this.$loop.schedule(this.CHANGE_GUTTER);
},
initialValue: !0
},
displayIndentGuides: {
set: function(e) {
this.$textLayer.setDisplayIndentGuides(e) && this.$loop.schedule(this.CHANGE_TEXT);
},
initialValue: !0
},
highlightGutterLine: {
set: function(e) {
if (!this.$gutterLineHighlight) return this.$gutterLineHighlight = r.createElement("div"), this.$gutterLineHighlight.className = "ace_gutter-active-line", void this.$gutter.appendChild(this.$gutterLineHighlight);
this.$gutterLineHighlight.style.display = e ? "" : "none", this.$cursorLayer.$pixelPos && this.$updateGutterLineHighlight();
},
initialValue: !1,
value: !0
},
hScrollBarAlwaysVisible: {
set: function(e) {
(!this.$hScrollBarAlwaysVisible || !this.$horizScroll) && this.$loop.schedule(this.CHANGE_SCROLL);
},
initialValue: !1
},
vScrollBarAlwaysVisible: {
set: function(e) {
(!this.$vScrollBarAlwaysVisible || !this.$vScroll) && this.$loop.schedule(this.CHANGE_SCROLL);
},
initialValue: !1
},
fontSize: {
set: function(e) {
"number" == typeof e && (e += "px"), this.container.style.fontSize = e, this.updateFontSize();
},
initialValue: 12
},
fontFamily: {
set: function(e) {
this.container.style.fontFamily = e, this.updateFontSize();
}
},
maxLines: {
set: function(e) {
this.updateFull();
}
},
minLines: {
set: function(e) {
this.updateFull();
}
},
maxPixelHeight: {
set: function(e) {
this.updateFull();
},
initialValue: 0
},
scrollPastEnd: {
set: function(e) {
e = +e || 0, this.$scrollPastEnd != e && (this.$scrollPastEnd = e, this.$loop.schedule(this.CHANGE_SCROLL));
},
initialValue: 0,
handlesSet: !0
},
fixedWidthGutter: {
set: function(e) {
this.$gutterLayer.$fixedWidth = !!e, this.$loop.schedule(this.CHANGE_GUTTER);
}
},
theme: {
set: function(e) {
this.setTheme(e);
},
get: function() {
return this.$themeId || this.theme;
},
initialValue: "./theme/textmate",
handlesSet: !0
}
}), t.VirtualRenderer = m;
}), ace.define("ace/worker/worker_client", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config" ], function(e, t, n) {
"use strict";
function i(e) {
var t = "importScripts('" + a.qualifyURL(e) + "');";
try {
return new Blob([ t ], {
type: "application/javascript"
});
} catch (e) {
var n = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder)();
return n.append(t), n.getBlob("application/javascript");
}
}
function r(e) {
var t = i(e), n = (window.URL || window.webkitURL).createObjectURL(t);
return new Worker(n);
}
var o = e("../lib/oop"), a = e("../lib/net"), s = e("../lib/event_emitter").EventEmitter, l = e("../config"), c = function(t, n, i, o, a) {
if (this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.onMessage = this.onMessage.bind(this), e.nameToUrl && !e.toUrl && (e.toUrl = e.nameToUrl), l.get("packaged") || !e.toUrl) o = o || l.moduleUrl(n, "worker"); else {
var s = this.$normalizePath;
o = o || s(e.toUrl("ace/worker/worker.js", null, "_"));
var c = {};
t.forEach(function(t) {
c[t] = s(e.toUrl(t, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
});
}
this.$worker = r(o), a && this.send("importScripts", a), this.$worker.postMessage({
init: !0,
tlns: c,
module: n,
classname: i
}), this.callbackId = 1, this.callbacks = {}, this.$worker.onmessage = this.onMessage;
};
(function() {
o.implement(this, s), this.onMessage = function(e) {
var t = e.data;
switch (t.type) {
case "event":
this._signal(t.name, {
data: t.data
});
break;

case "call":
var n = this.callbacks[t.id];
n && (n(t.data), delete this.callbacks[t.id]);
break;

case "error":
this.reportError(t.data);
break;

case "log":
window.console && console.log && console.log.apply(console, t.data);
}
}, this.reportError = function(e) {
window.console && console.error && console.error(e);
}, this.$normalizePath = function(e) {
return a.qualifyURL(e);
}, this.terminate = function() {
this._signal("terminate", {}), this.deltaQueue = null, this.$worker.terminate(), this.$worker = null, this.$doc && this.$doc.off("change", this.changeListener), this.$doc = null;
}, this.send = function(e, t) {
this.$worker.postMessage({
command: e,
args: t
});
}, this.call = function(e, t, n) {
if (n) {
var i = this.callbackId++;
this.callbacks[i] = n, t.push(i);
}
this.send(e, t);
}, this.emit = function(e, t) {
try {
this.$worker.postMessage({
event: e,
data: {
data: t.data
}
});
} catch (e) {
console.error(e.stack);
}
}, this.attachToDocument = function(e) {
this.$doc && this.terminate(), this.$doc = e, this.call("setValue", [ e.getValue() ]), e.on("change", this.changeListener);
}, this.changeListener = function(e) {
this.deltaQueue || (this.deltaQueue = [], setTimeout(this.$sendDeltaQueue, 0)), "insert" == e.action ? this.deltaQueue.push(e.start, e.lines) : this.deltaQueue.push(e.start, e.end);
}, this.$sendDeltaQueue = function() {
var e = this.deltaQueue;
e && (this.deltaQueue = null, e.length > 50 && e.length > this.$doc.getLength() >> 1 ? this.call("setValue", [ this.$doc.getValue() ]) : this.emit("change", {
data: e
}));
};
}).call(c.prototype);
var u = function(e, t, n) {
this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.callbackId = 1, this.callbacks = {}, this.messageBuffer = [];
var i = null, r = !1, o = Object.create(s), a = this;
this.$worker = {}, this.$worker.terminate = function() {}, this.$worker.postMessage = function(e) {
a.messageBuffer.push(e), i && (r ? setTimeout(c) : c());
}, this.setEmitSync = function(e) {
r = e;
};
var c = function() {
var e = a.messageBuffer.shift();
e.command ? i[e.command].apply(i, e.args) : e.event && o._signal(e.event, e.data);
};
o.postMessage = function(e) {
a.onMessage({
data: e
});
}, o.callback = function(e, t) {
this.postMessage({
type: "call",
id: t,
data: e
});
}, o.emit = function(e, t) {
this.postMessage({
type: "event",
name: e,
data: t
});
}, l.loadModule([ "worker", t ], function(e) {
for (i = new e[n](o); a.messageBuffer.length; ) c();
});
};
u.prototype = c.prototype, t.UIWorkerClient = u, t.WorkerClient = c, t.createWorker = r;
}), ace.define("ace/placeholder", [ "require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop" ], function(e, t, n) {
"use strict";
var i = e("./range").Range, r = e("./lib/event_emitter").EventEmitter, o = e("./lib/oop"), a = function(e, t, n, i, r, o) {
var a = this;
this.length = t, this.session = e, this.doc = e.getDocument(), this.mainClass = r, this.othersClass = o, this.$onUpdate = this.onUpdate.bind(this), this.doc.on("change", this.$onUpdate), this.$others = i, this.$onCursorChange = function() {
setTimeout(function() {
a.onCursorChange();
});
}, this.$pos = n;
var s = e.getUndoManager().$undoStack || e.getUndoManager().$undostack || {
length: -1
};
this.$undoStackDepth = s.length, this.setup(), e.selection.on("changeCursor", this.$onCursorChange);
};
(function() {
o.implement(this, r), this.setup = function() {
var e = this, t = this.doc, n = this.session;
this.selectionBefore = n.selection.toJSON(), n.selection.inMultiSelectMode && n.selection.toSingleRange(), this.pos = t.createAnchor(this.$pos.row, this.$pos.column);
var r = this.pos;
r.$insertRight = !0, r.detach(), r.markerId = n.addMarker(new i(r.row, r.column, r.row, r.column + this.length), this.mainClass, null, !1), this.others = [], this.$others.forEach(function(n) {
var i = t.createAnchor(n.row, n.column);
i.$insertRight = !0, i.detach(), e.others.push(i);
}), n.setUndoSelect(!1);
}, this.showOtherMarkers = function() {
if (!this.othersActive) {
var e = this.session, t = this;
this.othersActive = !0, this.others.forEach(function(n) {
n.markerId = e.addMarker(new i(n.row, n.column, n.row, n.column + t.length), t.othersClass, null, !1);
});
}
}, this.hideOtherMarkers = function() {
if (this.othersActive) {
this.othersActive = !1;
for (var e = 0; e < this.others.length; e++) this.session.removeMarker(this.others[e].markerId);
}
}, this.onUpdate = function(e) {
if (this.$updating) return this.updateAnchors(e);
var t = e;
if (t.start.row === t.end.row && t.start.row === this.pos.row) {
this.$updating = !0;
var n = "insert" === e.action ? t.end.column - t.start.column : t.start.column - t.end.column, r = t.start.column >= this.pos.column && t.start.column <= this.pos.column + this.length + 1, o = t.start.column - this.pos.column;
if (this.updateAnchors(e), r && (this.length += n), r && !this.session.$fromUndo) if ("insert" === e.action) for (a = this.others.length - 1; a >= 0; a--) {
l = {
row: (s = this.others[a]).row,
column: s.column + o
};
this.doc.insertMergedLines(l, e.lines);
} else if ("remove" === e.action) for (var a = this.others.length - 1; a >= 0; a--) {
var s = this.others[a], l = {
row: s.row,
column: s.column + o
};
this.doc.remove(new i(l.row, l.column, l.row, l.column - n));
}
this.$updating = !1, this.updateMarkers();
}
}, this.updateAnchors = function(e) {
this.pos.onChange(e);
for (var t = this.others.length; t--; ) this.others[t].onChange(e);
this.updateMarkers();
}, this.updateMarkers = function() {
if (!this.$updating) {
var e = this, t = this.session, n = function(n, r) {
t.removeMarker(n.markerId), n.markerId = t.addMarker(new i(n.row, n.column, n.row, n.column + e.length), r, null, !1);
};
n(this.pos, this.mainClass);
for (var r = this.others.length; r--; ) n(this.others[r], this.othersClass);
}
}, this.onCursorChange = function(e) {
if (!this.$updating && this.session) {
var t = this.session.selection.getCursor();
t.row === this.pos.row && t.column >= this.pos.column && t.column <= this.pos.column + this.length ? (this.showOtherMarkers(), this._emit("cursorEnter", e)) : (this.hideOtherMarkers(), this._emit("cursorLeave", e));
}
}, this.detach = function() {
this.session.removeMarker(this.pos && this.pos.markerId), this.hideOtherMarkers(), this.doc.removeEventListener("change", this.$onUpdate), this.session.selection.removeEventListener("changeCursor", this.$onCursorChange), this.session.setUndoSelect(!0), this.session = null;
}, this.cancel = function() {
if (-1 !== this.$undoStackDepth) {
for (var e = this.session.getUndoManager(), t = (e.$undoStack || e.$undostack).length - this.$undoStackDepth, n = 0; n < t; n++) e.undo(!0);
this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore);
}
};
}).call(a.prototype), t.PlaceHolder = a;
}), ace.define("ace/mouse/multi_select_handler", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
function i(e, t) {
return e.row == t.row && e.column == t.column;
}
var r = e("../lib/event"), o = e("../lib/useragent");
t.onMouseDown = function(e) {
var t = e.domEvent, n = t.altKey, a = t.shiftKey, s = t.ctrlKey, l = e.getAccelKey(), c = e.getButton();
if (s && o.isMac && (c = t.button), e.editor.inMultiSelectMode && 2 == c) e.editor.textInput.onContextMenu(e.domEvent); else if (s || n || l) {
if (0 === c) {
var u, d = e.editor, h = d.selection, f = d.inMultiSelectMode, p = e.getDocumentPosition(), g = h.getCursor(), m = e.inSelection() || h.isEmpty() && i(p, g), v = e.x, y = e.y, b = d.session, _ = d.renderer.pixelToScreenCoordinates(v, y), w = _;
if (d.$mouseHandler.$enableJumpToDef) s && n || l && n ? u = a ? "block" : "add" : n && d.$blockSelectEnabled && (u = "block"); else if (l && !n) {
if (u = "add", !f && a) return;
} else n && d.$blockSelectEnabled && (u = "block");
if (u && o.isMac && t.ctrlKey && d.$mouseHandler.cancelContextMenu(), "add" == u) {
if (!f && m) return;
if (!f) {
var C = h.toOrientedRange();
d.addSelectionMarker(C);
}
var x = h.rangeList.rangeAtPoint(p);
d.$blockScrolling++, d.inVirtualSelectionMode = !0, a && (x = null, C = h.ranges[0] || C, d.removeSelectionMarker(C)), d.once("mouseup", function() {
var e = h.toOrientedRange();
x && e.isEmpty() && i(x.cursor, e.cursor) ? h.substractPoint(e.cursor) : (a ? h.substractPoint(C.cursor) : C && (d.removeSelectionMarker(C), h.addRange(C)), h.addRange(e)), d.$blockScrolling--, d.inVirtualSelectionMode = !1;
});
} else if ("block" == u) {
e.stop(), d.inVirtualSelectionMode = !0;
var S, $ = [];
d.$blockScrolling++, f && !l ? h.toSingleRange() : !f && l && (S = h.toOrientedRange(), d.addSelectionMarker(S)), a ? _ = b.documentToScreenPosition(h.lead) : h.moveToPosition(p), d.$blockScrolling--, w = {
row: -1,
column: -1
};
var A = function() {
var e = d.renderer.pixelToScreenCoordinates(v, y), t = b.screenToDocumentPosition(e.row, e.column, e.offsetX);
i(w, e) && i(t, h.lead) || (w = e, d.$blockScrolling++, d.selection.moveToPosition(t), d.renderer.scrollCursorIntoView(), d.removeSelectionMarkers($), $ = h.rectangularRangeBlock(w, _), d.$mouseHandler.$clickSelection && 1 == $.length && $[0].isEmpty() && ($[0] = d.$mouseHandler.$clickSelection.clone()), $.forEach(d.addSelectionMarker, d), d.updateSelectionMarkers(), d.$blockScrolling--);
};
r.capture(d.container, function(e) {
v = e.clientX, y = e.clientY;
}, function(e) {
clearInterval(k), d.removeSelectionMarkers($), $.length || ($ = [ h.toOrientedRange() ]), d.$blockScrolling++, S && (d.removeSelectionMarker(S), h.toSingleRange(S));
for (var t = 0; t < $.length; t++) h.addRange($[t]);
d.inVirtualSelectionMode = !1, d.$mouseHandler.$clickSelection = null, d.$blockScrolling--;
});
var k = setInterval(function() {
A();
}, 20);
return e.preventDefault();
}
}
} else 0 === c && e.editor.inMultiSelectMode && e.editor.exitMultiSelectMode();
};
}), ace.define("ace/commands/multi_select_commands", [ "require", "exports", "module", "ace/keyboard/hash_handler" ], function(e, t, n) {
t.defaultCommands = [ {
name: "addCursorAbove",
exec: function(e) {
e.selectMoreLines(-1);
},
bindKey: {
win: "Ctrl-Alt-Up",
mac: "Ctrl-Alt-Up"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "addCursorBelow",
exec: function(e) {
e.selectMoreLines(1);
},
bindKey: {
win: "Ctrl-Alt-Down",
mac: "Ctrl-Alt-Down"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "addCursorAboveSkipCurrent",
exec: function(e) {
e.selectMoreLines(-1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Up",
mac: "Ctrl-Alt-Shift-Up"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "addCursorBelowSkipCurrent",
exec: function(e) {
e.selectMoreLines(1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Down",
mac: "Ctrl-Alt-Shift-Down"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectMoreBefore",
exec: function(e) {
e.selectMore(-1);
},
bindKey: {
win: "Ctrl-Alt-Left",
mac: "Ctrl-Alt-Left"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectMoreAfter",
exec: function(e) {
e.selectMore(1);
},
bindKey: {
win: "Ctrl-Alt-Right",
mac: "Ctrl-Alt-Right"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectNextBefore",
exec: function(e) {
e.selectMore(-1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Left",
mac: "Ctrl-Alt-Shift-Left"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectNextAfter",
exec: function(e) {
e.selectMore(1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Right",
mac: "Ctrl-Alt-Shift-Right"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "splitIntoLines",
exec: function(e) {
e.multiSelect.splitIntoLines();
},
bindKey: {
win: "Ctrl-Alt-L",
mac: "Ctrl-Alt-L"
},
readOnly: !0
}, {
name: "alignCursors",
exec: function(e) {
e.alignCursors();
},
bindKey: {
win: "Ctrl-Alt-A",
mac: "Ctrl-Alt-A"
},
scrollIntoView: "cursor"
}, {
name: "findAll",
exec: function(e) {
e.findAll();
},
bindKey: {
win: "Ctrl-Alt-K",
mac: "Ctrl-Alt-G"
},
scrollIntoView: "cursor",
readOnly: !0
} ], t.multiSelectCommands = [ {
name: "singleSelection",
bindKey: "esc",
exec: function(e) {
e.exitMultiSelectMode();
},
scrollIntoView: "cursor",
readOnly: !0,
isAvailable: function(e) {
return e && e.inMultiSelectMode;
}
} ];
var i = e("../keyboard/hash_handler").HashHandler;
t.keyboardHandler = new i(t.multiSelectCommands);
}), ace.define("ace/multi_select", [ "require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config" ], function(e, t, n) {
function i(e, t, n) {
return p.$options.wrap = !0, p.$options.needle = t, p.$options.backwards = -1 == n, p.find(e);
}
function r(e, t) {
return e.row == t.row && e.column == t.column;
}
function o(e) {
e.$multiselectOnSessionChange || (e.$onAddRange = e.$onAddRange.bind(e), e.$onRemoveRange = e.$onRemoveRange.bind(e), e.$onMultiSelect = e.$onMultiSelect.bind(e), e.$onSingleSelect = e.$onSingleSelect.bind(e), e.$multiselectOnSessionChange = t.onSessionChange.bind(e), e.$checkMultiselectChange = e.$checkMultiselectChange.bind(e), e.$multiselectOnSessionChange(e), e.on("changeSession", e.$multiselectOnSessionChange), e.on("mousedown", u), e.commands.addCommands(f.defaultCommands), a(e));
}
function a(e) {
function t(t) {
i && (e.renderer.setMouseCursor(""), i = !1);
}
var n = e.textInput.getElement(), i = !1;
d.addListener(n, "keydown", function(n) {
var r = 18 == n.keyCode && !(n.ctrlKey || n.shiftKey || n.metaKey);
e.$blockSelectEnabled && r ? i || (e.renderer.setMouseCursor("crosshair"), i = !0) : i && t();
}), d.addListener(n, "keyup", t), d.addListener(n, "blur", t);
}
var s = e("./range_list").RangeList, l = e("./range").Range, c = e("./selection").Selection, u = e("./mouse/multi_select_handler").onMouseDown, d = e("./lib/event"), h = e("./lib/lang"), f = e("./commands/multi_select_commands");
t.commands = f.defaultCommands.concat(f.multiSelectCommands);
var p = new (0, e("./search").Search)(), g = e("./edit_session").EditSession;
(function() {
this.getSelectionMarkers = function() {
return this.$selectionMarkers;
};
}).call(g.prototype), function() {
this.ranges = null, this.rangeList = null, this.addRange = function(e, t) {
if (e) {
if (!this.inMultiSelectMode && 0 === this.rangeCount) {
var n = this.toOrientedRange();
if (this.rangeList.add(n), this.rangeList.add(e), 2 != this.rangeList.ranges.length) return this.rangeList.removeAll(), t || this.fromOrientedRange(e);
this.rangeList.removeAll(), this.rangeList.add(n), this.$onAddRange(n);
}
e.cursor || (e.cursor = e.end);
var i = this.rangeList.add(e);
return this.$onAddRange(e), i.length && this.$onRemoveRange(i), this.rangeCount > 1 && !this.inMultiSelectMode && (this._signal("multiSelect"), this.inMultiSelectMode = !0, this.session.$undoSelect = !1, this.rangeList.attach(this.session)), t || this.fromOrientedRange(e);
}
}, this.toSingleRange = function(e) {
e = e || this.ranges[0];
var t = this.rangeList.removeAll();
t.length && this.$onRemoveRange(t), e && this.fromOrientedRange(e);
}, this.substractPoint = function(e) {
var t = this.rangeList.substractPoint(e);
if (t) return this.$onRemoveRange(t), t[0];
}, this.mergeOverlappingRanges = function() {
var e = this.rangeList.merge();
e.length ? this.$onRemoveRange(e) : this.ranges[0] && this.fromOrientedRange(this.ranges[0]);
}, this.$onAddRange = function(e) {
this.rangeCount = this.rangeList.ranges.length, this.ranges.unshift(e), this._signal("addRange", {
range: e
});
}, this.$onRemoveRange = function(e) {
if (this.rangeCount = this.rangeList.ranges.length, 1 == this.rangeCount && this.inMultiSelectMode) {
var t = this.rangeList.ranges.pop();
e.push(t), this.rangeCount = 0;
}
for (var n = e.length; n--; ) {
var i = this.ranges.indexOf(e[n]);
this.ranges.splice(i, 1);
}
this._signal("removeRange", {
ranges: e
}), 0 === this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1, this._signal("singleSelect"), this.session.$undoSelect = !0, this.rangeList.detach(this.session)), (t = t || this.ranges[0]) && !t.isEqual(this.getRange()) && this.fromOrientedRange(t);
}, this.$initRangeList = function() {
this.rangeList || (this.rangeList = new s(), this.ranges = [], this.rangeCount = 0);
}, this.getAllRanges = function() {
return this.rangeCount ? this.rangeList.ranges.concat() : [ this.getRange() ];
}, this.splitIntoLines = function() {
if (this.rangeCount > 1) {
var e = this.rangeList.ranges, t = e[e.length - 1], n = l.fromPoints(e[0].start, t.end);
this.toSingleRange(), this.setSelectionRange(n, t.cursor == t.start);
} else {
var n = this.getRange(), i = this.isBackwards(), r = n.start.row, o = n.end.row;
if (r == o) {
if (i) var a = n.end, s = n.start; else var a = n.start, s = n.end;
return this.addRange(l.fromPoints(s, s)), void this.addRange(l.fromPoints(a, a));
}
var c = [], u = this.getLineRange(r, !0);
u.start.column = n.start.column, c.push(u);
for (var d = r + 1; d < o; d++) c.push(this.getLineRange(d, !0));
(u = this.getLineRange(o, !0)).end.column = n.end.column, c.push(u), c.forEach(this.addRange, this);
}
}, this.toggleBlockSelection = function() {
if (this.rangeCount > 1) {
var e = this.rangeList.ranges, t = e[e.length - 1], n = l.fromPoints(e[0].start, t.end);
this.toSingleRange(), this.setSelectionRange(n, t.cursor == t.start);
} else {
var i = this.session.documentToScreenPosition(this.selectionLead), r = this.session.documentToScreenPosition(this.selectionAnchor);
this.rectangularRangeBlock(i, r).forEach(this.addRange, this);
}
}, this.rectangularRangeBlock = function(e, t, n) {
var i = [], o = e.column < t.column;
if (o) var a = e.column, s = t.column, c = e.offsetX, u = t.offsetX; else var a = t.column, s = e.column, c = t.offsetX, u = e.offsetX;
var d = e.row < t.row;
if (d) var h = e.row, f = t.row; else var h = t.row, f = e.row;
a < 0 && (a = 0), h < 0 && (h = 0), h == f && (n = !0);
for (var p = h; p <= f; p++) {
var g = l.fromPoints(this.session.screenToDocumentPosition(p, a, c), this.session.screenToDocumentPosition(p, s, u));
if (g.isEmpty()) {
if (m && r(g.end, m)) break;
var m = g.end;
}
g.cursor = o ? g.start : g.end, i.push(g);
}
if (d && i.reverse(), !n) {
for (var v = i.length - 1; i[v].isEmpty() && v > 0; ) v--;
if (v > 0) for (var y = 0; i[y].isEmpty(); ) y++;
for (var b = v; b >= y; b--) i[b].isEmpty() && i.splice(b, 1);
}
return i;
};
}.call(c.prototype);
var m = e("./editor").Editor;
(function() {
this.updateSelectionMarkers = function() {
this.renderer.updateCursor(), this.renderer.updateBackMarkers();
}, this.addSelectionMarker = function(e) {
e.cursor || (e.cursor = e.end);
var t = this.getSelectionStyle();
return e.marker = this.session.addMarker(e, "ace_selection", t), this.session.$selectionMarkers.push(e), this.session.selectionMarkerCount = this.session.$selectionMarkers.length, e;
}, this.removeSelectionMarker = function(e) {
if (e.marker) {
this.session.removeMarker(e.marker);
var t = this.session.$selectionMarkers.indexOf(e);
-1 != t && this.session.$selectionMarkers.splice(t, 1), this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
}
}, this.removeSelectionMarkers = function(e) {
for (var t = this.session.$selectionMarkers, n = e.length; n--; ) {
var i = e[n];
if (i.marker) {
this.session.removeMarker(i.marker);
var r = t.indexOf(i);
-1 != r && t.splice(r, 1);
}
}
this.session.selectionMarkerCount = t.length;
}, this.$onAddRange = function(e) {
this.addSelectionMarker(e.range), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
}, this.$onRemoveRange = function(e) {
this.removeSelectionMarkers(e.ranges), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
}, this.$onMultiSelect = function(e) {
this.inMultiSelectMode || (this.inMultiSelectMode = !0, this.setStyle("ace_multiselect"), this.keyBinding.addKeyboardHandler(f.keyboardHandler), this.commands.setDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers());
}, this.$onSingleSelect = function(e) {
this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1, this.unsetStyle("ace_multiselect"), this.keyBinding.removeKeyboardHandler(f.keyboardHandler), this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers(), this._emit("changeSelection"));
}, this.$onMultiSelectExec = function(e) {
var t = e.command, n = e.editor;
if (n.multiSelect) {
if (t.multiSelectAction) "forEach" == t.multiSelectAction ? i = n.forEachSelection(t, e.args) : "forEachLine" == t.multiSelectAction ? i = n.forEachSelection(t, e.args, !0) : "single" == t.multiSelectAction ? (n.exitMultiSelectMode(), i = t.exec(n, e.args || {})) : i = t.multiSelectAction(n, e.args || {}); else {
var i = t.exec(n, e.args || {});
n.multiSelect.addRange(n.multiSelect.toOrientedRange()), n.multiSelect.mergeOverlappingRanges();
}
return i;
}
}, this.forEachSelection = function(e, t, n) {
if (!this.inVirtualSelectionMode) {
var i, r = n && n.keepOrder, o = 1 == n || n && n.$byLines, a = this.session, s = this.selection, l = s.rangeList, u = (r ? s : l).ranges;
if (!u.length) return e.exec ? e.exec(this, t || {}) : e(this, t || {});
var d = s._eventRegistry;
s._eventRegistry = {};
var h = new c(a);
this.inVirtualSelectionMode = !0;
for (var f = u.length; f--; ) {
if (o) for (;f > 0 && u[f].start.row == u[f - 1].end.row; ) f--;
h.fromOrientedRange(u[f]), h.index = f, this.selection = a.selection = h;
var p = e.exec ? e.exec(this, t || {}) : e(this, t || {});
!i && void 0 !== p && (i = p), h.toOrientedRange(u[f]);
}
h.detach(), this.selection = a.selection = s, this.inVirtualSelectionMode = !1, s._eventRegistry = d, s.mergeOverlappingRanges();
var g = this.renderer.$scrollAnimation;
return this.onCursorChange(), this.onSelectionChange(), g && g.from == g.to && this.renderer.animateScrolling(g.from), i;
}
}, this.exitMultiSelectMode = function() {
this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange();
}, this.getSelectedText = function() {
var e = "";
if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
for (var t = this.multiSelect.rangeList.ranges, n = [], i = 0; i < t.length; i++) n.push(this.session.getTextRange(t[i]));
var r = this.session.getDocument().getNewLineCharacter();
(e = n.join(r)).length == (n.length - 1) * r.length && (e = "");
} else this.selection.isEmpty() || (e = this.session.getTextRange(this.getSelectionRange()));
return e;
}, this.$checkMultiselectChange = function(e, t) {
if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
var n = this.multiSelect.ranges[0];
if (this.multiSelect.isEmpty() && t == this.multiSelect.anchor) return;
var i = t == this.multiSelect.anchor ? n.cursor == n.start ? n.end : n.start : n.cursor;
(i.row != t.row || this.session.$clipPositionToDocument(i.row, i.column).column != t.column) && this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());
}
}, this.findAll = function(e, t, n) {
if (t = t || {}, t.needle = e || t.needle, void 0 == t.needle) {
var i = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
t.needle = this.session.getTextRange(i);
}
this.$search.set(t);
var r = this.$search.findAll(this.session);
if (!r.length) return 0;
this.$blockScrolling += 1;
var o = this.multiSelect;
n || o.toSingleRange(r[0]);
for (var a = r.length; a--; ) o.addRange(r[a], !0);
return i && o.rangeList.rangeAtPoint(i.start) && o.addRange(i, !0), this.$blockScrolling -= 1, r.length;
}, this.selectMoreLines = function(e, t) {
var n = this.selection.toOrientedRange(), i = n.cursor == n.end, r = this.session.documentToScreenPosition(n.cursor);
this.selection.$desiredColumn && (r.column = this.selection.$desiredColumn);
var o = this.session.screenToDocumentPosition(r.row + e, r.column);
if (n.isEmpty()) s = o; else var a = this.session.documentToScreenPosition(i ? n.end : n.start), s = this.session.screenToDocumentPosition(a.row + e, a.column);
if (i) (c = l.fromPoints(o, s)).cursor = c.start; else {
var c = l.fromPoints(s, o);
c.cursor = c.end;
}
if (c.desiredColumn = r.column, this.selection.inMultiSelectMode) {
if (t) var u = n.cursor;
} else this.selection.addRange(n);
this.selection.addRange(c), u && this.selection.substractPoint(u);
}, this.transposeSelections = function(e) {
for (var t = this.session, n = t.multiSelect, i = n.ranges, r = i.length; r--; ) if ((a = i[r]).isEmpty()) {
s = t.getWordRange(a.start.row, a.start.column);
a.start.row = s.start.row, a.start.column = s.start.column, a.end.row = s.end.row, a.end.column = s.end.column;
}
n.mergeOverlappingRanges();
for (var o = [], r = i.length; r--; ) {
var a = i[r];
o.unshift(t.getTextRange(a));
}
e < 0 ? o.unshift(o.pop()) : o.push(o.shift());
for (r = i.length; r--; ) {
var s = (a = i[r]).clone();
t.replace(a, o[r]), a.start.row = s.start.row, a.start.column = s.start.column;
}
}, this.selectMore = function(e, t, n) {
var r = this.session, o = r.multiSelect.toOrientedRange();
if (!o.isEmpty() || (o = r.getWordRange(o.start.row, o.start.column), o.cursor = -1 == e ? o.start : o.end, this.multiSelect.addRange(o), !n)) {
var a = i(r, r.getTextRange(o), e);
a && (a.cursor = -1 == e ? a.start : a.end, this.$blockScrolling += 1, this.session.unfold(a), this.multiSelect.addRange(a), this.$blockScrolling -= 1, this.renderer.scrollCursorIntoView(null, .5)), t && this.multiSelect.substractPoint(o.cursor);
}
}, this.alignCursors = function() {
var e = this.session, t = e.multiSelect, n = t.ranges, i = -1, r = n.filter(function(e) {
if (e.cursor.row == i) return !0;
i = e.cursor.row;
});
if (n.length && r.length != n.length - 1) {
r.forEach(function(e) {
t.substractPoint(e.cursor);
});
var o = 0, a = 1 / 0, s = n.map(function(t) {
var n = t.cursor, i = e.getLine(n.row).substr(n.column).search(/\S/g);
return -1 == i && (i = 0), n.column > o && (o = n.column), i < a && (a = i), i;
});
n.forEach(function(t, n) {
var i = t.cursor, r = o - i.column, c = s[n] - a;
r > c ? e.insert(i, h.stringRepeat(" ", r - c)) : e.remove(new l(i.row, i.column, i.row, i.column - r + c)), t.start.column = t.end.column = o, t.start.row = t.end.row = i.row, t.cursor = t.end;
}), t.fromOrientedRange(n[0]), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
} else {
var c = this.selection.getRange(), u = c.start.row, d = c.end.row, f = u == d;
if (f) {
var p, g = this.session.getLength();
do {
p = this.session.getLine(d);
} while (/[=:]/.test(p) && ++d < g);
do {
p = this.session.getLine(u);
} while (/[=:]/.test(p) && --u > 0);
u < 0 && (u = 0), d >= g && (d = g - 1);
}
var m = this.session.removeFullLines(u, d);
m = this.$reAlignText(m, f), this.session.insert({
row: u,
column: 0
}, m.join("\n") + "\n"), f || (c.start.column = 0, c.end.column = m[m.length - 1].length), this.selection.setRange(c);
}
}, this.$reAlignText = function(e, t) {
function n(e) {
return h.stringRepeat(" ", e);
}
function i(e) {
return e[2] ? n(r) + e[2] + n(o - e[2].length + a) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0];
}
var r, o, a, s = !0, l = !0;
return e.map(function(e) {
var t = e.match(/(\s*)(.*?)(\s*)([=:].*)/);
return t ? null == r ? (r = t[1].length, o = t[2].length, a = t[3].length, t) : (r + o + a != t[1].length + t[2].length + t[3].length && (l = !1), r != t[1].length && (s = !1), r > t[1].length && (r = t[1].length), o < t[2].length && (o = t[2].length), a > t[3].length && (a = t[3].length), t) : [ e ];
}).map(t ? i : s ? l ? function(e) {
return e[2] ? n(r + o - e[2].length) + e[2] + n(a, " ") + e[4].replace(/^([=:])\s+/, "$1 ") : e[0];
} : i : function(e) {
return e[2] ? n(r) + e[2] + n(a) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0];
});
};
}).call(m.prototype), t.onSessionChange = function(e) {
var t = e.session;
t && !t.multiSelect && (t.$selectionMarkers = [], t.selection.$initRangeList(), t.multiSelect = t.selection), this.multiSelect = t && t.multiSelect;
var n = e.oldSession;
n && (n.multiSelect.off("addRange", this.$onAddRange), n.multiSelect.off("removeRange", this.$onRemoveRange), n.multiSelect.off("multiSelect", this.$onMultiSelect), n.multiSelect.off("singleSelect", this.$onSingleSelect), n.multiSelect.lead.off("change", this.$checkMultiselectChange), n.multiSelect.anchor.off("change", this.$checkMultiselectChange)), t && (t.multiSelect.on("addRange", this.$onAddRange), t.multiSelect.on("removeRange", this.$onRemoveRange), t.multiSelect.on("multiSelect", this.$onMultiSelect), t.multiSelect.on("singleSelect", this.$onSingleSelect), t.multiSelect.lead.on("change", this.$checkMultiselectChange), t.multiSelect.anchor.on("change", this.$checkMultiselectChange)), t && this.inMultiSelectMode != t.selection.inMultiSelectMode && (t.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect());
}, t.MultiSelect = o, e("./config").defineOptions(m.prototype, "editor", {
enableMultiselect: {
set: function(e) {
o(this), e ? (this.on("changeSession", this.$multiselectOnSessionChange), this.on("mousedown", u)) : (this.off("changeSession", this.$multiselectOnSessionChange), this.off("mousedown", u));
},
value: !0
},
enableBlockSelect: {
set: function(e) {
this.$blockSelectEnabled = e;
},
value: !0
}
});
}), ace.define("ace/mode/folding/fold_mode", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../../range").Range, r = t.FoldMode = function() {};
(function() {
this.foldingStartMarker = null, this.foldingStopMarker = null, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
return this.foldingStartMarker.test(i) ? "start" : "markbeginend" == t && this.foldingStopMarker && this.foldingStopMarker.test(i) ? "end" : "";
}, this.getFoldWidgetRange = function(e, t, n) {
return null;
}, this.indentationBlock = function(e, t, n) {
var r = /\S/, o = e.getLine(t), a = o.search(r);
if (-1 != a) {
for (var s = n || o.length, l = e.getLength(), c = t, u = t; ++t < l; ) {
var d = e.getLine(t).search(r);
if (-1 != d) {
if (d <= a) break;
u = t;
}
}
if (u > c) {
var h = e.getLine(u).length;
return new i(c, s, u, h);
}
}
}, this.openingBracketBlock = function(e, t, n, r, o) {
var a = {
row: n,
column: r + 1
}, s = e.$findClosingBracket(t, a, o);
if (s) {
var l = e.foldWidgets[s.row];
return null == l && (l = e.getFoldWidget(s.row)), "start" == l && s.row > a.row && (s.row--, s.column = e.getLine(s.row).length), i.fromPoints(a, s);
}
}, this.closingBracketBlock = function(e, t, n, r, o) {
var a = {
row: n,
column: r
}, s = e.$findOpeningBracket(t, a);
if (s) return s.column++, a.column--, i.fromPoints(s, a);
};
}).call(r.prototype);
}), ace.define("ace/theme/textmate", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
t.isDark = !1, t.cssClass = "ace-tm", t.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', 
e("../lib/dom").importCssString(t.cssText, t.cssClass);
}), ace.define("ace/line_widgets", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/range" ], function(e, t, n) {
"use strict";
function i(e) {
this.session = e, this.session.widgetManager = this, this.session.getRowLength = this.getRowLength, this.session.$getWidgetScreenLength = this.$getWidgetScreenLength, this.updateOnChange = this.updateOnChange.bind(this), this.renderWidgets = this.renderWidgets.bind(this), this.measureWidgets = this.measureWidgets.bind(this), this.session._changedWidgets = [], this.$onChangeEditor = this.$onChangeEditor.bind(this), this.session.on("change", this.updateOnChange), this.session.on("changeFold", this.updateOnFold), this.session.on("changeEditor", this.$onChangeEditor);
}
e("./lib/oop");
var r = e("./lib/dom");
e("./range").Range;
(function() {
this.getRowLength = function(e) {
var t;
return t = this.lineWidgets ? this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0 : 0, this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t;
}, this.$getWidgetScreenLength = function() {
var e = 0;
return this.lineWidgets.forEach(function(t) {
t && t.rowCount && !t.hidden && (e += t.rowCount);
}), e;
}, this.$onChangeEditor = function(e) {
this.attach(e.editor);
}, this.attach = function(e) {
e && e.widgetManager && e.widgetManager != this && e.widgetManager.detach(), this.editor != e && (this.detach(), this.editor = e, e && (e.widgetManager = this, e.renderer.on("beforeRender", this.measureWidgets), e.renderer.on("afterRender", this.renderWidgets)));
}, this.detach = function(e) {
var t = this.editor;
if (t) {
this.editor = null, t.widgetManager = null, t.renderer.off("beforeRender", this.measureWidgets), t.renderer.off("afterRender", this.renderWidgets);
var n = this.session.lineWidgets;
n && n.forEach(function(e) {
e && e.el && e.el.parentNode && (e._inDocument = !1, e.el.parentNode.removeChild(e.el));
});
}
}, this.updateOnFold = function(e, t) {
var n = t.lineWidgets;
if (n && e.action) {
for (var i = e.data, r = i.start.row, o = i.end.row, a = "add" == e.action, s = r + 1; s < o; s++) n[s] && (n[s].hidden = a);
n[o] && (a ? n[r] ? n[o].hidden = a : n[r] = n[o] : (n[r] == n[o] && (n[r] = void 0), n[o].hidden = a));
}
}, this.updateOnChange = function(e) {
var t = this.session.lineWidgets;
if (t) {
var n = e.start.row, i = e.end.row - n;
if (0 !== i) if ("remove" == e.action) t.splice(n + 1, i).forEach(function(e) {
e && this.removeLineWidget(e);
}, this), this.$updateRows(); else {
var r = new Array(i);
r.unshift(n, 0), t.splice.apply(t, r), this.$updateRows();
}
}
}, this.$updateRows = function() {
var e = this.session.lineWidgets;
if (e) {
var t = !0;
e.forEach(function(e, n) {
if (e) for (t = !1, e.row = n; e.$oldWidget; ) e.$oldWidget.row = n, e = e.$oldWidget;
}), t && (this.session.lineWidgets = null);
}
}, this.addLineWidget = function(e) {
this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength()));
var t = this.session.lineWidgets[e.row];
t && (e.$oldWidget = t, t.el && t.el.parentNode && (t.el.parentNode.removeChild(t.el), t._inDocument = !1)), this.session.lineWidgets[e.row] = e, e.session = this.session;
var n = this.editor.renderer;
e.html && !e.el && (e.el = r.createElement("div"), e.el.innerHTML = e.html), e.el && (r.addCssClass(e.el, "ace_lineWidgetContainer"), e.el.style.position = "absolute", e.el.style.zIndex = 5, n.container.appendChild(e.el), e._inDocument = !0), e.coverGutter || (e.el.style.zIndex = 3), null == e.pixelHeight && (e.pixelHeight = e.el.offsetHeight), null == e.rowCount && (e.rowCount = e.pixelHeight / n.layerConfig.lineHeight);
var i = this.session.getFoldAt(e.row, 0);
if (e.$fold = i, i) {
var o = this.session.lineWidgets;
e.row != i.end.row || o[i.start.row] ? e.hidden = !0 : o[i.start.row] = e;
}
return this.session._emit("changeFold", {
data: {
start: {
row: e.row
}
}
}), this.$updateRows(), this.renderWidgets(null, n), this.onWidgetChanged(e), e;
}, this.removeLineWidget = function(e) {
if (e._inDocument = !1, e.session = null, e.el && e.el.parentNode && e.el.parentNode.removeChild(e.el), e.editor && e.editor.destroy) try {
e.editor.destroy();
} catch (e) {}
if (this.session.lineWidgets) {
var t = this.session.lineWidgets[e.row];
if (t == e) this.session.lineWidgets[e.row] = e.$oldWidget, e.$oldWidget && this.onWidgetChanged(e.$oldWidget); else for (;t; ) {
if (t.$oldWidget == e) {
t.$oldWidget = e.$oldWidget;
break;
}
t = t.$oldWidget;
}
}
this.session._emit("changeFold", {
data: {
start: {
row: e.row
}
}
}), this.$updateRows();
}, this.getWidgetsAtRow = function(e) {
for (var t = this.session.lineWidgets, n = t && t[e], i = []; n; ) i.push(n), n = n.$oldWidget;
return i;
}, this.onWidgetChanged = function(e) {
this.session._changedWidgets.push(e), this.editor && this.editor.renderer.updateFull();
}, this.measureWidgets = function(e, t) {
var n = this.session._changedWidgets, i = t.layerConfig;
if (n && n.length) {
for (var r = 1 / 0, o = 0; o < n.length; o++) {
var a = n[o];
if (a && a.el && a.session == this.session) {
if (!a._inDocument) {
if (this.session.lineWidgets[a.row] != a) continue;
a._inDocument = !0, t.container.appendChild(a.el);
}
a.h = a.el.offsetHeight, a.fixedWidth || (a.w = a.el.offsetWidth, a.screenWidth = Math.ceil(a.w / i.characterWidth));
var s = a.h / i.lineHeight;
a.coverLine && (s -= this.session.getRowLineCount(a.row)) < 0 && (s = 0), a.rowCount != s && (a.rowCount = s, a.row < r && (r = a.row));
}
}
r != 1 / 0 && (this.session._emit("changeFold", {
data: {
start: {
row: r
}
}
}), this.session.lineWidgetWidth = null), this.session._changedWidgets = [];
}
}, this.renderWidgets = function(e, t) {
var n = t.layerConfig, i = this.session.lineWidgets;
if (i) {
for (var r = Math.min(this.firstRow, n.firstRow), o = Math.max(this.lastRow, n.lastRow, i.length); r > 0 && !i[r]; ) r--;
this.firstRow = n.firstRow, this.lastRow = n.lastRow, t.$cursorLayer.config = n;
for (var a = r; a <= o; a++) {
var s = i[a];
if (s && s.el) if (s.hidden) s.el.style.top = -100 - (s.pixelHeight || 0) + "px"; else {
s._inDocument || (s._inDocument = !0, t.container.appendChild(s.el));
var l = t.$cursorLayer.getPixelPosition({
row: a,
column: 0
}, !0).top;
s.coverLine || (l += n.lineHeight * this.session.getRowLineCount(s.row)), s.el.style.top = l - n.offset + "px";
var c = s.coverGutter ? 0 : t.gutterWidth;
s.fixedWidth || (c -= t.scrollLeft), s.el.style.left = c + "px", s.fullWidth && s.screenWidth && (s.el.style.minWidth = n.width + 2 * n.padding + "px"), s.fixedWidth ? s.el.style.right = t.scrollBar.getWidth() + "px" : s.el.style.right = "";
}
}
}
};
}).call(i.prototype), t.LineWidgets = i;
}), ace.define("ace/ext/error_marker", [ "require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range" ], function(e, t, n) {
"use strict";
function i(e, t, n) {
for (var i = 0, r = e.length - 1; i <= r; ) {
var o = i + r >> 1, a = n(t, e[o]);
if (a > 0) i = o + 1; else {
if (!(a < 0)) return o;
r = o - 1;
}
}
return -(i + 1);
}
function r(e, t, n) {
var r = e.getAnnotations().sort(s.comparePoints);
if (r.length) {
var o = i(r, {
row: t,
column: -1
}, s.comparePoints);
o < 0 && (o = -o - 1), o >= r.length ? o = n > 0 ? 0 : r.length - 1 : 0 === o && n < 0 && (o = r.length - 1);
var a = r[o];
if (a && n) {
if (a.row === t) {
do {
a = r[o += n];
} while (a && a.row === t);
if (!a) return r.slice();
}
var l = [];
t = a.row;
do {
l[n < 0 ? "unshift" : "push"](a), a = r[o += n];
} while (a && a.row == t);
return l.length && l;
}
}
}
var o = e("../line_widgets").LineWidgets, a = e("../lib/dom"), s = e("../range").Range;
t.showErrorMarker = function(e, t) {
var n = e.session;
n.widgetManager || (n.widgetManager = new o(n), n.widgetManager.attach(e));
var i = e.getCursorPosition(), s = i.row, l = n.widgetManager.getWidgetsAtRow(s).filter(function(e) {
return "errorMarker" == e.type;
})[0];
l ? l.destroy() : s -= t;
var c, u = r(n, s, t);
if (u) {
var d = u[0];
i.column = (d.pos && "number" != typeof d.column ? d.pos.sc : d.column) || 0, i.row = d.row, c = e.renderer.$gutterLayer.$annotations[i.row];
} else {
if (l) return;
c = {
text: [ "Looks good!" ],
className: "ace_ok"
};
}
e.session.unfold(i.row), e.selection.moveToPosition(i);
var h = {
row: i.row,
fixedWidth: !0,
coverGutter: !0,
el: a.createElement("div"),
type: "errorMarker"
}, f = h.el.appendChild(a.createElement("div")), p = h.el.appendChild(a.createElement("div"));
p.className = "error_widget_arrow " + c.className;
var g = e.renderer.$cursorLayer.getPixelPosition(i).left;
p.style.left = g + e.renderer.gutterWidth - 5 + "px", h.el.className = "error_widget_wrapper", f.className = "error_widget " + c.className, f.innerHTML = c.text.join("<br>"), f.appendChild(a.createElement("div"));
var m = function(e, t, n) {
if (0 === t && ("esc" === n || "return" === n)) return h.destroy(), {
command: "null"
};
};
h.destroy = function() {
e.$mouseHandler.isMousePressed || (e.keyBinding.removeKeyboardHandler(m), n.widgetManager.removeLineWidget(h), e.off("changeSelection", h.destroy), e.off("changeSession", h.destroy), e.off("mouseup", h.destroy), e.off("change", h.destroy));
}, e.keyBinding.addKeyboardHandler(m), e.on("changeSelection", h.destroy), e.on("changeSession", h.destroy), e.on("mouseup", h.destroy), e.on("change", h.destroy), e.session.widgetManager.addLineWidget(h), h.el.onmousedown = e.focus.bind(e), e.renderer.scrollCursorIntoView(null, .5, {
bottom: h.el.offsetHeight
});
}, a.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "");
}), ace.define("ace/ace", [ "require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config" ], function(e, t, n) {
"use strict";
e("./lib/fixoldbrowsers");
var i = e("./lib/dom"), r = e("./lib/event"), o = e("./editor").Editor, a = e("./edit_session").EditSession, s = e("./undomanager").UndoManager, l = e("./virtual_renderer").VirtualRenderer;
e("./worker/worker_client"), e("./keyboard/hash_handler"), e("./placeholder"), e("./multi_select"), e("./mode/folding/fold_mode"), e("./theme/textmate"), e("./ext/error_marker"), t.config = e("./config"), t.require = e, "function" == typeof define && (t.define = define), t.edit = function(e) {
if ("string" == typeof e) {
var n = e;
if (!(e = document.getElementById(n))) throw new Error("ace.edit can't find div #" + n);
}
if (e && e.env && e.env.editor instanceof o) return e.env.editor;
var a = "";
if (e && /input|textarea/i.test(e.tagName)) {
var s = e;
a = s.value, e = i.createElement("pre"), s.parentNode.replaceChild(e, s);
} else e && (a = i.getInnerText(e), e.innerHTML = "");
var c = t.createEditSession(a), u = new o(new l(e));
u.setSession(c);
var d = {
document: c,
editor: u,
onResize: u.resize.bind(u, null)
};
return s && (d.textarea = s), r.addListener(window, "resize", d.onResize), u.on("destroy", function() {
r.removeListener(window, "resize", d.onResize), d.editor.container.env = null;
}), u.container.env = u.env = d, u;
}, t.createEditSession = function(e, t) {
var n = new a(e, t);
return n.setUndoManager(new s()), n;
}, t.EditSession = a, t.UndoManager = s, t.version = "1.2.9";
}), ace.require([ "ace/ace" ], function(e) {
e && (e.config.init(!0), e.define = ace.define), window.ace || (window.ace = e);
for (var t in e) e.hasOwnProperty(t) && (window.ace[t] = e[t]);
}), ace.define("ace/ext/searchbox", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/keyboard/hash_handler", "ace/lib/keys" ], function(e, t, n) {
"use strict";
var i = e("../lib/dom"), r = e("../lib/lang"), o = e("../lib/event"), a = e("../keyboard/hash_handler").HashHandler, s = e("../lib/keys");
i.importCssString('.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;box-sizing: border-box!important;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;box-sizing: content-box!important;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}', "ace_searchbox");
var l = '<div class="ace_search right">    <span action="hide" class="ace_searchbtn_close"></span>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <span action="findPrev" class="ace_searchbtn prev"></span>        <span action="findNext" class="ace_searchbtn next"></span>        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>        <span action="replaceAll" class="ace_searchbtn">All</span>    </div>    <div class="ace_search_options">        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"            style="float:left;margin-top:-2px;padding:0 5px;">+</span>        <span class="ace_search_counter"></span>        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>    </div></div>'.replace(/> +/g, ">"), c = function(e, t, n) {
var r = i.createElement("div");
r.innerHTML = l, this.element = r.firstChild, this.setSession = this.setSession.bind(this), this.$init(), this.setEditor(e);
};
(function() {
this.setEditor = function(e) {
e.searchBox = this, e.renderer.scroller.appendChild(this.element), this.editor = e;
}, this.setSession = function(e) {
this.searchRange = null, this.$syncOptions(!0);
}, this.$initElements = function(e) {
this.searchBox = e.querySelector(".ace_search_form"), this.replaceBox = e.querySelector(".ace_replace_form"), this.searchOption = e.querySelector("[action=searchInSelection]"), this.replaceOption = e.querySelector("[action=toggleReplace]"), this.regExpOption = e.querySelector("[action=toggleRegexpMode]"), this.caseSensitiveOption = e.querySelector("[action=toggleCaseSensitive]"), this.wholeWordOption = e.querySelector("[action=toggleWholeWords]"), this.searchInput = this.searchBox.querySelector(".ace_search_field"), this.replaceInput = this.replaceBox.querySelector(".ace_search_field"), this.searchCounter = e.querySelector(".ace_search_counter");
}, this.$init = function() {
var e = this.element;
this.$initElements(e);
var t = this;
o.addListener(e, "mousedown", function(e) {
setTimeout(function() {
t.activeInput.focus();
}, 0), o.stopPropagation(e);
}), o.addListener(e, "click", function(e) {
var n = (e.target || e.srcElement).getAttribute("action");
n && t[n] ? t[n]() : t.$searchBarKb.commands[n] && t.$searchBarKb.commands[n].exec(t), o.stopPropagation(e);
}), o.addCommandKeyListener(e, function(e, n, i) {
var r = s.keyCodeToString(i), a = t.$searchBarKb.findKeyCommand(n, r);
a && a.exec && (a.exec(t), o.stopEvent(e));
}), this.$onChange = r.delayedCall(function() {
t.find(!1, !1);
}), o.addListener(this.searchInput, "input", function() {
t.$onChange.schedule(20);
}), o.addListener(this.searchInput, "focus", function() {
t.activeInput = t.searchInput, t.searchInput.value && t.highlight();
}), o.addListener(this.replaceInput, "focus", function() {
t.activeInput = t.replaceInput, t.searchInput.value && t.highlight();
});
}, this.$closeSearchBarKb = new a([ {
bindKey: "Esc",
name: "closeSearchBar",
exec: function(e) {
e.searchBox.hide();
}
} ]), this.$searchBarKb = new a(), this.$searchBarKb.bindKeys({
"Ctrl-f|Command-f": function(e) {
var t = e.isReplace = !e.isReplace;
e.replaceBox.style.display = t ? "" : "none", e.replaceOption.checked = !1, e.$syncOptions(), e.searchInput.focus();
},
"Ctrl-H|Command-Option-F": function(e) {
e.replaceOption.checked = !0, e.$syncOptions(), e.replaceInput.focus();
},
"Ctrl-G|Command-G": function(e) {
e.findNext();
},
"Ctrl-Shift-G|Command-Shift-G": function(e) {
e.findPrev();
},
esc: function(e) {
setTimeout(function() {
e.hide();
});
},
Return: function(e) {
e.activeInput == e.replaceInput && e.replace(), e.findNext();
},
"Shift-Return": function(e) {
e.activeInput == e.replaceInput && e.replace(), e.findPrev();
},
"Alt-Return": function(e) {
e.activeInput == e.replaceInput && e.replaceAll(), e.findAll();
},
Tab: function(e) {
(e.activeInput == e.replaceInput ? e.searchInput : e.replaceInput).focus();
}
}), this.$searchBarKb.addCommands([ {
name: "toggleRegexpMode",
bindKey: {
win: "Alt-R|Alt-/",
mac: "Ctrl-Alt-R|Ctrl-Alt-/"
},
exec: function(e) {
e.regExpOption.checked = !e.regExpOption.checked, e.$syncOptions();
}
}, {
name: "toggleCaseSensitive",
bindKey: {
win: "Alt-C|Alt-I",
mac: "Ctrl-Alt-R|Ctrl-Alt-I"
},
exec: function(e) {
e.caseSensitiveOption.checked = !e.caseSensitiveOption.checked, e.$syncOptions();
}
}, {
name: "toggleWholeWords",
bindKey: {
win: "Alt-B|Alt-W",
mac: "Ctrl-Alt-B|Ctrl-Alt-W"
},
exec: function(e) {
e.wholeWordOption.checked = !e.wholeWordOption.checked, e.$syncOptions();
}
}, {
name: "toggleReplace",
exec: function(e) {
e.replaceOption.checked = !e.replaceOption.checked, e.$syncOptions();
}
}, {
name: "searchInSelection",
exec: function(e) {
e.searchOption.checked = !e.searchRange, e.setSearchRange(e.searchOption.checked && e.editor.getSelectionRange()), e.$syncOptions();
}
} ]), this.setSearchRange = function(e) {
this.searchRange = e, e ? this.searchRangeMarker = this.editor.session.addMarker(e, "ace_active-line") : this.searchRangeMarker && (this.editor.session.removeMarker(this.searchRangeMarker), this.searchRangeMarker = null);
}, this.$syncOptions = function(e) {
i.setCssClass(this.replaceOption, "checked", this.searchRange), i.setCssClass(this.searchOption, "checked", this.searchOption.checked), this.replaceOption.textContent = this.replaceOption.checked ? "-" : "+", i.setCssClass(this.regExpOption, "checked", this.regExpOption.checked), i.setCssClass(this.wholeWordOption, "checked", this.wholeWordOption.checked), i.setCssClass(this.caseSensitiveOption, "checked", this.caseSensitiveOption.checked), this.replaceBox.style.display = this.replaceOption.checked ? "" : "none", this.find(!1, !1, e);
}, this.highlight = function(e) {
this.editor.session.highlight(e || this.editor.$search.$options.re), this.editor.renderer.updateBackMarkers();
}, this.find = function(e, t, n) {
var r = !this.editor.find(this.searchInput.value, {
skipCurrent: e,
backwards: t,
wrap: !0,
regExp: this.regExpOption.checked,
caseSensitive: this.caseSensitiveOption.checked,
wholeWord: this.wholeWordOption.checked,
preventScroll: n,
range: this.searchRange
}) && this.searchInput.value;
i.setCssClass(this.searchBox, "ace_nomatch", r), this.editor._emit("findSearchBox", {
match: !r
}), this.highlight(), this.updateCounter();
}, this.updateCounter = function() {
var e = this.editor, t = e.$search.$options.re, n = 0, i = 0;
if (t) {
var r = this.searchRange ? e.session.getTextRange(this.searchRange) : e.getValue(), o = e.session.doc.positionToIndex(e.selection.anchor);
this.searchRange && (o -= e.session.doc.positionToIndex(this.searchRange.start));
for (var a, s = t.lastIndex = 0; (a = t.exec(r)) && (n++, (s = a.index) <= o && i++, !(n > 999)) && (a[0] || (t.lastIndex = s += 1, !(s >= r.length))); ) ;
}
this.searchCounter.textContent = i + " of " + (n > 999 ? "999+" : n);
}, this.findNext = function() {
this.find(!0, !1);
}, this.findPrev = function() {
this.find(!0, !0);
}, this.findAll = function() {
var e = !this.editor.findAll(this.searchInput.value, {
regExp: this.regExpOption.checked,
caseSensitive: this.caseSensitiveOption.checked,
wholeWord: this.wholeWordOption.checked
}) && this.searchInput.value;
i.setCssClass(this.searchBox, "ace_nomatch", e), this.editor._emit("findSearchBox", {
match: !e
}), this.highlight(), this.hide();
}, this.replace = function() {
this.editor.getReadOnly() || this.editor.replace(this.replaceInput.value);
}, this.replaceAndFindNext = function() {
this.editor.getReadOnly() || (this.editor.replace(this.replaceInput.value), this.findNext());
}, this.replaceAll = function() {
this.editor.getReadOnly() || this.editor.replaceAll(this.replaceInput.value);
}, this.hide = function() {
this.active = !1, this.setSearchRange(null), this.editor.off("changeSession", this.setSession), this.element.style.display = "none", this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb), this.editor.focus();
}, this.show = function(e, t) {
this.active = !0, this.editor.on("changeSession", this.setSession), this.element.style.display = "", this.replaceOption.checked = t, e && (this.searchInput.value = e), this.searchInput.focus(), this.searchInput.select(), this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb), this.$syncOptions(!0);
}, this.isFocused = function() {
var e = document.activeElement;
return e == this.searchInput || e == this.replaceInput;
};
}).call(c.prototype), t.SearchBox = c, t.Search = function(e, t) {
(e.searchBox || new c(e)).show(e.session.getTextRange(), t);
};
}), ace.require([ "ace/ext/searchbox" ], function() {}), ace.define("ace/mode/sh_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = t.reservedKeywords = "!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly", a = t.languageConstructs = "[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait", s = function() {
var e = this.createKeywordMapper({
keyword: o,
"support.function.builtin": a,
"invalid.deprecated": "debugger"
}, "identifier"), t = "(?:\\d+)";
this.$rules = {
start: [ {
token: "constant",
regex: /\\./
}, {
token: [ "text", "comment" ],
regex: /(^|\s)(#.*)$/
}, {
token: "string.start",
regex: '"',
push: [ {
token: "constant.language.escape",
regex: /\\(?:[$`"\\]|$)/
}, {
include: "variables"
}, {
token: "keyword.operator",
regex: /`/
}, {
token: "string.end",
regex: '"',
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
token: "string",
regex: "\\$'",
push: [ {
token: "constant.language.escape",
regex: /\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/
}, {
token: "string",
regex: "'",
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
regex: "<<<",
token: "keyword.operator"
}, {
stateName: "heredoc",
regex: "(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",
onMatch: function(e, t, n) {
var i = "-" == e[2] ? "indentedHeredoc" : "heredoc", r = e.split(this.splitRegex);
return n.push(i, r[4]), [ {
type: "constant",
value: r[1]
}, {
type: "text",
value: r[2]
}, {
type: "string",
value: r[3]
}, {
type: "support.class",
value: r[4]
}, {
type: "string",
value: r[5]
} ];
},
rules: {
heredoc: [ {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ],
indentedHeredoc: [ {
token: "string",
regex: "^\t+"
}, {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ]
}
}, {
regex: "$",
token: "empty",
next: function(e, t) {
return "heredoc" === t[0] || "indentedHeredoc" === t[0] ? t[0] : e;
}
}, {
token: [ "keyword", "text", "text", "text", "variable" ],
regex: /(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/
}, {
token: "variable.language",
regex: "(?:\\$(?:SHLVL|\\$|\\!|\\?))"
}, {
token: "variable",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*(?==))"
}, {
include: "variables"
}, {
token: "support.function",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*\\s*\\(\\))"
}, {
token: "support.function",
regex: "(?:&(?:\\d+))"
}, {
token: "string",
start: "'",
end: "'"
}, {
token: "constant.numeric",
regex: "(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+)))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"
}, {
token: "constant.numeric",
regex: "(?:(?:[1-9]\\d*)|(?:0))\\b"
}, {
token: e,
regex: "[a-zA-Z_][a-zA-Z0-9_]*\\b"
}, {
token: "keyword.operator",
regex: "\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"
}, {
token: "punctuation.operator",
regex: ";"
}, {
token: "paren.lparen",
regex: "[\\[\\(\\{]"
}, {
token: "paren.rparen",
regex: "[\\]]"
}, {
token: "paren.rparen",
regex: "[\\)\\}]",
next: "pop"
} ],
variables: [ {
token: "variable",
regex: /(\$)(\w+)/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\()/,
push: "start"
}, {
token: [ "variable", "paren.lparen", "keyword.operator", "variable", "keyword.operator" ],
regex: /(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,
push: "start"
}, {
token: "variable",
regex: /\$[*@#?\-$!0_]/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\{)/,
push: "start"
} ]
}, this.normalizeRules();
};
i.inherits(s, r), t.ShHighlightRules = s;
}), ace.define("ace/mode/folding/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("../../range").Range, o = e("./fold_mode").FoldMode, a = t.FoldMode = function(e) {
e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)));
};
i.inherits(a, o), function() {
this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
if (this.singleLineBlockCommentRe.test(i) && !this.startRegionRe.test(i) && !this.tripleStarBlockCommentRe.test(i)) return "";
var r = this._getFoldWidgetBase(e, t, n);
return !r && this.startRegionRe.test(i) ? "start" : r;
}, this.getFoldWidgetRange = function(e, t, n, i) {
var r = e.getLine(n);
if (this.startRegionRe.test(r)) return this.getCommentRegionBlock(e, r, n);
var o = r.match(this.foldingStartMarker);
if (o) {
s = o.index;
if (o[1]) return this.openingBracketBlock(e, o[1], n, s);
var a = e.getCommentFoldRange(n, s + o[0].length, 1);
return a && !a.isMultiLine() && (i ? a = this.getSectionRange(e, n) : "all" != t && (a = null)), a;
}
if ("markbegin" !== t && (o = r.match(this.foldingStopMarker))) {
var s = o.index + o[0].length;
return o[1] ? this.closingBracketBlock(e, o[1], n, s) : e.getCommentFoldRange(n, s, -1);
}
}, this.getSectionRange = function(e, t) {
for (var n = e.getLine(t), i = n.search(/\S/), o = t, a = n.length, s = t += 1, l = e.getLength(); ++t < l; ) {
var c = (n = e.getLine(t)).search(/\S/);
if (-1 !== c) {
if (i > c) break;
var u = this.getFoldWidgetRange(e, "all", t);
if (u) {
if (u.start.row <= o) break;
if (u.isMultiLine()) t = u.end.row; else if (i == c) break;
}
s = t;
}
}
return new r(o, a, s, e.getLine(s).length);
}, this.getCommentRegionBlock = function(e, t, n) {
for (var i = t.search(/\s*$/), o = e.getLength(), a = n, s = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++n < o; ) {
t = e.getLine(n);
var c = s.exec(t);
if (c && (c[1] ? l-- : l++, !l)) break;
}
var u = n;
if (u > a) return new r(a, i, u, t.length);
};
}.call(a.prototype);
}), ace.define("ace/mode/sh", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/sh_highlight_rules", "ace/range", "ace/mode/folding/cstyle", "ace/mode/behaviour/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./sh_highlight_rules").ShHighlightRules, a = e("../range").Range, s = e("./folding/cstyle").FoldMode, l = e("./behaviour/cstyle").CstyleBehaviour, c = function() {
this.HighlightRules = o, this.foldingRules = new s(), this.$behaviour = new l();
};
i.inherits(c, r), function() {
this.lineCommentStart = "#", this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t), r = this.getTokenizer().getLineTokens(t, e).tokens;
return r.length && "comment" == r[r.length - 1].type ? i : ("start" == e && t.match(/^.*[\{\(\[:]\s*$/) && (i += n), i);
};
var e = {
pass: 1,
return: 1,
raise: 1,
break: 1,
continue: 1
};
this.checkOutdent = function(t, n, i) {
if ("\r\n" !== i && "\r" !== i && "\n" !== i) return !1;
var r = this.getTokenizer().getLineTokens(n.trim(), t).tokens;
if (!r) return !1;
do {
var o = r.pop();
} while (o && ("comment" == o.type || "text" == o.type && o.value.match(/^\s+$/)));
return !!o && ("keyword" == o.type && e[o.value]);
}, this.autoOutdent = function(e, t, n) {
n += 1;
var i = this.$getIndent(t.getLine(n)), r = t.getTabString();
i.slice(-r.length) == r && t.remove(new a(n, i.length - r.length, n, i.length));
}, this.$id = "ace/mode/sh";
}.call(c.prototype), t.Mode = c;
}), ace.define("ace/mode/dockerfile_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/sh_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./sh_highlight_rules").ShHighlightRules, o = function() {
r.call(this);
for (var e = this.$rules.start, t = 0; t < e.length; t++) if ("variable.language" == e[t].token) {
e.splice(t, 0, {
token: "constant.language",
regex: "(?:^(?:FROM|MAINTAINER|RUN|CMD|EXPOSE|ENV|ADD|ENTRYPOINT|VOLUME|USER|WORKDIR|ONBUILD|COPY|LABEL)\\b)",
caseInsensitive: !0
});
break;
}
};
i.inherits(o, r), t.DockerfileHighlightRules = o;
}), ace.define("ace/mode/dockerfile", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/sh", "ace/mode/dockerfile_highlight_rules", "ace/mode/folding/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./sh").Mode, o = e("./dockerfile_highlight_rules").DockerfileHighlightRules, a = e("./folding/cstyle").FoldMode, s = function() {
r.call(this), this.HighlightRules = o, this.foldingRules = new a();
};
i.inherits(s, r), function() {
this.$id = "ace/mode/dockerfile";
}.call(s.prototype), t.Mode = s;
}), ace.define("ace/mode/doc_comment_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = function() {
this.$rules = {
start: [ {
token: "comment.doc.tag",
regex: "@[\\w\\d_]+"
}, o.getTagRule(), {
defaultToken: "comment.doc",
caseInsensitive: !0
} ]
};
};
i.inherits(o, r), o.getTagRule = function(e) {
return {
token: "comment.doc.tag.storage.type",
regex: "\\b(?:TODO|FIXME|XXX|HACK)\\b"
};
}, o.getStartRule = function(e) {
return {
token: "comment.doc",
regex: "\\/\\*(?=\\*)",
next: e
};
}, o.getEndRule = function(e) {
return {
token: "comment.doc",
regex: "\\*\\/",
next: e
};
}, t.DocCommentHighlightRules = o;
}), ace.define("ace/mode/javascript_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/doc_comment_highlight_rules", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
function i() {
var e = l.replace("\\d", "\\d\\-"), t = {
onMatch: function(e, t, n) {
var i = "/" == e.charAt(1) ? 2 : 1;
return 1 == i ? (t != this.nextState ? n.unshift(this.next, this.nextState, 0) : n.unshift(this.next), n[2]++) : 2 == i && t == this.nextState && (n[1]--, (!n[1] || n[1] < 0) && (n.shift(), n.shift())), [ {
type: "meta.tag.punctuation." + (1 == i ? "" : "end-") + "tag-open.xml",
value: e.slice(0, i)
}, {
type: "meta.tag.tag-name.xml",
value: e.substr(i)
} ];
},
regex: "</?" + e,
next: "jsxAttributes",
nextState: "jsx"
};
this.$rules.start.unshift(t);
var n = {
regex: "{",
token: "paren.quasi.start",
push: "start"
};
this.$rules.jsx = [ n, t, {
include: "reference"
}, {
defaultToken: "string"
} ], this.$rules.jsxAttributes = [ {
token: "meta.tag.punctuation.tag-close.xml",
regex: "/?>",
onMatch: function(e, t, n) {
return t == n[0] && n.shift(), 2 == e.length && (n[0] == this.nextState && n[1]--, (!n[1] || n[1] < 0) && n.splice(0, 2)), this.next = n[0] || "start", [ {
type: this.token,
value: e
} ];
},
nextState: "jsx"
}, n, r("jsxAttributes"), {
token: "entity.other.attribute-name.xml",
regex: e
}, {
token: "keyword.operator.attribute-equals.xml",
regex: "="
}, {
token: "text.tag-whitespace.xml",
regex: "\\s+"
}, {
token: "string.attribute-value.xml",
regex: "'",
stateName: "jsx_attr_q",
push: [ {
token: "string.attribute-value.xml",
regex: "'",
next: "pop"
}, {
include: "reference"
}, {
defaultToken: "string.attribute-value.xml"
} ]
}, {
token: "string.attribute-value.xml",
regex: '"',
stateName: "jsx_attr_qq",
push: [ {
token: "string.attribute-value.xml",
regex: '"',
next: "pop"
}, {
include: "reference"
}, {
defaultToken: "string.attribute-value.xml"
} ]
}, t ], this.$rules.reference = [ {
token: "constant.language.escape.reference.xml",
regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
} ];
}
function r(e) {
return [ {
token: "comment",
regex: /\/\*/,
next: [ a.getTagRule(), {
token: "comment",
regex: "\\*\\/",
next: e || "pop"
}, {
defaultToken: "comment",
caseInsensitive: !0
} ]
}, {
token: "comment",
regex: "\\/\\/",
next: [ a.getTagRule(), {
token: "comment",
regex: "$|^",
next: e || "pop"
}, {
defaultToken: "comment",
caseInsensitive: !0
} ]
} ];
}
var o = e("../lib/oop"), a = e("./doc_comment_highlight_rules").DocCommentHighlightRules, s = e("./text_highlight_rules").TextHighlightRules, l = "[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*", c = function(e) {
var t = this.createKeywordMapper({
"variable.language": "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",
keyword: "const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
"storage.type": "const|let|var|function",
"constant.language": "null|Infinity|NaN|undefined",
"support.function": "alert",
"constant.language.boolean": "true|false"
}, "identifier"), n = "\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";
this.$rules = {
no_regex: [ a.getStartRule("doc-start"), r("no_regex"), {
token: "string",
regex: "'(?=.)",
next: "qstring"
}, {
token: "string",
regex: '"(?=.)',
next: "qqstring"
}, {
token: "constant.numeric",
regex: /0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/
}, {
token: "constant.numeric",
regex: /(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/
}, {
token: [ "storage.type", "punctuation.operator", "support.function", "punctuation.operator", "entity.name.function", "text", "keyword.operator" ],
regex: "(" + l + ")(\\.)(prototype)(\\.)(" + l + ")(\\s*)(=)",
next: "function_arguments"
}, {
token: [ "storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen" ],
regex: "(" + l + ")(\\.)(" + l + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen" ],
regex: "(" + l + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen" ],
regex: "(" + l + ")(\\.)(" + l + ")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "storage.type", "text", "entity.name.function", "text", "paren.lparen" ],
regex: "(function)(\\s+)(" + l + ")(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "entity.name.function", "text", "punctuation.operator", "text", "storage.type", "text", "paren.lparen" ],
regex: "(" + l + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "text", "text", "storage.type", "text", "paren.lparen" ],
regex: "(:)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: "keyword",
regex: "from(?=\\s*('|\"))"
}, {
token: "keyword",
regex: "(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",
next: "start"
}, {
token: [ "support.constant" ],
regex: /that\b/
}, {
token: [ "storage.type", "punctuation.operator", "support.function.firebug" ],
regex: /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
}, {
token: t,
regex: l
}, {
token: "punctuation.operator",
regex: /[.](?![.])/,
next: "property"
}, {
token: "storage.type",
regex: /=>/
}, {
token: "keyword.operator",
regex: /--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,
next: "start"
}, {
token: "punctuation.operator",
regex: /[?:,;.]/,
next: "start"
}, {
token: "paren.lparen",
regex: /[\[({]/,
next: "start"
}, {
token: "paren.rparen",
regex: /[\])}]/
}, {
token: "comment",
regex: /^#!.*$/
} ],
property: [ {
token: "text",
regex: "\\s+"
}, {
token: [ "storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen" ],
regex: "(" + l + ")(\\.)(" + l + ")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
next: "function_arguments"
}, {
token: "punctuation.operator",
regex: /[.](?![.])/
}, {
token: "support.function",
regex: /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
}, {
token: "support.function.dom",
regex: /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
}, {
token: "support.constant",
regex: /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
}, {
token: "identifier",
regex: l
}, {
regex: "",
token: "empty",
next: "no_regex"
} ],
start: [ a.getStartRule("doc-start"), r("start"), {
token: "string.regexp",
regex: "\\/",
next: "regex"
}, {
token: "text",
regex: "\\s+|^$",
next: "start"
}, {
token: "empty",
regex: "",
next: "no_regex"
} ],
regex: [ {
token: "regexp.keyword.operator",
regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
}, {
token: "string.regexp",
regex: "/[sxngimy]*",
next: "no_regex"
}, {
token: "invalid",
regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
}, {
token: "constant.language.escape",
regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
}, {
token: "constant.language.delimiter",
regex: /\|/
}, {
token: "constant.language.escape",
regex: /\[\^?/,
next: "regex_character_class"
}, {
token: "empty",
regex: "$",
next: "no_regex"
}, {
defaultToken: "string.regexp"
} ],
regex_character_class: [ {
token: "regexp.charclass.keyword.operator",
regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
}, {
token: "constant.language.escape",
regex: "]",
next: "regex"
}, {
token: "constant.language.escape",
regex: "-"
}, {
token: "empty",
regex: "$",
next: "no_regex"
}, {
defaultToken: "string.regexp.charachterclass"
} ],
function_arguments: [ {
token: "variable.parameter",
regex: l
}, {
token: "punctuation.operator",
regex: "[, ]+"
}, {
token: "punctuation.operator",
regex: "$"
}, {
token: "empty",
regex: "",
next: "no_regex"
} ],
qqstring: [ {
token: "constant.language.escape",
regex: n
}, {
token: "string",
regex: "\\\\$",
consumeLineEnd: !0
}, {
token: "string",
regex: '"|$',
next: "no_regex"
}, {
defaultToken: "string"
} ],
qstring: [ {
token: "constant.language.escape",
regex: n
}, {
token: "string",
regex: "\\\\$",
consumeLineEnd: !0
}, {
token: "string",
regex: "'|$",
next: "no_regex"
}, {
defaultToken: "string"
} ]
}, e && e.noES6 || (this.$rules.no_regex.unshift({
regex: "[{}]",
onMatch: function(e, t, n) {
if (this.next = "{" == e ? this.nextState : "", "{" == e && n.length) n.unshift("start", t); else if ("}" == e && n.length && (n.shift(), this.next = n.shift(), -1 != this.next.indexOf("string") || -1 != this.next.indexOf("jsx"))) return "paren.quasi.end";
return "{" == e ? "paren.lparen" : "paren.rparen";
},
nextState: "start"
}, {
token: "string.quasi.start",
regex: /`/,
push: [ {
token: "constant.language.escape",
regex: n
}, {
token: "paren.quasi.start",
regex: /\${/,
push: "start"
}, {
token: "string.quasi.end",
regex: /`/,
next: "pop"
}, {
defaultToken: "string.quasi"
} ]
}), (!e || 0 != e.jsx) && i.call(this)), this.embedRules(a, "doc-", [ a.getEndRule("no_regex") ]), this.normalizeRules();
};
o.inherits(c, s), t.JavaScriptHighlightRules = c;
}), ace.define("ace/mode/matching_brace_outdent", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = function() {};
(function() {
this.checkOutdent = function(e, t) {
return !!/^\s+$/.test(e) && /^\s*\}/.test(t);
}, this.autoOutdent = function(e, t) {
var n = e.getLine(t).match(/^(\s*\})/);
if (!n) return 0;
var r = n[1].length, o = e.findMatchingBracket({
row: t,
column: r
});
if (!o || o.row == t) return 0;
var a = this.$getIndent(e.getLine(o.row));
e.replace(new i(t, 0, t, r - 1), a);
}, this.$getIndent = function(e) {
return e.match(/^\s*/)[0];
};
}).call(r.prototype), t.MatchingBraceOutdent = r;
}), ace.define("ace/mode/folding/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("../../range").Range, o = e("./fold_mode").FoldMode, a = t.FoldMode = function(e) {
e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)));
};
i.inherits(a, o), function() {
this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
if (this.singleLineBlockCommentRe.test(i) && !this.startRegionRe.test(i) && !this.tripleStarBlockCommentRe.test(i)) return "";
var r = this._getFoldWidgetBase(e, t, n);
return !r && this.startRegionRe.test(i) ? "start" : r;
}, this.getFoldWidgetRange = function(e, t, n, i) {
var r = e.getLine(n);
if (this.startRegionRe.test(r)) return this.getCommentRegionBlock(e, r, n);
var o = r.match(this.foldingStartMarker);
if (o) {
s = o.index;
if (o[1]) return this.openingBracketBlock(e, o[1], n, s);
var a = e.getCommentFoldRange(n, s + o[0].length, 1);
return a && !a.isMultiLine() && (i ? a = this.getSectionRange(e, n) : "all" != t && (a = null)), a;
}
if ("markbegin" !== t && (o = r.match(this.foldingStopMarker))) {
var s = o.index + o[0].length;
return o[1] ? this.closingBracketBlock(e, o[1], n, s) : e.getCommentFoldRange(n, s, -1);
}
}, this.getSectionRange = function(e, t) {
for (var n = e.getLine(t), i = n.search(/\S/), o = t, a = n.length, s = t += 1, l = e.getLength(); ++t < l; ) {
var c = (n = e.getLine(t)).search(/\S/);
if (-1 !== c) {
if (i > c) break;
var u = this.getFoldWidgetRange(e, "all", t);
if (u) {
if (u.start.row <= o) break;
if (u.isMultiLine()) t = u.end.row; else if (i == c) break;
}
s = t;
}
}
return new r(o, a, s, e.getLine(s).length);
}, this.getCommentRegionBlock = function(e, t, n) {
for (var i = t.search(/\s*$/), o = e.getLength(), a = n, s = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++n < o; ) {
t = e.getLine(n);
var c = s.exec(t);
if (c && (c[1] ? l-- : l++, !l)) break;
}
var u = n;
if (u > a) return new r(a, i, u, t.length);
};
}.call(a.prototype);
}), ace.define("ace/mode/javascript", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/javascript_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./javascript_highlight_rules").JavaScriptHighlightRules, a = e("./matching_brace_outdent").MatchingBraceOutdent, s = e("../worker/worker_client").WorkerClient, l = e("./behaviour/cstyle").CstyleBehaviour, c = e("./folding/cstyle").FoldMode, u = function() {
this.HighlightRules = o, this.$outdent = new a(), this.$behaviour = new l(), this.foldingRules = new c();
};
i.inherits(u, r), function() {
this.lineCommentStart = "//", this.blockComment = {
start: "/*",
end: "*/"
}, this.$quotes = {
'"': '"',
"'": "'",
"`": "`"
}, this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t), r = this.getTokenizer().getLineTokens(t, e), o = r.tokens, a = r.state;
if (o.length && "comment" == o[o.length - 1].type) return i;
if ("start" == e || "no_regex" == e) (s = t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/)) && (i += n); else if ("doc-start" == e) {
if ("start" == a || "no_regex" == a) return "";
var s = t.match(/^\s*(\/?)\*/);
s && (s[1] && (i += " "), i += "* ");
}
return i;
}, this.checkOutdent = function(e, t, n) {
return this.$outdent.checkOutdent(t, n);
}, this.autoOutdent = function(e, t, n) {
this.$outdent.autoOutdent(t, n);
}, this.createWorker = function(e) {
var t = new s([ "ace" ], "ace/mode/javascript_worker", "JavaScriptWorker");
return t.attachToDocument(e.getDocument()), t.on("annotate", function(t) {
e.setAnnotations(t.data);
}), t.on("terminate", function() {
e.clearAnnotations();
}), t;
}, this.$id = "ace/mode/javascript";
}.call(u.prototype), t.Mode = u;
}), ace.define("ace/mode/groovy_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/doc_comment_highlight_rules", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./doc_comment_highlight_rules").DocCommentHighlightRules, o = e("./text_highlight_rules").TextHighlightRules, a = function() {
var e = this.createKeywordMapper({
"variable.language": "this",
keyword: "assert|with|abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|def|float|native|super|while",
"support.function": "AbstractMethodError|AssertionError|ClassCircularityError|ClassFormatError|Deprecated|EnumConstantNotPresentException|ExceptionInInitializerError|IllegalAccessError|IllegalThreadStateException|InstantiationError|InternalError|NegativeArraySizeException|NoSuchFieldError|Override|Process|ProcessBuilder|SecurityManager|StringIndexOutOfBoundsException|SuppressWarnings|TypeNotPresentException|UnknownError|UnsatisfiedLinkError|UnsupportedClassVersionError|VerifyError|InstantiationException|IndexOutOfBoundsException|ArrayIndexOutOfBoundsException|CloneNotSupportedException|NoSuchFieldException|IllegalArgumentException|NumberFormatException|SecurityException|Void|InheritableThreadLocal|IllegalStateException|InterruptedException|NoSuchMethodException|IllegalAccessException|UnsupportedOperationException|Enum|StrictMath|Package|Compiler|Readable|Runtime|StringBuilder|Math|IncompatibleClassChangeError|NoSuchMethodError|ThreadLocal|RuntimePermission|ArithmeticException|NullPointerException|Long|Integer|Short|Byte|Double|Number|Float|Character|Boolean|StackTraceElement|Appendable|StringBuffer|Iterable|ThreadGroup|Runnable|Thread|IllegalMonitorStateException|StackOverflowError|OutOfMemoryError|VirtualMachineError|ArrayStoreException|ClassCastException|LinkageError|NoClassDefFoundError|ClassNotFoundException|RuntimeException|Exception|ThreadDeath|Error|Throwable|System|ClassLoader|Cloneable|Class|CharSequence|Comparable|String|Object",
"constant.language": "null|Infinity|NaN|undefined"
}, "identifier");
this.$rules = {
start: [ {
token: "comment",
regex: "\\/\\/.*$"
}, r.getStartRule("doc-start"), {
token: "comment",
regex: "\\/\\*",
next: "comment"
}, {
token: "string.regexp",
regex: "[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"
}, {
token: "string",
regex: '"""',
next: "qqstring"
}, {
token: "string",
regex: "'''",
next: "qstring"
}, {
token: "string",
regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'
}, {
token: "string",
regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
}, {
token: "constant.numeric",
regex: "0[xX][0-9a-fA-F]+\\b"
}, {
token: "constant.numeric",
regex: "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"
}, {
token: "constant.language.boolean",
regex: "(?:true|false)\\b"
}, {
token: e,
regex: "[a-zA-Z_$][a-zA-Z0-9_$]*\\b"
}, {
token: "keyword.operator",
regex: "\\?:|\\?\\.|\\*\\.|<=>|=~|==~|\\.@|\\*\\.@|\\.&|as|in|is|!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"
}, {
token: "lparen",
regex: "[[({]"
}, {
token: "rparen",
regex: "[\\])}]"
}, {
token: "text",
regex: "\\s+"
} ],
comment: [ {
token: "comment",
regex: "\\*\\/",
next: "start"
}, {
defaultToken: "comment"
} ],
qqstring: [ {
token: "constant.language.escape",
regex: /\\(?:u[0-9A-Fa-f]{4}|.|$)/
}, {
token: "constant.language.escape",
regex: /\$[\w\d]+/
}, {
token: "constant.language.escape",
regex: /\$\{[^"\}]+\}?/
}, {
token: "string",
regex: '"{3,5}',
next: "start"
}, {
token: "string",
regex: ".+?"
} ],
qstring: [ {
token: "constant.language.escape",
regex: /\\(?:u[0-9A-Fa-f]{4}|.|$)/
}, {
token: "string",
regex: "'{3,5}",
next: "start"
}, {
token: "string",
regex: ".+?"
} ]
}, this.embedRules(r, "doc-", [ r.getEndRule("start") ]);
};
i.inherits(a, o), t.GroovyHighlightRules = a;
}), ace.define("ace/mode/groovy", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/javascript", "ace/mode/groovy_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./javascript").Mode, o = e("./groovy_highlight_rules").GroovyHighlightRules, a = function() {
r.call(this), this.HighlightRules = o;
};
i.inherits(a, r), function() {
this.createWorker = function(e) {
return null;
}, this.$id = "ace/mode/groovy";
}.call(a.prototype), t.Mode = a;
}), ace.define("ace/mode/yaml_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = function() {
this.$rules = {
start: [ {
token: "comment",
regex: "#.*$"
}, {
token: "list.markup",
regex: /^(?:-{3}|\.{3})\s*(?=#|$)/
}, {
token: "list.markup",
regex: /^\s*[\-?](?:$|\s)/
}, {
token: "constant",
regex: "!![\\w//]+"
}, {
token: "constant.language",
regex: "[&\\*][a-zA-Z0-9-_]+"
}, {
token: [ "meta.tag", "keyword" ],
regex: /^(\s*\w.*?)(:(?=\s|$))/
}, {
token: [ "meta.tag", "keyword" ],
regex: /(\w+?)(\s*:(?=\s|$))/
}, {
token: "keyword.operator",
regex: "<<\\w*:\\w*"
}, {
token: "keyword.operator",
regex: "-\\s*(?=[{])"
}, {
token: "string",
regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'
}, {
token: "string",
regex: /[|>][-+\d\s]*$/,
onMatch: function(e, t, n, i) {
var r = /^\s*/.exec(i)[0];
return n.length < 1 ? n.push(this.next) : n[0] = "mlString", n.length < 2 ? n.push(r.length) : n[1] = r.length, this.token;
},
next: "mlString"
}, {
token: "string",
regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
}, {
token: "constant.numeric",
regex: /(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)/
}, {
token: "constant.numeric",
regex: /[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/
}, {
token: "constant.language.boolean",
regex: "\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"
}, {
token: "paren.lparen",
regex: "[[({]"
}, {
token: "paren.rparen",
regex: "[\\])}]"
}, {
token: "text",
regex: /[^\s,:\[\]\{\}]+/
} ],
mlString: [ {
token: "indent",
regex: /^\s*$/
}, {
token: "indent",
regex: /^\s*/,
onMatch: function(e, t, n) {
return n[1] >= e.length ? (this.next = "start", n.splice(0)) : this.next = "mlString", this.token;
},
next: "mlString"
}, {
token: "string",
regex: ".+"
} ]
}, this.normalizeRules();
};
i.inherits(o, r), t.YamlHighlightRules = o;
}), ace.define("ace/mode/matching_brace_outdent", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = function() {};
(function() {
this.checkOutdent = function(e, t) {
return !!/^\s+$/.test(e) && /^\s*\}/.test(t);
}, this.autoOutdent = function(e, t) {
var n = e.getLine(t).match(/^(\s*\})/);
if (!n) return 0;
var r = n[1].length, o = e.findMatchingBracket({
row: t,
column: r
});
if (!o || o.row == t) return 0;
var a = this.$getIndent(e.getLine(o.row));
e.replace(new i(t, 0, t, r - 1), a);
}, this.$getIndent = function(e) {
return e.match(/^\s*/)[0];
};
}).call(r.prototype), t.MatchingBraceOutdent = r;
}), ace.define("ace/mode/folding/coffee", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("./fold_mode").FoldMode, o = e("../../range").Range, a = t.FoldMode = function() {};
i.inherits(a, r), function() {
this.getFoldWidgetRange = function(e, t, n) {
var i = this.indentationBlock(e, n);
if (i) return i;
var r = /\S/, a = e.getLine(n), s = a.search(r);
if (-1 != s && "#" == a[s]) {
for (var l = a.length, c = e.getLength(), u = n, d = n; ++n < c; ) {
var h = (a = e.getLine(n)).search(r);
if (-1 != h) {
if ("#" != a[h]) break;
d = n;
}
}
if (d > u) {
var f = e.getLine(d).length;
return new o(u, l, d, f);
}
}
}, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n), r = i.search(/\S/), o = e.getLine(n + 1), a = e.getLine(n - 1), s = a.search(/\S/), l = o.search(/\S/);
if (-1 == r) return e.foldWidgets[n - 1] = -1 != s && s < l ? "start" : "", "";
if (-1 == s) {
if (r == l && "#" == i[r] && "#" == o[r]) return e.foldWidgets[n - 1] = "", e.foldWidgets[n + 1] = "", "start";
} else if (s == r && "#" == i[r] && "#" == a[r] && -1 == e.getLine(n - 2).search(/\S/)) return e.foldWidgets[n - 1] = "start", e.foldWidgets[n + 1] = "", "";
return e.foldWidgets[n - 1] = -1 != s && s < r ? "start" : "", r < l ? "start" : "";
};
}.call(a.prototype);
}), ace.define("ace/mode/yaml", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/yaml_highlight_rules", "ace/mode/matching_brace_outdent", "ace/mode/folding/coffee" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./yaml_highlight_rules").YamlHighlightRules, a = e("./matching_brace_outdent").MatchingBraceOutdent, s = e("./folding/coffee").FoldMode, l = function() {
this.HighlightRules = o, this.$outdent = new a(), this.foldingRules = new s(), this.$behaviour = this.$defaultBehaviour;
};
i.inherits(l, r), function() {
this.lineCommentStart = [ "#", "//" ], this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t);
return "start" == e && t.match(/^.*[\{\(\[]\s*$/) && (i += n), i;
}, this.checkOutdent = function(e, t, n) {
return this.$outdent.checkOutdent(t, n);
}, this.autoOutdent = function(e, t, n) {
this.$outdent.autoOutdent(t, n);
}, this.$id = "ace/mode/yaml";
}.call(l.prototype), t.Mode = l;
}), ace.define("ace/theme/dreamweaver", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
t.isDark = !1, t.cssClass = "ace-dreamweaver", t.cssText = '.ace-dreamweaver .ace_gutter {background: #e8e8e8;color: #333;}.ace-dreamweaver .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-dreamweaver {background-color: #FFFFFF;color: black;}.ace-dreamweaver .ace_fold {background-color: #757AD8;}.ace-dreamweaver .ace_cursor {color: black;}.ace-dreamweaver .ace_invisible {color: rgb(191, 191, 191);}.ace-dreamweaver .ace_storage,.ace-dreamweaver .ace_keyword {color: blue;}.ace-dreamweaver .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-dreamweaver .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-dreamweaver .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-dreamweaver .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-dreamweaver .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-dreamweaver .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-dreamweaver .ace_support.ace_type,.ace-dreamweaver .ace_support.ace_class {color: #009;}.ace-dreamweaver .ace_support.ace_php_tag {color: #f00;}.ace-dreamweaver .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-dreamweaver .ace_string {color: #00F;}.ace-dreamweaver .ace_comment {color: rgb(76, 136, 107);}.ace-dreamweaver .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-dreamweaver .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-dreamweaver .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-dreamweaver .ace_variable {color: #06F}.ace-dreamweaver .ace_xml-pe {color: rgb(104, 104, 91);}.ace-dreamweaver .ace_entity.ace_name.ace_function {color: #00F;}.ace-dreamweaver .ace_heading {color: rgb(12, 7, 255);}.ace-dreamweaver .ace_list {color:rgb(185, 6, 144);}.ace-dreamweaver .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-dreamweaver .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-dreamweaver .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-dreamweaver .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-dreamweaver .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-dreamweaver .ace_gutter-active-line {background-color : #DCDCDC;}.ace-dreamweaver .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-dreamweaver .ace_meta.ace_tag {color:#009;}.ace-dreamweaver .ace_meta.ace_tag.ace_anchor {color:#060;}.ace-dreamweaver .ace_meta.ace_tag.ace_form {color:#F90;}.ace-dreamweaver .ace_meta.ace_tag.ace_image {color:#909;}.ace-dreamweaver .ace_meta.ace_tag.ace_script {color:#900;}.ace-dreamweaver .ace_meta.ace_tag.ace_style {color:#909;}.ace-dreamweaver .ace_meta.ace_tag.ace_table {color:#099;}.ace-dreamweaver .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-dreamweaver .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', 
e("../lib/dom").importCssString(t.cssText, t.cssClass);
}), ace.define("ace/theme/eclipse", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
t.isDark = !1, t.cssText = '.ace-eclipse .ace_gutter {background: #ebebeb;border-right: 1px solid rgb(159, 159, 159);color: rgb(136, 136, 136);}.ace-eclipse .ace_print-margin {width: 1px;background: #ebebeb;}.ace-eclipse {background-color: #FFFFFF;color: black;}.ace-eclipse .ace_fold {background-color: rgb(60, 76, 114);}.ace-eclipse .ace_cursor {color: black;}.ace-eclipse .ace_storage,.ace-eclipse .ace_keyword,.ace-eclipse .ace_variable {color: rgb(127, 0, 85);}.ace-eclipse .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-eclipse .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-eclipse .ace_function {color: rgb(60, 76, 114);}.ace-eclipse .ace_string {color: rgb(42, 0, 255);}.ace-eclipse .ace_comment {color: rgb(113, 150, 130);}.ace-eclipse .ace_comment.ace_doc {color: rgb(63, 95, 191);}.ace-eclipse .ace_comment.ace_doc.ace_tag {color: rgb(127, 159, 191);}.ace-eclipse .ace_constant.ace_numeric {color: darkblue;}.ace-eclipse .ace_tag {color: rgb(25, 118, 116);}.ace-eclipse .ace_type {color: rgb(127, 0, 127);}.ace-eclipse .ace_xml-pe {color: rgb(104, 104, 91);}.ace-eclipse .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-eclipse .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-eclipse .ace_meta.ace_tag {color:rgb(25, 118, 116);}.ace-eclipse .ace_invisible {color: #ddd;}.ace-eclipse .ace_entity.ace_other.ace_attribute-name {color:rgb(127, 0, 127);}.ace-eclipse .ace_marker-layer .ace_step {background: rgb(255, 255, 0);}.ace-eclipse .ace_active-line {background: rgb(232, 242, 254);}.ace-eclipse .ace_gutter-active-line {background-color : #DADADA;}.ace-eclipse .ace_marker-layer .ace_selected-word {border: 1px solid rgb(181, 213, 255);}.ace-eclipse .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', 
t.cssClass = "ace-eclipse", e("../lib/dom").importCssString(t.cssText, t.cssClass);
}), ace.define("ace/mode/sh_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = t.reservedKeywords = "!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly", a = t.languageConstructs = "[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait", s = function() {
var e = this.createKeywordMapper({
keyword: o,
"support.function.builtin": a,
"invalid.deprecated": "debugger"
}, "identifier"), t = "(?:\\d+)";
this.$rules = {
start: [ {
token: "constant",
regex: /\\./
}, {
token: [ "text", "comment" ],
regex: /(^|\s)(#.*)$/
}, {
token: "string.start",
regex: '"',
push: [ {
token: "constant.language.escape",
regex: /\\(?:[$`"\\]|$)/
}, {
include: "variables"
}, {
token: "keyword.operator",
regex: /`/
}, {
token: "string.end",
regex: '"',
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
token: "string",
regex: "\\$'",
push: [ {
token: "constant.language.escape",
regex: /\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/
}, {
token: "string",
regex: "'",
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
regex: "<<<",
token: "keyword.operator"
}, {
stateName: "heredoc",
regex: "(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",
onMatch: function(e, t, n) {
var i = "-" == e[2] ? "indentedHeredoc" : "heredoc", r = e.split(this.splitRegex);
return n.push(i, r[4]), [ {
type: "constant",
value: r[1]
}, {
type: "text",
value: r[2]
}, {
type: "string",
value: r[3]
}, {
type: "support.class",
value: r[4]
}, {
type: "string",
value: r[5]
} ];
},
rules: {
heredoc: [ {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ],
indentedHeredoc: [ {
token: "string",
regex: "^\t+"
}, {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ]
}
}, {
regex: "$",
token: "empty",
next: function(e, t) {
return "heredoc" === t[0] || "indentedHeredoc" === t[0] ? t[0] : e;
}
}, {
token: [ "keyword", "text", "text", "text", "variable" ],
regex: /(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/
}, {
token: "variable.language",
regex: "(?:\\$(?:SHLVL|\\$|\\!|\\?))"
}, {
token: "variable",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*(?==))"
}, {
include: "variables"
}, {
token: "support.function",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*\\s*\\(\\))"
}, {
token: "support.function",
regex: "(?:&(?:\\d+))"
}, {
token: "string",
start: "'",
end: "'"
}, {
token: "constant.numeric",
regex: "(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+)))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"
}, {
token: "constant.numeric",
regex: "(?:(?:[1-9]\\d*)|(?:0))\\b"
}, {
token: e,
regex: "[a-zA-Z_][a-zA-Z0-9_]*\\b"
}, {
token: "keyword.operator",
regex: "\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"
}, {
token: "punctuation.operator",
regex: ";"
}, {
token: "paren.lparen",
regex: "[\\[\\(\\{]"
}, {
token: "paren.rparen",
regex: "[\\]]"
}, {
token: "paren.rparen",
regex: "[\\)\\}]",
next: "pop"
} ],
variables: [ {
token: "variable",
regex: /(\$)(\w+)/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\()/,
push: "start"
}, {
token: [ "variable", "paren.lparen", "keyword.operator", "variable", "keyword.operator" ],
regex: /(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,
push: "start"
}, {
token: "variable",
regex: /\$[*@#?\-$!0_]/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\{)/,
push: "start"
} ]
}, this.normalizeRules();
};
i.inherits(s, r), t.ShHighlightRules = s;
}), ace.define("ace/mode/folding/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("../../range").Range, o = e("./fold_mode").FoldMode, a = t.FoldMode = function(e) {
e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)));
};
i.inherits(a, o), function() {
this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
if (this.singleLineBlockCommentRe.test(i) && !this.startRegionRe.test(i) && !this.tripleStarBlockCommentRe.test(i)) return "";
var r = this._getFoldWidgetBase(e, t, n);
return !r && this.startRegionRe.test(i) ? "start" : r;
}, this.getFoldWidgetRange = function(e, t, n, i) {
var r = e.getLine(n);
if (this.startRegionRe.test(r)) return this.getCommentRegionBlock(e, r, n);
var o = r.match(this.foldingStartMarker);
if (o) {
s = o.index;
if (o[1]) return this.openingBracketBlock(e, o[1], n, s);
var a = e.getCommentFoldRange(n, s + o[0].length, 1);
return a && !a.isMultiLine() && (i ? a = this.getSectionRange(e, n) : "all" != t && (a = null)), a;
}
if ("markbegin" !== t && (o = r.match(this.foldingStopMarker))) {
var s = o.index + o[0].length;
return o[1] ? this.closingBracketBlock(e, o[1], n, s) : e.getCommentFoldRange(n, s, -1);
}
}, this.getSectionRange = function(e, t) {
for (var n = e.getLine(t), i = n.search(/\S/), o = t, a = n.length, s = t += 1, l = e.getLength(); ++t < l; ) {
var c = (n = e.getLine(t)).search(/\S/);
if (-1 !== c) {
if (i > c) break;
var u = this.getFoldWidgetRange(e, "all", t);
if (u) {
if (u.start.row <= o) break;
if (u.isMultiLine()) t = u.end.row; else if (i == c) break;
}
s = t;
}
}
return new r(o, a, s, e.getLine(s).length);
}, this.getCommentRegionBlock = function(e, t, n) {
for (var i = t.search(/\s*$/), o = e.getLength(), a = n, s = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++n < o; ) {
t = e.getLine(n);
var c = s.exec(t);
if (c && (c[1] ? l-- : l++, !l)) break;
}
var u = n;
if (u > a) return new r(a, i, u, t.length);
};
}.call(a.prototype);
}), ace.define("ace/mode/sh", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/sh_highlight_rules", "ace/range", "ace/mode/folding/cstyle", "ace/mode/behaviour/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./sh_highlight_rules").ShHighlightRules, a = e("../range").Range, s = e("./folding/cstyle").FoldMode, l = e("./behaviour/cstyle").CstyleBehaviour, c = function() {
this.HighlightRules = o, this.foldingRules = new s(), this.$behaviour = new l();
};
i.inherits(c, r), function() {
this.lineCommentStart = "#", this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t), r = this.getTokenizer().getLineTokens(t, e).tokens;
return r.length && "comment" == r[r.length - 1].type ? i : ("start" == e && t.match(/^.*[\{\(\[:]\s*$/) && (i += n), i);
};
var e = {
pass: 1,
return: 1,
raise: 1,
break: 1,
continue: 1
};
this.checkOutdent = function(t, n, i) {
if ("\r\n" !== i && "\r" !== i && "\n" !== i) return !1;
var r = this.getTokenizer().getLineTokens(n.trim(), t).tokens;
if (!r) return !1;
do {
var o = r.pop();
} while (o && ("comment" == o.type || "text" == o.type && o.value.match(/^\s+$/)));
return !!o && ("keyword" == o.type && e[o.value]);
}, this.autoOutdent = function(e, t, n) {
n += 1;
var i = this.$getIndent(t.getLine(n)), r = t.getTabString();
i.slice(-r.length) == r && t.remove(new a(n, i.length - r.length, n, i.length));
}, this.$id = "ace/mode/sh";
}.call(c.prototype), t.Mode = c;
}), angular.module("ui.ace", []).constant("uiAceConfig", {}).directive("uiAce", [ "uiAceConfig", function(e) {
if (angular.isUndefined(window.ace)) throw new Error("ui-ace need ace to work... (o rly?)");
var t = function(e, t, n) {
angular.isDefined(n.workerPath) && window.ace.require("ace/config").set("workerPath", n.workerPath), angular.isDefined(n.require) && n.require.forEach(function(e) {
window.ace.require(e);
}), angular.isDefined(n.showGutter) && e.renderer.setShowGutter(n.showGutter), angular.isDefined(n.useWrapMode) && t.setUseWrapMode(n.useWrapMode), angular.isDefined(n.showInvisibles) && e.renderer.setShowInvisibles(n.showInvisibles), angular.isDefined(n.showIndentGuides) && e.renderer.setDisplayIndentGuides(n.showIndentGuides), angular.isDefined(n.useSoftTabs) && t.setUseSoftTabs(n.useSoftTabs), angular.isDefined(n.showPrintMargin) && e.setShowPrintMargin(n.showPrintMargin), angular.isDefined(n.disableSearch) && n.disableSearch && e.commands.addCommands([ {
name: "unfind",
bindKey: {
win: "Ctrl-F",
mac: "Command-F"
},
exec: function() {
return !1;
},
readOnly: !0
} ]), angular.isString(n.theme) && e.setTheme("ace/theme/" + n.theme), angular.isString(n.mode) && t.setMode("ace/mode/" + n.mode), angular.isDefined(n.firstLineNumber) && (angular.isNumber(n.firstLineNumber) ? t.setOption("firstLineNumber", n.firstLineNumber) : angular.isFunction(n.firstLineNumber) && t.setOption("firstLineNumber", n.firstLineNumber()));
var i, r;
if (angular.isDefined(n.advanced)) for (i in n.advanced) r = {
name: i,
value: n.advanced[i]
}, e.setOption(r.name, r.value);
if (angular.isDefined(n.rendererOptions)) for (i in n.rendererOptions) r = {
name: i,
value: n.rendererOptions[i]
}, e.renderer.setOption(r.name, r.value);
angular.forEach(n.callbacks, function(t) {
angular.isFunction(t) && t(e);
});
};
return {
restrict: "EA",
require: "?ngModel",
link: function(n, i, r, o) {
var a, s, l = e.ace || {}, c = angular.extend({}, l, n.$eval(r.uiAce)), u = window.ace.edit(i[0]), d = u.getSession(), h = function() {
var e = arguments[0], t = Array.prototype.slice.call(arguments, 1);
angular.isDefined(e) && n.$evalAsync(function() {
if (!angular.isFunction(e)) throw new Error("ui-ace use a function as callback.");
e(t);
});
}, f = {
onChange: function(e) {
return function(t) {
var i = d.getValue();
!o || i === o.$viewValue || n.$$phase || n.$root.$$phase || n.$evalAsync(function() {
o.$setViewValue(i);
}), h(e, t, u);
};
},
onBlur: function(e) {
return function() {
h(e, u);
};
}
};
r.$observe("readonly", function(e) {
u.setReadOnly(!!e || "" === e);
}), o && (o.$formatters.push(function(e) {
if (angular.isUndefined(e) || null === e) return "";
if (angular.isObject(e) || angular.isArray(e)) throw new Error("ui-ace cannot use an object or an array as a model");
return e;
}), o.$render = function() {
d.setValue(o.$viewValue);
});
var p = function(e, i) {
e !== i && ((c = angular.extend({}, l, n.$eval(r.uiAce))).callbacks = [ c.onLoad ], c.onLoad !== l.onLoad && c.callbacks.unshift(l.onLoad), d.removeListener("change", a), a = f.onChange(c.onChange), d.on("change", a), u.removeListener("blur", s), s = f.onBlur(c.onBlur), u.on("blur", s), t(u, d, c));
};
n.$watch(r.uiAce, p, !0), p(l), i.on("$destroy", function() {
u.session.$stopWorker(), u.destroy();
}), n.$watch(function() {
return [ i[0].offsetWidth, i[0].offsetHeight ];
}, function() {
u.resize(), u.renderer.updateFull();
}, !0);
}
};
} ]), function(e) {
if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Clipboard = e();
}
}(function() {
return function e(t, n, i) {
function r(a, s) {
if (!n[a]) {
if (!t[a]) {
var l = "function" == typeof require && require;
if (!s && l) return l(a, !0);
if (o) return o(a, !0);
var c = new Error("Cannot find module '" + a + "'");
throw c.code = "MODULE_NOT_FOUND", c;
}
var u = n[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
var n = t[a][1][e];
return r(n || e);
}, u, u.exports, e, t, n, i);
}
return n[a].exports;
}
for (var o = "function" == typeof require && require, a = 0; a < i.length; a++) r(i[a]);
return r;
}({
1: [ function(e, t, n) {
var i = e("matches-selector");
t.exports = function(e, t, n) {
for (var r = n ? e : e.parentNode; r && r !== document; ) {
if (i(r, t)) return r;
r = r.parentNode;
}
};
}, {
"matches-selector": 5
} ],
2: [ function(e, t, n) {
function i(e, t, n, i) {
return function(n) {
n.delegateTarget = r(n.target, t, !0), n.delegateTarget && i.call(e, n);
};
}
var r = e("closest");
t.exports = function(e, t, n, r, o) {
var a = i.apply(this, arguments);
return e.addEventListener(n, a, o), {
destroy: function() {
e.removeEventListener(n, a, o);
}
};
};
}, {
closest: 1
} ],
3: [ function(e, t, n) {
n.node = function(e) {
return void 0 !== e && e instanceof HTMLElement && 1 === e.nodeType;
}, n.nodeList = function(e) {
var t = Object.prototype.toString.call(e);
return void 0 !== e && ("[object NodeList]" === t || "[object HTMLCollection]" === t) && "length" in e && (0 === e.length || n.node(e[0]));
}, n.string = function(e) {
return "string" == typeof e || e instanceof String;
}, n.fn = function(e) {
return "[object Function]" === Object.prototype.toString.call(e);
};
}, {} ],
4: [ function(e, t, n) {
function i(e, t, n) {
return e.addEventListener(t, n), {
destroy: function() {
e.removeEventListener(t, n);
}
};
}
function r(e, t, n) {
return Array.prototype.forEach.call(e, function(e) {
e.addEventListener(t, n);
}), {
destroy: function() {
Array.prototype.forEach.call(e, function(e) {
e.removeEventListener(t, n);
});
}
};
}
function o(e, t, n) {
return s(document.body, e, t, n);
}
var a = e("./is"), s = e("delegate");
t.exports = function(e, t, n) {
if (!e && !t && !n) throw new Error("Missing required arguments");
if (!a.string(t)) throw new TypeError("Second argument must be a String");
if (!a.fn(n)) throw new TypeError("Third argument must be a Function");
if (a.node(e)) return i(e, t, n);
if (a.nodeList(e)) return r(e, t, n);
if (a.string(e)) return o(e, t, n);
throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");
};
}, {
"./is": 3,
delegate: 2
} ],
5: [ function(e, t, n) {
var i = Element.prototype, r = i.matchesSelector || i.webkitMatchesSelector || i.mozMatchesSelector || i.msMatchesSelector || i.oMatchesSelector;
t.exports = function(e, t) {
if (r) return r.call(e, t);
for (var n = e.parentNode.querySelectorAll(t), i = 0; i < n.length; ++i) if (n[i] == e) return !0;
return !1;
};
}, {} ],
6: [ function(e, t, n) {
t.exports = function(e) {
var t;
if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) e.focus(), e.setSelectionRange(0, e.value.length), t = e.value; else {
e.hasAttribute("contenteditable") && e.focus();
var n = window.getSelection(), i = document.createRange();
i.selectNodeContents(e), n.removeAllRanges(), n.addRange(i), t = n.toString();
}
return t;
};
}, {} ],
7: [ function(e, t, n) {
function i() {}
i.prototype = {
on: function(e, t, n) {
var i = this.e || (this.e = {});
return (i[e] || (i[e] = [])).push({
fn: t,
ctx: n
}), this;
},
once: function(e, t, n) {
function i() {
r.off(e, i), t.apply(n, arguments);
}
var r = this;
return i._ = t, this.on(e, i, n);
},
emit: function(e) {
var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), i = 0, r = n.length;
for (i; i < r; i++) n[i].fn.apply(n[i].ctx, t);
return this;
},
off: function(e, t) {
var n = this.e || (this.e = {}), i = n[e], r = [];
if (i && t) for (var o = 0, a = i.length; o < a; o++) i[o].fn !== t && i[o].fn._ !== t && r.push(i[o]);
return r.length ? n[e] = r : delete n[e], this;
}
}, t.exports = i;
}, {} ],
8: [ function(e, t, n) {
"use strict";
function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
n.__esModule = !0;
var r = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var i = t[n];
i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
}
}
return function(t, n, i) {
return n && e(t.prototype, n), i && e(t, i), t;
};
}(), o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("select")), a = function() {
function e(t) {
i(this, e), this.resolveOptions(t), this.initSelection();
}
return e.prototype.resolveOptions = function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.action = e.action, this.emitter = e.emitter, this.target = e.target, this.text = e.text, this.trigger = e.trigger, this.selectedText = "";
}, e.prototype.initSelection = function() {
if (this.text && this.target) throw new Error('Multiple attributes declared, use either "target" or "text"');
if (this.text) this.selectFake(); else {
if (!this.target) throw new Error('Missing required attributes, use either "target" or "text"');
this.selectTarget();
}
}, e.prototype.selectFake = function() {
var e = this, t = "rtl" == document.documentElement.getAttribute("dir");
this.removeFake(), this.fakeHandler = document.body.addEventListener("click", function() {
return e.removeFake();
}), this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[t ? "right" : "left"] = "-9999px", this.fakeElem.style.top = (window.pageYOffset || document.documentElement.scrollTop) + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, document.body.appendChild(this.fakeElem), this.selectedText = o.default(this.fakeElem), this.copyText();
}, e.prototype.removeFake = function() {
this.fakeHandler && (document.body.removeEventListener("click"), this.fakeHandler = null), this.fakeElem && (document.body.removeChild(this.fakeElem), this.fakeElem = null);
}, e.prototype.selectTarget = function() {
this.selectedText = o.default(this.target), this.copyText();
}, e.prototype.copyText = function() {
var e = void 0;
try {
e = document.execCommand(this.action);
} catch (t) {
e = !1;
}
this.handleResult(e);
}, e.prototype.handleResult = function(e) {
e ? this.emitter.emit("success", {
action: this.action,
text: this.selectedText,
trigger: this.trigger,
clearSelection: this.clearSelection.bind(this)
}) : this.emitter.emit("error", {
action: this.action,
trigger: this.trigger,
clearSelection: this.clearSelection.bind(this)
});
}, e.prototype.clearSelection = function() {
this.target && this.target.blur(), window.getSelection().removeAllRanges();
}, e.prototype.destroy = function() {
this.removeFake();
}, r(e, [ {
key: "action",
set: function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? "copy" : arguments[0];
if (this._action = e, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"');
},
get: function() {
return this._action;
}
}, {
key: "target",
set: function(e) {
if (void 0 !== e) {
if (!e || "object" != typeof e || 1 !== e.nodeType) throw new Error('Invalid "target" value, use a valid Element');
this._target = e;
}
},
get: function() {
return this._target;
}
} ]), e;
}();
n.default = a, t.exports = n.default;
}, {
select: 6
} ],
9: [ function(e, t, n) {
"use strict";
function i(e) {
return e && e.__esModule ? e : {
default: e
};
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
var n = "data-clipboard-" + e;
if (t.hasAttribute(n)) return t.getAttribute(n);
}
n.__esModule = !0;
var s = i(e("./clipboard-action")), l = i(e("tiny-emitter")), c = i(e("good-listener")), u = function(e) {
function t(n, i) {
r(this, t), e.call(this), this.resolveOptions(i), this.listenClick(n);
}
return o(t, e), t.prototype.resolveOptions = function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.action = "function" == typeof e.action ? e.action : this.defaultAction, this.target = "function" == typeof e.target ? e.target : this.defaultTarget, this.text = "function" == typeof e.text ? e.text : this.defaultText;
}, t.prototype.listenClick = function(e) {
var t = this;
this.listener = c.default(e, "click", function(e) {
return t.onClick(e);
});
}, t.prototype.onClick = function(e) {
var t = e.delegateTarget || e.currentTarget;
this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new s.default({
action: this.action(t),
target: this.target(t),
text: this.text(t),
trigger: t,
emitter: this
});
}, t.prototype.defaultAction = function(e) {
return a("action", e);
}, t.prototype.defaultTarget = function(e) {
var t = a("target", e);
if (t) return document.querySelector(t);
}, t.prototype.defaultText = function(e) {
return a("text", e);
}, t.prototype.destroy = function() {
this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null);
}, t;
}(l.default);
n.default = u, t.exports = n.default;
}, {
"./clipboard-action": 8,
"good-listener": 4,
"tiny-emitter": 7
} ]
}, {}, [ 9 ])(9);
}), function(e, t) {
function n() {
this.fg = this.bg = this.fg_truecolor = this.bg_truecolor = null, this.bright = 0;
}
var i, r, o = "undefined" != typeof module, a = [ [ {
color: "0, 0, 0",
class: "ansi-black"
}, {
color: "187, 0, 0",
class: "ansi-red"
}, {
color: "0, 187, 0",
class: "ansi-green"
}, {
color: "187, 187, 0",
class: "ansi-yellow"
}, {
color: "0, 0, 187",
class: "ansi-blue"
}, {
color: "187, 0, 187",
class: "ansi-magenta"
}, {
color: "0, 187, 187",
class: "ansi-cyan"
}, {
color: "255,255,255",
class: "ansi-white"
} ], [ {
color: "85, 85, 85",
class: "ansi-bright-black"
}, {
color: "255, 85, 85",
class: "ansi-bright-red"
}, {
color: "0, 255, 0",
class: "ansi-bright-green"
}, {
color: "255, 255, 85",
class: "ansi-bright-yellow"
}, {
color: "85, 85, 255",
class: "ansi-bright-blue"
}, {
color: "255, 85, 255",
class: "ansi-bright-magenta"
}, {
color: "85, 255, 255",
class: "ansi-bright-cyan"
}, {
color: "255, 255, 255",
class: "ansi-bright-white"
} ] ];
n.prototype.setup_palette = function() {
r = [], function() {
var e, t;
for (e = 0; e < 2; ++e) for (t = 0; t < 8; ++t) r.push(a[e][t].color);
}(), function() {
var e, t, n, i = [ 0, 95, 135, 175, 215, 255 ];
for (e = 0; e < 6; ++e) for (t = 0; t < 6; ++t) for (n = 0; n < 6; ++n) r.push(function(e, t, n) {
return i[e] + ", " + i[t] + ", " + i[n];
}.call(this, e, t, n));
}(), function() {
var e, t = 8;
for (e = 0; e < 24; ++e, t += 10) r.push(function(e) {
return e + ", " + e + ", " + e;
}.call(this, t));
}();
}, n.prototype.escape_for_html = function(e) {
return e.replace(/[&<>]/gm, function(e) {
return "&" == e ? "&amp;" : "<" == e ? "&lt;" : ">" == e ? "&gt;" : void 0;
});
}, n.prototype.linkify = function(e) {
return e.replace(/(https?:\/\/[^\s]+)/gm, function(e) {
return '<a href="' + e + '">' + e + "</a>";
});
}, n.prototype.ansi_to_html = function(e, t) {
return this.process(e, t, !0);
}, n.prototype.ansi_to_text = function(e) {
var t = {};
return this.process(e, t, !1);
}, n.prototype.process = function(e, t, n) {
var i = this, r = e.split(/\033\[/), o = r.shift(), a = r.map(function(e) {
return i.process_chunk(e, t, n);
});
return a.unshift(o), a.join("");
}, n.prototype.process_chunk = function(e, t, n) {
var i = void 0 !== (t = void 0 === t ? {} : t).use_classes && t.use_classes, o = i ? "class" : "color", s = e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);
if (!s) return e;
var l = s[4], c = s[2].split(";");
if ("" !== s[1] || "m" !== s[3]) return l;
if (!n) return l;
for (var u = this; c.length > 0; ) {
var d = c.shift(), h = parseInt(d);
isNaN(h) || 0 === h ? (u.fg = u.bg = null, u.bright = 0) : 1 === h ? u.bright = 1 : 39 == h ? u.fg = null : 49 == h ? u.bg = null : h >= 30 && h < 38 ? u.fg = a[u.bright][h % 10][o] : h >= 90 && h < 98 ? u.fg = a[1][h % 10][o] : h >= 40 && h < 48 ? u.bg = a[0][h % 10][o] : h >= 100 && h < 108 ? u.bg = a[1][h % 10][o] : 38 !== h && 48 !== h || function() {
var e = 38 === h;
if (c.length >= 1) {
var t = c.shift();
if ("5" === t && c.length >= 1) {
var n = parseInt(c.shift());
if (n >= 0 && n <= 255) if (i) {
var o = n >= 16 ? "ansi-palette-" + n : a[n > 7 ? 1 : 0][n % 8].class;
e ? u.fg = o : u.bg = o;
} else r || u.setup_palette.call(u), e ? u.fg = r[n] : u.bg = r[n];
} else if ("2" === t && c.length >= 3) {
var s = parseInt(c.shift()), l = parseInt(c.shift()), d = parseInt(c.shift());
if (s >= 0 && s <= 255 && l >= 0 && l <= 255 && d >= 0 && d <= 255) {
var f = s + ", " + l + ", " + d;
i ? e ? (u.fg = "ansi-truecolor", u.fg_truecolor = f) : (u.bg = "ansi-truecolor", u.bg_truecolor = f) : e ? u.fg = f : u.bg = f;
}
}
}
}();
}
if (null === u.fg && null === u.bg) return l;
var f = [], p = [], g = {}, m = function(e) {
var t, n = [];
for (t in e) e.hasOwnProperty(t) && n.push("data-" + t + '="' + this.escape_for_html(e[t]) + '"');
return n.length > 0 ? " " + n.join(" ") : "";
};
return u.fg && (i ? (p.push(u.fg + "-fg"), null !== u.fg_truecolor && (g["ansi-truecolor-fg"] = u.fg_truecolor, u.fg_truecolor = null)) : f.push("color:rgb(" + u.fg + ")")), u.bg && (i ? (p.push(u.bg + "-bg"), null !== u.bg_truecolor && (g["ansi-truecolor-bg"] = u.bg_truecolor, u.bg_truecolor = null)) : f.push("background-color:rgb(" + u.bg + ")")), i ? '<span class="' + p.join(" ") + '"' + m.call(u, g) + ">" + l + "</span>" : '<span style="' + f.join(";") + '"' + m.call(u, g) + ">" + l + "</span>";
}, i = {
escape_for_html: function(e) {
return new n().escape_for_html(e);
},
linkify: function(e) {
return new n().linkify(e);
},
ansi_to_html: function(e, t) {
return new n().ansi_to_html(e, t);
},
ansi_to_text: function(e) {
return new n().ansi_to_text(e);
},
ansi_to_html_obj: function() {
return new n();
}
}, o && (module.exports = i), "undefined" != typeof window && "undefined" == typeof ender && (window.ansi_up = i), "function" == typeof define && define.amd && define("ansi_up", [], function() {
return i;
});
}(Date), angular.module("extension-registry", [ "extension-registry-utils" ]), function() {
"use strict";
angular.module("extension-registry-utils", []).constant("extensionRegistryUtils", function() {
var e = Function.prototype.bind.bind(Function.prototype.call), t = e(String.prototype.split), n = e(Object.prototype.toString), i = function(e) {
return "[object Array]" === n(e);
}, r = e(Array.prototype.slice), o = function(e, t) {
for (var n = 0; n < e.length; n++) t(e[n], n, e);
}, a = function(e) {
var t = [];
return o(e, function(e) {
t = i(e) ? t.concat(a(e)) : t.concat(e);
}), t;
};
return {
unbind: e,
split: t,
slice: r,
contains: function() {
var e = arguments[0], t = r(arguments, 1), n = [];
return o(t, function(t) {
o(e, function(e) {
e === t && n.push(!0);
});
}), n.length === t.length;
},
each: o,
map: function(e, t) {
for (var n = [], i = 0; i < e.length; i++) n.push(t(e[i], i, e));
return n;
},
reduce: function(e, t, n) {
for (var i = 0; i < e.length; i++) n = t(n, e[i], i, e);
return n;
},
filter: function(e, t) {
for (var n = [], i = 0; i < e.length; i++) t(e[i], i, e) && n.push(e[i]);
return n;
},
flatten: a,
ownKeys: function(e) {
var t = [];
for (var n in e) e.hasOwnProperty(n) && t.push(n);
return t;
},
toArray: function(e) {
var t = [];
for (var n in e) e.hasOwnProperty(n) && t.push(e[n]);
return t;
},
isFunction: function(e) {
return "[object Function]" === n(e);
},
isObject: function(e) {
return "[object Object]" === n(e);
},
isNumber: function(e) {
return "[object Number]" === n(e);
}
};
}());
}(), function() {
"use strict";
angular.module("extension-registry").provider("extensionRegistry", [ "extensionRegistryUtils", function(e) {
var t = {}, n = {}, i = 1e3, r = e.split, o = e.slice, a = e.each, s = e.map, l = e.contains, c = e.filter, u = e.flatten, d = e.reduce, h = e.ownKeys, f = e.toArray, p = e.isFunction, g = function() {
a(f(n), function(e) {
e && e();
});
}, m = function(e, n) {
var r = i++;
return t[e] || (t[e] = {}), n && p(n) && (t[e][r] = n, g()), {
_name: e,
_key: r,
remove: function() {
delete t[e][r], g();
}
};
}, v = function(e) {
delete t[e._name][e._key], g();
}, y = function() {
return t;
}, b = function() {
t = {};
};
this.add = m, this.dump = y, this.clean = b, this.$get = [ "$log", "$q", "$templateCache", function(e, a, f) {
return {
addType: function(e, t) {
f.put("__extension-" + e + ".html", t);
},
add: m,
remove: v,
get: function(e, n, i, f) {
return a.all(u(d(s(r(e, " "), function(e) {
return t[e];
}), function(e, t) {
return e.concat(u(s(h(t), function(e) {
return t[e] && t[e](i);
})));
}, []))).then(function() {
return d(c(u(o(arguments)), function(e) {
return l(n, e && e.type) ? e : void 0;
}), function(e, t) {
return e.length >= f ? e : (e.push(t), e);
}, []);
});
},
subscribe: function(e) {
var t = i++;
return n[t] = e, {
unsubscribe: function() {
delete n[t];
}
};
},
dump: y,
clean: b
};
} ];
} ]);
}(), function() {
"use strict";
angular.module("extension-registry").directive("extensionPoint", [ "$compile", "$templateCache", "extensionRegistryUtils", function(e, t, n) {
var i = n.each, r = function(e) {
return "__extension-" + e + ".html";
};
return {
restrict: "EA",
scope: {
extensionName: "=",
extensionFilters: "=",
extensionArgs: "=",
extensionLimit: "="
},
transclude: !0,
controller: [ "$scope", "$q", "extensionRegistry", function(n, o, a) {
this.initialize = function(s, l, c) {
var u = function() {
o.when(a.get(l, c, n.extensionArgs, Number(n.extensionLimit))).then(function(o) {
s.html(""), i(o, function(i) {
s.append(e("dom" === i.type ? i.node : t.get(r(i.type)))(angular.extend(n.$new(!0), {
item: i
})));
});
});
};
u();
var d = a.subscribe(u);
n.$on("$destroy", function() {
d.unsubscribe();
});
};
} ],
link: function(e, t, n, i) {
var o = n.extensionName, a = n.extensionTypes && n.extensionTypes.split(" ") || [], s = n.extensionArgs || {};
angular.extend(e, {
extTpl: r
}), i.initialize(t, o, a, s);
}
};
} ]);
}(), function() {
"use strict";
angular.module("extension-registry").directive("extensionRenderer", [ "$compile", function(e) {
return {
restrict: "AE",
scope: {
item: "=",
index: "=",
context: "="
},
templateUrl: "__extension-renderer.html",
link: function(t, n) {
t.extTpl = function(e) {
return "__extension-" + e + ".html";
}, "dom" === t.item.type && (n.html(t.item.node), e(n.contents())(t));
}
};
} ]);
}(), angular.module("extension-registry").run([ "$templateCache", function(e) {
e.put("__extension-dom.html", ""), e.put("__extension-link.html", '<a ng-if="!item.onClick"\n   ng-href="{{item.href}}"\n   target="{{item.target}}"\n   title="{{item.linkText}}"\n   class="extension-link extension-{{index}} {{item.className}}">\n   {{item.linkText}}\n </a>\n\n<a ng-if="item.onClick"\n   ng-href="#"\n   ng-click="item.onClick(args)"\n   title="{{item.linkText}}"\n   class="extension-link extension-{{index}} {{item.className}}">\n   {{item.linkText}}\n </a>\n'), e.put("__extension-select.html", '<select\n  name="item.nameText"\n  ng-model="selected"\n  ng-init="selected = item.options[0]"\n  ng-change="item.onChange(selected)"\n  class="extension-select extension-{{index}} {{item.className}}"\n  ng-options="foo.label for foo in item.options"></select>\n'), e.put("__extension-text.html", "<span>{{item.text}}</span>\n");
} ]), function() {
"use strict";
angular.module("as.sortable", []).constant("sortableConfig", {
itemClass: "as-sortable-item",
handleClass: "as-sortable-item-handle",
placeHolderClass: "as-sortable-placeholder",
dragClass: "as-sortable-drag",
hiddenClass: "as-sortable-hidden",
dragging: "as-sortable-dragging"
});
}(), function() {
"use strict";
angular.module("as.sortable").factory("$helper", [ "$document", "$window", function(e, t) {
return {
height: function(e) {
return e[0].getBoundingClientRect().height;
},
width: function(e) {
return e[0].getBoundingClientRect().width;
},
offset: function(n, i) {
var r = n[0].getBoundingClientRect();
return i || (i = e[0].documentElement), {
width: r.width || n.prop("offsetWidth"),
height: r.height || n.prop("offsetHeight"),
top: r.top + (t.pageYOffset || i.scrollTop - i.offsetTop),
left: r.left + (t.pageXOffset || i.scrollLeft - i.offsetLeft)
};
},
eventObj: function(e) {
var t = e;
return void 0 !== e.targetTouches ? t = e.targetTouches.item(0) : void 0 !== e.originalEvent && void 0 !== e.originalEvent.targetTouches && (t = e.originalEvent.targetTouches.item(0)), t;
},
isTouchInvalid: function(e) {
var t = !1;
return void 0 !== e.touches && e.touches.length > 1 ? t = !0 : void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && e.originalEvent.touches.length > 1 && (t = !0), t;
},
positionStarted: function(e, t, n) {
var i = {};
return i.offsetX = e.pageX - this.offset(t, n).left, i.offsetY = e.pageY - this.offset(t, n).top, i.startX = i.lastX = e.pageX, i.startY = i.lastY = e.pageY, i.nowX = i.nowY = i.distX = i.distY = i.dirAx = 0, i.dirX = i.dirY = i.lastDirX = i.lastDirY = i.distAxX = i.distAxY = 0, i;
},
calculatePosition: function(e, t) {
e.lastX = e.nowX, e.lastY = e.nowY, e.nowX = t.pageX, e.nowY = t.pageY, e.distX = e.nowX - e.lastX, e.distY = e.nowY - e.lastY, e.lastDirX = e.dirX, e.lastDirY = e.dirY, e.dirX = 0 === e.distX ? 0 : e.distX > 0 ? 1 : -1, e.dirY = 0 === e.distY ? 0 : e.distY > 0 ? 1 : -1;
var n = Math.abs(e.distX) > Math.abs(e.distY) ? 1 : 0;
e.dirAx !== n ? (e.distAxX = 0, e.distAxY = 0) : (e.distAxX += Math.abs(e.distX), 0 !== e.dirX && e.dirX !== e.lastDirX && (e.distAxX = 0), e.distAxY += Math.abs(e.distY), 0 !== e.dirY && e.dirY !== e.lastDirY && (e.distAxY = 0)), e.dirAx = n;
},
movePosition: function(e, t, n, i, r, o) {
var a, s = "relative" === r;
t.x = e.pageX - n.offsetX, t.y = e.pageY - n.offsetY, i && (a = this.offset(i, o), s && (t.x -= a.left, t.y -= a.top, a.left = 0, a.top = 0), t.x < a.left ? t.x = a.left : t.x >= a.width + a.left - this.offset(t).width && (t.x = a.width + a.left - this.offset(t).width), t.y < a.top ? t.y = a.top : t.y >= a.height + a.top - this.offset(t).height && (t.y = a.height + a.top - this.offset(t).height)), t.css({
left: t.x + "px",
top: t.y + "px"
}), this.calculatePosition(n, e);
},
dragItem: function(e) {
return {
index: e.index(),
parent: e.sortableScope,
source: e,
targetElement: null,
targetElementOffset: null,
sourceInfo: {
index: e.index(),
itemScope: e.itemScope,
sortableScope: e.sortableScope
},
canMove: function(e, t, n) {
return this.targetElement !== t ? (this.targetElement = t, this.targetElementOffset = n, !0) : (e.dirX * (n.left - this.targetElementOffset.left) > 0 || e.dirY * (n.top - this.targetElementOffset.top) > 0) && (this.targetElementOffset = n, !0);
},
moveTo: function(e, t) {
this.parent = e, this.isSameParent() && this.source.index() < t && !this.sourceInfo.sortableScope.cloning && (t -= 1), this.index = t;
},
isSameParent: function() {
return this.parent.element === this.sourceInfo.sortableScope.element;
},
isOrderChanged: function() {
return this.index !== this.sourceInfo.index;
},
eventArgs: function() {
return {
source: this.sourceInfo,
dest: {
index: this.index,
sortableScope: this.parent
}
};
},
apply: function() {
this.sourceInfo.sortableScope.cloning ? this.parent.options.clone || this.parent.insertItem(this.index, angular.copy(this.source.modelValue)) : (this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index), (this.parent.options.allowDuplicates || this.parent.modelValue.indexOf(this.source.modelValue) < 0) && this.parent.insertItem(this.index, this.source.modelValue));
}
};
},
noDrag: function(e) {
return void 0 !== e.attr("no-drag") || void 0 !== e.attr("data-no-drag");
},
findAncestor: function(e, t) {
e = e[0];
for (var n = Element.matches || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector; (e = e.parentElement) && !n.call(e, t); ) ;
return e ? angular.element(e) : angular.element(document.body);
}
};
} ]);
}(), function() {
"use strict";
var e = angular.module("as.sortable");
e.controller("as.sortable.sortableController", [ "$scope", function(e) {
this.scope = e, e.modelValue = null, e.callbacks = null, e.type = "sortable", e.options = {
longTouch: !1
}, e.isDisabled = !1, e.insertItem = function(t, n) {
e.options.allowDuplicates ? e.modelValue.splice(t, 0, angular.copy(n)) : e.modelValue.splice(t, 0, n);
}, e.removeItem = function(t) {
var n = null;
return t > -1 && (n = e.modelValue.splice(t, 1)[0]), n;
}, e.isEmpty = function() {
return e.modelValue && 0 === e.modelValue.length;
}, e.accept = function(t, n, i) {
return e.callbacks.accept(t, n, i);
};
} ]), e.directive("asSortable", function() {
return {
require: "ngModel",
restrict: "A",
scope: !0,
controller: "as.sortable.sortableController",
link: function(e, t, n, i) {
var r, o;
(r = i) && (r.$render = function() {
e.modelValue = r.$modelValue;
}, e.element = t, t.data("_scope", e), (o = {
accept: null,
orderChanged: null,
itemMoved: null,
dragStart: null,
dragMove: null,
dragCancel: null,
dragEnd: null
}).accept = function(e, t, n) {
return !0;
}, o.orderChanged = function(e) {}, o.itemMoved = function(e) {}, o.dragStart = function(e) {}, o.dragMove = angular.noop, o.dragCancel = function(e) {}, o.dragEnd = function(e) {}, e.$watch(n.asSortable, function(t, n) {
angular.forEach(t, function(t, n) {
o[n] ? "function" == typeof t && (o[n] = t) : e.options[n] = t;
}), e.callbacks = o;
}, !0), angular.isDefined(n.isDisabled) && e.$watch(n.isDisabled, function(t, n) {
angular.isUndefined(t) || (e.isDisabled = t);
}, !0));
}
};
});
}(), function() {
"use strict";
function e(t, n) {
return !(!n || "HTML" === n.nodeName) && (n.parentNode === t || e(t, n.parentNode));
}
var t = angular.module("as.sortable");
t.controller("as.sortable.sortableItemHandleController", [ "$scope", function(e) {
this.scope = e, e.itemScope = null, e.type = "handle";
} ]), t.directive("asSortableItemHandle", [ "sortableConfig", "$helper", "$window", "$document", "$timeout", function(t, n, i, r, o) {
return {
require: "^asSortableItem",
scope: !0,
restrict: "A",
controller: "as.sortable.sortableItemHandleController",
link: function(a, s, l, c) {
function u(e, t) {
"table-row" !== g.css("display") && g.css("display", "block"), t.sortableScope.options.clone || (e[0].parentNode.insertBefore(g[0], e[0]), y.moveTo(t.sortableScope, t.index()));
}
function d(e, t) {
"table-row" !== g.css("display") && g.css("display", "block"), t.sortableScope.options.clone || (e.after(g), y.moveTo(t.sortableScope, t.index() + 1));
}
function h(e) {
for (var t; !t && e.length; ) (t = e.data("_scope")) || (e = e.parent());
return t;
}
function f() {
a.itemScope.sortableScope.cloning || m.replaceWith(a.itemScope.element), g.remove(), p.remove(), p = null, N = !1, b.css("cursor", ""), b.removeClass("as-sortable-un-selectable");
}
var p, g, m, v, y, b, _, w, C, x, S, $, A, k, T, D, E, F, M, I, P, L, O, R, N, B, j, H, V = !1, U = !1;
I = "ontouchstart" in i, P = /iPad|iPhone|iPod/.test(i.navigator.userAgent) && !i.MSStream, t.handleClass && s.addClass(t.handleClass), a.itemScope = c.scope, s.data("_scope", a), a.$watchGroup([ "sortableScope.isDisabled", "sortableScope.options.longTouch" ], function(e) {
V !== e[0] ? (V = e[0]) ? E() : D() : U !== e[1] ? (U = e[1], E(), D()) : D();
}), a.$on("$destroy", function() {
angular.element(r[0].body).unbind("keydown", H);
}), B = function(e) {
return "function" == typeof a.sortableScope.options.placeholder ? angular.element(a.sortableScope.options.placeholder(e)) : "string" == typeof a.sortableScope.options.placeholder ? angular.element(a.sortableScope.options.placeholder) : angular.element(r[0].createElement(e.element.prop("tagName")));
}, w = function(e) {
var t, i = function() {
angular.element(r).unbind("mousemove", o), angular.element(r).unbind("touchmove", o), s.unbind("mouseup", i), s.unbind("touchend", i), s.unbind("touchcancel", i);
}, o = function(r) {
r.preventDefault();
var o = n.eventObj(r);
t || (t = {
clientX: o.clientX,
clientY: o.clientY
}), Math.abs(o.clientX - t.clientX) + Math.abs(o.clientY - t.clientY) > 10 && (i(), x(e));
};
angular.element(r).bind("mousemove", o), angular.element(r).bind("touchmove", o), s.bind("mouseup", i), s.bind("touchend", i), s.bind("touchcancel", i), e.stopPropagation();
}, x = function(e) {
var i, o;
(I || 2 !== e.button && 3 !== e.which) && (I && n.isTouchInvalid(e) || !N && k(e) && (N = !0, e.preventDefault(), i = n.eventObj(e), a.sortableScope = a.sortableScope || a.itemScope.sortableScope, a.callbacks = a.callbacks || a.itemScope.callbacks, a.itemScope.sortableScope.options.clone || a.itemScope.sortableScope.options.ctrlClone && e.ctrlKey ? a.itemScope.sortableScope.cloning = !0 : a.itemScope.sortableScope.cloning = !1, C = angular.element(r[0].querySelector(a.sortableScope.options.scrollableContainer)).length > 0 ? r[0].querySelector(a.sortableScope.options.scrollableContainer) : r[0].documentElement, (b = a.sortableScope.options.containment ? n.findAncestor(s, a.sortableScope.options.containment) : angular.element(r[0].body)).css("cursor", "move"), b.css("cursor", "-webkit-grabbing"), b.css("cursor", "-moz-grabbing"), b.addClass("as-sortable-un-selectable"), _ = a.sortableScope.options.containerPositioning || "absolute", y = n.dragItem(a), o = a.itemScope.element.prop("tagName"), 
(p = angular.element(r[0].createElement(a.sortableScope.element.prop("tagName"))).addClass(a.sortableScope.element.attr("class")).addClass(t.dragClass)).css("width", n.width(a.itemScope.element) + "px"), p.css("height", n.height(a.itemScope.element) + "px"), (g = B(a.itemScope).addClass(t.placeHolderClass).addClass(a.sortableScope.options.additionalPlaceholderClass)).css("width", n.width(a.itemScope.element) + "px"), g.css("height", n.height(a.itemScope.element) + "px"), m = angular.element(r[0].createElement(o)), t.hiddenClass && m.addClass(t.hiddenClass), v = n.positionStarted(i, a.itemScope.element, C), a.itemScope.sortableScope.options.clone || a.itemScope.element.after(g), a.itemScope.sortableScope.cloning ? p.append(a.itemScope.element.clone()) : (a.itemScope.element.after(m), p.append(a.itemScope.element)), b.append(p), n.movePosition(i, p, v, b, _, C), a.sortableScope.$apply(function() {
a.callbacks.dragStart(y.eventArgs());
}), F()));
}, k = function(e) {
var t, i, r;
for (r = (i = h(t = angular.element(e.target))) && "handle" === i.type; r && t[0] !== s[0]; ) n.noDrag(t) && (r = !1), t = t.parent();
return r;
}, S = function(o) {
var s, l, c, f, m;
if ((!I || !n.isTouchInvalid(o)) && N && p) {
if (o.preventDefault(), s = n.eventObj(o), a.callbacks.dragMove !== angular.noop && a.sortableScope.$apply(function() {
a.callbacks.dragMove(v, b, s);
}), l = s.pageX - r[0].documentElement.scrollLeft, c = s.pageY - (i.pageYOffset || r[0].documentElement.scrollTop), p.addClass(t.hiddenClass), m = angular.element(r[0].elementFromPoint(l, c)), p.removeClass(t.hiddenClass), n.movePosition(s, p, v, b, _, C), p.addClass(t.dragging), !(f = h(m)) || !f.type) return;
if ("handle" === f.type && (f = f.itemScope), "item" !== f.type && "sortable" !== f.type) return;
if ("item" === f.type && f.accept(a, f.sortableScope, f)) {
m = f.element;
var w = n.offset(m, C);
if (!y.canMove(v, m, w)) return;
var x = T(f.sortableScope.element);
x < 0 ? u(m, f) : x <= f.index() ? d(m, f) : u(m, f);
}
"sortable" === f.type && f.accept(a, f) && !e(f.element[0], m[0]) && (j(m) || f.options.clone || (m[0].appendChild(g[0]), y.moveTo(f, f.modelValue.length)));
}
}, T = function(e) {
var n, i;
if (e.hasClass(t.placeHolderClass)) return 0;
for (n = e.children(), i = 0; i < n.length; i += 1) if (angular.element(n[i]).hasClass(t.placeHolderClass)) return i;
return -1;
}, j = function(e) {
return T(e) >= 0;
}, $ = function(e) {
N && (e.preventDefault(), p && (f(), y.apply(), a.sortableScope.$apply(function() {
y.isSameParent() ? y.isOrderChanged() && a.callbacks.orderChanged(y.eventArgs()) : a.callbacks.itemMoved(y.eventArgs());
}), a.sortableScope.$apply(function() {
a.callbacks.dragEnd(y.eventArgs());
}), y = null), M());
}, A = function(e) {
N && (e.preventDefault(), p && (f(), a.sortableScope.$apply(function() {
a.callbacks.dragCancel(y.eventArgs());
}), y = null), M());
}, D = function() {
I && (U ? P ? (s.bind("touchstart", L), s.bind("touchend", O), s.bind("touchmove", O)) : s.bind("contextmenu", w) : s.bind("touchstart", w)), s.bind("mousedown", w);
}, E = function() {
s.unbind("touchstart", L), s.unbind("touchend", O), s.unbind("touchmove", O), s.unbind("contextmenu", w), s.unbind("touchstart", w), s.unbind("mousedown", w);
}, L = function(e) {
R = o(function() {
w(e);
}, 500);
}, O = function() {
o.cancel(R);
}, H = function(e) {
27 === e.keyCode && A(e);
}, angular.element(r[0].body).bind("keydown", H), F = function() {
angular.element(r).bind("touchmove", S), angular.element(r).bind("touchend", $), angular.element(r).bind("touchcancel", A), angular.element(r).bind("mousemove", S), angular.element(r).bind("mouseup", $);
}, M = function() {
angular.element(r).unbind("touchend", $), angular.element(r).unbind("touchcancel", A), angular.element(r).unbind("touchmove", S), angular.element(r).unbind("mouseup", $), angular.element(r).unbind("mousemove", S);
};
}
};
} ]);
}(), function() {
"use strict";
var e = angular.module("as.sortable");
e.controller("as.sortable.sortableItemController", [ "$scope", function(e) {
this.scope = e, e.sortableScope = null, e.modelValue = null, e.type = "item", e.index = function() {
return e.$index;
}, e.itemData = function() {
return e.sortableScope.modelValue[e.$index];
};
} ]), e.directive("asSortableItem", [ "sortableConfig", function(e) {
return {
require: [ "^asSortable", "?ngModel" ],
restrict: "A",
controller: "as.sortable.sortableItemController",
link: function(t, n, i, r) {
var o = r[0], a = r[1];
e.itemClass && n.addClass(e.itemClass), t.sortableScope = o.scope, a ? a.$render = function() {
t.modelValue = a.$modelValue;
} : t.modelValue = o.scope.modelValue[t.$index], t.element = n, n.data("_scope", t);
}
};
} ]);
}(), function() {
"use strict";
var e = {
TAB: 9,
ENTER: 13,
ESC: 27,
SPACE: 32,
LEFT: 37,
UP: 38,
RIGHT: 39,
DOWN: 40,
SHIFT: 16,
CTRL: 17,
ALT: 18,
PAGE_UP: 33,
PAGE_DOWN: 34,
HOME: 36,
END: 35,
BACKSPACE: 8,
DELETE: 46,
COMMAND: 91,
MAP: {
91: "COMMAND",
8: "BACKSPACE",
9: "TAB",
13: "ENTER",
16: "SHIFT",
17: "CTRL",
18: "ALT",
19: "PAUSEBREAK",
20: "CAPSLOCK",
27: "ESC",
32: "SPACE",
33: "PAGE_UP",
34: "PAGE_DOWN",
35: "END",
36: "HOME",
37: "LEFT",
38: "UP",
39: "RIGHT",
40: "DOWN",
43: "+",
44: "PRINTSCREEN",
45: "INSERT",
46: "DELETE",
48: "0",
49: "1",
50: "2",
51: "3",
52: "4",
53: "5",
54: "6",
55: "7",
56: "8",
57: "9",
59: ";",
61: "=",
65: "A",
66: "B",
67: "C",
68: "D",
69: "E",
70: "F",
71: "G",
72: "H",
73: "I",
74: "J",
75: "K",
76: "L",
77: "M",
78: "N",
79: "O",
80: "P",
81: "Q",
82: "R",
83: "S",
84: "T",
85: "U",
86: "V",
87: "W",
88: "X",
89: "Y",
90: "Z",
96: "0",
97: "1",
98: "2",
99: "3",
100: "4",
101: "5",
102: "6",
103: "7",
104: "8",
105: "9",
106: "*",
107: "+",
109: "-",
110: ".",
111: "/",
112: "F1",
113: "F2",
114: "F3",
115: "F4",
116: "F5",
117: "F6",
118: "F7",
119: "F8",
120: "F9",
121: "F10",
122: "F11",
123: "F12",
144: "NUMLOCK",
145: "SCROLLLOCK",
186: ";",
187: "=",
188: ",",
189: "-",
190: ".",
191: "/",
192: "`",
219: "[",
220: "\\",
221: "]",
222: "'"
},
isControl: function(t) {
switch (t.which) {
case e.COMMAND:
case e.SHIFT:
case e.CTRL:
case e.ALT:
return !0;
}
return !!(t.metaKey || t.ctrlKey || t.altKey);
},
isFunctionKey: function(e) {
return (e = e.which ? e.which : e) >= 112 && e <= 123;
},
isVerticalMovement: function(t) {
return ~[ e.UP, e.DOWN ].indexOf(t);
},
isHorizontalMovement: function(t) {
return ~[ e.LEFT, e.RIGHT, e.BACKSPACE, e.DELETE ].indexOf(t);
},
toSeparator: function(t) {
var n = {
ENTER: "\n",
TAB: "\t",
SPACE: " "
}[t];
return n || (e[t] ? void 0 : t);
}
};
void 0 === angular.element.prototype.querySelectorAll && (angular.element.prototype.querySelectorAll = function(e) {
return angular.element(this[0].querySelectorAll(e));
}), void 0 === angular.element.prototype.closest && (angular.element.prototype.closest = function(e) {
for (var t = this[0], n = t.matches || t.webkitMatchesSelector || t.mozMatchesSelector || t.msMatchesSelector; t; ) {
if (n.bind(t)(e)) return t;
t = t.parentElement;
}
return !1;
});
var t = 0, n = angular.module("ui.select", []).constant("uiSelectConfig", {
theme: "bootstrap",
searchEnabled: !0,
sortable: !1,
placeholder: "",
refreshDelay: 1e3,
closeOnSelect: !0,
skipFocusser: !1,
dropdownPosition: "auto",
removeSelected: !0,
resetSearchInput: !0,
generateId: function() {
return t++;
},
appendToBody: !1
}).service("uiSelectMinErr", function() {
var e = angular.$$minErr("ui.select");
return function() {
var t = e.apply(this, arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"), "");
return new Error(t);
};
}).directive("uisTranscludeAppend", function() {
return {
link: function(e, t, n, i, r) {
r(e, function(e) {
t.append(e);
});
}
};
}).filter("highlight", function() {
function e(e) {
return ("" + e).replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}
return function(t, n) {
return n && t ? ("" + t).replace(new RegExp(e(n), "gi"), '<span class="ui-select-highlight">$&</span>') : t;
};
}).factory("uisOffset", [ "$document", "$window", function(e, t) {
return function(n) {
var i = n[0].getBoundingClientRect();
return {
width: i.width || n.prop("offsetWidth"),
height: i.height || n.prop("offsetHeight"),
top: i.top + (t.pageYOffset || e[0].documentElement.scrollTop),
left: i.left + (t.pageXOffset || e[0].documentElement.scrollLeft)
};
};
} ]);
n.directive("uiSelectChoices", [ "uiSelectConfig", "uisRepeatParser", "uiSelectMinErr", "$compile", "$window", function(e, t, n, i, r) {
return {
restrict: "EA",
require: "^uiSelect",
replace: !0,
transclude: !0,
templateUrl: function(t) {
return t.addClass("ui-select-choices"), (t.parent().attr("theme") || e.theme) + "/choices.tpl.html";
},
compile: function(i, o) {
if (!o.repeat) throw n("repeat", "Expected 'repeat' expression.");
var a = o.groupBy, s = o.groupFilter;
if (a) {
var l = i.querySelectorAll(".ui-select-choices-group");
if (1 !== l.length) throw n("rows", "Expected 1 .ui-select-choices-group but got '{0}'.", l.length);
l.attr("ng-repeat", t.getGroupNgRepeatExpression());
}
var c = t.parse(o.repeat), u = i.querySelectorAll(".ui-select-choices-row");
if (1 !== u.length) throw n("rows", "Expected 1 .ui-select-choices-row but got '{0}'.", u.length);
u.attr("ng-repeat", c.repeatExpression(a)).attr("ng-if", "$select.open");
var d = i.querySelectorAll(".ui-select-choices-row-inner");
if (1 !== d.length) throw n("rows", "Expected 1 .ui-select-choices-row-inner but got '{0}'.", d.length);
return d.attr("uis-transclude-append", ""), (r.document.addEventListener ? u : d).attr("ng-click", "$select.select(" + c.itemName + ",$select.skipFocusser,$event)"), function(t, n, i, r) {
r.parseRepeatAttr(i.repeat, a, s), r.disableChoiceExpression = i.uiDisableChoice, r.onHighlightCallback = i.onHighlight, r.dropdownPosition = i.position ? i.position.toLowerCase() : e.dropdownPosition, t.$on("$destroy", function() {
u.remove();
}), t.$watch("$select.search", function(e) {
e && !r.open && r.multiple && r.activate(!1, !0), r.activeIndex = r.tagging.isActivated ? -1 : 0, !i.minimumInputLength || r.search.length >= i.minimumInputLength ? r.refresh(i.refresh) : r.items = [];
}), i.$observe("refreshDelay", function() {
var n = t.$eval(i.refreshDelay);
r.refreshDelay = void 0 !== n ? n : e.refreshDelay;
});
};
}
};
} ]), n.controller("uiSelectCtrl", [ "$scope", "$element", "$timeout", "$filter", "$$uisDebounce", "uisRepeatParser", "uiSelectMinErr", "uiSelectConfig", "$parse", "$injector", "$window", function(t, n, i, r, o, a, s, l, c, u, d) {
function h(e, t, n) {
if (e.findIndex) return e.findIndex(t, n);
for (var i, r = Object(e), o = r.length >>> 0, a = 0; a < o; a++) if (i = r[a], t.call(n, i, a, r)) return a;
return -1;
}
function f() {
b.resetSearchInput && (b.search = _, b.selected && b.items.length && !b.multiple && (b.activeIndex = h(b.items, function(e) {
return angular.equals(this, e);
}, b.selected)));
}
function p(e, t) {
var n, i, r = [];
for (n = 0; n < t.length; n++) for (i = 0; i < e.length; i++) e[i].name == [ t[n] ] && r.push(e[i]);
return r;
}
function g(e, t) {
var n = x.indexOf(e);
t && -1 === n && x.push(e), !t && n > -1 && x.splice(n, 1);
}
function m(e) {
return x.indexOf(e) > -1;
}
function v(t) {
var n = !0;
switch (t) {
case e.DOWN:
!b.open && b.multiple ? b.activate(!1, !0) : b.activeIndex < b.items.length - 1 && b.activeIndex++;
break;

case e.UP:
!b.open && b.multiple ? b.activate(!1, !0) : (b.activeIndex > 0 || 0 === b.search.length && b.tagging.isActivated && b.activeIndex > -1) && b.activeIndex--;
break;

case e.TAB:
b.multiple && !b.open || b.select(b.items[b.activeIndex], !0);
break;

case e.ENTER:
b.open && (b.tagging.isActivated || b.activeIndex >= 0) ? b.select(b.items[b.activeIndex], b.skipFocusser) : b.activate(!1, !0);
break;

case e.ESC:
b.close();
break;

default:
n = !1;
}
return n;
}
function y() {
var e = n.querySelectorAll(".ui-select-choices-content"), t = e.querySelectorAll(".ui-select-choices-row");
if (t.length < 1) throw s("choices", "Expected multiple .ui-select-choices-row but got '{0}'.", t.length);
if (!(b.activeIndex < 0)) {
var i = t[b.activeIndex], r = i.offsetTop + i.clientHeight - e[0].scrollTop, o = e[0].offsetHeight;
r > o ? e[0].scrollTop += r - o : r < i.clientHeight && (b.isGrouped && 0 === b.activeIndex ? e[0].scrollTop = 0 : e[0].scrollTop -= i.clientHeight - r);
}
}
var b = this, _ = "";
if (b.placeholder = l.placeholder, b.searchEnabled = l.searchEnabled, b.sortable = l.sortable, b.refreshDelay = l.refreshDelay, b.paste = l.paste, b.resetSearchInput = l.resetSearchInput, b.removeSelected = l.removeSelected, b.closeOnSelect = !0, b.skipFocusser = !1, b.search = _, b.activeIndex = 0, b.items = [], b.open = !1, b.focus = !1, b.disabled = !1, b.selected = void 0, b.dropdownPosition = "auto", b.focusser = void 0, b.multiple = void 0, b.disableChoiceExpression = void 0, b.tagging = {
isActivated: !1,
fct: void 0
}, b.taggingTokens = {
isActivated: !1,
tokens: void 0
}, b.lockChoiceExpression = void 0, b.clickTriggeredSelect = !1, b.$filter = r, b.$element = n, b.$animate = function() {
try {
return u.get("$animate");
} catch (e) {
return null;
}
}(), b.searchInput = n.querySelectorAll("input.ui-select-search"), 1 !== b.searchInput.length) throw s("searchInput", "Expected 1 input.ui-select-search but got '{0}'.", b.searchInput.length);
b.isEmpty = function() {
return angular.isUndefined(b.selected) || null === b.selected || "" === b.selected || b.multiple && 0 === b.selected.length;
}, b.activate = function(e, r) {
if (b.disabled || b.open) b.open && !b.searchEnabled && b.close(); else {
r || f(), t.$broadcast("uis:activate"), b.open = !0, b.activeIndex = b.activeIndex >= b.items.length ? 0 : b.activeIndex, -1 === b.activeIndex && !1 !== b.taggingLabel && (b.activeIndex = 0);
var o = n.querySelectorAll(".ui-select-choices-content"), a = n.querySelectorAll(".ui-select-search");
if (b.$animate && b.$animate.on && b.$animate.enabled(o[0])) {
var s = function(t, n) {
"start" === n && 0 === b.items.length ? (b.$animate.off("removeClass", a[0], s), i(function() {
b.focusSearchInput(e);
})) : "close" === n && (b.$animate.off("enter", o[0], s), i(function() {
b.focusSearchInput(e);
}));
};
b.items.length > 0 ? b.$animate.on("enter", o[0], s) : b.$animate.on("removeClass", a[0], s);
} else i(function() {
b.focusSearchInput(e), !b.tagging.isActivated && b.items.length > 1 && y();
});
}
}, b.focusSearchInput = function(e) {
b.search = e || b.search, b.searchInput[0].focus();
}, b.findGroupByName = function(e) {
return b.groups && b.groups.filter(function(t) {
return t.name === e;
})[0];
}, b.parseRepeatAttr = function(e, n, i) {
b.setItemsFn = n ? function(e) {
var r = t.$eval(n);
if (b.groups = [], angular.forEach(e, function(e) {
var t = angular.isFunction(r) ? r(e) : e[r], n = b.findGroupByName(t);
n ? n.items.push(e) : b.groups.push({
name: t,
items: [ e ]
});
}), i) {
var o = t.$eval(i);
angular.isFunction(o) ? b.groups = o(b.groups) : angular.isArray(o) && (b.groups = p(b.groups, o));
}
b.items = [], b.groups.forEach(function(e) {
b.items = b.items.concat(e.items);
});
} : function(e) {
b.items = e;
}, b.parserResult = a.parse(e), b.isGrouped = !!n, b.itemProperty = b.parserResult.itemName;
var r = b.parserResult.source, o = function() {
var e = r(t);
t.$uisSource = Object.keys(e).map(function(t) {
var n = {};
return n[b.parserResult.keyName] = t, n.value = e[t], n;
});
};
b.parserResult.keyName && (o(), b.parserResult.source = c("$uisSource" + b.parserResult.filters), t.$watch(r, function(e, t) {
e !== t && o();
}, !0)), b.refreshItems = function(e) {
e = e || b.parserResult.source(t);
var n = b.selected;
if (b.isEmpty() || angular.isArray(n) && !n.length || !b.multiple || !b.removeSelected) b.setItemsFn(e); else if (void 0 !== e && null !== e) {
var i = e.filter(function(e) {
return angular.isArray(n) ? n.every(function(t) {
return !angular.equals(e, t);
}) : !angular.equals(e, n);
});
b.setItemsFn(i);
}
"auto" !== b.dropdownPosition && "up" !== b.dropdownPosition || t.calculateDropdownPos(), t.$broadcast("uis:refresh");
}, t.$watchCollection(b.parserResult.source, function(e) {
if (void 0 === e || null === e) b.items = []; else {
if (!angular.isArray(e)) throw s("items", "Expected an array but got '{0}'.", e);
b.refreshItems(e), angular.isDefined(b.ngModel.$modelValue) && (b.ngModel.$modelValue = null);
}
});
};
var w;
b.refresh = function(e) {
void 0 !== e && (w && i.cancel(w), w = i(function() {
t.$eval(e);
}, b.refreshDelay));
}, b.isActive = function(e) {
if (!b.open) return !1;
var t = b.items.indexOf(e[b.itemProperty]), n = t == b.activeIndex;
return !(!n || t < 0) && (n && !angular.isUndefined(b.onHighlightCallback) && e.$eval(b.onHighlightCallback), n);
};
var C = function(e) {
return b.selected && angular.isArray(b.selected) && b.selected.filter(function(t) {
return angular.equals(t, e);
}).length > 0;
}, x = [];
b.isDisabled = function(e) {
if (b.open) {
var t = e[b.itemProperty], n = !1;
if (b.items.indexOf(t) >= 0 && (angular.isDefined(b.disableChoiceExpression) || b.multiple)) {
if (t.isTag) return !1;
b.multiple && (n = C(t)), !n && angular.isDefined(b.disableChoiceExpression) && (n = !!e.$eval(b.disableChoiceExpression)), g(t, n);
}
return n;
}
}, b.select = function(e, n, r) {
if (void 0 === e || !m(e)) {
if (!b.items && !b.search && !b.tagging.isActivated) return;
if (!e || !m(e)) {
if (b.clickTriggeredSelect = !1, r && "click" === r.type && e && (b.clickTriggeredSelect = !0), b.tagging.isActivated && !1 === b.clickTriggeredSelect) {
if (!1 === b.taggingLabel) if (b.activeIndex < 0) {
if (void 0 === e && (e = void 0 !== b.tagging.fct ? b.tagging.fct(b.search) : b.search), !e || angular.equals(b.items[0], e)) return;
} else e = b.items[b.activeIndex]; else if (0 === b.activeIndex) {
if (void 0 === e) return;
if (void 0 !== b.tagging.fct && "string" == typeof e) {
if (!(e = b.tagging.fct(e))) return;
} else "string" == typeof e && (e = e.replace(b.taggingLabel, "").trim());
}
if (C(e)) return void b.close(n);
}
f(), t.$broadcast("uis:select", e);
var o = {};
o[b.parserResult.itemName] = e, i(function() {
b.onSelectCallback(t, {
$item: e,
$model: b.parserResult.modelMapper(t, o)
});
}), b.closeOnSelect && b.close(n);
}
}
}, b.close = function(e) {
b.open && (b.ngModel && b.ngModel.$setTouched && b.ngModel.$setTouched(), b.open = !1, f(), t.$broadcast("uis:close", e));
}, b.setFocus = function() {
b.focus || b.focusInput[0].focus();
}, b.clear = function(e) {
b.select(void 0), e.stopPropagation(), i(function() {
b.focusser[0].focus();
}, 0, !1);
}, b.toggle = function(e) {
b.open ? (b.close(), e.preventDefault(), e.stopPropagation()) : b.activate();
}, b.isLocked = function() {
return !1;
}, t.$watch(function() {
return angular.isDefined(b.lockChoiceExpression) && "" !== b.lockChoiceExpression;
}, function(e) {
function t(e, t) {
var n = i.indexOf(e);
t && -1 === n && i.push(e), !t && n > -1 && i.splice(n, 0);
}
function n(e) {
return i.indexOf(e) > -1;
}
if (e) {
var i = [];
b.isLocked = function(e, i) {
var r = !1, o = b.selected[i];
return o && (e ? t(o, r = !!e.$eval(b.lockChoiceExpression)) : r = n(o)), r;
};
}
});
var S = null, $ = !1;
b.sizeSearchInput = function() {
var e = b.searchInput[0], n = b.searchInput.parent().parent()[0], r = function() {
return n.clientWidth * !!e.offsetParent;
}, o = function(t) {
if (0 === t) return !1;
var n = t - e.offsetLeft - 10;
return n < 50 && (n = t), b.searchInput.css("width", n + "px"), !0;
};
b.searchInput.css("width", "10px"), i(function() {
null !== S || o(r()) || (S = t.$watch(function() {
$ || ($ = !0, t.$$postDigest(function() {
$ = !1, o(r()) && (S(), S = null);
}));
}, angular.noop));
});
}, b.searchInput.on("keydown", function(n) {
var r = n.which;
~[ e.ENTER, e.ESC ].indexOf(r) && (n.preventDefault(), n.stopPropagation()), t.$apply(function() {
var t = !1;
if ((b.items.length > 0 || b.tagging.isActivated) && (v(r) || b.searchEnabled || (n.preventDefault(), n.stopPropagation()), b.taggingTokens.isActivated)) {
for (var o = 0; o < b.taggingTokens.tokens.length; o++) b.taggingTokens.tokens[o] === e.MAP[n.keyCode] && b.search.length > 0 && (t = !0);
t && i(function() {
b.searchInput.triggerHandler("tagged");
var t = b.search.replace(e.MAP[n.keyCode], "").trim();
b.tagging.fct && (t = b.tagging.fct(t)), t && b.select(t, !0);
});
}
}), e.isVerticalMovement(r) && b.items.length > 0 && y(), r !== e.ENTER && r !== e.ESC || (n.preventDefault(), n.stopPropagation());
}), b.searchInput.on("paste", function(t) {
var n;
if (n = window.clipboardData && window.clipboardData.getData ? window.clipboardData.getData("Text") : (t.originalEvent || t).clipboardData.getData("text/plain"), (n = b.search + n) && n.length > 0) if (b.taggingTokens.isActivated) {
for (var i = [], r = 0; r < b.taggingTokens.tokens.length; r++) {
var o = e.toSeparator(b.taggingTokens.tokens[r]) || b.taggingTokens.tokens[r];
if (n.indexOf(o) > -1) {
i = n.split(o);
break;
}
}
0 === i.length && (i = [ n ]);
var a = b.search;
angular.forEach(i, function(e) {
var t = b.tagging.fct ? b.tagging.fct(e) : e;
t && b.select(t, !0);
}), b.search = a || _, t.preventDefault(), t.stopPropagation();
} else b.paste && (b.paste(n), b.search = _, t.preventDefault(), t.stopPropagation());
}), b.searchInput.on("tagged", function() {
i(function() {
f();
});
});
var A = o(function() {
b.sizeSearchInput();
}, 50);
angular.element(d).bind("resize", A), t.$on("$destroy", function() {
b.searchInput.off("keyup keydown tagged blur paste"), angular.element(d).off("resize", A);
});
} ]), n.directive("uiSelect", [ "$document", "uiSelectConfig", "uiSelectMinErr", "uisOffset", "$compile", "$parse", "$timeout", function(e, t, n, i, r, o, a) {
return {
restrict: "EA",
templateUrl: function(e, n) {
return (n.theme || t.theme) + (angular.isDefined(n.multiple) ? "/select-multiple.tpl.html" : "/select.tpl.html");
},
replace: !0,
transclude: !0,
require: [ "uiSelect", "^ngModel" ],
scope: !0,
controller: "uiSelectCtrl",
controllerAs: "$select",
compile: function(r, s) {
var l = /{(.*)}\s*{(.*)}/.exec(s.ngClass);
if (l) {
var c = "{" + l[1] + ", " + l[2] + "}";
s.ngClass = c, r.attr("ng-class", c);
}
return angular.isDefined(s.multiple) ? r.append("<ui-select-multiple/>").removeAttr("multiple") : r.append("<ui-select-single/>"), s.inputId && (r.querySelectorAll("input.ui-select-search")[0].id = s.inputId), function(r, s, l, c, u) {
function d(e) {
if (p.open) {
if (!(window.jQuery ? window.jQuery.contains(s[0], e.target) : s[0].contains(e.target)) && !p.clickTriggeredSelect) {
var t;
if (p.skipFocusser) t = !0; else {
var n = [ "input", "button", "textarea", "select" ], i = angular.element(e.target).controller("uiSelect");
(t = i && i !== p) || (t = ~n.indexOf(e.target.tagName.toLowerCase()));
}
p.close(t), r.$digest();
}
p.clickTriggeredSelect = !1;
}
}
function h() {
var t = i(s);
(v = angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width = t.width + "px", v[0].style.height = t.height + "px", s.after(v), y = s[0].style.width, e.find("body").append(s), s[0].style.position = "absolute", s[0].style.left = t.left + "px", s[0].style.top = t.top + "px", s[0].style.width = t.width + "px";
}
function f() {
null !== v && (v.replaceWith(s), v = null, s[0].style.position = "", s[0].style.left = "", s[0].style.top = "", s[0].style.width = y, p.setFocus());
}
var p = c[0], g = c[1];
p.generatedId = t.generateId(), p.baseTitle = l.title || "Select box", p.focusserTitle = p.baseTitle + " focus", p.focusserId = "focusser-" + p.generatedId, p.closeOnSelect = angular.isDefined(l.closeOnSelect) ? o(l.closeOnSelect)() : t.closeOnSelect, r.$watch("skipFocusser", function() {
var e = r.$eval(l.skipFocusser);
p.skipFocusser = void 0 !== e ? e : t.skipFocusser;
}), p.onSelectCallback = o(l.onSelect), p.onRemoveCallback = o(l.onRemove), p.ngModel = g, p.choiceGrouped = function(e) {
return p.isGrouped && e && e.name;
}, l.tabindex && l.$observe("tabindex", function(e) {
p.focusInput.attr("tabindex", e), s.removeAttr("tabindex");
}), r.$watch(function() {
return r.$eval(l.searchEnabled);
}, function(e) {
p.searchEnabled = void 0 !== e ? e : t.searchEnabled;
}), r.$watch("sortable", function() {
var e = r.$eval(l.sortable);
p.sortable = void 0 !== e ? e : t.sortable;
}), l.$observe("limit", function() {
p.limit = angular.isDefined(l.limit) ? parseInt(l.limit, 10) : void 0;
}), r.$watch("removeSelected", function() {
var e = r.$eval(l.removeSelected);
p.removeSelected = void 0 !== e ? e : t.removeSelected;
}), l.$observe("disabled", function() {
p.disabled = void 0 !== l.disabled && l.disabled;
}), l.$observe("resetSearchInput", function() {
var e = r.$eval(l.resetSearchInput);
p.resetSearchInput = void 0 === e || e;
}), l.$observe("paste", function() {
p.paste = r.$eval(l.paste);
}), l.$observe("tagging", function() {
if (void 0 !== l.tagging) {
var e = r.$eval(l.tagging);
p.tagging = {
isActivated: !0,
fct: !0 !== e ? e : void 0
};
} else p.tagging = {
isActivated: !1,
fct: void 0
};
}), l.$observe("taggingLabel", function() {
void 0 !== l.tagging && ("false" === l.taggingLabel ? p.taggingLabel = !1 : p.taggingLabel = void 0 !== l.taggingLabel ? l.taggingLabel : "(new)");
}), l.$observe("taggingTokens", function() {
if (void 0 !== l.tagging) {
var e = void 0 !== l.taggingTokens ? l.taggingTokens.split("|") : [ ",", "ENTER" ];
p.taggingTokens = {
isActivated: !0,
tokens: e
};
}
}), angular.isDefined(l.autofocus) && a(function() {
p.setFocus();
}), angular.isDefined(l.focusOn) && r.$on(l.focusOn, function() {
a(function() {
p.setFocus();
});
}), e.on("click", d), r.$on("$destroy", function() {
e.off("click", d);
}), u(r, function(e) {
var t = angular.element("<div>").append(e), i = t.querySelectorAll(".ui-select-match");
if (i.removeAttr("ui-select-match"), i.removeAttr("data-ui-select-match"), 1 !== i.length) throw n("transcluded", "Expected 1 .ui-select-match but got '{0}'.", i.length);
s.querySelectorAll(".ui-select-match").replaceWith(i);
var r = t.querySelectorAll(".ui-select-choices");
if (r.removeAttr("ui-select-choices"), r.removeAttr("data-ui-select-choices"), 1 !== r.length) throw n("transcluded", "Expected 1 .ui-select-choices but got '{0}'.", r.length);
s.querySelectorAll(".ui-select-choices").replaceWith(r);
var o = t.querySelectorAll(".ui-select-no-choice");
o.removeAttr("ui-select-no-choice"), o.removeAttr("data-ui-select-no-choice"), 1 == o.length && s.querySelectorAll(".ui-select-no-choice").replaceWith(o);
});
var m = r.$eval(l.appendToBody);
(void 0 !== m ? m : t.appendToBody) && (r.$watch("$select.open", function(e) {
e ? h() : f();
}), r.$on("$destroy", function() {
f();
}));
var v = null, y = "", b = null;
r.$watch("$select.open", function() {
"auto" !== p.dropdownPosition && "up" !== p.dropdownPosition || r.calculateDropdownPos();
});
var _ = function(e, t) {
e = e || i(s), t = t || i(b), b[0].style.position = "absolute", b[0].style.top = -1 * t.height + "px", s.addClass("direction-up");
}, w = function(e, t) {
s.removeClass("direction-up"), e = e || i(s), t = t || i(b), b[0].style.position = "", b[0].style.top = "";
}, C = function() {
a(function() {
if ("up" === p.dropdownPosition) _(); else {
s.removeClass("direction-up");
var t = i(s), n = i(b), r = e[0].documentElement.scrollTop || e[0].body.scrollTop;
t.top + t.height + n.height > r + e[0].documentElement.clientHeight ? _(t, n) : w(t, n);
}
b[0].style.opacity = 1;
});
}, x = !1;
r.calculateDropdownPos = function() {
if (p.open) {
if (0 === (b = angular.element(s).querySelectorAll(".ui-select-dropdown")).length) return;
if ("" !== p.search || x || (b[0].style.opacity = 0, x = !0), !i(b).height && p.$animate && p.$animate.on && p.$animate.enabled(b)) {
var e = !0;
p.$animate.on("enter", b, function(t, n) {
"close" === n && e && (C(), e = !1);
});
} else C();
} else {
if (null === b || 0 === b.length) return;
b[0].style.opacity = 0, b[0].style.position = "", b[0].style.top = "", s.removeClass("direction-up");
}
};
};
}
};
} ]), n.directive("uiSelectMatch", [ "uiSelectConfig", function(e) {
function t(e, t) {
return e[0].hasAttribute(t) ? e.attr(t) : e[0].hasAttribute("data-" + t) ? e.attr("data-" + t) : e[0].hasAttribute("x-" + t) ? e.attr("x-" + t) : void 0;
}
return {
restrict: "EA",
require: "^uiSelect",
replace: !0,
transclude: !0,
templateUrl: function(n) {
n.addClass("ui-select-match");
var i = n.parent();
return (t(i, "theme") || e.theme) + (angular.isDefined(t(i, "multiple")) ? "/match-multiple.tpl.html" : "/match.tpl.html");
},
link: function(t, n, i, r) {
function o(e) {
r.allowClear = !!angular.isDefined(e) && ("" === e || "true" === e.toLowerCase());
}
r.lockChoiceExpression = i.uiLockChoice, i.$observe("placeholder", function(t) {
r.placeholder = void 0 !== t ? t : e.placeholder;
}), i.$observe("allowClear", o), o(i.allowClear), r.multiple && r.sizeSearchInput();
}
};
} ]), n.directive("uiSelectMultiple", [ "uiSelectMinErr", "$timeout", function(t, n) {
return {
restrict: "EA",
require: [ "^uiSelect", "^ngModel" ],
controller: [ "$scope", "$timeout", function(e, t) {
var n, i = this, r = e.$select;
angular.isUndefined(r.selected) && (r.selected = []), e.$evalAsync(function() {
n = e.ngModel;
}), i.activeMatchIndex = -1, i.updateModel = function() {
n.$setViewValue(Date.now()), i.refreshComponent();
}, i.refreshComponent = function() {
r.refreshItems && r.refreshItems(), r.sizeSearchInput && r.sizeSearchInput();
}, i.removeChoice = function(n) {
if (r.isLocked(null, n)) return !1;
var o = r.selected[n], a = {};
return a[r.parserResult.itemName] = o, r.selected.splice(n, 1), i.activeMatchIndex = -1, r.sizeSearchInput(), t(function() {
r.onRemoveCallback(e, {
$item: o,
$model: r.parserResult.modelMapper(e, a)
});
}), i.updateModel(), !0;
}, i.getPlaceholder = function() {
if (!r.selected || !r.selected.length) return r.placeholder;
};
} ],
controllerAs: "$selectMultiple",
link: function(i, r, o, a) {
function s(e) {
return angular.isNumber(e.selectionStart) ? e.selectionStart : e.value.length;
}
function l(t) {
var n = s(d.searchInput[0]), i = d.selected.length - 1, r = f.activeMatchIndex, o = f.activeMatchIndex + 1, a = f.activeMatchIndex - 1, l = r;
return !(n > 0 || d.search.length && t == e.RIGHT) && (d.close(), l = function() {
switch (t) {
case e.LEFT:
return ~f.activeMatchIndex ? a : i;

case e.RIGHT:
return ~f.activeMatchIndex && r !== i ? o : (d.activate(), !1);

case e.BACKSPACE:
return ~f.activeMatchIndex ? f.removeChoice(r) ? a : r : i;

case e.DELETE:
return !!~f.activeMatchIndex && (f.removeChoice(f.activeMatchIndex), r);
}
}(), d.selected.length && !1 !== l ? f.activeMatchIndex = Math.min(i, Math.max(0, l)) : f.activeMatchIndex = -1, !0);
}
function c(e) {
return void 0 !== e && void 0 !== d.search && e.filter(function(e) {
return void 0 !== d.search.toUpperCase() && void 0 !== e && e.toUpperCase() === d.search.toUpperCase();
}).length > 0;
}
function u(e, t) {
var n = -1;
if (angular.isArray(e)) for (var i = angular.copy(e), r = 0; r < i.length; r++) if (void 0 === d.tagging.fct) i[r] + " " + d.taggingLabel === t && (n = r); else {
var o = i[r];
angular.isObject(o) && (o.isTag = !0), angular.equals(o, t) && (n = r);
}
return n;
}
var d = a[0], h = i.ngModel = a[1], f = i.$selectMultiple;
d.multiple = !0, d.focusInput = d.searchInput, h.$isEmpty = function(e) {
return !e || 0 === e.length;
}, h.$parsers.unshift(function() {
for (var e, t = {}, n = [], r = d.selected.length - 1; r >= 0; r--) (t = {})[d.parserResult.itemName] = d.selected[r], e = d.parserResult.modelMapper(i, t), n.unshift(e);
return n;
}), h.$formatters.unshift(function(e) {
var t, n = d.parserResult && d.parserResult.source(i, {
$select: {
search: ""
}
}), r = {};
if (!n) return e;
var o = [], a = function(e, n) {
if (e && e.length) {
for (var a = e.length - 1; a >= 0; a--) {
if (r[d.parserResult.itemName] = e[a], t = d.parserResult.modelMapper(i, r), d.parserResult.trackByExp) {
var s = /(\w*)\./.exec(d.parserResult.trackByExp), l = /\.([^\s]+)/.exec(d.parserResult.trackByExp);
if (s && s.length > 0 && s[1] == d.parserResult.itemName && l && l.length > 0 && t[l[1]] == n[l[1]]) return o.unshift(e[a]), !0;
}
if (angular.equals(t, n)) return o.unshift(e[a]), !0;
}
return !1;
}
};
if (!e) return o;
for (var s = e.length - 1; s >= 0; s--) a(d.selected, e[s]) || a(n, e[s]) || o.unshift(e[s]);
return o;
}), i.$watchCollection(function() {
return h.$modelValue;
}, function(e, t) {
t != e && (angular.isDefined(h.$modelValue) && (h.$modelValue = null), f.refreshComponent());
}), h.$render = function() {
if (!angular.isArray(h.$viewValue)) {
if (!angular.isUndefined(h.$viewValue) && null !== h.$viewValue) throw t("multiarr", "Expected model value to be array but got '{0}'", h.$viewValue);
h.$viewValue = [];
}
d.selected = h.$viewValue, f.refreshComponent(), i.$evalAsync();
}, i.$on("uis:select", function(e, t) {
d.selected.length >= d.limit || (d.selected.push(t), f.updateModel());
}), i.$on("uis:activate", function() {
f.activeMatchIndex = -1;
}), i.$watch("$select.disabled", function(e, t) {
t && !e && d.sizeSearchInput();
}), d.searchInput.on("keydown", function(t) {
var n = t.which;
i.$apply(function() {
var i = !1;
e.isHorizontalMovement(n) && (i = l(n)), i && n != e.TAB && (t.preventDefault(), t.stopPropagation());
});
}), d.searchInput.on("keyup", function(t) {
if (e.isVerticalMovement(t.which) || i.$evalAsync(function() {
d.activeIndex = !1 === d.taggingLabel ? -1 : 0;
}), d.tagging.isActivated && d.search.length > 0) {
if (t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || e.isVerticalMovement(t.which)) return;
if (d.activeIndex = !1 === d.taggingLabel ? -1 : 0, !1 === d.taggingLabel) return;
var n, r, o, a = angular.copy(d.items), s = angular.copy(d.items), l = !1, h = -1;
if (void 0 !== d.tagging.fct) {
if ((r = d.$filter("filter")(a, {
isTag: !0
})).length > 0 && (o = r[0]), a.length > 0 && o && (l = !0, a = a.slice(1, a.length), s = s.slice(1, s.length)), n = d.tagging.fct(d.search), s.some(function(e) {
return angular.equals(e, n);
}) || d.selected.some(function(e) {
return angular.equals(e, n);
})) return void i.$evalAsync(function() {
d.activeIndex = 0, d.items = a;
});
n && (n.isTag = !0);
} else {
if ((r = d.$filter("filter")(a, function(e) {
return e.match(d.taggingLabel);
})).length > 0 && (o = r[0]), void 0 !== a[0] && a.length > 0 && o && (l = !0, a = a.slice(1, a.length), s = s.slice(1, s.length)), n = d.search + " " + d.taggingLabel, u(d.selected, d.search) > -1) return;
if (c(s.concat(d.selected))) return void (l && (a = s, i.$evalAsync(function() {
d.activeIndex = 0, d.items = a;
})));
if (c(s)) return void (l && (d.items = s.slice(1, s.length)));
}
l && (h = u(d.selected, n)), h > -1 ? a = a.slice(h + 1, a.length - 1) : (a = [], n && a.push(n), a = a.concat(s)), i.$evalAsync(function() {
if (d.activeIndex = 0, d.items = a, d.isGrouped) {
var e = n ? a.slice(1) : a;
d.setItemsFn(e), n && (d.items.unshift(n), d.groups.unshift({
name: "",
items: [ n ],
tagging: !0
}));
}
});
}
}), d.searchInput.on("blur", function() {
n(function() {
f.activeMatchIndex = -1;
});
});
}
};
} ]), n.directive("uiSelectNoChoice", [ "uiSelectConfig", function(e) {
return {
restrict: "EA",
require: "^uiSelect",
replace: !0,
transclude: !0,
templateUrl: function(t) {
return t.addClass("ui-select-no-choice"), (t.parent().attr("theme") || e.theme) + "/no-choice.tpl.html";
}
};
} ]), n.directive("uiSelectSingle", [ "$timeout", "$compile", function(t, n) {
return {
restrict: "EA",
require: [ "^uiSelect", "^ngModel" ],
link: function(i, r, o, a) {
var s = a[0], l = a[1];
l.$parsers.unshift(function(e) {
var t = {};
return t[s.parserResult.itemName] = e, s.parserResult.modelMapper(i, t);
}), l.$formatters.unshift(function(e) {
var t, n = s.parserResult && s.parserResult.source(i, {
$select: {
search: ""
}
}), r = {};
if (n) {
var o = function(n) {
return r[s.parserResult.itemName] = n, (t = s.parserResult.modelMapper(i, r)) === e;
};
if (s.selected && o(s.selected)) return s.selected;
for (var a = n.length - 1; a >= 0; a--) if (o(n[a])) return n[a];
}
return e;
}), i.$watch("$select.selected", function(e) {
l.$viewValue !== e && l.$setViewValue(e);
}), l.$render = function() {
s.selected = l.$viewValue;
}, i.$on("uis:select", function(e, t) {
s.selected = t;
}), i.$on("uis:close", function(e, n) {
t(function() {
s.focusser.prop("disabled", !1), n || s.focusser[0].focus();
}, 0, !1);
}), i.$on("uis:activate", function() {
c.prop("disabled", !0);
});
var c = angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");
n(c)(i), s.focusser = c, s.focusInput = c, r.parent().append(c), c.bind("focus", function() {
i.$evalAsync(function() {
s.focus = !0;
});
}), c.bind("blur", function() {
i.$evalAsync(function() {
s.focus = !1;
});
}), c.bind("keydown", function(t) {
if (t.which === e.BACKSPACE) return t.preventDefault(), t.stopPropagation(), s.select(void 0), void i.$apply();
t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || (t.which != e.DOWN && t.which != e.UP && t.which != e.ENTER && t.which != e.SPACE || (t.preventDefault(), t.stopPropagation(), s.activate()), i.$digest());
}), c.bind("keyup input", function(t) {
t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || t.which == e.ENTER || t.which === e.BACKSPACE || (s.activate(c.val()), c.val(""), i.$digest());
});
}
};
} ]), n.directive("uiSelectSort", [ "$timeout", "uiSelectConfig", "uiSelectMinErr", function(e, t, n) {
return {
require: [ "^^uiSelect", "^ngModel" ],
link: function(t, i, r, o) {
if (null === t[r.uiSelectSort]) throw n("sort", "Expected a list to sort");
var a = o[0], s = o[1], l = angular.extend({
axis: "horizontal"
}, t.$eval(r.uiSelectSortOptions)).axis;
t.$watch(function() {
return a.sortable;
}, function(e) {
e ? i.attr("draggable", !0) : i.removeAttr("draggable");
}), i.on("dragstart", function(e) {
i.addClass("dragging"), (e.dataTransfer || e.originalEvent.dataTransfer).setData("text", t.$index.toString());
}), i.on("dragend", function() {
d("dragging");
});
var c, u = function(e, t) {
this.splice(t, 0, this.splice(e, 1)[0]);
}, d = function(e) {
angular.forEach(a.$element.querySelectorAll("." + e), function(t) {
angular.element(t).removeClass(e);
});
}, h = function(e) {
e.preventDefault(), ("vertical" === l ? e.offsetY || e.layerY || (e.originalEvent ? e.originalEvent.offsetY : 0) : e.offsetX || e.layerX || (e.originalEvent ? e.originalEvent.offsetX : 0)) < this["vertical" === l ? "offsetHeight" : "offsetWidth"] / 2 ? (d("dropping-after"), i.addClass("dropping-before")) : (d("dropping-before"), i.addClass("dropping-after"));
}, f = function(t) {
t.preventDefault();
var n = parseInt((t.dataTransfer || t.originalEvent.dataTransfer).getData("text"), 10);
e.cancel(c), c = e(function() {
p(n);
}, 20);
}, p = function(e) {
var n = t.$eval(r.uiSelectSort), o = n[e], a = null;
a = i.hasClass("dropping-before") ? e < t.$index ? t.$index - 1 : t.$index : e < t.$index ? t.$index : t.$index + 1, u.apply(n, [ e, a ]), s.$setViewValue(Date.now()), t.$apply(function() {
t.$emit("uiSelectSort:change", {
array: n,
item: o,
from: e,
to: a
});
}), d("dropping"), d("dropping-before"), d("dropping-after"), i.off("drop", f);
};
i.on("dragenter", function() {
i.hasClass("dragging") || (i.addClass("dropping"), i.on("dragover", h), i.on("drop", f));
}), i.on("dragleave", function(e) {
e.target == i && (d("dropping"), d("dropping-before"), d("dropping-after"), i.off("dragover", h), i.off("drop", f));
});
}
};
} ]), n.factory("$$uisDebounce", [ "$timeout", function(e) {
return function(t, n) {
var i;
return function() {
var r = this, o = Array.prototype.slice.call(arguments);
i && e.cancel(i), i = e(function() {
t.apply(r, o);
}, n);
};
};
} ]), n.directive("uisOpenClose", [ "$parse", "$timeout", function(e, t) {
return {
restrict: "A",
require: "uiSelect",
link: function(n, i, r, o) {
o.onOpenCloseCallback = e(r.uisOpenClose), n.$watch("$select.open", function(e, i) {
e !== i && t(function() {
o.onOpenCloseCallback(n, {
isOpen: e
});
});
});
}
};
} ]), n.service("uisRepeatParser", [ "uiSelectMinErr", "$parse", function(e, t) {
var n = this;
n.parse = function(n) {
var i;
if (!(i = n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/))) throw e("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", n);
var r = i[5], o = "";
if (i[3]) {
r = i[5].replace(/(^\()|(\)$)/g, "");
var a = i[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);
a && a[1].trim() && (o = a[1], r = r.replace(o, ""));
}
return {
itemName: i[4] || i[2],
keyName: i[3],
source: t(r),
filters: o,
trackByExp: i[6],
modelMapper: t(i[1] || i[4] || i[2]),
repeatExpression: function(e) {
var t = this.itemName + " in " + (e ? "$group.items" : "$select.items");
return this.trackByExp && (t += " track by " + this.trackByExp), t;
}
};
}, n.getGroupNgRepeatExpression = function() {
return "$group in $select.groups track by $group.name";
};
} ]);
}(), angular.module("ui.select").run([ "$templateCache", function(e) {
e.put("bootstrap/choices.tpl.html", '<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'), e.put("bootstrap/match-multiple.tpl.html", '<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'), 
e.put("bootstrap/match.tpl.html", '<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'), 
e.put("bootstrap/no-choice.tpl.html", '<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'), e.put("bootstrap/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'), e.put("bootstrap/select.tpl.html", '<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'), 
e.put("select2/choices.tpl.html", '<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'), e.put("select2/match-multiple.tpl.html", '<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'), 
e.put("select2/match.tpl.html", '<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'), e.put("select2/no-choice.tpl.html", '<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'), e.put("select2/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'), 
e.put("select2/select.tpl.html", '<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'), 
e.put("selectize/choices.tpl.html", '<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'), e.put("selectize/match.tpl.html", '<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'), e.put("selectize/no-choice.tpl.html", '<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'), 
e.put("selectize/select.tpl.html", '<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');
} ]), function() {
"use strict";
function e() {
var e = {
top: 0,
left: 0,
width: window.innerWidth,
right: window.innerWidth,
height: window.innerHeight,
bottom: window.innerHeight
};
return e.height ? e : ("CSS1Compat" === document.compatMode ? (e.width = e.right = document.documentElement.clientWidth, e.height = e.bottom = document.documentElement.clientHeight) : (e.width = e.right = document.body.clientWidth, e.height = e.bottom = document.body.clientHeight), e);
}
function t(e, t) {
return !(t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top);
}
function n(e) {
return angular.isArray(e) ? 2 == e.length ? e.concat(e) : 3 == e.length ? e.concat([ e[1] ]) : e : [ e, e, e, e ];
}
function i(e, t) {
if (!t) return e;
var n = {
top: r(t[0]) ? parseFloat(t[0]) * e.height : t[0],
right: r(t[1]) ? parseFloat(t[1]) * e.width : t[1],
bottom: r(t[2]) ? parseFloat(t[2]) * e.height : t[2],
left: r(t[3]) ? parseFloat(t[3]) * e.width : t[3]
};
return {
top: e.top - n.top,
left: e.left - n.left,
bottom: e.bottom + n.bottom,
right: e.right + n.right,
height: e.height + n.top + n.bottom,
width: e.width + n.left + n.right
};
}
function r(e) {
return angular.isString(e) && e.indexOf("%") > 0;
}
function o(e) {
this.didSubscribeFunc = e;
}
function a() {
var e = arguments;
return new o(function(t) {
for (var n = [], i = e.length - 1; i >= 0; i--) n.push(e[i].subscribe(function() {
t.apply(null, arguments);
}));
t.$dispose = function() {
for (var e = n.length - 1; e >= 0; e--) n[e] && n[e]();
};
});
}
function s(e, t) {
return new o(function(n) {
var i = function(e) {
n(e);
}, r = angular.element(e);
r.on(t, i), n.$dispose = function() {
r.off(t, i);
};
});
}
function l(e) {
return new o(function(t) {
setTimeout(function() {
t(e);
});
});
}
var c = angular.module("angular-inview", []).directive("inView", [ "$parse", function(r) {
return {
restrict: "A",
require: "?^^inViewContainer",
link: function(o, a, c, u) {
var d = {};
c.inViewOptions && (d = o.$eval(c.inViewOptions)), d.offset && (d.offset = n(d.offset)), d.viewportOffset && (d.viewportOffset = n(d.viewportOffset));
var h = l({
type: "initial"
}).merge(s(window, "checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup keydown"));
u && (h = h.merge(u.eventsSignal)), d.throttle && (h = h.throttle(d.throttle));
var f = h.map(function(n) {
var r;
r = i(r = u ? u.getViewportRect() : e(), d.viewportOffset);
var o = i(a[0].getBoundingClientRect(), d.offset), s = {
inView: !!(a[0].offsetWidth || a[0].offsetHeight || a[0].getClientRects().length) && t(o, r),
event: n,
element: a,
elementRect: o,
viewportRect: r
};
return d.generateParts && s.inView && (s.parts = {}, s.parts.top = o.top >= r.top, s.parts.left = o.left >= r.left, s.parts.bottom = o.bottom <= r.bottom, s.parts.right = o.right <= r.right), s;
}).scan({}, function(e, t) {
return d.generateDirection && t.inView && e.elementRect && (t.direction = {
horizontal: t.elementRect.left - e.elementRect.left,
vertical: t.elementRect.top - e.elementRect.top
}), t.changed = t.inView !== e.inView || !angular.equals(t.parts, e.parts) || !angular.equals(t.direction, e.direction), t;
}).filter(function(e) {
return !(!e.changed || "initial" === e.event.type && !e.inView);
}), p = r(c.inView), g = f.subscribe(function(e) {
o.$applyAsync(function() {
p(o, {
$inview: e.inView,
$inviewInfo: e
});
});
});
o.$on("$destroy", g);
}
};
} ]).directive("inViewContainer", function() {
return {
restrict: "A",
controller: [ "$element", function(e) {
this.element = e, this.eventsSignal = s(e, "scroll"), this.getViewportRect = function() {
return e[0].getBoundingClientRect();
};
} ]
};
});
o.prototype.subscribe = function(e) {
this.didSubscribeFunc(e);
return function() {
e.$dispose && (e.$dispose(), e.$dispose = null);
};
}, o.prototype.map = function(e) {
var t = this;
return new o(function(n) {
n.$dispose = t.subscribe(function(t) {
n(e(t));
});
});
}, o.prototype.filter = function(e) {
var t = this;
return new o(function(n) {
n.$dispose = t.subscribe(function(t) {
e(t) && n(t);
});
});
}, o.prototype.scan = function(e, t) {
var n = this;
return new o(function(i) {
var r = e;
i.$dispose = n.subscribe(function(e) {
r = t(r, e), i(r);
});
});
}, o.prototype.merge = function(e) {
return a(this, e);
}, o.prototype.throttle = function(e) {
var t, n, i = this;
return new o(function(r) {
var o = i.subscribe(function() {
var i = +new Date(), o = arguments;
t && i < t + e ? (clearTimeout(n), n = setTimeout(function() {
t = i, r.apply(null, o);
}, e)) : (t = i, r.apply(null, o));
});
r.$dispose = function() {
clearTimeout(n), o && o();
};
});
}, "function" == typeof define && define.amd ? define([ "angular" ], c) : "undefined" != typeof module && module && module.exports && (module.exports = c);
}(), function(e) {
if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).jsyaml = e();
}
}(function() {
return function e(t, n, i) {
function r(a, s) {
if (!n[a]) {
if (!t[a]) {
var l = "function" == typeof require && require;
if (!s && l) return l(a, !0);
if (o) return o(a, !0);
var c = new Error("Cannot find module '" + a + "'");
throw c.code = "MODULE_NOT_FOUND", c;
}
var u = n[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
var n = t[a][1][e];
return r(n || e);
}, u, u.exports, e, t, n, i);
}
return n[a].exports;
}
for (var o = "function" == typeof require && require, a = 0; a < i.length; a++) r(i[a]);
return r;
}({
1: [ function(e, t, n) {
"use strict";
function i(e) {
return function() {
throw new Error("Function " + e + " is deprecated and cannot be used.");
};
}
var r = e("./js-yaml/loader"), o = e("./js-yaml/dumper");
t.exports.Type = e("./js-yaml/type"), t.exports.Schema = e("./js-yaml/schema"), t.exports.FAILSAFE_SCHEMA = e("./js-yaml/schema/failsafe"), t.exports.JSON_SCHEMA = e("./js-yaml/schema/json"), t.exports.CORE_SCHEMA = e("./js-yaml/schema/core"), t.exports.DEFAULT_SAFE_SCHEMA = e("./js-yaml/schema/default_safe"), t.exports.DEFAULT_FULL_SCHEMA = e("./js-yaml/schema/default_full"), t.exports.load = r.load, t.exports.loadAll = r.loadAll, t.exports.safeLoad = r.safeLoad, t.exports.safeLoadAll = r.safeLoadAll, t.exports.dump = o.dump, t.exports.safeDump = o.safeDump, t.exports.YAMLException = e("./js-yaml/exception"), t.exports.MINIMAL_SCHEMA = e("./js-yaml/schema/failsafe"), t.exports.SAFE_SCHEMA = e("./js-yaml/schema/default_safe"), t.exports.DEFAULT_SCHEMA = e("./js-yaml/schema/default_full"), t.exports.scan = i("scan"), t.exports.parse = i("parse"), t.exports.compose = i("compose"), t.exports.addConstructor = i("addConstructor");
}, {
"./js-yaml/dumper": 3,
"./js-yaml/exception": 4,
"./js-yaml/loader": 5,
"./js-yaml/schema": 7,
"./js-yaml/schema/core": 8,
"./js-yaml/schema/default_full": 9,
"./js-yaml/schema/default_safe": 10,
"./js-yaml/schema/failsafe": 11,
"./js-yaml/schema/json": 12,
"./js-yaml/type": 13
} ],
2: [ function(e, t, n) {
"use strict";
function i(e) {
return void 0 === e || null === e;
}
t.exports.isNothing = i, t.exports.isObject = function(e) {
return "object" == typeof e && null !== e;
}, t.exports.toArray = function(e) {
return Array.isArray(e) ? e : i(e) ? [] : [ e ];
}, t.exports.repeat = function(e, t) {
var n, i = "";
for (n = 0; n < t; n += 1) i += e;
return i;
}, t.exports.isNegativeZero = function(e) {
return 0 === e && Number.NEGATIVE_INFINITY === 1 / e;
}, t.exports.extend = function(e, t) {
var n, i, r, o;
if (t) for (n = 0, i = (o = Object.keys(t)).length; n < i; n += 1) e[r = o[n]] = t[r];
return e;
};
}, {} ],
3: [ function(e, t, n) {
"use strict";
function i(e, t) {
var n, i, r, o, a, s, l;
if (null === t) return {};
for (n = {}, r = 0, o = (i = Object.keys(t)).length; r < o; r += 1) a = i[r], s = String(t[a]), "!!" === a.slice(0, 2) && (a = "tag:yaml.org,2002:" + a.slice(2)), (l = e.compiledTypeMap[a]) && P.call(l.styleAliases, s) && (s = l.styleAliases[s]), n[a] = s;
return n;
}
function r(e) {
var t, n, i;
if (t = e.toString(16).toUpperCase(), e <= 255) n = "x", i = 2; else if (e <= 65535) n = "u", i = 4; else {
if (!(e <= 4294967295)) throw new E("code point within a string may not be greater than 0xFFFFFFFF");
n = "U", i = 8;
}
return "\\" + n + D.repeat("0", i - t.length) + t;
}
function o(e) {
this.schema = e.schema || F, this.indent = Math.max(1, e.indent || 2), this.skipInvalid = e.skipInvalid || !1, this.flowLevel = D.isNothing(e.flowLevel) ? -1 : e.flowLevel, this.styleMap = i(this.schema, e.styles || null), this.sortKeys = e.sortKeys || !1, this.lineWidth = e.lineWidth || 80, this.noRefs = e.noRefs || !1, this.noCompatMode = e.noCompatMode || !1, this.implicitTypes = this.schema.compiledImplicit, this.explicitTypes = this.schema.compiledExplicit, this.tag = null, this.result = "", this.duplicates = [], this.usedDuplicates = null;
}
function a(e, t) {
for (var n, i = D.repeat(" ", t), r = 0, o = -1, a = "", s = e.length; r < s; ) -1 === (o = e.indexOf("\n", r)) ? (n = e.slice(r), r = s) : (n = e.slice(r, o + 1), r = o + 1), n.length && "\n" !== n && (a += i), a += n;
return a;
}
function s(e, t) {
return "\n" + D.repeat(" ", e.indent * t);
}
function l(e, t) {
var n, i;
for (n = 0, i = e.implicitTypes.length; n < i; n += 1) if (e.implicitTypes[n].resolve(t)) return !0;
return !1;
}
function c(e) {
return e === R || e === L;
}
function u(e) {
return 32 <= e && e <= 126 || 161 <= e && e <= 55295 && 8232 !== e && 8233 !== e || 57344 <= e && e <= 65533 && 65279 !== e || 65536 <= e && e <= 1114111;
}
function d(e) {
return u(e) && 65279 !== e && e !== W && e !== Q && e !== J && e !== ee && e !== ne && e !== G && e !== j;
}
function h(e) {
return u(e) && 65279 !== e && !c(e) && e !== q && e !== K && e !== G && e !== W && e !== Q && e !== J && e !== ee && e !== ne && e !== j && e !== V && e !== z && e !== N && e !== te && e !== Y && e !== U && e !== B && e !== H && e !== X && e !== Z;
}
function f(e, t, n, i, r) {
var o, a, s = !1, l = !1, f = -1 !== i, p = -1, g = h(e.charCodeAt(0)) && !c(e.charCodeAt(e.length - 1));
if (t) for (o = 0; o < e.length; o++) {
if (a = e.charCodeAt(o), !u(a)) return ce;
g = g && d(a);
} else {
for (o = 0; o < e.length; o++) {
if ((a = e.charCodeAt(o)) === O) s = !0, f && (l = l || o - p - 1 > i && " " !== e[p + 1], p = o); else if (!u(a)) return ce;
g = g && d(a);
}
l = l || f && o - p - 1 > i && " " !== e[p + 1];
}
return s || l ? " " === e[0] && n > 9 ? ce : l ? le : se : g && !r(e) ? oe : ae;
}
function p(e, t, n, i) {
e.dump = function() {
if (0 === t.length) return "''";
if (!e.noCompatMode && -1 !== re.indexOf(t)) return "'" + t + "'";
var r = e.indent * Math.max(1, n), o = -1 === e.lineWidth ? -1 : Math.max(Math.min(e.lineWidth, 40), e.lineWidth - r), s = i || e.flowLevel > -1 && n >= e.flowLevel;
switch (f(t, s, e.indent, o, function(t) {
return l(e, t);
})) {
case oe:
return t;

case ae:
return "'" + t.replace(/'/g, "''") + "'";

case se:
return "|" + g(t, e.indent) + m(a(t, r));

case le:
return ">" + g(t, e.indent) + m(a(v(t, o), r));

case ce:
return '"' + b(t) + '"';

default:
throw new E("impossible error: invalid scalar style");
}
}();
}
function g(e, t) {
var n = " " === e[0] ? String(t) : "", i = "\n" === e[e.length - 1];
return n + (i && ("\n" === e[e.length - 2] || "\n" === e) ? "+" : i ? "" : "-") + "\n";
}
function m(e) {
return "\n" === e[e.length - 1] ? e.slice(0, -1) : e;
}
function v(e, t) {
for (var n, i, r = /(\n+)([^\n]*)/g, o = function() {
var n = e.indexOf("\n");
return n = -1 !== n ? n : e.length, r.lastIndex = n, y(e.slice(0, n), t);
}(), a = "\n" === e[0] || " " === e[0]; i = r.exec(e); ) {
var s = i[1], l = i[2];
n = " " === l[0], o += s + (a || n || "" === l ? "" : "\n") + y(l, t), a = n;
}
return o;
}
function y(e, t) {
if ("" === e || " " === e[0]) return e;
for (var n, i, r = / [^ ]/g, o = 0, a = 0, s = 0, l = ""; n = r.exec(e); ) (s = n.index) - o > t && (i = a > o ? a : s, l += "\n" + e.slice(o, i), o = i + 1), a = s;
return l += "\n", e.length - o > t && a > o ? l += e.slice(o, a) + "\n" + e.slice(a + 1) : l += e.slice(o), l.slice(1);
}
function b(e) {
for (var t, n, i = "", o = 0; o < e.length; o++) t = e.charCodeAt(o), i += !(n = ie[t]) && u(t) ? e[o] : n || r(t);
return i;
}
function _(e, t, n) {
var i, r, o = "", a = e.tag;
for (i = 0, r = n.length; i < r; i += 1) $(e, t, n[i], !1, !1) && (0 !== i && (o += ", "), o += e.dump);
e.tag = a, e.dump = "[" + o + "]";
}
function w(e, t, n, i) {
var r, o, a = "", l = e.tag;
for (r = 0, o = n.length; r < o; r += 1) $(e, t + 1, n[r], !0, !0) && (i && 0 === r || (a += s(e, t)), a += "- " + e.dump);
e.tag = l, e.dump = a || "[]";
}
function C(e, t, n) {
var i, r, o, a, s, l = "", c = e.tag, u = Object.keys(n);
for (i = 0, r = u.length; i < r; i += 1) s = "", 0 !== i && (s += ", "), a = n[o = u[i]], $(e, t, o, !1, !1) && (e.dump.length > 1024 && (s += "? "), s += e.dump + ": ", $(e, t, a, !1, !1) && (l += s += e.dump));
e.tag = c, e.dump = "{" + l + "}";
}
function x(e, t, n, i) {
var r, o, a, l, c, u, d = "", h = e.tag, f = Object.keys(n);
if (!0 === e.sortKeys) f.sort(); else if ("function" == typeof e.sortKeys) f.sort(e.sortKeys); else if (e.sortKeys) throw new E("sortKeys must be a boolean or a function");
for (r = 0, o = f.length; r < o; r += 1) u = "", i && 0 === r || (u += s(e, t)), l = n[a = f[r]], $(e, t + 1, a, !0, !0, !0) && ((c = null !== e.tag && "?" !== e.tag || e.dump && e.dump.length > 1024) && (e.dump && O === e.dump.charCodeAt(0) ? u += "?" : u += "? "), u += e.dump, c && (u += s(e, t)), $(e, t + 1, l, !0, c) && (e.dump && O === e.dump.charCodeAt(0) ? u += ":" : u += ": ", d += u += e.dump));
e.tag = h, e.dump = d || "{}";
}
function S(e, t, n) {
var i, r, o, a, s, l;
for (o = 0, a = (r = n ? e.explicitTypes : e.implicitTypes).length; o < a; o += 1) if (((s = r[o]).instanceOf || s.predicate) && (!s.instanceOf || "object" == typeof t && t instanceof s.instanceOf) && (!s.predicate || s.predicate(t))) {
if (e.tag = n ? s.tag : "?", s.represent) {
if (l = e.styleMap[s.tag] || s.defaultStyle, "[object Function]" === I.call(s.represent)) i = s.represent(t, l); else {
if (!P.call(s.represent, l)) throw new E("!<" + s.tag + '> tag resolver accepts not "' + l + '" style');
i = s.represent[l](t, l);
}
e.dump = i;
}
return !0;
}
return !1;
}
function $(e, t, n, i, r, o) {
e.tag = null, e.dump = n, S(e, n, !1) || S(e, n, !0);
var a = I.call(e.dump);
i && (i = e.flowLevel < 0 || e.flowLevel > t);
var s, l, c = "[object Object]" === a || "[object Array]" === a;
if (c && (l = -1 !== (s = e.duplicates.indexOf(n))), (null !== e.tag && "?" !== e.tag || l || 2 !== e.indent && t > 0) && (r = !1), l && e.usedDuplicates[s]) e.dump = "*ref_" + s; else {
if (c && l && !e.usedDuplicates[s] && (e.usedDuplicates[s] = !0), "[object Object]" === a) i && 0 !== Object.keys(e.dump).length ? (x(e, t, e.dump, r), l && (e.dump = "&ref_" + s + e.dump)) : (C(e, t, e.dump), l && (e.dump = "&ref_" + s + " " + e.dump)); else if ("[object Array]" === a) i && 0 !== e.dump.length ? (w(e, t, e.dump, r), l && (e.dump = "&ref_" + s + e.dump)) : (_(e, t, e.dump), l && (e.dump = "&ref_" + s + " " + e.dump)); else {
if ("[object String]" !== a) {
if (e.skipInvalid) return !1;
throw new E("unacceptable kind of an object to dump " + a);
}
"?" !== e.tag && p(e, e.dump, t, o);
}
null !== e.tag && "?" !== e.tag && (e.dump = "!<" + e.tag + "> " + e.dump);
}
return !0;
}
function A(e, t) {
var n, i, r = [], o = [];
for (k(e, r, o), n = 0, i = o.length; n < i; n += 1) t.duplicates.push(r[o[n]]);
t.usedDuplicates = new Array(i);
}
function k(e, t, n) {
var i, r, o;
if (null !== e && "object" == typeof e) if (-1 !== (r = t.indexOf(e))) -1 === n.indexOf(r) && n.push(r); else if (t.push(e), Array.isArray(e)) for (r = 0, o = e.length; r < o; r += 1) k(e[r], t, n); else for (r = 0, o = (i = Object.keys(e)).length; r < o; r += 1) k(e[i[r]], t, n);
}
function T(e, t) {
var n = new o(t = t || {});
return n.noRefs || A(e, n), $(n, 0, e, !0, !0) ? n.dump + "\n" : "";
}
var D = e("./common"), E = e("./exception"), F = e("./schema/default_full"), M = e("./schema/default_safe"), I = Object.prototype.toString, P = Object.prototype.hasOwnProperty, L = 9, O = 10, R = 32, N = 33, B = 34, j = 35, H = 37, V = 38, U = 39, z = 42, W = 44, q = 45, G = 58, Y = 62, K = 63, X = 64, Q = 91, J = 93, Z = 96, ee = 123, te = 124, ne = 125, ie = {};
ie[0] = "\\0", ie[7] = "\\a", ie[8] = "\\b", ie[9] = "\\t", ie[10] = "\\n", ie[11] = "\\v", ie[12] = "\\f", ie[13] = "\\r", ie[27] = "\\e", ie[34] = '\\"', ie[92] = "\\\\", ie[133] = "\\N", ie[160] = "\\_", ie[8232] = "\\L", ie[8233] = "\\P";
var re = [ "y", "Y", "yes", "Yes", "YES", "on", "On", "ON", "n", "N", "no", "No", "NO", "off", "Off", "OFF" ], oe = 1, ae = 2, se = 3, le = 4, ce = 5;
t.exports.dump = T, t.exports.safeDump = function(e, t) {
return T(e, D.extend({
schema: M
}, t));
};
}, {
"./common": 2,
"./exception": 4,
"./schema/default_full": 9,
"./schema/default_safe": 10
} ],
4: [ function(e, t, n) {
"use strict";
function i(e, t) {
Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack || "", this.name = "YAMLException", this.reason = e, this.mark = t, this.message = (this.reason || "(unknown reason)") + (this.mark ? " " + this.mark.toString() : "");
}
(i.prototype = Object.create(Error.prototype)).constructor = i, i.prototype.toString = function(e) {
var t = this.name + ": ";
return t += this.reason || "(unknown reason)", !e && this.mark && (t += " " + this.mark.toString()), t;
}, t.exports = i;
}, {} ],
5: [ function(e, t, n) {
"use strict";
function i(e) {
return 10 === e || 13 === e;
}
function r(e) {
return 9 === e || 32 === e;
}
function o(e) {
return 9 === e || 32 === e || 10 === e || 13 === e;
}
function a(e) {
return 44 === e || 91 === e || 93 === e || 123 === e || 125 === e;
}
function s(e) {
var t;
return 48 <= e && e <= 57 ? e - 48 : 97 <= (t = 32 | e) && t <= 102 ? t - 97 + 10 : -1;
}
function l(e) {
return 120 === e ? 2 : 117 === e ? 4 : 85 === e ? 8 : 0;
}
function c(e) {
return 48 <= e && e <= 57 ? e - 48 : -1;
}
function u(e) {
return 48 === e ? "\0" : 97 === e ? "" : 98 === e ? "\b" : 116 === e ? "\t" : 9 === e ? "\t" : 110 === e ? "\n" : 118 === e ? "\v" : 102 === e ? "\f" : 114 === e ? "\r" : 101 === e ? "" : 32 === e ? " " : 34 === e ? '"' : 47 === e ? "/" : 92 === e ? "\\" : 78 === e ? "" : 95 === e ? " " : 76 === e ? "\u2028" : 80 === e ? "\u2029" : "";
}
function d(e) {
return e <= 65535 ? String.fromCharCode(e) : String.fromCharCode(55296 + (e - 65536 >> 10), 56320 + (e - 65536 & 1023));
}
function h(e, t) {
this.input = e, this.filename = t.filename || null, this.schema = t.schema || V, this.onWarning = t.onWarning || null, this.legacy = t.legacy || !1, this.json = t.json || !1, this.listener = t.listener || null, this.implicitTypes = this.schema.compiledImplicit, this.typeMap = this.schema.compiledTypeMap, this.length = e.length, this.position = 0, this.line = 0, this.lineStart = 0, this.lineIndent = 0, this.documents = [];
}
function f(e, t) {
return new B(t, new j(e.filename, e.input, e.position, e.line, e.position - e.lineStart));
}
function p(e, t) {
throw f(e, t);
}
function g(e, t) {
e.onWarning && e.onWarning.call(null, f(e, t));
}
function m(e, t, n, i) {
var r, o, a, s;
if (t < n) {
if (s = e.input.slice(t, n), i) for (r = 0, o = s.length; r < o; r += 1) 9 === (a = s.charCodeAt(r)) || 32 <= a && a <= 1114111 || p(e, "expected valid JSON character"); else Q.test(s) && p(e, "the stream contains non-printable characters");
e.result += s;
}
}
function v(e, t, n, i) {
var r, o, a, s;
for (N.isObject(n) || p(e, "cannot merge mappings; the provided source object is unacceptable"), a = 0, s = (r = Object.keys(n)).length; a < s; a += 1) o = r[a], U.call(t, o) || (t[o] = n[o], i[o] = !0);
}
function y(e, t, n, i, r, o) {
var a, s;
if (r = String(r), null === t && (t = {}), "tag:yaml.org,2002:merge" === i) if (Array.isArray(o)) for (a = 0, s = o.length; a < s; a += 1) v(e, t, o[a], n); else v(e, t, o, n); else e.json || U.call(n, r) || !U.call(t, r) || p(e, "duplicated mapping key"), t[r] = o, delete n[r];
return t;
}
function b(e) {
var t;
10 === (t = e.input.charCodeAt(e.position)) ? e.position++ : 13 === t ? (e.position++, 10 === e.input.charCodeAt(e.position) && e.position++) : p(e, "a line break is expected"), e.line += 1, e.lineStart = e.position;
}
function _(e, t, n) {
for (var o = 0, a = e.input.charCodeAt(e.position); 0 !== a; ) {
for (;r(a); ) a = e.input.charCodeAt(++e.position);
if (t && 35 === a) do {
a = e.input.charCodeAt(++e.position);
} while (10 !== a && 13 !== a && 0 !== a);
if (!i(a)) break;
for (b(e), a = e.input.charCodeAt(e.position), o++, e.lineIndent = 0; 32 === a; ) e.lineIndent++, a = e.input.charCodeAt(++e.position);
}
return -1 !== n && 0 !== o && e.lineIndent < n && g(e, "deficient indentation"), o;
}
function w(e) {
var t, n = e.position;
return !(45 !== (t = e.input.charCodeAt(n)) && 46 !== t || t !== e.input.charCodeAt(n + 1) || t !== e.input.charCodeAt(n + 2) || (n += 3, 0 !== (t = e.input.charCodeAt(n)) && !o(t)));
}
function C(e, t) {
1 === t ? e.result += " " : t > 1 && (e.result += N.repeat("\n", t - 1));
}
function x(e, t, n) {
var s, l, c, u, d, h, f, p, g, v = e.kind, y = e.result;
if (g = e.input.charCodeAt(e.position), o(g) || a(g) || 35 === g || 38 === g || 42 === g || 33 === g || 124 === g || 62 === g || 39 === g || 34 === g || 37 === g || 64 === g || 96 === g) return !1;
if ((63 === g || 45 === g) && (l = e.input.charCodeAt(e.position + 1), o(l) || n && a(l))) return !1;
for (e.kind = "scalar", e.result = "", c = u = e.position, d = !1; 0 !== g; ) {
if (58 === g) {
if (l = e.input.charCodeAt(e.position + 1), o(l) || n && a(l)) break;
} else if (35 === g) {
if (s = e.input.charCodeAt(e.position - 1), o(s)) break;
} else {
if (e.position === e.lineStart && w(e) || n && a(g)) break;
if (i(g)) {
if (h = e.line, f = e.lineStart, p = e.lineIndent, _(e, !1, -1), e.lineIndent >= t) {
d = !0, g = e.input.charCodeAt(e.position);
continue;
}
e.position = u, e.line = h, e.lineStart = f, e.lineIndent = p;
break;
}
}
d && (m(e, c, u, !1), C(e, e.line - h), c = u = e.position, d = !1), r(g) || (u = e.position + 1), g = e.input.charCodeAt(++e.position);
}
return m(e, c, u, !1), !!e.result || (e.kind = v, e.result = y, !1);
}
function S(e, t) {
var n, r, o;
if (39 !== (n = e.input.charCodeAt(e.position))) return !1;
for (e.kind = "scalar", e.result = "", e.position++, r = o = e.position; 0 !== (n = e.input.charCodeAt(e.position)); ) if (39 === n) {
if (m(e, r, e.position, !0), 39 !== (n = e.input.charCodeAt(++e.position))) return !0;
r = o = e.position, e.position++;
} else i(n) ? (m(e, r, o, !0), C(e, _(e, !1, t)), r = o = e.position) : e.position === e.lineStart && w(e) ? p(e, "unexpected end of the document within a single quoted scalar") : (e.position++, o = e.position);
p(e, "unexpected end of the stream within a single quoted scalar");
}
function $(e, t) {
var n, r, o, a, c, u;
if (34 !== (u = e.input.charCodeAt(e.position))) return !1;
for (e.kind = "scalar", e.result = "", e.position++, n = r = e.position; 0 !== (u = e.input.charCodeAt(e.position)); ) {
if (34 === u) return m(e, n, e.position, !0), e.position++, !0;
if (92 === u) {
if (m(e, n, e.position, !0), u = e.input.charCodeAt(++e.position), i(u)) _(e, !1, t); else if (u < 256 && ne[u]) e.result += ie[u], e.position++; else if ((c = l(u)) > 0) {
for (o = c, a = 0; o > 0; o--) (c = s(u = e.input.charCodeAt(++e.position))) >= 0 ? a = (a << 4) + c : p(e, "expected hexadecimal character");
e.result += d(a), e.position++;
} else p(e, "unknown escape sequence");
n = r = e.position;
} else i(u) ? (m(e, n, r, !0), C(e, _(e, !1, t)), n = r = e.position) : e.position === e.lineStart && w(e) ? p(e, "unexpected end of the document within a double quoted scalar") : (e.position++, r = e.position);
}
p(e, "unexpected end of the stream within a double quoted scalar");
}
function A(e, t) {
var n, i, r, a, s, l, c, u, d, h, f = !0, g = e.tag, m = e.anchor, v = {};
if (91 === (h = e.input.charCodeAt(e.position))) r = 93, l = !1, i = []; else {
if (123 !== h) return !1;
r = 125, l = !0, i = {};
}
for (null !== e.anchor && (e.anchorMap[e.anchor] = i), h = e.input.charCodeAt(++e.position); 0 !== h; ) {
if (_(e, !0, t), (h = e.input.charCodeAt(e.position)) === r) return e.position++, e.tag = g, e.anchor = m, e.kind = l ? "mapping" : "sequence", e.result = i, !0;
f || p(e, "missed comma between flow collection entries"), u = c = d = null, a = s = !1, 63 === h && o(e.input.charCodeAt(e.position + 1)) && (a = s = !0, e.position++, _(e, !0, t)), n = e.line, I(e, t, z, !1, !0), u = e.tag, c = e.result, _(e, !0, t), h = e.input.charCodeAt(e.position), !s && e.line !== n || 58 !== h || (a = !0, h = e.input.charCodeAt(++e.position), _(e, !0, t), I(e, t, z, !1, !0), d = e.result), l ? y(e, i, v, u, c, d) : a ? i.push(y(e, null, v, u, c, d)) : i.push(c), _(e, !0, t), 44 === (h = e.input.charCodeAt(e.position)) ? (f = !0, h = e.input.charCodeAt(++e.position)) : f = !1;
}
p(e, "unexpected end of the stream within a flow collection");
}
function k(e, t) {
var n, o, a, s, l = Y, u = !1, d = !1, h = t, f = 0, g = !1;
if (124 === (s = e.input.charCodeAt(e.position))) o = !1; else {
if (62 !== s) return !1;
o = !0;
}
for (e.kind = "scalar", e.result = ""; 0 !== s; ) if (43 === (s = e.input.charCodeAt(++e.position)) || 45 === s) Y === l ? l = 43 === s ? X : K : p(e, "repeat of a chomping mode identifier"); else {
if (!((a = c(s)) >= 0)) break;
0 === a ? p(e, "bad explicit indentation width of a block scalar; it cannot be less than one") : d ? p(e, "repeat of an indentation width identifier") : (h = t + a - 1, d = !0);
}
if (r(s)) {
do {
s = e.input.charCodeAt(++e.position);
} while (r(s));
if (35 === s) do {
s = e.input.charCodeAt(++e.position);
} while (!i(s) && 0 !== s);
}
for (;0 !== s; ) {
for (b(e), e.lineIndent = 0, s = e.input.charCodeAt(e.position); (!d || e.lineIndent < h) && 32 === s; ) e.lineIndent++, s = e.input.charCodeAt(++e.position);
if (!d && e.lineIndent > h && (h = e.lineIndent), i(s)) f++; else {
if (e.lineIndent < h) {
l === X ? e.result += N.repeat("\n", u ? 1 + f : f) : l === Y && u && (e.result += "\n");
break;
}
for (o ? r(s) ? (g = !0, e.result += N.repeat("\n", u ? 1 + f : f)) : g ? (g = !1, e.result += N.repeat("\n", f + 1)) : 0 === f ? u && (e.result += " ") : e.result += N.repeat("\n", f) : e.result += N.repeat("\n", u ? 1 + f : f), u = !0, d = !0, f = 0, n = e.position; !i(s) && 0 !== s; ) s = e.input.charCodeAt(++e.position);
m(e, n, e.position, !1);
}
}
return !0;
}
function T(e, t) {
var n, i, r, a = e.tag, s = e.anchor, l = [], c = !1;
for (null !== e.anchor && (e.anchorMap[e.anchor] = l), r = e.input.charCodeAt(e.position); 0 !== r && 45 === r && (i = e.input.charCodeAt(e.position + 1), o(i)); ) if (c = !0, e.position++, _(e, !0, -1) && e.lineIndent <= t) l.push(null), r = e.input.charCodeAt(e.position); else if (n = e.line, I(e, t, q, !1, !0), l.push(e.result), _(e, !0, -1), r = e.input.charCodeAt(e.position), (e.line === n || e.lineIndent > t) && 0 !== r) p(e, "bad indentation of a sequence entry"); else if (e.lineIndent < t) break;
return !!c && (e.tag = a, e.anchor = s, e.kind = "sequence", e.result = l, !0);
}
function D(e, t, n) {
var i, a, s, l, c = e.tag, u = e.anchor, d = {}, h = {}, f = null, g = null, m = null, v = !1, b = !1;
for (null !== e.anchor && (e.anchorMap[e.anchor] = d), l = e.input.charCodeAt(e.position); 0 !== l; ) {
if (i = e.input.charCodeAt(e.position + 1), s = e.line, 63 !== l && 58 !== l || !o(i)) {
if (!I(e, n, W, !1, !0)) break;
if (e.line === s) {
for (l = e.input.charCodeAt(e.position); r(l); ) l = e.input.charCodeAt(++e.position);
if (58 === l) o(l = e.input.charCodeAt(++e.position)) || p(e, "a whitespace character is expected after the key-value separator within a block mapping"), v && (y(e, d, h, f, g, null), f = g = m = null), b = !0, v = !1, a = !1, f = e.tag, g = e.result; else {
if (!b) return e.tag = c, e.anchor = u, !0;
p(e, "can not read an implicit mapping pair; a colon is missed");
}
} else {
if (!b) return e.tag = c, e.anchor = u, !0;
p(e, "can not read a block mapping entry; a multiline key may not be an implicit key");
}
} else 63 === l ? (v && (y(e, d, h, f, g, null), f = g = m = null), b = !0, v = !0, a = !0) : v ? (v = !1, a = !0) : p(e, "incomplete explicit mapping pair; a key node is missed"), e.position += 1, l = i;
if ((e.line === s || e.lineIndent > t) && (I(e, t, G, !0, a) && (v ? g = e.result : m = e.result), v || (y(e, d, h, f, g, m), f = g = m = null), _(e, !0, -1), l = e.input.charCodeAt(e.position)), e.lineIndent > t && 0 !== l) p(e, "bad indentation of a mapping entry"); else if (e.lineIndent < t) break;
}
return v && y(e, d, h, f, g, null), b && (e.tag = c, e.anchor = u, e.kind = "mapping", e.result = d), b;
}
function E(e) {
var t, n, i, r, a = !1, s = !1;
if (33 !== (r = e.input.charCodeAt(e.position))) return !1;
if (null !== e.tag && p(e, "duplication of a tag property"), 60 === (r = e.input.charCodeAt(++e.position)) ? (a = !0, r = e.input.charCodeAt(++e.position)) : 33 === r ? (s = !0, n = "!!", r = e.input.charCodeAt(++e.position)) : n = "!", t = e.position, a) {
do {
r = e.input.charCodeAt(++e.position);
} while (0 !== r && 62 !== r);
e.position < e.length ? (i = e.input.slice(t, e.position), r = e.input.charCodeAt(++e.position)) : p(e, "unexpected end of the stream within a verbatim tag");
} else {
for (;0 !== r && !o(r); ) 33 === r && (s ? p(e, "tag suffix cannot contain exclamation marks") : (n = e.input.slice(t - 1, e.position + 1), ee.test(n) || p(e, "named tag handle cannot contain such characters"), s = !0, t = e.position + 1)), r = e.input.charCodeAt(++e.position);
i = e.input.slice(t, e.position), Z.test(i) && p(e, "tag suffix cannot contain flow indicator characters");
}
return i && !te.test(i) && p(e, "tag name cannot contain such characters: " + i), a ? e.tag = i : U.call(e.tagMap, n) ? e.tag = e.tagMap[n] + i : "!" === n ? e.tag = "!" + i : "!!" === n ? e.tag = "tag:yaml.org,2002:" + i : p(e, 'undeclared tag handle "' + n + '"'), !0;
}
function F(e) {
var t, n;
if (38 !== (n = e.input.charCodeAt(e.position))) return !1;
for (null !== e.anchor && p(e, "duplication of an anchor property"), n = e.input.charCodeAt(++e.position), t = e.position; 0 !== n && !o(n) && !a(n); ) n = e.input.charCodeAt(++e.position);
return e.position === t && p(e, "name of an anchor node must contain at least one character"), e.anchor = e.input.slice(t, e.position), !0;
}
function M(e) {
var t, n, i;
if (42 !== (i = e.input.charCodeAt(e.position))) return !1;
for (i = e.input.charCodeAt(++e.position), t = e.position; 0 !== i && !o(i) && !a(i); ) i = e.input.charCodeAt(++e.position);
return e.position === t && p(e, "name of an alias node must contain at least one character"), n = e.input.slice(t, e.position), e.anchorMap.hasOwnProperty(n) || p(e, 'unidentified alias "' + n + '"'), e.result = e.anchorMap[n], _(e, !0, -1), !0;
}
function I(e, t, n, i, r) {
var o, a, s, l, c, u, d, h, f = 1, g = !1, m = !1;
if (null !== e.listener && e.listener("open", e), e.tag = null, e.anchor = null, e.kind = null, e.result = null, o = a = s = G === n || q === n, i && _(e, !0, -1) && (g = !0, e.lineIndent > t ? f = 1 : e.lineIndent === t ? f = 0 : e.lineIndent < t && (f = -1)), 1 === f) for (;E(e) || F(e); ) _(e, !0, -1) ? (g = !0, s = o, e.lineIndent > t ? f = 1 : e.lineIndent === t ? f = 0 : e.lineIndent < t && (f = -1)) : s = !1;
if (s && (s = g || r), 1 !== f && G !== n || (d = z === n || W === n ? t : t + 1, h = e.position - e.lineStart, 1 === f ? s && (T(e, h) || D(e, h, d)) || A(e, d) ? m = !0 : (a && k(e, d) || S(e, d) || $(e, d) ? m = !0 : M(e) ? (m = !0, null === e.tag && null === e.anchor || p(e, "alias node should not have any properties")) : x(e, d, z === n) && (m = !0, null === e.tag && (e.tag = "?")), null !== e.anchor && (e.anchorMap[e.anchor] = e.result)) : 0 === f && (m = s && T(e, h))), null !== e.tag && "!" !== e.tag) if ("?" === e.tag) {
for (l = 0, c = e.implicitTypes.length; l < c; l += 1) if ((u = e.implicitTypes[l]).resolve(e.result)) {
e.result = u.construct(e.result), e.tag = u.tag, null !== e.anchor && (e.anchorMap[e.anchor] = e.result);
break;
}
} else U.call(e.typeMap, e.tag) ? (u = e.typeMap[e.tag], null !== e.result && u.kind !== e.kind && p(e, "unacceptable node kind for !<" + e.tag + '> tag; it should be "' + u.kind + '", not "' + e.kind + '"'), u.resolve(e.result) ? (e.result = u.construct(e.result), null !== e.anchor && (e.anchorMap[e.anchor] = e.result)) : p(e, "cannot resolve a node with !<" + e.tag + "> explicit tag")) : p(e, "unknown tag !<" + e.tag + ">");
return null !== e.listener && e.listener("close", e), null !== e.tag || null !== e.anchor || m;
}
function P(e) {
var t, n, a, s, l = e.position, c = !1;
for (e.version = null, e.checkLineBreaks = e.legacy, e.tagMap = {}, e.anchorMap = {}; 0 !== (s = e.input.charCodeAt(e.position)) && (_(e, !0, -1), s = e.input.charCodeAt(e.position), !(e.lineIndent > 0 || 37 !== s)); ) {
for (c = !0, s = e.input.charCodeAt(++e.position), t = e.position; 0 !== s && !o(s); ) s = e.input.charCodeAt(++e.position);
for (a = [], (n = e.input.slice(t, e.position)).length < 1 && p(e, "directive name must not be less than one character in length"); 0 !== s; ) {
for (;r(s); ) s = e.input.charCodeAt(++e.position);
if (35 === s) {
do {
s = e.input.charCodeAt(++e.position);
} while (0 !== s && !i(s));
break;
}
if (i(s)) break;
for (t = e.position; 0 !== s && !o(s); ) s = e.input.charCodeAt(++e.position);
a.push(e.input.slice(t, e.position));
}
0 !== s && b(e), U.call(oe, n) ? oe[n](e, n, a) : g(e, 'unknown document directive "' + n + '"');
}
_(e, !0, -1), 0 === e.lineIndent && 45 === e.input.charCodeAt(e.position) && 45 === e.input.charCodeAt(e.position + 1) && 45 === e.input.charCodeAt(e.position + 2) ? (e.position += 3, _(e, !0, -1)) : c && p(e, "directives end mark is expected"), I(e, e.lineIndent - 1, G, !1, !0), _(e, !0, -1), e.checkLineBreaks && J.test(e.input.slice(l, e.position)) && g(e, "non-ASCII line breaks are interpreted as content"), e.documents.push(e.result), e.position === e.lineStart && w(e) ? 46 === e.input.charCodeAt(e.position) && (e.position += 3, _(e, !0, -1)) : e.position < e.length - 1 && p(e, "end of the stream or a document separator is expected");
}
function L(e, t) {
e = String(e), t = t || {}, 0 !== e.length && (10 !== e.charCodeAt(e.length - 1) && 13 !== e.charCodeAt(e.length - 1) && (e += "\n"), 65279 === e.charCodeAt(0) && (e = e.slice(1)));
var n = new h(e, t);
for (n.input += "\0"; 32 === n.input.charCodeAt(n.position); ) n.lineIndent += 1, n.position += 1;
for (;n.position < n.length - 1; ) P(n);
return n.documents;
}
function O(e, t, n) {
var i, r, o = L(e, n);
for (i = 0, r = o.length; i < r; i += 1) t(o[i]);
}
function R(e, t) {
var n = L(e, t);
if (0 !== n.length) {
if (1 === n.length) return n[0];
throw new B("expected a single document in the stream, but found more");
}
}
for (var N = e("./common"), B = e("./exception"), j = e("./mark"), H = e("./schema/default_safe"), V = e("./schema/default_full"), U = Object.prototype.hasOwnProperty, z = 1, W = 2, q = 3, G = 4, Y = 1, K = 2, X = 3, Q = /[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/, J = /[\x85\u2028\u2029]/, Z = /[,\[\]\{\}]/, ee = /^(?:!|!!|![a-z\-]+!)$/i, te = /^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i, ne = new Array(256), ie = new Array(256), re = 0; re < 256; re++) ne[re] = u(re) ? 1 : 0, ie[re] = u(re);
var oe = {
YAML: function(e, t, n) {
var i, r, o;
null !== e.version && p(e, "duplication of %YAML directive"), 1 !== n.length && p(e, "YAML directive accepts exactly one argument"), null === (i = /^([0-9]+)\.([0-9]+)$/.exec(n[0])) && p(e, "ill-formed argument of the YAML directive"), r = parseInt(i[1], 10), o = parseInt(i[2], 10), 1 !== r && p(e, "unacceptable YAML version of the document"), e.version = n[0], e.checkLineBreaks = o < 2, 1 !== o && 2 !== o && g(e, "unsupported YAML version of the document");
},
TAG: function(e, t, n) {
var i, r;
2 !== n.length && p(e, "TAG directive accepts exactly two arguments"), i = n[0], r = n[1], ee.test(i) || p(e, "ill-formed tag handle (first argument) of the TAG directive"), U.call(e.tagMap, i) && p(e, 'there is a previously declared suffix for "' + i + '" tag handle'), te.test(r) || p(e, "ill-formed tag prefix (second argument) of the TAG directive"), e.tagMap[i] = r;
}
};
t.exports.loadAll = O, t.exports.load = R, t.exports.safeLoadAll = function(e, t, n) {
O(e, t, N.extend({
schema: H
}, n));
}, t.exports.safeLoad = function(e, t) {
return R(e, N.extend({
schema: H
}, t));
};
}, {
"./common": 2,
"./exception": 4,
"./mark": 6,
"./schema/default_full": 9,
"./schema/default_safe": 10
} ],
6: [ function(e, t, n) {
"use strict";
function i(e, t, n, i, r) {
this.name = e, this.buffer = t, this.position = n, this.line = i, this.column = r;
}
var r = e("./common");
i.prototype.getSnippet = function(e, t) {
var n, i, o, a, s;
if (!this.buffer) return null;
for (e = e || 4, t = t || 75, n = "", i = this.position; i > 0 && -1 === "\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i - 1)); ) if (i -= 1, this.position - i > t / 2 - 1) {
n = " ... ", i += 5;
break;
}
for (o = "", a = this.position; a < this.buffer.length && -1 === "\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(a)); ) if ((a += 1) - this.position > t / 2 - 1) {
o = " ... ", a -= 5;
break;
}
return s = this.buffer.slice(i, a), r.repeat(" ", e) + n + s + o + "\n" + r.repeat(" ", e + this.position - i + n.length) + "^";
}, i.prototype.toString = function(e) {
var t, n = "";
return this.name && (n += 'in "' + this.name + '" '), n += "at line " + (this.line + 1) + ", column " + (this.column + 1), e || (t = this.getSnippet()) && (n += ":\n" + t), n;
}, t.exports = i;
}, {
"./common": 2
} ],
7: [ function(e, t, n) {
"use strict";
function i(e, t, n) {
var r = [];
return e.include.forEach(function(e) {
n = i(e, t, n);
}), e[t].forEach(function(e) {
n.forEach(function(t, n) {
t.tag === e.tag && r.push(n);
}), n.push(e);
}), n.filter(function(e, t) {
return -1 === r.indexOf(t);
});
}
function r() {
var e, t, n = {};
for (e = 0, t = arguments.length; e < t; e += 1) arguments[e].forEach(function(e) {
n[e.tag] = e;
});
return n;
}
function o(e) {
this.include = e.include || [], this.implicit = e.implicit || [], this.explicit = e.explicit || [], this.implicit.forEach(function(e) {
if (e.loadKind && "scalar" !== e.loadKind) throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");
}), this.compiledImplicit = i(this, "implicit", []), this.compiledExplicit = i(this, "explicit", []), this.compiledTypeMap = r(this.compiledImplicit, this.compiledExplicit);
}
var a = e("./common"), s = e("./exception"), l = e("./type");
o.DEFAULT = null, o.create = function() {
var e, t;
switch (arguments.length) {
case 1:
e = o.DEFAULT, t = arguments[0];
break;

case 2:
e = arguments[0], t = arguments[1];
break;

default:
throw new s("Wrong number of arguments for Schema.create function");
}
if (e = a.toArray(e), t = a.toArray(t), !e.every(function(e) {
return e instanceof o;
})) throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");
if (!t.every(function(e) {
return e instanceof l;
})) throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");
return new o({
include: e,
explicit: t
});
}, t.exports = o;
}, {
"./common": 2,
"./exception": 4,
"./type": 13
} ],
8: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
include: [ e("./json") ]
});
}, {
"../schema": 7,
"./json": 12
} ],
9: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = i.DEFAULT = new i({
include: [ e("./default_safe") ],
explicit: [ e("../type/js/undefined"), e("../type/js/regexp"), e("../type/js/function") ]
});
}, {
"../schema": 7,
"../type/js/function": 18,
"../type/js/regexp": 19,
"../type/js/undefined": 20,
"./default_safe": 10
} ],
10: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
include: [ e("./core") ],
implicit: [ e("../type/timestamp"), e("../type/merge") ],
explicit: [ e("../type/binary"), e("../type/omap"), e("../type/pairs"), e("../type/set") ]
});
}, {
"../schema": 7,
"../type/binary": 14,
"../type/merge": 22,
"../type/omap": 24,
"../type/pairs": 25,
"../type/set": 27,
"../type/timestamp": 29,
"./core": 8
} ],
11: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
explicit: [ e("../type/str"), e("../type/seq"), e("../type/map") ]
});
}, {
"../schema": 7,
"../type/map": 21,
"../type/seq": 26,
"../type/str": 28
} ],
12: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
include: [ e("./failsafe") ],
implicit: [ e("../type/null"), e("../type/bool"), e("../type/int"), e("../type/float") ]
});
}, {
"../schema": 7,
"../type/bool": 15,
"../type/float": 16,
"../type/int": 17,
"../type/null": 23,
"./failsafe": 11
} ],
13: [ function(e, t, n) {
"use strict";
function i(e) {
var t = {};
return null !== e && Object.keys(e).forEach(function(n) {
e[n].forEach(function(e) {
t[String(e)] = n;
});
}), t;
}
var r = e("./exception"), o = [ "kind", "resolve", "construct", "instanceOf", "predicate", "represent", "defaultStyle", "styleAliases" ], a = [ "scalar", "sequence", "mapping" ];
t.exports = function(e, t) {
if (t = t || {}, Object.keys(t).forEach(function(t) {
if (-1 === o.indexOf(t)) throw new r('Unknown option "' + t + '" is met in definition of "' + e + '" YAML type.');
}), this.tag = e, this.kind = t.kind || null, this.resolve = t.resolve || function() {
return !0;
}, this.construct = t.construct || function(e) {
return e;
}, this.instanceOf = t.instanceOf || null, this.predicate = t.predicate || null, this.represent = t.represent || null, this.defaultStyle = t.defaultStyle || null, this.styleAliases = i(t.styleAliases || null), -1 === a.indexOf(this.kind)) throw new r('Unknown kind "' + this.kind + '" is specified for "' + e + '" YAML type.');
};
}, {
"./exception": 4
} ],
14: [ function(e, t, n) {
"use strict";
var i;
try {
i = e("buffer").Buffer;
} catch (e) {}
var r = e("../type"), o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";
t.exports = new r("tag:yaml.org,2002:binary", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
var t, n, i = 0, r = e.length, a = o;
for (n = 0; n < r; n++) if (!((t = a.indexOf(e.charAt(n))) > 64)) {
if (t < 0) return !1;
i += 6;
}
return i % 8 == 0;
},
construct: function(e) {
var t, n, r = e.replace(/[\r\n=]/g, ""), a = r.length, s = o, l = 0, c = [];
for (t = 0; t < a; t++) t % 4 == 0 && t && (c.push(l >> 16 & 255), c.push(l >> 8 & 255), c.push(255 & l)), l = l << 6 | s.indexOf(r.charAt(t));
return 0 == (n = a % 4 * 6) ? (c.push(l >> 16 & 255), c.push(l >> 8 & 255), c.push(255 & l)) : 18 === n ? (c.push(l >> 10 & 255), c.push(l >> 2 & 255)) : 12 === n && c.push(l >> 4 & 255), i ? new i(c) : c;
},
predicate: function(e) {
return i && i.isBuffer(e);
},
represent: function(e) {
var t, n, i = "", r = 0, a = e.length, s = o;
for (t = 0; t < a; t++) t % 3 == 0 && t && (i += s[r >> 18 & 63], i += s[r >> 12 & 63], i += s[r >> 6 & 63], i += s[63 & r]), r = (r << 8) + e[t];
return 0 == (n = a % 3) ? (i += s[r >> 18 & 63], i += s[r >> 12 & 63], i += s[r >> 6 & 63], i += s[63 & r]) : 2 === n ? (i += s[r >> 10 & 63], i += s[r >> 4 & 63], i += s[r << 2 & 63], i += s[64]) : 1 === n && (i += s[r >> 2 & 63], i += s[r << 4 & 63], i += s[64], i += s[64]), i;
}
});
}, {
"../type": 13
} ],
15: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:bool", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
var t = e.length;
return 4 === t && ("true" === e || "True" === e || "TRUE" === e) || 5 === t && ("false" === e || "False" === e || "FALSE" === e);
},
construct: function(e) {
return "true" === e || "True" === e || "TRUE" === e;
},
predicate: function(e) {
return "[object Boolean]" === Object.prototype.toString.call(e);
},
represent: {
lowercase: function(e) {
return e ? "true" : "false";
},
uppercase: function(e) {
return e ? "TRUE" : "FALSE";
},
camelcase: function(e) {
return e ? "True" : "False";
}
},
defaultStyle: "lowercase"
});
}, {
"../type": 13
} ],
16: [ function(e, t, n) {
"use strict";
var i = e("../common"), r = e("../type"), o = new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"), a = /^[-+]?[0-9]+e/;
t.exports = new r("tag:yaml.org,2002:float", {
kind: "scalar",
resolve: function(e) {
return null !== e && !!o.test(e);
},
construct: function(e) {
var t, n, i, r;
return t = e.replace(/_/g, "").toLowerCase(), n = "-" === t[0] ? -1 : 1, r = [], "+-".indexOf(t[0]) >= 0 && (t = t.slice(1)), ".inf" === t ? 1 === n ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY : ".nan" === t ? NaN : t.indexOf(":") >= 0 ? (t.split(":").forEach(function(e) {
r.unshift(parseFloat(e, 10));
}), t = 0, i = 1, r.forEach(function(e) {
t += e * i, i *= 60;
}), n * t) : n * parseFloat(t, 10);
},
predicate: function(e) {
return "[object Number]" === Object.prototype.toString.call(e) && (e % 1 != 0 || i.isNegativeZero(e));
},
represent: function(e, t) {
var n;
if (isNaN(e)) switch (t) {
case "lowercase":
return ".nan";

case "uppercase":
return ".NAN";

case "camelcase":
return ".NaN";
} else if (Number.POSITIVE_INFINITY === e) switch (t) {
case "lowercase":
return ".inf";

case "uppercase":
return ".INF";

case "camelcase":
return ".Inf";
} else if (Number.NEGATIVE_INFINITY === e) switch (t) {
case "lowercase":
return "-.inf";

case "uppercase":
return "-.INF";

case "camelcase":
return "-.Inf";
} else if (i.isNegativeZero(e)) return "-0.0";
return n = e.toString(10), a.test(n) ? n.replace("e", ".e") : n;
},
defaultStyle: "lowercase"
});
}, {
"../common": 2,
"../type": 13
} ],
17: [ function(e, t, n) {
"use strict";
function i(e) {
return 48 <= e && e <= 57 || 65 <= e && e <= 70 || 97 <= e && e <= 102;
}
function r(e) {
return 48 <= e && e <= 55;
}
function o(e) {
return 48 <= e && e <= 57;
}
var a = e("../common"), s = e("../type");
t.exports = new s("tag:yaml.org,2002:int", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
var t, n = e.length, a = 0, s = !1;
if (!n) return !1;
if ("-" !== (t = e[a]) && "+" !== t || (t = e[++a]), "0" === t) {
if (a + 1 === n) return !0;
if ("b" === (t = e[++a])) {
for (a++; a < n; a++) if ("_" !== (t = e[a])) {
if ("0" !== t && "1" !== t) return !1;
s = !0;
}
return s;
}
if ("x" === t) {
for (a++; a < n; a++) if ("_" !== (t = e[a])) {
if (!i(e.charCodeAt(a))) return !1;
s = !0;
}
return s;
}
for (;a < n; a++) if ("_" !== (t = e[a])) {
if (!r(e.charCodeAt(a))) return !1;
s = !0;
}
return s;
}
for (;a < n; a++) if ("_" !== (t = e[a])) {
if (":" === t) break;
if (!o(e.charCodeAt(a))) return !1;
s = !0;
}
return !!s && (":" !== t || /^(:[0-5]?[0-9])+$/.test(e.slice(a)));
},
construct: function(e) {
var t, n, i = e, r = 1, o = [];
return -1 !== i.indexOf("_") && (i = i.replace(/_/g, "")), "-" !== (t = i[0]) && "+" !== t || ("-" === t && (r = -1), t = (i = i.slice(1))[0]), "0" === i ? 0 : "0" === t ? "b" === i[1] ? r * parseInt(i.slice(2), 2) : "x" === i[1] ? r * parseInt(i, 16) : r * parseInt(i, 8) : -1 !== i.indexOf(":") ? (i.split(":").forEach(function(e) {
o.unshift(parseInt(e, 10));
}), i = 0, n = 1, o.forEach(function(e) {
i += e * n, n *= 60;
}), r * i) : r * parseInt(i, 10);
},
predicate: function(e) {
return "[object Number]" === Object.prototype.toString.call(e) && e % 1 == 0 && !a.isNegativeZero(e);
},
represent: {
binary: function(e) {
return "0b" + e.toString(2);
},
octal: function(e) {
return "0" + e.toString(8);
},
decimal: function(e) {
return e.toString(10);
},
hexadecimal: function(e) {
return "0x" + e.toString(16).toUpperCase();
}
},
defaultStyle: "decimal",
styleAliases: {
binary: [ 2, "bin" ],
octal: [ 8, "oct" ],
decimal: [ 10, "dec" ],
hexadecimal: [ 16, "hex" ]
}
});
}, {
"../common": 2,
"../type": 13
} ],
18: [ function(e, t, n) {
"use strict";
var i;
try {
i = e("esprima");
} catch (e) {
"undefined" != typeof window && (i = window.esprima);
}
var r = e("../../type");
t.exports = new r("tag:yaml.org,2002:js/function", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
try {
var t = "(" + e + ")", n = i.parse(t, {
range: !0
});
return "Program" === n.type && 1 === n.body.length && "ExpressionStatement" === n.body[0].type && "FunctionExpression" === n.body[0].expression.type;
} catch (e) {
return !1;
}
},
construct: function(e) {
var t, n = "(" + e + ")", r = i.parse(n, {
range: !0
}), o = [];
if ("Program" !== r.type || 1 !== r.body.length || "ExpressionStatement" !== r.body[0].type || "FunctionExpression" !== r.body[0].expression.type) throw new Error("Failed to resolve function");
return r.body[0].expression.params.forEach(function(e) {
o.push(e.name);
}), t = r.body[0].expression.body.range, new Function(o, n.slice(t[0] + 1, t[1] - 1));
},
predicate: function(e) {
return "[object Function]" === Object.prototype.toString.call(e);
},
represent: function(e) {
return e.toString();
}
});
}, {
"../../type": 13
} ],
19: [ function(e, t, n) {
"use strict";
var i = e("../../type");
t.exports = new i("tag:yaml.org,2002:js/regexp", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
if (0 === e.length) return !1;
var t = e, n = /\/([gim]*)$/.exec(e), i = "";
if ("/" === t[0]) {
if (n && (i = n[1]), i.length > 3) return !1;
if ("/" !== t[t.length - i.length - 1]) return !1;
}
return !0;
},
construct: function(e) {
var t = e, n = /\/([gim]*)$/.exec(e), i = "";
return "/" === t[0] && (n && (i = n[1]), t = t.slice(1, t.length - i.length - 1)), new RegExp(t, i);
},
predicate: function(e) {
return "[object RegExp]" === Object.prototype.toString.call(e);
},
represent: function(e) {
var t = "/" + e.source + "/";
return e.global && (t += "g"), e.multiline && (t += "m"), e.ignoreCase && (t += "i"), t;
}
});
}, {
"../../type": 13
} ],
20: [ function(e, t, n) {
"use strict";
var i = e("../../type");
t.exports = new i("tag:yaml.org,2002:js/undefined", {
kind: "scalar",
resolve: function() {
return !0;
},
construct: function() {},
predicate: function(e) {
return void 0 === e;
},
represent: function() {
return "";
}
});
}, {
"../../type": 13
} ],
21: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:map", {
kind: "mapping",
construct: function(e) {
return null !== e ? e : {};
}
});
}, {
"../type": 13
} ],
22: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:merge", {
kind: "scalar",
resolve: function(e) {
return "<<" === e || null === e;
}
});
}, {
"../type": 13
} ],
23: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:null", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !0;
var t = e.length;
return 1 === t && "~" === e || 4 === t && ("null" === e || "Null" === e || "NULL" === e);
},
construct: function() {
return null;
},
predicate: function(e) {
return null === e;
},
represent: {
canonical: function() {
return "~";
},
lowercase: function() {
return "null";
},
uppercase: function() {
return "NULL";
},
camelcase: function() {
return "Null";
}
},
defaultStyle: "lowercase"
});
}, {
"../type": 13
} ],
24: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = Object.prototype.hasOwnProperty, o = Object.prototype.toString;
t.exports = new i("tag:yaml.org,2002:omap", {
kind: "sequence",
resolve: function(e) {
if (null === e) return !0;
var t, n, i, a, s, l = [], c = e;
for (t = 0, n = c.length; t < n; t += 1) {
if (i = c[t], s = !1, "[object Object]" !== o.call(i)) return !1;
for (a in i) if (r.call(i, a)) {
if (s) return !1;
s = !0;
}
if (!s) return !1;
if (-1 !== l.indexOf(a)) return !1;
l.push(a);
}
return !0;
},
construct: function(e) {
return null !== e ? e : [];
}
});
}, {
"../type": 13
} ],
25: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = Object.prototype.toString;
t.exports = new i("tag:yaml.org,2002:pairs", {
kind: "sequence",
resolve: function(e) {
if (null === e) return !0;
var t, n, i, o, a, s = e;
for (a = new Array(s.length), t = 0, n = s.length; t < n; t += 1) {
if (i = s[t], "[object Object]" !== r.call(i)) return !1;
if (1 !== (o = Object.keys(i)).length) return !1;
a[t] = [ o[0], i[o[0]] ];
}
return !0;
},
construct: function(e) {
if (null === e) return [];
var t, n, i, r, o, a = e;
for (o = new Array(a.length), t = 0, n = a.length; t < n; t += 1) i = a[t], r = Object.keys(i), o[t] = [ r[0], i[r[0]] ];
return o;
}
});
}, {
"../type": 13
} ],
26: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:seq", {
kind: "sequence",
construct: function(e) {
return null !== e ? e : [];
}
});
}, {
"../type": 13
} ],
27: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = Object.prototype.hasOwnProperty;
t.exports = new i("tag:yaml.org,2002:set", {
kind: "mapping",
resolve: function(e) {
if (null === e) return !0;
var t, n = e;
for (t in n) if (r.call(n, t) && null !== n[t]) return !1;
return !0;
},
construct: function(e) {
return null !== e ? e : {};
}
});
}, {
"../type": 13
} ],
28: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:str", {
kind: "scalar",
construct: function(e) {
return null !== e ? e : "";
}
});
}, {
"../type": 13
} ],
29: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"), o = new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");
t.exports = new i("tag:yaml.org,2002:timestamp", {
kind: "scalar",
resolve: function(e) {
return null !== e && (null !== r.exec(e) || null !== o.exec(e));
},
construct: function(e) {
var t, n, i, a, s, l, c, u, d = 0, h = null;
if (null === (t = r.exec(e)) && (t = o.exec(e)), null === t) throw new Error("Date resolve error");
if (n = +t[1], i = +t[2] - 1, a = +t[3], !t[4]) return new Date(Date.UTC(n, i, a));
if (s = +t[4], l = +t[5], c = +t[6], t[7]) {
for (d = t[7].slice(0, 3); d.length < 3; ) d += "0";
d = +d;
}
return t[9] && (h = 6e4 * (60 * +t[10] + +(t[11] || 0)), "-" === t[9] && (h = -h)), u = new Date(Date.UTC(n, i, a, s, l, c, d)), h && u.setTime(u.getTime() - h), u;
},
instanceOf: Date,
represent: function(e) {
return e.toISOString();
}
});
}, {
"../type": 13
} ],
"/": [ function(e, t, n) {
"use strict";
var i = e("./lib/js-yaml.js");
t.exports = i;
}, {
"./lib/js-yaml.js": 1
} ]
}, {}, [])("/");
}), function() {
"use strict";
function e(e) {
return angular.isUndefined(e) || null === e;
}
function t() {
try {
return require("moment");
} catch (e) {
throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment");
}
}
function n(n, i) {
if (void 0 === i) {
if ("function" != typeof require) throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");
i = t();
}
return n.module("angularMoment", []).constant("angularMomentConfig", {
preprocess: null,
timezone: null,
format: null,
statefulFilters: !0
}).constant("moment", i).constant("amTimeAgoConfig", {
withoutSuffix: !1,
serverTime: null,
titleFormat: null,
fullDateThreshold: null,
fullDateFormat: null,
fullDateThresholdUnit: "day"
}).directive("amTimeAgo", [ "$window", "moment", "amMoment", "amTimeAgoConfig", function(t, i, r, o) {
return function(a, s, l) {
function c() {
var e;
if (g) e = g; else if (o.serverTime) {
var t = new Date().getTime() - C + o.serverTime;
e = i(t);
} else e = i();
return e;
}
function u() {
m && (t.clearTimeout(m), m = null);
}
function d(e) {
var n = c().diff(e, w), i = b && n >= b;
if (i ? s.text(e.format(_)) : s.text(e.from(c(), v)), y && $ && s.attr("title", e.format(y)), !i) {
var r = Math.abs(c().diff(e, "minute")), o = 3600;
r < 1 ? o = 1 : r < 60 ? o = 30 : r < 180 && (o = 300), m = t.setTimeout(function() {
d(e);
}, 1e3 * o);
}
}
function h(e) {
S && s.attr("datetime", e);
}
function f() {
if (u(), p) {
var e = r.preprocessDate(p);
d(e), h(e.toISOString());
}
}
var p, g, m = null, v = o.withoutSuffix, y = o.titleFormat, b = o.fullDateThreshold, _ = o.fullDateFormat, w = o.fullDateThresholdUnit, C = new Date().getTime(), x = l.amTimeAgo, S = "TIME" === s[0].nodeName.toUpperCase(), $ = !s.attr("title");
a.$watch(x, function(t) {
if (e(t) || "" === t) return u(), void (p && (s.text(""), h(""), p = null));
p = t, f();
}), n.isDefined(l.amFrom) && a.$watch(l.amFrom, function(t) {
g = e(t) || "" === t ? null : i(t), f();
}), n.isDefined(l.amWithoutSuffix) && a.$watch(l.amWithoutSuffix, function(e) {
"boolean" == typeof e ? (v = e, f()) : v = o.withoutSuffix;
}), l.$observe("amFullDateThreshold", function(e) {
b = e, f();
}), l.$observe("amFullDateFormat", function(e) {
_ = e, f();
}), l.$observe("amFullDateThresholdUnit", function(e) {
w = e, f();
}), a.$on("$destroy", function() {
u();
}), a.$on("amMoment:localeChanged", function() {
f();
});
};
} ]).service("amMoment", [ "moment", "$rootScope", "$log", "angularMomentConfig", function(e, t, i, r) {
var o = null;
this.changeLocale = function(i, r) {
var o = e.locale(i, r);
return n.isDefined(i) && t.$broadcast("amMoment:localeChanged"), o;
}, this.changeTimezone = function(n) {
e.tz && e.tz.setDefault ? (e.tz.setDefault(n), t.$broadcast("amMoment:timezoneChanged")) : i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."), r.timezone = n, o = n;
}, this.preprocessDate = function(t) {
return o !== r.timezone && this.changeTimezone(r.timezone), r.preprocess ? r.preprocess(t) : e(!isNaN(parseFloat(t)) && isFinite(t) ? parseInt(t, 10) : t);
};
} ]).filter("amParse", [ "moment", function(e) {
return function(t, n) {
return e(t, n);
};
} ]).filter("amFromUnix", [ "moment", function(e) {
return function(t) {
return e.unix(t);
};
} ]).filter("amUtc", [ "moment", function(e) {
return function(t) {
return e.utc(t);
};
} ]).filter("amUtcOffset", [ "amMoment", function(e) {
return function(t, n) {
return e.preprocessDate(t).utcOffset(n);
};
} ]).filter("amLocal", [ "moment", function(e) {
return function(t) {
return e.isMoment(t) ? t.local() : null;
};
} ]).filter("amTimezone", [ "amMoment", "angularMomentConfig", "$log", function(e, t, n) {
return function(t, i) {
var r = e.preprocessDate(t);
return i ? r.tz ? r.tz(i) : (n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"), r) : r;
};
} ]).filter("amCalendar", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(t, i, r) {
if (e(t)) return "";
var o = n.preprocessDate(t);
return o.isValid() ? o.calendar(i, r) : "";
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amDifference", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(i, r, o, a) {
if (e(i)) return "";
var s = n.preprocessDate(i), l = e(r) ? t() : n.preprocessDate(r);
return s.isValid() && l.isValid() ? s.diff(l, o, a) : "";
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amDateFormat", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(t, i) {
if (e(t)) return "";
var r = n.preprocessDate(t);
return r.isValid() ? r.format(i) : "";
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amDurationFormat", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i, r) {
return e(n) ? "" : t.duration(n, i).humanize(r);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amTimeAgo", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(i, r, o) {
var a, s;
return e(i) ? "" : (i = n.preprocessDate(i), (a = t(i)).isValid() ? (s = t(o), !e(o) && s.isValid() ? a.from(s, r) : a.fromNow(r)) : "");
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amSubtract", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i, r) {
return e(n) ? "" : t(n).subtract(parseInt(i, 10), r);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amAdd", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i, r) {
return e(n) ? "" : t(n).add(parseInt(i, 10), r);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amStartOf", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i) {
return e(n) ? "" : t(n).startOf(i);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amEndOf", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i) {
return e(n) ? "" : t(n).endOf(i);
}
return i.$stateful = n.statefulFilters, i;
} ]), "angularMoment";
}
"function" == typeof define && define.amd ? define([ "angular", "moment" ], n) : "undefined" != typeof module && module && module.exports && "function" == typeof require ? module.exports = n(require("angular"), require("moment")) : n(angular, ("undefined" != typeof global ? global : window).moment);
}(), angular.module("ab-base64", []).constant("base64", function() {
var e = {
alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
lookup: null,
ie: /MSIE /.test(navigator.userAgent),
ieo: /MSIE [67]/.test(navigator.userAgent),
encode: function(t) {
var n, i, r, o, a = e.toUtf8(t), s = -1, l = a.length, c = [ , , ,  ];
if (e.ie) {
for (n = []; ++s < l; ) i = a[s], r = a[++s], c[0] = i >> 2, c[1] = (3 & i) << 4 | r >> 4, isNaN(r) ? c[2] = c[3] = 64 : (o = a[++s], c[2] = (15 & r) << 2 | o >> 6, c[3] = isNaN(o) ? 64 : 63 & o), n.push(e.alphabet.charAt(c[0]), e.alphabet.charAt(c[1]), e.alphabet.charAt(c[2]), e.alphabet.charAt(c[3]));
return n.join("");
}
for (n = ""; ++s < l; ) i = a[s], r = a[++s], c[0] = i >> 2, c[1] = (3 & i) << 4 | r >> 4, isNaN(r) ? c[2] = c[3] = 64 : (o = a[++s], c[2] = (15 & r) << 2 | o >> 6, c[3] = isNaN(o) ? 64 : 63 & o), n += e.alphabet[c[0]] + e.alphabet[c[1]] + e.alphabet[c[2]] + e.alphabet[c[3]];
return n;
},
decode: function(t) {
if ((t = t.replace(/\s/g, "")).length % 4) throw new Error("InvalidLengthError: decode failed: The string to be decoded is not the correct length for a base64 encoded string.");
if (/[^A-Za-z0-9+\/=\s]/g.test(t)) throw new Error("InvalidCharacterError: decode failed: The string contains characters invalid in a base64 encoded string.");
var n, i = e.fromUtf8(t), r = 0, o = i.length;
if (e.ieo) {
for (n = []; r < o; ) i[r] < 128 ? n.push(String.fromCharCode(i[r++])) : i[r] > 191 && i[r] < 224 ? n.push(String.fromCharCode((31 & i[r++]) << 6 | 63 & i[r++])) : n.push(String.fromCharCode((15 & i[r++]) << 12 | (63 & i[r++]) << 6 | 63 & i[r++]));
return n.join("");
}
for (n = ""; r < o; ) i[r] < 128 ? n += String.fromCharCode(i[r++]) : i[r] > 191 && i[r] < 224 ? n += String.fromCharCode((31 & i[r++]) << 6 | 63 & i[r++]) : n += String.fromCharCode((15 & i[r++]) << 12 | (63 & i[r++]) << 6 | 63 & i[r++]);
return n;
},
toUtf8: function(e) {
var t, n = -1, i = e.length, r = [];
if (/^[\x00-\x7f]*$/.test(e)) for (;++n < i; ) r.push(e.charCodeAt(n)); else for (;++n < i; ) (t = e.charCodeAt(n)) < 128 ? r.push(t) : t < 2048 ? r.push(t >> 6 | 192, 63 & t | 128) : r.push(t >> 12 | 224, t >> 6 & 63 | 128, 63 & t | 128);
return r;
},
fromUtf8: function(t) {
var n, i = -1, r = [], o = [ , , ,  ];
if (!e.lookup) {
for (n = e.alphabet.length, e.lookup = {}; ++i < n; ) e.lookup[e.alphabet.charAt(i)] = i;
i = -1;
}
for (n = t.length; ++i < n && (o[0] = e.lookup[t.charAt(i)], o[1] = e.lookup[t.charAt(++i)], r.push(o[0] << 2 | o[1] >> 4), o[2] = e.lookup[t.charAt(++i)], 64 !== o[2]) && (r.push((15 & o[1]) << 4 | o[2] >> 2), o[3] = e.lookup[t.charAt(++i)], 64 !== o[3]); ) r.push((3 & o[2]) << 6 | o[3]);
return r;
}
}, t = {
decode: function(t) {
var n = (t = t.replace(/-/g, "+").replace(/_/g, "/")).length % 4;
if (n) {
if (1 === n) throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");
t += new Array(5 - n).join("=");
}
return e.decode(t);
},
encode: function(t) {
return e.encode(t).replace(/\+/g, "-").replace(/\//g, "_").split("=", 1)[0];
}
};
return {
decode: e.decode,
encode: e.encode,
urldecode: t.decode,
urlencode: t.encode
};
}());

var saveAs = saveAs || function(e) {
"use strict";
if (!(void 0 === e || "undefined" != typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent))) {
var t = function() {
return e.URL || e.webkitURL || e;
}, n = e.document.createElementNS("http://www.w3.org/1999/xhtml", "a"), i = "download" in n, r = function(e) {
var t = new MouseEvent("click");
e.dispatchEvent(t);
}, o = /constructor/i.test(e.HTMLElement) || e.safari, a = /CriOS\/[\d]+/.test(navigator.userAgent), s = function(t) {
(e.setImmediate || e.setTimeout)(function() {
throw t;
}, 0);
}, l = function(e) {
setTimeout(function() {
"string" == typeof e ? t().revokeObjectURL(e) : e.remove();
}, 4e4);
}, c = function(e, t, n) {
for (var i = (t = [].concat(t)).length; i--; ) {
var r = e["on" + t[i]];
if ("function" == typeof r) try {
r.call(e, n || e);
} catch (e) {
s(e);
}
}
}, u = function(e) {
return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type) ? new Blob([ String.fromCharCode(65279), e ], {
type: e.type
}) : e;
}, d = function(s, d, h) {
h || (s = u(s));
var f, p = this, g = "application/octet-stream" === s.type, m = function() {
c(p, "writestart progress write writeend".split(" "));
};
if (p.readyState = p.INIT, i) return f = t().createObjectURL(s), void setTimeout(function() {
n.href = f, n.download = d, r(n), m(), l(f), p.readyState = p.DONE;
});
!function() {
if ((a || g && o) && e.FileReader) {
var n = new FileReader();
return n.onloadend = function() {
var t = a ? n.result : n.result.replace(/^data:[^;]*;/, "data:attachment/file;");
e.open(t, "_blank") || (e.location.href = t), t = void 0, p.readyState = p.DONE, m();
}, n.readAsDataURL(s), void (p.readyState = p.INIT);
}
f || (f = t().createObjectURL(s)), g ? e.location.href = f : e.open(f, "_blank") || (e.location.href = f), p.readyState = p.DONE, m(), l(f);
}();
}, h = d.prototype;
return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function(e, t, n) {
return t = t || e.name || "download", n || (e = u(e)), navigator.msSaveOrOpenBlob(e, t);
} : (h.abort = function() {}, h.readyState = h.INIT = 0, h.WRITING = 1, h.DONE = 2, h.error = h.onwritestart = h.onprogress = h.onwrite = h.onabort = h.onerror = h.onwriteend = null, function(e, t, n) {
return new d(e, t || e.name || "download", n);
});
}
}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);

"undefined" != typeof module && module.exports ? module.exports.saveAs = saveAs : "undefined" != typeof define && null !== define && null !== define.amd && define("FileSaver.js", function() {
return saveAs;
}), function(e, t) {
"use strict";
if ("function" == typeof define && define.amd) define([], t); else if ("object" == typeof exports) module.exports = t(); else {
if (e.hopscotch) return;
e.hopscotch = t();
}
}(this, function() {
var e, t, n, i, r, o, a, s, l, c, u, d, h, f = "bubble_default", p = window.Sizzle || null, g = !1, m = "undefined" != typeof jQuery, v = !1, y = !1, b = window.document, _ = /^[a-zA-Z]+[a-zA-Z0-9_-]*$/, w = {
left: "right",
right: "left"
};
try {
void 0 !== window.sessionStorage && (v = !0, sessionStorage.setItem("hopscotch.test.storage", "ok"), sessionStorage.removeItem("hopscotch.test.storage"), y = !0);
} catch (e) {}
return d = {
smoothScroll: !0,
scrollDuration: 1e3,
scrollTopMargin: 200,
showCloseButton: !0,
showPrevButton: !1,
showNextButton: !0,
bubbleWidth: 280,
bubblePadding: 15,
arrowWidth: 20,
skipIfNoElement: !0,
isRtl: !1,
cookieName: "hopscotch.tour.state"
}, Array.isArray || (Array.isArray = function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}), u = function() {
g && h.startTour();
}, (s = {
addClass: function(e, t) {
var n, i, r, o;
if (e.className) {
for (i = t.split(/\s+/), n = " " + e.className + " ", r = 0, o = i.length; r < o; ++r) n.indexOf(" " + i[r] + " ") < 0 && (n += i[r] + " ");
e.className = n.replace(/^\s+|\s+$/g, "");
} else e.className = t;
},
removeClass: function(e, t) {
var n, i, r, o;
for (i = t.split(/\s+/), n = " " + e.className + " ", r = 0, o = i.length; r < o; ++r) n = n.replace(" " + i[r] + " ", " ");
e.className = n.replace(/^\s+|\s+$/g, "");
},
hasClass: function(e, t) {
return !!e.className && -1 !== (" " + e.className + " ").indexOf(" " + t + " ");
},
getPixelValue: function(e) {
var t = typeof e;
return "number" === t ? e : "string" === t ? parseInt(e, 10) : 0;
},
valOrDefault: function(e, t) {
return void 0 !== e ? e : t;
},
invokeCallbackArrayHelper: function(e) {
var t;
if (Array.isArray(e) && "function" == typeof (t = c[e[0]])) return t.apply(this, e.slice(1));
},
invokeCallbackArray: function(e) {
var t, n;
if (Array.isArray(e)) {
if ("string" == typeof e[0]) return s.invokeCallbackArrayHelper(e);
for (t = 0, n = e.length; t < n; ++t) s.invokeCallback(e[t]);
}
},
invokeCallback: function(e) {
return "function" == typeof e ? e() : "string" == typeof e && c[e] ? c[e]() : s.invokeCallbackArray(e);
},
invokeEventCallbacks: function(e, t) {
var n, i, r = l[e];
if (t) return this.invokeCallback(t);
for (n = 0, i = r.length; n < i; ++n) this.invokeCallback(r[n].cb);
},
getScrollTop: function() {
return void 0 !== window.pageYOffset ? window.pageYOffset : b.documentElement.scrollTop;
},
getScrollLeft: function() {
return void 0 !== window.pageXOffset ? window.pageXOffset : b.documentElement.scrollLeft;
},
getWindowHeight: function() {
return window.innerHeight || b.documentElement.clientHeight;
},
addEvtListener: function(e, t, n) {
if (e) return e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n);
},
removeEvtListener: function(e, t, n) {
if (e) return e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent("on" + t, n);
},
documentIsReady: function() {
return "complete" === b.readyState;
},
evtPreventDefault: function(e) {
e.preventDefault ? e.preventDefault() : event && (event.returnValue = !1);
},
extend: function(e, t) {
var n;
for (n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
},
getStepTargetHelper: function(e) {
var t = b.getElementById(e);
if (t) return t;
if (m) return (t = jQuery(e)).length ? t[0] : null;
if (p) return (t = new p(e)).length ? t[0] : null;
if (b.querySelector) try {
return b.querySelector(e);
} catch (e) {}
return /^#[a-zA-Z][\w-_:.]*$/.test(e) ? b.getElementById(e.substring(1)) : null;
},
getStepTarget: function(e) {
var t;
if (!e || !e.target) return null;
if ("string" == typeof e.target) return s.getStepTargetHelper(e.target);
if (Array.isArray(e.target)) {
var n, i;
for (n = 0, i = e.target.length; n < i; n++) if ("string" == typeof e.target[n] && (t = s.getStepTargetHelper(e.target[n]))) return t;
return null;
}
return e.target;
},
getI18NString: function(e) {
return r[e] || i[e];
},
setState: function(e, t, n) {
var i, r = "";
if (v && y) try {
sessionStorage.setItem(e, t);
} catch (i) {
y = !1, this.setState(e, t, n);
} else v && sessionStorage.removeItem(e), n && ((i = new Date()).setTime(i.getTime() + 24 * n * 60 * 60 * 1e3), r = "; expires=" + i.toGMTString()), b.cookie = e + "=" + t + r + "; path=/";
},
getState: function(e) {
var t, n, i, r = e + "=", o = b.cookie.split(";");
if (v && (i = sessionStorage.getItem(e))) return i;
for (t = 0; t < o.length; t++) {
for (n = o[t]; " " === n.charAt(0); ) n = n.substring(1, n.length);
if (0 === n.indexOf(r)) {
i = n.substring(r.length, n.length);
break;
}
}
return i;
},
clearState: function(e) {
v ? sessionStorage.removeItem(e) : this.setState(e, "", -1);
},
normalizePlacement: function(e) {
!e.placement && e.orientation && (e.placement = e.orientation);
},
flipPlacement: function(e) {
if (e.isRtl && !e._isFlipped) {
var t, n, i = [ "orientation", "placement" ];
e.xOffset && (e.xOffset = -1 * this.getPixelValue(e.xOffset));
for (n in i) t = i[n], e.hasOwnProperty(t) && w.hasOwnProperty(e[t]) && (e[t] = w[e[t]]);
e._isFlipped = !0;
}
}
}).addEvtListener(window, "load", u), l = {
next: [],
prev: [],
start: [],
end: [],
show: [],
error: [],
close: []
}, c = {}, i = {
stepNums: null,
nextBtn: "Next",
prevBtn: "Back",
doneBtn: "Done",
skipBtn: "Skip",
closeTooltip: "Close"
}, r = {}, t = function(e) {
this.init(e);
}, t.prototype = {
isShowing: !1,
currStep: void 0,
setPosition: function(e) {
var t, n, i, r, o, a, l, c = s.getStepTarget(e), u = this.element, d = this.arrowEl, h = e.isRtl ? "right" : "left";
if (s.flipPlacement(e), s.normalizePlacement(e), n = u.offsetWidth, t = u.offsetHeight, s.removeClass(u, "fade-in-down fade-in-up fade-in-left fade-in-right"), i = c.getBoundingClientRect(), l = e.isRtl ? i.right - n : i.left, "top" === e.placement) r = i.top - t - this.opt.arrowWidth, o = l; else if ("bottom" === e.placement) r = i.bottom + this.opt.arrowWidth, o = l; else if ("left" === e.placement) r = i.top, o = i.left - n - this.opt.arrowWidth; else {
if ("right" !== e.placement) throw new Error("Bubble placement failed because step.placement is invalid or undefined!");
r = i.top, o = i.right + this.opt.arrowWidth;
}
(a = "center" !== e.arrowOffset ? s.getPixelValue(e.arrowOffset) : e.arrowOffset) ? "top" === e.placement || "bottom" === e.placement ? (d.style.top = "", d.style[h] = "center" === a ? Math.floor(n / 2 - d.offsetWidth / 2) + "px" : a + "px") : "left" !== e.placement && "right" !== e.placement || (d.style[h] = "", d.style.top = "center" === a ? Math.floor(t / 2 - d.offsetHeight / 2) + "px" : a + "px") : (d.style.top = "", d.style[h] = ""), "center" === e.xOffset ? o = i.left + c.offsetWidth / 2 - n / 2 : o += s.getPixelValue(e.xOffset), "center" === e.yOffset ? r = i.top + c.offsetHeight / 2 - t / 2 : r += s.getPixelValue(e.yOffset), e.fixedElement || (r += s.getScrollTop(), o += s.getScrollLeft()), u.style.position = e.fixedElement ? "fixed" : "absolute", u.style.top = r + "px", u.style.left = o + "px";
},
render: function(e, t, n) {
var i, r, a, l, c, u, d, p, g, m, v = this.element;
if (e ? this.currStep = e : this.currStep && (e = this.currStep), this.opt.isTourBubble ? (l = h.getCurrTour()) && (r = l.customData, i = l.customRenderer, e.isRtl = e.hasOwnProperty("isRtl") ? e.isRtl : l.hasOwnProperty("isRtl") ? l.isRtl : this.opt.isRtl, a = l.unsafe, Array.isArray(l.steps) && (c = l.steps.length, u = this._getStepI18nNum(this._getStepNum(c - 1)), p = this._getStepNum(t) === this._getStepNum(c - 1))) : (r = e.customData, i = e.customRenderer, a = e.unsafe, e.isRtl = e.hasOwnProperty("isRtl") ? e.isRtl : this.opt.isRtl), d = p ? s.getI18NString("doneBtn") : e.showSkip ? s.getI18NString("skipBtn") : s.getI18NString("nextBtn"), s.flipPlacement(e), s.normalizePlacement(e), this.placement = e.placement, m = {
i18n: {
prevBtn: s.getI18NString("prevBtn"),
nextBtn: d,
closeTooltip: s.getI18NString("closeTooltip"),
stepNum: this._getStepI18nNum(this._getStepNum(t)),
numSteps: u
},
buttons: {
showPrev: s.valOrDefault(e.showPrevButton, this.opt.showPrevButton) && this._getStepNum(t) > 0,
showNext: s.valOrDefault(e.showNextButton, this.opt.showNextButton),
showCTA: s.valOrDefault(e.showCTAButton && e.ctaLabel, !1),
ctaLabel: e.ctaLabel,
showClose: s.valOrDefault(this.opt.showCloseButton, !0)
},
step: {
num: t,
isLast: s.valOrDefault(p, !1),
title: e.title || "",
content: e.content || "",
isRtl: e.isRtl,
placement: e.placement,
padding: s.valOrDefault(e.padding, this.opt.bubblePadding),
width: s.getPixelValue(e.width) || this.opt.bubbleWidth,
customData: e.customData || {}
},
tour: {
isTour: this.opt.isTourBubble,
numSteps: c,
unsafe: s.valOrDefault(a, !1),
customData: r || {}
}
}, "function" == typeof i) v.innerHTML = i(m); else if ("string" == typeof i) {
if (!h.templates || "function" != typeof h.templates[i]) throw new Error('Bubble rendering failed - template "' + i + '" is not a function.');
v.innerHTML = h.templates[i](m);
} else if (o) v.innerHTML = o(m); else {
if (!h.templates || "function" != typeof h.templates[f]) throw new Error('Bubble rendering failed - template "' + f + '" is not a function.');
v.innerHTML = h.templates[f](m);
}
for (children = v.children, numChildren = children.length, g = 0; g < numChildren; g++) node = children[g], s.hasClass(node, "hopscotch-arrow") && (this.arrowEl = node);
return v.style.zIndex = "number" == typeof e.zindex ? e.zindex : "", this._setArrow(e.placement), this.hide(!1), this.setPosition(e), n && n(!e.fixedElement), this;
},
_getStepNum: function(e) {
var t, n = 0, i = h.getSkippedStepsIndexes(), r = i.length;
for (t = 0; t < r; t++) i[t] < e && n++;
return e - n;
},
_getStepI18nNum: function(e) {
var t = s.getI18NString("stepNums");
return t && e < t.length ? e = t[e] : e += 1, e;
},
_setArrow: function(e) {
s.removeClass(this.arrowEl, "down up right left"), "top" === e ? s.addClass(this.arrowEl, "down") : "bottom" === e ? s.addClass(this.arrowEl, "up") : "left" === e ? s.addClass(this.arrowEl, "right") : "right" === e && s.addClass(this.arrowEl, "left");
},
_getArrowDirection: function() {
return "top" === this.placement ? "down" : "bottom" === this.placement ? "up" : "left" === this.placement ? "right" : "right" === this.placement ? "left" : void 0;
},
show: function() {
var e = this, t = "fade-in-" + this._getArrowDirection();
return s.removeClass(this.element, "hide"), s.addClass(this.element, t), setTimeout(function() {
s.removeClass(e.element, "invisible");
}, 50), setTimeout(function() {
s.removeClass(e.element, t);
}, 1e3), this.isShowing = !0, this;
},
hide: function(e) {
var t = this.element;
return e = s.valOrDefault(e, !0), t.style.top = "", t.style.left = "", e ? (s.addClass(t, "hide"), s.removeClass(t, "invisible")) : (s.removeClass(t, "hide"), s.addClass(t, "invisible")), s.removeClass(t, "animate fade-in-up fade-in-down fade-in-right fade-in-left"), this.isShowing = !1, this;
},
destroy: function() {
var e = this.element;
e && e.parentNode.removeChild(e), s.removeEvtListener(e, "click", this.clickCb);
},
_handleBubbleClick: function(e) {
function t(n) {
return n === e.currentTarget ? null : s.hasClass(n, "hopscotch-cta") ? "cta" : s.hasClass(n, "hopscotch-next") ? "next" : s.hasClass(n, "hopscotch-prev") ? "prev" : s.hasClass(n, "hopscotch-close") ? "close" : t(n.parentElement);
}
var n;
if ("cta" === (n = t((e = e || window.event).target || e.srcElement))) this.opt.isTourBubble || h.getCalloutManager().removeCallout(this.currStep.id), this.currStep.onCTA && s.invokeCallback(this.currStep.onCTA); else if ("next" === n) h.nextStep(!0); else if ("prev" === n) h.prevStep(!0); else if ("close" === n) {
if (this.opt.isTourBubble) {
var i = h.getCurrStepNum() === h.getCurrTour().steps.length - 1;
s.invokeEventCallbacks("close"), h.endTour(!0, i);
} else this.opt.onClose && s.invokeCallback(this.opt.onClose), this.opt.id && !this.opt.isTourBubble ? h.getCalloutManager().removeCallout(this.opt.id) : this.destroy();
s.evtPreventDefault(e);
}
},
init: function(e) {
var t, n, i, r, o = b.createElement("div"), a = this, l = !1;
this.element = o, r = {
showPrevButton: d.showPrevButton,
showNextButton: d.showNextButton,
bubbleWidth: d.bubbleWidth,
bubblePadding: d.bubblePadding,
arrowWidth: d.arrowWidth,
isRtl: d.isRtl,
showNumber: !0,
isTourBubble: !0
}, e = void 0 === e ? {} : e, s.extend(r, e), this.opt = r, o.className = "hopscotch-bubble animated", r.isTourBubble ? (i = h.getCurrTour()) && s.addClass(o, "tour-" + i.id) : s.addClass(o, "hopscotch-callout no-number"), t = function() {
!l && a.isShowing && (l = !0, setTimeout(function() {
a.setPosition(a.currStep), l = !1;
}, 100));
}, s.addEvtListener(window, "resize", t), this.clickCb = function(e) {
a._handleBubbleClick(e);
}, s.addEvtListener(o, "click", this.clickCb), this.hide(), s.documentIsReady() ? b.body.appendChild(o) : (b.addEventListener ? (n = function() {
b.removeEventListener("DOMContentLoaded", n), window.removeEventListener("load", n), b.body.appendChild(o);
}, b.addEventListener("DOMContentLoaded", n, !1)) : (n = function() {
"complete" === b.readyState && (b.detachEvent("onreadystatechange", n), window.detachEvent("onload", n), b.body.appendChild(o));
}, b.attachEvent("onreadystatechange", n)), s.addEvtListener(window, "load", n));
}
}, n = function() {
var e = {}, n = {};
this.createCallout = function(i) {
var r;
if (!i.id) throw new Error("Must specify a callout id.");
if (!_.test(i.id)) throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");
if (e[i.id]) throw new Error("Callout by that id already exists. Please choose a unique id.");
if (!s.getStepTarget(i)) throw new Error("Must specify existing target element via 'target' option.");
return i.showNextButton = i.showPrevButton = !1, i.isTourBubble = !1, r = new t(i), e[i.id] = r, n[i.id] = i, r.render(i, null, function() {
r.show(), i.onShow && s.invokeCallback(i.onShow);
}), r;
}, this.getCallout = function(t) {
return e[t];
}, this.removeAllCallouts = function() {
var t;
for (t in e) e.hasOwnProperty(t) && this.removeCallout(t);
}, this.removeCallout = function(t) {
var i = e[t];
e[t] = null, n[t] = null, i && i.destroy();
}, this.refreshCalloutPositions = function() {
var t, i, r;
for (t in e) e.hasOwnProperty(t) && n.hasOwnProperty(t) && (i = e[t], r = n[t], i && r && i.setPosition(r));
};
}, e = function(e) {
var i, u, p, v, y, w, C, x, S = this, $ = {}, A = [], k = function(e) {
return i && i.element && i.element.parentNode || (i = new t(p)), e && s.extend(i.opt, {
bubblePadding: D("bubblePadding"),
bubbleWidth: D("bubbleWidth"),
showNextButton: D("showNextButton"),
showPrevButton: D("showPrevButton"),
showCloseButton: D("showCloseButton"),
arrowWidth: D("arrowWidth"),
isRtl: D("isRtl")
}), i;
}, T = function() {
i && (i.destroy(), i = null);
}, D = function(e) {
return void 0 === p ? d[e] : s.valOrDefault(p[e], d[e]);
}, E = function() {
return !v || y < 0 || y >= v.steps.length ? null : v.steps[y];
}, F = function() {
S.nextStep();
}, M = function(e) {
var t, n, i, r, o, a, l = k().element, c = s.getPixelValue(l.style.top), u = c + s.getPixelValue(l.offsetHeight), d = s.getStepTarget(E()).getBoundingClientRect(), h = d.top + s.getScrollTop(), f = d.bottom + s.getScrollTop(), p = c < h ? c : h, g = u > f ? u : f, v = s.getScrollTop(), y = v + s.getWindowHeight(), _ = p - D("scrollTopMargin");
p >= v && (p <= v + D("scrollTopMargin") || g <= y) ? e && e() : D("smoothScroll") ? "undefined" != typeof YAHOO && void 0 !== YAHOO.env && void 0 !== YAHOO.env.ua && void 0 !== YAHOO.util && void 0 !== YAHOO.util.Scroll ? (t = YAHOO.env.ua.webkit ? b.body : b.documentElement, i = YAHOO.util.Easing ? YAHOO.util.Easing.easeOut : void 0, (n = new YAHOO.util.Scroll(t, {
scroll: {
to: [ 0, _ ]
}
}, D("scrollDuration") / 1e3, i)).onComplete.subscribe(e), n.animate()) : m ? jQuery("body, html").animate({
scrollTop: _
}, D("scrollDuration"), e) : (_ < 0 && (_ = 0), r = v > p ? -1 : 1, o = Math.abs(v - _) / (D("scrollDuration") / 10), (a = function() {
var t = s.getScrollTop(), n = t + r * o;
if (r > 0 && n >= _ || r < 0 && n <= _) return n = _, e && e(), void window.scrollTo(0, n);
window.scrollTo(0, n), s.getScrollTop() !== t ? setTimeout(a, 10) : e && e();
})()) : (window.scrollTo(0, _), e && e());
}, I = function(e, t) {
var n, i, r;
y + e >= 0 && y + e < v.steps.length ? (y += e, r = function() {
(n = s.getStepTarget(i)) ? ($[y] && delete $[y], t(y)) : ($[y] = !0, s.invokeEventCallbacks("error"), I(e, t));
}, (i = E()).delay ? setTimeout(r, i.delay) : r()) : t(-1);
}, P = function(e, t) {
var n, i, r, o, a = this;
if (k().hide(), e = s.valOrDefault(e, !0), (n = E()).nextOnTargetClick && s.removeEvtListener(s.getStepTarget(n), "click", F), i = n, r = t > 0 ? i.multipage : y > 0 && v.steps[y - 1].multipage, o = function(n) {
var o;
if (-1 === n) return this.endTour(!0);
e && (o = t > 0 ? s.invokeEventCallbacks("next", i.onNext) : s.invokeEventCallbacks("prev", i.onPrev)), n === y && (r ? N() : (o = s.valOrDefault(o, !0)) ? this.showStep(n) : this.endTour(!1));
}, !r && D("skipIfNoElement")) I(t, function(e) {
o.call(a, e);
}); else if (y + t >= 0 && y + t < v.steps.length) {
if (y += t, n = E(), !s.getStepTarget(n) && !r) return s.invokeEventCallbacks("error"), this.endTour(!0, !1);
o.call(this, y);
} else if (y + t === v.steps.length) return this.endTour();
return this;
}, L = function(e) {
var t, n, i, r = {};
for (t in e) e.hasOwnProperty(t) && "id" !== t && "steps" !== t && (r[t] = e[t]);
return x.call(this, r, !0), (n = s.getState(D("cookieName"))) && (i = n.split(":"), w = i[0], C = i[1], i.length > 2 && (A = i[2].split(",")), C = parseInt(C, 10)), this;
}, O = function(e, t, n) {
var i, r;
if (y = e || 0, $ = t || {}, i = E(), r = s.getStepTarget(i)) n(y); else if (!r) {
if (s.invokeEventCallbacks("error"), $[y] = !0, D("skipIfNoElement")) return void I(1, n);
n(y = -1);
}
}, R = function(e) {
function t() {
i.show(), s.invokeEventCallbacks("show", n.onShow);
}
var n = v.steps[e], i = k(), r = s.getStepTarget(n);
y !== e && E().nextOnTargetClick && s.removeEvtListener(s.getStepTarget(E()), "click", F), y = e, i.hide(!1), i.render(n, e, function(e) {
e ? M(t) : t(), n.nextOnTargetClick && s.addEvtListener(r, "click", F);
}), N();
}, N = function() {
var e = v.id + ":" + y, t = h.getSkippedStepsIndexes();
t && t.length > 0 && (e += ":" + t.join(",")), s.setState(D("cookieName"), e, 1);
};
this.getCalloutManager = function() {
return void 0 === u && (u = new n()), u;
}, this.startTour = function(e, t) {
var n, i, r = {}, o = this;
if (!v) {
if (!e) throw new Error("Tour data is required for startTour.");
if (!e.id || !_.test(e.id)) throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");
v = e, L.call(this, e);
}
if (void 0 !== t) {
if (t >= v.steps.length) throw new Error("Specified step number out of bounds.");
i = t;
}
if (!s.documentIsReady()) return g = !0, this;
if (void 0 === i && v.id === w && void 0 !== C) {
if (i = C, A.length > 0) for (var a = 0, l = A.length; a < l; a++) r[A[a]] = !0;
} else i || (i = 0);
return O(i, r, function(e) {
-1 !== e && s.getStepTarget(v.steps[e]) ? (s.invokeEventCallbacks("start"), (n = k()).hide(!1), o.isActive = !0, s.getStepTarget(E()) ? o.showStep(e) : (s.invokeEventCallbacks("error"), D("skipIfNoElement") && o.nextStep(!1))) : o.endTour(!1, !1);
}), this;
}, this.showStep = function(e) {
var t = v.steps[e], n = y;
return s.getStepTarget(t) ? (t.delay ? setTimeout(function() {
R(e);
}, t.delay) : R(e), this) : (y = e, s.invokeEventCallbacks("error"), void (y = n));
}, this.prevStep = function(e) {
return P.call(this, e, -1), this;
}, this.nextStep = function(e) {
return P.call(this, e, 1), this;
}, this.endTour = function(e, t) {
var n, i = k();
return e = s.valOrDefault(e, !0), t = s.valOrDefault(t, !0), v && (n = E()) && n.nextOnTargetClick && s.removeEvtListener(s.getStepTarget(n), "click", F), y = 0, C = void 0, i.hide(), e && s.clearState(D("cookieName")), this.isActive && (this.isActive = !1, v && t && s.invokeEventCallbacks("end")), this.removeCallbacks(null, !0), this.resetDefaultOptions(), T(), v = null, this;
}, this.getCurrTour = function() {
return v;
}, this.getCurrTarget = function() {
return s.getStepTarget(E());
}, this.getCurrStepNum = function() {
return y;
}, this.getSkippedStepsIndexes = function() {
var e, t = [];
for (e in $) t.push(e);
return t;
}, this.refreshBubblePosition = function() {
var e = E();
return e && k().setPosition(e), this.getCalloutManager().refreshCalloutPositions(), this;
}, this.listen = function(e, t, n) {
return e && l[e].push({
cb: t,
fromTour: n
}), this;
}, this.unlisten = function(e, t) {
var n, i, r = l[e];
for (n = 0, i = r.length; n < i; ++n) r[n].cb === t && r.splice(n, 1);
return this;
}, this.removeCallbacks = function(e, t) {
var n, i, r, o;
for (o in l) if (!e || e === o) if (t) for (i = 0, r = (n = l[o]).length; i < r; ++i) n[i].fromTour && (n.splice(i--, 1), --r); else l[o] = [];
return this;
}, this.registerHelper = function(e, t) {
"string" == typeof e && "function" == typeof t && (c[e] = t);
}, this.unregisterHelper = function(e) {
c[e] = null;
}, this.invokeHelper = function(e) {
var t, n, i = [];
for (t = 1, n = arguments.length; t < n; ++t) i.push(arguments[t]);
c[e] && c[e].call(null, i);
}, this.setCookieName = function(e) {
return p.cookieName = e, this;
}, this.resetDefaultOptions = function() {
return p = {}, this;
}, this.resetDefaultI18N = function() {
return r = {}, this;
}, this.getState = function() {
return s.getState(D("cookieName"));
}, x = function(e, t) {
var n, i, o, a = [ "next", "prev", "start", "end", "show", "error", "close" ];
for (p || this.resetDefaultOptions(), s.extend(p, e), e && s.extend(r, e.i18n), i = 0, o = a.length; i < o; ++i) e[n = "on" + a[i].charAt(0).toUpperCase() + a[i].substring(1)] && this.listen(a[i], e[n], t);
return k(!0), this;
}, this.configure = function(e) {
return x.call(this, e, !1);
}, this.setRenderer = function(e) {
var t = typeof e;
return "string" === t ? (f = e, o = void 0) : "function" === t && (o = e), this;
}, this.setEscaper = function(e) {
return "function" == typeof e && (a = e), this;
}, function(e) {
e && this.configure(e);
}.call(this, e);
}, h = new e(), function() {
var e = {};
e.escape = function(e) {
return a ? a(e) : null == e ? "" : ("" + e).replace(new RegExp("[&<>\"']", "g"), function(e) {
return "&" == e ? "&amp;" : "<" == e ? "&lt;" : ">" == e ? "&gt;" : '"' == e ? "&quot;" : "'" == e ? "&#x27;" : void 0;
});
}, this.templates = this.templates || {}, this.templates.bubble_default = function(t) {
function n(t, n) {
return n ? e.escape(t) : t;
}
var i, r = "";
e.escape, Array.prototype.join;
r += "\n";
var o = t.i18n, a = t.buttons, s = t.step, l = t.tour;
return r += '\n<div class="hopscotch-bubble-container" style="width: ' + (null == (i = s.width) ? "" : i) + "px; padding: " + (null == (i = s.padding) ? "" : i) + 'px;">\n  ', l.isTour && (r += '<span class="hopscotch-bubble-number">' + (null == (i = o.stepNum) ? "" : i) + "</span>"), r += '\n  <div class="hopscotch-bubble-content">\n    ', "" !== s.title && (r += '<h3 class="hopscotch-title">' + (null == (i = n(s.title, l.unsafe)) ? "" : i) + "</h3>"), r += "\n    ", "" !== s.content && (r += '<div class="hopscotch-content">' + (null == (i = n(s.content, l.unsafe)) ? "" : i) + "</div>"), r += '\n  </div>\n  <div class="hopscotch-actions">\n    ', a.showPrev && (r += '<button class="hopscotch-nav-button prev hopscotch-prev">' + (null == (i = o.prevBtn) ? "" : i) + "</button>"), r += "\n    ", a.showCTA && (r += '<button class="hopscotch-nav-button next hopscotch-cta">' + (null == (i = a.ctaLabel) ? "" : i) + "</button>"), r += "\n    ", a.showNext && (r += '<button class="hopscotch-nav-button next hopscotch-next">' + (null == (i = o.nextBtn) ? "" : i) + "</button>"), 
r += "\n  </div>\n  ", a.showClose && (r += '<button class="hopscotch-bubble-close hopscotch-close">' + (null == (i = o.closeTooltip) ? "" : i) + "</button>"), r += '\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>\n';
};
}.call(h), h;
}), function(e) {
"use strict";
var t = {};
t.VERSION = "0.9.14";
var n, i = {}, r = function(e, t) {
return function() {
return t.apply(e, arguments);
};
}, o = function() {
var e, t, n = arguments, i = n[0];
for (t = 1; t < n.length; t++) for (e in n[t]) e in i || !n[t].hasOwnProperty(e) || (i[e] = n[t][e]);
return i;
}, a = function(e, t) {
return {
value: e,
name: t
};
};
t.DEBUG = a(1, "DEBUG"), t.INFO = a(2, "INFO"), t.WARN = a(4, "WARN"), t.ERROR = a(8, "ERROR"), t.OFF = a(99, "OFF");
var s = function(e) {
this.context = e, this.setLevel(e.filterLevel), this.log = this.info;
};
s.prototype = {
setLevel: function(e) {
e && "value" in e && (this.context.filterLevel = e);
},
enabledFor: function(e) {
var t = this.context.filterLevel;
return e.value >= t.value;
},
debug: function() {
this.invoke(t.DEBUG, arguments);
},
info: function() {
this.invoke(t.INFO, arguments);
},
warn: function() {
this.invoke(t.WARN, arguments);
},
error: function() {
this.invoke(t.ERROR, arguments);
},
invoke: function(e, t) {
n && this.enabledFor(e) && n(t, o({
level: e
}, this.context));
}
};
var l = new s({
filterLevel: t.OFF
});
!function() {
var e = t;
e.enabledFor = r(l, l.enabledFor), e.debug = r(l, l.debug), e.info = r(l, l.info), e.warn = r(l, l.warn), e.error = r(l, l.error), e.log = e.info;
}(), t.setHandler = function(e) {
n = e;
}, t.setLevel = function(e) {
l.setLevel(e);
for (var t in i) i.hasOwnProperty(t) && i[t].setLevel(e);
}, t.get = function(e) {
return i[e] || (i[e] = new s(o({
name: e
}, l.context)));
}, t.useDefaults = function(e) {
"undefined" != typeof console && (t.setLevel(e || t.DEBUG), t.setHandler(function(e, n) {
var i = console.log;
n.name && (e[0] = "[" + n.name + "] " + e[0]), n.level === t.WARN && console.warn ? i = console.warn : n.level === t.ERROR && console.error ? i = console.error : n.level === t.INFO && console.info && (i = console.info), Function.prototype.apply.call(i, console, e);
}));
}, "function" == typeof define && define.amd ? define(t) : "undefined" != typeof module && module.exports ? module.exports = t : (t._prevLogger = e.Logger, t.noConflict = function() {
return e.Logger = t._prevLogger, t;
}, e.Logger = t);
}(this), function(e, t) {
"function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : e.compareVersions = t();
}(this, function() {
function e(e, t) {
return -1 === e.indexOf(t) ? e.length : e.indexOf(t);
}
function t(t) {
var n = t.replace(/^v/, "").replace(/\+.*$/, ""), i = e(n, "-"), r = n.substring(0, i).split(".");
return r.push(n.substring(i + 1)), r;
}
function n(e) {
return isNaN(Number(e)) ? e : Number(e);
}
function i(e) {
if ("string" != typeof e) throw new TypeError("Invalid argument expected string");
if (!a.test(e)) throw new Error("Invalid argument not valid semver ('" + e + "' received)");
}
function r(e, r) {
[ e, r ].forEach(i);
for (var o = t(e), a = t(r), s = 0; s < Math.max(o.length - 1, a.length - 1); s++) {
var l = parseInt(o[s] || 0, 10), c = parseInt(a[s] || 0, 10);
if (l > c) return 1;
if (c > l) return -1;
}
var u = o[o.length - 1], d = a[a.length - 1];
if (u && d) {
var h = u.split(".").map(n), f = d.split(".").map(n);
for (s = 0; s < Math.max(h.length, f.length); s++) {
if (void 0 === h[s] || "string" == typeof f[s] && "number" == typeof h[s]) return -1;
if (void 0 === f[s] || "string" == typeof h[s] && "number" == typeof f[s]) return 1;
if (h[s] > f[s]) return 1;
if (f[s] > h[s]) return -1;
}
} else if (u || d) return u ? -1 : 1;
return 0;
}
function o(e) {
if ("string" != typeof e) throw new TypeError("Invalid operator type, expected string but got " + typeof e);
if (-1 === s.indexOf(e)) throw new TypeError("Invalid operator, expected one of " + s.join("|"));
}
var a = /^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i, s = [ ">", ">=", "=", "<", "<=" ], l = {
">": [ 1 ],
">=": [ 0, 1 ],
"=": [ 0 ],
"<=": [ -1, 0 ],
"<": [ -1 ]
};
return r.compare = function(e, t, n) {
o(n);
var i = r(e, t);
return l[n].indexOf(i) > -1;
}, r;
}), function() {
"use strict";
if (Logger.setLevel(Logger.INFO), window.LogBuffer = 100, "localStorage" in window) {
"logLevel" in window.localStorage || (window.localStorage.logLevel = JSON.stringify(Logger.INFO));
var e = Logger.DEBUG;
try {
e = JSON.parse(window.localStorage.logLevel);
} catch (e) {
console.error("Failed to parse log level setting: ", e);
}
if (Logger.setLevel(e), "logBuffer" in window.localStorage) {
var t = window.localStorage.logBuffer;
window.LogBuffer = parseInt(t, 10);
} else window.localStorage.logBuffer = window.LogBuffer;
}
}();

var pluginLoader = function(e) {
"use strict";
function t(e, t) {
angular.isArray(t) || (t = [ t ]);
var n = [];
return t.forEach(function(t) {
e.forEach(function(e) {
t === e && n.push(e);
});
}), n;
}
var n = Logger, i = document.documentElement;
return e.log = n, e.modules = [], e.tasks = [], e.setBootstrapElement = function(e) {
n.debug("Setting bootstrap element to: ", e), i = e;
}, e.getBootstrapElement = function() {
return i;
}, e.registerPreBootstrapTask = function(t, i) {
angular.isFunction(t) && (n.debug("Adding legacy task"), t = {
task: t
}), t.name || (t.name = "unnamed-task-" + (e.tasks.length + 1)), t.depends && !angular.isArray(t.depends) && "*" !== t.depends && (t.depends = [ t.depends ]), i ? e.tasks.unshift(t) : e.tasks.push(t);
}, e.addModule = function(t) {
n.debug("Adding module: " + t), e.modules.push(t);
}, e.getModules = function() {
return e.modules;
}, e.loaderCallback = null, e.setLoaderCallback = function(t) {
e.loaderCallback = t;
}, e.loadPlugins = function(i) {
var r = e.loaderCallback, o = {}, a = function() {
var n = [], r = [], o = {
name: "Bootstrap",
depends: "*",
runs: 0,
task: function(t) {
function i() {
r.forEach(function(t) {
e.log.info("  name: " + t.name + " depends: ", t.depends);
});
}
r.length > 0 && (e.log.info("tasks yet to run: "), i(), o.runs = o.runs + 1, e.log.info("Task list restarted : ", o.runs, " times"), 5 === o.runs ? (e.log.info("Orphaned tasks: "), i(), r.length = 0) : r.push(o)), e.log.debug("Executed tasks: ", n), t();
}
};
e.registerPreBootstrapTask(o);
var a = function() {
var o = null, s = [];
for (0 === e.tasks.length && (o = r.shift()); !o && r.length > 0; ) {
var l = r.shift();
"*" === l.depends ? e.tasks.length > 0 ? s.push(l) : o = l : (c = t(n, l.depends)).length === l.depends.length ? o = l : s.push(l);
}
if (s.length > 0 && s.forEach(function(e) {
r.push(e);
}), o || (o = e.tasks.shift()), o && o.depends && e.tasks.length > 0) if (e.log.debug("Task '" + o.name + "' has dependencies: ", o.depends), "*" === o.depends) {
if (e.tasks.length > 0) return e.log.debug("Task '" + o.name + "' wants to run after all other tasks, deferring"), r.push(o), void a();
} else {
var c = t(n, o.depends);
if (c.length != o.depends.length) return e.log.debug("Deferring task: '" + o.name + "'"), r.push(o), void a();
}
if (o) {
e.log.debug("Executing task: '" + o.name + "'");
var u = function() {
u.notFired && (u.notFired = !1, n.push(o.name), setTimeout(a, 1));
};
u.notFired = !0, o.task(u);
} else e.log.debug("All tasks executed"), setTimeout(i, 1);
};
setTimeout(a, 1);
};
!function() {
var e = 0;
$.each(o, function(t, n) {
e += n.Scripts.length;
});
var t = e, i = function() {
$.ajaxSetup({
async: !0
}), e -= 1, r && r.scriptLoaderCallback(r, t, e + 1), 0 === e && a();
};
e > 0 ? $.each(o, function(e, t) {
t.Scripts.forEach(function(e) {
var r = t.Context + "/" + e;
n.debug("Fetching script: ", r), $.ajaxSetup({
async: !1
}), $.getScript(r).done(function(e) {
n.debug("Loaded script: ", r);
}).fail(function(e, t, i) {
n.info('Failed loading script: "', i.message, '" (<a href="', r, ":", i.lineNumber, '">', r, ":", i.lineNumber, "</a>)");
}).always(i);
});
}) : ($.ajaxSetup({
async: !0
}), a());
}();
}, e.debug = function() {
n.debug("modules"), n.debug(e.modules);
}, e.setLoaderCallback({
scriptLoaderCallback: function(e, t, i) {
n.debug("Total scripts: ", t, " Remaining: ", i);
}
}), e;
}(pluginLoader || {}, window), BootstrapPlugin = function() {
"use strict";
function e() {}
Object.defineProperty(e.prototype, "injector", {
get: function() {
return t._injector;
},
enumerable: !0,
configurable: !0
});
var t = new e();
t.pluginName = "bootstrap-plugin";
var n = Logger.get(t.pluginName), i = angular.module(t.pluginName, []);
return i.config([ "$locationProvider", function(e) {
e.html5Mode(!0);
} ]), i.run([ "documentBase", function(e) {
n.debug("loaded");
} ]), t.documentBase = function() {
var e = $("head").find("base"), t = "/";
return e && e.length > 0 ? t = e.attr("href") : n.warn("Document is missing a 'base' tag, defaulting to '/'"), t;
}, i.factory("documentBase", function() {
return t.documentBase();
}), pluginLoader.addModule("ng"), pluginLoader.addModule("ngSanitize"), pluginLoader.addModule(t.pluginName), $(function() {
if (jQuery.uaMatch = function(e) {
e = e.toLowerCase();
var t = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [];
return {
browser: t[1] || "",
version: t[2] || "0"
};
}, !jQuery.browser) {
var e = jQuery.uaMatch(navigator.userAgent), i = {};
e.browser && (i[e.browser] = !0, i.version = e.version), i.chrome ? i.webkit = !0 : i.webkit && (i.safari = !0), jQuery.browser = i;
}
pluginLoader.loadPlugins(function() {
if (t.injector) n.debug("Application already bootstrapped"); else {
var e = pluginLoader.getBootstrapElement();
n.debug("Using bootstrap element: ", e), t._injector = angular.bootstrap(e, pluginLoader.getModules(), {
strictDi: !1
}), n.debug("Bootstrapped application");
}
});
}), t;
}();

window.hawtioPluginLoader = pluginLoader, angular.module("openshiftCommonServices", [ "ab-base64" ]).config([ "AuthServiceProvider", function(e) {
e.UserStore("MemoryUserStore");
} ]).constant("API_CFG", _.get(window.OPENSHIFT_CONFIG, "api", {})).constant("APIS_CFG", _.get(window.OPENSHIFT_CONFIG, "apis", {})).constant("AUTH_CFG", _.get(window.OPENSHIFT_CONFIG, "auth", {})).config([ "$httpProvider", "AuthServiceProvider", "RedirectLoginServiceProvider", "AUTH_CFG", function(e, t, n, i) {
e.interceptors.push("AuthInterceptor"), t.LoginService("RedirectLoginService"), t.LogoutService("DeleteTokenLogoutService"), t.UserStore("LocalStorageUserStore"), n.OAuthClientID(i.oauth_client_id), n.OAuthAuthorizeURI(i.oauth_authorize_uri), n.OAuthTokenURI(i.oauth_token_uri), n.OAuthRedirectURI(URI(i.oauth_redirect_base).segment("oauth").toString());
} ]), pluginLoader.addModule("openshiftCommonServices"), pluginLoader.registerPreBootstrapTask(function(e) {
if (_.get(window, "OPENSHIFT_CONFIG.api.k8s.resources")) e(); else {
var t = {
k8s: {},
openshift: {}
}, n = {}, i = [], r = window.location.protocol + "//", o = r + window.OPENSHIFT_CONFIG.api.k8s.hostPort + window.OPENSHIFT_CONFIG.api.k8s.prefix, a = $.get(o + "/v1").done(function(e) {
t.k8s.v1 = _.keyBy(e.resources, "name");
}).fail(function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n,
fatal: !0
});
}), s = r + window.OPENSHIFT_CONFIG.api.openshift.hostPort + window.OPENSHIFT_CONFIG.api.openshift.prefix, l = $.get(s + "/v1").done(function(e) {
t.openshift.v1 = _.keyBy(e.resources, "name");
}).fail(function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n,
fatal: !0
});
}), c = r + window.OPENSHIFT_CONFIG.apis.hostPort + window.OPENSHIFT_CONFIG.apis.prefix, u = [ a, l, $.get(c).then(_.partial(function(e, t, r) {
var o = [];
return _.each(r.groups, function(r) {
var a = {
name: r.name,
preferredVersion: r.preferredVersion.version,
versions: {},
hostPrefix: t
};
n[a.name] = a, _.each(r.versions, function(t) {
var n = t.version;
a.versions[n] = {
version: n,
groupVersion: t.groupVersion
}, o.push($.get(e + "/" + t.groupVersion).done(function(e) {
a.versions[n].resources = _.keyBy(e.resources, "name");
}).fail(function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n
});
}));
});
}), $.when.apply(this, o);
}, c, null), function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n,
fatal: !0
});
}) ];
$.when.apply(this, u).always(function() {
window.OPENSHIFT_CONFIG.api.k8s.resources = t.k8s, window.OPENSHIFT_CONFIG.api.openshift.resources = t.openshift, window.OPENSHIFT_CONFIG.apis.groups = n, i.length && (window.OPENSHIFT_CONFIG.apis.API_DISCOVERY_ERRORS = i), e();
});
}
}), angular.module("openshiftCommonUI", []).constant("BREAKPOINTS", {
screenXsMin: 480,
screenSmMin: 768,
screenMdMin: 992,
screenLgMin: 1200,
screenXlgMin: 1600
}).constant("DNS1123_SUBDOMAIN_VALIDATION", {
pattern: /^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,
maxlength: 253,
description: "Name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or a number."
}).constant("IS_IOS", /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream), pluginLoader.addModule("openshiftCommonUI"), angular.module("openshiftCommonUI").run([ "$templateCache", function(e) {
"use strict";
e.put("src/components/binding/bindApplicationForm.html", '<div class="bind-form">\n  <form>\n    <div class="form-group">\n      <label>\n        <h3>Create a binding for application <strong>{{ctrl.applicationName}}</strong></h3>\n      </label>\n      <span class="help-block">\n        Bindings create a secret containing the necessary information for an application to use a service.\n      </span>\n    </div>\n  </form>\n\n  <label ng-if="!ctrl.allowNoBinding">\n    Select a service:\n  </label>\n  <form name="ctrl.formName">\n    <fieldset>\n      <div class="radio">\n        <div ng-if="ctrl.allowNoBinding" class="bind-service-selection">\n          <label>\n            <input type="radio" ng-model="ctrl.serviceToBind" ng-value="null">\n            Do not bind at this time.\n          </label>\n          <div class="bind-description">\n          <span class="help-block service-instance-name">\n            Bindings can be created later from within a project.\n          </span>\n          </div>\n        </div>\n        <div ng-repeat="serviceInstance in ctrl.bindableServiceInstances" class="bind-service-selection">\n          <label>\n            <input type="radio" ng-model="ctrl.serviceToBind" ng-value="serviceInstance">\n            {{ctrl.serviceClasses[serviceInstance.spec.clusterServiceClassRef.name].spec.externalMetadata.displayName || serviceInstance.spec.clusterServiceClassRef.name}}\n          </label>\n          <div class="bind-description">\n            <span class="pficon pficon-info"\n                  ng-if="!(serviceInstance | isServiceInstanceReady)"\n                  data-content="This service is not yet ready. If you bind to it, then the binding will be pending until the service is ready."\n                  data-toggle="popover"\n                  data-trigger="hover">\n            </span>\n            <span class="help-block service-instance-name">\n              {{serviceInstance.metadata.name}}\n            </span>\n          </div>\n        </div>\n        <h4 ng-if="!ctrl.bindableServiceInstances.length">\n          <span class="pficon pficon-info" aria-hidden="true"></span>\n          <span class="help-block service-instance-name">\n            There are no bindable services in this project\n          </span>\n        </h4>\n      </div>\n    </fieldset>\n  </form>\n</div>\n'), 
e.put("src/components/binding/bindResults.html", '<div ng-if="!ctrl.error && !(ctrl.binding | isBindingFailed)">\n  <div ng-if="ctrl.binding && !(ctrl.binding | isBindingReady)" class="results-status">\n    <span class="fa fa-clock-o text-muted" aria-hidden="true"></span>\n    <span class="sr-only">Pending</span>\n    <div class="results-message">\n      <h3>\n        The binding is being created.\n      </h3>\n      <p class="results-message-details">This may take several minutes.</p>\n    </div>\n  </div>\n  <div ng-if="(ctrl.binding | isBindingReady)">\n    <div class="results-status">\n      <span class="pficon pficon-ok" aria-hidden="true"></span>\n      <span class="sr-only">Success</span>\n      <div class="results-message">\n        <h3>\n          <span ng-if="ctrl.bindType === \'application\'">\n            <strong>{{ctrl.serviceToBind}}</strong> has been bound to\n            <strong>{{ctrl.applicationToBind}}</strong> successfully.\n          </span>\n          <span ng-if="ctrl.bindType !== \'application\'">\n            The binding <strong>{{ctrl.binding.metadata.name}}</strong> has been created successfully.\n          </span>\n        </h3>\n        <p class="results-message-details">\n          The binding operation created the secret\n          <a ng-if="ctrl.secretHref" ng-href="{{ctrl.secretHref}}">{{ctrl.binding.spec.secretName}}</a>\n          <span ng-if="!ctrl.secretHref">{{ctrl.binding.spec.secretName}}</span>\n          that you may need to reference in your application.\n          <span ng-if="ctrl.showPodPresets">Its data will be available to your application as environment variables.</span>\n        </p>\n      </div>\n    </div>\n    <div class="alert alert-info results-info" ng-if="ctrl.bindType === \'application\'">\n      <span class="pficon pficon-info" aria-hidden="true"></span>\n      <span class="sr-only">Info</span>\n      The binding secret will only be available to new pods. You will need to redeploy your application.\n    </div>\n  </div>\n</div>\n<div ng-if="ctrl.error || (ctrl.binding | isBindingFailed)">\n  <div class="results-status">\n    <span class="pficon pficon-error-circle-o text-danger" aria-hidden="true"></span>\n    <span class="sr-only">Error</span>\n    <div class="results-message">\n      <h3>\n        The binding could not be created.\n      </h3>\n    </div>\n  </div>\n  <div ng-if="ctrl.error" class="sub-title">\n    <span ng-if="ctrl.error.data.message">\n      {{ctrl.error.data.message | upperFirst}}\n    </span>\n    <span ng-if="!ctrl.error.data.message">\n      An error occurred creating the binding.\n    </span>\n  </div>\n  <div ng-if="!ctrl.error" class="sub-title">\n    {{ctrl.binding | bindingFailedMessage}}\n  </div>\n</div>\n'), 
e.put("src/components/binding/bindServiceForm.html", '<div class="bind-form">\n  <form>\n    <div class="form-group">\n      <label>\n        <h3>Create a binding for <strong>{{ctrl.serviceClass.spec.externalMetadata.displayName || ctrl.serviceClass.spec.externalName}}</strong></h3>\n      </label>\n      <span class="help-block">Bindings create a secret containing the necessary information for an application to use this service.</span>\n    </div>\n  </form>\n\n  <form ng-if="ctrl.allowNoBinding || ctrl.showPodPresets" name="ctrl.formName" class="mar-bottom-lg">\n    <fieldset>\n      <div class="radio">\n        <label ng-if="ctrl.showPodPresets" class="bind-choice" ng-disabled="!ctrl.applications.length">\n          <input type="radio" ng-model="ctrl.bindType" value="application" ng-disabled="!ctrl.applications.length">\n          Create a secret and inject it into an application\n        </label>\n        <div ng-if="ctrl.showPodPresets" class="application-select">\n          <ui-select ng-model="ctrl.appToBind"\n                     ng-disabled="ctrl.bindType !== \'application\'"\n                     ng-required="ctrl.bindType === \'application\'">\n            <ui-select-match placeholder="{{ctrl.applications.length ? \'Select an application\' : \'There are no applications in this project\'}}">\n              <span>\n                {{$select.selected.metadata.name}}\n                <small class="text-muted">&ndash; {{$select.selected.kind | humanizeKind : true}}</small>\n              </span>\n            </ui-select-match>\n            <ui-select-choices\n              repeat="application in (ctrl.applications) | filter : { metadata: { name: $select.search } } track by (application | uid)"\n              group-by="ctrl.groupByKind">\n              <span ng-bind-html="application.metadata.name | highlight : $select.search"></span>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n        <label class="bind-choice">\n          <input type="radio" ng-model="ctrl.bindType" value="secret-only">\n          Create a secret in <strong>{{ctrl.projectName}}</strong> to be used later\n        </label>\n        <div class="help-block bind-description">\n          Secrets can be referenced later from an application.\n        </div>\n        <label ng-if="ctrl.allowNoBinding" class="bind-choice">\n          <input type="radio" ng-model="ctrl.bindType" value="none">\n          Do not bind at this time\n        </label>\n        <div ng-if="ctrl.allowNoBinding" class="help-block bind-description">\n          Bindings can be created later from within a project.\n        </div>\n      </div>\n    </fieldset>\n  </form>\n</div>\n'), 
e.put("src/components/create-project/createProject.html", '<form name="createProjectForm" novalidate>\n  <fieldset ng-disabled="disableInputs">\n    <div class="form-group">\n      <label for="name" class="required">Name</label>\n      <span ng-class="{\'has-error\': (createProjectForm.name.$error.pattern && createProjectForm.name.$touched) || nameTaken}">\n        <input class="form-control"\n            name="name"\n            id="name"\n            placeholder="my-project"\n            type="text"\n            required\n            take-focus\n            minlength="2"\n            maxlength="63"\n            pattern="[a-z0-9]([-a-z0-9]*[a-z0-9])?"\n            aria-describedby="nameHelp"\n            ng-model="name"\n            ng-model-options="{ updateOn: \'default blur\' }"\n            ng-change="nameTaken = false"\n            autocorrect="off"\n            autocapitalize="off"\n            spellcheck="false">\n      </span>\n      <div>\n        <span class="help-block">A unique name for the project.</span>\n      </div>\n      <div class="has-error">\n        <span id="nameHelp" class="help-block" ng-if="createProjectForm.name.$error.required && createProjectForm.name.$dirty">\n          Name is required.\n        </span>\n      </div>\n      <div class="has-error">\n        <span id="nameHelp" class="help-block" ng-if="createProjectForm.name.$error.minlength && createProjectForm.name.$touched">\n          Name must have at least two characters.\n        </span>\n      </div>\n      <div class="has-error">\n        <span id="nameHelp" class="help-block" ng-if="createProjectForm.name.$error.pattern && createProjectForm.name.$touched">\n          Project names may only contain lower-case letters, numbers, and dashes.\n          They may not start or end with a dash.\n        </span>\n      </div>\n      <div class="has-error">\n        <span class="help-block" ng-if="nameTaken">\n          This name is already in use. Please choose a different name.\n        </span>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="displayName">Display Name</label>\n      <input class="form-control"\n          name="displayName"\n          id="displayName"\n          placeholder="My Project"\n          type="text"\n          ng-model="displayName">\n    </div>\n\n    <div class="form-group">\n      <label for="description">Description</label>\n      <textarea class="form-control"\n          name="description"\n          id="description"\n          placeholder="A short description."\n          ng-model="description"></textarea>\n    </div>\n\n    <div class="button-group">\n      <button type="submit"\n          class="btn btn-primary"\n          ng-class="{\'dialog-btn\': isDialog}"\n          ng-click="createProject()"\n          ng-disabled="createProjectForm.$invalid || nameTaken || disableInputs"\n          value="">\n        Create\n      </button>\n      <button\n          class="btn btn-default"\n          ng-class="{\'dialog-btn\': isDialog}"\n          ng-click="cancelCreateProject()">\n        Cancel\n      </button>\n    </div>\n  </fieldset>\n</form>\n'), 
e.put("src/components/delete-project/delete-project-button.html", '<div class="actions">\n  \x3c!-- Avoid whitespace inside the link --\x3e\n  <a href=""\n     ng-click="$event.stopPropagation(); openDeleteModal()"\n     role="button"\n     class="action-button"\n     ng-attr-aria-disabled="{{disableDelete ? \'true\' : undefined}}"\n     ng-class="{ \'disabled-link\': disableDelete }"\n    ><i class="fa fa-trash-o" aria-hidden="true"\n    ></i><span class="sr-only">Delete Project {{projectName}}</span></a>\n</div>\n'), e.put("src/components/delete-project/delete-project-modal.html", '<div class="delete-resource-modal">\n  \x3c!-- Use a form so that the enter key submits when typing a project name to confirm. --\x3e\n  <form>\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true" aria-label="Close" ng-click="cancel()">\n        <span class="pficon pficon-close"></span>\n      </button>\n      <h1 class="modal-title">Are you sure you want to delete the project \'<strong>{{project | displayName}}</strong>\'?</h1>\n    </div>\n    <div class="modal-body">\n      <p>\n        This will <strong>delete all resources</strong> associated with\n        the project {{project | displayName}} and <strong>cannot be\n        undone</strong>.  Make sure this is something you really want to do!\n      </p>\n      <div ng-show="typeNameToConfirm">\n        <p>Type <strong>{{project.metadata.name}}</strong> to confirm deletion.</p>\n        <p>\n          <label class="sr-only" for="resource-to-delete">project to delete</label>\n          <input\n              ng-model="confirmName"\n              id="resource-to-delete"\n              type="text"\n              class="form-control input-lg"\n              autocorrect="off"\n              autocapitalize="off"\n              spellcheck="false"\n              autofocus>\n        </p>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-default" type="button" ng-click="cancel()">Cancel</button>\n      <button ng-disabled="typeNameToConfirm && confirmName !== project.metadata.name && confirmName !== (project | displayName : false)" class="btn btn-danger" type="submit" ng-click="delete()">Delete</button>\n    </div>\n  </form>\n</div>\n'), 
e.put("src/components/delete-project/delete-project.html", '<a href="javascript:void(0)"\n   ng-click="openDeleteModal()"\n   role="button"\n   ng-attr-aria-disabled="{{disableDelete ? \'true\' : undefined}}"\n   ng-class="{ \'disabled-link\': disableDelete }"\n>{{label || \'Delete\'}}</a>\n'), e.put("src/components/edit-project/editProject.html", '<form name="editProjectForm">\n  <fieldset ng-disabled="disableInputs">\n    <div class="form-group">\n      <label for="displayName">Display Name</label>\n      <input class="form-control"\n             name="displayName"\n             id="displayName"\n             placeholder="My Project"\n             type="text"\n             ng-model="editableFields.displayName">\n    </div>\n\n    <div class="form-group">\n      <label for="description">Description</label>\n                    <textarea class="form-control"\n                              name="description"\n                              id="description"\n                              placeholder="A short description."\n                              ng-model="editableFields.description"></textarea>\n    </div>\n\n    <div class="button-group">\n      <button type="submit"\n              class="btn btn-primary"\n              ng-class="{\'dialog-btn\': isDialog}"\n              ng-click="update()"\n              ng-disabled="editProjectForm.$invalid || disableInputs"\n              value="">{{submitButtonLabel}}</button>\n      <button\n          class="btn btn-default"\n          ng-class="{\'dialog-btn\': isDialog}"\n          ng-click="cancelEditProject()">\n        Cancel\n      </button>\n    </div>\n  </fieldset>\n</form>\n'), 
e.put("src/components/origin-modal-popup/origin-modal-popup.html", '<div class="origin-modal-popup tile-click-prevent" ng-if="$ctrl.shown" ng-style="$ctrl.positionStyle"\n     ng-class="{\'position-above\': $ctrl.showAbove, \'position-left\': $ctrl.showLeft}">\n  <h4 class="origin-modal-popup-title">\n    {{$ctrl.modalTitle}}\n  </h4>\n  <div ng-transclude></div>\n  <a href="" class="origin-modal-popup-close" ng-click="$ctrl.onClose()">\n    <span class="pficon pficon-close"></span>\n  </a>\n</div>\n'), e.put("src/components/toast-notifications/toast-notifications.html", '<div class="toast-notifications-list-pf">\n  <div\n    ng-repeat="(notificationID, notification) in notifications track by notification.trackByID"\n    ng-if="!notification.hidden || notification.isHover"\n       ng-mouseenter="setHover(notification, true)" ng-mouseleave="setHover(notification, false)">\n    <div class="toast-pf alert {{notification.type | alertStatus}}" ng-class="{\'alert-dismissable\': !hideCloseButton}">\n      <button ng-if="!hideCloseButton" type="button" class="close" ng-click="close(notification)">\n        <span class="pficon pficon-close" aria-hidden="true"></span>\n        <span class="sr-only">Close</span>\n      </button>\n      <span class="{{notification.type | alertIcon}}" aria-hidden="true"></span>\n      <span class="sr-only">{{notification.type}}</span>\n      <span class="toast-notification-message" ng-if="notification.message">{{notification.message}}</span>\n      <div ng-if="notification.details" class="toast-notification-details">\n        <truncate-long-text\n          limit="200"\n          content="notification.details"\n          use-word-boundary="true"\n          expandable="true"\n          hide-collapse="true">\n        </truncate-long-text>\n      </div>\n      <span ng-repeat="link in notification.links">\n        <a ng-if="!link.href" href="" ng-click="onClick(notification, link)" role="button">{{link.label}}</a>\n        <a ng-if="link.href" ng-href="{{link.href}}" ng-attr-target="{{link.target}}">{{link.label}}</a>\n        <span ng-if="!$last" class="toast-action-divider">|</span>\n      </span>\n    </div>\n  </div>\n</div>\n'), 
e.put("src/components/truncate-long-text/truncateLongText.html", '\x3c!--\n  Do not remove class `truncated-content` (here or below) even though it\'s not\n  styled directly in origin-web-common.  `truncated-content` is used by\n  origin-web-console in certain contexts.\n\n  highlightKeywords and linkify are mutually exclusive options\n--\x3e\n<span ng-if="!truncated">\n  <span ng-if="!linkify || (highlightKeywords | size)" ng-bind-html="content | highlightKeywords : keywords" class="truncated-content"></span>\n  <span ng-if="linkify && !(highlightKeywords | size)" ng-bind-html="content | linkify : \'_blank\'" class="truncated-content"></span>\n</span>\n\x3c!-- To avoid truncating in middle of a link, we only optionally apply linkify to expanded content --\x3e\n<span ng-if="truncated">\n  <span ng-if="!toggles.expanded">\n    <span ng-attr-title="{{content}}" class="truncation-block">\n      <span ng-bind-html="truncatedContent | highlightKeywords : keywords" class="truncated-content"></span>&hellip;\n    </span>\n    <a ng-if="expandable" href="" ng-click="toggles.expanded = true" class="truncation-expand-link">See All</a>\n  </span>\n  <span ng-if="toggles.expanded">\n    <span ng-if="!linkify || (highlightKeywords | size)"\n          ng-bind-html="content | highlightKeywords : keywords"\n          class="truncated-content"></span>\n    <span ng-if="linkify && !(highlightKeywords | size)"\n          ng-bind-html="content | linkify : \'_blank\'"\n          class="truncated-content"></span>\n    <a href="" ng-if="!hideCollapse" ng-click="toggles.expanded = false" class="truncation-collapse-link">Collapse</a>\n  </span>\n</span>\n');
} ]), angular.module("openshiftCommonServices").constant("API_DEDUPLICATION", {
groups: [ {
group: "authorization.openshift.io"
} ],
kinds: [ {
group: "extensions",
kind: "DaemonSet"
}, {
group: "extensions",
kind: "HorizontalPodAutoscaler"
}, {
group: "extensions",
kind: "NetworkPolicy"
}, {
group: "extensions",
kind: "ReplicationControllerDummy"
} ]
}), angular.module("openshiftCommonServices").constant("API_PREFERRED_VERSIONS", {
appliedclusterresourcequotas: {
group: "quota.openshift.io",
version: "v1",
resource: "appliedclusterresourcequotas"
},
builds: {
group: "build.openshift.io",
version: "v1",
resource: "builds"
},
"builds/clone": {
group: "build.openshift.io",
version: "v1",
resource: "builds/clone"
},
"builds/log": {
group: "build.openshift.io",
version: "v1",
resource: "builds/log"
},
"buildconfigs/instantiate": {
group: "build.openshift.io",
version: "v1",
resource: "buildconfigs/instantiate"
},
buildconfigs: {
group: "build.openshift.io",
version: "v1",
resource: "buildconfigs"
},
configmaps: {
version: "v1",
resource: "configmaps"
},
clusterroles: {
group: "rbac.authorization.k8s.io",
version: "v1",
resource: "clusterroles"
},
clusterserviceclasses: {
group: "servicecatalog.k8s.io",
version: "v1beta1",
resource: "clusterserviceclasses"
},
clusterserviceplans: {
group: "servicecatalog.k8s.io",
version: "v1beta1",
resource: "clusterserviceplans"
},
daemonsets: {
group: "apps",
version: "v1",
resource: "daemonsets"
},
deployments: {
group: "apps",
version: "v1beta1",
resource: "deployments"
},
deploymentconfigs: {
group: "apps.openshift.io",
version: "v1",
resource: "deploymentconfigs"
},
"deploymentconfigs/instantiate": {
group: "apps.openshift.io",
version: "v1",
resource: "deploymentconfigs/instantiate"
},
"deploymentconfigs/rollback": {
group: "apps.openshift.io",
version: "v1",
resource: "deploymentconfigs/rollback"
},
"deploymentconfigs/log": {
group: "apps.openshift.io",
version: "v1",
resource: "deploymentconfigs/log"
},
endpoints: {
version: "v1",
resource: "endpoints"
},
events: {
version: "v1",
resource: "events"
},
horizontalpodautoscalers: {
group: "autoscaling",
version: "v1",
resource: "horizontalpodautoscalers"
},
imagestreams: {
group: "image.openshift.io",
version: "v1",
resource: "imagestreams"
},
imagestreamtags: {
group: "image.openshift.io",
version: "v1",
resource: "imagestreamtags"
},
imagestreamimages: {
group: "image.openshift.io",
version: "v1",
resource: "imagestreamimages"
},
imagestreamimports: {
group: "image.openshift.io",
version: "v1",
resource: "imagestreamimports"
},
limitranges: {
version: "v1",
resource: "limitranges"
},
oauthaccesstokens: {
group: "oauth.openshift.io",
version: "v1",
resource: "oauthaccesstokens"
},
pods: {
version: "v1",
resource: "pods"
},
"pods/log": {
version: "v1",
resource: "pods/log"
},
processedtemplates: {
group: "template.openshift.io",
version: "v1",
resource: "processedtemplates"
},
projects: {
group: "project.openshift.io",
version: "v1",
resource: "projects"
},
projectrequests: {
group: "project.openshift.io",
version: "v1",
resource: "projectrequests"
},
persistentvolumeclaims: {
version: "v1",
resource: "persistentvolumeclaims"
},
replicasets: {
group: "apps",
version: "v1",
resource: "replicasets"
},
replicationcontrollers: {
version: "v1",
resource: "replicationcontrollers"
},
resourcequotas: {
version: "v1",
resource: "resourcequotas"
},
rolebindings: {
group: "rbac.authorization.k8s.io",
version: "v1",
resource: "rolebindings"
},
roles: {
group: "rbac.authorization.k8s.io",
version: "v1",
resource: "roles"
},
routes: {
group: "route.openshift.io",
version: "v1",
resource: "routes"
},
secrets: {
version: "v1",
resource: "secrets"
},
selfsubjectrulesreviews: {
group: "authorization.openshift.io",
version: "v1",
resource: "selfsubjectrulesreviews"
},
services: {
version: "v1",
resource: "services"
},
serviceaccounts: {
version: "v1",
resource: "serviceaccounts"
},
servicebindings: {
group: "servicecatalog.k8s.io",
version: "v1beta1",
resource: "servicebindings"
},
serviceinstances: {
group: "servicecatalog.k8s.io",
version: "v1beta1",
resource: "serviceinstances"
},
statefulsets: {
group: "apps",
version: "v1beta1",
resource: "statefulsets"
},
storageclasses: {
group: "storage.k8s.io",
version: "v1",
resource: "storageclasses"
},
templates: {
group: "template.openshift.io",
verison: "v1",
resource: "templates"
},
users: {
group: "user.openshift.io",
version: "v1",
resource: "users"
}
}), angular.module("openshiftCommonUI").filter("alertStatus", function() {
return function(e) {
switch ((e = e || "").toLowerCase()) {
case "error":
return "alert-danger";

case "warning":
return "alert-warning";

case "success":
return "alert-success";

case "normal":
return "alert-info";
}
return "alert-info";
};
}).filter("alertIcon", function() {
return function(e) {
switch ((e = e || "").toLowerCase()) {
case "error":
return "pficon pficon-error-circle-o";

case "warning":
return "pficon pficon-warning-triangle-o";

case "success":
return "pficon pficon-ok";

case "normal":
return "pficon pficon-info";
}
return "pficon pficon-info";
};
}), angular.module("openshiftCommonUI").filter("annotationName", function() {
var e = {
buildConfig: [ "openshift.io/build-config.name" ],
deploymentConfig: [ "openshift.io/deployment-config.name" ],
deployment: [ "openshift.io/deployment.name" ],
pod: [ "openshift.io/deployer-pod.name" ],
deployerPod: [ "openshift.io/deployer-pod.name" ],
deployerPodFor: [ "openshift.io/deployer-pod-for.name" ],
deploymentStatus: [ "openshift.io/deployment.phase" ],
deploymentStatusReason: [ "openshift.io/deployment.status-reason" ],
deploymentCancelled: [ "openshift.io/deployment.cancelled" ],
encodedDeploymentConfig: [ "openshift.io/encoded-deployment-config" ],
deploymentVersion: [ "openshift.io/deployment-config.latest-version" ],
displayName: [ "openshift.io/display-name" ],
description: [ "openshift.io/description" ],
buildNumber: [ "openshift.io/build.number" ],
buildPod: [ "openshift.io/build.pod-name" ],
jenkinsBuildURL: [ "openshift.io/jenkins-build-uri" ],
jenkinsLogURL: [ "openshift.io/jenkins-log-url" ],
jenkinsStatus: [ "openshift.io/jenkins-status-json" ],
loggingUIHostname: [ "openshift.io/logging.ui.hostname" ],
loggingDataPrefix: [ "openshift.io/logging.data.prefix" ],
idledAt: [ "idling.alpha.openshift.io/idled-at" ],
idledPreviousScale: [ "idling.alpha.openshift.io/previous-scale" ],
systemOnly: [ "authorization.openshift.io/system-only" ]
};
return function(t) {
return e[t] || null;
};
}).filter("annotation", [ "annotationNameFilter", function(e) {
return function(t, n) {
if (t && t.metadata && t.metadata.annotations) {
if (void 0 !== t.metadata.annotations[n]) return t.metadata.annotations[n];
for (var i = e(n) || [], r = 0; r < i.length; r++) {
var o = i[r];
if (void 0 !== t.metadata.annotations[o]) return t.metadata.annotations[o];
}
return null;
}
return null;
};
} ]).filter("imageStreamTagAnnotation", function() {
return function(e, t, n) {
if (n = n || "latest", e && e.spec && e.spec.tags) for (var i = e.spec.tags, r = 0; r < _.size(i); ++r) {
var o = i[r];
if (n === o.name && o.annotations) return o.annotations[t];
}
return null;
};
}).filter("imageStreamTagTags", [ "imageStreamTagAnnotationFilter", function(e) {
return function(t, n) {
var i = e(t, "tags", n);
return i ? i.split(/\s*,\s*/) : [];
};
} ]).filter("imageStreamTagIconClass", [ "imageStreamTagAnnotationFilter", function(e) {
return function(t, n) {
var i = e(t, "iconClass", n);
return i || "fa fa-cube";
};
} ]), angular.module("openshiftCommonUI").filter("canI", [ "AuthorizationService", function(e) {
return function(t, n, i) {
return e.canI(t, n, i);
};
} ]).filter("canIAddToProject", [ "AuthorizationService", function(e) {
return function(t) {
return e.canIAddToProject(t);
};
} ]), angular.module("openshiftCommonUI").filter("isNewerResource", function() {
return function(e, t) {
var n = _.get(e, "metadata.creationTimestamp");
if (!n) return !1;
var i = _.get(t, "metadata.creationTimestamp");
return !i || n > i;
};
}).filter("mostRecent", [ "isNewerResourceFilter", function(e) {
return function(t) {
var n = null;
return _.each(t, function(t) {
n && !e(t, n) || (n = t);
}), n;
};
} ]).filter("orderObjectsByDate", [ "toArrayFilter", function(e) {
return function(t, n) {
return (t = e(t)).sort(function(e, t) {
if (!(e.metadata && e.metadata.creationTimestamp && t.metadata && t.metadata.creationTimestamp)) throw "orderObjectsByDate expects all objects to have the field metadata.creationTimestamp";
return e.metadata.creationTimestamp < t.metadata.creationTimestamp ? n ? 1 : -1 : e.metadata.creationTimestamp > t.metadata.creationTimestamp ? n ? -1 : 1 : 0;
}), t;
};
} ]), angular.module("openshiftCommonUI").filter("highlightKeywords", [ "KeywordService", function(e) {
return function(t, n, i) {
if (!t) return t;
if (_.isEmpty(n)) return _.escape(t);
_.isString(n) && (n = e.generateKeywords(n));
for (var r, o = _.map(n, function(e) {
return _.isRegExp(e) ? e.source : _.escapeRegExp(e);
}).join("|"), a = "", s = 0, l = i ? "g" : "ig", c = new RegExp(o, l); null !== (r = c.exec(t)); ) s < r.index && (a += _.escape(t.substring(s, r.index))), a += "<mark>" + _.escape(r[0]) + "</mark>", s = c.lastIndex;
return s < t.length && (a += _.escape(t.substring(s))), a;
};
} ]), angular.module("openshiftCommonUI").filter("imageForIconClass", [ "$window", "isAbsoluteURLFilter", function(e, t) {
return function(n) {
if (!n) return "";
var i = _.get(e, [ "OPENSHIFT_CONSTANTS", "LOGOS", n ]);
if (!i) return "";
var r = _.get(e, "OPENSHIFT_CONSTANTS.LOGO_BASE_URL");
return !r || t(i) ? i : (_.endsWith(r, "/") || (r += "/"), r + i);
};
} ]), angular.module("openshiftCommonUI").filter("isAbsoluteURL", function() {
return function(e) {
if (!e || !_.isString(e)) return !1;
var t = new URI(e), n = t.protocol();
return t.is("absolute") && ("http" === n || "https" === n);
};
}), angular.module("openshiftCommonUI").filter("linkify", [ "HTMLService", function(e) {
return function(t, n, i) {
return e.linkify(t, n, i);
};
} ]), angular.module("openshiftCommonUI").filter("normalizeIconClass", function() {
return function(e) {
return _.startsWith(e, "icon-") ? "font-icon " + e : e;
};
}), angular.module("openshiftCommonUI").filter("parseJSON", function() {
return function(e) {
if (!e) return null;
try {
var t = JSON.parse(e);
return "object" == typeof t ? t : null;
} catch (e) {
return null;
}
};
}), angular.module("openshiftCommonUI").filter("preferredVersion", [ "APIService", function(e) {
return e.getPreferredVersion;
} ]), angular.module("openshiftCommonUI").filter("prettifyJSON", [ "parseJSONFilter", function(e) {
return function(t) {
var n = e(t);
return n ? JSON.stringify(n, null, 4) : t;
};
} ]), angular.module("openshiftCommonUI").filter("uid", function() {
return function(e) {
return e && e.metadata && e.metadata.uid ? e.metadata.uid : e;
};
}).filter("labelName", function() {
var e = {
buildConfig: [ "openshift.io/build-config.name" ],
deploymentConfig: [ "openshift.io/deployment-config.name" ]
};
return function(t) {
return e[t];
};
}).filter("description", [ "annotationFilter", function(e) {
return function(t) {
return e(t, "openshift.io/description") || e(t, "kubernetes.io/description") || e(t, "description");
};
} ]).filter("displayName", [ "annotationFilter", function(e) {
return function(t, n) {
var i = e(t, "displayName");
return i || n ? i : t && t.metadata ? t.metadata.name : null;
};
} ]).filter("uniqueDisplayName", [ "displayNameFilter", function(e) {
function t(t) {
var n = {};
return angular.forEach(t, function(t, i) {
var r = e(t);
n[r] = (n[r] || 0) + 1;
}), n;
}
return function(n, i) {
if (!n) return "";
var r = e(n), o = n.metadata.name;
return r !== o && t(i)[r] > 1 ? r + " (" + o + ")" : r;
};
} ]).filter("searchProjects", [ "displayNameFilter", function(e) {
return function(t, n) {
return n ? (n = n.toLowerCase(), _.filter(t, function(t) {
if (_.includes(t.metadata.name, n)) return !0;
var i = e(t, !0);
return !(!i || !_.includes(i.toLowerCase(), n));
})) : t;
};
} ]).filter("label", function() {
return function(e, t) {
return e && e.metadata && e.metadata.labels ? e.metadata.labels[t] : null;
};
}).filter("humanizeKind", [ "startCaseFilter", function(e) {
return function(e, t) {
if (!e) return e;
if ("ServiceInstance" === e) return t ? "Provisioned Service" : "provisioned service";
var n = _.startCase(e);
return t ? n : n.toLowerCase();
};
} ]).filter("statusCondition", function() {
return function(e, t) {
return e ? _.find(_.get(e, "status.conditions"), {
type: t
}) : null;
};
}).filter("isServiceInstanceReady", [ "statusConditionFilter", function(e) {
return function(t) {
return "True" === _.get(e(t, "Ready"), "status");
};
} ]).filter("serviceInstanceReadyMessage", [ "statusConditionFilter", function(e) {
return function(t) {
return _.get(e(t, "Ready"), "message");
};
} ]).filter("isServiceInstanceFailed", [ "statusConditionFilter", function(e) {
return function(t) {
return "True" === _.get(e(t, "Failed"), "status");
};
} ]).filter("serviceInstanceFailedMessage", [ "isServiceInstanceFailedFilter", "statusConditionFilter", function(e, t) {
return function(n) {
if (e(n)) return _.get(t(n, "Failed"), "message");
};
} ]).filter("isBindingReady", [ "isServiceInstanceReadyFilter", function(e) {
return e;
} ]).filter("isBindingFailed", [ "isServiceInstanceFailedFilter", function(e) {
return e;
} ]).filter("bindingFailedMessage", [ "serviceInstanceFailedMessageFilter", function(e) {
return e;
} ]).filter("bindingReadyMessage", [ "serviceInstanceReadyMessageFilter", function(e) {
return e;
} ]).filter("hasDeployment", [ "annotationFilter", function(e) {
return function(t) {
return !!e(t, "deployment.kubernetes.io/revision");
};
} ]).filter("hasDeploymentConfig", [ "annotationFilter", function(e) {
return function(t) {
return !!e(t, "deploymentConfig");
};
} ]).filter("serviceClassDisplayName", function() {
return function(e) {
var t = _.get(e, "spec.externalMetadata.displayName");
return t || _.get(e, "spec.externalName");
};
}).filter("serviceInstanceDisplayName", [ "serviceClassDisplayNameFilter", function(e) {
return function(t, n) {
if (n) return e(n);
var i = _.get(t, "spec.clusterServiceClassExternalName");
return i || _.get(t, "metadata.name");
};
} ]).filter("serviceInstanceStatus", [ "isServiceInstanceReadyFilter", function(e) {
return function(t) {
var n = "Pending", i = _.get(t, "status.conditions");
return _.find(i, {
type: "Failed",
status: "True"
}) ? n = "Failed" : e(t) && (n = "Ready"), n;
};
} ]), angular.module("openshiftCommonUI").filter("camelToLower", function() {
return function(e) {
return e ? _.startCase(e).toLowerCase() : "";
};
}).filter("upperFirst", function() {
return _.upperFirst;
}).filter("sentenceCase", [ "camelToLowerFilter", function(e) {
return function(t) {
var n = e(t);
return _.upperFirst(n);
};
} ]).filter("startCase", function() {
return _.startCase;
}).filter("capitalize", function() {
return _.capitalize;
}).filter("isMultiline", function() {
return function(e, t) {
if (!e) return !1;
var n = e.search(/\r|\n/);
return -1 !== n && (!t || n !== e.length - 1);
};
}), angular.module("openshiftCommonUI").filter("truncate", function() {
return function(e, t, n, i) {
if ("string" != typeof e) return e;
var r = e;
if (t && (r = r.substring(0, t)), i) {
var o = e.split("\n", i).join("\n").length;
r = r.substring(0, o);
}
if (!1 !== n) {
var a = Math.max(4, t - 10), s = r.lastIndexOf(" ");
s >= a && -1 !== s && (r = r.substring(0, s));
}
return r;
};
}), angular.module("openshiftCommonUI").filter("toArray", function() {
return _.toArray;
}).filter("size", function() {
return _.size;
}).filter("hashSize", function() {
return function(e) {
return e ? Object.keys(e).length : 0;
};
}).filter("filterCollection", function() {
return function(e, t) {
return e && t ? _.filter(e, t) : e;
};
}).filter("generateName", function() {
return function(e, t) {
return e || (e = ""), t || (t = 5), e + Math.round(Math.pow(36, t + 1) - Math.random() * Math.pow(36, t)).toString(36).slice(1);
};
}).filter("getErrorDetails", [ "upperFirstFilter", function(e) {
return function(t, n) {
if (!t) return "";
var i = t.data || {};
if (i.message) return n ? e(i.message) : i.message;
var r = t.status || i.status;
return r ? "Status: " + r : "";
};
} ]), angular.module("openshiftCommonServices").service("AlertMessageService", function() {
var e = function(e, t) {
return t ? "hide/alert/" + t + "/" + e : "hide/alert/" + e;
};
return {
isAlertPermanentlyHidden: function(t, n) {
var i = e(t, n);
return "true" === localStorage.getItem(i);
},
permanentlyHideAlert: function(t, n) {
var i = e(t, n);
localStorage.setItem(i, "true");
}
};
}), ResourceGroupVersion.prototype.toString = function() {
var e = this.resource;
return this.group && (e += "/" + this.group), this.version && (e += "/" + this.version), e;
}, ResourceGroupVersion.prototype.primaryResource = function() {
if (!this.resource) return "";
var e = this.resource.indexOf("/");
return -1 === e ? this.resource : this.resource.substring(0, e);
}, ResourceGroupVersion.prototype.subresources = function() {
var e = (this.resource || "").split("/");
return e.shift(), e;
}, ResourceGroupVersion.prototype.equals = function(e, t, n) {
return this.resource === e && (1 === arguments.length || this.group === t && (2 === arguments.length || this.version === n));
}, angular.module("openshiftCommonServices").factory("APIService", [ "API_CFG", "APIS_CFG", "API_PREFERRED_VERSIONS", "API_DEDUPLICATION", "AuthService", "Constants", "Logger", "$q", "$http", "$filter", "$window", function(e, t, n, i, r, o, a, s, l, c, u) {
function d(e) {
if (!e) return e;
var t = e.indexOf("/");
return -1 === t ? e.toLowerCase() : e.substring(0, t).toLowerCase() + e.substring(t);
}
function h(e, t) {
if (!e) return "";
var n = e;
return t && (n = c("humanizeKind")(n)), "endpoints" === (n = String(n).toLowerCase()) || "securitycontextconstraints" === n || ("s" === n[n.length - 1] ? n += "es" : "y" === n[n.length - 1] ? n = n.substring(0, n.length - 1) + "ies" : n += "s"), n;
}
var f = {
"": "v1",
extensions: "v1beta1"
}, p = function(e) {
if (e instanceof ResourceGroupVersion) return e;
var n, i, r;
return angular.isString(e) ? (n = d(e), r = f[i = ""]) : e && e.resource && (n = d(e.resource), i = e.group || "", r = e.version || f[i] || _.get(t, [ "groups", i, "preferredVersion" ])), new ResourceGroupVersion(n, i, r);
}, g = function(e) {
if (e) {
var t = e.split("/");
return 1 === t.length ? "v1" === t[0] ? {
group: "",
version: t[0]
} : {
group: t[0],
version: ""
} : 2 === t.length ? {
group: t[0],
version: t[1]
} : void a.warn('Invalid apiVersion "' + e + '"');
}
}, m = function(e, t) {
return !(!_.find(i.kinds, {
group: e,
kind: t
}) && !_.find(i.groups, {
group: e
}));
}, v = function(n) {
var i = [], r = _.map(o.AVAILABLE_KINDS_BLACKLIST, function(e) {
return _.isString(e) ? {
kind: e,
group: ""
} : e;
});
return _.each(_.pickBy(e, function(e, t) {
return "openshift" !== t;
}), function(e) {
_.each(e.resources.v1, function(e) {
if (e.namespaced || n) {
if (_.includes(e.name, "/") || _.find(r, {
kind: e.kind,
group: ""
})) return;
i.push({
kind: e.kind,
group: ""
});
}
});
}), _.each(t.groups, function(e) {
var t = f[e.name] || e.preferredVersion;
_.each(e.versions[t].resources, function(t) {
_.includes(t.name, "/") || _.find(r, {
kind: t.kind,
group: e.name
}) || m(e.name, t.kind) || (t.namespaced || n) && i.push({
kind: t.kind,
group: e.name
});
});
}), _.uniqBy(i, function(e) {
return e.group + "/" + e.kind;
});
}, y = v(!1), b = v(!0);
return {
toAPIVersion: function(e) {
return e.group ? e.group + "/" + e.version : e.version;
},
toResourceGroupVersion: p,
parseGroupVersion: g,
objectToResourceGroupVersion: function(e) {
if (e && e.kind && e.apiVersion) {
var t = h(e.kind);
if (t) {
var n = g(e.apiVersion);
if (n) return new ResourceGroupVersion(t, n.group, n.version);
}
}
},
deriveTargetResource: function(e, t) {
if (e && t) {
var n = h(t.kind), i = g(t.apiVersion), r = p(e);
if (n && i && r) return angular.isString(e) ? (r.equals(n) && (r.group = i.group, r.version = i.version), r) : (r.equals(n, i.group) && (r.version = i.version), r);
}
},
kindToResource: h,
kindToResourceGroupVersion: function(e) {
return p({
resource: h(e.kind),
group: e.group
});
},
apiInfo: function(n) {
if (t.API_DISCOVERY_ERRORS) {
if (_.every(t.API_DISCOVERY_ERRORS, function(e) {
return 0 === _.get(e, "data.status");
}) && !r.isLoggedIn()) return void r.withUser();
var i = !1;
if (_.each(t.API_DISCOVERY_ERRORS, function(e) {
if (e.fatal) return a.error("API discovery failed (fatal error)", e), void (i = !0);
a.warn("API discovery failed", e);
}), i) return void (u.location.href = URI("error").query({
error_description: "Unable to load details about the server. If the problem continues, please contact your system administrator.",
error: "API_DISCOVERY"
}).toString());
}
var o, s = (n = p(n)).primaryResource();
if (n.group) {
if (!(o = _.get(t, [ "groups", n.group, "versions", n.version, "resources", s ]))) return;
var l = _.get(t, [ "groups", n.group, "hostPrefix" ]) || t;
return {
resource: n.resource,
group: n.group,
version: n.version,
protocol: l.protocol,
hostPort: l.hostPort,
prefix: l.prefix,
namespaced: o.namespaced,
verbs: o.verbs
};
}
var c;
for (var d in e) if (c = e[d], o = _.get(c, [ "resources", n.version, s ])) return {
resource: n.resource,
version: n.version,
hostPort: c.hostPort,
prefix: c.prefix,
namespaced: o.namespaced,
verbs: o.verbs
};
},
invalidObjectKindOrVersion: function(e) {
var t = "<none>", n = "<none>";
return e && e.kind && (t = e.kind), e && e.apiVersion && (n = e.apiVersion), "Invalid kind (" + t + ") or API version (" + n + ")";
},
unsupportedObjectKindOrVersion: function(e) {
var t = "<none>", n = "<none>";
return e && e.kind && (t = e.kind), e && e.apiVersion && (n = e.apiVersion), "The API version " + n + " for kind " + t + " is not supported by this server";
},
availableKinds: function(e) {
return e ? b : y;
},
getPreferredVersion: function(e) {
var t = n[e];
return t || a.log("No preferred version for ", e), t;
}
};
} ]), angular.module("openshiftCommonServices").service("ApplicationsService", [ "$q", "APIService", "DataService", function(e, t, n) {
var i = t.getPreferredVersion("deployments"), r = t.getPreferredVersion("deploymentconfigs"), o = t.getPreferredVersion("replicationcontrollers"), a = t.getPreferredVersion("replicasets"), s = t.getPreferredVersion("statefulsets"), l = function(e) {
return n.list(o, e, null, {
http: {
params: {
labelSelector: "!openshift.io/deployment-config.name"
}
}
});
}, c = function(e) {
return n.list(a, e, null, {
http: {
params: {
labelSelector: "!pod-template-hash"
}
}
});
};
return {
listStandaloneReplicationControllers: l,
listStandaloneReplicaSets: c,
getApplications: function(t) {
var o = e.defer(), a = [];
return a.push(n.list(r, t)), a.push(l(t)), a.push(n.list(i, t)), a.push(c(t)), a.push(n.list(s, t)), e.all(a).then(_.spread(function(e, t, n, i, r) {
var a = _.toArray(e.by("metadata.name")), s = _.toArray(t.by("metadata.name")), l = _.toArray(n.by("metadata.name")), c = _.toArray(i.by("metadata.name")), u = _.toArray(r.by("metadata.name")), d = a.concat(l).concat(s).concat(c).concat(u);
o.resolve(_.sortBy(d, [ "metadata.name", "kind" ]));
}), function(e) {
o.reject(e);
}), o.promise;
}
};
} ]), angular.module("openshiftCommonServices").provider("AuthService", function() {
var e = "";
this.UserStore = function(t) {
return t && (e = t), e;
};
var t = "";
this.LoginService = function(e) {
return e && (t = e), t;
};
var n = "";
this.LogoutService = function(e) {
return e && (n = e), n;
};
var i = function(e, t, n) {
if (t) return angular.isString(t) ? e.get(t) : e.invoke(t);
throw n + " not set";
};
this.$get = [ "$q", "$injector", "$log", "$rootScope", "Logger", "base64", function(r, o, a, s, l, c) {
var u = l.get("auth");
u.log("AuthServiceProvider.$get", arguments);
var d = $.Callbacks(), h = $.Callbacks(), f = $.Callbacks(), p = null, g = null, m = i(o, e, "AuthServiceProvider.UserStore()");
m.available() || l.error("AuthServiceProvider.$get user store " + e + " not available");
var v = i(o, t, "AuthServiceProvider.LoginService()"), y = i(o, n, "AuthServiceProvider.LogoutService()");
return {
UserStore: function() {
return m;
},
isLoggedIn: function() {
return !!m.getUser();
},
withUser: function() {
var e = m.getUser();
return e ? (s.user = e, u.log("AuthService.withUser()", e), r.when(e)) : (u.log("AuthService.withUser(), calling startLogin()"), this.startLogin());
},
setUser: function(e, t, n) {
u.log("AuthService.setUser()", e, t, n);
var i = m.getUser();
m.setUser(e, n), m.setToken(t, n), s.user = e, (i && i.metadata && i.metadata.name) !== (e && e.metadata && e.metadata.name) && (u.log("AuthService.setUser(), user changed", i, e), f.fire(e));
},
requestRequiresAuth: function(e) {
var t = !!e.auth;
return u.log("AuthService.requestRequiresAuth()", e.url.toString(), t), t;
},
addAuthToRequest: function(e) {
var t = "";
return e && e.auth && e.auth.token ? (t = e.auth.token, u.log("AuthService.addAuthToRequest(), using token from request config", t)) : (t = m.getToken(), u.log("AuthService.addAuthToRequest(), using token from user store", t)), t ? ("WATCH" === e.method ? (e.protocols = e.protocols || [], _.isArray(e.protocols) || (e.protocols = [ e.protocols ]), 0 == e.protocols.length && e.protocols.unshift("undefined"), e.protocols.unshift("base64url.bearer.authorization.k8s.io." + c.urlencode(t)), u.log("AuthService.addAuthToRequest(), added token protocol", e.protocols)) : (e.headers.Authorization = "Bearer " + t, u.log("AuthService.addAuthToRequest(), added token header", e.headers.Authorization)), !0) : (u.log("AuthService.addAuthToRequest(), no token available"), !1);
},
startLogin: function() {
if (p) return u.log("Login already in progress"), p;
var e = this;
return p = v.login().then(function(t) {
e.setUser(t.user, t.token, t.ttl), d.fire(t.user);
}).catch(function(e) {
l.error(e);
}).finally(function() {
p = null;
});
},
startLogout: function() {
if (g) return u.log("Logout already in progress"), g;
var e = this, t = m.getUser(), n = m.getToken(), i = this.isLoggedIn();
return g = y.logout(t, n).then(function() {
u.log("Logout service success");
}).catch(function(e) {
u.error("Logout service error", e);
}).finally(function() {
e.setUser(null, null);
var t = e.isLoggedIn();
i && !t && h.fire(), g = null;
});
},
onLogin: function(e) {
d.add(e);
},
onLogout: function(e) {
h.add(e);
},
onUserChanged: function(e) {
f.add(e);
}
};
} ];
}).factory("AuthInterceptor", [ "$q", "AuthService", function(e, t) {
var n = [];
return {
request: function(i) {
if (!t.requestRequiresAuth(i)) return i;
if (t.addAuthToRequest(i)) return i;
if (i.auth && !1 === i.auth.triggerLogin) return i;
var r = e.defer();
return n.push([ r, i, "request" ]), t.startLogin(), r.promise;
},
responseError: function(i) {
var r = i.config.auth || {};
if (!t.requestRequiresAuth(i.config)) return e.reject(i);
if (!1 === r.triggerLogin) return e.reject(i);
switch (i.status) {
case 401:
var o = e.defer();
return n.push([ o, i.config, "responseError" ]), t.startLogin(), o.promise;

default:
return e.reject(i);
}
}
};
} ]), angular.module("openshiftCommonServices").factory("AuthorizationService", [ "$q", "$cacheFactory", "Logger", "$interval", "APIService", "DataService", function(e, t, n, i, r, o) {
var a = null, s = t("rulesCache", {
number: 10
}), l = !1, c = [ "localresourceaccessreviews", "localsubjectaccessreviews", "resourceaccessreviews", "selfsubjectaccessreviews", "selfsubjectrulesreviews", "subjectaccessreviews", "subjectrulesreviews", "podsecuritypolicyreviews", "podsecuritypolicysubjectreviews", "podsecuritypolicyselfsubjectreviews", "tokenreviews" ], u = function(e) {
var t = {};
return _.each(e, function(e) {
_.each(e.apiGroups, function(n) {
t[n] || (t[n] = {}), _.each(e.resources, function(i) {
t[n][i] = e.verbs;
});
});
}), t;
}, d = function(e) {
return "projectrequests" !== e && !_.includes(e, "/") && !_.includes(c, e);
}, h = function(e) {
return _.some(e, function(e) {
return _.some(e.resources, function(t) {
return d(t) && !_.isEmpty(_.intersection(e.verbs, [ "*", "create", "update" ]));
});
});
}, f = {}, p = function(e) {
return _.get(s.get(e || a), [ "rules" ]);
}, g = function(e, t, n, i) {
var r = e[n];
if (!r) return !1;
var o = r[i];
return !!o && (_.includes(o, t) || _.includes(o, "*"));
};
return {
checkResource: d,
getProjectRules: function(t, i) {
var c = e.defer();
a = t;
var d = s.get(t);
if (!d || d.forceRefresh || i) if (r.apiInfo("selfsubjectrulesreviews")) {
if (f[t]) return f[t];
n.log("AuthorizationService, loading user rules for " + t + " project"), f[t] = c.promise;
var p = {
kind: "SelfSubjectRulesReview",
apiVersion: "v1"
};
o.create("selfsubjectrulesreviews", null, p, {
namespace: t
}).then(function(e) {
var n = u(e.status.rules), i = h(e.status.rules);
s.put(t, {
rules: n,
canAddToProject: i,
forceRefresh: !1,
cacheTimestamp: _.now()
}), c.resolve();
}, function() {
l = !0, c.resolve();
}).finally(function() {
delete f[t];
});
} else n.log("AuthorizationService, resource 'selfsubjectrulesreviews' is not part of APIserver. Switching into permissive mode."), l = !0, c.resolve(); else n.log("AuthorizationService, using cached rules for " + t + " project"), _.now() - d.cacheTimestamp >= 6e5 && (d.forceRefresh = !0), c.resolve();
return c.promise;
},
canI: function(e, t, n) {
if (l) return !0;
if (!e) return !1;
var i = r.toResourceGroupVersion(e), o = p(n || a);
return !!o && (g(o, t, i.group, i.resource) || g(o, t, "*", "*") || g(o, t, i.group, "*") || g(o, t, "*", i.resource));
},
canIAddToProject: function(e) {
return !!l || !!_.get(s.get(e || a), [ "canAddToProject" ]);
},
getRulesForProject: p
};
} ]), angular.module("openshiftCommonServices").factory("base64util", function() {
return {
pad: function(e) {
if (!e) return "";
switch (e.length % 4) {
case 1:
return e + "===";

case 2:
return e + "==";

case 3:
return e + "=";

default:
return e;
}
}
};
}), angular.module("openshiftCommonServices").service("BindingService", [ "$filter", "$q", "APIService", "AuthService", "DataService", "DNS1123_SUBDOMAIN_VALIDATION", function(e, t, n, i, r, o) {
var a = n.getPreferredVersion("servicebindings"), s = n.getPreferredVersion("secrets"), l = e("generateName"), c = function(e) {
var t = _.truncate(e, {
length: o.maxlength - 5 - 1,
omission: ""
});
return l(t, 5);
}, u = function(e, t, n) {
var i = {
apiVersion: "v1",
kind: "Secret",
metadata: {
name: e,
ownerReferences: [ {
apiVersion: n.apiVersion,
kind: n.kind,
name: n.metadata.name,
uid: n.metadata.uid,
controller: !1,
blockOwnerDeletion: !1
} ]
},
type: "Opaque",
stringData: {}
};
return i.stringData.parameters = JSON.stringify(t), i;
}, d = function(e, t, n) {
var i = e.metadata.name, r = c(e.metadata.name + "-credentials-"), o = {
kind: "ServiceBinding",
apiVersion: "servicecatalog.k8s.io/v1beta1",
metadata: {
generateName: i + "-"
},
spec: {
instanceRef: {
name: i
},
secretName: r
}
};
n && (o.spec.parametersFrom = [ {
secretKeyRef: {
name: n,
key: "parameters"
}
} ]);
var a = _.get(t, "spec.selector");
return a && (a.matchLabels || a.matchExpressions || (a = {
matchLabels: a
}), o.spec.alphaPodPresetTemplate = {
name: r,
selector: a
}), o;
}, h = function(t, n, i) {
if (!t || !n || !i) return !1;
if (_.get(t, "metadata.deletionTimestamp")) return !1;
if (e("isServiceInstanceFailed")(t, "Failed")) return !1;
var r = _.get(i, "spec.bindable");
return !0 === r || !1 !== r && n.spec.bindable;
}, f = function(e) {
var t = {};
return _.each(e, function(e) {
var n = _.get(e, "spec.alphaPodPresetTemplate.selector");
n && (t[e.metadata.name] = new LabelSelector(n));
}), t;
};
return {
bindingResource: a,
getServiceClassForInstance: function(e, t) {
if (!t) return null;
var n = _.get(e, "spec.clusterServiceClassRef.name");
return n ? t[n] : null;
},
makeParametersSecret: u,
generateSecretName: c,
bindService: function(e, t, n, i) {
var o;
_.isEmpty(i) || (o = c(e.metadata.name + "-bind-parameters-"));
var l = d(e, t, o), h = {
namespace: e.metadata.namespace
}, f = r.create(a, null, l, h);
return o ? f.then(function(e) {
var t = u(o, i, e);
return r.create(s, null, t, h).then(function() {
return e;
});
}) : f;
},
isServiceBindable: h,
getPodPresetSelectorsForBindings: f,
getBindingsForResource: function(e, t) {
if ("ServiceInstance" === _.get(t, "kind")) return _.filter(e, [ "spec.instanceRef.name", _.get(t, "metadata.name") ]);
var n = f(e), i = new LabelSelector(_.get(t, "spec.selector")), r = [];
return _.each(n, function(t, n) {
t.covers(i) && r.push(e[n]);
}), r;
},
filterBindableServiceInstances: function(e, t, n) {
return e && t && n ? _.filter(e, function(e) {
var i = _.get(e, "spec.clusterServiceClassRef.name"), r = _.get(e, "spec.clusterServicePlanRef.name");
return h(e, t[i], n[r]);
}) : null;
},
sortServiceInstances: function(e, t) {
return _.sortBy(e, [ function(e) {
var n = _.get(e, "spec.clusterServiceClassRef.name");
return _.get(t, [ n, "spec", "externalMetadata", "displayName" ]) || e.spec.clusterServiceClassExternalName;
}, "metadata.name" ]);
}
};
} ]), angular.module("openshiftCommonServices").factory("Constants", function() {
var e = _.clone(window.OPENSHIFT_CONSTANTS || {}), t = _.clone(window.OPENSHIFT_VERSION || {});
return e.VERSION = t, e;
}), angular.module("openshiftCommonServices").factory("DataService", [ "$cacheFactory", "$http", "$ws", "$rootScope", "$q", "API_CFG", "APIService", "Logger", "$timeout", "base64", "base64util", function(e, t, n, i, r, o, a, s, l, c, u) {
function d(e) {
this._data = {}, this._objectsByAttribute(e, "metadata.name", this._data);
}
function h(e, t, n, i) {
for (var r = t.split("."), o = e, a = 0; a < r.length; a++) if (void 0 === (o = o[r[a]])) return;
if ($.isArray(o)) ; else if ($.isPlainObject(o)) for (var s in o) {
var l = o[s];
n[s] || (n[s] = {}), "DELETED" === i ? delete n[s][l] : n[s][l] = e;
} else "DELETED" === i ? delete n[o] : n[o] = e;
}
function f() {
this._listDeferredMap = {}, this._watchCallbacksMap = {}, this._watchObjectCallbacksMap = {}, this._watchOperationMap = {}, this._listOperationMap = {}, this._resourceVersionMap = {}, this._dataCache = e("dataCache", {
number: 25
}), this._immutableDataCache = e("immutableDataCache", {
number: 50
}), this._watchOptionsMap = {}, this._watchWebsocketsMap = {}, this._watchPollTimeoutsMap = {}, this._websocketEventsMap = {};
var t = this;
i.$on("$routeChangeStart", function(e, n, i) {
t._websocketEventsMap = {};
});
}
function p(e) {
return e.length >= w && Date.now() - e[0].time < 3e4;
}
function g(e) {
if (e.length < 5) return !1;
for (var t = e.length - 5; t < e.length; t++) if ("close" !== e[t].type) return !1;
return !0;
}
d.prototype.by = function(e) {
if ("metadata.name" === e) return this._data;
var t = {};
for (var n in this._data) h(this._data[n], e, t, null);
return t;
}, d.prototype.update = function(e, t) {
h(e, "metadata.name", this._data, t);
}, d.prototype._objectsByAttribute = function(e, t, n, i) {
angular.forEach(e, function(e, r) {
h(e, t, n, i ? i[r] : null);
});
};
var m = [], v = _.debounce(function() {
if (m.length) {
var e = {
type: "error",
message: "An error occurred connecting to the server.",
details: m.join("\n"),
links: [ {
label: "Refresh",
onClick: function() {
window.location.reload();
}
} ]
};
i.$emit("NotificationsService.addNotification", e), m = [];
}
}, 300, {
maxWait: 1e3
}), y = function(e, t) {
t && (e += " (status " + t + ")"), m.push(e), v();
}, b = function(e, t) {
var n;
return n = e ? "Unknown resource: " + e.toString() : "Internal error: API resource not specified.", _.get(t, "errorNotification", !0) && y(n), r.reject({
data: {
message: n
}
});
};
f.prototype.list = function(e, t, n, i) {
e = a.toResourceGroupVersion(e);
var r = this._uniqueKey(e, null, t, i), o = this._listDeferred(r);
return n && o.promise.then(n), this._isCached(r) ? o.resolve(this._data(r)) : this._listInFlight(r) || this._startListOp(e, t, i), o.promise;
}, f.prototype.delete = function(e, n, i, o) {
e = a.toResourceGroupVersion(e), o = o || {};
var s = r.defer(), l = this, c = {}, u = {
kind: "DeleteOptions",
apiVersion: "v1"
};
_.has(o, "propagationPolicy") ? u.propagationPolicy = o.propagationPolicy : u.propagationPolicy = "Foreground";
c = {
"Content-Type": "application/json"
};
return _.has(o, "gracePeriodSeconds") && (u.gracePeriodSeconds = o.gracePeriodSeconds), this._getNamespace(e, i, o).then(function(r) {
var a = l._urlForResource(e, n, i, !1, r);
if (!a) return b(e, o);
t(angular.extend({
method: "DELETE",
auth: {},
data: u,
headers: c,
url: a
}, o.http || {})).success(function(e, t, n, i, r) {
s.resolve(e);
}).error(function(e, t, n, i) {
s.reject({
data: e,
status: t,
headers: n,
config: i
});
});
}), s.promise;
}, f.prototype.update = function(e, n, i, o, s) {
e = a.deriveTargetResource(e, i), s = s || {};
var l = r.defer(), c = this;
return this._getNamespace(e, o, s).then(function(r) {
var a = c._urlForResource(e, n, o, !1, r);
if (!a) return b(e, s);
t(angular.extend({
method: "PUT",
auth: {},
data: i,
url: a
}, s.http || {})).success(function(e, t, n, i, r) {
l.resolve(e);
}).error(function(e, t, n, i) {
l.reject({
data: e,
status: t,
headers: n,
config: i
});
});
}), l.promise;
}, f.prototype.create = function(e, n, i, o, s) {
e = a.deriveTargetResource(e, i), s = s || {};
var l = r.defer(), c = this;
return this._getNamespace(e, o, s).then(function(r) {
var a = c._urlForResource(e, n, o, !1, r);
if (!a) return b(e, s);
t(angular.extend({
method: "POST",
auth: {},
data: i,
url: a
}, s.http || {})).success(function(e, t, n, i, r) {
l.resolve(e);
}).error(function(e, t, n, i) {
l.reject({
data: e,
status: t,
headers: n,
config: i
});
});
}), l.promise;
}, f.prototype.batch = function(e, t, n, i) {
function o() {
0 === d && s.resolve({
success: l,
failure: c
});
}
var s = r.defer(), l = [], c = [], u = this, d = e.length;
return n = n || "create", _.each(e, function(e) {
var r = a.objectToResourceGroupVersion(e);
if (!r) return c.push({
object: e,
data: {
message: a.invalidObjectKindOrVersion(e)
}
}), d--, void o();
if (!a.apiInfo(r)) return c.push({
object: e,
data: {
message: a.unsupportedObjectKindOrVersion(e)
}
}), d--, void o();
var h = function(t) {
t.object = e, l.push(t), d--, o();
}, f = function(t) {
t.object = e, c.push(t), d--, o();
};
switch (n) {
case "create":
u.create(r, null, e, t, i).then(h, f);
break;

case "update":
u.update(r, e.metadata.name, e, t, i).then(h, f);
break;

default:
return s.reject({
data: "Invalid '" + n + "'  action.",
status: 400,
headers: function() {
return null;
},
config: {},
object: e
});
}
}), s.promise;
}, f.prototype.get = function(e, n, i, o) {
e = a.toResourceGroupVersion(e), o = o || {};
var s = this._uniqueKey(e, n, i, o);
o.force;
delete o.force;
var c = r.defer(), u = this._immutableData(s);
if (this._hasImmutable(e, u, n)) l(function() {
c.resolve(u.by("metadata.name")[n]);
}, 0); else {
var d = this;
this._getNamespace(e, i, o).then(function(r) {
var a = d._urlForResource(e, n, i, !1, r);
if (!a) return b(e, o);
t(angular.extend({
method: "GET",
auth: {},
url: a
}, o.http || {})).success(function(t, n, i, r, o) {
d._isImmutable(e) && (u ? u.update(t, "ADDED") : d._immutableData(s, [ t ])), c.resolve(t);
}).error(function(t, i, r, a) {
!1 !== o.errorNotification && y("Failed to get " + e + "/" + n, i), c.reject({
data: t,
status: i,
headers: r,
config: a
});
});
});
}
return c.promise;
}, f.prototype.createStream = function(e, t, i, r, o) {
var l = this;
e = a.toResourceGroupVersion(e);
var d, h = o ? "binary.k8s.io" : "base64.binary.k8s.io", f = {}, p = {}, g = {}, m = {}, v = function() {
return l._getNamespace(e, i, {}).then(function(a) {
var d = l._urlForResource(e, t, i, !0, _.extend(a, r));
if (!d) return b(e, r);
var v = 0;
return n({
url: d,
auth: {},
onopen: function(e) {
_.each(f, function(t) {
t(e);
});
},
onmessage: function(e) {
if (_.isString(e.data)) {
var t;
o || (t = c.decode(u.pad(e.data)), v += t.length), _.each(p, function(n) {
o ? n(e.data) : n(t, e.data, v);
});
} else s.log("log stream response is not a string", e.data);
},
onclose: function(e) {
_.each(g, function(t) {
t(e);
});
},
onerror: function(e) {
_.each(m, function(t) {
t(e);
});
},
protocols: h
}).then(function(e) {
return s.log("Streaming pod log", e), e;
});
});
};
return {
onOpen: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return f[t] = e, t;
}
},
onMessage: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return p[t] = e, t;
}
},
onClose: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return g[t] = e, t;
}
},
onError: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return m[t] = e, t;
}
},
remove: function(e) {
f[e] && delete f[e], p[e] && delete p[e], g[e] && delete g[e], m[e] && delete m[e];
},
start: function() {
return d = v();
},
stop: function() {
d.then(function(e) {
e.close();
});
}
};
}, f.prototype.watch = function(e, t, n, i) {
e = a.toResourceGroupVersion(e);
var r = !(i = i || {}).skipDigest, o = this._uniqueKey(e, null, t, i);
if (n) this._watchCallbacks(o).add(n); else if (!this._watchCallbacks(o).has()) return {};
var s = this._watchOptions(o);
if (s) {
if (!!s.poll != !!i.poll) throw "A watch already exists for " + e + " with a different polling option.";
} else this._watchOptions(o, i);
var c = this;
if (this._isCached(o)) n && l(function() {
n(c._data(o));
}, 0, r); else {
if (n) {
var u = this._resourceVersion(o);
this._data(o) && l(function() {
u === c._resourceVersion(o) && n(c._data(o));
}, 0, r);
}
this._listInFlight(o) || this._startListOp(e, t, i);
}
return {
resource: e,
context: t,
callback: n,
opts: i
};
}, f.prototype.watchObject = function(e, t, n, i, r) {
e = a.toResourceGroupVersion(e), r = r || {};
var o, s = this._uniqueKey(e, t, n, r);
if (s && i) {
this._watchObjectCallbacks(s).add(i);
var l = this;
o = function(e, n, i) {
if (i && i.metadata.name === t) l._watchObjectCallbacks(s).fire(i, n); else if (!i) {
var r = e.by("metadata.name");
r[t] && l._watchObjectCallbacks(s).fire(r[t]);
}
};
} else if (!this._watchObjectCallbacks(s).has()) return {};
var c = this.watch(e, n, o, r);
return c.objectCallback = i, c.objectName = t, c;
}, f.prototype.unwatch = function(e) {
var t = e.resource, n = e.objectName, i = e.context, r = e.callback, o = e.objectCallback, a = e.opts, s = this._uniqueKey(t, null, i, a);
if (o && n) {
var l = this._uniqueKey(t, n, i, a);
this._watchObjectCallbacks(l).remove(o);
}
var c = this._watchCallbacks(s);
if (r && c.remove(r), !c.has()) {
if (a && a.poll) clearTimeout(this._watchPollTimeouts(s)), this._watchPollTimeouts(s, null); else if (this._watchWebsockets(s)) {
var u = this._watchWebsockets(s);
u.shouldClose = !0, u.close(), this._watchWebsockets(s, null);
}
this._watchInFlight(s, !1), this._watchOptions(s, null);
}
}, f.prototype.unwatchAll = function(e) {
for (var t = 0; t < e.length; t++) this.unwatch(e[t]);
}, f.prototype._watchCallbacks = function(e) {
return this._watchCallbacksMap[e] || (this._watchCallbacksMap[e] = $.Callbacks()), this._watchCallbacksMap[e];
}, f.prototype._watchObjectCallbacks = function(e) {
return this._watchObjectCallbacksMap[e] || (this._watchObjectCallbacksMap[e] = $.Callbacks()), this._watchObjectCallbacksMap[e];
}, f.prototype._listDeferred = function(e) {
return this._listDeferredMap[e] || (this._listDeferredMap[e] = r.defer()), this._listDeferredMap[e];
}, f.prototype._watchInFlight = function(e, t) {
if (!t && !1 !== t) return this._watchOperationMap[e];
this._watchOperationMap[e] = t;
}, f.prototype._listInFlight = function(e, t) {
if (!t && !1 !== t) return this._listOperationMap[e];
this._listOperationMap[e] = t;
}, f.prototype._resourceVersion = function(e, t) {
if (!t) return this._resourceVersionMap[e];
this._resourceVersionMap[e] = t;
}, f.prototype._data = function(e, t) {
return t ? this._dataCache.put(e, new d(t)) : this._dataCache.get(e);
}, f.prototype._immutableData = function(e, t) {
return t ? this._immutableDataCache.put(e, new d(t)) : this._immutableDataCache.get(e);
}, f.prototype._isCached = function(e) {
return this._watchInFlight(e) && this._resourceVersion(e) && !!this._data(e);
}, f.prototype._watchOptions = function(e, t) {
if (void 0 === t) return this._watchOptionsMap[e];
this._watchOptionsMap[e] = t;
}, f.prototype._watchPollTimeouts = function(e, t) {
if (!t) return this._watchPollTimeoutsMap[e];
this._watchPollTimeoutsMap[e] = t;
}, f.prototype._watchWebsockets = function(e, t) {
if (!t) return this._watchWebsocketsMap[e];
this._watchWebsocketsMap[e] = t;
};
var w = 10;
f.prototype._addWebsocketEvent = function(e, t) {
var n = this._websocketEventsMap[e];
for (n || (n = this._websocketEventsMap[e] = []), n.push({
type: t,
time: Date.now()
}); n.length > w; ) n.shift();
}, f.prototype._isTooManyWebsocketRetries = function(e) {
var t = this._websocketEventsMap[e];
return !!t && (p(t) ? (s.log("Too many websocket open or close events for resource/context in a short period", e, t), !0) : !!g(t) && (s.log("Too many consecutive websocket close events for resource/context", e, t), !0));
};
var C = function(e) {
var t = _.keysIn(_.pick(e, [ "fieldSelector", "labelSelector" ])).sort();
return _.reduce(t, function(n, i, r) {
return n + i + "=" + encodeURIComponent(e[i]) + (r < t.length - 1 ? "&" : "");
}, "?");
};
f.prototype._uniqueKey = function(e, t, n, i) {
var r, o = n && n.namespace || _.get(n, "project.metadata.name") || n.projectName, a = _.get(i, "http.params"), s = this._urlForResource(e, t, n, null, angular.extend({}, {}, {
namespace: o
}));
return r = s ? s.toString() : e || "<unknown>", r += C(a || {}), _.get(i, "partialObjectMetadataList") ? r + "#application/json;as=PartialObjectMetadataList;v=v1beta1;g=meta.k8s.io,application/json" : r;
}, f.prototype._startListOp = function(e, n, i) {
i = i || {};
var r = _.get(i, "http.params") || {}, o = this._uniqueKey(e, null, n, i);
this._listInFlight(o, !0);
var a = {};
i.partialObjectMetadataList && (a.Accept = "application/json;as=PartialObjectMetadataList;v=v1beta1;g=meta.k8s.io,application/json");
var s, l = this;
if (n.projectPromise && !e.equals("projects")) n.projectPromise.done(function(c) {
if (!(s = l._urlForResource(e, null, n, !1, _.assign({}, r, {
namespace: c.metadata.name
})))) return b(e, i);
t(angular.extend({
method: "GET",
auth: {},
headers: a,
url: s
}, i.http || {})).success(function(t, r, a, s, c) {
l._listOpComplete(o, e, n, i, t);
}).error(function(t, n, r, a) {
l._listInFlight(o, !1);
var s = l._listDeferred(o);
delete l._listDeferredMap[o], s.reject({
data: t,
status: n,
headers: r,
config: a
}), _.get(i, "errorNotification", !0) && y("Failed to list " + e, n);
});
}); else {
if (!(s = this._urlForResource(e, null, n, !1, r))) return b(e, i);
t({
method: "GET",
auth: {},
headers: a,
url: s
}).success(function(t, r, a, s, c) {
l._listOpComplete(o, e, n, i, t);
}).error(function(t, n, r, a) {
l._listInFlight(o, !1);
var s = l._listDeferred(o);
delete l._listDeferredMap[o], s.reject({
data: t,
status: n,
headers: r,
config: a
}), _.get(i, "errorNotification", !0) && y("Failed to list " + e, n);
});
}
}, f.prototype._listOpComplete = function(e, t, n, i, r) {
r.items || console.warn("List request for " + t + " returned a null items array.  This is an invalid API response.");
var o = r.items || [];
r.kind && r.kind.indexOf("List") === r.kind.length - 4 && angular.forEach(o, function(e) {
e.kind || (e.kind = r.kind.slice(0, -4)), e.apiVersion || (e.apiVersion = r.apiVersion);
}), this._listInFlight(e, !1);
var a = this._listDeferred(e);
delete this._listDeferredMap[e];
var s = _.get(r, "resourceVersion") || _.get(r, "metadata.resourceVersion");
if (this._resourceVersion(e, s), this._data(e, o), a.resolve(this._data(e)), this._watchCallbacks(e).fire(this._data(e)), this._watchCallbacks(e).has()) {
var l = this._watchOptions(e) || {};
l.poll ? (this._watchInFlight(e, !0), this._watchPollTimeouts(e, setTimeout($.proxy(this, "_startListOp", t, n), l.pollInterval || 5e3))) : this._watchInFlight(e) || this._startWatchOp(e, t, n, i, this._resourceVersion(e));
}
}, f.prototype._startWatchOp = function(e, t, i, r, o) {
if (this._watchInFlight(e, !0), n.available()) {
var a = this, l = _.get(r, "http.params") || {};
l.watch = !0, o && (l.resourceVersion = o), i.projectPromise && !t.equals("projects") ? i.projectPromise.done(function(o) {
l.namespace = o.metadata.name, n({
method: "WATCH",
url: a._urlForResource(t, null, i, !0, l),
auth: {},
onclose: $.proxy(a, "_watchOpOnClose", t, i, r),
onmessage: $.proxy(a, "_watchOpOnMessage", t, i, r),
onopen: $.proxy(a, "_watchOpOnOpen", t, i, r)
}).then(function(t) {
s.log("Watching", t), a._watchWebsockets(e, t);
});
}) : n({
method: "WATCH",
url: a._urlForResource(t, null, i, !0, l),
auth: {},
onclose: $.proxy(a, "_watchOpOnClose", t, i, r),
onmessage: $.proxy(a, "_watchOpOnMessage", t, i, r),
onopen: $.proxy(a, "_watchOpOnOpen", t, i, r)
}).then(function(t) {
s.log("Watching", t), a._watchWebsockets(e, t);
});
}
}, f.prototype._watchOpOnOpen = function(e, t, n, i) {
s.log("Websocket opened for resource/context", e, t);
var r = this._uniqueKey(e, null, t, n);
this._addWebsocketEvent(r, "open");
}, f.prototype._watchOpOnMessage = function(e, t, n, i) {
var r = this._uniqueKey(e, null, t, n), o = !(n = n || {}).skipDigest;
try {
var a = $.parseJSON(i.data);
if ("ERROR" == a.type) return s.log("Watch window expired for resource/context", e, t), void (i.target && (i.target.shouldRelist = !0));
"DELETED" === a.type && a.object && a.object.metadata && !a.object.metadata.deletionTimestamp && (a.object.metadata.deletionTimestamp = new Date().toISOString()), a.object && this._resourceVersion(r, a.object.resourceVersion || a.object.metadata.resourceVersion), this._data(r).update(a.object, a.type);
var c = this;
l(function() {
c._watchCallbacks(r).fire(c._data(r), a.type, a.object);
}, 0, o);
} catch (t) {
s.error("Error processing message", e, i.data);
}
}, f.prototype._watchOpOnClose = function(e, t, n, r) {
var o = r.target, a = this._uniqueKey(e, null, t, n);
if (o) {
var l = this._watchWebsockets(a);
if (l) if (o === l) if (this._watchInFlight(a, !1), o.shouldClose) s.log("Skipping reopen, eventWS was explicitly closed", o); else if (r.wasClean) s.log("Skipping reopen, clean close", r); else if (this._watchCallbacks(a).has()) if (this._isTooManyWebsocketRetries(a)) _.get(n, "errorNotification", !0) && i.$emit("NotificationsService.addNotification", {
id: "websocket_retry_halted",
type: "error",
message: "Server connection interrupted.",
links: [ {
label: "Refresh",
onClick: function() {
window.location.reload();
}
} ]
}); else if (this._addWebsocketEvent(a, "close"), o.shouldRelist) {
s.log("Relisting for resource/context", e, t);
var c = this;
setTimeout(function() {
c.watch(e, t);
}, 2e3);
} else s.log("Rewatching for resource/context", e, t), this._watchInFlight(a, !0), setTimeout($.proxy(this, "_startWatchOp", a, e, t, n, this._resourceVersion(a)), 2e3); else s.log("Skipping reopen, no listeners registered for resource/context", e, t); else s.log("Skipping reopen, eventWS does not match registeredWS", o, l); else s.log("Skipping reopen, no registeredWS for resource/context", e, t);
} else s.log("Skipping reopen, no eventWS in event", r);
};
f.prototype._urlForResource = function(e, t, n, i, r) {
var o = a.apiInfo(e);
if (!o) return s.error("_urlForResource called with unknown resource", e, arguments), null;
var l, c = o.protocol || window.location.protocol;
if (r = r || {}, l = i ? "http:" === c ? "ws" : "wss" : "http:" === c ? "http" : "https", n && n.namespace && !r.namespace && (r.namespace = n.namespace), o.namespaced && !r.namespace) return s.error("_urlForResource called for a namespaced resource but no namespace provided", e, arguments), null;
var u = o.namespaced, d = null;
u && (d = r.namespace, delete (r = angular.copy(r)).namespace);
var h, f = {
protocol: l,
hostPort: o.hostPort,
prefix: o.prefix,
group: o.group,
version: o.version,
resource: e.primaryResource(),
subresource: e.subresources(),
name: t,
namespace: d,
q: r
};
return h = t ? u ? "{protocol}://{+hostPort}{+prefix}{/group}/{version}/namespaces/{namespace}/{resource}/{name}{/subresource*}{?q*}" : "{protocol}://{+hostPort}{+prefix}{/group}/{version}/{resource}/{name}{/subresource*}{?q*}" : u ? "{protocol}://{+hostPort}{+prefix}{/group}/{version}/namespaces/{namespace}/{resource}{?q*}" : "{protocol}://{+hostPort}{+prefix}{/group}/{version}/{resource}{?q*}", URI.expand(h, f).toString();
}, f.prototype.url = function(e) {
if (e && e.resource) {
var t = angular.copy(e);
delete t.resource, delete t.group, delete t.version, delete t.name, delete t.isWebsocket;
var n = a.toResourceGroupVersion({
resource: e.resource,
group: e.group,
version: e.version
});
return this._urlForResource(n, e.name, null, !!e.isWebsocket, t);
}
return null;
}, f.prototype.openshiftAPIBaseUrl = function() {
var e = "http:" === window.location.protocol ? "http" : "https", t = o.openshift.hostPort;
return new URI({
protocol: e,
hostname: t
}).toString();
}, f.prototype._getAPIServerVersion = function(e) {
var n = "http:" === window.location.protocol ? "http" : "https", i = new URI({
protocol: n,
hostname: o.k8s.hostPort,
path: e
}).toString();
return t.get(i, {
headers: {
Accept: "application/json"
}
});
}, f.prototype.getKubernetesMasterVersion = function() {
return this._getAPIServerVersion("/version");
}, f.prototype.getOpenShiftMasterVersion = function() {
return this._getAPIServerVersion("/version/openshift");
}, f.prototype.createData = function(e) {
return new d(e);
};
var x = {
imagestreamimages: !0
};
return f.prototype._isImmutable = function(e) {
return !!x[e.resource];
}, f.prototype._hasImmutable = function(e, t, n) {
return this._isImmutable(e) && t && t.by("metadata.name")[n];
}, f.prototype._getNamespace = function(e, t, n) {
var i = r.defer();
return n.namespace ? i.resolve({
namespace: n.namespace
}) : t.projectPromise && !e.equals("projects") ? t.projectPromise.done(function(e) {
i.resolve({
namespace: e.metadata.name
});
}) : i.resolve(null), i.promise;
}, new f();
} ]), angular.module("openshiftCommonServices").provider("DeleteTokenLogoutService", function() {
this.$get = [ "$q", "$injector", "Logger", function(e, t, n) {
var i = n.get("auth");
return {
logout: function(n, r) {
if (i.log("DeleteTokenLogoutService.logout()", n, r), !r) return i.log("DeleteTokenLogoutService, no token, returning immediately"), e.when({});
var o = t.get("APIService"), a = t.get("DataService"), s = o.getPreferredVersion("oauthaccesstokens"), l = {
http: {
auth: {
token: r,
triggerLogin: !1
}
}
};
return a.delete(s, r, {}, l);
}
};
} ];
}), angular.module("openshiftCommonServices").service("KeywordService", [ "$filter", function(e) {
var t = e("displayName");
return {
filterForKeywords: function(e, t, n) {
var i = e;
return _.isEmpty(n) ? i : (angular.forEach(n, function(e) {
i = _.filter(i, function(n) {
var i;
for (i = 0; i < t.length; i++) {
var r = _.get(n, t[i]);
if (r && e.test(r)) return !0;
}
return !1;
});
}), i);
},
weightedSearch: function(e, n, i) {
if (_.isEmpty(i)) return [];
var r = [];
_.each(e, function(e) {
var t = 0;
_.each(i, function(i) {
var r = !1;
if (_.each(n, function(n) {
var o = _.get(e, n.path);
o && i.test(o) && (t += n.weight, r = !0);
}), !r) return t = 0, !1;
}), t > 0 && r.push({
object: e,
score: t
});
});
var o = _.orderBy(r, [ "score", t ], [ "desc", "asc" ]);
return _.map(o, "object");
},
generateKeywords: function(e) {
if (!e) return [];
var t = _.uniq(e.match(/\S+/g));
return t.sort(function(e, t) {
return t.length - e.length;
}), _.map(t, function(e) {
return new RegExp(_.escapeRegExp(e), "i");
});
}
};
} ]), angular.module("openshiftCommonServices").provider("Logger", function() {
this.$get = function() {
var e = Logger.get("OpenShift"), t = {
get: function(e) {
var t = Logger.get("OpenShift/" + e), n = "OFF";
return localStorage && (n = localStorage["OpenShiftLogLevel." + e] || n), t.setLevel(Logger[n]), t;
},
log: function() {
e.log.apply(e, arguments);
},
info: function() {
e.info.apply(e, arguments);
},
debug: function() {
e.debug.apply(e, arguments);
},
warn: function() {
e.warn.apply(e, arguments);
},
error: function() {
e.error.apply(e, arguments);
}
}, n = "ERROR";
return localStorage && (n = localStorage["OpenShiftLogLevel.main"] || n), e.setLevel(Logger[n]), t;
};
}), angular.module("openshiftCommonServices").provider("MemoryUserStore", function() {
this.$get = [ "Logger", function(e) {
var t = e.get("auth"), n = null, i = null;
return {
available: function() {
return !0;
},
getUser: function() {
return t.log("MemoryUserStore.getUser", n), n;
},
setUser: function(e, i) {
t.log("MemoryUserStore.setUser", e), n = e;
},
getToken: function() {
return t.log("MemoryUserStore.getToken", i), i;
},
setToken: function(e, n) {
t.log("MemoryUserStore.setToken", e), i = e;
}
};
} ];
}).provider("SessionStorageUserStore", function() {
this.$get = [ "Logger", function(e) {
var t = e.get("auth"), n = "SessionStorageUserStore.user", i = "SessionStorageUserStore.token";
return {
available: function() {
try {
var e = String(new Date().getTime());
sessionStorage["SessionStorageUserStore.test"] = e;
var t = sessionStorage["SessionStorageUserStore.test"];
return sessionStorage.removeItem("SessionStorageUserStore.test"), e === t;
} catch (e) {
return !1;
}
},
getUser: function() {
try {
var e = JSON.parse(sessionStorage[n]);
return t.log("SessionStorageUserStore.getUser", e), e;
} catch (e) {
return t.error("SessionStorageUserStore.getUser", e), null;
}
},
setUser: function(e, i) {
e ? (t.log("SessionStorageUserStore.setUser", e), sessionStorage[n] = JSON.stringify(e)) : (t.log("SessionStorageUserStore.setUser", e, "deleting"), sessionStorage.removeItem(n));
},
getToken: function() {
try {
var e = sessionStorage[i];
return t.log("SessionStorageUserStore.getToken", e), e;
} catch (e) {
return t.error("SessionStorageUserStore.getToken", e), null;
}
},
setToken: function(e, n) {
e ? (t.log("SessionStorageUserStore.setToken", e), sessionStorage[i] = e) : (t.log("SessionStorageUserStore.setToken", e, "deleting"), sessionStorage.removeItem(i));
}
};
} ];
}).provider("LocalStorageUserStore", function() {
this.$get = [ "Logger", function(e) {
var t = e.get("auth"), n = "LocalStorageUserStore.user", i = "LocalStorageUserStore.token", r = function(e) {
return e + ".ttl";
}, o = function(e, n) {
if (n) {
var i = new Date().getTime() + 1e3 * n;
localStorage[r(e)] = i, t.log("LocalStorageUserStore.setTTL", e, n, new Date(i).toString());
} else localStorage.removeItem(r(e)), t.log("LocalStorageUserStore.setTTL deleting", e);
}, a = function(e) {
var n = localStorage[r(e)];
if (!n) return !1;
var i = parseInt(n) < new Date().getTime();
return t.log("LocalStorageUserStore.isTTLExpired", e, i), i;
};
return {
available: function() {
try {
var e = String(new Date().getTime());
localStorage["LocalStorageUserStore.test"] = e;
var t = localStorage["LocalStorageUserStore.test"];
return localStorage.removeItem("LocalStorageUserStore.test"), e === t;
} catch (e) {
return !1;
}
},
getUser: function() {
try {
if (a(n)) return t.log("LocalStorageUserStore.getUser expired"), localStorage.removeItem(n), o(n, null), null;
var e = JSON.parse(localStorage[n]);
return t.log("LocalStorageUserStore.getUser", e), e;
} catch (e) {
return t.error("LocalStorageUserStore.getUser", e), null;
}
},
setUser: function(e, i) {
e ? (t.log("LocalStorageUserStore.setUser", e, i), localStorage[n] = JSON.stringify(e), o(n, i)) : (t.log("LocalStorageUserStore.setUser", e, "deleting"), localStorage.removeItem(n), o(n, null));
},
getToken: function() {
try {
if (a(i)) return t.log("LocalStorageUserStore.getToken expired"), localStorage.removeItem(i), o(i, null), null;
var e = localStorage[i];
return t.log("LocalStorageUserStore.getToken", e), e;
} catch (e) {
return t.error("LocalStorageUserStore.getToken", e), null;
}
},
setToken: function(e, n) {
e ? (t.log("LocalStorageUserStore.setToken", e, n), localStorage[i] = e, o(i, n)) : (t.log("LocalStorageUserStore.setToken", e, n, "deleting"), localStorage.removeItem(i), o(i, null));
}
};
} ];
}), angular.module("openshiftCommonServices").factory("ProjectsService", [ "$location", "$q", "$rootScope", "APIService", "AuthService", "AuthorizationService", "DataService", "Logger", "RecentlyViewedProjectsService", "annotationNameFilter", function(e, t, n, i, r, o, a, s, l, c) {
var u, d = !1, h = i.getPreferredVersion("projects"), f = i.getPreferredVersion("projectrequests"), p = function() {
s.debug("ProjectsService: clearing project cache"), u = null, d = !1;
};
r.onUserChanged(p), r.onLogout(p);
var g = function(e) {
var t = [ c("description"), c("displayName") ];
return _.each(t, function(t) {
e.metadata.annotations[t] || delete e.metadata.annotations[t];
}), e;
};
return {
get: function(n, i) {
return r.withUser().then(function() {
var r = {
projectPromise: $.Deferred(),
projectName: n,
project: void 0
};
return a.get(h, n, r, {
errorNotification: !1
}).then(function(e) {
return o.getProjectRules(n).then(function() {
return r.project = e, r.projectPromise.resolve(e), l.addProjectUID(e.metadata.uid), u && u.update(e, "MODIFIED"), [ e, r ];
});
}, function(n) {
if (r.projectPromise.reject(n), (403 === n.status || 404 === n.status) && _.get(i, "skipErrorNotFound")) return t.reject({
notFound: !0
});
var o = "The project could not be loaded.", a = "error";
return 403 === n.status ? (o = "The project " + r.projectName + " does not exist or you are not authorized to view it.", a = "access_denied") : 404 === n.status && (o = "The project " + r.projectName + " does not exist.", a = "not_found"), e.url(URI("error").query({
error: a,
error_description: o
}).toString()), t.reject();
});
});
},
list: function(e) {
return u && !e ? (s.debug("ProjectsService: returning cached project data"), t.when(u)) : (s.debug("ProjectsService: listing projects, force refresh", e), a.list(h, {}).then(function(e) {
return u = e, e;
}, function(e) {
return u = a.createData([]), d = !0, t.reject();
}));
},
isProjectListIncomplete: function() {
return d;
},
watch: function(e, t) {
return a.watch(h, e, function(e) {
u = e, t(e);
});
},
update: function(e, t) {
return a.update(h, e, g(t), {
projectName: e
}, {
errorNotification: !1
}).then(function(e) {
return u && u.update(e, "MODIFIED"), e;
});
},
create: function(e, t, n) {
var r = {
apiVersion: i.toAPIVersion(f),
kind: "ProjectRequest",
metadata: {
name: e
},
displayName: t,
description: n
};
return a.create(f, null, r, {}).then(function(e) {
return l.addProjectUID(e.metadata.uid), u && u.update(e, "ADDED"), e;
});
},
canCreate: function() {
return a.get(f, null, {}, {
errorNotification: !1
});
},
delete: function(e) {
return a.delete(h, e.metadata.name, {}).then(function(t) {
return u && u.update(e, "DELETED"), t;
});
}
};
} ]), angular.module("openshiftCommonServices").factory("PromiseUtils", [ "$q", function(e) {
return {
waitForAll: function(t) {
var n = _.size(t);
if (!n) return e.when();
var i = e.defer(), r = 0, o = !1, a = function() {
r < n || (o ? i.reject() : i.resolve());
};
return _.each(t, function(e) {
if (!e) return r++, void a();
e.catch(function() {
o = !0;
}).finally(function() {
r++, a();
});
}), i.promise;
}
};
} ]), angular.module("openshiftCommonServices").service("RecentlyViewedProjectsService", [ "$filter", function(e) {
var t = function() {
var e = localStorage.getItem("openshift/recently-viewed-project-uids");
return e ? JSON.parse(e) : [];
}, n = function(e) {
localStorage.setItem("openshift/recently-viewed-project-uids", JSON.stringify(e));
};
return {
getProjectUIDs: t,
addProjectUID: function(e) {
var i = t();
i.unshift(e), i = _.uniq(i), i = _.take(i, 5), n(i);
},
orderByMostRecentlyViewed: function(n) {
var i = [], r = t();
return _.each(r, function(e) {
var t = _.remove(n, function(t) {
return t.metadata.uid === e;
})[0];
void 0 !== t && i.push(t);
}), n = _.sortBy(n, function(t) {
return e("displayName")(t).toLowerCase();
}), i.concat(n);
},
clear: function() {
localStorage.removeItem("openshift/recently-viewed-project-uids");
},
isRecentlyViewed: function(e) {
return _.includes(t(), e);
}
};
} ]), angular.module("openshiftCommonServices").provider("RedirectLoginService", function() {
var e = "", t = "", n = "", i = "", r = "";
this.OAuthClientID = function(t) {
return t && (e = t), e;
}, this.OAuthAuthorizeURI = function(e) {
return e && (t = e), t;
}, this.OAuthTokenURI = function(e) {
return e && (n = e), n;
}, this.OAuthRedirectURI = function(e) {
return e && (i = e), i;
}, this.OAuthScope = function(e) {
return e && (r = e), r;
}, this.$get = [ "$injector", "$location", "$q", "Logger", "base64", function(o, a, s, l, c) {
var u = l.get("auth"), d = function(e) {
var t;
if (window.crypto && window.Uint32Array) try {
var n = new Uint32Array(e);
window.crypto.getRandomValues(n), t = [];
for (var i = 0; i < e; i++) t.push(n[i]);
} catch (e) {
u.debug("RedirectLoginService.getRandomInts: ", e), t = null;
}
if (!t) {
t = [];
for (var r = 0; r < e; r++) t.push(Math.floor(4294967296 * Math.random()));
}
return t;
}, h = "RedirectLoginService.nonce", f = function(e) {
var t = String(new Date().getTime()) + "-" + d(8).join("");
try {
window.localStorage[h] && window.localStorage[h].length > 10 ? t = window.localStorage[h] : window.localStorage[h] = t;
} catch (e) {
u.log("RedirectLoginService.makeState, localStorage error: ", e);
}
return c.urlencode(JSON.stringify({
then: e,
nonce: t
}));
}, p = function(e) {
var t = {
then: null,
verified: !1
}, n = "";
try {
n = window.localStorage[h], window.localStorage.removeItem(h);
} catch (e) {
u.log("RedirectLoginService.parseState, localStorage error: ", e);
}
try {
var i = e ? JSON.parse(c.urldecode(e)) : {};
i && i.nonce && n && i.nonce === n && (t.verified = !0, t.then = i.then);
} catch (e) {
u.error("RedirectLoginService.parseState, state error: ", e);
}
return u.error("RedirectLoginService.parseState", t), t;
};
return {
login: function() {
if ("" === e) return s.reject({
error: "invalid_request",
error_description: "RedirectLoginServiceProvider.OAuthClientID() not set"
});
if ("" === t) return s.reject({
error: "invalid_request",
error_description: "RedirectLoginServiceProvider.OAuthAuthorizeURI() not set"
});
if ("" === i) return s.reject({
error: "invalid_request",
error_description: "RedirectLoginServiceProvider.OAuthRedirectURI not set"
});
var o = new URI(a.url()).fragment(""), l = {
client_id: e,
response_type: "token",
state: f(o.toString()),
redirect_uri: i
};
r && (l.scope = r), n && (l.response_type = "code");
var c = s.defer(), d = new URI(t);
return d.query(l), u.log("RedirectLoginService.login(), redirecting", d.toString()), window.location.href = d.toString(), c.promise;
},
finish: function() {
var t = o.get("$http"), l = function(e, t) {
return e.error ? (u.log("RedirectLoginService.finish(), error", e.error, e.error_description, e.error_uri), s.reject({
error: e.error,
error_description: e.error_description,
error_uri: e.error_uri
})) : e.access_token ? s.when({
token: e.access_token,
ttl: e.expires_in,
then: t.then,
verified: t.verified
}) : s.reject({
error: "invalid_request",
error_description: "No API token returned"
});
}, c = new URI(a.url()), d = c.query(!0), h = new URI("?" + c.fragment()).query(!0);
if (u.log("RedirectLoginService.finish()", d, h), d.error) return l(d, p(d.state));
if (h.error) return l(h, p(h.state));
if (h.access_token) return l(h, p(h.state));
if (n && d.code) {
var f = p(d.state);
if (!f.verified) return s.reject({
error: "invalid_request",
error_description: "Client state could not be verified"
});
var g = [ "grant_type=authorization_code", "code=" + encodeURIComponent(d.code), "redirect_uri=" + encodeURIComponent(i), "client_id=" + encodeURIComponent(e) ].join("&");
return r && (g += "&scope=" + encodeURIComponent(r)), t({
method: "POST",
url: n,
headers: {
Authorization: "Basic " + window.btoa(e + ":"),
"Content-Type": "application/x-www-form-urlencoded"
},
data: g
}).then(function(e) {
return l(e.data, f);
}, function(e) {
return u.log("RedirectLoginService.finish(), error getting access token", e), l(e.data, f);
});
}
return s.reject({
error: "invalid_request",
error_description: "No API token returned"
});
}
};
} ];
}), angular.module("openshiftCommonServices").service("VersionsService", function() {
var e = function(e, t, n) {
e = e || "", t = t || "";
try {
var i = window.compareVersions(e, t);
return n ? -1 * i : i;
} catch (n) {
return e.localeCompare(t);
}
};
return {
compare: function(t, n) {
return e(t, n, !1);
},
rcompare: function(t, n) {
return e(t, n, !0);
}
};
}), angular.module("openshiftCommonServices").provider("$ws", [ "$httpProvider", function(e) {
this.$get = [ "$q", "$injector", "Logger", function(t, n, i) {
var r = i.get("auth");
r.log("$wsProvider.$get", arguments);
var o = [];
angular.forEach(e.interceptors, function(e) {
angular.isString(e) ? o.unshift(n.get(e)) : o.unshift(n.invoke(e));
});
var a = function(e) {
e.method = angular.uppercase(e.method || "WATCH"), r.log("$ws (pre-intercept)", e.url.toString());
var n = [ function(e) {
r.log("$ws (post-intercept)", e.url.toString());
var t = new WebSocket(e.url, e.protocols);
return e.onclose && (t.onclose = e.onclose), e.onmessage && (t.onmessage = e.onmessage), e.onopen && (t.onopen = e.onopen), e.onerror && (t.onerror = e.onerror), t;
}, void 0 ], i = t.when(e);
for (angular.forEach(o, function(e) {
(e.request || e.requestError) && n.unshift(e.request, e.requestError);
}); n.length; ) {
var a = n.shift(), s = n.shift();
i = i.then(a, s);
}
return i;
};
return a.available = function() {
try {
return !!WebSocket;
} catch (e) {
return !1;
}
}, a;
} ];
} ]), angular.module("openshiftCommonUI").factory("GuidedTourService", function() {
function e() {
$("#guided_tour_backdrop").click(u);
}
function t() {
$("#guided_tour_backdrop").remove(), angular.isFunction(l.onTourEndCB) && l.onTourEndCB();
}
function n() {
_.forEach(l.steps, function(e) {
e.onNextOrig = e.onNext, e.onPrevOrig = e.onPrev, e.onNext = i, e.onPrev = r, e.fixedElement = !0, !angular.isUndefined(e.yOffset) || "right" !== e.placement && "left" !== e.placement || (e.yOffset = -45), e.title = _.isFunction(e.title) ? e.title() : e.title, e.content = _.isFunction(e.content) ? e.content() : e.content, e.target = _.isFunction(e.target) ? e.target() : e.target, e.placement = _.isFunction(e.placement) ? e.placement() : e.placement;
});
}
function i() {
var e = hopscotch.getCurrStepNum() - 1, t = l.steps[e];
t && (t.onNextOrig && t.onNextOrig(), o(e + 1));
}
function r() {
var e = hopscotch.getCurrStepNum() + 1, t = l.steps[e];
t && (t.onPrevOrig && t.onPrevOrig(), o(e - 1));
}
function o(e) {
var t = l.steps[e];
if (t && (t.preShow && t.preShow(), t.targetScrollElement)) {
var n = $("body").find(t.targetScrollElement)[0], i = $("body").find(t.target)[0];
if (n && n) {
var r = a(i, n);
"top" === t.placement ? r -= c : r += c, r > n.clientHeight ? n.scrollTop = r : n.scrollTop = 0;
}
}
}
function a(e, t) {
return e && e !== t ? e.offsetTop + a(e.offsetParent, t) : 0;
}
var s, l = {}, c = 175, u = function() {
hopscotch.endTour();
};
return {
startTour: function(i, r) {
$("body").append('<div id="guided_tour_backdrop" class="modal-backdrop fade guided-tour-backdrop"></div>'), s = {
onTourEndCB: r,
bubblePadding: 5,
arrowWidth: 10,
onStart: e,
onEnd: t,
onClose: t,
showPrevButton: !0,
i18n: {
nextBtn: "Next >",
prevBtn: "< Back",
closeTooltip: "x"
}
}, l = {}, angular.merge(l, s, i), n(), o(0), hopscotch.startTour(l, 0);
},
cancelTour: u
};
}), angular.module("openshiftCommonUI").factory("HTMLService", [ "$sanitize", "BREAKPOINTS", function(e, t) {
return {
WINDOW_SIZE_XXS: "xxs",
WINDOW_SIZE_XS: "xs",
WINDOW_SIZE_SM: "sm",
WINDOW_SIZE_MD: "md",
WINDOW_SIZE_LG: "lg",
getBreakpoint: function() {
return window.innerWidth < t.screenXsMin ? "xxs" : window.innerWidth < t.screenSmMin ? "xs" : window.innerWidth < t.screenMdMin ? "sm" : window.innerWidth < t.screenLgMin ? "md" : "lg";
},
isWindowBelowBreakpoint: function(e) {
switch (e) {
case "xxs":
return !1;

case "xs":
return window.innerWidth < t.screenXsMin;

case "sm":
return window.innerWidth < t.screenSmMin;

case "md":
return window.innerWidth < t.screenMdMin;

case "lg":
return window.innerWidth < t.screenLgMin;

default:
return !0;
}
},
isWindowAboveBreakpoint: function(e) {
switch (e) {
case "xs":
return window.innerWidth >= t.screenXsMin;

case "sm":
return window.innerWidth >= t.screenSmMin;

case "md":
return window.innerWidth >= t.screenMdMin;

case "lg":
return window.innerWidth >= t.screenLgMin;

default:
return !0;
}
},
linkify: function(t, n, i) {
return t ? (i || (t = _.escape(t)), e(t.replace(/https?:\/\/[A-Za-z0-9._%+-]+[^\s<]*[^\s.,()\[\]{}<>"\u201d\u2019]/gm, function(e) {
return n ? '<a href="' + e + '" target="' + n + '">' + e + ' <i class="fa fa-external-link" aria-hidden="true"></i></a>' : '<a href="' + e + '">' + e + "</a>";
}))) : t;
}
};
} ]), angular.module("openshiftCommonUI").provider("NotificationsService", function() {
this.dismissDelay = 8e3, this.autoDismissTypes = [ "info", "success" ], this.$get = [ "$rootScope", function(e) {
var t = [], n = this.dismissDelay, i = this.autoDismissTypes, r = function(e, t) {
return t ? "hide/notification/" + t + "/" + e : "hide/notification/" + e;
}, o = function(n) {
n.trackByID = _.uniqueId("notification-") + Date.now(), n.skipToast = n.skipToast || !1, n.showInDrawer = n.showInDrawer || !1, n.timestamp = new Date().toISOString(), a(n) || s(n) || (t.push(n), e.$emit("NotificationsService.onNotificationAdded", n));
}, a = function(e) {
if (!e.id) return !1;
var t = r(e.id, e.namespace);
return "true" === localStorage.getItem(t);
}, s = function(e) {
return !!e.id && _.some(t, function(t) {
return !t.hidden && e.id === t.id;
});
};
return e.$on("NotificationsService.addNotification", function(e, t) {
o(t);
}), {
addNotification: o,
hideNotification: function(e) {
e && _.each(t, function(t) {
t.id === e && (t.hidden = !0);
});
},
getNotifications: function() {
return t;
},
clearNotifications: function() {
t.length = 0;
},
isNotificationPermanentlyHidden: a,
permanentlyHideNotification: function(e, t) {
var n = r(e, t);
localStorage.setItem(n, "true");
},
isAutoDismiss: function(e) {
return _.includes(i, e.type);
},
dismissDelay: n,
autoDismissTypes: i
};
} ], this.setDismissDelay = function(e) {
this.dismissDelay = e;
}, this.setAutoDismissTypes = function(e) {
this.autoDismissTypes = e;
};
}), angular.module("openshiftCommonUI").component("bindApplicationForm", {
controllerAs: "ctrl",
bindings: {
allowNoBinding: "<?",
createBinding: "=",
applicationName: "=",
formName: "=",
serviceClasses: "<",
serviceInstances: "<",
serviceToBind: "="
},
templateUrl: "src/components/binding/bindApplicationForm.html",
controller: [ "BindingService", function(e) {
function t(t) {
return e.isServiceBindable(t, n.serviceClasses);
}
var n = this;
n.$onChanges = function(e) {
(e.serviceInstances || e.serviceClasses) && (n.bindableServiceInstances = _.filter(n.serviceInstances, t));
};
} ]
}), angular.module("openshiftCommonUI").component("bindResults", {
controllerAs: "ctrl",
bindings: {
error: "<",
binding: "<",
serviceToBind: "<",
bindType: "@",
applicationToBind: "<",
showPodPresets: "<",
secretHref: "<"
},
templateUrl: "src/components/binding/bindResults.html"
}), angular.module("openshiftCommonUI").component("bindServiceForm", {
controllerAs: "ctrl",
bindings: {
serviceClass: "<",
showPodPresets: "<",
applications: "<",
formName: "=",
allowNoBinding: "<?",
projectName: "<",
bindType: "=",
appToBind: "="
},
templateUrl: "src/components/binding/bindServiceForm.html",
controller: [ "$filter", function(e) {
var t = this, n = e("humanizeKind");
t.groupByKind = function(e) {
return n(e.kind);
};
} ]
}), angular.module("openshiftCommonUI").directive("createProject", [ "$window", function(e) {
return {
restrict: "E",
scope: {
redirectAction: "&",
onCancel: "&?",
isDialog: "@"
},
templateUrl: "src/components/create-project/createProject.html",
controller: [ "$scope", "$location", "ProjectsService", "NotificationsService", "displayNameFilter", "Logger", function(t, n, i, r, o, a) {
t.submitButtonLabel || (t.submitButtonLabel = "Create"), t.isDialog = "true" === t.isDialog;
t.createProject = function() {
if (t.disableInputs = !0, t.createProjectForm.$valid) {
var e = t.displayName || t.name;
i.create(t.name, t.displayName, t.description).then(function(e) {
var i = t.redirectAction();
i ? i(encodeURIComponent(e.metadata.name)) : n.path("project/" + encodeURIComponent(e.metadata.name) + "/create"), r.addNotification({
type: "success",
message: "Project '" + o(e) + "' was successfully created."
});
}, function(n) {
t.disableInputs = !1;
var i = n.data || {};
if ("AlreadyExists" === i.reason) t.nameTaken = !0; else {
var o = i.message || "An error occurred creating project '" + e + "'.";
r.addNotification({
type: "error",
message: o
}), a.error("Project '" + e + "' could not be created.", n);
}
});
}
}, t.cancelCreateProject = function() {
if (t.onCancel) {
var n = t.onCancel();
n && n();
} else e.history.back();
}, t.$on("$destroy", function() {
r.hideNotification("create-project-error");
});
} ]
};
} ]), angular.module("openshiftCommonUI").directive("deleteProject", [ "$uibModal", "$location", "$filter", "$q", "hashSizeFilter", "APIService", "NotificationsService", "ProjectsService", "Logger", function(e, t, n, i, r, o, a, s, l) {
return {
restrict: "E",
scope: {
project: "=",
disableDelete: "=?",
typeNameToConfirm: "=?",
label: "@?",
buttonOnly: "@",
stayOnCurrentPage: "=?",
success: "=?",
redirectUrl: "@?"
},
templateUrl: function(e, t) {
return angular.isDefined(t.buttonOnly) ? "src/components/delete-project/delete-project-button.html" : "src/components/delete-project/delete-project.html";
},
replace: !0,
link: function(i, r, o) {
var c = n("displayName"), u = function() {
if (!i.stayOnCurrentPage) if (i.redirectUrl) t.url(i.redirectUrl); else if ("/" !== t.path()) {
var e = URI("/");
t.url(e);
} else i.$emit("deleteProject");
};
i.openDeleteModal = function() {
i.disableDelete || e.open({
templateUrl: "src/components/delete-project/delete-project-modal.html",
controller: "DeleteProjectModalController",
scope: i
}).result.then(function() {
var e = "Project '" + c(i.project) + "'";
s.delete(i.project).then(function() {
a.addNotification({
type: "success",
message: e + " was marked for deletion."
}), i.success && i.success(), u();
}).catch(function(t) {
a.addNotification({
type: "error",
message: e + " could not be deleted.",
details: n("getErrorDetails")(t)
}), l.error(e + " could not be deleted.", t);
});
});
};
}
};
} ]), angular.module("openshiftCommonUI").controller("DeleteProjectModalController", [ "$scope", "$uibModalInstance", function(e, t) {
e.delete = function() {
t.close("delete");
}, e.cancel = function() {
t.dismiss("cancel");
};
} ]), angular.module("openshiftCommonUI").directive("editProject", [ "$window", function(e) {
return {
restrict: "E",
scope: {
project: "=",
submitButtonLabel: "@",
redirectAction: "&",
onCancel: "&",
isDialog: "@"
},
templateUrl: "src/components/edit-project/editProject.html",
controller: [ "$scope", "$filter", "$location", "Logger", "NotificationsService", "ProjectsService", "annotationNameFilter", "displayNameFilter", function(t, n, i, r, o, a, s, l) {
t.submitButtonLabel || (t.submitButtonLabel = "Save"), t.isDialog = "true" === t.isDialog;
var c = n("annotation"), u = n("annotationName"), d = function(e) {
return {
description: c(e, "description"),
displayName: c(e, "displayName")
};
}, h = function(e, t) {
var n = angular.copy(e);
return n.metadata.annotations[u("description")] = t.description, n.metadata.annotations[u("displayName")] = t.displayName, n;
}, f = function(e) {
var t = [ s("description"), s("displayName") ];
return _.each(t, function(t) {
e.metadata.annotations[t] || delete e.metadata.annotations[t];
}), e;
};
t.editableFields = d(t.project), t.update = function() {
t.disableInputs = !0, t.editProjectForm.$valid && a.update(t.project.metadata.name, f(h(t.project, t.editableFields))).then(function(e) {
var n = t.redirectAction();
n && n(encodeURIComponent(t.project.metadata.name)), o.addNotification({
type: "success",
message: "Project '" + l(e) + "' was successfully updated."
});
}, function(e) {
t.disableInputs = !1, t.editableFields = d(t.project), o.addNotification({
type: "error",
message: "An error occurred while updating project '" + l(t.project) + "'.",
details: n("getErrorDetails")(e)
}), r.error("Project '" + l(t.project) + "' could not be updated.", e);
});
}, t.cancelEditProject = function() {
var n = t.onCancel();
n ? n() : e.history.back();
};
} ]
};
} ]), angular.module("openshiftCommonUI").component("originModalPopup", {
transclude: !0,
bindings: {
modalTitle: "@",
shown: "<",
position: "@",
referenceElement: "<?",
onClose: "<"
},
templateUrl: "src/components/origin-modal-popup/origin-modal-popup.html",
controller: [ "$scope", "HTMLService", "$element", "$window", function(e, t, n, i) {
function r() {
var e = d.referenceElement || n[0].parentNode;
if (e && t.isWindowAboveBreakpoint(t.WINDOW_SIZE_SM)) {
var r, o, a = d.position && d.position.indexOf("top") > -1, s = d.position && d.position.indexOf("left") > -1, l = e.getBoundingClientRect(), c = i.innerHeight, u = n[0].children[0], h = _.get(u, "offsetHeight", 0), f = _.get(u, "offsetWidth", 0);
l.top < h ? a = !1 : l.bottom + h > c && (a = !0), r = a ? l.top - h + "px" : l.bottom + "px", o = s ? l.left + "px" : l.right - f + "px", d.showAbove = a, d.showLeft = s, d.positionStyle = {
left: o,
top: r
};
} else d.positionStyle = {};
}
function o() {
var e = d.referenceElement ? d.referenceElement.parentNode : n[0].parentNode;
$(e).append('<div class="origin-modal-popup-backdrop modal-backdrop fade in tile-click-prevent"></div>');
}
function a() {
$(".origin-modal-popup-backdrop").remove();
}
function s() {
e.$evalAsync(r);
}
function l() {
o(), u = _.debounce(s, 50, {
maxWait: 250
}), angular.element(i).on("resize", u);
}
function c() {
a(), u && (angular.element(i).off("resize", u), u = null);
}
var u, d = this;
d.$onChanges = function(e) {
e.shown && (d.shown ? l() : c()), (e.shown || e.referenceElement) && d.shown && r();
}, d.$onDestroy = function() {
d.shown && c();
};
} ]
}), angular.module("openshiftCommonUI").directive("oscUnique", function() {
return {
restrict: "A",
scope: {
oscUnique: "=",
oscUniqueDisabled: "="
},
require: "ngModel",
link: function(e, t, n, i) {
var r = [], o = !0;
e.$watchCollection("oscUnique", function(e) {
r = _.isArray(e) ? e : _.keys(e);
});
var a = function() {
i.$setValidity("oscUnique", e.oscUniqueDisabled || o);
};
e.$watch("oscUniqueDisabled", a), i.$parsers.unshift(function(e) {
return o = !_.includes(r, e), a(), e;
});
}
};
}), angular.module("openshiftCommonUI").directive("toggle", [ "IS_IOS", function(e) {
var t = function(e) {
$("body").css("cursor", e);
}, n = _.partial(t, "pointer"), i = _.partial(t, "auto");
return e && ($(document).on("shown.bs.popover", n), $(document).on("shown.bs.tooltip", n), $(document).on("hide.bs.popover", i), $(document).on("hide.bs.tooltip", i)), {
restrict: "A",
scope: {
dynamicContent: "@?"
},
link: function(e, t, n) {
var i = {
container: n.container || "body",
placement: n.placement || "auto"
};
if (n) switch (n.toggle) {
case "popover":
(n.dynamicContent || "" === n.dynamicContent) && e.$watch("dynamicContent", function() {
$(t).popover("destroy"), setTimeout(function() {
$(t).attr("data-content", e.dynamicContent).popover(i);
}, 200);
}), $(t).popover(i), e.$on("$destroy", function() {
$(t).popover("destroy");
});
break;

case "tooltip":
(n.dynamicContent || "" === n.dynamicContent) && e.$watch("dynamicContent", function() {
$(t).tooltip("destroy"), setTimeout(function() {
$(t).attr("title", e.dynamicContent).tooltip(i);
}, 200);
}), $(t).tooltip(i), e.$on("$destroy", function() {
$(t).tooltip("destroy");
});
break;

case "dropdown":
"dropdown" === n.hover && ($(t).dropdownHover({
delay: 200
}), $(t).dropdown());
}
}
};
} ]), angular.module("openshiftCommonUI").directive("takeFocus", [ "$timeout", function(e) {
return {
restrict: "A",
link: function(t, n) {
e(function() {
$(n).focus();
}, 300);
}
};
} ]), angular.module("openshiftCommonUI").directive("tileClick", function() {
return {
restrict: "AC",
link: function(e, t) {
$(t).click(function(e) {
var n = $(e.target);
n && (n.closest("a", t).length || n.closest("button", t).length) || n.closest(".tile-click-prevent", t).length || angular.element($("a.tile-target", t))[0].click();
});
}
};
}), angular.module("openshiftCommonUI").directive("toastNotifications", [ "NotificationsService", "$rootScope", "$timeout", function(e, t, n) {
return {
restrict: "E",
scope: {},
templateUrl: "src/components/toast-notifications/toast-notifications.html",
link: function(i) {
i.notifications = [];
var r = function(e) {
return e.hidden && !e.isHover;
}, o = function(e) {
e.isHover = !1, e.hidden = !0;
}, a = function() {
i.notifications = _.reject(i.notifications, r);
};
i.close = function(e) {
o(e), _.isFunction(e.onClose) && e.onClose();
}, i.onClick = function(e, t) {
_.isFunction(t.onClick) && t.onClick() && o(e);
}, i.setHover = function(e, t) {
r(e) || (e.isHover = t);
};
var s = t.$on("NotificationsService.onNotificationAdded", function(t, r) {
r.skipToast || i.$evalAsync(function() {
i.notifications.push(r), e.isAutoDismiss(r) && n(function() {
r.hidden = !0;
}, e.dismissDelay), a();
});
});
i.$on("$destroy", function() {
s && (s(), s = null);
});
}
};
} ]), angular.module("openshiftCommonUI").directive("truncateLongText", [ "truncateFilter", function(e) {
return {
restrict: "E",
scope: {
content: "=",
limit: "=",
newlineLimit: "=",
useWordBoundary: "=",
expandable: "=",
hideCollapse: "=",
keywords: "=highlightKeywords",
linkify: "=?"
},
templateUrl: "src/components/truncate-long-text/truncateLongText.html",
link: function(t) {
t.toggles = {
expanded: !1
}, t.$watch("content", function(n) {
n ? (t.truncatedContent = e(n, t.limit, t.useWordBoundary, t.newlineLimit), t.truncated = t.truncatedContent.length !== n.length) : (t.truncatedContent = null, t.truncated = !1);
});
}
};
} ]), function(e, t) {
"function" == typeof define && define.amd ? define([], t) : "undefined" != typeof module && module.exports ? module.exports = t() : e.tv4 = t();
}(this, function() {
function e(t, n) {
if (t === n) return !0;
if ("object" == typeof t && "object" == typeof n) {
if (Array.isArray(t) !== Array.isArray(n)) return !1;
if (Array.isArray(t)) {
if (t.length !== n.length) return !1;
for (var i = 0; i < t.length; i++) if (!e(t[i], n[i])) return !1;
} else {
var r;
for (r in t) if (void 0 === n[r] && void 0 !== t[r]) return !1;
for (r in n) if (void 0 === t[r] && void 0 !== n[r]) return !1;
for (r in t) if (!e(t[r], n[r])) return !1;
}
return !0;
}
return !1;
}
function t(e) {
var t = String(e).replace(/^\s+|\s+$/g, "").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);
return t ? {
href: t[0] || "",
protocol: t[1] || "",
authority: t[2] || "",
host: t[3] || "",
hostname: t[4] || "",
port: t[5] || "",
pathname: t[6] || "",
search: t[7] || "",
hash: t[8] || ""
} : null;
}
function n(e, n) {
return n = t(n || ""), e = t(e || ""), n && e ? (n.protocol || e.protocol) + (n.protocol || n.authority ? n.authority : e.authority) + function(e) {
var t = [];
return e.replace(/^(\.\.?(\/|$))+/, "").replace(/\/(\.(\/|$))+/g, "/").replace(/\/\.\.$/, "/../").replace(/\/?[^\/]*/g, function(e) {
"/.." === e ? t.pop() : t.push(e);
}), t.join("").replace(/^\//, "/" === e.charAt(0) ? "/" : "");
}(n.protocol || n.authority || "/" === n.pathname.charAt(0) ? n.pathname : n.pathname ? (e.authority && !e.pathname ? "/" : "") + e.pathname.slice(0, e.pathname.lastIndexOf("/") + 1) + n.pathname : e.pathname) + (n.protocol || n.authority || n.pathname ? n.search : n.search || e.search) + n.hash : null;
}
function i(e) {
return e.split("#")[0];
}
function r(e, t) {
if (e && "object" == typeof e) if (void 0 === t ? t = e.id : "string" == typeof e.id && (t = n(t, e.id), e.id = t), Array.isArray(e)) for (var i = 0; i < e.length; i++) r(e[i], t); else {
"string" == typeof e.$ref && (e.$ref = n(t, e.$ref));
for (var o in e) "enum" !== o && r(e[o], t);
}
}
function o(e, t, n, i, r) {
if (Error.call(this), void 0 === e) throw new Error("No code supplied for error: " + t);
this.message = t, this.code = e, this.dataPath = n || "", this.schemaPath = i || "", this.subErrors = r || null;
var o = new Error(this.message);
if (this.stack = o.stack || o.stacktrace, !this.stack) try {
throw o;
} catch (o) {
this.stack = o.stack || o.stacktrace;
}
}
function a(e, t) {
if (t.substring(0, e.length) === e) {
var n = t.substring(e.length);
if (t.length > 0 && "/" === t.charAt(e.length - 1) || "#" === n.charAt(0) || "?" === n.charAt(0)) return !0;
}
return !1;
}
function s(e) {
var t = new l(), o = e || "en";
return {
addFormat: function() {
t.addFormat.apply(t, arguments);
},
language: function(e) {
return e ? (f[e] || (e = e.split("-")[0]), !!f[e] && (o = e, e)) : o;
},
addLanguage: function(e, t) {
var n;
for (n in c) t[n] && !t[c[n]] && (t[c[n]] = t[n]);
var i = e.split("-")[0];
if (f[i]) {
f[e] = Object.create(f[i]);
for (n in t) void 0 === f[i][n] && (f[i][n] = t[n]), f[e][n] = t[n];
} else f[e] = t, f[i] = t;
return this;
},
freshApi: function(e) {
var t = s();
return e && t.language(e), t;
},
validate: function(e, n, i, r) {
var a = new l(t, !1, f[o], i, r);
"string" == typeof n && (n = {
$ref: n
}), a.addSchema("", n);
var s = a.validateAll(e, n, null, null, "");
return !s && r && (s = a.banUnknownProperties()), this.error = s, this.missing = a.missing, this.valid = null === s, this.valid;
},
validateResult: function() {
var e = {};
return this.validate.apply(e, arguments), e;
},
validateMultiple: function(e, n, i, r) {
var a = new l(t, !0, f[o], i, r);
"string" == typeof n && (n = {
$ref: n
}), a.addSchema("", n), a.validateAll(e, n, null, null, ""), r && a.banUnknownProperties();
var s = {};
return s.errors = a.errors, s.missing = a.missing, s.valid = 0 === s.errors.length, s;
},
addSchema: function() {
return t.addSchema.apply(t, arguments);
},
getSchema: function() {
return t.getSchema.apply(t, arguments);
},
getSchemaMap: function() {
return t.getSchemaMap.apply(t, arguments);
},
getSchemaUris: function() {
return t.getSchemaUris.apply(t, arguments);
},
getMissingUris: function() {
return t.getMissingUris.apply(t, arguments);
},
dropSchemas: function() {
t.dropSchemas.apply(t, arguments);
},
defineKeyword: function() {
t.defineKeyword.apply(t, arguments);
},
defineError: function(e, t, n) {
if ("string" != typeof e || !/^[A-Z]+(_[A-Z]+)*$/.test(e)) throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");
if ("number" != typeof t || t % 1 != 0 || t < 1e4) throw new Error("Code number must be an integer > 10000");
if (void 0 !== c[e]) throw new Error("Error already defined: " + e + " as " + c[e]);
if (void 0 !== u[t]) throw new Error("Error code already used: " + u[t] + " as " + t);
c[e] = t, u[t] = e, h[e] = h[t] = n;
for (var i in f) {
var r = f[i];
r[e] && (r[t] = r[t] || r[e]);
}
},
reset: function() {
t.reset(), this.error = null, this.missing = [], this.valid = !0;
},
missing: [],
error: null,
valid: !0,
normSchema: r,
resolveUrl: n,
getDocumentUri: i,
errorCodes: c
};
}
Object.keys || (Object.keys = function() {
var e = Object.prototype.hasOwnProperty, t = !{
toString: null
}.propertyIsEnumerable("toString"), n = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ], i = n.length;
return function(r) {
if ("object" != typeof r && "function" != typeof r || null === r) throw new TypeError("Object.keys called on non-object");
var o = [];
for (var a in r) e.call(r, a) && o.push(a);
if (t) for (var s = 0; s < i; s++) e.call(r, n[s]) && o.push(n[s]);
return o;
};
}()), Object.create || (Object.create = function() {
function e() {}
return function(t) {
if (1 !== arguments.length) throw new Error("Object.create implementation only accepts one parameter.");
return e.prototype = t, new e();
};
}()), Array.isArray || (Array.isArray = function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}), Array.prototype.indexOf || (Array.prototype.indexOf = function(e) {
if (null === this) throw new TypeError();
var t = Object(this), n = t.length >>> 0;
if (0 === n) return -1;
var i = 0;
if (arguments.length > 1 && ((i = Number(arguments[1])) !== i ? i = 0 : 0 !== i && i !== 1 / 0 && i !== -1 / 0 && (i = (i > 0 || -1) * Math.floor(Math.abs(i)))), i >= n) return -1;
for (var r = i >= 0 ? i : Math.max(n - Math.abs(i), 0); r < n; r++) if (r in t && t[r] === e) return r;
return -1;
}), Object.isFrozen || (Object.isFrozen = function(e) {
for (var t = "tv4_test_frozen_key"; e.hasOwnProperty(t); ) t += Math.random();
try {
return e[t] = !0, delete e[t], !1;
} catch (e) {
return !0;
}
});
var l = function(e, t, n, i, r) {
if (this.missing = [], this.missingMap = {}, this.formatValidators = e ? Object.create(e.formatValidators) : {}, this.schemas = e ? Object.create(e.schemas) : {}, this.collectMultiple = t, this.errors = [], this.handleError = t ? this.collectError : this.returnError, i && (this.checkRecursive = !0, this.scanned = [], this.scannedFrozen = [], this.scannedFrozenSchemas = [], this.scannedFrozenValidationErrors = [], this.validatedSchemasKey = "tv4_validation_id", this.validationErrorsKey = "tv4_validation_errors_id"), r && (this.trackUnknownProperties = !0, this.knownPropertyPaths = {}, this.unknownPropertyPaths = {}), this.errorMessages = n, this.definedKeywords = {}, e) for (var o in e.definedKeywords) this.definedKeywords[o] = e.definedKeywords[o].slice(0);
};
l.prototype.defineKeyword = function(e, t) {
this.definedKeywords[e] = this.definedKeywords[e] || [], this.definedKeywords[e].push(t);
}, l.prototype.createError = function(e, t, n, i, r) {
var a = this.errorMessages[e] || h[e];
return "string" != typeof a ? new o(e, "Unknown error code " + e + ": " + JSON.stringify(t), n, i, r) : new o(e, a.replace(/\{([^{}]*)\}/g, function(e, n) {
var i = t[n];
return "string" == typeof i || "number" == typeof i ? i : e;
}), n, i, r);
}, l.prototype.returnError = function(e) {
return e;
}, l.prototype.collectError = function(e) {
return e && this.errors.push(e), null;
}, l.prototype.prefixErrors = function(e, t, n) {
for (var i = e; i < this.errors.length; i++) this.errors[i] = this.errors[i].prefixWith(t, n);
return this;
}, l.prototype.banUnknownProperties = function() {
for (var e in this.unknownPropertyPaths) {
var t = this.createError(c.UNKNOWN_PROPERTY, {
path: e
}, e, ""), n = this.handleError(t);
if (n) return n;
}
return null;
}, l.prototype.addFormat = function(e, t) {
if ("object" == typeof e) {
for (var n in e) this.addFormat(n, e[n]);
return this;
}
this.formatValidators[e] = t;
}, l.prototype.resolveRefs = function(e, t) {
if (void 0 !== e.$ref) {
if ((t = t || {})[e.$ref]) return this.createError(c.CIRCULAR_REFERENCE, {
urls: Object.keys(t).join(", ")
}, "", "");
t[e.$ref] = !0, e = this.getSchema(e.$ref, t);
}
return e;
}, l.prototype.getSchema = function(e, t) {
var n;
if (void 0 !== this.schemas[e]) return n = this.schemas[e], this.resolveRefs(n, t);
var i = e, r = "";
if (-1 !== e.indexOf("#") && (r = e.substring(e.indexOf("#") + 1), i = e.substring(0, e.indexOf("#"))), "object" == typeof this.schemas[i]) {
n = this.schemas[i];
var o = decodeURIComponent(r);
if ("" === o) return this.resolveRefs(n, t);
if ("/" !== o.charAt(0)) return;
for (var a = o.split("/").slice(1), s = 0; s < a.length; s++) {
var l = a[s].replace(/~1/g, "/").replace(/~0/g, "~");
if (void 0 === n[l]) {
n = void 0;
break;
}
n = n[l];
}
if (void 0 !== n) return this.resolveRefs(n, t);
}
void 0 === this.missing[i] && (this.missing.push(i), this.missing[i] = i, this.missingMap[i] = i);
}, l.prototype.searchSchemas = function(e, t) {
if (e && "object" == typeof e) {
"string" == typeof e.id && a(t, e.id) && void 0 === this.schemas[e.id] && (this.schemas[e.id] = e);
for (var n in e) if ("enum" !== n) if ("object" == typeof e[n]) this.searchSchemas(e[n], t); else if ("$ref" === n) {
var r = i(e[n]);
r && void 0 === this.schemas[r] && void 0 === this.missingMap[r] && (this.missingMap[r] = r);
}
}
}, l.prototype.addSchema = function(e, t) {
if ("string" != typeof e || void 0 === t) {
if ("object" != typeof e || "string" != typeof e.id) return;
e = (t = e).id;
}
(e = i(e) + "#") && (e = i(e)), this.schemas[e] = t, delete this.missingMap[e], r(t, e), this.searchSchemas(t, e);
}, l.prototype.getSchemaMap = function() {
var e = {};
for (var t in this.schemas) e[t] = this.schemas[t];
return e;
}, l.prototype.getSchemaUris = function(e) {
var t = [];
for (var n in this.schemas) e && !e.test(n) || t.push(n);
return t;
}, l.prototype.getMissingUris = function(e) {
var t = [];
for (var n in this.missingMap) e && !e.test(n) || t.push(n);
return t;
}, l.prototype.dropSchemas = function() {
this.schemas = {}, this.reset();
}, l.prototype.reset = function() {
this.missing = [], this.missingMap = {}, this.errors = [];
}, l.prototype.validateAll = function(e, t, n, i, r) {
var a;
if (!(t = this.resolveRefs(t))) return null;
if (t instanceof o) return this.errors.push(t), t;
var s, l = this.errors.length, c = null, u = null;
if (this.checkRecursive && e && "object" == typeof e) {
if (a = !this.scanned.length, e[this.validatedSchemasKey]) {
var d = e[this.validatedSchemasKey].indexOf(t);
if (-1 !== d) return this.errors = this.errors.concat(e[this.validationErrorsKey][d]), null;
}
if (Object.isFrozen(e) && -1 !== (s = this.scannedFrozen.indexOf(e))) {
var h = this.scannedFrozenSchemas[s].indexOf(t);
if (-1 !== h) return this.errors = this.errors.concat(this.scannedFrozenValidationErrors[s][h]), null;
}
if (this.scanned.push(e), Object.isFrozen(e)) -1 === s && (s = this.scannedFrozen.length, this.scannedFrozen.push(e), this.scannedFrozenSchemas.push([])), c = this.scannedFrozenSchemas[s].length, this.scannedFrozenSchemas[s][c] = t, this.scannedFrozenValidationErrors[s][c] = []; else {
if (!e[this.validatedSchemasKey]) try {
Object.defineProperty(e, this.validatedSchemasKey, {
value: [],
configurable: !0
}), Object.defineProperty(e, this.validationErrorsKey, {
value: [],
configurable: !0
});
} catch (t) {
e[this.validatedSchemasKey] = [], e[this.validationErrorsKey] = [];
}
u = e[this.validatedSchemasKey].length, e[this.validatedSchemasKey][u] = t, e[this.validationErrorsKey][u] = [];
}
}
var f = this.errors.length, p = this.validateBasic(e, t, r) || this.validateNumeric(e, t, r) || this.validateString(e, t, r) || this.validateArray(e, t, r) || this.validateObject(e, t, r) || this.validateCombinations(e, t, r) || this.validateFormat(e, t, r) || this.validateDefinedKeywords(e, t, r) || null;
if (a) {
for (;this.scanned.length; ) delete this.scanned.pop()[this.validatedSchemasKey];
this.scannedFrozen = [], this.scannedFrozenSchemas = [];
}
if (p || f !== this.errors.length) for (;n && n.length || i && i.length; ) {
var g = n && n.length ? "" + n.pop() : null, m = i && i.length ? "" + i.pop() : null;
p && (p = p.prefixWith(g, m)), this.prefixErrors(f, g, m);
}
return null !== c ? this.scannedFrozenValidationErrors[s][c] = this.errors.slice(l) : null !== u && (e[this.validationErrorsKey][u] = this.errors.slice(l)), this.handleError(p);
}, l.prototype.validateFormat = function(e, t) {
if ("string" != typeof t.format || !this.formatValidators[t.format]) return null;
var n = this.formatValidators[t.format].call(null, e, t);
return "string" == typeof n || "number" == typeof n ? this.createError(c.FORMAT_CUSTOM, {
message: n
}).prefixWith(null, "format") : n && "object" == typeof n ? this.createError(c.FORMAT_CUSTOM, {
message: n.message || "?"
}, n.dataPath || null, n.schemaPath || "/format") : null;
}, l.prototype.validateDefinedKeywords = function(e, t) {
for (var n in this.definedKeywords) for (var i = this.definedKeywords[n], r = 0; r < i.length; r++) {
var o = (0, i[r])(e, t[n], t);
if ("string" == typeof o || "number" == typeof o) return this.createError(c.KEYWORD_CUSTOM, {
key: n,
message: o
}).prefixWith(null, "format");
if (o && "object" == typeof o) {
var a = o.code || c.KEYWORD_CUSTOM;
if ("string" == typeof a) {
if (!c[a]) throw new Error("Undefined error code (use defineError): " + a);
a = c[a];
}
var s = "object" == typeof o.message ? o.message : {
key: n,
message: o.message || "?"
}, l = o.schemaPath || "/" + n.replace(/~/g, "~0").replace(/\//g, "~1");
return this.createError(a, s, o.dataPath || null, l);
}
}
return null;
}, l.prototype.validateBasic = function(e, t, n) {
var i;
return (i = this.validateType(e, t, n)) ? i.prefixWith(null, "type") : (i = this.validateEnum(e, t, n)) ? i.prefixWith(null, "type") : null;
}, l.prototype.validateType = function(e, t) {
if (void 0 === t.type) return null;
var n = typeof e;
null === e ? n = "null" : Array.isArray(e) && (n = "array");
var i = t.type;
"object" != typeof i && (i = [ i ]);
for (var r = 0; r < i.length; r++) {
var o = i[r];
if (o === n || "integer" === o && "number" === n && e % 1 == 0) return null;
}
return this.createError(c.INVALID_TYPE, {
type: n,
expected: i.join("/")
});
}, l.prototype.validateEnum = function(t, n) {
if (void 0 === n.enum) return null;
for (var i = 0; i < n.enum.length; i++) if (e(t, n.enum[i])) return null;
return this.createError(c.ENUM_MISMATCH, {
value: "undefined" != typeof JSON ? JSON.stringify(t) : t
});
}, l.prototype.validateNumeric = function(e, t, n) {
return this.validateMultipleOf(e, t, n) || this.validateMinMax(e, t, n) || null;
}, l.prototype.validateMultipleOf = function(e, t) {
var n = t.multipleOf || t.divisibleBy;
return void 0 === n ? null : "number" == typeof e && e % n != 0 ? this.createError(c.NUMBER_MULTIPLE_OF, {
value: e,
multipleOf: n
}) : null;
}, l.prototype.validateMinMax = function(e, t) {
if ("number" != typeof e) return null;
if (void 0 !== t.minimum) {
if (e < t.minimum) return this.createError(c.NUMBER_MINIMUM, {
value: e,
minimum: t.minimum
}).prefixWith(null, "minimum");
if (t.exclusiveMinimum && e === t.minimum) return this.createError(c.NUMBER_MINIMUM_EXCLUSIVE, {
value: e,
minimum: t.minimum
}).prefixWith(null, "exclusiveMinimum");
}
if (void 0 !== t.maximum) {
if (e > t.maximum) return this.createError(c.NUMBER_MAXIMUM, {
value: e,
maximum: t.maximum
}).prefixWith(null, "maximum");
if (t.exclusiveMaximum && e === t.maximum) return this.createError(c.NUMBER_MAXIMUM_EXCLUSIVE, {
value: e,
maximum: t.maximum
}).prefixWith(null, "exclusiveMaximum");
}
return null;
}, l.prototype.validateString = function(e, t, n) {
return this.validateStringLength(e, t, n) || this.validateStringPattern(e, t, n) || null;
}, l.prototype.validateStringLength = function(e, t) {
return "string" != typeof e ? null : void 0 !== t.minLength && e.length < t.minLength ? this.createError(c.STRING_LENGTH_SHORT, {
length: e.length,
minimum: t.minLength
}).prefixWith(null, "minLength") : void 0 !== t.maxLength && e.length > t.maxLength ? this.createError(c.STRING_LENGTH_LONG, {
length: e.length,
maximum: t.maxLength
}).prefixWith(null, "maxLength") : null;
}, l.prototype.validateStringPattern = function(e, t) {
return "string" != typeof e || void 0 === t.pattern ? null : new RegExp(t.pattern).test(e) ? null : this.createError(c.STRING_PATTERN, {
pattern: t.pattern
}).prefixWith(null, "pattern");
}, l.prototype.validateArray = function(e, t, n) {
return Array.isArray(e) ? this.validateArrayLength(e, t, n) || this.validateArrayUniqueItems(e, t, n) || this.validateArrayItems(e, t, n) || null : null;
}, l.prototype.validateArrayLength = function(e, t) {
var n;
return void 0 !== t.minItems && e.length < t.minItems && (n = this.createError(c.ARRAY_LENGTH_SHORT, {
length: e.length,
minimum: t.minItems
}).prefixWith(null, "minItems"), this.handleError(n)) ? n : void 0 !== t.maxItems && e.length > t.maxItems && (n = this.createError(c.ARRAY_LENGTH_LONG, {
length: e.length,
maximum: t.maxItems
}).prefixWith(null, "maxItems"), this.handleError(n)) ? n : null;
}, l.prototype.validateArrayUniqueItems = function(t, n) {
if (n.uniqueItems) for (var i = 0; i < t.length; i++) for (var r = i + 1; r < t.length; r++) if (e(t[i], t[r])) {
var o = this.createError(c.ARRAY_UNIQUE, {
match1: i,
match2: r
}).prefixWith(null, "uniqueItems");
if (this.handleError(o)) return o;
}
return null;
}, l.prototype.validateArrayItems = function(e, t, n) {
if (void 0 === t.items) return null;
var i, r;
if (Array.isArray(t.items)) {
for (r = 0; r < e.length; r++) if (r < t.items.length) {
if (i = this.validateAll(e[r], t.items[r], [ r ], [ "items", r ], n + "/" + r)) return i;
} else if (void 0 !== t.additionalItems) if ("boolean" == typeof t.additionalItems) {
if (!t.additionalItems && (i = this.createError(c.ARRAY_ADDITIONAL_ITEMS, {}).prefixWith("" + r, "additionalItems"), this.handleError(i))) return i;
} else if (i = this.validateAll(e[r], t.additionalItems, [ r ], [ "additionalItems" ], n + "/" + r)) return i;
} else for (r = 0; r < e.length; r++) if (i = this.validateAll(e[r], t.items, [ r ], [ "items" ], n + "/" + r)) return i;
return null;
}, l.prototype.validateObject = function(e, t, n) {
return "object" != typeof e || null === e || Array.isArray(e) ? null : this.validateObjectMinMaxProperties(e, t, n) || this.validateObjectRequiredProperties(e, t, n) || this.validateObjectProperties(e, t, n) || this.validateObjectDependencies(e, t, n) || null;
}, l.prototype.validateObjectMinMaxProperties = function(e, t) {
var n, i = Object.keys(e);
return void 0 !== t.minProperties && i.length < t.minProperties && (n = this.createError(c.OBJECT_PROPERTIES_MINIMUM, {
propertyCount: i.length,
minimum: t.minProperties
}).prefixWith(null, "minProperties"), this.handleError(n)) ? n : void 0 !== t.maxProperties && i.length > t.maxProperties && (n = this.createError(c.OBJECT_PROPERTIES_MAXIMUM, {
propertyCount: i.length,
maximum: t.maxProperties
}).prefixWith(null, "maxProperties"), this.handleError(n)) ? n : null;
}, l.prototype.validateObjectRequiredProperties = function(e, t) {
if (void 0 !== t.required) for (var n = 0; n < t.required.length; n++) {
var i = t.required[n];
if (void 0 === e[i]) {
var r = this.createError(c.OBJECT_REQUIRED, {
key: i
}).prefixWith(null, "" + n).prefixWith(null, "required");
if (this.handleError(r)) return r;
}
}
return null;
}, l.prototype.validateObjectProperties = function(e, t, n) {
var i;
for (var r in e) {
var o = n + "/" + r.replace(/~/g, "~0").replace(/\//g, "~1"), a = !1;
if (void 0 !== t.properties && void 0 !== t.properties[r] && (a = !0, i = this.validateAll(e[r], t.properties[r], [ r ], [ "properties", r ], o))) return i;
if (void 0 !== t.patternProperties) for (var s in t.patternProperties) if (new RegExp(s).test(r) && (a = !0, i = this.validateAll(e[r], t.patternProperties[s], [ r ], [ "patternProperties", s ], o))) return i;
if (a) this.trackUnknownProperties && (this.knownPropertyPaths[o] = !0, delete this.unknownPropertyPaths[o]); else if (void 0 !== t.additionalProperties) {
if (this.trackUnknownProperties && (this.knownPropertyPaths[o] = !0, delete this.unknownPropertyPaths[o]), "boolean" == typeof t.additionalProperties) {
if (!t.additionalProperties && (i = this.createError(c.OBJECT_ADDITIONAL_PROPERTIES, {}).prefixWith(r, "additionalProperties"), this.handleError(i))) return i;
} else if (i = this.validateAll(e[r], t.additionalProperties, [ r ], [ "additionalProperties" ], o)) return i;
} else this.trackUnknownProperties && !this.knownPropertyPaths[o] && (this.unknownPropertyPaths[o] = !0);
}
return null;
}, l.prototype.validateObjectDependencies = function(e, t, n) {
var i;
if (void 0 !== t.dependencies) for (var r in t.dependencies) if (void 0 !== e[r]) {
var o = t.dependencies[r];
if ("string" == typeof o) {
if (void 0 === e[o] && (i = this.createError(c.OBJECT_DEPENDENCY_KEY, {
key: r,
missing: o
}).prefixWith(null, r).prefixWith(null, "dependencies"), this.handleError(i))) return i;
} else if (Array.isArray(o)) for (var a = 0; a < o.length; a++) {
var s = o[a];
if (void 0 === e[s] && (i = this.createError(c.OBJECT_DEPENDENCY_KEY, {
key: r,
missing: s
}).prefixWith(null, "" + a).prefixWith(null, r).prefixWith(null, "dependencies"), this.handleError(i))) return i;
} else if (i = this.validateAll(e, o, [], [ "dependencies", r ], n)) return i;
}
return null;
}, l.prototype.validateCombinations = function(e, t, n) {
return this.validateAllOf(e, t, n) || this.validateAnyOf(e, t, n) || this.validateOneOf(e, t, n) || this.validateNot(e, t, n) || null;
}, l.prototype.validateAllOf = function(e, t, n) {
if (void 0 === t.allOf) return null;
for (var i, r = 0; r < t.allOf.length; r++) {
var o = t.allOf[r];
if (i = this.validateAll(e, o, [], [ "allOf", r ], n)) return i;
}
return null;
}, l.prototype.validateAnyOf = function(e, t, n) {
if (void 0 === t.anyOf) return null;
var i, r, o = [], a = this.errors.length;
this.trackUnknownProperties && (i = this.unknownPropertyPaths, r = this.knownPropertyPaths);
for (var s = !0, l = 0; l < t.anyOf.length; l++) {
this.trackUnknownProperties && (this.unknownPropertyPaths = {}, this.knownPropertyPaths = {});
var u = t.anyOf[l], d = this.errors.length, h = this.validateAll(e, u, [], [ "anyOf", l ], n);
if (null === h && d === this.errors.length) {
if (this.errors = this.errors.slice(0, a), this.trackUnknownProperties) {
for (var f in this.knownPropertyPaths) r[f] = !0, delete i[f];
for (var p in this.unknownPropertyPaths) r[p] || (i[p] = !0);
s = !1;
continue;
}
return null;
}
h && o.push(h.prefixWith(null, "" + l).prefixWith(null, "anyOf"));
}
return this.trackUnknownProperties && (this.unknownPropertyPaths = i, this.knownPropertyPaths = r), s ? (o = o.concat(this.errors.slice(a)), this.errors = this.errors.slice(0, a), this.createError(c.ANY_OF_MISSING, {}, "", "/anyOf", o)) : void 0;
}, l.prototype.validateOneOf = function(e, t, n) {
if (void 0 === t.oneOf) return null;
var i, r, o = null, a = [], s = this.errors.length;
this.trackUnknownProperties && (i = this.unknownPropertyPaths, r = this.knownPropertyPaths);
for (var l = 0; l < t.oneOf.length; l++) {
this.trackUnknownProperties && (this.unknownPropertyPaths = {}, this.knownPropertyPaths = {});
var u = t.oneOf[l], d = this.errors.length, h = this.validateAll(e, u, [], [ "oneOf", l ], n);
if (null === h && d === this.errors.length) {
if (null !== o) return this.errors = this.errors.slice(0, s), this.createError(c.ONE_OF_MULTIPLE, {
index1: o,
index2: l
}, "", "/oneOf");
if (o = l, this.trackUnknownProperties) {
for (var f in this.knownPropertyPaths) r[f] = !0, delete i[f];
for (var p in this.unknownPropertyPaths) r[p] || (i[p] = !0);
}
} else h && a.push(h.prefixWith(null, "" + l).prefixWith(null, "oneOf"));
}
return this.trackUnknownProperties && (this.unknownPropertyPaths = i, this.knownPropertyPaths = r), null === o ? (a = a.concat(this.errors.slice(s)), this.errors = this.errors.slice(0, s), this.createError(c.ONE_OF_MISSING, {}, "", "/oneOf", a)) : (this.errors = this.errors.slice(0, s), null);
}, l.prototype.validateNot = function(e, t, n) {
if (void 0 === t.not) return null;
var i, r, o = this.errors.length;
this.trackUnknownProperties && (i = this.unknownPropertyPaths, r = this.knownPropertyPaths, this.unknownPropertyPaths = {}, this.knownPropertyPaths = {});
var a = this.validateAll(e, t.not, null, null, n), s = this.errors.slice(o);
return this.errors = this.errors.slice(0, o), this.trackUnknownProperties && (this.unknownPropertyPaths = i, this.knownPropertyPaths = r), null === a && 0 === s.length ? this.createError(c.NOT_PASSED, {}, "", "/not") : null;
};
var c = {
INVALID_TYPE: 0,
ENUM_MISMATCH: 1,
ANY_OF_MISSING: 10,
ONE_OF_MISSING: 11,
ONE_OF_MULTIPLE: 12,
NOT_PASSED: 13,
NUMBER_MULTIPLE_OF: 100,
NUMBER_MINIMUM: 101,
NUMBER_MINIMUM_EXCLUSIVE: 102,
NUMBER_MAXIMUM: 103,
NUMBER_MAXIMUM_EXCLUSIVE: 104,
STRING_LENGTH_SHORT: 200,
STRING_LENGTH_LONG: 201,
STRING_PATTERN: 202,
OBJECT_PROPERTIES_MINIMUM: 300,
OBJECT_PROPERTIES_MAXIMUM: 301,
OBJECT_REQUIRED: 302,
OBJECT_ADDITIONAL_PROPERTIES: 303,
OBJECT_DEPENDENCY_KEY: 304,
ARRAY_LENGTH_SHORT: 400,
ARRAY_LENGTH_LONG: 401,
ARRAY_UNIQUE: 402,
ARRAY_ADDITIONAL_ITEMS: 403,
FORMAT_CUSTOM: 500,
KEYWORD_CUSTOM: 501,
CIRCULAR_REFERENCE: 600,
UNKNOWN_PROPERTY: 1e3
}, u = {};
for (var d in c) u[c[d]] = d;
var h = {
INVALID_TYPE: "invalid type: {type} (expected {expected})",
ENUM_MISMATCH: "No enum match for: {value}",
ANY_OF_MISSING: 'Data does not match any schemas from "anyOf"',
ONE_OF_MISSING: 'Data does not match any schemas from "oneOf"',
ONE_OF_MULTIPLE: 'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',
NOT_PASSED: 'Data matches schema from "not"',
NUMBER_MULTIPLE_OF: "Value {value} is not a multiple of {multipleOf}",
NUMBER_MINIMUM: "Value {value} is less than minimum {minimum}",
NUMBER_MINIMUM_EXCLUSIVE: "Value {value} is equal to exclusive minimum {minimum}",
NUMBER_MAXIMUM: "Value {value} is greater than maximum {maximum}",
NUMBER_MAXIMUM_EXCLUSIVE: "Value {value} is equal to exclusive maximum {maximum}",
STRING_LENGTH_SHORT: "String is too short ({length} chars), minimum {minimum}",
STRING_LENGTH_LONG: "String is too long ({length} chars), maximum {maximum}",
STRING_PATTERN: "String does not match pattern: {pattern}",
OBJECT_PROPERTIES_MINIMUM: "Too few properties defined ({propertyCount}), minimum {minimum}",
OBJECT_PROPERTIES_MAXIMUM: "Too many properties defined ({propertyCount}), maximum {maximum}",
OBJECT_REQUIRED: "Missing required property: {key}",
OBJECT_ADDITIONAL_PROPERTIES: "Additional properties not allowed",
OBJECT_DEPENDENCY_KEY: "Dependency failed - key must exist: {missing} (due to key: {key})",
ARRAY_LENGTH_SHORT: "Array is too short ({length}), minimum {minimum}",
ARRAY_LENGTH_LONG: "Array is too long ({length}), maximum {maximum}",
ARRAY_UNIQUE: "Array items are not unique (indices {match1} and {match2})",
ARRAY_ADDITIONAL_ITEMS: "Additional items not allowed",
FORMAT_CUSTOM: "Format validation failed ({message})",
KEYWORD_CUSTOM: "Keyword failed: {key} ({message})",
CIRCULAR_REFERENCE: "Circular $refs: {urls}",
UNKNOWN_PROPERTY: "Unknown property (not in schema)"
};
(o.prototype = Object.create(Error.prototype)).constructor = o, o.prototype.name = "ValidationError", o.prototype.prefixWith = function(e, t) {
if (null !== e && (e = e.replace(/~/g, "~0").replace(/\//g, "~1"), this.dataPath = "/" + e + this.dataPath), null !== t && (t = t.replace(/~/g, "~0").replace(/\//g, "~1"), this.schemaPath = "/" + t + this.schemaPath), null !== this.subErrors) for (var n = 0; n < this.subErrors.length; n++) this.subErrors[n].prefixWith(e, t);
return this;
};
var f = {}, p = s();
return p.addLanguage("en-gb", h), p.tv4 = p, p;
}), function(e) {
var t = {
parse: function(e) {
if ("string" != typeof e) throw new TypeError("ObjectPath.parse must be passed a string");
for (var t, n, i, r, o = 0, a = []; o < e.length; ) if (t = e.indexOf(".", o), n = e.indexOf("[", o), -1 === t && -1 === n) a.push(e.slice(o, e.length)), o = e.length; else if (-1 === n || -1 !== t && t < n) a.push(e.slice(o, t)), o = t + 1; else if (n > o && (a.push(e.slice(o, n)), o = n), '"' !== (i = e.slice(n + 1, n + 2)) && "'" !== i) -1 === (r = e.indexOf("]", n)) && (r = e.length), a.push(e.slice(o + 1, r)), o = "." === e.slice(r + 1, r + 2) ? r + 2 : r + 1; else {
for (-1 === (r = e.indexOf(i + "]", n)) && (r = e.length); "\\" === e.slice(r - 1, r) && n < e.length; ) n++, r = e.indexOf(i + "]", n);
a.push(e.slice(o + 2, r).replace(new RegExp("\\" + i, "g"), i)), o = "." === e.slice(r + 2, r + 3) ? r + 3 : r + 2;
}
return a;
},
stringify: function(e, t) {
return Array.isArray(e) || (e = [ e.toString() ]), t = '"' === t ? '"' : "'", e.map(function(e) {
return "[" + t + e.toString().replace(new RegExp(t, "g"), "\\" + t) + t + "]";
}).join("");
},
normalize: function(e, n) {
return t.stringify(Array.isArray(e) ? e : t.parse(e), n);
},
registerModule: function(e) {
e.module("ObjectPath", []).provider("ObjectPath", function() {
this.parse = t.parse, this.stringify = t.stringify, this.normalize = t.normalize, this.$get = function() {
return t;
};
});
}
};
"function" == typeof define && define.amd ? define(function() {
return t;
}) : "object" == typeof exports ? exports.ObjectPath = t : window.ObjectPath = t;
}(), function(e, t) {
"function" == typeof define && define.amd ? define([ "angular", "objectpath", "tv4" ], t) : "object" == typeof exports ? module.exports = t(require("angular"), require("objectpath"), require("tv4")) : e.schemaForm = t(e.angular, e.objectpath, e.tv4);
}(this, function(e, t, n) {
var i = [];
try {
e.module("ngSanitize"), i.push("ngSanitize");
} catch (e) {}
try {
e.module("ui.sortable"), i.push("ui.sortable");
} catch (e) {}
try {
e.module("angularSpectrumColorpicker"), i.push("angularSpectrumColorpicker");
} catch (e) {}
var r = e.module("schemaForm", i);
return e.module("schemaForm").provider("sfPath", [ function() {
var n = window.ObjectPath || t, i = {
parse: n.parse
};
1 === e.version.major && e.version.minor < 3 ? i.stringify = function(e) {
return Array.isArray(e) ? e.join(".") : e.toString();
} : i.stringify = n.stringify, i.normalize = function(e, t) {
return i.stringify(Array.isArray(e) ? e : i.parse(e), t);
}, this.parse = i.parse, this.stringify = i.stringify, this.normalize = i.normalize, this.$get = function() {
return i;
};
} ]), e.module("schemaForm").provider("sfBuilder", [ "sfPathProvider", function(t) {
var n = /[A-Z]/g, i = function(e, t) {
return t = t || "_", e.replace(n, function(e, n) {
return (n ? t : "") + e.toLowerCase();
});
}, r = 0;
"firstElementChild" in document.createDocumentFragment() || Object.defineProperty(DocumentFragment.prototype, "firstElementChild", {
get: function() {
for (var e, t = this.childNodes, n = 0, i = t.length; n < i; ++n) if (1 === (e = t[n]).nodeType) return e;
return null;
}
});
var o = {
sfField: function(e) {
e.fieldFrag.firstElementChild.setAttribute("sf-field", r), e.lookup["f" + r] = e.form, r++;
},
ngModel: function(e) {
if (e.form.key) {
var n = e.form.key;
e.state.keyRedaction && (n = n.slice(e.state.keyRedaction));
var i;
if (e.state.modelValue) i = e.state.modelValue; else {
var r = t.stringify(n).replace(/"/g, "&quot;");
i = e.state.modelName || "model", r && (i += ("[" !== r[0] ? "." : "") + r);
}
for (var o = e.fieldFrag.querySelectorAll("[sf-field-model]"), a = 0; a < o.length; a++) {
var s = o[a], l = s.getAttribute("sf-field-model");
if (l && "" !== l) if ("replaceAll" === l) for (var c = s.attributes, u = 0; u < c.length; u++) c[u].value && -1 !== c[u].value.indexOf("$$value") && (c[u].value = c[u].value.replace(/\$\$value\$\$/g, i)); else {
var d = s.getAttribute(l);
d && d.indexOf("$$value$$") ? s.setAttribute(l, d.replace(/\$\$value\$\$/g, i)) : s.setAttribute(l, i);
} else s.setAttribute("ng-model", i);
}
}
},
simpleTransclusion: function(e) {
var t = e.build(e.form.items, e.path + ".items", e.state);
e.fieldFrag.firstChild.appendChild(t);
},
ngModelOptions: function(e) {
e.form.ngModelOptions && Object.keys(e.form.ngModelOptions).length > 0 && e.fieldFrag.firstChild.setAttribute("ng-model-options", JSON.stringify(e.form.ngModelOptions));
},
transclusion: function(e) {
var t = e.fieldFrag.querySelectorAll("[sf-field-transclude]");
if (t.length) for (var n = 0; n < t.length; n++) {
var i = t[n], r = i.getAttribute("sf-field-transclude") || "items", o = e.form[r];
if (o) {
var a = e.build(o, e.path + "." + r, e.state);
i.appendChild(a);
}
}
},
condition: function(e) {
if (e.form.condition) {
var n = "evalExpr(" + e.path + '.condition, { model: model, "arrayIndex": $index})';
if (e.form.key) {
var i = t.stringify(e.form.key);
n = "evalExpr(" + e.path + '.condition,{ model: model, "arrayIndex": $index, "modelValue": model' + ("[" === i[0] ? "" : ".") + i + "})";
}
for (var r, o, a = e.fieldFrag.children || e.fieldFrag.childNodes, s = 0; s < a.length; s++) o = !1, (r = a[s]).hasAttribute && r.hasAttribute("ng-if") && (o = r.getAttribute("ng-if")), r.setAttribute && r.setAttribute("ng-if", o ? "(" + o + ") || (" + n + ")" : n);
}
},
array: function(n) {
var i = n.fieldFrag.querySelector("[schema-form-array-items]");
if (i) {
if (state = e.copy(n.state), state.keyRedaction = 0, state.keyRedaction += n.form.key.length + 1, n.form.schema && n.form.schema.items && n.form.schema.items.type && -1 === n.form.schema.items.type.indexOf("object") && -1 === n.form.schema.items.type.indexOf("array")) {
t.stringify(n.form.key).replace(/"/g, "&quot;");
state.modelValue = "modelArray[$index]";
} else state.modelName = "item";
state.arrayCompatFlag = !0;
var r = n.build(n.form.items, n.path + ".items", state);
i.appendChild(r);
}
}
};
this.builders = o;
var a = [ o.sfField, o.ngModel, o.ngModelOptions, o.condition ];
this.stdBuilders = a, this.$get = [ "$templateCache", "schemaFormDecorators", "sfPath", function(e, t, n) {
var r = function(e, t) {
if (e.key) {
var i = t[n.stringify(e.key)];
if (i) {
for (;i.firstChild; ) i.removeChild(i.firstChild);
return i;
}
}
}, s = function(e, t, n, o, a, l, c) {
l = l || {}, c = c || Object.create(null), a = a || "schemaForm.form";
var u = document.createDocumentFragment();
return e.reduce(function(e, u, d) {
if (!u.type) return e;
var h = t[u.type] || t.default;
if (h.replace) {
var f;
l.arrayCompatFlag = !1;
var p = document.createElement("div"), g = n(u, h) || n(u, t.default);
for (p.innerHTML = g, f = document.createDocumentFragment(); p.childNodes.length > 0; ) f.appendChild(p.childNodes[0]);
var m = {
fieldFrag: f,
form: u,
lookup: c,
state: l,
path: a + "[" + d + "]",
build: function(e, i, r) {
return s(e, t, n, o, i, r, c);
}
}, v = u.builder || h.builder;
"function" == typeof v ? v(m) : v.forEach(function(e) {
e(m);
}), (r(u, o) || e).appendChild(f);
} else {
var y = document.createElement(i(t.__name, "-"));
l.arrayCompatFlag ? y.setAttribute("form", "copyWithIndex($index)") : y.setAttribute("form", a + "[" + d + "]"), (r(u, o) || e).appendChild(y);
}
return e;
}, u), u;
};
return {
build: function(t, n, i, r) {
return s(t, n, function(t, n) {
return "template" === t.type ? t.template : e.get(n.template);
}, i, void 0, void 0, r);
},
builder: o,
stdBuilders: a,
internalBuild: s
};
} ];
} ]), e.module("schemaForm").provider("schemaFormDecorators", [ "$compileProvider", "sfPathProvider", function(t, n) {
var i = "", r = {}, o = function(e, t) {
"sfDecorator" === e && (e = i);
var n = r[e];
return n[t.type] ? n[t.type].template : n.default.template;
}, a = function(i) {
t.directive(i, [ "$parse", "$compile", "$http", "$templateCache", "$interpolate", "$q", "sfErrorMessage", "sfPath", "sfSelect", function(t, r, a, s, l, c, u, d, h) {
return {
restrict: "AE",
replace: !1,
transclude: !1,
scope: !0,
require: "?^sfSchema",
link: function(t, f, p, g) {
t.$on("schemaFormPropagateNgModelController", function(e, n) {
e.stopPropagation(), e.preventDefault(), t.ngModel = n;
}), t.showTitle = function() {
return t.form && !0 !== t.form.notitle && t.form.title;
}, t.listToCheckboxValues = function(t) {
var n = {};
return e.forEach(t, function(e) {
n[e] = !0;
}), n;
}, t.checkboxValuesToList = function(t) {
var n = [];
return e.forEach(t, function(e, t) {
e && n.push(t);
}), n;
}, t.buttonClick = function(n, i) {
e.isFunction(i.onClick) ? i.onClick(n, i) : e.isString(i.onClick) && (g ? g.evalInParentScope(i.onClick, {
$event: n,
form: i
}) : t.$eval(i.onClick, {
$event: n,
form: i
}));
}, t.evalExpr = function(e, n) {
return g ? g.evalInParentScope(e, n) : t.$eval(e, n);
}, t.evalInScope = function(e, n) {
if (e) return t.$eval(e, n);
}, t.interp = function(e, t) {
return e && l(e)(t);
}, t.hasSuccess = function() {
return !!t.ngModel && (t.options && t.options.pristine && !1 === t.options.pristine.success ? t.ngModel.$valid && !t.ngModel.$pristine && !t.ngModel.$isEmpty(t.ngModel.$modelValue) : t.ngModel.$valid && (!t.ngModel.$pristine || !t.ngModel.$isEmpty(t.ngModel.$modelValue)));
}, t.hasError = function() {
return !!t.ngModel && (t.ngModel.$invalid && !t.ngModel.$pristine);
}, t.errorMessage = function(e) {
return u.interpolate(e && e.code + "" || "default", t.ngModel && t.ngModel.$modelValue || "", t.ngModel && t.ngModel.$viewValue || "", t.form, t.options && t.options.validationMessage);
};
var m = t.$watch(p.form, function(l) {
if (l) {
l.ngModelOptions = l.ngModelOptions || {}, t.form = l;
var u;
if ("template" === l.type && l.template) u = c.when(l.template); else {
var p = "template" === l.type ? l.templateUrl : o(i, l);
u = a.get(p, {
cache: s
}).then(function(e) {
return e.data;
});
}
u.then(function(i) {
if (l.key) {
var o = l.key ? n.stringify(l.key).replace(/"/g, "&quot;") : "";
i = i.replace(/\$\$value\$\$/g, "model" + ("[" !== o[0] ? "." : "") + o);
}
if (f.html(i), l.condition) {
var a = 'evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';
l.key && (a = 'evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model' + d.stringify(l.key) + "})"), e.forEach(f.children(), function(e) {
var t = e.getAttribute("ng-if");
e.setAttribute("ng-if", t ? "(" + t + ") || (" + a + ")" : a);
});
}
r(f.contents())(t);
}), l.key && (t.$on("schemaForm.error." + l.key.join("."), function(e, n, i, r, o) {
o = r, !0 !== i && !1 !== i || (r = i, i = void 0), void 0 != o && t.ngModel.$$parentForm.$name !== o || t.ngModel && n && (t.ngModel.$setDirty ? t.ngModel.$setDirty() : (t.ngModel.$dirty = !0, t.ngModel.$pristine = !1), i && (l.validationMessage || (l.validationMessage = {}), l.validationMessage[n] = i), t.ngModel.$setValidity(n, !0 === r), !0 === r && (t.ngModel.$validate(), t.$broadcast("schemaFormValidate")));
}), t.$on("$destroy", function() {
if (!t.externalDestructionInProgress) {
var e = l.destroyStrategy || t.options && t.options.destroyStrategy || "remove";
if (l.key && "retain" !== e) {
var n = t.model;
if (l.key.length > 1 && (n = h(l.key.slice(0, l.key.length - 1), n)), void 0 === n) return;
var i = l.schema && l.schema.type || "";
"empty" === e && -1 !== i.indexOf("string") ? n[l.key.slice(-1)] = "" : "empty" === e && -1 !== i.indexOf("object") ? n[l.key.slice(-1)] = {} : "empty" === e && -1 !== i.indexOf("array") ? n[l.key.slice(-1)] = [] : "null" === e ? n[l.key.slice(-1)] = null : delete n[l.key.slice(-1)];
}
}
})), m();
}
});
}
};
} ]);
}, s = function(n, i, r) {
r = !!e.isDefined(r) && r, t.directive("sf" + n[0].toUpperCase() + n.substr(1), function() {
return {
restrict: "EAC",
scope: !0,
replace: !0,
transclude: r,
template: '<sf-decorator form="form"></sf-decorator>',
link: function(t, i, r) {
var o = {
items: "c",
titleMap: "c",
schema: "c"
}, a = {
type: n
}, s = !0;
e.forEach(r, function(n, i) {
if ("$" !== i[0] && 0 !== i.indexOf("ng") && "sfField" !== i) {
var l = function(n) {
e.isDefined(n) && n !== a[i] && (a[i] = n, s && a.type && (a.key || e.isUndefined(r.key)) && (t.form = a, s = !1));
};
"model" === i ? t.$watch(n, function(e) {
e && t.model !== e && (t.model = e);
}) : "c" === o[i] ? t.$watchCollection(n, l) : r.$observe(i, l);
}
});
}
};
});
};
this.createDecorator = function(t, n) {
r[t] = {
__name: t
}, e.forEach(n, function(e, n) {
r[t][n] = {
template: e,
replace: !1,
builder: []
};
}), r[i] || (i = t), a(t);
}, this.defineDecorator = function(t, n) {
r[t] = {
__name: t
}, e.forEach(n, function(n, i) {
n.builder = n.builder || [], n.replace = !e.isDefined(n.replace) || n.replace, r[t][i] = n;
}), r[i] || (i = t), a(t);
}, this.createDirective = s, this.createDirectives = function(t) {
e.forEach(t, function(e, t) {
s(t);
});
}, this.decorator = function(e) {
return e = e || i, r[e];
}, this.addMapping = function(e, t, n, i, o) {
r[e] && (r[e][t] = {
template: n,
builder: i,
replace: !!o
});
}, this.defineAddOn = function(e, t, n, i) {
r[e] && (r[e][t] = {
template: n,
builder: i,
replace: !0
});
}, this.$get = function() {
return {
decorator: function(e) {
return r[e] || r[i];
},
defaultDecorator: i
};
}, a("sfDecorator");
} ]), e.module("schemaForm").provider("sfErrorMessage", function() {
var t = {
default: "Field does not validate",
0: "Invalid type, expected {{schema.type}}",
1: "No enum match for: {{viewValue}}",
10: 'Data does not match any schemas from "anyOf"',
11: 'Data does not match any schemas from "oneOf"',
12: 'Data is valid against more than one schema from "oneOf"',
13: 'Data matches schema from "not"',
100: "Value is not a multiple of {{schema.multipleOf}}",
101: "{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",
102: "{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",
103: "{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",
104: "{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",
105: "Value is not a valid number",
200: "String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",
201: "String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",
202: "String does not match pattern: {{schema.pattern}}",
300: "Too few properties defined, minimum {{schema.minProperties}}",
301: "Too many properties defined, maximum {{schema.maxProperties}}",
302: "Required",
303: "Additional properties not allowed",
304: "Dependency failed - key must exist",
400: "Array is too short ({{value.length}}), minimum {{schema.minItems}}",
401: "Array is too long ({{value.length}}), maximum {{schema.maxItems}}",
402: "Array items are not unique",
403: "Additional items not allowed",
500: "Format validation failed",
501: 'Keyword failed: "{{title}}"',
600: "Circular $refs",
1e3: "Unknown property (not in schema)"
};
t.number = t[105], t.required = t[302], t.min = t[101], t.max = t[103], t.maxlength = t[201], t.minlength = t[200], t.pattern = t[202], this.setDefaultMessages = function(e) {
t = e;
}, this.getDefaultMessages = function() {
return t;
}, this.setDefaultMessage = function(e, n) {
t[e] = n;
}, this.$get = [ "$interpolate", function(n) {
var i = {};
return i.defaultMessages = t, i.interpolate = function(i, r, o, a, s) {
s = s || {};
var l = a.validationMessage || {};
0 === i.indexOf("tv4-") && (i = i.substring(4));
var c = l.default || s.default || "";
[ l, s, t ].some(function(t) {
return e.isString(t) || e.isFunction(t) ? (c = t, !0) : t && t[i] ? (c = t[i], !0) : void 0;
});
var u = {
error: i,
value: r,
viewValue: o,
form: a,
schema: a.schema,
title: a.title || a.schema && a.schema.title
};
return e.isFunction(c) ? c(u) : n(c)(u);
}, i;
} ];
}), e.module("schemaForm").provider("schemaForm", [ "sfPathProvider", function(t) {
var n = function(e) {
if (Array.isArray(e) && 2 == e.length) {
if ("null" === e[0]) return e[1];
if ("null" === e[1]) return e[0];
}
return e;
}, i = function(e) {
var t = [];
return e.forEach(function(e) {
t.push({
name: e,
value: e
});
}), t;
}, r = function(t, n) {
if (!e.isArray(t)) {
var i = [];
return n ? e.forEach(n, function(e, n) {
i.push({
name: t[e],
value: e
});
}) : e.forEach(t, function(e, t) {
i.push({
name: e,
value: t
});
}), i;
}
return t;
}, o = function(t, i, r) {
var o = s[n(i.type)];
if (o) for (var a, l = 0; l < o.length; l++) if (a = o[l](t, i, r)) return a.schema["x-schema-form"] && e.isObject(a.schema["x-schema-form"]) && (a = e.extend(a, a.schema["x-schema-form"])), a;
}, a = function(t, n, i) {
var o = (i = i || {}).global && i.global.formDefaults ? e.copy(i.global.formDefaults) : {};
return i.global && !0 === i.global.supressPropertyTitles ? o.title = n.title : o.title = n.title || t, n.description && (o.description = n.description), !0 !== i.required && !0 !== n.required || (o.required = !0), n.maxLength && (o.maxlength = n.maxLength), n.minLength && (o.minlength = n.minLength), (n.readOnly || n.readonly) && (o.readonly = !0), n.minimum && (o.minimum = n.minimum + (n.exclusiveMinimum ? 1 : 0)), n.maximum && (o.maximum = n.maximum - (n.exclusiveMaximum ? 1 : 0)), n.validationMessage && (o.validationMessage = n.validationMessage), n.enumNames && (o.titleMap = r(n.enumNames, n.enum)), o.schema = n, o.ngModelOptions = o.ngModelOptions || {}, o;
}, s = {
string: [ function(e, r, o) {
if ("string" === n(r.type) && r.enum) {
var s = a(e, r, o);
return s.key = o.path, s.type = "select", s.titleMap || (s.titleMap = i(r.enum)), o.lookup[t.stringify(o.path)] = s, s;
}
}, function(e, i, r) {
if ("string" === n(i.type) && !i.enum) {
var o = a(e, i, r);
return o.key = r.path, o.type = "text", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
object: [ function(i, r, s) {
if ("object" === n(r.type)) {
var l = a(i, r, s);
return l.type = "fieldset", l.key = s.path, l.items = [], s.lookup[t.stringify(s.path)] = l, e.forEach(r.properties, function(e, n) {
var i = s.path.slice();
if (i.push(n), !0 !== s.ignore[t.stringify(i)]) {
var a = r.required && -1 !== r.required.indexOf(n), c = o(n, e, {
path: i,
required: a || !1,
lookup: s.lookup,
ignore: s.ignore,
global: s.global
});
c && l.items.push(c);
}
}), l;
}
} ],
number: [ function(e, i, r) {
if ("number" === n(i.type)) {
var o = a(e, i, r);
return o.key = r.path, o.type = "number", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
integer: [ function(e, i, r) {
if ("integer" === n(i.type)) {
var o = a(e, i, r);
return o.key = r.path, o.type = "number", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
boolean: [ function(e, i, r) {
if ("boolean" === n(i.type)) {
var o = a(e, i, r);
return o.key = r.path, o.type = "checkbox", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
array: [ function(e, r, o) {
if ("array" === n(r.type) && r.items && r.items.enum) {
var s = a(e, r, o);
return s.key = o.path, s.type = "checkboxes", s.titleMap || (s.titleMap = i(r.items.enum)), o.lookup[t.stringify(o.path)] = s, s;
}
}, function(e, i, r) {
if ("array" === n(i.type)) {
var s = a(e, i, r);
s.type = "array", s.key = r.path, r.lookup[t.stringify(r.path)] = s;
var l = i.required && -1 !== i.required.indexOf(r.path[r.path.length - 1]), c = r.path.slice();
return c.push(""), s.items = [ o(e, i.items, {
path: c,
required: l || !1,
lookup: r.lookup,
ignore: r.ignore,
global: r.global
}) ], s;
}
} ]
}, l = function(e) {
return e;
};
this.defaults = s, this.stdFormObj = a, this.defaultFormDefinition = o, this.postProcess = function(e) {
l = e;
}, this.appendRule = function(e, t) {
s[e] || (s[e] = []), s[e].push(t);
}, this.prependRule = function(e, t) {
s[e] || (s[e] = []), s[e].unshift(t);
}, this.createStandardForm = a, this.$get = function() {
var i = {};
return i.merge = function(n, o, a, s, c, u) {
o = o || [ "*" ], s = s || {}, c = c || n.readonly || n.readOnly;
var d = i.defaults(n, a, s), h = o.indexOf("*");
-1 !== h && (o = o.slice(0, h).concat(d.form).concat(o.slice(h + 1)));
var f = d.lookup;
return l(o.map(function(o) {
if ("string" == typeof o && (o = {
key: o
}), o.key && "string" == typeof o.key && (o.key = t.parse(o.key)), o.titleMap && (o.titleMap = r(o.titleMap)), o.itemForm) {
o.items = [];
var l = t.stringify(o.key), d = f[l];
e.forEach(d.items, function(t) {
var n = e.copy(o.itemForm);
n.key = t.key, o.items.push(n);
});
}
if (o.key) {
var h = t.stringify(o.key);
if (f[h]) {
var p = f[h];
e.forEach(p, function(e, t) {
void 0 === o[t] && (o[t] = p[t]);
});
}
}
return !0 === c && (o.readonly = !0), o.items && (o.items = i.merge(n, o.items, a, s, o.readonly, u)), o.tabs && e.forEach(o.tabs, function(e) {
e.items = i.merge(n, e.items, a, s, o.readonly, u);
}), "checkbox" === o.type && e.isUndefined(o.schema.default) && (o.schema.default = !1), u && "template" === o.type && !o.template && o.templateUrl && u.push(o), o;
}));
}, i.defaults = function(t, i, r) {
var a = [], s = {};
if (i = i || {}, r = r || {}, "object" !== n(t.type)) throw new Error('Not implemented. Only type "object" allowed at root level of schema.');
return e.forEach(t.properties, function(e, n) {
if (!0 !== i[n]) {
var l = t.required && -1 !== t.required.indexOf(n), c = o(n, e, {
path: [ n ],
lookup: s,
ignore: i,
required: l,
global: r
});
c && a.push(c);
}
}), {
form: a,
lookup: s
};
}, i.traverseSchema = function(t, n, i, r) {
r = !e.isDefined(r) || r;
var o = function(t, n, i) {
if (n(t, i), e.forEach(t.properties, function(e, t) {
var r = i.slice();
r.push(t), o(e, n, r);
}), !r && t.items) {
var a = i.slice();
a.push(""), o(t.items, n, a);
}
};
o(t, n, (i = i || []) || []);
}, i.traverseForm = function(t, n) {
n(t), e.forEach(t.items, function(e) {
i.traverseForm(e, n);
}), t.tabs && e.forEach(t.tabs, function(t) {
e.forEach(t.items, function(e) {
i.traverseForm(e, n);
});
});
}, i;
};
} ]), e.module("schemaForm").factory("sfSelect", [ "sfPath", function(e) {
var t = /^\d+$/;
return function(n, i, r) {
i || (i = this);
var o = "string" == typeof n ? e.parse(n) : n;
if (void 0 !== r && 1 === o.length) return i[o[0]] = r, i;
void 0 !== r && void 0 === i[o[0]] && (i[o[0]] = o.length > 2 && t.test(o[1]) ? [] : {});
for (var a = i[o[0]], s = 1; s < o.length; s++) {
if ("" === o[s]) return;
if (void 0 !== r) {
if (s === o.length - 1) return a[o[s]] = r, r;
var l = a[o[s]];
void 0 !== l && null !== l || (l = t.test(o[s + 1]) ? [] : {}, a[o[s]] = l), a = l;
} else a && (a = a[o[s]]);
}
return a;
};
} ]), e.module("schemaForm").factory("sfValidator", [ function() {
var t = {};
return t.validate = function(t, i) {
if (!t) return {
valid: !0
};
var r = t.schema;
if (!r) return {
valid: !0
};
"" === i && (i = void 0), "number" === t.type && null === i && (i = void 0);
var o = {
type: "object",
properties: {}
}, a = t.key[t.key.length - 1];
o.properties[a] = r, t.required && (o.required = [ a ]);
var s = {};
return e.isDefined(i) && (s[a] = i), n.validateResult(s, o);
}, t;
} ]), e.module("schemaForm").directive("sfArray", [ "sfSelect", "schemaForm", "sfValidator", "sfPath", function(t, n, i, r) {
var o = function(e) {
return function(t) {
t.key && (t.key[t.key.indexOf("")] = e);
};
};
return {
restrict: "A",
scope: !0,
require: "?ngModel",
link: function(a, s, l, c) {
var u = {};
a.validateArray = e.noop, c && a.$emit("schemaFormPropagateNgModelController", c);
var d = a.$watch(l.sfArray, function(s) {
if (s) {
var l = t(s.key, a.model), h = r.normalize(s.key);
if (a.$watch("model" + ("[" !== h[0] ? "." : "") + h, function(e) {
l = a.modelArray = e;
}), e.isUndefined(l) && (l = [], t(s.key, a.model, l)), a.modelArray = l, s.items) {
var f = s.items[0];
s.items.length > 1 && (f = {
type: "section",
items: s.items.map(function(t) {
return t.ngModelOptions = s.ngModelOptions, e.isUndefined(t.readonly) && (t.readonly = s.readonly), t;
})
});
}
if (a.copyWithIndex = function(t) {
if (!u[t] && f) {
var i = e.copy(f);
i.arrayIndex = t, n.traverseForm(i, o(t)), u[t] = i;
}
return u[t];
}, a.appendToArray = function() {
var i = l.length, r = a.copyWithIndex(i);
if (n.traverseForm(r, function(n) {
if (n.key) {
var i;
e.isDefined(n.default) && (i = n.default), e.isDefined(n.schema) && e.isDefined(n.schema.default) && (i = n.schema.default), e.isDefined(i) && t(n.key, a.model, i);
}
}), i === l.length) {
var o, c = t("schema.items.type", s);
"object" === c ? o = {} : "array" === c && (o = []), l.push(o);
}
return a.validateArray(), l;
}, a.deleteFromArray = function(e) {
return l.splice(e, 1), a.validateArray(), c && c.$setDirty && c.$setDirty(), l;
}, s.titleMap || !0 === s.startEmpty || 0 !== l.length || a.appendToArray(), s.titleMap && s.titleMap.length > 0) {
a.titleMapValues = [];
var p = function(e) {
a.titleMapValues = [], e = e || [], s.titleMap.forEach(function(t) {
a.titleMapValues.push(-1 !== e.indexOf(t.value));
});
};
p(a.modelArray), a.$watchCollection("modelArray", p), a.$watchCollection("titleMapValues", function(e, t) {
if (e && e !== t) {
for (var n = a.modelArray; n.length > 0; ) n.pop();
s.titleMap.forEach(function(t, i) {
e[i] && n.push(t.value);
}), a.validateArray();
}
});
}
if (c) {
var g;
a.validateArray = function() {
var e = i.validate(s, a.modelArray.length > 0 ? a.modelArray : void 0);
Object.keys(c.$error).filter(function(e) {
return 0 === e.indexOf("tv4-");
}).forEach(function(e) {
c.$setValidity(e, !0);
}), !1 !== e.valid || !e.error || "" !== e.error.dataPath && e.error.dataPath !== "/" + s.key[s.key.length - 1] || (c.$setViewValue(a.modelArray), g = e.error, c.$setValidity("tv4-" + e.error.code, !1));
}, a.$on("schemaFormValidate", a.validateArray), a.hasSuccess = function() {
return a.options && a.options.pristine && !1 === a.options.pristine.success ? c.$valid && !c.$pristine && !c.$isEmpty(c.$modelValue) : c.$valid && (!c.$pristine || !c.$isEmpty(c.$modelValue));
}, a.hasError = function() {
return a.options && a.options.pristine && !1 === a.options.pristine.errors ? c.$invalid && !c.$pristine : c.$invalid;
}, a.schemaError = function() {
return g;
};
}
d();
}
});
}
};
} ]), e.module("schemaForm").directive("sfChanged", function() {
return {
require: "ngModel",
restrict: "AC",
scope: !1,
link: function(t, n, i, r) {
var o = t.$eval(i.sfChanged);
o && o.onChange && r.$viewChangeListeners.push(function() {
e.isFunction(o.onChange) ? o.onChange(r.$modelValue, o) : t.evalExpr(o.onChange, {
modelValue: r.$modelValue,
form: o
});
});
}
};
}), e.module("schemaForm").directive("sfField", [ "$parse", "$compile", "$http", "$templateCache", "$interpolate", "$q", "sfErrorMessage", "sfPath", "sfSelect", function(t, n, i, r, o, a, s, l, c) {
return {
restrict: "AE",
replace: !1,
transclude: !1,
scope: !0,
require: "^sfSchema",
link: {
pre: function(e, t, n, i) {
e.$on("schemaFormPropagateNgModelController", function(t, n) {
t.stopPropagation(), t.preventDefault(), e.ngModel = n;
}), e.form = i.lookup["f" + n.sfField];
},
post: function(t, n, i, r) {
t.showTitle = function() {
return t.form && !0 !== t.form.notitle && t.form.title;
}, t.listToCheckboxValues = function(t) {
var n = {};
return e.forEach(t, function(e) {
n[e] = !0;
}), n;
}, t.checkboxValuesToList = function(t) {
var n = [];
return e.forEach(t, function(e, t) {
e && n.push(t);
}), n;
}, t.buttonClick = function(n, i) {
e.isFunction(i.onClick) ? i.onClick(n, i) : e.isString(i.onClick) && (r ? r.evalInParentScope(i.onClick, {
$event: n,
form: i
}) : t.$eval(i.onClick, {
$event: n,
form: i
}));
}, t.evalExpr = function(e, n) {
return r ? r.evalInParentScope(e, n) : t.$eval(e, n);
}, t.evalInScope = function(e, n) {
if (e) return t.$eval(e, n);
}, t.interp = function(e, t) {
return e && o(e)(t);
}, t.hasSuccess = function() {
return !!t.ngModel && (t.options && t.options.pristine && !1 === t.options.pristine.success ? t.ngModel.$valid && !t.ngModel.$pristine && !t.ngModel.$isEmpty(t.ngModel.$modelValue) : t.ngModel.$valid && (!t.ngModel.$pristine || !t.ngModel.$isEmpty(t.ngModel.$modelValue)));
}, t.hasError = function() {
return !!t.ngModel && (t.options && t.options.pristine && !1 === t.options.pristine.errors ? t.ngModel.$invalid && !t.ngModel.$pristine : t.ngModel.$invalid);
}, t.errorMessage = function(e) {
return s.interpolate(e && e.code + "" || "default", t.ngModel && t.ngModel.$modelValue || "", t.ngModel && t.ngModel.$viewValue || "", t.form, t.options && t.options.validationMessage);
};
var a = t.form;
a.key && (t.$on("schemaForm.error." + a.key.join("."), function(e, n, i, r, o) {
o = r, !0 !== i && !1 !== i || (r = i, i = void 0), void 0 != o && t.ngModel.$$parentForm.$name !== o || t.ngModel && n && (t.ngModel.$setDirty ? t.ngModel.$setDirty() : (t.ngModel.$dirty = !0, t.ngModel.$pristine = !1), i && (a.validationMessage || (a.validationMessage = {}), a.validationMessage[n] = i), t.ngModel.$setValidity(n, !0 === r), !0 === r && (t.ngModel.$validate(), t.$broadcast("schemaFormValidate")));
}), t.$on("$destroy", function() {
if (!t.externalDestructionInProgress) {
var e = a.destroyStrategy || t.options && t.options.destroyStrategy || "remove";
if (a.key && "retain" !== e) {
var n = t.model;
if (a.key.length > 1 && (n = c(a.key.slice(0, a.key.length - 1), n)), void 0 === n) return;
var i = a.schema && a.schema.type || "";
"empty" === e && -1 !== i.indexOf("string") ? n[a.key.slice(-1)] = "" : "empty" === e && -1 !== i.indexOf("object") ? n[a.key.slice(-1)] = {} : "empty" === e && -1 !== i.indexOf("array") ? n[a.key.slice(-1)] = [] : "null" === e ? n[a.key.slice(-1)] = null : delete n[a.key.slice(-1)];
}
}
}));
}
}
};
} ]), e.module("schemaForm").directive("sfMessage", [ "$injector", "sfErrorMessage", function(t, n) {
var i = t.has("$sanitize") ? t.get("$sanitize") : function(e) {
return e;
};
return {
scope: !1,
restrict: "EA",
link: function(t, r, o) {
var a = "";
o.sfMessage && t.$watch(o.sfMessage, function(e) {
e && (a = i(e), c(!!t.ngModel));
});
var s, l = function(e) {
e !== s && (r.html(e), s = e);
}, c = function(i) {
if (i) if (t.hasError()) {
var r = [];
e.forEach(t.ngModel && t.ngModel.$error, function(e, t) {
e && r.push(t);
});
var o = (r = r.filter(function(e) {
return "schemaForm" !== e;
}))[0];
l(o ? n.interpolate(o, t.ngModel.$modelValue, t.ngModel.$viewValue, t.form, t.options && t.options.validationMessage) : a);
} else l(a); else l(a);
};
c();
var u = t.$watch("ngModel", function(e) {
e && (e.$parsers.push(function(e) {
return c(!0), e;
}), e.$formatters.push(function(e) {
return c(!0), e;
}), u());
});
t.$watchCollection("ngModel.$error", function() {
c(!!t.ngModel);
});
}
};
} ]), e.module("schemaForm").directive("sfNewArray", [ "sfSelect", "sfPath", "schemaForm", function(t, n, i) {
return {
scope: !1,
link: function(r, o, a) {
r.min = 0, r.modelArray = r.$eval(a.sfNewArray);
var s = function() {
r.modelArray = r.$eval(a.sfNewArray), r.ngModel && r.ngModel.$pristine && r.firstDigest && (!r.options || !0 !== r.options.validateOnRender) || r.validateField && r.validateField();
}, l = function() {
r.form && r.form.onChange && (e.isFunction(r.form.onChange) ? r.form.onChange(r.modelArray, r.form) : r.evalExpr(r.form.onChange, {
modelValue: r.modelArray,
form: r.form
}));
}, c = function() {
var e = r.modelArray;
if (!e) {
var i = n.parse(a.sfNewArray);
t(i, r, e = []), r.modelArray = e;
}
return e;
}, u = r.$watch("form", function(e) {
if (e) {
if (e.titleMap || !0 === e.startEmpty || r.modelArray && 0 !== r.modelArray.length || r.appendToArray(), r.form && r.form.schema && !0 === r.form.schema.uniqueItems ? (r.$watch(a.sfNewArray, s, !0), r.$watch([ a.sfNewArray, a.sfNewArray + ".length" ], l)) : r.$watchGroup ? r.$watchGroup([ a.sfNewArray, a.sfNewArray + ".length" ], function() {
s(), l();
}) : (r.$watch(a.sfNewArray, function() {
s(), l();
}), r.$watch(a.sfNewArray + ".length", function() {
s(), l();
})), e.titleMap && e.titleMap.length > 0) {
r.titleMapValues = [];
var t = function(t) {
r.titleMapValues = [], t = t || [], e.titleMap.forEach(function(e) {
r.titleMapValues.push(-1 !== t.indexOf(e.value));
});
};
t(r.modelArray), r.$watchCollection("modelArray", t), r.$watchCollection("titleMapValues", function(t, n) {
if (t && t !== n) {
var i = c();
e.titleMap.forEach(function(e, n) {
var r = i.indexOf(e.value);
-1 === r && t[n] && i.push(e.value), -1 === r || t[n] || i.splice(r, 1);
}), r.validateField && r.validateField();
}
});
}
u();
}
});
r.appendToArray = function() {
var n, o = c();
if (r.form && r.form.schema && r.form.schema.items) {
var a = r.form.schema.items;
a.type && -1 !== a.type.indexOf("object") ? (n = {}, r.options && !1 === r.options.setSchemaDefaults || (n = e.isDefined(a.default) ? a.default : n) && i.traverseSchema(a, function(i, r) {
e.isDefined(i.default) && t(r, n, i.default);
})) : a.type && -1 !== a.type.indexOf("array") ? (n = [], r.options && !1 === r.options.setSchemaDefaults || (n = a.default || n)) : r.options && !1 === r.options.setSchemaDefaults || (n = a.default || n);
}
return o.push(n), o;
}, r.deleteFromArray = function(e) {
var t = r.modelArray;
return t && t.splice(e, 1), t;
};
var d = function(e) {
return function(t) {
t.key && (t.key[t.key.indexOf("")] = e);
};
}, h = {};
r.copyWithIndex = function(t) {
var n = r.form;
if (!h[t]) {
var o = n.items[0];
if (n.items.length > 1 && (o = {
type: "section",
items: n.items.map(function(t) {
return t.ngModelOptions = n.ngModelOptions, e.isUndefined(t.readonly) && (t.readonly = n.readonly), t;
})
}), o) {
var a = e.copy(o);
a.arrayIndex = t, i.traverseForm(a, d(t)), h[t] = a;
}
}
return h[t];
};
}
};
} ]), e.module("schemaForm").directive("sfSchema", [ "$compile", "$http", "$templateCache", "$q", "schemaForm", "schemaFormDecorators", "sfSelect", "sfPath", "sfBuilder", function(t, n, i, r, o, a, s, l, c) {
return {
scope: {
schema: "=sfSchema",
initialForm: "=sfForm",
model: "=sfModel",
options: "=sfOptions"
},
controller: [ "$scope", function(e) {
this.evalInParentScope = function(t, n) {
return e.$parent.$eval(t, n);
};
var t = this;
e.lookup = function(e) {
return e && (t.lookup = e), t.lookup;
};
} ],
replace: !1,
restrict: "A",
transclude: !0,
require: "?form",
link: function(l, u, d, h, f) {
l.formCtrl = h;
var p = {};
f(l, function(e) {
if (e.addClass("schema-form-ignore"), u.prepend(e), u[0].querySelectorAll) {
var t = u[0].querySelectorAll("[ng-model]");
if (t) for (var n = 0; n < t.length; n++) {
var i = t[n].getAttribute("ng-model");
p[i.substring(i.indexOf(".") + 1)] = !0;
}
}
});
var g, m = {}, v = function(e, t) {
var a = [], s = o.merge(e, t, p, l.options, void 0, a);
a.length > 0 ? r.all(a.map(function(e) {
return n.get(e.templateUrl, {
cache: i
}).then(function(t) {
e.template = t.data;
});
})).then(function() {
y(e, t, s);
}) : y(e, t, s);
}, y = function(n, i, r) {
g && (l.externalDestructionInProgress = !0, g.$destroy(), l.externalDestructionInProgress = !1), (g = l.$new()).schemaForm = {
form: r,
schema: n
}, u.children(":not(.schema-form-ignore)").remove();
for (var h = {}, f = u[0].querySelectorAll("*[sf-insert-field]"), p = 0; p < f.length; p++) h[f[p].getAttribute("sf-insert-field")] = f[p];
var m = a.decorator(d.sfUseDecorator), v = Object.create(null);
l.lookup(v), u[0].appendChild(c.build(r, m, h, v)), g.firstDigest = !0, setTimeout(function() {
g.firstDigest = !1;
}, 0), t(u.children())(g), l.options && !1 === l.options.setSchemaDefaults || o.traverseSchema(n, function(t, n) {
if (e.isDefined(t.default)) {
var i = s(n, l.model);
e.isUndefined(i) && s(n, l.model, t.default);
}
}), l.$emit("sf-render-finished", u);
}, b = [ "*" ];
l.$watch(function() {
var e = l.schema, t = l.initialForm || b;
t && e && e.type && (m.form !== t || m.schema !== e) && Object.keys(e.properties).length > 0 && (m.schema = e, m.form = t, v(e, t));
}), l.$on("schemaFormRedraw", function() {
var t = l.schema, n = l.initialForm ? e.copy(l.initialForm) : [ "*" ];
t && v(t, n);
}), l.$on("$destroy", function() {
l.externalDestructionInProgress = !0;
}), l.evalExpr = function(e, t) {
return l.$parent.$eval(e, t);
};
}
};
} ]), e.module("schemaForm").directive("schemaValidate", [ "sfValidator", "$parse", "sfSelect", function(t, n, i) {
return {
restrict: "A",
scope: !1,
priority: 500,
require: "ngModel",
link: function(n, r, o, a) {
n.$emit("schemaFormPropagateNgModelController", a);
var s = null, l = n.$eval(o.schemaValidate);
l.copyValueTo && a.$viewChangeListeners.push(function() {
var t = l.copyValueTo;
e.forEach(t, function(e) {
i(e, n.model, a.$modelValue);
});
});
var c = function(e) {
if (!l) return e;
if (n.options && !1 === n.options.tv4Validation) return e;
var i = t.validate(l, e);
Object.keys(a.$error).filter(function(e) {
return 0 === e.indexOf("tv4-");
}).forEach(function(e) {
a.$setValidity(e, !0);
});
{
if (i.valid) return e;
if (a.$setValidity("tv4-" + i.error.code, !1), s = i.error, a.$validators) return e;
}
};
"function" == typeof l.ngModel && l.ngModel(a), [ "$parsers", "$viewChangeListeners", "$formatters" ].forEach(function(e) {
l[e] && a[e] && l[e].forEach(function(t) {
a[e].push(t);
});
}), [ "$validators", "$asyncValidators" ].forEach(function(t) {
l[t] && a[t] && e.forEach(l[t], function(e, n) {
a[t][n] = e;
});
}), a.$parsers.push(c), a.$validators && (a.$validators.schemaForm = function() {
return !Object.keys(a.$error).some(function(e) {
return "schemaForm" !== e;
});
});
var u = l.schema;
n.validateField = function(e) {
void 0 != e && a.$$parentForm.$name !== e || (u && -1 !== u.type.indexOf("array") && c(a.$modelValue), a.$setDirty ? (a.$setDirty(), a.$setViewValue(a.$viewValue), a.$commitViewValue(), l.required && a.$isEmpty(a.$modelValue) && a.$setValidity("tv4-302", !1)) : a.$setViewValue(a.$viewValue));
}, a.$formatters.push(function(e) {
return !a.$pristine || !n.firstDigest || n.options && !0 === n.options.validateOnRender ? (c(a.$modelValue), e) : e;
}), n.$on("schemaFormValidate", function(e, t) {
n.validateField(t);
}), n.schemaError = function() {
return s;
};
}
};
} ]), r;
}), angular.module("schemaForm").run([ "$templateCache", function(e) {
e.put("decorators/bootstrap/actions-trcl.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'), e.put("decorators/bootstrap/actions.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'), e.put("decorators/bootstrap/array.html", '<div class="schema-form-array {{form.htmlClass}}" sf-field-model="sf-new-array" sf-new-array=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'), 
e.put("decorators/bootstrap/checkbox.html", '<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/checkboxes.html", '<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/default.html", '<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/fieldset.html", '<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset>'), e.put("decorators/bootstrap/help.html", '<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'), e.put("decorators/bootstrap/radio-buttons.html", '<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/radios-inline.html", '<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/radios.html", '<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/section.html", '<div class="schema-form-section {{form.htmlClass}}"></div>'), e.put("decorators/bootstrap/select.html", '<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/submit.html", '<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'), 
e.put("decorators/bootstrap/tabarray.html", '<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'), 
e.put("decorators/bootstrap/tabs.html", '<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'), e.put("decorators/bootstrap/textarea.html", '<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>');
} ]), angular.module("schemaForm").config([ "schemaFormDecoratorsProvider", "sfBuilderProvider", "sfPathProvider", function(e, t, n) {
var i = "decorators/bootstrap/", r = t.builders.simpleTransclusion, o = t.builders.ngModelOptions, a = t.builders.ngModel, s = t.builders.sfField, l = t.builders.condition, c = t.builders.array, u = [ s, a, o, l ];
e.defineDecorator("bootstrapDecorator", {
textarea: {
template: i + "textarea.html",
builder: u
},
fieldset: {
template: i + "fieldset.html",
builder: [ s, r, l ]
},
array: {
template: i + "array.html",
builder: [ s, o, a, c, l ]
},
tabarray: {
template: i + "tabarray.html",
builder: [ s, o, a, c, l ]
},
tabs: {
template: i + "tabs.html",
builder: [ s, o, function(e) {
if (e.form.tabs && e.form.tabs.length > 0) {
var t = e.fieldFrag.querySelector(".tab-content");
e.form.tabs.forEach(function(n, i) {
var r = document.createElement("div");
r.className = "tab-pane", r.setAttribute("ng-disabled", "form.readonly"), r.setAttribute("ng-show", "selected.tab === " + i), r.setAttribute("ng-class", "{active: selected.tab === " + i + "}");
var o = e.build(n.items, e.path + ".tabs[" + i + "].items", e.state);
r.appendChild(o), t.appendChild(r);
});
}
}, l ]
},
section: {
template: i + "section.html",
builder: [ s, r, l ]
},
conditional: {
template: i + "section.html",
builder: [ s, r, l ]
},
actions: {
template: i + "actions.html",
builder: u
},
select: {
template: i + "select.html",
builder: u
},
checkbox: {
template: i + "checkbox.html",
builder: u
},
checkboxes: {
template: i + "checkboxes.html",
builder: [ s, o, a, c, l ]
},
number: {
template: i + "default.html",
builder: u
},
password: {
template: i + "default.html",
builder: u
},
submit: {
template: i + "submit.html",
builder: u
},
button: {
template: i + "submit.html",
builder: u
},
radios: {
template: i + "radios.html",
builder: u
},
"radios-inline": {
template: i + "radios-inline.html",
builder: u
},
radiobuttons: {
template: i + "radio-buttons.html",
builder: u
},
help: {
template: i + "help.html",
builder: u
},
default: {
template: i + "default.html",
builder: u
}
}, []);
} ]), angular.module("schemaForm").run([ "$templateCache", function(e) {
e.put("decorators/bootstrap/actions-trcl.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'), e.put("decorators/bootstrap/actions.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'), e.put("decorators/bootstrap/array.html", '<div class="schema-form-array {{form.htmlClass}}" sf-field-model="sf-new-array" sf-new-array=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'), 
e.put("decorators/bootstrap/checkbox.html", '<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/checkboxes.html", '<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/default.html", '<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/fieldset.html", '<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset>'), e.put("decorators/bootstrap/help.html", '<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'), e.put("decorators/bootstrap/radio-buttons.html", '<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/radios-inline.html", '<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/radios.html", '<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/section.html", '<div class="schema-form-section {{form.htmlClass}}"></div>'), e.put("decorators/bootstrap/select.html", '<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/submit.html", '<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'), 
e.put("decorators/bootstrap/tabarray.html", '<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'), 
e.put("decorators/bootstrap/tabs.html", '<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'), e.put("decorators/bootstrap/textarea.html", '<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>');
} ]), angular.module("schemaForm").config([ "schemaFormDecoratorsProvider", "sfBuilderProvider", "sfPathProvider", function(e, t, n) {
var i = "decorators/bootstrap/", r = t.builders.simpleTransclusion, o = t.builders.ngModelOptions, a = t.builders.ngModel, s = t.builders.sfField, l = t.builders.condition, c = t.builders.array, u = [ s, a, o, l ];
e.defineDecorator("bootstrapDecorator", {
textarea: {
template: i + "textarea.html",
builder: u
},
fieldset: {
template: i + "fieldset.html",
builder: [ s, r, l ]
},
array: {
template: i + "array.html",
builder: [ s, o, a, c, l ]
},
tabarray: {
template: i + "tabarray.html",
builder: [ s, o, a, c, l ]
},
tabs: {
template: i + "tabs.html",
builder: [ s, o, function(e) {
if (e.form.tabs && e.form.tabs.length > 0) {
var t = e.fieldFrag.querySelector(".tab-content");
e.form.tabs.forEach(function(n, i) {
var r = document.createElement("div");
r.className = "tab-pane", r.setAttribute("ng-disabled", "form.readonly"), r.setAttribute("ng-show", "selected.tab === " + i), r.setAttribute("ng-class", "{active: selected.tab === " + i + "}");
var o = e.build(n.items, e.path + ".tabs[" + i + "].items", e.state);
r.appendChild(o), t.appendChild(r);
});
}
}, l ]
},
section: {
template: i + "section.html",
builder: [ s, r, l ]
},
conditional: {
template: i + "section.html",
builder: [ s, r, l ]
},
actions: {
template: i + "actions.html",
builder: u
},
select: {
template: i + "select.html",
builder: u
},
checkbox: {
template: i + "checkbox.html",
builder: u
},
checkboxes: {
template: i + "checkboxes.html",
builder: [ s, o, a, c, l ]
},
number: {
template: i + "default.html",
builder: u
},
password: {
template: i + "default.html",
builder: u
},
submit: {
template: i + "submit.html",
builder: u
},
button: {
template: i + "submit.html",
builder: u
},
radios: {
template: i + "radios.html",
builder: u
},
"radios-inline": {
template: i + "radios-inline.html",
builder: u
},
radiobuttons: {
template: i + "radio-buttons.html",
builder: u
},
help: {
template: i + "help.html",
builder: u
},
default: {
template: i + "default.html",
builder: u
}
}, []);
} ]), function(e) {
function t(n) {
if (i[n]) return i[n].exports;
var r = i[n] = {
i: n,
l: !1,
exports: {}
};
return e[n].call(r.exports, r, r.exports, t), r.l = !0, r.exports;
}
var n = window.webpackJsonp;
window.webpackJsonp = function(i, o, a) {
for (var s, l, c, u = 0, d = []; u < i.length; u++) l = i[u], r[l] && d.push(r[l][0]), r[l] = 0;
for (s in o) Object.prototype.hasOwnProperty.call(o, s) && (e[s] = o[s]);
for (n && n(i, o, a); d.length; ) d.shift()();
if (a) for (u = 0; u < a.length; u++) c = t(t.s = a[u]);
return c;
};
var i = {}, r = {
1: 0
};
t.e = function(e) {
function n() {
o.onerror = o.onload = null, clearTimeout(a);
var t = r[e];
0 !== t && (t && t[1](new Error("Loading chunk " + e + " failed.")), r[e] = void 0);
}
if (0 === r[e]) return Promise.resolve();
if (r[e]) return r[e][2];
var i = document.getElementsByTagName("head")[0], o = document.createElement("script");
o.type = "text/javascript", o.charset = "utf-8", o.async = !0, o.timeout = 12e4, t.nc && o.setAttribute("nonce", t.nc), o.src = t.p + "" + e + ".chunk.js";
var a = setTimeout(n, 12e4);
o.onerror = o.onload = n;
var s = new Promise(function(t, n) {
r[e] = [ t, n ];
});
return r[e][2] = s, i.appendChild(o), s;
}, t.m = e, t.c = i, t.i = function(e) {
return e;
}, t.d = function(e, n, i) {
t.o(e, n) || Object.defineProperty(e, n, {
configurable: !1,
enumerable: !0,
get: i
});
}, t.n = function(e) {
var n = e && e.__esModule ? function() {
return e.default;
} : function() {
return e;
};
return t.d(n, "a", n), n;
}, t.o = function(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}, t.p = "/", t.oe = function(e) {
throw console.error(e), e;
};
}([]), webpackJsonp([ 0, 1 ], [ function(e, t) {
e.exports = _;
}, function(e, t) {
e.exports = angular;
}, function(e, t) {
e.exports = $;
}, function(e, t) {}, function(e, t) {
e.exports = '<a href="" class="catalog-search-match" ng-if="match.model.id !== \'viewAll\' && match.model.id !== \'viewNone\'" ng-class="{\'catalog-search-summary\': match.model.id === \'viewNone\' || match.model.id === \'viewAll\'}">\n  <span class="catalog-search-match-icon" ng-if="match.model.id !== \'viewAll\' && match.model.id !== \'viewNone\'">\n    <span ng-if="match.model.imageUrl"><img ng-src="{{match.model.imageUrl}}"></span>\n    <span ng-if="!match.model.imageUrl && match.model.iconClass" ng-class="match.model.iconClass" class="icon"></span>\n  </span>\n  <div class="catalog-search-match-info" ng-if="match.model.id !== \'viewAll\' && match.model.id !== \'viewNone\'">\n    <div class="catalog-search-match-label">\n      {{match.label}}\n    </div>\n    <div class="catalog-search-match-description">\n      <span ng-repeat="tag in (match.model.tags || match.model.resource.tags)" class="tag small text-muted">\n        {{tag}}\n      </span>\n    </div>\n  </div>\n</a>\n<a ng-if="match.model.id === \'viewAll\'" href="" class="catalog-search-show-all">{{match.model.text}}  <span class="fa fa-angle-right" aria-hidden="true"></span></a>\n<div ng-if="match.model.id === \'viewNone\'" class="catalog-search-show-none">{{match.model.text}}</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <bind-application-form application-name="$ctrl.name"\n                         form-name="$ctrl.bindForm"\n                         allow-no-binding="true"\n                         service-instances="$ctrl.serviceInstances"\n                         service-classes="$ctrl.serviceClasses"\n                         service-to-bind="$ctrl.serviceToBind">\n  </bind-application-form>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div class="config-top">\n    <form name="$ctrl.builderForm" class="config-form">\n      <select-project ng-if="!$ctrl.addToProject" selected-project="$ctrl.selectedProject"\n                      name-taken="$ctrl.projectNameTaken"></select-project>\n      <span ng-if="!$ctrl.noProjectsCantCreate">\n        <div class="form-group">\n          <label class="control-label" for="version">Version</label>\n          <ui-select ng-model="$ctrl.istag" required search-enabled="false">\n            <ui-select-match>\n              <span>\n                {{$select.selected.name}}\n                <small ng-repeat="otherTag in $ctrl.referencedBy[$select.selected.name]">\n                  <span ng-if="$first"> &mdash; </span>{{otherTag}}<span ng-if="!$last">,</span>\n                </small>\n              </span>\n            </ui-select-match>\n            <ui-select-choices repeat="tag in $ctrl.versions track by tag.name">\n              {{tag.name}}\n              <small ng-repeat="otherTag in $ctrl.referencedBy[tag.name]">\n                <span ng-if="$first"> &mdash; </span>{{otherTag}}<span ng-if="!$last">,</span>\n              </small>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n        <div class="form-group">\n          <label class="control-label required" for="app-name">Application Name</label>\n          <div ng-class="{ \'has-error\': $ctrl.builderForm.name.$dirty && $ctrl.builderForm.name.$touched && $ctrl.builderForm.name.$invalid }">\n            <input\n              class="form-control"\n              type="text"\n              id="app-name"\n              required\n              minlength="2"\n              ng-maxlength="$ctrl.nameMaxLength"\n              ng-pattern="$ctrl.namePattern"\n              ng-model="$ctrl.name"\n              name="name"\n              autocorrect="off"\n              autocapitalize="none"\n              spellcheck="false">\n            \x3c!--\n              Wait until users leave the field to avoid flashing errors as they\n              type. Check $dirty touched to avoid a usability problem where the\n              "Try Sample Repository" link moves from under the mouse cursor\n              when clicked since the error message appears.\n            --\x3e\n            <div ng-if="$ctrl.builderForm.name.$dirty && $ctrl.builderForm.name.$touched">\n              <div class="has-error" ng-show="$ctrl.builderForm.name.$error.required">\n                <span class="help-block">\n                  Application name is required.\n                </span>\n              </div>\n              <div class="has-error" ng-show="$ctrl.builderForm.name.$error.pattern">\n                <span class="help-block">\n                  Application name consists of lower-case letters, numbers, and dashes. It must start with a letter and can\'t end with a <code>-</code>.\n                </span>\n              </div>\n              <div class="has-error" ng-show="$ctrl.builderForm.name.$error.minlength">\n                <span class="help-block">\n                  Application name must be at least 2 characters.\n                </span>\n              </div>\n              <div class="has-error" ng-show="$ctrl.builderForm.name.$error.maxlength">\n                <span class="help-block">\n                  Application name can\'t be more than 24 characters.\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <label class="control-label required" for="repository">Git Repository</label>\n          <div ng-class="{ \'has-error\': $ctrl.builderForm.repository.$touched && $ctrl.builderForm.repository.$error.$required }">\n            <input class="form-control"\n              type="text"\n              id="repository"\n              name="repository"\n              required\n              ng-model="$ctrl.repository"\n              ng-change="$ctrl.onRepositoryChanged()"\n              autocorrect="off"\n              autocapitalize="off"\n              spellcheck="false">\n            <div ng-if="$ctrl.istag.annotations.sampleRepo" class="help-block">\n              <a href="" ng-click="$ctrl.fillSampleRepo()">Try Sample Repository\n                <i class="fa fa-level-up" aria-hidden="true"></i></a>\n            </div>\n            <div class="has-error" ng-if="$ctrl.builderForm.repository.$touched && $ctrl.builderForm.repository.$error.$required">\n              <span class="help-block">\n                Git repository is required.\n              </span>\n            </div>\n            <div class="has-warning" ng-if="$ctrl.builderForm.repository.$touched && $ctrl.repository && !$ctrl.repositoryPattern.test($ctrl.repository)">\n              <span class="help-block">\n                This might not be a valid Git URL. Check that it is the correct URL to a remote Git repository.\n              </span>\n            </div>\n          </div>\n        </div>\n\n        \x3c!--\n          Only show the link for existing projects. It will be broken for new\n          projects.  Use class `invisible` when the project list is still loading\n          so the dialog doesn\'t resize.\n        --\x3e\n        <div ng-hide="$ctrl.selectedProject && !$ctrl.selectedProject.metadata.uid"\n             ng-class="{ invisible: !$ctrl.selectedProject || !$ctrl.istag }"\n             class="form-group">\n          If you have a private Git repository or need to change application defaults, view\n          <a href="" ng-click="$ctrl.navigateToAdvancedForm()">advanced options</a>.\n        </div>\n      </span>\n    </form>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-details">\n  <div class="order-service-details-top" ng-class="{\'order-service-details-top-icon-top\': $ctrl.imageStream.vendor || $ctrl.documentationUrl || $ctrl.supportUrl}">\n    <div class="service-icon">\n      <span ng-if="!$ctrl.imageStream.imageUrl" class="icon {{$ctrl.imageStream.iconClass}}" aria-hidden="true"></span>\n      <span ng-if="$ctrl.imageStream.imageUrl" class="image"><img ng-src="{{$ctrl.imageStream.imageUrl}}" alt=""></span>\n    </div>\n    <div class="service-title-area">\n      <div class="service-title">\n        {{$ctrl.imageStream.name}}\n      </div>\n      <div ng-if="$ctrl.imageStream.vendor" class="service-vendor">\n        {{$ctrl.imageStream.vendor}}\n      </div>\n      <div class="order-service-tags">\n        <span ng-repeat="tag in $ctrl.istag.annotations.tags.split(\',\')" class="tag">\n          {{tag}}\n        </span>\n      </div>\n      <ul ng-if="$ctrl.documentationUrl || $ctrl.supportUrl" class="list-inline order-service-documentation-url">\n        <li ng-if="$ctrl.documentationUrl">\n          <a ng-href="{{$ctrl.documentationUrl}}" target="_blank" class="learn-more-link">View Documentation <i class="fa fa-external-link" aria-hidden="true"></i></a>\n        </li>\n        <li ng-if="$ctrl.supportUrl">\n          <a ng-href="{{$ctrl.supportUrl}}" target="_blank" class="learn-more-link">Get Support <i class="fa fa-external-link" aria-hidden="true"></i></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="order-service-description-block">\n    <p ng-bind-html="($ctrl.istag.annotations.description | linky : \'_blank\') || \'No description provided.\'" class="description"></p>\n    <p ng-if="$ctrl.istag.annotations.sampleRepo">\n      Sample Repository:\n      \x3c!-- TODO: Use Git link filter, needs to be added to origin-web-common --\x3e\n      <span ng-bind-html="$ctrl.istag.annotations.sampleRepo | linky : \'_blank\'"></span>\n    </p>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div ng-if="!$ctrl.success && !$ctrl.error">\n    <div class="results-status">\n      <span class="fa fa-clock-o text-muted" aria-hidden="true"></span>\n      <span class="sr-only">Pending</span>\n      <div class="results-message">\n        <h3>\n          <strong>{{$ctrl.name}}</strong> is being created in <strong>{{$ctrl.selectedProject | displayName}}</strong>.\n        </h3>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.success">\n    <div class="results-status">\n      <span class="pficon pficon-ok" aria-hidden="true"></span>\n      <span class="sr-only">Success</span>\n      <div class="results-message">\n        <h3>\n          <strong>{{$ctrl.name}}</strong> has been created in <strong>{{$ctrl.selectedProject | displayName}}</strong> successfully.\n        </h3>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.success && $ctrl.binding">\n    <bind-results error="$ctrl.bindError"\n                  binding="$ctrl.binding"\n                  service-to-bind="$ctrl.serviceToBind.metadata.name"\n                  bind-type="application"\n                  application-to-bind="$ctrl.name"\n                  show-pod-presets="$ctrl.showPodPresets">\n    </bind-results>\n  </div>\n  <div ng-if="$ctrl.success">\n    <p ng-if="!$ctrl.serviceToBind || $ctrl.bindComplete">\n      <a ng-href="{{$ctrl.selectedProject | projectUrl : $ctrl.baseProjectUrl}}" ng-click="$ctrl.closePanel()">Continue to the project overview</a> to check the status of your application as it builds and deploys.\n    </p>\n  </div>\n  <div class="results-failure" ng-if="$ctrl.error">\n    <div class="results-status">\n      <span class="pficon pficon-error-circle-o text-danger" aria-hidden="true"></span>\n      <div class="results-message">\n        <h3>\n          <strong>{{$ctrl.name}}</strong> failed to create in <strong>{{$ctrl.selectedProject | displayName}}</strong>.\n        </h3>\n      </div>\n    </div>\n    <div class="sub-title">\n      <span ng-if="$ctrl.error.data.message">\n        {{$ctrl.error.data.message | upperFirst}}\n      </span>\n      <span ng-if="!$ctrl.error.data.message">\n        An error occurred creating the application.\n      </span>\n    </div>\n    \x3c!-- TODO: Improve error message presentation --\x3e\n    <ul ng-if="$ctrl.error.failure.length" class="failure-messages">\n      <li ng-repeat="failure in $ctrl.error.failure">\n        {{failure.data.message}}\n      </li>\n    </ul>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div class="config-top">\n    <form name="$ctrl.forms.bindParametersForm" class="config-form">\n      <catalog-parameters\n        ng-if="$ctrl.bindParameterSchema.properties"\n        model="$ctrl.bindParameterData"\n        parameter-schema="$ctrl.bindParameterSchema"\n        parameter-form-definition="$ctrl.bindParameterFormDefinition">\n      </catalog-parameters>\n    </form>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <bind-service-form service-class="$ctrl.serviceClass.resource"\n                     show-pod-presets="$ctrl.showPodPresets"\n                     applications="$ctrl.applications"\n                     form-name="$ctrl.forms.bindForm"\n                     allow-no-binding="true"\n                     project-name="$ctrl.projectDisplayName"\n                     bind-type="$ctrl.bindType"\n                     app-to-bind="$ctrl.appToBind">\n  </bind-service-form>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div class="config-top">\n    <form name="$ctrl.forms.orderConfigureForm" class="config-form">\n      <select-project ng-if="!$ctrl.addToProject" selected-project="$ctrl.selectedProject" name-taken="$ctrl.projectNameTaken" show-divider="$ctrl.parameterSchema.properties.length > 0"></select-project>\n      <catalog-parameters\n        ng-if="$ctrl.parameterSchema.properties && !$ctrl.noProjectsCantCreate"\n        model="$ctrl.parameterData"\n        parameter-schema="$ctrl.parameterSchema"\n        parameter-form-definition="$ctrl.parameterFormDefinition">\n      </catalog-parameters>\n    </form>\n    <div ng-if="$ctrl.error" class="has-error">\n      <span class="help-block">{{$ctrl.error}}</span>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-details">\n  <div class="order-service-details-top" ng-class="{\'order-service-details-top-icon-top\': $ctrl.serviceClass.vendor || $ctrl.docUrl || $ctrl.supportUrl}">\n    <div class="service-icon">\n      <span ng-if="!$ctrl.imageUrl" class="icon {{$ctrl.iconClass}}" aria-hidden="true"></span>\n      <span ng-if="$ctrl.imageUrl" class="image"><img ng-src="{{$ctrl.imageUrl}}" alt=""></span>\n    </div>\n    <div class="service-title-area">\n      <div class="service-title">\n        {{$ctrl.serviceName}}\n      </div>\n      <div ng-if="$ctrl.serviceClass.vendor" class="service-vendor">\n        {{$ctrl.serviceClass.vendor}}\n      </div>\n      <div ng-if="$ctrl.serviceClass.tags" class="order-service-tags">\n        <span ng-repeat="tag in $ctrl.serviceClass.tags" class="tag">\n          {{tag}}\n        </span>\n      </div>\n      <ul ng-if="$ctrl.docUrl || $ctrl.supportUrl" class="list-inline order-service-documentation-url">\n        <li ng-if="$ctrl.docUrl" >\n          <a ng-href="{{$ctrl.docUrl}}" target="_blank" class="learn-more-link">View Documentation <i class="fa fa-external-link" aria-hidden="true"></i></a>\n        </li>\n        <li ng-if="$ctrl.supportUrl" >\n          <a ng-href="{{$ctrl.supportUrl}}" target="_blank" class="learn-more-link">Get Support <i class="fa fa-external-link" aria-hidden="true"></i></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="order-service-description-block">\n    <p ng-if="!$ctrl.multipleServicePlans && ($ctrl.selectedPlan.spec.externalMetadata.displayName || $ctrl.selectedPlan.spec.description)">\n      <span ng-if="$ctrl.selectedPlan.spec.externalMetadata.displayName">\n        Plan {{$ctrl.selectedPlan.spec.externalMetadata.displayName}}\n        <span ng-if="$ctrl.selectedPlan.spec.description">&ndash;</span>\n      </span>\n      <span ng-if="$ctrl.selectedPlan.spec.description">{{$ctrl.selectedPlan.spec.description}}</span>\n    </p>\n    <p ng-if="!$ctrl.description && !$ctrl.longDescription" class="description">No description provided.</p>\n    <p ng-if="$ctrl.description" ng-bind-html="($ctrl.description | linky : \'_blank\')" class="description"></p>\n    <p ng-if="$ctrl.longDescription" ng-bind-html="$ctrl.longDescription | linky : \'_blank\'" class="description"></p>\n    <div ng-if="$ctrl.imageDependencies.length">\n      <div class="order-service-subheading">Image Dependencies</div>\n      <div ng-repeat="imageName in $ctrl.imageDependencies" class="order-service-dependent-image">\n        <span class="pficon pficon-image" aria-hidden="true"></span>\n        <span class="sr-only">Image</span>\n        {{imageName}}\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div class="config-top">\n    <select-plan available-plans="$ctrl.orderedPlans" selected-plan="$ctrl.selectedPlan" on-plan-select="$ctrl.selectPlan"></select-plan>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div ng-if="!$ctrl.error">\n    <div ng-if="!$ctrl.orderComplete">\n      <div class="results-status">\n        <span class="fa fa-clock-o text-muted" aria-hidden="true"></span>\n        <span class="sr-only">Pending</span>\n        <div class="results-message">\n          <h3>\n            <strong>{{$ctrl.serviceClass.name}}</strong> is being provisioned in <strong>{{$ctrl.projectDisplayName}}</strong>.\n          </h3>\n          <p class="results-message-details">\n            <span ng-if="$ctrl.binding">The binding will be created after the service has been provisioned.</span>\n            This may take several minutes.\n          </p>\n        </div>\n      </div>\n      <p>\n        <a ng-href="{{$ctrl.selectedProject | projectUrl : $ctrl.baseProjectUrl}}" ng-click="$ctrl.closePanel()">Continue to the project overview</a> to check the status of your service.\n      </p>\n    </div>\n  </div>\n  <div class="results-failure" ng-if="$ctrl.error">\n    <div class="results-status">\n      <span class="pficon pficon-error-circle-o text-danger" aria-hidden="true"></span>\n      <span class="sr-only">Error</span>\n      <div class="results-message">\n        <h3>\n          <strong>{{$ctrl.serviceClass.name}}</strong> failed to provision in <strong>{{$ctrl.projectDisplayName}}</strong>.\n        </h3>\n      </div>\n    </div>\n    <div class="sub-title">\n      <span ng-if="$ctrl.error.message" class="error-message">{{$ctrl.error.message}}</span>\n      <span ng-if="!$ctrl.error.message" class="error-message">An error occurred provisioning the service.</span>\n    </div>\n  </div>\n  <div ng-if="$ctrl.orderComplete">\n    <div class="results-status">\n      <span class="pficon pficon-ok" aria-hidden="true"></span>\n      <span class="sr-only">Success</span>\n      <div class="results-message">\n        <h3>\n          <strong>{{$ctrl.serviceClass.name}}</strong> has been added to <strong>{{$ctrl.projectDisplayName}}</strong> successfully.\n        </h3>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.orderComplete && $ctrl.binding">\n    <bind-results error="$ctrl.bindError"\n                  binding="$ctrl.binding"\n                  secret-href="$ctrl.selectedProject | secretUrl : $ctrl.baseProjectUrl : $ctrl.binding.spec.secretName"\n                  service-to-bind="$ctrl.serviceInstance.metadata.name"\n                  bind-type="{{$ctrl.bindType}}"\n                  application-to-bind="$ctrl.appToBind.metadata.name"\n                  show-pod-presets="$ctrl.showPodPresets">\n    </bind-results>\n    <p><a ng-href="{{$ctrl.selectedProject | projectUrl : $ctrl.baseProjectUrl}}">Continue to the project overview</a>.</p>\n  </div>\n  <div ng-if="$ctrl.orderComplete && $ctrl.bindType === \'none\'">\n    <p><a ng-href="{{$ctrl.selectedProject | projectUrl : $ctrl.baseProjectUrl}}">Continue to the project overview</a> to bind this service to your application. Binding this service creates a secret containing the information necessary for your application to use the service.</p>\n  </div>\n  <div ng-if="$ctrl.serviceClass.resource.externalMetadata.documentationUrl || $ctrl.serviceClass.resource.externalMetadata.supportUrl || (!$ctrl.error && $ctrl.serviceInstance.status.dashboardURL)">\n    <p class="or" ng-if="!$ctrl.error">- or -</p>\n    <p>Browse resources for {{$ctrl.serviceClass.name}}:</p>\n    <ul class="list-inline">\n      <li ng-if="$ctrl.serviceClass.resource.externalMetadata.documentationUrl">\n        <a ng-href="{{$ctrl.serviceClass.resource.externalMetadata.documentationUrl}}" target="_blank">Documentation <i class="fa fa-external-link" aria-hidden="true"></i></a>\n      </li>\n      <li ng-if="$ctrl.serviceClass.resource.externalMetadata.supportUrl">\n        <a ng-href="{{$ctrl.serviceClass.resource.externalMetadata.supportUrl}}" target="_blank">Support <i class="fa fa-external-link" aria-hidden="true"></i></a>\n      </li>\n      <li ng-if="!$ctrl.error && $ctrl.serviceInstance.status.dashboardURL">\n        <a ng-href="{{$ctrl.serviceInstance.status.dashboardURL}}" target="_blank">Service Dashboard <i class="fa fa-external-link" aria-hidden="true"></i></a>\n      </li>\n    </ul>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div class="config-top">\n    <form name="$ctrl.forms.orderConfigureForm" class="config-form">\n      <catalog-parameters\n        ng-if="$ctrl.parameterSchema.properties"\n        model="$ctrl.parameterData"\n        parameter-schema="$ctrl.parameterSchema"\n        parameter-form-definition="$ctrl.parameterFormDefinition">\n      </catalog-parameters>\n    </form>\n    <div ng-if="$ctrl.error" class="has-error">\n      <span class="help-block">{{$ctrl.error}}</span>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div class="config-top">\n    <select-plan available-plans="$ctrl.orderedPlans" selected-plan="$ctrl.selectedPlan" on-plan-select="$ctrl.selectPlan"></select-plan>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service-config">\n  <div ng-if="!$ctrl.error && !$ctrl.orderComplete">\n    <div class="results-status">\n      <span class="fa fa-clock-o text-muted" aria-hidden="true"></span>\n      <span class="sr-only">Updating</span>\n      <div class="results-message">\n        <h3>\n          <strong>{{$ctrl.displayName}}</strong> is being updated in <strong>{{$ctrl.project | displayName}}</strong>.\n        </h3>\n      </div>\n    </div>\n  </div>\n  <div class="results-failure" ng-if="$ctrl.error">\n    <div class="results-status">\n      <span class="pficon pficon-error-circle-o text-danger" aria-hidden="true"></span>\n      <span class="sr-only">Error</span>\n      <div class="results-message">\n        <h3>\n          Failed to update <strong>{{$ctrl.displayName}}</strong> in <strong>{{$ctrl.project | displayName}}</strong>.\n        </h3>\n      </div>\n    </div>\n    <div class="sub-title">\n      <span ng-if="$ctrl.error.message">\n        {{$ctrl.error.message}}\n      </span>\n      <span ng-if="!$ctrl.error.message">\n        An error occurred updating the service.\n      </span>\n    </div>\n  </div>\n  <div ng-if="$ctrl.orderComplete">\n    <div class="results-status">\n      <span class="pficon pficon-ok" aria-hidden="true"></span>\n      <span class="sr-only">Success</span>\n      <div class="results-message">\n        <h3>\n          <strong>{{$ctrl.displayName}}</strong> has been updated in <strong>{{$ctrl.project | displayName}}</strong> successfully.\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div  class="schema-form-array {{form.htmlClass}}"\n      sf-field-model="sf-new-array"\n      sf-new-array>\n  <label class="control-label" ng-show="showTitle()">{{ form.title }}</label>\n  <ol class="list-group" sf-field-model ui-sortable="form.sortOptions">\n    <li class="list-group-item {{form.fieldHtmlClass}}"\n        schema-form-array-items\n        sf-field-model="ng-repeat"\n        ng-repeat="item in $$value$$ track by $index">\n      <button ng-hide="form.readonly || form.remove === null"\n              ng-click="deleteFromArray($index)"\n              ng-disabled="form.schema.minItems >= modelArray.length"\n              style="position: absolute; z-index: 20; right: 0; top: 12px; font-size: 20px;"\n              type="button" class="close">\n              <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>\n      </button>\n    </li>\n  </ol>\n  <div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form">\n    <div class="help-block"\n         ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n         ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\n\n    <button ng-hide="form.readonly || form.add === null"\n            ng-click="appendToArray()"\n            ng-disabled="form.schema.maxItems <= modelArray.length"\n            type="button"\n            class="btn {{ form.style.add || \'btn-default\' }} pull-right">\n      {{ form.add || \'Add\'}}\n    </button>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="form-group">\n  <div class="checkbox schema-form-checkbox {{form.htmlClass}}"\n       ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\n    <label class="{{form.checkboxLabelHtmlClass}}">\n      <input type="checkbox"\n             sf-changed="form"\n             ng-disabled="form.readonly"\n             sf-field-model\n             schema-validate="form"\n             class="{{form.fieldHtmlClass}}"\n             name="{{form.key.slice(-1)[0]}}">\n      <span ng-bind-html="form.title"></span>\n    </label>\n    <div class="help-block {{form.checkboxHelpHtmlClass}}" sf-message="form.description"></div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div sf-field-model="sf-new-array"\n     sf-new-array\n     class="form-group schema-form-checkboxes {{form.htmlClass}}"\n     ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\n  <label class="control-label {{form.labelHtmlClass}}"\n         sf-field-model\n         schema-validate="form"\n         ng-show="showTitle()">{{form.title}}</label>\n\n  <div class="{{form.fieldWrapperHtmlClass}}">\n    <div class="checkbox" ng-repeat="val in titleMapValues track by $index" >\n      <label>\n        <input type="checkbox"\n               ng-disabled="form.readonly"\n               sf-changed="form"\n               class="{{form.fieldHtmlClass}}"\n               ng-model="titleMapValues[$index]"\n               name="{{form.key.slice(-1)[0]}}">\n        <span ng-bind-html="form.titleMap[$index].name"></span>\n      </label>\n    </div>\n  </div>\n  <div class="help-block" sf-message="form.description"></div>\n</div>\n';
}, function(e, t) {
e.exports = '<div>\n  <div class="form-group schema-form-{{form.type}} {{form.htmlClass}}"\n       ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }">\n    <label class="control-label {{form.labelHtmlClass}}" ng-class="{required: form.required, \'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label>\n\n    <div class="{{form.fieldWrapperHtmlClass}}">\n      <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight"\n             ng-show="form.key"\n             type="{{form.type}}"\n             step="any"\n             sf-changed="form"\n             placeholder="{{form.placeholder}}"\n             class="form-control {{form.fieldHtmlClass}}"\n             id="{{form.key.slice(-1)[0]}}"\n             sf-field-model\n             ng-disabled="form.readonly"\n             ng-required="form.required"\n             schema-validate="form"\n             name="{{form.key.slice(-1)[0]}}"\n             aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}">\n\n      <div ng-if="form.fieldAddonLeft || form.fieldAddonRight"\n           ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}">\n        <span ng-if="form.fieldAddonLeft"\n              class="input-group-addon"\n              ng-bind-html="form.fieldAddonLeft"></span>\n        <input ng-show="form.key"\n               type="{{form.type}}"\n               step="any"\n               sf-changed="form"\n               placeholder="{{form.placeholder}}"\n               class="form-control {{form.fieldHtmlClass}}"\n               id="{{form.key.slice(-1)[0]}}"\n               sf-field-model\n               ng-disabled="form.readonly"\n               schema-validate="form"\n               name="{{form.key.slice(-1)[0]}}"\n               aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}">\n\n        <span ng-if="form.fieldAddonRight"\n              class="input-group-addon"\n              ng-bind-html="form.fieldAddonRight"></span>\n      </div>\n\n      <span ng-if="form.feedback !== false"\n            class="form-control-feedback"\n            ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"\n            aria-hidden="true"></span>\n\n      <span ng-if="hasError() || hasSuccess()"\n            id="{{form.key.slice(-1)[0] + \'Status\'}}"\n            class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span>\n\n      <div class="help-block" sf-message="form.description"></div>\n    </div>\n  </div>\n  <div ng-if="form.type === \'password\'" class="form-group {{form.htmlClass}}">\n    <label class="control-label {{form.labelHtmlClass}}" ng-class="{required: form.required, \'sr-only\': !showTitle()}" for="retype-{{form.key.slice(-1)[0]}}">Retype {{form.title}}</label>\n    <input type="password"\n           id="retype-{{form.key.slice(-1)[0]}}"\n           name="retype-{{form.key.slice(-1)[0]}}"\n           ng-blur="retypePasswordBlurred = true"\n           ng-model="retypePassword"\n           ng-required="ngModel.$modelValue && !form.readonly && !ngModel.$pristine"\n           ng-disabled="form.readonly || ngModel.$pristine"\n           ng-pattern="ngModel.$modelValue | escapeRegExp"\n           class="form-control {{form.fieldHtmlClass}}">\n    <div class="has-error" ng-if="retypePasswordBlurred && !form.readonly && !ngModel.$pristine && (retypePassword || \'\') !== (ngModel.$modelValue || \'\')">\n      <span class="help-block">{{form.title}} values don\'t match.</span>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="form-group {{form.htmlClass}} schema-form-select"\n     ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}">\n   <label class="control-label {{form.labelHtmlClass}}" ng-class="{ required: form.required }" ng-show="showTitle()">\n    {{form.title}}\n  </label>\n  <div class="{{form.fieldWrapperHtmlClass}}">\n    <ui-select sf-field-model\n            ng-disabled="form.readonly"\n            ng-required="form.required"\n            sf-changed="form"\n            schema-validate="form">\n      <ui-select-match>\n        {{$select.selected.name}}\n      </ui-select-match>\n      <ui-select-choices repeat="item.value as item in form.titleMap | filter : $select.search">\n        <span ng-bind-html="item.name | highlightKeywords : $select.search"></span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="help-block" sf-message="form.description"></div>\n  </div>\n</div>\n';
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(56);
t.catalogFilter = {
bindings: {
config: "<",
vendors: "<",
filterOnKeyword: "<",
applyFilters: "&"
},
controller: i.CatalogFilterController,
template: n(43)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(57);
t.catalogParameters = {
bindings: {
parameterSchema: "<",
parameterFormDefinition: "<",
isHorizontal: "<?",
readOnly: "<?",
opaqueKeys: "<?",
hideValues: "<?",
model: "="
},
controller: i.CatalogParametersController,
template: n(44)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(58);
t.catalogSearch = {
bindings: {
baseProjectUrl: "@",
catalogItems: "<",
toggleAtMobile: "<?",
searchToggleCallback: "<?"
},
controller: i.CatalogSearchController,
template: n(45)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(59);
t.createFromBuilder = {
bindings: {
baseProjectUrl: "@",
imageStream: "<",
handleClose: "<",
addToProject: "<?"
},
controller: i.CreateFromBuilderController,
template: n(46)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(60);
t.landingPage = {
bindings: {
baseProjectUrl: "@",
onTemplateSelected: "&"
},
controller: i.LandingPageController,
template: n(47),
transclude: {
landingsearch: "landingsearch",
landingheader: "landingheader",
landingbody: "landingbody",
landingside: "landingside"
}
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(61);
t.orderService = {
bindings: {
baseProjectUrl: "@",
serviceClass: "<",
servicePlans: "<",
handleClose: "<",
addToProject: "<?"
},
controller: i.OrderServiceController,
template: n(48)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(62);
t.overlayPanel = {
bindings: {
showClose: "<",
showPanel: "<",
handleClose: "<"
},
controller: i.OverlayPanelController,
template: n(49),
transclude: !0
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(63);
t.projectsSummary = {
bindings: {
baseProjectUrl: "@",
catalogItems: "<",
projectsUrl: "@",
viewEditMembership: "&",
startTour: "&"
},
controller: i.ProjectsSummaryController,
template: n(50)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(64);
t.saasList = {
bindings: {
saasTitle: "<?",
saasOfferings: "<"
},
controller: i.SaasListController,
template: n(51)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(65);
t.selectPlan = {
bindings: {
availablePlans: "<",
selectedPlan: "<",
onPlanSelect: "<"
},
controller: i.SelectPlanController,
template: n(52)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(66);
t.selectProject = {
bindings: {
selectedProject: "=?",
preselectProjectName: "@?",
nameTaken: "<",
onProjectSelected: "<?",
onOpen: "<?",
availableProjects: "<?",
showDivider: "<?",
skipCanAddValidation: "<?",
hideCreateProject: "<?",
hideLabel: "<?",
isRequired: "<?"
},
controller: i.SelectProjectController,
template: n(53)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(67);
t.servicesView = {
bindings: {
sectionTitle: "@?",
baseProjectUrl: "@",
catalogItems: "<",
servicePlans: "<",
keywordFilter: "<?",
onDeployImageSelected: "<",
onFromFileSelected: "<",
onCreateFromProject: "<"
},
controller: i.ServicesViewController,
template: n(54)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(68);
t.updateService = {
bindings: {
displayName: "<",
project: "<",
baseProjectUrl: "@",
serviceInstance: "<",
serviceClass: "<",
servicePlans: "<",
handleClose: "<"
},
controller: i.UpdateServiceController,
template: n(55)
};
}, function(e, t, n) {
"use strict";
(function(e) {
t.__esModule = !0;
var i = n(0);
i.set(window, "OPENSHIFT_CONSTANTS.HELP_BASE_URL", "https://docs.openshift.org/latest/");
var r = {
new_app: "dev_guide/application_lifecycle/new_app.html",
application_health: "dev_guide/application_health.html",
authorization: "architecture/additional_concepts/authorization.html",
deployments: "dev_guide/deployments/how_deployments_work.html",
default: "welcome/index.html"
};
i.set(window, "OPENSHIFT_CONSTANTS.HELP", r);
var o = [ {
id: 1,
title: "Microservices Application",
icon: "fa fa-cubes",
url: "https://www.redhat.com/en/technologies/virtualization",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
}, {
id: 2,
title: "Mobile Application",
icon: "fa fa-user",
url: "https://www.redhat.com/en/technologies/mobile",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
}, {
id: 3,
title: "Integration Application",
icon: "fa fa-plug",
url: "https://www.redhat.com/en/technologies/cloud-computing",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
}, {
id: 4,
title: "Business Process Application",
icon: "fa fa-cubes",
url: "https://www.redhat.com/en/technologies/management",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt.  This is way too long! Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
} ], a = [ {
id: "languages",
label: "Languages",
subCategories: [ {
id: "java",
label: "Java",
tags: [ "java" ],
icon: "icon-openjdk"
}, {
id: "javascript",
tags: [ "javascript", "nodejs", "js" ],
label: "JavaScript",
icon: "icon-js"
}, {
id: "dotnet",
label: ".NET",
tags: [ "dotnet" ],
icon: "icon-dotnet"
}, {
id: "perl",
label: "Perl",
tags: [ "perl" ],
icon: "icon-perl"
}, {
id: "ruby",
label: "Ruby",
tags: [ "ruby" ],
icon: "icon-ruby"
}, {
id: "php",
label: "PHP",
tags: [ "php" ],
icon: "icon-php"
}, {
id: "python",
label: "Python",
tags: [ "python" ],
icon: "icon-python"
}, {
id: "golang",
label: "Go",
tags: [ "golang", "go" ],
icon: "icon-go-gopher"
} ]
}, {
id: "databases",
label: "Databases",
subCategories: [ {
id: "mongodb",
label: "Mongo",
tags: [ "mongodb" ],
icon: "icon-mongodb"
}, {
id: "mysql",
label: "MySQL",
tags: [ "mysql" ],
icon: "icon-mysql-database"
}, {
id: "postgresql",
label: "Postgres",
tags: [ "postgresql" ],
icon: "icon-postgresql"
}, {
id: "mariadb",
label: "MariaDB",
tags: [ "mariadb" ],
icon: "icon-mariadb"
} ]
}, {
id: "middleware",
label: "Middleware",
subCategories: [ {
id: "integration",
label: "Integration",
tags: [ "amq", "fuse", "jboss-fuse", "sso", "3scale" ]
}, {
id: "process-automation",
label: "Process Automation",
tags: [ "decisionserver", "processserver" ]
}, {
id: "analytics-data",
label: "Analytics & Data",
tags: [ "datagrid", "datavirt" ]
}, {
id: "runtimes",
label: "Runtimes & Frameworks",
tags: [ "eap", "httpd", "tomcat" ]
} ]
}, {
id: "cicd",
label: "CI/CD",
subCategories: [ {
id: "jenkins",
label: "Jenkins",
tags: [ "jenkins" ],
icon: "icon-jenkins"
}, {
id: "pipelines",
label: "Pipelines",
tags: [ "pipelines" ],
icon: "fa fa-clone"
} ]
}, {
id: "virtualization",
label: "Virtualization",
subCategories: [ {
id: "vms",
label: "Virtual Machines",
tags: [ "virtualmachine" ]
} ]
} ];
i.set(window, "OPENSHIFT_CONSTANTS.SERVICE_CATALOG_CATEGORIES", a), i.set(window, "OPENSHIFT_CONSTANTS.SAAS_OFFERINGS", o);
var s = {
pod_presets: !1
};
i.set(window, "OPENSHIFT_CONSTANTS.ENABLE_TECH_PREVIEW_FEATURE", s);
var l = {
links: [ {
title: "Documentation",
help: ""
}, {
title: "Interactive Learning Portal",
href: "https://learn.openshift.com"
}, {
title: "Local Development ",
href: "https://www.openshift.org/minishift"
}, {
title: "YouTube",
href: "https://www.youtube.com/user/rhopenshift"
}, {
title: "Blog",
href: "https://blog.openshift.com"
} ]
};
i.set(window, "OPENSHIFT_CONSTANTS.CATALOG_HELP_RESOURCES", l);
var c = {
landing_page_tour: {
enabled: !0,
auto_launch: !1,
steps: {
id: "getting-started-tour",
steps: [ {
title: "Create Project",
content: "Projects allow you to organize and manage your content. Projects require a unique name, and optionally can include a display name, and description",
target: ".catalog-projects-summary-panel .create-button",
targetScrollElement: ".landing-side-bar",
placement: "left"
}, {
title: "Search Catalog",
content: "Search by name, description, keyword, or label to quickly locate items in the catalog that you want to add to your project.",
target: ".landing-search-area .landing-search-form",
placement: "bottom",
fixedElement: !0
}, {
title: "Browse Catalog",
content: "If you don’t know exactly what you are looking for, you can browse all available catalog items under the first tab in the catalog.",
target: ".services-view-container h1",
placement: "bottom",
xOffset: 20,
delay: 300,
preShow: function() {
e("body").find(".services-view-container .nav-tabs a")[0].click();
}
}, {
title: "Browse by Category",
content: "A secondary level of categorization is available to further narrow your search.",
target: ".services-view-container .nav-tabs li:nth-child(2)",
placement: "right",
delay: 200,
preShow: function() {
e(e("body").find(".services-view-container .nav-tabs li")[1]).find("a")[0].click(), setTimeout(function() {
e("body").find(".services-sub-category-tab")[1].click();
});
}
}, {
title: "Configure a Resource",
content: "Clicking on a catalog item will open a panel allowing you to configure and create within a project.",
target: ".services-sub-category.active .services-items .services-item",
placement: "right"
}, {
title: "Additional Help",
content: "Additional resources can be found here or you can always access the help icon in the top banner for more information.",
target: ".resources-panel",
targetScrollElement: ".landing-side-bar",
placement: "left"
} ]
}
}
};
i.set(window, "OPENSHIFT_CONSTANTS.GUIDED_TOURS", c), i.set(window, "OPENSHIFT_CONSTANTS.PUBLISHER_SYNONYMS", {}), i.set(window, "OPENSHIFT_CONSTANTS.CATALOG_SEARCH_FIELDS", [ {
path: "name",
weight: 10
}, {
path: "tags",
weight: 5
}, {
path: "description",
weight: 3
} ]);
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0);
t.escapeRegExpFilter = function() {
return i.escapeRegExp;
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0);
t.projectUrlFilter = function() {
return function(e, t) {
var n, r = t || "project/";
return n = i.isString(e) ? e : i.get(e, "metadata.name", ""), r.endsWith("/") || (r += "/"), r + n + "/overview";
};
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0);
t.secretUrlFilter = function() {
return function(e, t, n) {
var r, o = t || "project/";
return r = i.isString(e) ? e : i.get(e, "metadata.name", ""), o.endsWith("/") || (o += "/"), o + r + "/browse/secrets/" + n;
};
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = function() {
function e() {}
return e.prototype.makeAPIObjects = function(e) {
var t = this.getPorts(e.imageStreamTag), n = i.head(t), r = [ this.makeImageStream(e), this.makeBuildConfig(e), this.makeDeploymentConfig(e, t) ];
return n && (r = r.concat(this.makeService(e, n), this.makeRoute(e, n))), r;
}, e.prototype.getPorts = function(e) {
var t = e.image, n = i.get(t, "dockerImageMetadata.Config.ExposedPorts") || i.get(t, "dockerImageMetadata.ContainerConfig.ExposedPorts", []);
return this.parsePortsFromSpec(n);
}, e.prototype.generateSecret = function() {
function e() {
return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);
}
return e() + e() + e() + e();
}, e.prototype.parsePortsFromSpec = function(e) {
var t = [];
return i.each(e, function(e, n) {
var i = n.split("/");
1 === i.length && i.push("tcp");
var r = parseInt(i[0], 10);
isNaN(r) ? this.Logger.warn("Container port " + i[0] + " is not a number") : t.push({
containerPort: r,
protocol: i[1].toUpperCase()
});
}), t;
}, e.prototype.getAnnotations = function() {
return {
"openshift.io/generated-by": "OpenShiftWebConsole"
};
}, e.prototype.getLabels = function(e) {
return {
app: e.name
};
}, e.prototype.getPortName = function(e) {
return (e.containerPort + "-" + e.protocol).toLowerCase();
}, e.prototype.makeRoute = function(e, t) {
return {
kind: "Route",
apiVersion: "v1",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
to: {
kind: "Service",
name: e.name
},
port: {
targetPort: this.getPortName(t)
},
wildcardPolicy: "None"
}
};
}, e.prototype.makeService = function(e, t) {
return {
kind: "Service",
apiVersion: "v1",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
selector: {
deploymentconfig: e.name
},
ports: [ {
port: t.containerPort,
targetPort: t.containerPort,
protocol: t.protocol,
name: this.getPortName(t)
} ]
}
};
}, e.prototype.makeDeploymentConfig = function(e, t) {
return {
apiVersion: "v1",
kind: "DeploymentConfig",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
replicas: 1,
selector: {
deploymentconfig: e.name
},
triggers: [ {
type: "ImageChange",
imageChangeParams: {
automatic: !0,
containerNames: [ e.name ],
from: {
kind: "ImageStreamTag",
name: e.name + ":latest"
}
}
}, {
type: "ConfigChange"
} ],
template: {
metadata: {
labels: i.assignWith({
deploymentconfig: e.name
}, this.getLabels(e))
},
spec: {
containers: [ {
name: e.name,
image: e.name + ":latest",
ports: t,
env: []
} ]
}
}
}
};
}, e.prototype.makeBuildConfig = function(e) {
var t = {
apiVersion: "v1",
kind: "BuildConfig",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
output: {
to: {
kind: "ImageStreamTag",
name: e.name + ":latest"
}
},
source: {
git: {
ref: e.gitRef || "master",
uri: e.repository
},
type: "Git"
},
strategy: {
type: "Source",
sourceStrategy: {
from: {
kind: "ImageStreamTag",
name: e.imageStreamTag.metadata.name,
namespace: e.imageStreamTag.metadata.namespace
},
env: []
}
},
triggers: [ {
type: "ImageChange",
imageChange: {}
}, {
type: "ConfigChange"
}, {
generic: {
secret: this.generateSecret()
},
type: "Generic"
}, {
github: {
secret: this.generateSecret()
},
type: "GitHub"
} ]
}
};
return e.contextDir && (t.spec.source.contextDir = e.contextDir), t;
}, e.prototype.makeImageStream = function(e) {
return {
apiVersion: "v1",
kind: "ImageStream",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
}
};
}, e;
}();
t.BuilderAppService = r;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n, i, r, o) {
this.$filter = e, this.$q = t, this.constants = n, this.apiService = i, this.dataService = r, this.logger = o;
}
return e.prototype.getCatalogItems = function(e) {
var t = this, n = this.$q.defer(), i = {}, o = 0, a = 0, s = [], l = function() {
if (e) {
++o;
var r = t.apiService.getPreferredVersion("templates");
t.dataService.list(r, {
namespace: "openshift"
}, null, {
partialObjectMetadataList: !0
}).then(function(e) {
i.templates = e.by("metadata.name");
}, function() {
s.push("templates");
}).finally(function() {
t.returnCatalogItems(n, i, ++a, o, s);
});
}
}, c = this.apiService.getPreferredVersion("clusterserviceclasses");
this.apiService.apiInfo(c) ? (++o, this.dataService.list(c, {}).then(function(e) {
i.serviceClasses = r.reject(e.by("metadata.name"), {
status: {
removedFromBrokerCatalog: !0
}
});
}, function() {
s.push("service classes");
}).finally(function() {
r.some(i.serviceClasses, {
spec: {
clusterServiceBrokerName: "template-service-broker"
}
}) || l(), t.returnCatalogItems(n, i, ++a, o, s);
})) : l(), ++o;
var u = this.apiService.getPreferredVersion("imagestreams");
return this.dataService.list(u, {
namespace: "openshift"
}).then(function(e) {
i.imageStreams = e.by("metadata.name");
}, function() {
s.push("builder images");
}).finally(function() {
t.returnCatalogItems(n, i, ++a, o, s);
}), n.promise;
}, e.prototype.getServicePlansForServiceClass = function(e) {
var t = this.apiService.getPreferredVersion("clusterserviceplans"), n = r.isString(e) ? e : r.get(e, "metadata.name");
if (n && this.apiService.apiInfo(t)) {
var i = {
http: {
params: {
fieldSelector: "spec.clusterServiceClassRef.name=" + n
}
}
};
return this.dataService.list(t, {}, r.noop, i);
}
return this.$q.when(null);
}, e.prototype.getServicePlans = function() {
var e = this.apiService.getPreferredVersion("clusterserviceplans");
return this.apiService.apiInfo(e) ? this.dataService.list(e, {}) : this.$q.when(null);
}, e.prototype.groupPlansByServiceClassName = function(e) {
return r.groupBy(e, "spec.clusterServiceClassRef.name");
}, e.prototype.getProjectCatalogItems = function(e, t, n, i) {
var r = this;
void 0 === t && (t = !0), void 0 === n && (n = !0), void 0 === i && (i = !1);
var o = this.$q.defer(), a = {
imageStreams: [],
templates: []
}, s = 0, l = 0, c = [], u = this.apiService.getPreferredVersion("imagestreams"), d = this.apiService.getPreferredVersion("templates");
return t && (s++, this.dataService.list(u, {
namespace: e
}).then(function(e) {
a.imageStreams = e.by("metadata.name");
}, function() {
c.push("builder images");
}).finally(function() {
r.returnCatalogItems(o, a, ++l, s, c);
})), n && (s++, this.dataService.list(d, {
namespace: e
}, null, {
partialObjectMetadataList: i
}).then(function(e) {
a.templates = e.by("metadata.name");
}, function() {
c.push("templates");
}).finally(function() {
r.returnCatalogItems(o, a, ++l, s, c);
})), o.promise;
}, e.prototype.sortCatalogItems = function(e) {
return e.sort(function(e, t) {
var n = r.get(e, "name", "").localeCompare(r.get(t, "name", ""), void 0, {
sensitivity: "base"
});
return 0 === n && (n = r.get(e, "resource.kind", "").localeCompare(r.get(t, "resource.kind", ""), void 0, {
sensitivity: "base"
})), 0 === n && (n = r.get(e, "resource.metadata.name", "").localeCompare(r.get(t, "resource.metadata.name", ""), void 0, {
sensitivity: "base"
})), n;
});
}, e.prototype.convertToServiceItems = function(e, t, n) {
var i = this, o = r.map(e, function(e) {
return i.getServiceItem(e);
});
return o = o.concat(r.map(t, function(e) {
return i.getImageItem(e);
})), o = o.concat(r.map(n, function(e) {
return i.getTemplateItem(e);
})), o = r.reject(o, "hidden"), o = this.sortCatalogItems(o);
}, e.prototype.getServiceItem = function(e) {
return new a(e, this);
}, e.prototype.getImageItem = function(e) {
return new s(e, this);
}, e.prototype.getTemplateItem = function(e) {
return new l(e, this);
}, e.prototype.getPublisherSynonym = function(e) {
return r.get(this.constants, [ "PUBLISHER_SYNONYMS", e ]) || e;
}, e.prototype.normalizeIconClass = function(e) {
return this.$filter("normalizeIconClass")(e);
}, e.prototype.getImageForIconClass = function(e) {
return this.$filter("imageForIconClass")(e);
}, e.prototype.categorizeItems = function(e) {
var t, n, o = this, a = i.copy(this.constants.SERVICE_CATALOG_CATEGORIES);
this.createAllAndOtherMainCategories(a);
var s = r.head(a), l = r.get(s, "subCategories[0]"), c = r.last(a), u = r.get(c, "subCategories[0]");
return r.each(e, function(e) {
n = !1, r.each(a, function(i) {
i.tags ? o.hasMatchingTags(i.tags, e.tags) && (n = o.categorizeItem(e, i, "all"), t = o.filterSubCatsByTags(i.subCategories, e.tags), r.isEmpty(t) ? o.categorizeItem(e, i, "other") : r.each(t, function(t) {
o.categorizeItem(e, i, t);
})) : (t = o.filterSubCatsByTags(i.subCategories, e.tags), r.isEmpty(t) || (n = o.categorizeItem(e, i, "all"), r.each(t, function(t) {
o.categorizeItem(e, i, t);
})));
}), n || o.categorizeItem(e, c, u), o.categorizeItem(e, s, l);
}), a;
}, e.prototype.getVendors = function(e) {
var t = {};
return r.each(e, function(e) {
e.vendor && (t[e.vendor] = !0);
}), r.keys(t).sort();
}, e.prototype.categorizeItem = function(e, t, n) {
return r.isString(n) && (n = this.getAllOrOtherSubCategory(t, n)), n.items = r.isArray(n.items) ? n.items.concat([ e ]) : [ e ], t.hasItems = n.hasItems = !0;
}, e.prototype.createAllAndOtherMainCategories = function(e) {
e.unshift({
id: "all",
label: "All",
subCategories: [ {
id: "all",
label: "All"
} ]
}), e.push({
id: "other",
label: "Other",
subCategories: [ {
id: "all",
label: "all"
} ]
});
}, e.prototype.getAllOrOtherSubCategory = function(e, t) {
var n = r.find(e.subCategories, {
id: t
});
return n || ("other" === t ? (n = {
id: "other",
label: "Other"
}, e.subCategories.push(n)) : (n = {
id: "all",
label: "All"
}, e.subCategories.unshift(n))), n;
}, e.prototype.hasMatchingTags = function(e, t) {
return r.some(e, function(e) {
var n = e.toLowerCase();
return r.some(t, function(e) {
return n === e.toLowerCase();
});
});
}, e.prototype.filterSubCatsByTags = function(e, t) {
var n = this;
return r.filter(e, function(e) {
return n.hasMatchingTags(e.tags, t);
});
}, e.prototype.returnCatalogItems = function(e, t, n, i, o) {
if (!(n < i)) {
o = r.size(o) ? "Unable to load all content for the catalog. Error loading " + this.formatArray(o) : null;
var a = this.convertToServiceItems(t.serviceClasses, t.imageStreams, t.templates);
e.resolve([ a, o ]);
}
}, e.prototype.formatArray = function(e) {
var t = "";
return 1 === e.length ? t = e[0] : 2 === e.length ? t = e.join(" and ") : e.length > 2 && (t = e.slice(0, -1).join(", ") + ", and " + e.slice(-1)), t + ".";
}, e;
}();
o.$inject = [ "$filter", "$q", "Constants", "APIService", "DataService", "Logger" ], t.CatalogService = o;
var a = function() {
function e(e, t) {
this.resource = e, this.catalogSrv = t, this.imageUrl = this.getImage(), this.iconClass = this.getIcon(), this.name = this.getName(), this.description = this.getDescription(), this.longDescription = this.getLongDescription(), this.tags = this.getTags(), this.kind = "ClusterServiceClass", this.vendor = this.getVendor(), this.hidden = r.includes(this.tags, "hidden");
}
return e.prototype.getImage = function() {
var e = r.get(this.resource, "spec.externalMetadata.imageUrl");
if (e) return e;
var t = r.get(this.resource, [ "spec", "externalMetadata", "console.openshift.io/iconClass" ]);
return this.catalogSrv.getImageForIconClass(t);
}, e.prototype.getIcon = function() {
var e = r.get(this.resource, [ "spec", "externalMetadata", "console.openshift.io/iconClass" ]) || "fa fa-clone";
return this.catalogSrv.normalizeIconClass(e);
}, e.prototype.getName = function() {
return r.get(this.resource, "spec.externalMetadata.displayName") || r.get(this.resource, "spec.externalName") || this.resource.metadata.name;
}, e.prototype.getDescription = function() {
return r.get(this.resource, "spec.description") || "";
}, e.prototype.getLongDescription = function() {
return r.get(this.resource, "spec.externalMetadata.longDescription") || "";
}, e.prototype.getTags = function() {
return r.get(this.resource, "spec.tags") || [];
}, e.prototype.getVendor = function() {
var e = r.get(this.resource, "spec.externalMetadata.providerDisplayName");
return this.catalogSrv.getPublisherSynonym(e);
}, e;
}();
t.ServiceItem = a;
var s = function() {
function e(e, t) {
this.resource = e, this.catalogSrv = t, this.builderSpecTagName = this.getBuilderSpecTagName(), this.builderSpecTagName ? (this.tags = this.getTags(), this.imageUrl = this.getImage(), this.iconClass = this.getIcon(), this.name = this.getName(), this.description = this.getDescription(), this.longDescription = this.getLongDescription(), this.kind = "ImageStream", this.vendor = this.getVendor(), this.hidden = !1) : this.hidden = !0;
}
return e.prototype.getBuilderSpecTagName = function() {
var e, t = this;
return this.resource.status ? (this.resource.spec && this.resource.spec.tags && (e = r.find(this.resource.spec.tags, function(e) {
var n = r.get(e, "annotations.tags");
if (n && (n = n.split(/\s*,\s*/), r.includes(n, "builder") && !r.includes(n, "hidden"))) return r.some(t.resource.status.tags, function(t) {
return t.tag === e.name;
});
})), e ? e.name : null) : null;
}, e.prototype.getTags = function() {
return this.catalogSrv.$filter("imageStreamTagTags")(this.resource, this.builderSpecTagName);
}, e.prototype.getImage = function() {
var e = this.catalogSrv.$filter("imageStreamTagIconClass")(this.resource, this.builderSpecTagName);
return this.catalogSrv.getImageForIconClass(e);
}, e.prototype.getIcon = function() {
var e = this.catalogSrv.$filter("imageStreamTagIconClass")(this.resource, this.builderSpecTagName);
return this.catalogSrv.normalizeIconClass(e);
}, e.prototype.getName = function() {
var e = this.catalogSrv.$filter("displayName")(this.resource);
return e || (e = this.resource.metadata.name), e;
}, e.prototype.getVendor = function() {
var e = r.get(this.resource, [ "metadata", "annotations", "openshift.io/provider-display-name" ], "");
return this.catalogSrv.getPublisherSynonym(e);
}, e.prototype.getDescription = function() {
return null;
}, e.prototype.getLongDescription = function() {
return null;
}, e;
}();
t.ImageItem = s;
var l = function() {
function e(e, t) {
this.resource = e, this.catalogSrv = t, this.imageUrl = this.getImage(), this.iconClass = this.getIcon(), this.name = this.getName(), this.description = this.getDescription(), this.longDescription = this.getLongDescription(), this.tags = this.getTags(), this.kind = "Template", this.vendor = this.getVendor(), this.hidden = r.includes(this.tags, "hidden");
}
return e.prototype.getImage = function() {
var e = r.get(this.resource, "metadata.annotations.iconClass");
return this.catalogSrv.getImageForIconClass(e);
}, e.prototype.getIcon = function() {
var e = r.get(this.resource, "metadata.annotations.iconClass", "fa fa-clone");
return this.catalogSrv.normalizeIconClass(e);
}, e.prototype.getName = function() {
return this.catalogSrv.$filter("displayName")(this.resource);
}, e.prototype.getDescription = function() {
return r.get(this.resource, "metadata.annotations.description", "");
}, e.prototype.getLongDescription = function() {
return r.get(this.resource, [ "metadata", "annotations", "openshift.io/long-description" ], "");
}, e.prototype.getTags = function() {
return r.get(this.resource, "metadata.annotations.tags", "").split(/\s*,\s*/);
}, e.prototype.getVendor = function() {
var e = r.get(this.resource, [ "metadata", "annotations", "openshift.io/provider-display-name" ]) || "";
return this.catalogSrv.getPublisherSynonym(e);
}, e;
}();
t.TemplateItem = l;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = function() {
function e(e) {
this.$rootScope = e;
}
return e.prototype.getItems = function() {
var e = localStorage.getItem("catalog-recently-viewed-services");
return e ? JSON.parse(e) : [];
}, e.prototype.addItem = function(e) {
var t = this.getItems();
i.remove(t, function(t) {
return t === e;
}), t.unshift(e), t = i.take(t, 4), this.setRecentlyViewedItems(t);
}, e.prototype.setRecentlyViewedItems = function(e) {
localStorage.setItem("catalog-recently-viewed-services", JSON.stringify(e)), this.$rootScope.$emit("recently-viewed-updated");
}, e;
}();
r.$inject = [ "$rootScope" ], t.RecentlyViewedServiceItems = r;
}, function(e, t) {
e.exports = '<pf-filter-panel config="$ctrl.config">\n  <div class="filter-panel-container">\n    <input type="text" ng-model="$ctrl.keywordFilter.value"\n           class="keyword-filter form-control"\n           placeholder="{{$ctrl.keywordFilter.placeholder}}"\n           ng-keypress="$ctrl.onKeywordKeyPress($event)"\n           autocorrect="off"\n           autocapitalize="none"\n           spellcheck="false">\n    <div class="category" ng-repeat="filter in $ctrl.filterPanelModel" ng-if="!$first">\n      {{filter.title}}\n      <span\n        class="pficon pficon-info vendor-info-icon"\n        data-toggle="tooltip"\n        aria-hidden="true"\n        data-original-title="This filter will only apply to items which contain publisher information. Items that do not have a publisher will not be shown in the filter results.">\n      </span>\n      <ul>\n        <li ng-repeat="value in filter.values">\n          <div class="checkbox">\n            <label class="category-option-label">\n              <input type="checkbox"\n                     ng-model="value.selected"\n                     ng-change="$ctrl.filterChanged()">\n              {{value.title}}\n            </label>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</pf-filter-panel>\n';
}, function(e, t) {
e.exports = '\x3c!-- Use angular-schema-form to show a form based on the parameter JSON schema. --\x3e\n<ng-form class="catalog-parameters" ng-class="{\'readonly\': $ctrl.readOnly}"\n  sf-model="$ctrl.hideValues ? $ctrl.hiddenModel : $ctrl.model"\n  sf-form="$ctrl.parameterForm"\n  sf-schema="$ctrl.readOnly ? $ctrl.readonlyParameterSchema : $ctrl.parameterSchema"\n  sf-options="$ctrl.parameterFormDefaults">\n</ng-form>\n';
}, function(e, t) {
e.exports = '<div class="catalog-search" ng-class="{\'mobile-shown\': $ctrl.mobileSearchInputShown}">\n  <button\n     ng-if="$ctrl.toggleAtMobile"\n     title="Catalog Search"\n     class="catalog-search-toggle visible-xs-inline-block btn btn-link"\n     ng-click="$ctrl.toggleMobileShowSearchInput()">\n    <i class="fa fa-search" aria-hidden="true"></i>\n    <span class="sr-only">Catalog Search</span>\n  </button>\n  <form role="form" class="landing-search-form search-pf has-button" ng-class="{\'hidden-xs\': $ctrl.toggleAtMobile}">\n    <div class="form-group has-clear">\n      <div class="search-pf-input-group">\n        <label for="search-input" class="sr-only">Search Catalog</label>\n        <span class="fa fa-search catalog-search-icon" aria-hidden="true" ng-click="$ctrl.setSearchInputFocus()"></span>\n        <input\n            id="search-input"\n            type="search"\n            autocomplete="off"\n            ng-keypress="$ctrl.onKeyPress($event)"\n            class="form-control catalog-search-input"\n            placeholder="Search Catalog"\n            ng-model="$ctrl.searchText"\n            uib-typeahead="item.name for item in $ctrl.search($viewValue)"\n            typeahead-on-select="$ctrl.itemSelected($item)"\n            typeahead-focus-first="false"\n            typeahead-template-url="catalog-search/catalog-search-result.html"\n            autocorrect="off"\n            autocapitalize="off"\n            spellcheck="false">\n        <button\n            type="button"\n            ng-if="$ctrl.searchText"\n            ng-click="$ctrl.searchText = \'\'"\n            class="clear">\n          <span class="sr-only">Clear Search Input</span>\n          <span class="pficon pficon-close" aria-hidden="true"></span>\n        </button>\n      </div>\n    </div>\n  </form>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service">\n  <pf-wizard\n       wizard-title="{{$ctrl.imageStream.name}}"\n       hide-sidebar="true"\n       step-class="order-service-wizard-step"\n       current-step="$ctrl.currentStep"\n       wizard-ready="$ctrl.wizardReady"\n       next-title="$ctrl.nextTitle"\n       on-finish="$ctrl.closePanel()"\n       on-cancel="$ctrl.closePanel()"\n       wizard-done="$ctrl.wizardDone">\n    <pf-wizard-step ng-repeat="step in $ctrl.steps track by $index"\n         step-title="{{step.label}}"\n         wz-disabled="{{step.hidden}}"\n         allow-click-nav="step.allowClickNav"\n         next-enabled="step.valid && !$ctrl.updating"\n         prev-enabled="step.prevEnabled"\n         on-show="step.onShow"\n         step-id="{{step.id}}"\n         step-priority="{{$index}}">\n      <div class="wizard-pf-main-inner-shadow-covers">\n        <div class="order-service-config">\n          <div ng-include="step.view" class="wizard-pf-main-form-contents"></div>\n        </div>\n      </div>\n    </pf-wizard-step>\n  </pf-wizard>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="landing-search-area" ng-transclude="landingsearch"></div>\n<div class="landing">\n  <overlay-panel show-panel="$ctrl.orderingPanelVisible" handle-close="$ctrl.closeOrderingPanel">\n    <order-service\n        ng-if="$ctrl.selectedItem.resource.kind === \'ClusterServiceClass\'"\n        base-project-url="{{$ctrl.baseProjectUrl}}"\n        service-class="$ctrl.selectedItem"\n        service-plans="$ctrl.servicePlansForItem"\n        handle-close="$ctrl.closeOrderingPanel">\n    </order-service>\n    <create-from-builder\n        ng-if="$ctrl.selectedItem.resource.kind === \'ImageStream\'"\n        base-project-url="{{$ctrl.baseProjectUrl}}"\n        image-stream="$ctrl.selectedItem"\n        handle-close="$ctrl.closeOrderingPanel">\n    </create-from-builder>\n  </overlay-panel>\n  <div class="landing-main-area">\n    <div class="landing-header-area" ng-transclude="landingheader"></div>\n    <div class="landing-body-area">\n      <div class="landing-body" ng-transclude="landingbody"></div>\n    </div>\n  </div>\n  <div class="landing-side-bar" ng-transclude="landingside"></div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service">\n  <pf-wizard\n       wizard-title="{{$ctrl.serviceName}}"\n       hide-sidebar="true"\n       step-class="order-service-wizard-step"\n       current-step="$ctrl.currentStep"\n       wizard-ready="$ctrl.wizardReady"\n       next-title="$ctrl.nextTitle"\n       on-finish="$ctrl.closePanel()"\n       on-cancel="$ctrl.closePanel()"\n       wizard-done="$ctrl.wizardDone">\n    <pf-wizard-step ng-repeat="step in $ctrl.steps track by step.id"\n         step-title="{{step.label}}"\n         wz-disabled="{{step.hidden}}"\n         allow-click-nav="step.allowClickNav"\n         next-enabled="step.valid && !$ctrl.updating"\n         prev-enabled="step.prevEnabled"\n         on-show="step.onShow"\n         step-id="{{step.id}}"\n         step-priority="{{$index}}">\n      <div class="wizard-pf-main-inner-shadow-covers">\n        <div ng-include="step.view" class="wizard-pf-main-form-contents"></div>\n      </div>\n    </pf-wizard-step>\n  </pf-wizard>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="catalogs-overlay-modal" role="dialog">\n  <div ng-if="$ctrl.shown" class="modal-backdrop fade in"></div>\n  <div ng-if="$ctrl.shown" class="catalogs-overlay-panel-wrapper">\n    <div class="catalogs-overlay-panel-grow-height">\n      <div class="modal-content catalogs-overlay-panel">\n        <a ng-if="$ctrl.showClose" ng-click="$ctrl.closePanel()">\n          <span class="catalogs-overlay-panel-close pficon pficon-close"></span>\n        </a>\n        <div class="catalogs-overlay-panel-body" ng-transclude>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div ng-if="$ctrl.loading" class="catalog-projects-spinner-container">\n  <div class="spinner spinner-inverse spinner-xl"></div>\n</div>\n<div class="catalog-projects-summary-panel" ng-show="!$ctrl.loading">\n  <button ng-if="$ctrl.canCreate" class="create-button btn btn-primary" ng-click="$ctrl.openNewProjectPanel($event)">\n    <span class="fa fa-plus"></span>\n    <span class="create-button-text">Create Project</span>\n  </button>\n  <origin-modal-popup class="catalog-create-project" modal-title="Create Project" shown="$ctrl.newProjectPanelShown" on-close="$ctrl.closeNewProjectPanel" reference-element="$ctrl.modalPopupElement">\n    <create-project is-dialog="true" redirect-action="$ctrl.onNewProject" on-cancel="$ctrl.closeNewProjectPanel"></create-project>\n  </origin-modal-popup>\n  <h2 class="summary-title secondary" ng-if="!$ctrl.projects || !$ctrl.projects.length">Getting Started</h2>\n  <h2 class="summary-title secondary" ng-if="$ctrl.projects && $ctrl.projects.length">\n    <a href="{{$ctrl.projectsUrl}}">My Projects</a>\n  </h2>\n  <div ng-if="!$ctrl.canCreate">\n    <span ng-if="!$ctrl.newProjectMessage">\n      A cluster admin can create a project for you by running the command:\n      <div class="code-block">\n        <code class="projects-instructions-link">oc adm <span class="command-arg">new-project</span> &lt;projectname&gt; <span class="command-arg">--admin={{$ctrl.user.metadata.name || \'&lt;YourUsername&gt;\'}}</span></code>\n      </div>\n    </span>\n    <span ng-if="$ctrl.newProjectMessage" ng-bind-html="$ctrl.newProjectMessage | linky : \'_blank\'"></span>\n  </div>\n  <div ng-if="$ctrl.isProjectListIncomplete">\n    <p class="text-muted">\n      The complete list of your projects could not be loaded. Type a project name to go to that project.\n    </p>\n    <form>\n      <div class="form-group">\n        <label for="typed-project-name">Project Name</label>\n        <div class="input-group">\n          <input\n            class="form-control"\n            type="text"\n            id="typed-project-name"\n            required\n            minlength="2"\n            ng-model="$ctrl.typedProjectName"\n            autocorrect="off"\n            autocapitalize="none"\n            spellcheck="false">\n          <span class="input-group-btn">\n            <button class="btn btn-default go-to-project-button"\n                    type="submit"\n                    ng-disabled="!$ctrl.typedProjectName"\n                    ng-click="$ctrl.goToProject($ctrl.typedProjectName)">\n              <i class="fa fa-arrow-right" aria-hidden="true"></i>\n              <span class="sr-only">Go to Project</span>\n            </button>\n          </span>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div ng-if="$ctrl.projects && $ctrl.projects.length" class="catalog-project-summary-list">\n    <div class="projects-count">\n      <strong>{{$ctrl.projects.length}}</strong>\n      of\n      <strong>{{$ctrl.totalProjects}}</strong>\n      Projects\n      <a href="{{$ctrl.projectsUrl}}" class="projects-view-all">View All</a>\n    </div>\n    <div id="catalog-projects-summary-list">\n      <div ng-repeat="project in $ctrl.projects track by (project | uid)" class="project-tile tile-click">\n        <div class="dropdown  dropdown-kebab-pf" uib-dropdown="">\n          <button class="btn btn-link uib-dropdown-toggle" type="button" id="dropdownKebab" aria-haspopup="true" aria-expanded="true" uib-dropdown-toggle>\n            <span class="fa fa-ellipsis-v"></span>\n          </button>\n          <ul class="uib-dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebab">\n            <li><a href="" ng-click="$ctrl.onViewMemebership(project)">View Membership</a></li>\n            <li><a href="" ng-click="$ctrl.editProject(project)">Edit Project</a></li>\n            <li>\n              <delete-project\n                  label="Delete Project"\n                  project="project"\n                  type-name-to-confirm="true"\n                  stay-on-current-page="true"\n                  success="$ctrl.onDeleteProject">\n              </delete-project>\n            </li>\n          </ul>\n        </div>\n        <h3 class="project-tile-header">\n          <a href="{{project | projectUrl : $ctrl.baseProjectUrl}}" class="project-title tile-target">{{project | displayName}}</a>\n          <span ng-if="project.status.phase != \'Active\'"\n            data-toggle="popover"\n            data-trigger="hover"\n            data-content="This project has been marked for deletion."\n            class="pficon pficon-warning-triangle-o"></span>\n        </h3>\n        <p class="project-date">\n          <span ng-if="project | displayName : true"><span class="word-break" ng-bind-html="project.metadata.name"></span> &ndash;</span>\n          created\n          <span ng-if="project | annotation : \'openshift.io/requester\'">by <span class="word-break" ng-bind-html="project | annotation : \'openshift.io/requester\'"></span></span>\n          <span am-time-ago="project.metadata.creationTimestamp"></span>\n        </p>\n        <div class="project-description" ng-if="project | description">\n          <truncate-long-text content="project | description" use-word-boundary="true" limit="120"></truncate-long-text>\n        </div>\n        <origin-modal-popup class="catalog-edit-project" modal-title="Edit Project" shown="$ctrl.editProjectPanelShown && $ctrl.edittingProject === project" on-close="$ctrl.closeEditProjectPanel">\n          <edit-project project="$ctrl.edittingProject" is-dialog="true" redirect-action="$ctrl.onEditProject" on-cancel="$ctrl.closeEditProjectPanel"></edit-project>\n        </origin-modal-popup>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.showGetStarted">\n    <div class="getting-started-panel">\n      <h2 class="secondary" ng-if="$ctrl.projects && $ctrl.projects.length > 0">Getting Started</h2>\n      <button ng-if="$ctrl.startTour()" class="getting-started-button btn btn-default hidden-xs" ng-class="{\'with-projects\': $ctrl.projects && $ctrl.projects.length}" ng-click="$ctrl.handleGettingStartedClick()">\n        <span class="fa fa-info-circle fa-2"></span>\n        <span class="getting-started-button-text">Take Home Page Tour</span>\n      </button>\n    </div>\n    <div class="resources-panel">\n      <ul>\n        <li ng-repeat="resource in $ctrl.resourceLinks">\n          <a href="{{resource.href}}" target="_blank" title="{{resource.href}}">{{resource.title}}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div ng-if="$ctrl.recentlyViewedItems.length">\n    <h2 class="secondary">Recently Viewed</h2>\n    <div class="services-view">\n      <a href="" class="services-item" ng-repeat="item in $ctrl.recentlyViewedItems track by (item.resource | uid)"\n           ng-click="$ctrl.orderService(item)">\n        <div ng-if="!item.imageUrl" class="services-item-icon">\n          <span class="{{item.iconClass}}"></span>\n        </div>\n        <div ng-if="item.imageUrl" class="services-item-icon services-item-img">\n          <img ng-src="{{item.imageUrl}}">\n        </div>\n        <div class="services-item-name" title="{{item.name}}" aria-hidden="true">{{item.name}}</div>\n      </a>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<span ng-if="$ctrl.hasSaasOfferings()" class="saas-offerings-container">\n  <h1 ng-if="$ctrl.saasTitle">{{$ctrl.saasTitle}}</h1>\n  <div class="saas-list" ng-class="{\'expanded\': $ctrl.sassListExpanded, \'items-overflow\': $ctrl.itemsOverflow}" items="$ctrl.saasOfferings">\n    <div class="card" ng-repeat="item in $ctrl.saasOfferings">\n      <a ng-href="{{item.url}}" target="_blank" class="card-content">\n        <div class="card-icon">\n          <img ng-if="item.image" ng-src="{{item.image}}" alt="">\n          <span ng-if="!item.image" class="icon {{item.icon}}" aria-hidden="true"></span>\n        </div>\n        <div class="card-title">{{item.title}}</div>\n        <truncate-long-text\n                class="card-description hidden-xs"\n                content="item.description"\n                limit="120"\n                use-word-boundary="true">\n        </truncate-long-text>\n      </a>\n    </div>\n  </div>\n  <div ng-if="$ctrl.itemsOverflow" class="sass-list-expander-container">\n    <a href="" class="sass-list-expander" ng-class="{\'expanded\': $ctrl.sassListExpanded}" ng-click="$ctrl.toggleListExpand()">\n      Show <span class="more">More</span><span class="less">Less</span>\n    </a>\n  </div>\n</span>\n';
}, function(e, t) {
e.exports = '<div class="select-plans">\n  <h3 ng-if="$ctrl.availablePlans.length > 1">Select a Plan</h3>\n  <div ng-if="$ctrl.availablePlans.length" ng-repeat="plan in $ctrl.availablePlans track by plan.metadata.uid" ng-class="{\'radio\': $ctrl.availablePlans.length > 1}">\n    <label>\n      <input ng-if="$ctrl.availablePlans.length > 1"\n             type="radio"\n             ng-model="$ctrl.planIndex"\n             ng-change="$ctrl.onPlanSelect(plan)"\n             value="{{$index}}">\n      <span class="plan-name">{{plan.spec.externalMetadata.displayName || plan.spec.externalName}}</span>\n      <div class="plan-description" ng-if="plan.spec.description" ng-bind-html="plan.spec.description | linkify : \'_blank\'"></div>\n    </label>\n  </div>\n  <div ng-if="!$ctrl.availablePlans.length" class="blank-slate-pf">\n    <div class="blank-slate-pf-icon">\n      <span class="pficon pficon-info"></span>\n    </div>\n    <h1>\n      No Plans Available\n    </h1>\n    <p>\n      There are no plans currently available for this service.\n    </p>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<span ng-if="$ctrl.noProjectsCantCreate" class="no-projects-cant-create">\n  <pf-empty-state config="$ctrl.noProjectsConfig"></pf-empty-state>\n  <p ng-if="!$ctrl.noProjectsCantCreateMessage">\n    A cluster admin can create a project for you by running the command:\n    <div class="code-block">\n      <code>oc adm <span class="command-arg">new-project</span> &lt;projectname&gt; <span class="command-arg">--admin={{$ctrl.user.metadata.name || \'&lt;YourUsername&gt;\'}}</span></code>\n    </div>\n  </p>\n  <div ng-if="$ctrl.noProjectsCantCreateMessage" ng-bind-html="$ctrl.noProjectsCantCreateMessage | linky : \'_blank\'"></div>\n</span>\n\n\x3c!-- Use `ng-show` instead of `ng-if` so that the form exists and the `canI` works when projects load. --\x3e\n<ng-form name="$ctrl.forms.selectProjectForm" ng-show="$ctrl.numProjectChoices >= 1">\n  <div class="form-group" ng-class="{\'has-error\' : $ctrl.forms.selectProjectForm.selectProject.$error.cannotAddToProject ||\n                                                   ($ctrl.forms.selectProjectForm.selectProject.$touched &&\n                                                    $ctrl.forms.selectProjectForm.selectProject.$invalid)}">\n    <h3 ng-if="$ctrl.canOnlyCreateProject()">Create Project</h3>\n    <label ng-if="!$ctrl.canOnlyCreateProject() && !$ctrl.hideLabel" class="control-label required">Add to Project</label>\n    <ui-select\n        ng-if="!$ctrl.canOnlyCreateProject()"\n        ng-disabled="$ctrl.numProjectChoices === 1"\n        name="selectProject"\n        ng-model="$ctrl.selectedProject"\n        ng-change="$ctrl.onSelectProjectChange()"\n        ng-required="$ctrl.isRequired"\n        search-enabled="$ctrl.searchEnabled"\n        uis-open-close="$ctrl.onOpenClose(isOpen)">\n      <ui-select-match placeholder="{{$ctrl.placeholder}}">\n        {{$select.selected | displayName}}\n      </ui-select-match>\n      \x3c!-- refresh-delay must be set using ng-attr-refresh-delay to work as a dynamic value --\x3e\n      <ui-select-choices\n          repeat="project in $ctrl.getProjectChoices() track by (project | uid)"\n          refresh="$ctrl.refreshChoices($select.search)"\n          ng-attr-refresh-delay="{{$ctrl.refreshDelay}}"\n          group-by="$ctrl.groupChoicesBy">\n        <span ng-bind-html="project | displayName | highlightKeywords : $select.search"></span>\n        <span ng-if="project | displayName : true" class="small text-muted">\n          <span ng-if="project.metadata.name">&ndash;</span>\n          <span ng-bind-html="project.metadata.name | highlightKeywords : $select.search"></span>\n        </span>\n      </ui-select-choices>\n    </ui-select>\n    <div ng-if="$ctrl.forms.selectProjectForm.selectProject.$error.cannotAddToProject">\n        <span class="help-block">\n          You are not authorized to add to this project.\n        </span>\n    </div>\n    <div class="has-error" ng-if="$ctrl.forms.selectProjectForm.selectProject.$error.required &&\n                                  $ctrl.forms.selectProjectForm.selectProject.$touched">\n      <span class="help-block">\n        Please select <span ng-if="$ctrl.canCreate && !$ctrl.hideCreateProject">or create</span> a project.\n      </span>\n    </div>\n  </div>\n</ng-form>\n\n<ng-form name="$ctrl.forms.createProjectForm"\n    ng-if="$ctrl.isNewProject()">\n  <div class="form-group">\n    <label for="name" class="control-label required">Project Name</label>\n    <div ng-class="{\'has-error\': ($ctrl.forms.createProjectForm.name.$error.pattern && $ctrl.forms.createProjectForm.name.$touched) ||\n                                 $ctrl.nameTaken || $ctrl.forms.createProjectForm.name.$error.oscUnique}">\n      <input class="form-control"\n          name="name"\n          id="name"\n          placeholder="my-project"\n          type="text"\n          required\n          take-focus\n          minlength="2"\n          maxlength="63"\n          pattern="[a-z0-9]([-a-z0-9]*[a-z0-9])?"\n          aria-describedby="nameHelp"\n          ng-model="$ctrl.selectedProject.metadata.name"\n          osc-unique="$ctrl.existingProjectNames"\n          ng-model-options="{ updateOn: \'default blur\' }"\n          ng-change="$ctrl.onNewProjectNameChange()"\n          autocorrect="off"\n          autocapitalize="off"\n          spellcheck="false">\n    </div>\n    <div class="help-block">A unique name for the project.</div>\n    <div class="has-error" ng-if="$ctrl.forms.createProjectForm.name.$error.minlength && $ctrl.forms.createProjectForm.name.$touched">\n      <span id="nameHelp" class="help-block">\n        Name must have at least two characters.\n      </span>\n    </div>\n    <div class="has-error" ng-if="$ctrl.forms.createProjectForm.name.$error.pattern && $ctrl.forms.createProjectForm.name.$touched">\n      <span id="nameHelp" class="help-block">\n        Project names may only contain lower-case letters, numbers, and dashes.\n        They may not start or end with a dash.\n      </span>\n    </div>\n    <div class="has-error" ng-if="$ctrl.nameTaken || $ctrl.forms.createProjectForm.name.$error.oscUnique">\n      <span class="help-block">\n        This name is already in use. Please choose a different name.\n      </span>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="displayName" class="control-label">Project Display Name</label>\n    <input class="form-control"\n      name="displayName"\n      id="displayName"\n      placeholder="My Project"\n      type="text"\n      ng-model="$ctrl.selectedProject.metadata.annotations[\'new-display-name\']">\n  </div>\n\n  <div class="form-group">\n    <label for="description" class="control-label">Project Description</label>\n    <textarea class="form-control"\n      name="description"\n      id="description"\n      placeholder="A short description."\n      ng-model="$ctrl.selectedProject.metadata.annotations[\'openshift.io/description\']"></textarea>\n  </div>\n</ng-form>\n<div ng-if="!$ctrl.noProjectsCantCreate && $ctrl.showDivider" class="select-project-divider"></div>\n\n';
}, function(e, t) {
e.exports = '<div class="services-view" ng-style="$ctrl.viewStyle">\n  <div ng-if="!$ctrl.loaded" class="spinner-container">\n    <div class="spinner spinner-xl"></div>\n  </div>\n  <div ng-if="$ctrl.loaded" class="services-view-container mobile-{{$ctrl.mobileView}}-view">\n    <div class="add-methods">\n      <h1>{{$ctrl.sectionTitle}}</h1>\n      <div ng-if="$ctrl.onDeployImageSelected || $ctrl.onFromFileSelected || $ctrl.onCreateFromProject">\n        <ul class="add-other hidden-md hidden-lg">\n          <li uib-dropdown="" class="dropdown">\n            <a uib-dropdown-toggle="" class="dropdown-toggle" id="add-methods-dropdown" href="" aria-haspopup="true" aria-expanded="false">\n              Custom Add\n              <span class="caret" aria-hidden="true"></span>\n            </a>\n            <ul class="uib-dropdown-menu dropdown-menu pull-right" aria-labelledby="add-methods-dropdown">\n              \x3c!-- note these are duplicated below --\x3e\n              <li ng-if="$ctrl.onDeployImageSelected">\n                <a href="" ng-click="$ctrl.onDeployImageSelected()">Deploy Image</a>\n              </li>\n              <li ng-if="$ctrl.onFromFileSelected">\n                <a href="" ng-click="$ctrl.onFromFileSelected()">Import YAML / JSON</a>\n              </li>\n              <li ng-if="$ctrl.onCreateFromProject">\n                <a href="" ng-click="$ctrl.onCreateFromProject()">Select from Project</a>\n              </li>\n            </ul>\n          </li>\n        </ul>\n        <ul class="add-other hidden-xs hidden-sm">\n          \x3c!-- note these are duplicated above --\x3e\n          <li ng-if="$ctrl.onDeployImageSelected">\n            <a href="" ng-click="$ctrl.onDeployImageSelected()">Deploy Image</a>\n          </li>\n          <li ng-if="$ctrl.onFromFileSelected">\n            <a href="" ng-click="$ctrl.onFromFileSelected()">Import YAML / JSON</a>\n          </li>\n          <li ng-if="$ctrl.onCreateFromProject">\n            <a href="" ng-click="$ctrl.onCreateFromProject()">Select from Project</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <ul class="nav nav-tabs nav-tabs-pf services-categories">\n      <li ng-repeat="category in $ctrl.categories"\n          ng-if="category.hasItems"\n          ng-class="{ active: $ctrl.currentFilter === category.id }">\n        <a href="" id="{{\'category-\'+category.id}}" class="services-category-heading" ng-click="$ctrl.selectCategory(category.id)">{{category.label}}</a>\n        <a ng-click="$ctrl.mobileView = \'categories\'" class="services-back-link" href="">Back</a>\n      </li>\n    </ul>\n\n    <div class="services-inner-container">\n      \x3c!-- Do not show sub-category items for \'All\' or \'Other\' main categories --\x3e\n      <ul class="services-sub-categories"\n          ng-if="$ctrl.currentFilter !== \'other\' && $ctrl.currentFilter !== \'all\'">\n        <li ng-repeat="subCategory in $ctrl.subCategories track by subCategory.id"\n             ng-if="subCategory.hasItems"\n             ng-attr-id="{{subCategory.id}}"\n             class="services-sub-category"\n             ng-class="{ active: $ctrl.currentSubFilter === subCategory.id }">\n          <a href="" id="{{\'services-sub-category-\'+subCategory.id}}"\n             class="services-sub-category-tab" ng-click="$ctrl.selectSubCategory(subCategory.id)">\n            <div class="services-sub-category-tab-image" ng-if="imageUrl = (subCategory.imageUrl || (subCategory.icon | imageForIconClass))">\n              <img ng-src="{{imageUrl}}" alt="">\n            </div>\n            <div class="services-sub-category-tab-icon {{subCategory.icon | normalizeIconClass}}"\n                ng-if="subCategory.icon && !subCategory.imageUrl && !(subCategory.icon | imageForIconClass)"></div>\n            <div class="services-sub-category-tab-name">{{subCategory.label}}</div>\n          </a>\n         <a ng-click="$ctrl.mobileView = \'subcategories\'" class="services-back-link" href="">Back</a>\n          <div ng-if="$ctrl.currentSubFilter === subCategory.id" class="services-items">\n            <catalog-filter class="services-items-filter"\n                            config="$ctrl.filterConfig"\n                            vendors="$ctrl.vendors"\n                            filter-on-keyword="$ctrl.keywordFilterValue"\n                            apply-filters="$ctrl.applyFilters($event)">\n            </catalog-filter>\n            <div class="pf-empty-state" ng-if="$ctrl.filterConfig.appliedFilters.length > 0 && $ctrl.filterConfig.resultsCount === 0">\n              <pf-empty-state config="$ctrl.emptyFilterConfig"></pf-empty-state>\n            </div>\n            <a href="" class="services-item" ng-repeat="item in $ctrl.filteredItems track by item.resource.metadata.uid" ng-click="$ctrl.serviceViewItemClicked(item)">\n              <div ng-if="!item.imageUrl" class="services-item-icon">\n                <span class="{{item.iconClass}}"></span>\n              </div>\n              <div ng-if="item.imageUrl" class="services-item-icon">\n                <img ng-src="{{item.imageUrl}}" alt="">\n              </div>\n              <div class="services-item-name" title="{{item.name}}">\n                {{item.name}}\n              </div>\n            </a>\n          </div>\n        </li>\n      </ul>\n\n      \x3c!-- Show catalog item for \'All\' and \'Other\' main categories --\x3e\n      <div ng-if="$ctrl.currentFilter === \'other\' || $ctrl.currentFilter === \'all\'" class="services-no-sub-categories">\n        <div class="services-items" ng-class="{\'no-items-available\': $ctrl.isEmpty}">\n          <div ng-if="$ctrl.isEmpty">\n            <div class="pf-empty-state">\n              <pf-empty-state config="$ctrl.noItemsConfig"></pf-empty-state>\n            </div>\n          </div>\n          <catalog-filter ng-if="!$ctrl.isEmpty"\n                          class="services-items-filter"\n                          config="$ctrl.filterConfig"\n                          vendors="$ctrl.vendors"\n                          filter-on-keyword="$ctrl.keywordFilterValue"\n                          apply-filters="$ctrl.applyFilters($event)">\n          </catalog-filter>\n          <div class="pf-empty-state" ng-if="$ctrl.filterConfig.appliedFilters.length > 0 && $ctrl.filterConfig.resultsCount === 0">\n            <pf-empty-state config="$ctrl.emptyFilterConfig"></pf-empty-state>\n          </div>\n          <a href="" class="services-item" ng-repeat="item in $ctrl.filteredItems track by item.resource.metadata.uid" ng-click="$ctrl.serviceViewItemClicked(item)">\n            <div ng-if="!item.imageUrl" class="services-item-icon">\n              <span class="{{item.iconClass}}"></span>\n            </div>\n            <div ng-if="item.imageUrl" class="services-item-icon">\n              <img ng-src="{{item.imageUrl}}" alt="">\n            </div>\n            <div class="services-item-name" title="{{item.name}}">\n              {{item.name}}\n            </div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service">\n  <pf-wizard wizard-title="{{$ctrl.displayName}}"\n             hide-sidebar="true"\n             step-class="order-service-wizard-step"\n             wizard-ready="$ctrl.wizardReady"\n             next-title="$ctrl.nextTitle"\n             on-finish="$ctrl.closePanel()"\n             on-cancel="$ctrl.closePanel()"\n             wizard-done="$ctrl.wizardDone"\n             hide-back-button="{{$ctrl.hideBackButton}}">\n    <pf-wizard-step ng-repeat="step in $ctrl.steps track by step.id"\n                    step-title="{{step.label}}"\n                    wz-disabled="{{step.hidden}}"\n                    allow-click-nav="step.allowClickNav"\n                    next-enabled="step.valid && !$ctrl.updating"\n                    prev-enabled="step.prevEnabled"\n                    on-show="step.onShow"\n                    step-id="{{step.id}}"\n                    step-priority="{{$index}}">\n      <div class="wizard-pf-main-inner-shadow-covers">\n        <div ng-include="step.view" class="wizard-pf-main-form-contents"></div>\n      </div>\n    </pf-wizard-step>\n  </pf-wizard>\n</div>\n';
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n) {
var o = this;
this.ctrl = this, this.onKeywordKeyPress = function(e) {
if (13 === e.which && o.ctrl.keywordFilter.value.length > 0) {
var t = o.ctrl.keywordFilter.value;
o.keywordFilterExists(t) ? o.highlightKeywordFilter(t) : (o.ctrl.keywordFilter.values.push(t), o.constructFiltersFromModel()), delete o.ctrl.keywordFilter.value;
}
}, this.filterChanged = function() {
o.constructFiltersFromModel();
}, this.keywordFilterExists = function(e) {
return r.some(o.ctrl.keywordFilter.values, function(t) {
return e.toLowerCase() === t.toLowerCase();
});
}, this.highlightKeywordFilter = function(e) {
var t = document.querySelectorAll("pf-filter-panel-results .label-info"), n = r.find(t, function(t) {
return t.innerText.trim() === "Keyword:" + e.toLowerCase();
});
n && (o.$timeout(function() {
n.classList.add("flash-filter-tag");
}, 100), o.$timeout(function() {
n.classList.remove("flash-filter-tag");
}, 300));
}, this.onFilterChange = function(e, t, n) {
i.isDefined(t) && i.isDefined(n) ? o.updateFilterPanelModel(t, n) : o.resetFilterPanelModel(), o.constructFiltersFromModel();
}, this.$scope = e, this.$timeout = t, this.Catalog = n, this.ctrl.filterPanelModel = [], this.ctrl.keywordFilter = {
id: "keyword",
title: "Keyword",
placeholder: "Filter by Keyword",
filterType: "text",
values: []
}, this.ctrl.filterPanelModel.push(this.ctrl.keywordFilter);
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.filterOnKeyword && (this.ctrl.keywordFilter.values = [ this.ctrl.filterOnKeyword ], this.constructFiltersFromModel()), this.ctrl.config.onFilterChange = this.onFilterChange, this.removeClearFilterListener = this.$scope.$on("clear-filters", function() {
e.resetFilterPanelModel(), e.constructFiltersFromModel();
});
}, e.prototype.$onChanges = function(e) {
e.filterOnKeyword && e.filterOnKeyword.currentValue && this.ctrl.keywordFilter && (this.resetFilterPanelModel(), this.ctrl.keywordFilter.values = [ this.ctrl.filterOnKeyword ], this.constructFiltersFromModel()), e.vendors && e.vendors.currentValue && (r.isEmpty(this.ctrl.vendors) || (this.ctrl.VendorFilter ? this.ctrl.VendorFilter.values = this.getVendorValues(this.ctrl.vendors) : (this.ctrl.VendorFilter = {
id: "vendors",
title: "Publisher",
filterType: "checkbox",
values: this.getVendorValues(this.ctrl.vendors)
}, this.ctrl.filterPanelModel.push(this.ctrl.VendorFilter))));
}, e.prototype.$onDestroy = function() {
this.removeClearFilterListener();
}, e.prototype.getVendorValues = function(e) {
return r.map(e, function(e) {
return {
id: e,
title: e,
value: e,
selected: !1
};
});
}, e.prototype.createAppliedFilter = function(e, t) {
return {
id: e.id,
title: e.title,
filterType: e.filterType,
values: t
};
}, e.prototype.constructFiltersFromModel = function() {
var e = this, t = [];
r.each(this.ctrl.filterPanelModel, function(n) {
if (!r.isEmpty(n.values)) if ("checkbox" === n.filterType) {
var i = [];
r.each(n.values, function(e) {
e.selected && i.push(e.value);
}), r.isEmpty(i) || t.push(e.createAppliedFilter(n, i));
} else r.each(n.values, function(i) {
t.push(e.createAppliedFilter(n, [ i ]));
});
}), this.ctrl.config.appliedFilters = t, this.ctrl.applyFilters && this.ctrl.applyFilters({
$event: {
appliedFilters: this.ctrl.config.appliedFilters
}
});
}, e.prototype.updateFilterPanelModel = function(e, t) {
var n = r.find(this.ctrl.filterPanelModel, {
id: e
});
switch (n.filterType) {
case "text":
r.remove(n.values, function(e) {
return e === t;
});
break;

case "checkbox":
r.find(n.values, {
value: t
}).selected = !1;
}
}, e.prototype.resetFilterPanelModel = function() {
r.each(this.ctrl.filterPanelModel, function(e) {
if (!r.isEmpty(e.values)) switch (e.filterType) {
case "text":
e.values = [];
break;

case "checkbox":
r.each(e.values, function(e) {
e.selected = !1;
});
}
});
}, e;
}();
o.$inject = [ "$scope", "$timeout", "Catalog" ], t.CatalogFilterController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = n(1), o = function() {
function e() {
this.ctrl = this;
}
return e.prototype.$onInit = function() {
this.setupFormDefaults(), this.ctrl.parameterForm = this.cloneParameterForm(this.ctrl.parameterFormDefinition) || [ "*" ], this.updateHiddenModel(), this.setupReadonlySchema();
}, e.prototype.$onChanges = function(e) {
(e.parameterFormDefinition && !e.parameterFormDefinition.isFirstChange() || e.hideValues && !e.hideValues.isFirstChange() || e.readOnly && !e.readOnly.isFirstChange()) && (this.ctrl.parameterForm = this.cloneParameterForm(this.ctrl.parameterFormDefinition) || [ "*" ]), e.isHorizontal && !e.isHorizontal.isFirstChange() && this.setupFormDefaults(), (e.hideValues && !e.hideValues.isFirstChange() || e.model && !e.model.isFirstChange()) && this.updateHiddenModel(), (e.parameterSchema && !e.parameterSchema.isFirstChange() || e.readOnly && !e.readOnly.isFirstChange()) && this.setupReadonlySchema();
}, e.prototype.setupFormDefaults = function() {
this.ctrl.parameterFormDefaults = {
formDefaults: {
disableSuccessState: !0,
feedback: !1
},
pristine: {
errors: !1,
success: !0
}
}, this.ctrl.isHorizontal && r.extend(this.ctrl.parameterFormDefaults.formDefaults, {
htmlClass: "row",
labelHtmlClass: "col-sm-4",
fieldWrapperHtmlClass: "col-sm-8",
checkboxLabelHtmlClass: "col-sm-8 col-sm-offset-4",
checkboxHelpHtmlClass: "col-sm-8 col-sm-offset-4"
});
}, e.prototype.setupReadonlySchema = function() {
var e = this;
this.ctrl.parameterSchema && this.ctrl.readOnly && (this.ctrl.readonlyParameterSchema = r.copy(this.ctrl.parameterSchema), i.set(this.ctrl.readonlyParameterSchema, "readonly", !0), i.set(this.ctrl.readonlyParameterSchema, "required", []), i.each(i.get(this.ctrl.readonlyParameterSchema, "properties"), function(t) {
e.updateReadonlyProperty(t);
}));
}, e.prototype.updateReadonlyProperty = function(e) {
var t = this;
e.title && (e.title = e.title + ":"), "object" === e.type ? i.each(i.get(e, "properties"), function(e) {
t.updateReadonlyProperty(e);
}) : "array" === e.type ? this.updateReadonlyProperty(i.get(e, "items")) : (e.description = void 0, e.enum = void 0, "array" !== e.type && "number" !== e.type && "integer" !== e.type && "boolean" !== e.type || (e.type = "string"));
}, e.prototype.updateValueToHidden = function(e) {
var t = this;
return i.isObject(e) || i.isArray(e) ? i.mapValues(e, function(e, n) {
return i.includes(t.ctrl.opaqueKeys, n) ? e : t.updateValueToHidden(e);
}) : i.isArray(e) ? i.map(e, function(e) {
return t.updateValueToHidden(e);
}) : "*****";
}, e.prototype.updateHiddenModel = function() {
var e = this;
this.ctrl.hideValues && (this.ctrl.hiddenModel = i.mapValues(this.ctrl.model, function(t, n) {
return i.includes(e.ctrl.opaqueKeys, n) ? t : e.updateValueToHidden(t);
}));
}, e.prototype.cloneParameterForm = function(t) {
if (i.isString(t)) return !0 === this.ctrl.readOnly ? {
key: t,
type: this.ctrl.hideValues ? "password" : "string"
} : t;
if (i.isArray(t)) return i.map(t, i.bind(this.cloneParameterForm, this));
if (i.isObject(t)) {
var n = {};
if (t.key && (n.key = t.key), e.ALLOWED_FORM_INPUT_TYPES[t.type] && (n.type = t.type), "fieldset" === n.type && i.isArray(t.items)) t.title && (n.title = t.title), n.items = this.cloneParameterForm(t.items); else {
if (!n.key && !n.type) return null;
this.ctrl.readOnly && (n.type = this.ctrl.hideValues ? "password" : "string");
}
return n;
}
}, e;
}();
o.ALLOWED_FORM_INPUT_TYPES = {
fieldset: !0,
text: !0,
textarea: !0,
password: !0,
checkbox: !0,
select: !0
}, t.CatalogParametersController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = n(2), o = function() {
function e(e, t, n, i, r, o, a) {
var s = this;
this.ctrl = this, this.loaded = !1, this.maxResultsToShow = 5, this.onKeyPress = function(e) {
13 === e.which && s.ctrl.searchText && (s.$rootScope.$emit("filter-catalog-items", {
searchText: s.ctrl.searchText
}), s.ctrl.searchText = "");
}, this.$rootScope = e, this.$scope = t, this.$timeout = n, this.$q = i, this.Catalog = r, this.Constants = o, this.KeywordService = a;
}
return e.prototype.$onInit = function() {
this.ctrl.searchText = "";
}, e.prototype.$onChanges = function(e) {
if (e.catalogItems && this.ctrl.catalogItems && (this.loaded = !0, this.searchDeferred)) {
var t = this.weightedSearch(this.ctrl.searchText);
this.searchDeferred.resolve(t), this.searchDeferred = null;
}
}, e.prototype.itemSelected = function(e) {
"viewAll" === e.id ? this.$rootScope.$emit("filter-catalog-items", {
searchText: this.ctrl.searchText
}) : "viewNone" !== e.id && this.$scope.$emit("open-overlay-panel", e), this.ctrl.searchText = "", this.ctrl.mobileSearchInputShown = !1, i.isFunction(this.ctrl.searchToggleCallback) && this.ctrl.searchToggleCallback(this.ctrl.mobileSearchInputShown);
}, e.prototype.search = function(e) {
return e ? this.loaded ? this.weightedSearch(e) : (this.searchDeferred = this.$q.defer(), this.searchDeferred.promise) : [];
}, e.prototype.toggleMobileShowSearchInput = function() {
this.ctrl.mobileSearchInputShown = !this.ctrl.mobileSearchInputShown, this.ctrl.searchText = "", i.isFunction(this.ctrl.searchToggleCallback) && this.ctrl.searchToggleCallback(this.ctrl.mobileSearchInputShown), this.ctrl.mobileSearchInputShown && this.setSearchInputFocus(0);
}, e.prototype.setSearchInputFocus = function(e) {
var t = this, n = r(".catalog-search-input");
n.is(":visible") ? n.focus() : e < 5 && this.$timeout(function() {
t.setSearchInputFocus(e + 1);
}, 100);
}, e.prototype.weightedSearch = function(e) {
var t = this.KeywordService.generateKeywords(e), n = this.KeywordService.weightedSearch(this.ctrl.catalogItems, this.Constants.CATALOG_SEARCH_FIELDS, t), r = i.size(n), o = i.take(n, this.maxResultsToShow);
return 0 === r ? o.push({
id: "viewNone",
text: "No results found for Keyword: " + e,
name: e
}) : 1 === r ? o.push({
id: "viewAll",
text: "View the result for Keyword: " + e,
name: e
}) : r > 1 && o.push({
id: "viewAll",
text: "View all " + r + " results for Keyword: " + e,
name: e
}), o;
}, e;
}();
o.$inject = [ "$rootScope", "$scope", "$timeout", "$q", "Catalog", "Constants", "KeywordService" ], t.CatalogSearchController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = n(69), a = function() {
function e(e, t, n, i, o, a, s, l, c, u, d, h) {
var f = this;
this.ctrl = this, this.watches = [], this.clearValidityWatcher = function() {
f.validityWatcher && (f.validityWatcher(), f.validityWatcher = void 0);
}, this.showInfo = function() {
f.clearValidityWatcher(), f.ctrl.nextTitle = "Next >";
}, this.showConfig = function() {
f.ctrl.currentStep = "Configuration", f.clearValidityWatcher(), f.ctrl.nextTitle = f.bindStep.hidden ? "Create" : "Next >", f.reviewStep.allowed = f.bindStep.hidden && f.configStep.valid, f.validityWatcher = f.$scope.$watch("$ctrl.builderForm.$valid", function(e, t) {
f.configStep.valid = e, !0 === f.ctrl.noProjectsCantCreate && (f.configStep.valid = !1);
});
}, this.showBind = function() {
f.clearValidityWatcher(), f.ctrl.nextTitle = "Create", f.reviewStep.allowed = !0;
}, this.showResults = function() {
f.clearValidityWatcher(), f.ctrl.nextTitle = "Close", f.ctrl.wizardDone = !0, f.ctrl.currentStep = "Results", f.createApp();
}, this.onProjectUpdate = function() {
if (!f.instancesSupported || f.isNewProject()) f.ctrl.serviceInstances = [], f.updateBindability(); else if (f.ctrl.showPodPresets) {
f.ctrl.updating = !0;
var e = f.APIService.getPreferredVersion("serviceinstances");
f.DataService.list(e, {
namespace: f.ctrl.selectedProject.metadata.name
}, null, {
errorNotification: !1
}).then(function(e) {
f.ctrl.serviceInstances = r.filter(r.toArray(e.by("metadata.name")), f.isServiceBindable), f.sortServiceInstances(), f.ctrl.updating = !1, f.updateBindability();
}, function(e) {
f.Logger.warn("Failed to list instances in namespace " + f.ctrl.selectedProject.metadata.name, e), f.ctrl.updating = !1, f.ctrl.serviceInstances = [], f.updateBindability();
});
}
}, this.isServiceBindable = function(e) {
var t, n = f.BindingService.getServiceClassForInstance(e, f.ctrl.serviceClasses), i = r.get(e, "spec.clusterServicePlanRef.name");
return i && (t = f.ctrl.servicePlans[i]), f.BindingService.isServiceBindable(e, n, t);
}, this.$scope = i, this.$filter = e, this.$location = t, this.$q = n, this.BuilderAppService = s, this.ProjectsService = d, this.DataService = c, this.APIService = o, this.BindingService = a, this.Logger = u, this.VersionsService = h, this.ctrl.serviceToBind = null, this.ctrl.showPodPresets = r.get(l, [ "ENABLE_TECH_PREVIEW_FEATURE", "pod_presets" ], !1), this.gitRef = "", this.contextDir = "";
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.selectedProject = this.ctrl.addToProject, this.infoStep = {
label: "Information",
id: "info",
view: "create-from-builder/create-from-builder-info.html",
valid: !0,
allowed: !0,
hidden: !1,
allowClickNav: !0,
onShow: this.showInfo
}, this.configStep = {
label: "Configuration",
id: "configure",
view: "create-from-builder/create-from-builder-configure.html",
valid: !1,
allowed: !0,
hidden: !1,
allowClickNav: !0,
onShow: this.showConfig
}, this.bindStep = {
label: "Binding",
id: "bind",
view: "create-from-builder/create-from-builder-bind.html",
valid: !0,
allowed: !1,
hidden: !this.ctrl.showPodPresets,
allowClickNav: !0,
onShow: this.showBind
}, this.reviewStep = {
label: "Results",
id: "results",
view: "create-from-builder/create-from-builder-results.html",
valid: !0,
allowed: !1,
hidden: !1,
prevEnabled: !1,
allowClickNav: !1,
onShow: this.showResults
}, this.ctrl.steps = [ this.infoStep, this.configStep, this.bindStep, this.reviewStep ], this.ctrl.currentStep = "Information", this.ctrl.versions = this.getVersions(), this.ctrl.istag = r.head(this.ctrl.versions), this.ctrl.nameMaxLength = 24, this.ctrl.namePattern = /^[a-z]([-a-z0-9]*[a-z0-9])?$/, this.ctrl.repositoryPattern = /^[a-z][a-z0-9+.-@]*:(\/\/)?[0-9a-z_-]+/, this.ctrl.wizardDone = !1, this.ctrl.serviceToBind = null, this.ctrl.updating = !1, this.ctrl.noProjectsCantCreate = !1;
var t = this.$filter("annotation");
this.ctrl.documentationUrl = t(this.ctrl.imageStream.resource, "openshift.io/documentation-url"), this.ctrl.supportUrl = t(this.ctrl.imageStream.resource, "openshift.io/support-url"), this.ctrl.serviceInstances = [], this.selectedProjectWatch = this.$scope.$watch(function() {
return e.ctrl.selectedProject;
}, this.onProjectUpdate), this.$scope.$watch("$ctrl.selectedProject.metadata.name", function() {
e.ctrl.projectNameTaken = !1;
}), this.ctrl.showPodPresets ? (this.getServiceClassesAndPlans(), this.instancesSupported = !!this.APIService.apiInfo(this.APIService.getPreferredVersion("serviceinstances"))) : this.instancesSupported = !1, this.noProjectsCantCreateWatch = this.$scope.$on("no-projects-cannot-create", function() {
e.ctrl.noProjectsCantCreate = !0;
});
}, e.prototype.closePanel = function() {
i.isFunction(this.ctrl.handleClose) && this.ctrl.handleClose();
}, e.prototype.$onDestroy = function() {
this.DataService.unwatchAll(this.watches), this.selectedProjectWatch(), this.noProjectsCantCreateWatch(), this.clearValidityWatcher();
}, e.prototype.fillSampleRepo = function() {
if (this.ctrl.repository = r.get(this, "ctrl.istag.annotations.sampleRepo"), this.gitRef = r.get(this, "ctrl.istag.annotations.sampleRef", ""), this.contextDir = r.get(this, "ctrl.istag.annotations.sampleContextDir", ""), !this.ctrl.name && this.ctrl.repository) {
var e = this.ctrl.repository.substr(this.ctrl.repository.lastIndexOf("/") + 1);
e = e.replace(/\.git$/, ""), e = r.truncate(e, this.ctrl.nameMaxLength), e = r.kebabCase(e), this.ctrl.namePattern.test(e) && (this.ctrl.name = e);
}
}, e.prototype.onRepositoryChanged = function() {
this.gitRef = "", this.contextDir = "";
}, e.prototype.navigateToAdvancedForm = function() {
var e = o.expand("project/{project}/create/fromimage?imageStream={imageStream}&imageTag={imageTag}&namespace={namespace}&displayName={displayName}&name={name}&sourceURI={sourceURI}&sourceRef={sourceRef}&contextDir={contextDir}&advanced=true", {
project: this.ctrl.selectedProject.metadata.name,
imageStream: this.ctrl.imageStream.resource.metadata.name,
imageTag: this.ctrl.istag.name,
namespace: this.ctrl.imageStream.resource.metadata.namespace,
displayName: this.ctrl.imageStream.name,
name: this.ctrl.name || "",
sourceURI: this.ctrl.repository || "",
sourceRef: this.gitRef || "",
contextDir: this.contextDir || ""
}).toString();
this.$location.url(e), this.closePanel();
}, e.prototype.getTagReference = function(e) {
if (!e.from || "ImageStreamTag" !== e.from.kind) return null;
var t = r.get(this, "ctrl.imageStream.resource.metadata.namespace");
if (e.from.namespace && e.from.namespace !== t) return null;
if (-1 === e.from.name.indexOf(":")) return e.from.name;
var n = r.get(this, "ctrl.imageStream.resource.metadata.name"), i = e.from.name.split(":");
return i[0] !== n ? null : i[1];
}, e.prototype.getVersions = function() {
var e = this;
this.ctrl.referencedBy = {};
var t = {}, n = {}, i = r.get(this, "ctrl.imageStream.resource.spec.tags", []);
r.each(i, function(i) {
var o = e.getTagReference(i);
if (o) return t[i.name] = o, e.ctrl.referencedBy[o] = e.ctrl.referencedBy[o] || [], void e.ctrl.referencedBy[o].push(i.name);
var a = r.get(i, "annotations.tags", "").split(/\s*,\s*/);
r.includes(a, "builder") && !r.includes(a, "hidden") && (n[i.name] = i);
});
var o = [], a = r.get(this, "ctrl.imageStream.resource.status.tags", []);
return r.each(a, function(e) {
var t = n[e.tag];
t && o.push(t);
}), o.sort(function(t, n) {
return e.VersionsService.rcompare(t.name, n.name);
}), o;
}, e.prototype.getImageStreamTag = function() {
var e = this.APIService.getPreferredVersion("imagestreamtags"), t = this.ctrl.imageStream.resource.metadata.name + ":" + this.ctrl.istag.name, n = this.ctrl.imageStream.resource.metadata.namespace;
return this.DataService.get(e, t, {
namespace: n
});
}, e.prototype.sortServiceInstances = function() {
if (this.ctrl.serviceInstances) {
var e = r.toArray(this.ctrl.serviceInstances), t = this.$filter("statusCondition");
e.sort(function(e, n) {
var i = "True" === r.get(t(e, "Ready"), "status");
if (i === ("True" === r.get(t(n, "Ready"), "status"))) {
var o = r.get(e, "metadata.creationTimestamp");
return r.get(n, "metadata.creationTimestamp").localeCompare(o);
}
return i ? -1 : 1;
}), this.ctrl.serviceInstances = e;
}
}, e.prototype.updateBindability = function() {
!this.ctrl.wizardDone && this.ctrl.showPodPresets && (this.bindStep.hidden = r.size(this.ctrl.serviceInstances) < 1, this.ctrl.serviceToBind = null, this.bindStep.hidden ? this.ctrl.nextTitle = "Create" : this.ctrl.nextTitle = "Next >");
}, e.prototype.isNewProject = function() {
return !r.has(this.ctrl.selectedProject, "metadata.uid");
}, e.prototype.createApp = function() {
var e = this;
this.createProjectIfNecessary().then(function(t) {
e.ctrl.selectedProject = t, e.getImageStreamTag().then(function(t) {
var n = e.BuilderAppService.makeAPIObjects({
name: e.ctrl.name,
repository: e.ctrl.repository,
gitRef: e.gitRef,
contextDir: e.contextDir,
namespace: e.ctrl.selectedProject.metadata.name,
imageStreamTag: t
});
e.createAPIObjects(n), e.ctrl.serviceToBind && e.bindService(r.find(n, {
kind: "DeploymentConfig"
}));
}, function(t) {
e.ctrl.error = t;
});
}, function(t) {
"AlreadyExists" === t.data.reason ? (e.ctrl.projectNameTaken = !0, e.ctrl.wizardDone = !1, e.ctrl.currentStep = "Configuration") : e.ctrl.error = t;
});
}, e.prototype.createProjectIfNecessary = function() {
if (!this.isNewProject()) return this.$q.when(this.ctrl.selectedProject);
var e = this.ctrl.selectedProject.metadata.name, t = this.ctrl.selectedProject.metadata.annotations["new-display-name"], n = this.$filter("description")(this.ctrl.selectedProject);
return this.ProjectsService.create(e, t, n);
}, e.prototype.createAPIObjects = function(e) {
var t = this;
this.DataService.batch(e, {
namespace: this.ctrl.selectedProject.metadata.name
}).then(function(e) {
e.failure.length ? t.ctrl.error = e : t.ctrl.success = !0;
}, function(e) {
t.ctrl.error = e;
});
}, e.prototype.bindService = function(e) {
var t = this;
this.ctrl.bindError = !1;
var n = {
namespace: r.get(this.ctrl.selectedProject, "metadata.name")
}, i = this.BindingService.getServiceClassForInstance(this.ctrl.serviceToBind, this.ctrl.serviceClasses);
this.BindingService.bindService(this.ctrl.serviceToBind, e, i).then(function(e) {
t.ctrl.binding = e, t.watches.push(t.DataService.watchObject(t.BindingService.bindingResource, r.get(t.ctrl.binding, "metadata.name"), n, function(e) {
t.ctrl.binding = e;
}));
}, function(e) {
t.ctrl.bindComplete = !0, t.ctrl.bindError = e;
});
}, e.prototype.getServiceClassesAndPlans = function() {
var e = this, t = this.APIService.getPreferredVersion("clusterserviceclasses"), n = this.APIService.getPreferredVersion("clusterserviceplans");
if (this.APIService.apiInfo(t) && this.APIService.apiInfo(n)) {
this.ctrl.updating = !0;
var i = [];
i.push(this.DataService.list(t, {}).then(function(t) {
e.ctrl.serviceClasses = t.by("metadata.name");
})), i.push(this.DataService.list(n, {}).then(function(t) {
e.ctrl.servicePlans = t.by("metadata.name");
})), this.$q.all(i).finally(function() {
e.ctrl.updating = !1;
});
}
}, e;
}();
a.$inject = [ "$filter", "$location", "$q", "$scope", "APIService", "BindingService", "BuilderAppService", "Constants", "DataService", "Logger", "ProjectsService", "VersionsService" ], t.CreateFromBuilderController = a;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = function() {
function e(e, t, n) {
var i = this;
this.ctrl = this, this.closeOrderingPanel = function() {
i.RecentlyViewed.addItem(i.ctrl.selectedItem.resource.metadata.uid), i.ctrl.orderingPanelVisible = !1;
}, this.$scope = e, this.Catalog = t, this.RecentlyViewed = n, this.plansByServiceClassName = {};
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.searchText = "", this.ctrl.orderingPanelVisible = !1, this.Catalog.getServicePlans().then(function(t) {
t && (t = i.reject(t.by("metadata.name"), {
status: {
removedFromBrokerCatalog: !0
}
}), e.plansByServiceClassName = e.Catalog.groupPlansByServiceClassName(t));
}), this.$scope.$on("open-overlay-panel", function(t, n) {
if (e.ctrl.servicePlansForItem = null, "Template" !== n.kind) "ClusterServiceClass" === n.kind && (e.ctrl.servicePlansForItem = e.plansByServiceClassName[n.resource.metadata.name]), e.ctrl.selectedItem = n, e.ctrl.orderingPanelVisible = !0; else {
var i = e.ctrl.onTemplateSelected();
i && i(n.resource);
}
});
}, e.prototype.$onDestroy = function() {
this.ctrl.orderingPanelVisible && this.closeOrderingPanel();
}, e;
}();
r.$inject = [ "$scope", "Catalog", "RecentlyViewedServiceItems" ], t.LandingPageController = r;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n, i, o, a, s, l, c, u) {
var d = this;
this.ctrl = this, this.watches = [], this.clearValidityWatcher = function() {
d.validityWatcher && (d.validityWatcher(), d.validityWatcher = void 0), d.ctrl.reviewStep.allowed = !1;
}, this.showInfo = function() {
d.clearValidityWatcher(), d.ctrl.configPageShown = !1, d.ctrl.nextTitle = "Next >";
}, this.showPlan = function() {
d.clearValidityWatcher(), d.ctrl.configPageShown = !1, d.ctrl.nextTitle = "Next >";
}, this.showConfig = function() {
d.ctrl.currentStep = "Configuration", d.clearValidityWatcher(), d.ctrl.configPageShown = !0, d.reviewStep.allowed = d.bindStep.hidden && d.configStep.valid, d.updateBindability(), d.validityWatcher = d.$scope.$watch("$ctrl.forms.orderConfigureForm.$valid", function(e, t) {
d.configStep.valid = e && !d.ctrl.noProjectsCantCreate, d.bindStep.allowed = d.configStep.valid, d.reviewStep.allowed = d.bindStep.hidden && d.configStep.valid;
});
}, this.showBind = function() {
d.clearValidityWatcher(), d.ctrl.configPageShown = !1, d.ctrl.nextTitle = d.bindParametersStep.hidden ? "Create" : "Next >", d.reviewStep.allowed = d.bindParametersStep.hidden && d.bindStep.valid, d.isNewProject() ? d.ctrl.projectDisplayName = d.ctrl.selectedProject.metadata.annotations["new-display-name"] || d.ctrl.selectedProject.metadata.name : d.ctrl.projectDisplayName = d.$filter("displayName")(d.ctrl.selectedProject), d.validityWatcher = d.$scope.$watch("$ctrl.forms.bindForm.$valid", function(e, t) {
d.bindStep.valid = e, d.bindParametersStep.allowed = e, d.reviewStep.allowed = d.bindParametersStep.hidden && d.bindStep.valid;
});
}, this.showBindParameters = function() {
d.clearValidityWatcher(), d.ctrl.nextTitle = "Create", d.validityWatcher = d.$scope.$watch("$ctrl.forms.bindParametersForm.$valid", function(e, t) {
d.bindParametersStep.valid = e, d.reviewStep.allowed = d.bindParametersStep.valid;
});
}, this.showResults = function() {
d.ctrl.currentStep = "Results", d.clearValidityWatcher(), d.ctrl.configPageShown = !1, d.ctrl.nextTitle = "Close", d.ctrl.wizardDone = !0, d.provisionService();
}, this.selectPlan = function(e) {
d.ctrl.selectedPlan = e, d.ctrl.parameterData = {}, d.updateParameterSchema(e), d.updateBindability();
}, this.provisionService = function() {
if (d.ctrl.inProgress = !0, d.ctrl.orderComplete = !1, d.ctrl.error = !1, d.isNewProject()) {
var e = d.ctrl.selectedProject.metadata.name, t = d.ctrl.selectedProject.metadata.annotations["new-display-name"], n = d.$filter("description")(d.ctrl.selectedProject);
d.ProjectsService.create(e, t, n).then(function(e) {
d.ctrl.selectedProject = e, d.ctrl.projectDisplayName = d.$filter("displayName")(e), d.createService();
}, function(e) {
"AlreadyExists" === e.data.reason ? (d.ctrl.projectNameTaken = !0, d.ctrl.wizardDone = !1, d.ctrl.currentStep = "Configuration") : d.ctrl.error = e;
});
} else d.ctrl.projectDisplayName = d.$filter("displayName")(d.ctrl.selectedProject), d.createService();
}, this.onProjectUpdate = function() {
if (d.isNewProject()) d.ctrl.applications = [], d.ctrl.updating = !1, d.updateBindability(); else if (d.ctrl.showPodPresets) {
d.ctrl.updating = !0, d.ctrl.bindType = "none", d.ctrl.serviceToBind = d.ctrl.serviceClass;
var e = {
namespace: r.get(d.ctrl.selectedProject, "metadata.name")
};
d.ApplicationsService.getApplications(e).then(function(e) {
d.ctrl.applications = e, d.ctrl.updating = !1, d.updateBindability();
});
}
}, this.watchResults = function(e, t, n) {
d.watches.push(d.DataService.watchObject(e, t.metadata.name, n, function(e, t) {
var n = r.get(e, "status.conditions"), i = r.find(n, {
type: "Ready"
});
d.ctrl.orderComplete = i && "True" === i.status, d.ctrl.error = r.find(n, {
type: "Failed",
status: "True"
});
}));
}, this.$scope = e, this.$filter = t, this.APIService = n, this.ApplicationsService = i, this.ProjectsService = o, this.DataService = a, this.BindingService = s, this.Logger = l, this.ctrl.showPodPresets = r.get(c, [ "ENABLE_TECH_PREVIEW_FEATURE", "pod_presets" ], !1), this.DNS1123_SUBDOMAIN_VALIDATION = u;
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.selectedProject = this.ctrl.addToProject, this.ctrl.iconClass = this.ctrl.serviceClass.iconClass || "fa fa-clone", this.ctrl.imageUrl = this.ctrl.serviceClass.imageUrl, this.ctrl.serviceName = this.ctrl.serviceClass.name, this.ctrl.description = this.ctrl.serviceClass.description, this.ctrl.longDescription = this.ctrl.serviceClass.longDescription, this.ctrl.docUrl = r.get(this.ctrl.serviceClass, "resource.spec.externalMetadata.documentationUrl"), this.ctrl.supportUrl = r.get(this.ctrl.serviceClass, "resource.spec.externalMetadata.supportUrl");
var t = r.get(this.ctrl.serviceClass, "resource.spec.externalMetadata.dependencies");
r.isArray(t) && (this.ctrl.imageDependencies = r.uniq(r.filter(t, r.isString))), this.ctrl.noProjectsCantCreate = !1, this.ctrl.applications = [], this.ctrl.parameterData = {}, this.ctrl.bindParameterData = {}, this.ctrl.forms = {}, this.ctrl.appToBind = null, this.ctrl.configStepValid = !0, this.ctrl.multipleServicePlans = r.size(this.ctrl.servicePlans) > 1, this.infoStep = {
id: "info",
label: "Information",
view: "order-service/order-service-info.html",
valid: !0,
allowed: !0,
hidden: !1,
allowClickNav: !0,
onShow: this.showInfo
}, this.planStep = {
id: "plans",
label: "Plan",
view: "order-service/order-service-plans.html",
hidden: !this.ctrl.multipleServicePlans,
allowed: !0,
valid: !0,
allowClickNav: !0,
onShow: this.showPlan
}, this.configStep = {
label: "Configuration",
id: "configure",
view: "order-service/order-service-configure.html",
hidden: !1,
allowed: !0,
valid: !1,
allowClickNav: !0,
onShow: this.showConfig
}, this.bindStep = {
label: "Binding",
id: "bind",
view: "order-service/order-service-bind.html",
hidden: !1,
allowed: !1,
valid: !0,
allowClickNav: !0,
onShow: this.showBind
}, this.bindParametersStep = {
label: "Parameters",
id: "bind-parameters",
view: "order-service/order-service-bind-parameters.html",
hidden: !1,
allowed: !1,
valid: !0,
allowClickNav: !0,
onShow: this.showBindParameters
}, this.reviewStep = {
label: "Results",
id: "results",
view: "order-service/order-service-results.html",
hidden: !1,
allowed: !1,
valid: !0,
prevEnabled: !1,
allowClickNav: !1,
onShow: this.showResults
}, this.ctrl.steps = [ this.infoStep, this.planStep, this.configStep, this.bindStep, this.bindParametersStep, this.reviewStep ], this.ctrl.currentStep = "Information", this.ctrl.projectNameTaken = !1, this.ctrl.wizardDone = !1, this.ctrl.bindType = "none", this.ctrl.orderedPlans = r.orderBy(this.ctrl.servicePlans, [ "spec.externalMetadata.displayName", "metadata.name" ]), this.selectPlan(r.head(this.ctrl.orderedPlans)), this.ctrl.addToProject || (this.ctrl.updating = !0, this.selectedProjectWatch = this.$scope.$watch(function() {
return e.ctrl.selectedProject;
}, this.onProjectUpdate)), this.$scope.$watch("$ctrl.selectedProject.metadata.name", function() {
e.ctrl.projectNameTaken = !1;
}), this.bindTypeWatch = this.$scope.$watch("$ctrl.bindType", function(t, n) {
t !== n && (e.updateBindParametersStepVisibility(), e.ctrl.nextTitle = e.bindParametersStep.hidden ? "Create" : "Next >", e.reviewStep.allowed = e.bindParametersStep.hidden && e.bindStep.valid);
}), this.noProjectsCantCreateWatch = this.$scope.$on("no-projects-cannot-create", function() {
e.ctrl.noProjectsCantCreate = !0;
});
}, e.prototype.createService = function() {
var e = this, t = this.getParameters(), n = r.isEmpty(t) ? null : this.BindingService.generateSecretName(this.getClusterServiceClassExternalName() + "-parameters"), i = this.makeServiceInstance(n), o = this.APIService.getPreferredVersion("serviceinstances"), a = {
namespace: this.ctrl.selectedProject.metadata.name
};
this.DataService.create(o, null, i, a).then(function(i) {
if (e.ctrl.orderInProgress = !0, e.watchResults(o, i, a), e.ctrl.serviceInstance = i, n) {
var s = e.BindingService.makeParametersSecret(n, t, i), l = e.APIService.getPreferredVersion("secrets");
e.DataService.create(l, null, s, a).then(r.noop, function(t) {
e.ctrl.error = r.get(t, "data");
});
}
"none" !== e.ctrl.bindType && e.bindService();
}, function(t) {
e.ctrl.error = r.get(t, "data");
});
}, e.prototype.bindService = function() {
var e = this;
this.ctrl.bindError = !1;
var t = {
namespace: r.get(this.ctrl.selectedProject, "metadata.name")
}, n = "application" === this.ctrl.bindType ? this.ctrl.appToBind : void 0;
this.BindingService.bindService(this.ctrl.serviceInstance, n, this.ctrl.serviceClass.resource, this.ctrl.bindParameterData).then(function(n) {
e.ctrl.binding = n, e.watches.push(e.DataService.watchObject(e.BindingService.bindingResource, r.get(e.ctrl.binding, "metadata.name"), t, function(t) {
e.ctrl.binding = t;
}));
}, function(t) {
e.ctrl.bindError = t;
});
}, e.prototype.$onDestroy = function() {
this.DataService.unwatchAll(this.watches), this.selectedProjectWatch && this.selectedProjectWatch(), this.noProjectsCantCreateWatch(), this.bindTypeWatch(), this.clearValidityWatcher();
}, e.prototype.closePanel = function() {
i.isFunction(this.ctrl.handleClose) && this.ctrl.handleClose();
}, e.prototype.updateBindability = function() {
if (!this.ctrl.wizardDone) {
var e = r.get(this.ctrl.selectedPlan, "spec.bindable");
this.bindStep.hidden = !0 !== e && (!1 === e || !r.get(this.ctrl.serviceClass, "resource.spec.bindable")), this.updateBindParametersStepVisibility(), this.ctrl.configPageShown && (this.reviewStep.allowed = this.bindStep.hidden, this.bindStep.hidden ? this.ctrl.nextTitle = "Create" : this.ctrl.nextTitle = "Next >");
}
}, e.prototype.updateBindParametersStepVisibility = function() {
this.bindParametersStep.hidden = this.bindStep.hidden || "none" === this.ctrl.bindType || !r.has(this.ctrl, "bindParameterSchema.properties"), this.bindParametersStep.allowed = this.bindStep.valid;
}, e.prototype.updateParameterSchema = function(e) {
this.ctrl.parameterSchema = r.get(e, "spec.instanceCreateParameterSchema"), this.ctrl.parameterFormDefinition = r.get(this, "ctrl.selectedPlan.spec.externalMetadata.schemas.service_instance.create.openshift_form_definition"), this.ctrl.bindParameterSchema = r.get(e, "spec.serviceBindingCreateParameterSchema"), this.ctrl.bindParameterFormDefinition = r.get(this, "ctrl.selectedPlan.spec.externalMetadata.schemas.service_binding.create.openshift_form_definition");
}, e.prototype.getParameters = function() {
return r.omitBy(this.ctrl.parameterData, function(e) {
return "" === e;
});
}, e.prototype.getClusterServiceClassExternalName = function() {
return r.get(this, "ctrl.serviceClass.resource.spec.externalName");
}, e.prototype.makeServiceInstance = function(e) {
var t = this.getClusterServiceClassExternalName(), n = {
kind: "ServiceInstance",
apiVersion: "servicecatalog.k8s.io/v1beta1",
metadata: {
namespace: this.ctrl.selectedProject.metadata.name,
generateName: t + "-"
},
spec: {
clusterServiceClassExternalName: t,
clusterServicePlanExternalName: this.ctrl.selectedPlan.spec.externalName
}
};
return e && (n.spec.parametersFrom = [ {
secretKeyRef: {
name: e,
key: "parameters"
}
} ]), n;
}, e.prototype.isNewProject = function() {
return !this.ctrl.selectedProject || !r.has(this.ctrl.selectedProject, "metadata.uid");
}, e;
}();
o.$inject = [ "$scope", "$filter", "APIService", "ApplicationsService", "ProjectsService", "DataService", "BindingService", "Logger", "Constants", "DNS1123_SUBDOMAIN_VALIDATION" ], t.OrderServiceController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(2), o = function() {
function e(e, t) {
var n = this;
this.ctrl = this, this.closePanel = function() {
i.isFunction(n.ctrl.handleClose) && n.ctrl.handleClose();
}, this.showDialog = function() {
n.ctrl.shown = !0, r("body").addClass("overlay-open"), n.$document.on("keydown", n.closeOnEsc);
}, this.hideDialog = function() {
n.ctrl.shown = !1, r("body").removeClass("overlay-open"), n.$document.off("keydown", n.closeOnEsc);
}, this.closeOnEsc = function(e) {
27 === e.which && (e.isDefaultPrevented() || (e.preventDefault(), n.$scope.$evalAsync(function() {
n.closePanel();
})));
}, this.$document = e, this.$scope = t, this.ctrl.shown = !1;
}
return e.prototype.$postLink = function() {
this.ctrl.showPanel && this.showDialog();
}, e.prototype.$onChanges = function(e) {
e.showPanel && (this.ctrl.showPanel ? this.showDialog() : this.hideDialog());
}, e.prototype.$onDestroy = function() {
r("body").removeClass("overlay-open");
}, e;
}();
o.$inject = [ "$document", "$scope" ], t.OverlayPanelController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(t, n, o, a, s, l, c, u, d, h, f) {
var p = this;
this.ctrl = this, this.newProjectPanelShown = !1, this.editProjectPanelShown = !1, this.watches = [], this.maxDisplayProjects = 5, this.watchingProjects = !1, this.init = function() {
p.ProjectsService.list().then(function(t) {
p.onProjectsUpdate(t), p.ctrl.isProjectListIncomplete = p.ProjectsService.isProjectListIncomplete(), !p.ctrl.isProjectListIncomplete && p.ctrl.totalProjects <= e.MAX_PROJETS_TO_WATCH && (p.watches.push(p.ProjectsService.watch(p.$scope, p.onProjectsUpdate)), p.watchingProjects = !0);
}, function() {
p.ctrl.isProjectListIncomplete = !0;
}), p.ctrl.resourceLinks = r.clone(p.Constants.CATALOG_HELP_RESOURCES.links), r.forEach(p.ctrl.resourceLinks, function(e) {
i.isDefined(e.help) && (e.href = p.Constants.HELP_BASE_URL + (e.help ? p.Constants.HELP[e.help] : ""));
}), p.$rootScope.$on("recently-viewed-updated", function() {
p.ctrl.recentlyViewedItems = p.getRecentlyViewedItems();
});
}, this.onProjectsUpdate = function(e) {
var t = r.toArray(e.by("metadata.name"));
p.ctrl.projects = p.RecentlyViewedProjectsService.orderByMostRecentlyViewed(t), p.ctrl.totalProjects = p.ctrl.projects.length, p.ctrl.projects = r.take(p.ctrl.projects, p.maxDisplayProjects), p.ctrl.loading = !1, p.ctrl.showGetStarted = !p.ctrl.projects || p.ctrl.projects.length < 2;
}, this.goToProject = function(e) {
var t = p.$filter("projectUrl")(e, p.ctrl.baseProjectUrl);
p.$window.location.href = t;
}, this.closeNewProjectPanel = function() {
p.ctrl.newProjectPanelShown = !1;
}, this.onNewProject = function(e) {
p.ctrl.newProjectPanelShown = !1, p.watchingProjects || p.ProjectsService.list().then(p.onProjectsUpdate);
}, this.onViewMemebership = function(e) {
var t = p.ctrl.viewEditMembership();
t && t(e);
}, this.editProject = function(e) {
p.ctrl.edittingProject = e, p.ctrl.editProjectPanelShown = !0;
}, this.closeEditProjectPanel = function() {
p.ctrl.editProjectPanelShown = !1;
}, this.onEditProject = function(e) {
p.ctrl.editProjectPanelShown = !1, p.watchingProjects || p.ProjectsService.list().then(p.onProjectsUpdate);
}, this.onDeleteProject = function() {
p.watchingProjects || p.ProjectsService.list().then(p.onProjectsUpdate);
}, this.$filter = t, this.$rootScope = n, this.$scope = o, this.$window = a, this.AuthService = s, this.Constants = l, this.DataService = c, this.Logger = u, this.ProjectsService = d, this.RecentlyViewedProjectsService = h, this.RecentlyViewedItems = f;
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.loading = !0, this.AuthService.withUser().then(function(t) {
e.ctrl.user = t;
}), this.ProjectsService.canCreate().then(function() {
e.ctrl.canCreate = !0;
}, function(t) {
e.ctrl.canCreate = !1, e.ctrl.loading = !1;
var n = t.data || {};
if (403 !== t.status) {
var i = "Failed to determine create project permission";
return 0 !== t.status && (i += " (" + t.status + ")"), void e.Logger.warn(i);
}
if (n.details) {
var o = [];
r.forEach(n.details.causes || [], function(e) {
e.message && o.push(e.message);
}), o.length > 0 && (e.ctrl.newProjectMessage = o.join("\n"));
}
}).finally(function() {
e.init();
});
}, e.prototype.$onDestroy = function() {
this.DataService.unwatchAll(this.watches);
}, e.prototype.$onChanges = function(e) {
e.catalogItems && this.ctrl.catalogItems && (this.allItems = r.keyBy(this.ctrl.catalogItems, "resource.metadata.uid"), this.ctrl.recentlyViewedItems = this.getRecentlyViewedItems());
}, e.prototype.openNewProjectPanel = function(e) {
this.ctrl.newProjectPanelShown = !0, this.ctrl.modalPopupElement = e.currentTarget;
}, e.prototype.handleGettingStartedClick = function() {
var e = this.ctrl.startTour();
e && e();
}, e.prototype.handleProjectClick = function(e) {
var t = this.ctrl.projectSelect();
t && t(e);
}, e.prototype.orderService = function(e) {
this.$scope.$emit("open-overlay-panel", e);
}, e.prototype.showAllProjects = function() {
var e = this.ctrl.showProjects();
e && e();
}, e.prototype.getRecentlyViewedItems = function() {
var e = this;
if (this.allItems) {
var t = this.RecentlyViewedItems.getItems(), n = r.map(t, function(t) {
return e.allItems[t];
});
return n = r.reject(n, function(e) {
return !e;
});
}
}, e;
}();
o.$inject = [ "$filter", "$rootScope", "$scope", "$window", "AuthService", "Constants", "DataService", "Logger", "ProjectsService", "RecentlyViewedProjectsService", "RecentlyViewedServiceItems" ], o.MAX_PROJETS_TO_WATCH = 250, t.ProjectsSummaryController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n, i) {
var r = this;
this.ctrl = this, this.onWindowResize = function() {
r.$scope.$evalAsync(function() {
r.updateListExpandVisibility();
});
}, this.$scope = e, this.$window = t, this.$element = n, this.BREAKPOINTS = i, this.ctrl.sassListExpanded = !1, this.ctrl.itemsOverflow = !1;
}
return e.prototype.$postLink = function() {
this.debounceResize = r.debounce(this.onWindowResize, 50, {
maxWait: 250
}), i.element(this.$window).on("resize", this.debounceResize), this.updateListExpandVisibility();
}, e.prototype.$onDestroy = function() {
i.element(this.$window).off("resize", this.debounceResize);
}, e.prototype.hasSaasOfferings = function() {
return !r.isEmpty(this.ctrl.saasOfferings);
}, e.prototype.$onChanges = function(e) {
e.saasOfferings && !e.saasOfferings.isFirstChange() && (this.ctrl.saasOfferings = e.saasOfferings.currentValue, this.updateListExpandVisibility());
}, e.prototype.toggleListExpand = function() {
this.ctrl.sassListExpanded = !this.ctrl.sassListExpanded;
}, e.prototype.updateListExpandVisibility = function() {
var e = this.$window.innerWidth, t = r.size(this.ctrl.saasOfferings);
this.ctrl.itemsOverflow = t > 4 || t > 2 && e < this.BREAKPOINTS.screenLgMin;
}, e;
}();
o.$inject = [ "$scope", "$window", "$element", "BREAKPOINTS" ], t.SaasListController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = function() {
function e() {
this.ctrl = this;
}
return e.prototype.$onInit = function() {
this.updatePlans();
}, e.prototype.$onChanges = function(e) {
(e.availablePlans && !e.availablePlans.isFirstChange() || e.selectedPlan && !e.selectedPlan.isFirstChange()) && this.updatePlans();
}, e.prototype.updatePlans = function() {
this.ctrl.plansAvailable = i.size(this.ctrl.availablePlans) > 0, this.ctrl.plansAvailable && (this.ctrl.selectedPlan || (this.ctrl.selectedPlan = this.ctrl.availablePlans[0]), this.ctrl.planIndex = this.ctrl.availablePlans.indexOf(this.ctrl.selectedPlan));
}, e;
}();
t.SelectPlanController = r;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(t, n, i, o, a, s, l, c) {
var u = this;
this.ctrl = this, this.getProjectChoices = function() {
return u.ctrl.matchingProjects ? u.ctrl.matchingProjects : u.largeProjectList ? [] : u.projects;
}, this.groupChoicesBy = function(e) {
return u.largeProjectList ? "" : e.metadata.uid ? u.RecentlyViewedProjectsService.isRecentlyViewed(e.metadata.uid) ? "Recently Viewed" : "Other Projects" : "";
}, this.refreshChoices = function(t) {
var n;
n = u.lastSearch && t.startsWith(u.lastSearch) ? u.lastResults : u.projects, u.lastSearch = t, u.lastResults = u.filterProjects(t, n), u.ctrl.matchingProjects = r.take(u.lastResults, e.LARGE_PROJECT_LIST_SIZE);
}, this.canIAddToProject = function() {
var e = !0, t = r.get(u.ctrl.selectedProject, "metadata.name");
u.isNewProject() || u.AuthorizationService.getProjectRules(t).then(function() {
e = u.AuthorizationService.canIAddToProject(t), u.ctrl.forms && u.ctrl.forms.selectProjectForm.selectProject.$setValidity("cannotAddToProject", e);
}), u.ctrl.forms && u.ctrl.forms.selectProjectForm.selectProject.$setValidity("cannotAddToProject", e);
}, this.$filter = t, this.$scope = n, this.AuthService = i, this.AuthorizationService = o, this.KeywordService = a, this.Logger = s, this.ProjectsService = l, this.RecentlyViewedProjectsService = c, this.largeProjectList = !1, this.lastSearch = "", this.lastResults = [];
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.noProjectsCantCreate = !1, this.ctrl.noProjectsConfig = {
title: "No Projects Found",
info: "Services cannot be provisioned without a project."
}, void 0 === this.ctrl.showDivider && (this.ctrl.showDivider = !0), void 0 === this.ctrl.skipCanAddValidation && (this.ctrl.skipCanAddValidation = !1), void 0 === this.ctrl.isRequired && (this.ctrl.isRequired = !0), this.ProjectsService.canCreate().then(function() {
e.ctrl.canCreate = !0;
}, function(t) {
if (e.ctrl.canCreate = !1, 403 !== t.status) {
var n = "Failed to determine create project permission";
0 !== t.status && (n += " (" + t.status + ")"), e.Logger.warn(n);
}
var i = t.data || {};
if (i.details) {
var o = [];
r.forEach(i.details.causes || [], function(e) {
e.message && o.push(e.message);
}), o.length > 0 && (e.ctrl.noProjectsCantCreateMessage = o.join("\n"));
}
}).finally(function() {
e.listProjects();
});
}, e.prototype.$onChanges = function(e) {
e.nameTaken && !e.nameTaken.isFirstChange() && this.ctrl.forms.createProjectForm.name.$setValidity("nameTaken", !this.ctrl.nameTaken), e.availableProjects && !e.availableProjects.isFirstChange() && this.updateProjects(this.ctrl.availableProjects);
}, e.prototype.onSelectProjectChange = function() {
this.ctrl.skipCanAddValidation || this.canIAddToProject(), i.isFunction(this.ctrl.onProjectSelected) && this.ctrl.onProjectSelected(this.ctrl.selectedProject);
}, e.prototype.onOpenClose = function(e) {
e && r.isFunction(this.ctrl.onOpen) && this.ctrl.onOpen();
}, e.prototype.onNewProjectNameChange = function() {
this.ctrl.forms.createProjectForm.name.$setValidity("nameTaken", !0);
}, e.prototype.isNewProject = function() {
return this.projects && this.ctrl.selectedProject && !r.has(this.ctrl.selectedProject, "metadata.uid");
}, e.prototype.canOnlyCreateProject = function() {
return 1 === this.ctrl.numProjectChoices && !this.ctrl.hideCreateProject && this.ctrl.canCreate;
}, e.prototype.filterProjects = function(e, t) {
if (!e) return this.largeProjectList ? [] : t;
var n = [ "metadata.name", 'metadata.annotations["openshift.io/display-name"]' ], i = this.KeywordService.generateKeywords(e);
return this.KeywordService.filterForKeywords(t, n, i);
}, e.prototype.updateProjects = function(t) {
var n = this;
if (this.largeProjectList = r.size(t) >= e.LARGE_PROJECT_LIST_SIZE, this.largeProjectList) return this.ctrl.placeholder = "Filter projects by name", this.ctrl.searchEnabled = !0, this.ctrl.refreshDelay = 500, this.projects = t, void (this.ctrl.numProjectChoices = r.size(this.projects));
this.ctrl.placeholder = "Select project";
var i = {
metadata: {
annotations: {
"openshift.io/display-name": "Create Project",
"new-display-name": ""
}
}
}, o = r.reject(t, "metadata.deletionTimestamp");
this.projects = this.RecentlyViewedProjectsService.orderByMostRecentlyViewed(o), this.ctrl.searchEnabled = !r.isEmpty(o), this.ctrl.refreshDelay = 0, this.ctrl.existingProjectNames = r.map(t, "metadata.name"), this.preselectProject(), this.ctrl.canCreate && !this.ctrl.hideCreateProject ? (this.ctrl.placeholder = "Select or create project", this.projects.unshift(i), 1 === r.size(this.projects) && (this.ctrl.selectedProject = i, this.onSelectProjectChange())) : 0 === r.size(this.projects) && (this.ctrl.noProjectsCantCreate = !0, this.AuthService.withUser().then(function(e) {
n.ctrl.user = e;
}), this.$scope.$emit("no-projects-cannot-create")), this.ctrl.numProjectChoices = r.size(this.projects);
}, e.prototype.preselectProject = function() {
this.ctrl.selectedProject || (1 === r.size(this.projects) ? this.ctrl.selectedProject = this.projects[0] : this.ctrl.preselectProjectName && (this.ctrl.selectedProject = r.find(this.projects, {
metadata: {
name: this.ctrl.preselectProjectName
}
})), this.ctrl.selectedProject && this.onSelectProjectChange());
}, e.prototype.listProjects = function() {
var e = this;
this.ctrl.availableProjects ? this.updateProjects(this.ctrl.availableProjects) : this.ProjectsService.list().then(function(t) {
e.updateProjects(t.by("metadata.name"));
});
}, e;
}();
o.$inject = [ "$filter", "$scope", "AuthService", "AuthorizationService", "KeywordService", "Logger", "ProjectsService", "RecentlyViewedProjectsService" ], o.LARGE_PROJECT_LIST_SIZE = 500, t.SelectProjectController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = n(2), o = function() {
function e(e, t, n, r, o, a, s, l, c, u) {
var d = this;
this.ctrl = this, this.previousSubCategoryHeight = 0, this.resizeRetries = 0, this.serviceViewItemClicked = function(e, t) {
d.$scope.$emit("open-overlay-panel", e);
}, this.filterChange = function(e) {
d.filterByCategory(d.ctrl.currentFilter, d.ctrl.currentSubFilter, !1), i.isEmpty(e) || i.each(e, function(e) {
switch (e.id) {
case "keyword":
d.ctrl.filteredItems = d.filterForKeywords(e.values[0], d.ctrl.filteredItems);
break;

case "vendors":
d.ctrl.filteredItems = d.filterForVendors(e.values, d.ctrl.filteredItems);
}
}), d.ctrl.filterConfig.resultsCount = d.ctrl.filteredItems.length, d.ctrl.keywordFilterValue = null;
}, this.clearAppliedFilters = function() {
d.$scope.$broadcast("clear-filters");
}, this.constants = e, this.catalog = t, this.keywordService = n, this.logger = r, this.htmlService = o, this.element = a[0], this.$filter = s, this.$rootScope = l, this.$scope = c, this.$timeout = u, this.ctrl.loaded = !1, this.ctrl.isEmpty = !1, this.ctrl.mobileView = "categories", this.ctrl.filterConfig = {
resultsLabel: "Items",
appliedFilters: []
}, this.ctrl.keywordFilterValue = null;
}
return e.prototype.$onInit = function() {
var e = this;
this.debounceResize = i.debounce(function() {
return e.resizeExpansion(!1);
}, 50, {
maxWait: 250
}), r(window).on("resize.services", this.debounceResize), this.ctrl.currentFilter = this.ctrl.currentSubFilter = "all", this.ctrl.sectionTitle = this.ctrl.sectionTitle || "Browse Catalog", this.removeFilterListener = this.$rootScope.$on("filter-catalog-items", function(t, n) {
e.setKeywordFilter(n.searchText);
}), this.ctrl.emptyFilterConfig = {
title: "No results match.",
info: "The active filters are hiding all catalog items.",
helpLink: {
urlLabel: "Clear All Filters",
urlAction: this.clearAppliedFilters
}
}, this.ctrl.noItemsConfig = {
title: "No items.",
info: "No catalog items have been loaded.",
helpLink: {
urlLabel: "See Loading the Default Image Streams and Templates",
url: "https://docs.openshift.org/latest/install_config/imagestreams_templates.html"
}
}, this.ctrl.keywordFilter && this.setKeywordFilter(this.ctrl.keywordFilter);
}, e.prototype.$onChanges = function(e) {
e.catalogItems && e.catalogItems.currentValue && (this.ctrl.isEmpty = i.isEmpty(this.ctrl.catalogItems), this.ctrl.isEmpty || (this.ctrl.categories = this.catalog.categorizeItems(this.ctrl.catalogItems), this.ctrl.vendors = this.catalog.getVendors(this.ctrl.catalogItems), this.filterByCategory("all", "all", !0)), this.ctrl.loaded = !0), e.keywordFilter && !e.keywordFilter.isFirstChange() && this.setKeywordFilter(this.ctrl.keywordFilter);
}, e.prototype.$postLink = function() {
this.scrollParent = this.getScrollParent(this.element), this.scrollParent && this.htmlService.isWindowAboveBreakpoint(this.htmlService.WINDOW_SIZE_SM) && (this.ctrl.viewStyle = {
"min-height": "calc(100vh - " + this.scrollParent.getBoundingClientRect().top + "px)"
});
}, e.prototype.$onDestroy = function() {
r(window).off("resize.services"), this.removeFilterListener();
}, e.prototype.selectCategory = function(e) {
if (this.ctrl.mobileView = "subcategories", this.clearAppliedFilters(), this.filterByCategory(e, null, !0), this.scrollParent) {
var t = r(this.scrollParent);
t.scrollTop() !== this.element.offsetTop && t.animate({
scrollTop: this.element.offsetTop
}, 200);
}
}, e.prototype.selectSubCategory = function(e) {
this.ctrl.mobileView = "items", this.ctrl.currentSubFilter === e && "xxs" !== this.htmlService.getBreakpoint() && (e = null, this.ctrl.mobileView = "subcategories"), this.clearAppliedFilters(), this.filterByCategory(this.ctrl.currentFilter, e, !1);
}, e.prototype.getSubCategories = function(e) {
var t = [];
return this.ctrl.categories.map(function(n) {
e === n.id && (t = t.concat(n.subCategories));
}), "all" === (t = i.filter(t, {
hasItems: !0
}))[0].id && 2 === t.length && (t = i.drop(t, 1)), t;
}, e.prototype.applyFilters = function(e) {
this.filterChange(e.appliedFilters);
}, e.prototype.filterByCategory = function(e, t, n) {
var r, o;
"all" === e || "other" === e ? t = "all" : (n && (this.ctrl.subCategories = this.getSubCategories(e)), t = 1 === this.ctrl.subCategories.length ? this.ctrl.subCategories[0].id : t || null), (r = i.find(this.ctrl.categories, {
id: e
})) ? t && ((o = i.find(r.subCategories, {
id: t
})) ? (this.ctrl.filteredItems = o.items, this.ctrl.filterConfig.totalCount = this.ctrl.filteredItems.length, this.ctrl.filterConfig.resultsCount = this.ctrl.filterConfig.totalCount) : this.logger.error("Could not find subcategory '" + t + "' for category '" + e + "'")) : this.logger.error("Could not find category '" + e + "'"), this.ctrl.currentFilter = e, this.ctrl.currentSubFilter = t, this.updateActiveCardStyles();
}, e.prototype.setKeywordFilter = function(e) {
this.ctrl.keywordFilterValue = e, this.ctrl.currentFilter = this.ctrl.currentSubFilter = "all", this.ctrl.mobileView = "subcategories";
}, e.prototype.filterForKeywords = function(e, t) {
var n = this.keywordService.generateKeywords(e);
return this.keywordService.weightedSearch(t, this.constants.CATALOG_SEARCH_FIELDS, n);
}, e.prototype.filterForVendors = function(e, t) {
return i.filter(t, function(t) {
return i.includes(e, t.vendor);
});
}, e.prototype.getScrollParent = function(e) {
if (null === e || !(e instanceof Element)) return null;
var t = window.getComputedStyle(e).overflowY;
return "visible" !== t && "hidden" !== t ? e : this.getScrollParent(e.parentNode);
}, e.prototype.resizeExpansion = function(t) {
var n = this;
if ("all" !== this.ctrl.currentFilter && "other" !== this.ctrl.currentFilter && this.ctrl.currentSubFilter && this.htmlService.isWindowAboveBreakpoint(this.htmlService.WINDOW_SIZE_XS)) {
if (this.resizeRetries > e.MAX_RESIZE_RETRIES) return void (this.resizeRetries = 0);
var i = r("#" + this.ctrl.currentSubFilter), o = i.find(".services-items").outerHeight(!0);
o || (this.resizeRetries++, setTimeout(function() {
return n.resizeExpansion(t);
}, 50)), t ? (r(".services-sub-category").removeAttr("style").removeClass("items-shown"), i.css("margin-bottom", this.previousSubCategoryHeight + "px"), i.animate({
"margin-bottom": o
}, 100, "swing", function() {
i.addClass("items-shown");
})) : (i.css("margin-bottom", o + "px"), i.addClass("items-shown")), this.previousSubCategoryHeight = o;
} else r(".services-sub-category").removeAttr("style").removeClass("items-shown"), this.previousSubCategoryHeight = 0, this.resizeRetries = 0;
this.$scope.$evalAsync(function() {
n.scrollParent = n.getScrollParent(n.element), n.htmlService.isWindowAboveBreakpoint(n.htmlService.WINDOW_SIZE_SM) && n.scrollParent ? n.ctrl.viewStyle = {
"min-height": "calc(100vh - " + n.scrollParent.getBoundingClientRect().top + "px)"
} : n.ctrl.viewStyle = void 0;
});
}, e.prototype.updateActiveCardStyles = function() {
var e = this;
this.$timeout(function() {
return e.resizeExpansion(!0);
});
}, e;
}();
o.$inject = [ "Constants", "Catalog", "KeywordService", "Logger", "HTMLService", "$element", "$filter", "$rootScope", "$scope", "$timeout" ], o.MAX_RESIZE_RETRIES = 20, t.ServicesViewController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n, o, a, s, l, c) {
var u = this;
this.ctrl = this, this.configChanged = !0, this.secrets = [], this.clearValidityWatcher = function() {
u.validityWatcher && (u.validityWatcher(), u.validityWatcher = void 0), u.ctrl.reviewStep.allowed = !1;
}, this.showPlan = function() {
u.clearValidityWatcher(), u.ctrl.configPageShown = !1, u.configStep.hidden ? u.ctrl.nextTitle = "Update" : u.ctrl.nextTitle = "Next >", u.planStep.valid = u.ctrl.selectedPlan !== u.originalPlan || !u.configStep.hidden;
}, this.showConfig = function() {
u.clearValidityWatcher(), u.ctrl.configPageShown = !0, u.configStep.valid = r.get(u.ctrl, "forms.orderConfigureForm.$valid") && u.configChanged, u.reviewStep.allowed = u.configStep.valid, u.validityWatcher = u.$scope.$watch("$ctrl.forms.orderConfigureForm.$valid", function(e, t) {
u.configStep.valid = e && u.configChanged, u.reviewStep.allowed = u.configStep.valid;
}), u.dataWatcher && u.dataWatcher(), u.dataWatcher = u.$scope.$watch(function() {
return u.ctrl.parameterData;
}, function() {
u.configChanged = !i.equals(u.getParameters(u.ctrl.parameterData), u.origParameterData) || u.ctrl.selectedPlan !== u.originalPlan, u.configStep.valid = r.get(u.ctrl, "forms.orderConfigureForm.$valid") && u.configChanged;
}, !0), u.ctrl.nextTitle = "Update";
}, this.showResults = function() {
u.clearValidityWatcher(), u.ctrl.configPageShown = !1, u.ctrl.nextTitle = "Close", u.ctrl.wizardDone = !0, u.updateServiceConfig();
}, this.selectPlan = function(e) {
u.ctrl.selectedPlan = e, r.get(e, "metadata.name") === r.get(u.ctrl.serviceInstance, "spec.clusterServicePlanRef.name") ? u.ctrl.parameterData = i.copy(u.origParameterData) : u.ctrl.parameterData = {}, u.updateParameterSchema(e), u.configChanged = !i.equals(u.ctrl.parameterData, u.origParameterData) || u.ctrl.selectedPlan !== u.originalPlan, u.configStep.valid = r.get(u.ctrl, "forms.orderConfigureForm.$valid") && u.configChanged;
}, this.updateServiceConfig = function() {
u.ctrl.orderComplete = !1, u.ctrl.error = null;
var e = u.getParameters(u.ctrl.parameterData), t = r.get(u.ctrl.serviceInstance, "spec.parameters"), n = r.map(t, function(e, t) {
return [ t ];
}), o = r.pick(e, n), a = r.omit(e, n), s = i.copy(u.ctrl.serviceInstance);
r.get(s, "spec.clusterServicePlanExternalName") !== r.get(u.ctrl.selectedPlan, "spec.externalName") && (r.unset(s, "spec.clusterServicePlanRef"), r.set(s, "spec.clusterServicePlanExternalName", r.get(u.ctrl.selectedPlan, "spec.externalName"))), i.equals(o, t) || r.set(s, "spec.parameters", o);
var l = {};
if (r.each(u.secrets, function(t) {
var n = JSON.parse(u.SecretsService.decodeSecretData(t.data).parameters), o = r.map(n, function(e, t) {
return [ t ];
}), c = r.pick(e, o);
a = r.omit(a, o), i.equals(c, n) || (i.extend(l, c), s.spec.parametersFrom = r.reject(s.spec.parametersFrom, {
secretKeyRef: {
name: t.metadata.name
}
}));
}), i.extend(l, a), r.isEmpty(l)) u.updateServiceInstance(s); else {
var c = u.BindingService.generateSecretName(r.get(u.ctrl.serviceClass, "spec.externalName"));
s.spec.parametersFrom.push({
secretKeyRef: {
name: c,
key: "parameters"
}
});
var d = u.BindingService.makeParametersSecret(c, l, s), h = u.APIService.getPreferredVersion("secrets");
u.DataService.create(h, null, d, u.context).then(function() {
u.updateServiceInstance(s);
}, function(e) {
u.ctrl.error = r.get(e, "data");
});
}
}, this.$scope = e, this.$filter = t, this.$q = n, this.APIService = o, this.BindingService = a, this.DataService = s, this.Logger = l, this.SecretsService = c;
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.parameterData = {}, this.ctrl.forms = {}, this.ctrl.configStepValid = !0, this.ctrl.wizardDone = !1, this.ctrl.orderComplete = !1, this.ctrl.error = null, this.planStep = {
id: "plans",
label: "Plan",
view: "update-service/update-service-plans.html",
hidden: !r.get(this.ctrl.serviceClass, "spec.planUpdatable", !1) || r.size(this.ctrl.servicePlans) < 2,
allowed: !0,
valid: !0,
allowClickNav: !0,
onShow: this.showPlan
}, this.configStep = {
label: "Configuration",
id: "configure",
view: "update-service/update-service-configure.html",
hidden: !1,
allowed: !0,
valid: !1,
allowClickNav: !0,
onShow: this.showConfig
}, this.reviewStep = {
label: "Results",
id: "results",
view: "update-service/update-service-results.html",
hidden: !1,
allowed: !1,
valid: !0,
prevEnabled: !1,
allowClickNav: !1,
onShow: this.showResults
}, this.ctrl.steps = [ this.planStep, this.configStep, this.reviewStep ], this.ctrl.orderedPlans = r.orderBy(this.ctrl.servicePlans, [ "spec.externalMetadata.displayName", "metadata.name" ]), this.configChanged = !1, this.ctrl.displayName = this.$filter("serviceInstanceDisplayName")(this.ctrl.serviceInstance, this.ctrl.serviceClass), this.ctrl.serviceName = r.get(this.ctrl.serviceInstance, "metadata.name"), this.planStep.hidden && (this.ctrl.hideBackButton = !0), this.context = {
namespace: r.get(this.ctrl.serviceInstance, "metadata.namespace")
}, this.origParameterData = i.copy(r.get(this.ctrl.serviceInstance, "spec.parameters", {}));
var t = [];
r.each(r.get(this.ctrl.serviceInstance, "spec.parametersFrom"), function(n) {
var i = e.APIService.getPreferredVersion("secrets"), o = r.get(n, "secretKeyRef.name"), a = r.find(e.secrets, function(e) {
return r.get(e, "metadata.name") === o;
});
a ? e.addParametersFromSecret(a, n) : t.push(e.DataService.get(i, o, e.context).then(function(t) {
e.addParametersFromSecret(t, n), e.secrets.push(t);
}));
}), this.$q.all(t).then(function() {
e.originalPlan = r.find(e.ctrl.orderedPlans, function(t) {
return r.get(t, "metadata.name") === r.get(e.ctrl.serviceInstance, "spec.clusterServicePlanRef.name");
}), e.selectPlan(e.originalPlan);
});
}, e.prototype.$onDestroy = function() {
this.clearValidityWatcher(), this.dataWatcher && this.dataWatcher(), this.progressWatcher && this.DataService.unwatch(this.progressWatcher);
}, e.prototype.closePanel = function() {
i.isFunction(this.ctrl.handleClose) && this.ctrl.handleClose();
}, e.prototype.updateParameterSchema = function(e) {
this.ctrl.parameterSchema = r.get(e, "spec.instanceUpdateParameterSchema"), this.ctrl.parameterFormDefinition = r.get(e, "spec.externalMetadata.schemas.service_instance.update.openshift_form_definition");
var t = r.get(this.ctrl.parameterSchema, "properties");
this.configStep.hidden = r.size(t) < 1, this.configStep.hidden ? this.ctrl.nextTitle = "Update" : this.ctrl.nextTitle = "Next >", this.planStep.valid = this.ctrl.selectedPlan !== this.originalPlan || !this.configStep.hidden;
}, e.prototype.getParameters = function(e) {
return r.omitBy(e, function(e) {
return "" === e;
});
}, e.prototype.addParametersFromSecret = function(e, t) {
try {
var n = r.get(t, "secretKeyRef.key"), o = JSON.parse(this.SecretsService.decodeSecretData(e.data)[n]);
i.extend(this.origParameterData, o), this.originalParameters = this.getParameters(this.origParameterData);
} catch (e) {
this.Logger.warn("Unable to load parameters from secret " + r.get(t, "secretKeyRef.name"), e);
}
}, e.prototype.updateServiceInstance = function(e) {
var t = this, n = this.APIService.getPreferredVersion("serviceinstances"), i = this.$filter("isServiceInstanceReady"), o = this.$filter("isServiceInstanceFailed"), a = this.$filter("serviceInstanceFailedMessage");
e.spec.updateRequests = e.spec.updateRequests ? e.spec.updateRequests + 1 : 1, this.DataService.update(n, r.get(this.ctrl.serviceInstance, "metadata.name"), e, this.context).then(function() {
t.progressWatcher = t.DataService.watchObject(n, r.get(t.ctrl.serviceInstance, "metadata.name"), t.context, function(e) {
t.ctrl.orderComplete = i(e), o(e) && (t.ctrl.error = a(e));
});
}, function(e) {
t.ctrl.error = r.get(e, "data");
});
}, e;
}();
o.$inject = [ "$scope", "$filter", "$q", "APIService", "BindingService", "DataService", "Logger", "SecretsService" ], t.UpdateServiceController = o;
}, function(e, t) {
e.exports = URI;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1);
n(3), n(36);
var r = n(37), o = n(38), a = n(39), s = n(40), l = n(24), c = n(25), u = n(41), d = n(26), h = n(27), f = n(28), p = n(29), g = n(30), m = n(31), v = n(32), y = n(33), b = n(34), _ = n(35), w = n(42), C = n(23);
t.webCatalog = "webCatalog", i.module(t.webCatalog, [ "patternfly", "ngAnimate", "ui.bootstrap", "angularMoment", "ui.select", "schemaForm" ]).service("BuilderAppService", s.BuilderAppService).service("Catalog", u.CatalogService).service("RecentlyViewedServiceItems", w.RecentlyViewedServiceItems).filter("escapeRegExp", r.escapeRegExpFilter).filter("projectUrl", o.projectUrlFilter).filter("secretUrl", a.secretUrlFilter).component("catalogParameters", l.catalogParameters).component("catalogSearch", c.catalogSearch).component("createFromBuilder", d.createFromBuilder).component("landingPage", h.landingPage).component("orderService", f.orderService).component("overlayPanel", p.overlayPanel).component("projectsSummary", g.projectsSummary).component("saasList", m.saasList).component("selectPlan", v.selectPlan).component("selectProject", y.selectProject).component("servicesView", b.servicesView).component("updateService", _.updateService).component("catalogFilter", C.catalogFilter).run([ "$templateCache", function(e) {
e.put("catalog-search/catalog-search-result.html", n(4)), e.put("create-from-builder/create-from-builder-info.html", n(7)), e.put("create-from-builder/create-from-builder-configure.html", n(6)), e.put("create-from-builder/create-from-builder-bind.html", n(5)), e.put("create-from-builder/create-from-builder-results.html", n(8)), e.put("order-service/order-service-info.html", n(12)), e.put("order-service/order-service-plans.html", n(13)), e.put("order-service/order-service-configure.html", n(11)), e.put("order-service/order-service-bind.html", n(10)), e.put("order-service/order-service-bind-parameters.html", n(9)), e.put("order-service/order-service-results.html", n(14)), e.put("update-service/update-service-plans.html", n(16)), e.put("update-service/update-service-configure.html", n(15)), e.put("update-service/update-service-results.html", n(17)), e.put("decorators/bootstrap/array.html", n(18)), e.put("decorators/bootstrap/checkbox.html", n(19)), e.put("decorators/bootstrap/checkboxes.html", n(20)), 
e.put("decorators/bootstrap/default.html", n(21)), e.put("decorators/bootstrap/select.html", n(22));
} ]);
} ], [ 70 ]);