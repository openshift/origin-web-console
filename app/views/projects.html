<default-header class="top-header"></default-header>
<div class="wrap no-sidebar">
  <div class="sidebar-left collapse navbar-collapse navbar-collapse-2">
    <navbar-utility-mobile></navbar-utility-mobile>
  </div>
  <div class="middle">
    <!-- Middle section -->
    <div class="middle-section surface-shaded">
      <div class="middle-container has-scroll">
        <div class="middle-content">

          <div ng-if="!showGetStarted" class="container surface-shaded"> <!-- Safari needs surface-shaded at mobile -->
            <div ng-if="(projects | hashSize) === 0" class="text-muted" style="margin-top: 50px;" translate>Loading...</div>
            <div ng-if="(projects | hashSize) !== 0" class="gutter-top">
              <h1 style="display: inline-block;" translate>Projects</h1>
              <a ng-if="canCreate" href="create-project" style="margin-top: 10px;" class="btn btn-lg btn-primary pull-right" translate>New Project</a>
              <alerts alerts="alerts"></alerts>
              <div ng-repeat="project in projects | orderByDisplayName track by project.metadata.name"
                   class="animate-repeat">
                <div row flex cross-axis="center" class="tile tile-project tile-click tile-flex">
                  <div flex class="project-summary">
                    <h2 class="project truncate">
                      <a class="tile-target" href="project/{{project.metadata.name}}">{{(project | uniqueDisplayName : projects)}}</a>
                      <span ng-if="project.status.phase != 'Active'" data-toggle="tooltip" data-original-title="{{'This project has been marked for deletion.'|translate}}" class="pficon pficon-warning-triangle-o" style="cursor: help; vertical-align: top; margin-left: 5px;"></span>
                    </h2>
                    <div class="muted" style="margin-top: -5px;" ng-if="project | description">
                      <truncate-long-text content="project | description" limit="512" use-word-boundary="true"></truncate-long-text>
                    </div>
                  </div>
                  <div row flex main-axis="end" class="project-actions" ng-if="project.status.phase == 'Active'">
                    <span class="fa-lg mar-right-lg">
                      <a ng-href="project/{{project.metadata.name}}/edit" class="action-button">
                        <i class="fa fa-pencil" aria-hidden="true"></i>
                        <span class="sr-only">Edit Project</span>
                      </a>
                    </span>
                    <delete-link
                      class="fa-lg"
                      kind="Project"
                      resource-name="{{project.metadata.name}}"
                      project-name="{{project.metadata.name}}"
                      display-name="{{(project | displayName)}}"
                      type-name-to-confirm="true"
                      stay-on-current-page="true"
                      alerts="alerts"
                      button-only>
                    </delete-link>
                  </div>
                </div>
              </div>
              <div ng-if="canCreate === false" style="margin-top: 10px;">
                <span ng-if="!newProjectMessage"><translate>A cluster admin can create a project for you by running the command</translate>
                  <code>oadm new-project &lt;projectname&gt; --admin={{user.metadata.name || '&lt;YourUsername&gt;'}}</code></span>
                <span ng-if="newProjectMessage" ng-bind-html="newProjectMessage | linky" style="white-space:pre;"></span>
              </div>
              <div style="margin-top: 10px;">
                <translate>A project admin can add you to a role on a project by running the command</translate>
                <code>oc policy add-role-to-user &lt;role&gt; {{user.metadata.name || '&lt;YourUsername&gt;'}} -n &lt;projectname&gt;</code>
              </div>
            </div>
          </div>

          <div ng-if="showGetStarted">
            <div class="container gutter-top" ng-if="(alerts | hashSize) > 0">
              <alerts alerts="alerts"></alerts>
            </div>
            <div class="empty-state-message empty-state-full-page text-center">
              <h1 translate>Welcome to OpenShift.</h1>

              <p>
                <translate>OpenShift helps you quickly develop, host, and scale applications.</translate><br>
                <span ng-if="canCreate" translate>Create a project for your application.</span>
              </p>

              <a ng-if="canCreate" href="create-project" class="btn btn-lg btn-primary" translate>New Project</a>

              <p translate>To learn more, visit the OpenShift <a target="_blank" ng-href="{{'' | helpLink}}">documentation</a>.</p>

              <p ng-if="canCreate === false">
                <span ng-if="!newProjectMessage"><translate>A cluster admin can create a project for you by running the command</translate><br>
                  <code>oadm new-project &lt;projectname&gt; --admin={{user.metadata.name || '&lt;YourUsername&gt;'}}</code></span>
                <span ng-if="newProjectMessage" ng-bind-html="newProjectMessage | linky" style="white-space:pre;"></span>
              </p>

            </div>
          </div>

        </div><!-- /middle-content -->
      </div><!-- /middle-container -->
    </div><!-- /middle-section -->
  </div><!-- /middle -->
</div><!-- /wrap -->
