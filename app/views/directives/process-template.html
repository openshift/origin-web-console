<fieldset ng-disabled="disableInputs">
  <form name="$ctrl.templateForm">
    <template-options is-dialog="$ctrl.isDialog" parameters="$ctrl.template.parameters" expand="true" can-toggle="false">
      <select-project selected-project="$ctrl.selectedProject" name-taken="$ctrl.projectNameTaken" stacked-form="!$ctrl.isDialog"></select-project>
    </template-options>
    <!-- TODO: Also support advanced options for new projects. -->
    <div ng-if="$ctrl.selectedProject.metadata.uid" class="row">
      <div ng-if="$ctrl.selectedProject.metadata.uid" class="col-sm-8 col-sm-offset-4">
        <!-- TODO: Preserve entered form values. -->
        To set optional parameters or labels, view
        <a ng-href="{{$ctrl.template | createFromTemplateURL : $ctrl.selectedProject.metadata.name}}">advanced options</a>.
      </div>
    </div>
    <label-editor
        ng-if="!$ctrl.isDialog"
        labels="$ctrl.labels"
        system-labels="$ctrl.systemLabels"
        expand="true"
        can-toggle="false"
        help-text="Each label is applied to each created resource.">
    </label-editor>
    <alerts alerts="$ctrl.precheckAlerts"></alerts>
    <div ng-if="!$ctrl.isDialog" class="buttons gutter-top-bottom">
      <button class="btn btn-primary btn-lg" ng-click="$ctrl.createFromTemplate()" ng-disabled="$ctrl.templateForm.$invalid || $ctrl.disableInputs">Create</button>
      <a class="btn btn-default btn-lg" href="{{$ctrl.project | projectOverviewURL}}">Cancel</a>
    </div>
  </form>
</fieldset>
